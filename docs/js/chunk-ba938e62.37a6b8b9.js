(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ba938e62"],{"2c60":function(e,t,a){"use strict";var r=a("62ad"),o=a.n(r);o.a},"510b":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-validate-mode"},[a("pl-alert",{attrs:{status:"success",title:"edit组件"}},[e._v(" 以下简称 edit组件 为 “使用了useEdit组合函数进行控制的组件”，原生控件以及其他组件库的组件可以通过useEdit 函数封装变成edit组件； ")]),a("demo-row",{attrs:{title:"默认模式：form"}},[a("pl-form",{ref:"formMode",attrs:{contentWidth:"400px"},model:{value:e.form1.formData,callback:function(t){e.$set(e.form1,"formData",t)},expression:"form1.formData"}},[a("pl-form-item",{attrs:{label:"标准文本框：必填",field:"input",required:""}},[a("pl-input",{model:{value:e.form1.formData.input,callback:function(t){e.$set(e.form1.formData,"input",t)},expression:"form1.formData.input"}})],1),a("pl-form-item",{attrs:{label:"标准下拉框：必填",field:"select",required:""}},[a("pl-select",{model:{value:e.form1.formData.select,callback:function(t){e.$set(e.form1.formData,"select",t)},expression:"form1.formData.select"}},e._l(e.levelData,(function(e){return a("pl-select-option",{key:e.code,attrs:{label:e.levelName,val:e.code}})})),1)],1),a("pl-form-item",{attrs:{label:"自定义组件：必填",field:"custom",required:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form1.formData.custom,expression:"form1.formData.custom"}],domProps:{value:e.form1.formData.custom},on:{input:function(t){t.target.composing||e.$set(e.form1.formData,"custom",t.target.value)}}})]),a("pl-form-item",{attrs:{label:" "}},[a("pl-button",{attrs:{label:"校验"},on:{click:e.validateFormMode}})],1)],1),a("pl-alert",{attrs:{title:"validateMode = form"}},[e._v(" 这种模式为表单模式，通过深度 watch model绑定的表单对象，来判断字段变化，然后自动触发 change 校验，这种模式的优点是， 能够兼容所有的双向绑定表单组件，当然包括原生的表单控件。缺点是需要深度 watch表单对象，在表格中这种方式性能比较低。所以在表格中不采取这种方式 触发change校验； ")])],1),a("demo-row",{attrs:{title:"表格模式：table"}},[a("pl-form",{ref:"tableMode",attrs:{contentWidth:"400px",validateMode:"table"},model:{value:e.form2.formData,callback:function(t){e.$set(e.form2,"formData",t)},expression:"form2.formData"}},[a("pl-form-item",{attrs:{label:"标准文本框：必填",field:"input",required:""}},[a("pl-input",{model:{value:e.form2.formData.input,callback:function(t){e.$set(e.form2.formData,"input",t)},expression:"form2.formData.input"}})],1),a("pl-form-item",{attrs:{label:"标准下拉框：必填",field:"select",required:""}},[a("pl-select",{model:{value:e.form2.formData.select,callback:function(t){e.$set(e.form2.formData,"select",t)},expression:"form2.formData.select"}},e._l(e.levelData,(function(e){return a("pl-select-option",{key:e.code,attrs:{label:e.levelName,val:e.code}})})),1)],1),a("pl-form-item",{attrs:{label:"自定义组件：必填",field:"custom",required:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form2.formData.custom,expression:"form2.formData.custom"}],domProps:{value:e.form2.formData.custom},on:{input:function(t){t.target.composing||e.$set(e.form2.formData,"custom",t.target.value)}}})]),a("pl-form-item",{attrs:{label:" "}},[a("pl-button",{attrs:{label:"校验"},on:{click:e.validateTableMode}})],1)],1),a("pl-alert",{attrs:{title:"validateMode = table"}},[e._v(" 这种模式为表格模式，通过监听form-item中，edit组件的change事件，来触发change校验。这种模式的优点是， 能够精确地知道那个 form-item 的组件发生值绑定变化从而触发校验，缺点是，不兼容edit组件以外的其他组件，包括其他组件库的组件以及原生控件。 ")]),a("pl-alert",{attrs:{status:"info"}},[e._v(" 还有一个变化是，如果一个form-item的field是一个数组，就是校验多个字段的意思，当其中一个字段的值变化了，那么form模式下只会触发这个变化的字段 的相关校验，而table模式下，会触发form-item上field中所有字段的校验； ")]),a("pl-alert",{attrs:{status:"warn"}},[e._v(" 无论何种模式下，blur校验只能是edit组件有效。 ")]),a("pl-alert",{attrs:{status:"success"}},[e._v(" 当调用 form 组件的 validate函数时，会触发所有校验，这个与是否为edit组件无关。 ")])],1)],1)},o=[],l=(a("96cf"),a("1da1")),m={name:"form-validate-mode",data:function(){return{form1:{formData:{}},form2:{formData:{}},levelData:[{levelName:"一级",code:"1"},{levelName:"二级",code:"2"},{levelName:"三级",code:"3"}]}},methods:{validateFormMode:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.formMode.methods.validate();case 2:a=t.sent,a?e.$refs.formMode.methods.showError(a):e.$message.success("校验通过");case 4:case"end":return t.stop()}}),t)})))()},validateTableMode:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.tableMode.methods.validate();case 2:a=t.sent,a?e.$refs.tableMode.methods.showError(a):e.$message.success("校验通过");case 4:case"end":return t.stop()}}),t)})))()}}},s=m,i=(a("2c60"),a("2877")),n=Object(i["a"])(s,r,o,!1,null,null,null);t["default"]=n.exports},"62ad":function(e,t,a){}}]);
//# sourceMappingURL=chunk-ba938e62.37a6b8b9.js.map