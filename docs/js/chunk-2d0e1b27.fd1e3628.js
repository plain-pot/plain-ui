(window["webpackJsonp_main-application_project"]=window["webpackJsonp_main-application_project"]||[]).push([["chunk-2d0e1b27"],{"7c16":function(e,t,n){"use strict";n.r(t);var c=n("7a23"),r={class:"demo-image-service"},i=Object(c["j"])("获取单个文件"),a=Object(c["j"])("获取多个文件"),u=Object(c["j"])("按照尺寸压缩"),o=Object(c["j"])("按照容量压缩");function s(e,t,n,s,l,p){var m=Object(c["B"])("pl-button"),f=Object(c["B"])("demo-row");return Object(c["w"])(),Object(c["g"])("div",r,[Object(c["k"])(f,{title:"获取图片文件"},{default:Object(c["J"])((function(){return[Object(c["k"])(m,{onClick:t[1]||(t[1]=function(e){return p.getImageFile()})},{default:Object(c["J"])((function(){return[i]})),_:1}),Object(c["k"])(m,{onClick:t[2]||(t[2]=function(e){return p.getImageFile(!0)})},{default:Object(c["J"])((function(){return[a]})),_:1})]})),_:1}),Object(c["k"])(f,{title:"压缩图片"},{default:Object(c["J"])((function(){return[Object(c["k"])(m,{onClick:p.testMeasureCompress},{default:Object(c["J"])((function(){return[u]})),_:1},8,["onClick"]),Object(c["k"])(m,{onClick:p.testSizeCompress},{default:Object(c["J"])((function(){return[o]})),_:1},8,["onClick"]),l.compressData.before?(Object(c["w"])(),Object(c["g"])("img",{key:0,src:l.compressData.before},null,8,["src"])):Object(c["h"])("",!0),l.compressData.after?(Object(c["w"])(),Object(c["g"])("img",{key:1,src:l.compressData.after},null,8,["src"])):Object(c["h"])("",!0)]})),_:1}),Object(c["k"])(f,{title:"预览图片"},{default:Object(c["J"])((function(){return[Object(c["k"])(f,{title:"预览单张图片"},{default:Object(c["J"])((function(){return[Object(c["k"])("img",{src:"http://pic2.sc.chinaz.com/Files/pic/pic9/201908/hpic1329_s.jpg",onClick:t[3]||(t[3]=function(e){return p.previewSingleImage("http://pic2.sc.chinaz.com/Files/pic/pic9/201908/hpic1329_s.jpg")})})]})),_:1}),Object(c["k"])(f,{title:"预览多张图片"},{default:Object(c["J"])((function(){return[(Object(c["w"])(!0),Object(c["g"])(c["a"],null,Object(c["A"])(l.urls,(function(e,t){return Object(c["w"])(),Object(c["g"])("img",{src:e,key:t,onClick:function(e){return p.previewMultipleImage(l.urls,t)}},null,8,["src","onClick"])})),128))]})),_:1})]})),_:1})])}n("a15b"),n("d81d"),n("b0c0"),n("d3b7"),n("25f0"),n("96cf");var l=n("1da1"),p=n("ffb4");function m(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!Object(c["o"])(e)}var f={name:"image-service",data:function(){return{compressData:{before:null,after:null},urls:["http://pic2.sc.chinaz.com/Files/pic/pic9/201908/hpic1329_s.jpg","http://pic2.sc.chinaz.com/Files/pic/pic9/201908/hpic1327_s.jpg","http://pic2.sc.chinaz.com/Files/pic/pic9/201908/hpic1328_s.jpg","http://pic2.sc.chinaz.com/Files/pic/pic9/201908/bpic13052_s.jpg","error.jpg",null]}},methods:{getImageFile:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var c,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,p["c"].$image.choose(e);case 2:c=n.sent,r=Array.isArray(c)?c:[c],t.$notice(r.map((function(e){return e.name})).join(","));case 5:case"end":return n.stop()}}),n)})))()},testMeasureCompress:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=e.$$file,t.next=3,p["c"].$image.choose();case 3:return t.t1=t.sent,t.next=6,t.t0.readAsDataURL.call(t.t0,t.t1);case 6:return n=t.sent,t.next=9,new Promise((function(t){var n={maxHeight:null,maxWidth:null},r=e.$dialog({confirmButton:!0,cancelButton:!0,closeOnConfirm:!1,render:function(){var e,t;return Object(c["k"])("div",null,[Object(c["k"])(Object(c["B"])("pl-form"),{centerWhenSingleColumn:!0},{default:function(){return[Object(c["k"])(Object(c["B"])("pl-form-item"),{label:"最大高度"},m(e=Object(c["k"])(Object(c["B"])("pl-number"),{modelValue:n.maxHeight,"onUpdate:modelValue":function(e){return n.maxHeight=e}},null))?e:{default:function(){return[e]}}),Object(c["k"])(Object(c["B"])("pl-form-item"),{label:"最大宽度"},m(t=Object(c["k"])(Object(c["B"])("pl-number"),{modelValue:n.maxWidth,"onUpdate:modelValue":function(e){return n.maxWidth=e}},null))?t:{default:function(){return[t]}})]}})])},onConfirm:function(){if(!n.maxHeight&&!n.maxWidth)return e.$message.error("最大宽度与最大高度不能同时为空！");t(n),r.close()}})}));case 9:return r=t.sent,t.next=12,p["c"].$image.compress(n,r);case 12:i=t.sent,e.compressData={before:null,after:i};case 14:case"end":return t.stop()}}),t)})))()},testSizeCompress:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,c,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=e.$$file,t.next=3,p["c"].$image.choose();case 3:return t.t1=t.sent,t.next=6,t.t0.readAsDataURL.call(t.t0,t.t1);case 6:return n=t.sent,t.next=9,new Promise((function(t){e.$dialog({title:"最大存储（单位MB）",editType:"input",onConfirm:t,confirmButton:!0})}));case 9:return c=t.sent,t.next=12,p["c"].$image.compress(n,{maxSize:c});case 12:r=t.sent,e.compressData={before:null,after:r};case 14:case"end":return t.stop()}}),t)})))()},previewSingleImage:function(e){p["c"].$image.preview(e)},previewMultipleImage:function(e,t){p["c"].$image.preview(e,t)}}};f.render=s;t["default"]=f}}]);
//# sourceMappingURL=chunk-2d0e1b27.fd1e3628.js.map