{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/utils/PlainDate.ts","webpack:///./src/packages/time/servce/time-service.tsx","webpack:///./src/packages/popper/refershPopperReference.tsx","webpack:///./src/packages/button/button.tsx","webpack:///./src/packages/button/index.ts","webpack:///./story/pages lazy ^\\.\\/.*\\.vue$ namespace object","webpack:///./src/use/useStyle.ts","webpack:///./src/use/useEdit.ts","webpack:///./src/utils/createEventListener.ts","webpack:///./src/packages/form/form.validate.tsx","webpack:///./src/utils/nextIndex.ts","webpack:///./src/use/useModel.ts","webpack:///./story/app.vue?4d35","webpack:///./src/packages/notice-service/notice.tsx","webpack:///./src/packages/notice-service/notice-container.tsx","webpack:///./src/packages/notice-service/index.ts","webpack:///./src/packages/notice-service/notice-manager.tsx","webpack:///./src/packages/popper/edit/createPopperServiceComponent.tsx","webpack:///./src/packages/popper/edit/createAgentGetter.tsx","webpack:///./src/utils/installPlugin.ts","webpack:///./src/packages/icon/icon.tsx","webpack:///./src/packages/icon/index.ts","webpack:///./src/packages/button-group/button-group.tsx","webpack:///./src/utils/getServiceWithoutContext.tsx","webpack:///./src/use/useNumber.ts","webpack:///./src/packages/color-picker/sub/opacity.png","webpack:///./src/use/useRefs.ts","webpack:///./src/packages/list/list.tsx","webpack:///./src/packages/list/index.ts","webpack:///./story/app.vue","webpack:///./story/app/app-menu.vue","webpack:///./story/menu.ts","webpack:///./story/app/app-navigator.tsx","webpack:///./story/app/app-menu.vue?b487","webpack:///./story/components/demo-row.tsx","webpack:///./story/components/demo-row-controller.tsx","webpack:///./story/app/app-navigator-page.tsx","webpack:///./story/app.vue?c937","webpack:///./story/components/demo-line.tsx","webpack:///./story/components/demo-child.vue","webpack:///./story/components/demo-child.vue?d459","webpack:///./story/components/index.ts","webpack:///./story/main.tsx","webpack:///./src/use/useFunctionWrapper.ts","webpack:///./story/app/app-menu.vue?58ee","webpack:///./src/utils/getSlotExists.ts","webpack:///./src/packages/root/createDefaultManager.tsx","webpack:///./src/use/useEvent.ts","webpack:///./src/utils/renderNothing.ts","webpack:///./src/use/designComponent.ts","webpack:///./src/packages/item/item.tsx","webpack:///./src/packages/item/index.ts","webpack:///./src/packages/root/root.tsx","webpack:///./src/packages/root/index.ts","webpack:///./src/utils/constant.ts","webpack:///./src/use/useSlots.ts","webpack:///./src/utils/createComponentPlugin.ts","webpack:///./src/packages/root/createDefaultService.tsx","webpack:///./src/packages/form/form.utils.tsx","webpack:///./src/packages/form/form.tsx","webpack:///./src/utils/createCounter.ts","webpack:///./src/packages/date/date.utils.tsx","webpack:///./src/use/useCollect.ts","webpack:///./src/utils/createError.ts","webpack:///./src/use/useRefList.ts","webpack:///./src/use/useProps.ts","webpack:///./src/plugins/Event.ts","webpack:///./src/use/useStyles.ts","webpack:///./src/utils/toArray.ts","webpack:///./src/packages/root/registryRootService.ts","webpack:///./src/packages/form/form-item.tsx","webpack:///./src/packages/icon/icons lazy ^\\.\\/.*\\.json$ namespace object","webpack:///./src/packages/click-wave/click-wave-directive.tsx","webpack:///./src/use/useScopedSlots.ts","webpack:///./src/use/useClasses.ts","webpack:///./src/packages/keyboard/index.ts","webpack:///./src/packages/button-group/index.ts","webpack:///./src/packages/input/input.tsx","webpack:///./src/packages/input/input-inner-tags.tsx","webpack:///./src/packages/input/index.ts","webpack:///./src/packages/loading/loading.tsx","webpack:///./src/packages/loading/index.ts","webpack:///./src/packages/loading-mask/loading-mask.tsx","webpack:///./src/packages/loading-mask/index.tsx","webpack:///./src/packages/checkbox-inner/checkbox-inner.tsx","webpack:///./src/packages/checkbox-inner/index.ts","webpack:///./src/packages/checkbox-group/checkbox-group.tsx","webpack:///./src/packages/checkbox/checkbox.tsx","webpack:///./src/packages/checkbox/index.ts","webpack:///./src/packages/checkbox-group/index.ts","webpack:///./src/packages/message/message.tsx","webpack:///./src/packages/message/message-container.tsx","webpack:///./src/packages/message/index.ts","webpack:///./src/packages/message/message-manager.tsx","webpack:///./src/packages/grid/row.tsx","webpack:///./src/packages/grid/col.tsx","webpack:///./src/packages/grid/index.ts","webpack:///./src/packages/radio-inner/radio-inner.tsx","webpack:///./src/packages/radio-inner/index.ts","webpack:///./src/packages/radio-group/radio-group.tsx","webpack:///./src/packages/radio-group/index.ts","webpack:///./src/packages/radio/radio.tsx","webpack:///./src/packages/radio/index.ts","webpack:///./src/packages/dialog/dialog.tsx","webpack:///./src/packages/dialog-service/index.ts","webpack:///./src/packages/dialog/index.ts","webpack:///./src/packages/dialog-service/dialog-service.tsx","webpack:///./src/use/useMounted.ts","webpack:///./src/plugins/ResizeDetector.ts","webpack:///./src/utils/getElement.ts","webpack:///./src/packages/popper/trigger/BaseTrigger.ts","webpack:///./src/packages/popper/trigger/PopperTrigger.ts","webpack:///./src/packages/popper/popper.tsx","webpack:///./src/packages/popper/service/popper-service.tsx","webpack:///./src/packages/popper/service/index.tsx","webpack:///./src/packages/popper/index.ts","webpack:///./src/packages/scroll/vertical-scrollbar.tsx","webpack:///./src/packages/scroll/horizontal-scrollbar.tsx","webpack:///./src/packages/scroll/scroll.tsx","webpack:///./src/packages/scroll/index.ts","webpack:///./src/utils/newInstance.tsx","webpack:///./src/packages/loading-service/mask/loading-mask-directive.tsx","webpack:///./src/packages/loading-service/bar/index.ts","webpack:///./src/packages/loading-service/mask/loading-mask-service.tsx","webpack:///./src/packages/loading-service/mask/index.ts","webpack:///./src/packages/loading-service/bar/loading-bar-service.tsx","webpack:///./src/packages/loading-service/index.ts","webpack:///./src/packages/number/number.tsx","webpack:///./src/packages/number/index.ts","webpack:///./src/packages/toggle/toggle.tsx","webpack:///./src/packages/toggle/index.ts","webpack:///./src/packages/slider/slider.tsx","webpack:///./src/packages/slider/index.ts","webpack:///./src/packages/tag/tag.tsx","webpack:///./src/packages/tag/index.ts","webpack:///./src/packages/tag-input/tag-input.tsx","webpack:///./src/packages/tag-input/index.ts","webpack:///./src/packages/rate/rate.tsx","webpack:///./src/packages/rate/index.ts","webpack:///./src/packages/virutal-list/useVirtualList.tsx","webpack:///./src/packages/virutal-list/virtual-list.tsx","webpack:///./src/packages/virutal-list/index.ts","webpack:///./src/packages/progress/progress.utils.ts","webpack:///./src/packages/progress/progress-bar.tsx","webpack:///./src/utils/createAnimate.ts","webpack:///./src/packages/progress/progress-circle.tsx","webpack:///./src/packages/progress/progress-mini.tsx","webpack:///./src/packages/progress/index.ts","webpack:///./src/packages/pagination/pagination.tsx","webpack:///./src/packages/step/step.utils.ts","webpack:///./src/packages/pagination/index.ts","webpack:///./src/packages/badge/badge.tsx","webpack:///./src/packages/badge/index.ts","webpack:///./src/packages/step/step/step.tsx","webpack:///./src/packages/step/step/step-group.tsx","webpack:///./src/packages/step/arrow-step/arrow-step.tsx","webpack:///./src/packages/step/arrow-step/arrow-step-group.tsx","webpack:///./src/packages/triangle/triangle.tsx","webpack:///./src/packages/triangle/index.ts","webpack:///./src/packages/step/index.ts","webpack:///./src/packages/dropdown/dropdown.tsx","webpack:///./src/packages/dropdown/dropdown-menu.tsx","webpack:///./src/packages/dropdown/dropdown-group.tsx","webpack:///./src/packages/dropdown/dropdown-option.tsx","webpack:///./src/packages/dropdown/index.ts","webpack:///./src/packages/tooltip/tooltip.tsx","webpack:///./src/packages/tooltip/tooltip-directive.tsx","webpack:///./src/packages/tooltip/index.ts","webpack:///./src/packages/collapse/collapse-group.tsx","webpack:///./src/packages/collapse/collapse.tsx","webpack:///./src/packages/collapse/collapse-transition.tsx","webpack:///./src/packages/collapse/index.ts","webpack:///./src/packages/alert/alert.tsx","webpack:///./src/packages/alert/index.ts","webpack:///./src/packages/card/card.tsx","webpack:///./src/packages/card/index.ts","webpack:///./src/packages/carousel/carousel-item.tsx","webpack:///./src/packages/carousel/carousel.tsx","webpack:///./src/packages/carousel/index.ts","webpack:///./src/packages/popper/edit/useEditPopperAgent.tsx","webpack:///./src/packages/color-picker/service/color-picker.service.tsx","webpack:///./src/packages/color-picker/utils/ColorUtils.ts","webpack:///./src/packages/color-picker/utils/Color.ts","webpack:///./src/packages/color-picker/color-picker.tsx","webpack:///./src/packages/color-picker/sub/color-alpha-slider.tsx","webpack:///./src/packages/color-picker/sub/color-hue-slider.tsx","webpack:///./src/packages/color-picker/sub/color-sv-panel.tsx","webpack:///./src/packages/color-picker/color-panel.tsx","webpack:///./src/packages/color-picker/index.ts","webpack:///./src/packages/cascade/utils/CascadeNode.ts","webpack:///./src/utils/createKeyHandler.ts","webpack:///./src/utils/createFlagManager.ts","webpack:///./src/packages/cascade/utils/CascadMark.ts","webpack:///./src/packages/cascade/panel/cascade-panel.tsx","webpack:///./src/packages/tree/utils/tree-constant.ts","webpack:///./src/packages/cascade/service/cascade-service.tsx","webpack:///./src/packages/cascade/cascade.tsx","webpack:///./src/packages/cascade/index.ts","webpack:///./src/packages/tree/core/useTreeNode.ts","webpack:///./src/packages/tree/core/useTree.ts","webpack:///./src/packages/tree/utils/props.ts","webpack:///./src/packages/tree/utils/tree.utils.ts","webpack:///./src/use/useAutoScroll.ts","webpack:///./src/utils/getRowEl.ts","webpack:///./src/utils/getScrollParent.ts","webpack:///./src/packages/tree/core/useTreeDraggier.ts","webpack:///./src/packages/tree/tree.tsx","webpack:///./src/packages/tree/index.ts","webpack:///./src/packages/select/select-panel.tsx","webpack:///./src/packages/select/select-group.tsx","webpack:///./src/packages/select/select-option.tsx","webpack:///./src/packages/select/select-service.tsx","webpack:///./src/packages/select/select.tsx","webpack:///./src/packages/select/index.ts","webpack:///./src/packages/date-time-input/date-time-input.tsx","webpack:///./src/packages/date-time-input/useDateTime.ts","webpack:///./src/packages/date-time-input/index.ts","webpack:///./src/packages/time/panel/time-range-panel.tsx","webpack:///./src/packages/time/panel/time-panel.utils.ts","webpack:///./src/packages/time/panel/time-panel.tsx","webpack:///./src/packages/time/time.tsx","webpack:///./src/packages/time/panel/time-base-column.tsx","webpack:///./src/packages/time/panel/time-base-panel.tsx","webpack:///./src/packages/date/useDate.ts","webpack:///./src/packages/time/index.ts","webpack:///./src/packages/date/panel/date-base-panel-year.tsx","webpack:///./src/packages/date/panel/date-panel.tsx","webpack:///./src/packages/date/service/date-service.tsx","webpack:///./src/packages/date/date.tsx","webpack:///./src/packages/date/panel/date-base-panel-month.tsx","webpack:///./src/packages/date/panel/date-base-panel-date.tsx","webpack:///./src/packages/date/panel/date-panel-date-range.tsx","webpack:///./src/packages/date/panel/date-panel-dates.tsx","webpack:///./src/packages/date/panel/date-panel.week.tsx","webpack:///./src/packages/date/index.ts","webpack:///./src/packages/form/index.ts","webpack:///./src/packages/table/plc/core/plc-collector.tsx","webpack:///./src/packages/table/plc/core/renderColgroup.tsx","webpack:///./src/packages/table/core/head/useHeadCellResize.ts","webpack:///./src/packages/table/plc/core/render.tsx","webpack:///./src/packages/table/core/head/useColDraggier.tsx","webpack:///./src/packages/table/core/head/head-cell.tsx","webpack:///./src/packages/table/core/table.utils.ts","webpack:///./src/packages/table/core/head/head.tsx","webpack:///./src/packages/table/core/body/cell.tsx","webpack:///./src/packages/table/plc/format/utils/iteratePlcList.tsx","webpack:///./src/packages/table/core/body/row.tsx","webpack:///./src/packages/table/virtual-table.tsx","webpack:///./src/packages/table/core/body/body.tsx","webpack:///./src/packages/table/plc/core/plc.utils.tsx","webpack:///./src/packages/table/plc/format/process/copyPlcList.ts","webpack:///./src/packages/table/plc/format/process/processStateConfigAndProps.ts","webpack:///./src/packages/table/plc/format/process/processPlcSort.ts","webpack:///./src/packages/table/plc/format/process/processHeadPlcList.ts","webpack:///./src/packages/table/plc/format/process/processPlcFixed.ts","webpack:///./src/packages/table/plc/format/process/getPltCellClass.ts","webpack:///./src/packages/table/plc/format/process/processPlcClassAndStyle.ts","webpack:///./src/packages/table/plc/format/formatPlcList.tsx","webpack:///./src/packages/table/plc/format/usePlcList.tsx","webpack:///./src/packages/table/core/useBindScroll.ts","webpack:///./src/packages/table/core/useTableNode.ts","webpack:///./src/packages/table/core/useTableGetScroll.tsx","webpack:///./src/packages/table/core/useFixedShadow.ts","webpack:///./src/packages/table/table.tsx","webpack:///./src/packages/table/plc/core/plc.tsx","webpack:///./src/packages/table/plc/core/plc-group.tsx","webpack:///./src/packages/table/plc/core/designPlc.tsx","webpack:///./src/packages/table/plc/standard/plc-index.tsx","webpack:///./src/packages/table/plc/standard/plc-expand.tsx","webpack:///./src/packages/table/plc/standard/plc-check.tsx","webpack:///./src/packages/table/plc/standard/draggier/core/utils.ts","webpack:///./src/packages/table/plc/standard/draggier/core/use-list-draggier.ts","webpack:///./src/packages/table/plc/standard/draggier/core/use-list-draggier.virtual.ts","webpack:///./src/packages/table/plc/standard/draggier/core/index.tsx","webpack:///./src/packages/table/plc/standard/draggier/plc-draggier.tsx","webpack:///./src/packages/table/plc/standard/tree/plc-tree.draggier.tsx","webpack:///./src/packages/table/plc/standard/tree/plc-tree.tsx","webpack:///./src/packages/table/plc/standard/index.ts","webpack:///./src/packages/table/plc/edit/plc-input.tsx","webpack:///./src/packages/table/plc/edit/plc-number.tsx","webpack:///./src/packages/table/plc/edit/plc-date.tsx","webpack:///./src/packages/table/plc/edit/plc-color-picker.tsx","webpack:///./src/packages/table/plc/edit/plc-toggle.tsx","webpack:///./src/packages/table/plc/edit/plc-rate.tsx","webpack:///./src/packages/table/plc/edit/index.ts","webpack:///./src/packages/table/index.ts","webpack:///./src/index.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","CompareMode","WrapDate","displayFormat","valueFormat","dateObject","this","setValue","parse","String","year","isNull","defaultDate","setFullYear","month","date","setMonth","hour","setHours","minute","setMinutes","second","setSeconds","time","setTime","setHour","setMinute","setSecond","pd","setYear","Y","setMonthDate","format","displayString","valueString","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getDay","getTime","Number","dateString","timeString","Date","formatString","today","PlainDate","TimeServiceGetter","render","attrs","defaultPopperAttrs","transition","REFRESH_POPPER_REFERENCE","refreshPopperReference","provide","refresh","inject","defaultValue","freshPopperReference","log","designComponent","directives","ClickWave","props","default","label","width","icon","active","Boolean","noPadding","block","throttleClick","autoLoading","asyncHandler","Function","nativeAttrs","emits","onClick","setup","emit","useSlots","slots","useProps","NUMBER","PROMISE","propsState","useStyle","status","styleComputed","useEdit","editState","editComputed","buttonGroup","otherComputed","state","handleClick","handleClickInner","stopPropagation","editable","loading","val","throttle","trailing","immediate","classes","shape","size","disabled","styles","useStyles","style","unit","createComponentPlugin","map","webpackAsyncContext","req","ids","id","keys","StyleMode","StyleShape","StyleSize","StyleStatus","StyleProps","USE_STYLE_PROVIDER","ctx","option","parent","defaultData","assign","fillet","normal","parentData","adjust","EDIT_PROVIDER","EditProps","readonly","placeholder","customReadonly","parentEditComputed","_event","onBlur","on","off","onChange","createEventListener","config","FormValidateTrigger","FormValueType","FormValidateUtils","getValueByField","field","formData","transform","indexOf","fields","split","index","len","getMaxMessage","max","Array","isArray","getMinMessage","min","getListValue","checkRule","rule","fieldToLabel","required","options","pattern","validator","validList","f","invalidValues","filter","trim","optionList","find","v","isExist","test","validateResultList","formatFormRules","formComponentRules","formItems","resultRules","forEach","formItem","rules","item","formItemRules","formComponentRulesList","validateField","trigger","formValidateResultMap","matchField","change","validateResult","validate","validateResultMap","reduce","prev","next","validateMessage","fieldToRequired","methods","nextIndex","useModel","emitter","autoWatch","autoEmit","onClose","zIndex","close","handler","onClickCloseIcon","onMouseenter","closeTimer","onMouseleave","renderHead","title","noClose","renderContent","renderFoot","NoticeServiceDirection","horizontal","vertical","duration","refs","useRefList","padding","utils","refer","getNotice","messages","start","proxy","containers","end","getContainer","ref","container","formatOption","idCount","getNoticeService","registryRootService","getManager","service","fo","manager","$$notice","getServiceWithoutContext","install","app","mixin","beforeCreate","counter","createCounter","mergeAttrs","LISTENER_MATCH_REG","agent","defaultAttrs","args","createPopperServiceComponent","createDefaultService","isShow","isOpen","renderKey","getService","getRefer","show","hide","popperAttrs","defaultOption","serviceOption","renderAttrs","defaultRenderAttrs","onClickBody","hideOnClickBody","noContentPadding","reference","popper","createAgentGetter","scope","root","ins","popperServiceGetter","createDefaultManager","toggle","destroy","cacheMap","WeakMap","cacheKey","$root","set","installMap","installPlugin","plugins","installedPlugins","plugin","use","registry","icons","prefix","unshift","getIconVNode","iconName","registryIcon","reset","Icon","BUTTON_GROUP_PROVIDER","ButtonModeProvider","fill","parentGroup","getIns","body","mount","serviceGetter","toNumber","replace","useNumber","ret","numberState","useRefs","refName","direction","Component","class","defaultPath","menuSize","headSize","fixHeight","menus","menuGroup","children","menu","handleClickMenu","currentPath","page","complete","MENUS","getRoute","uri","decodeURIComponent","location","hash","charAt","substring","path","AppNavigator","provideRefer","pathChangeListener","setupContext","hashChangeListener","pageReadyListener","nav","route","go","encodeURIComponent","pathChange","listener","hashChange","pageReady","addEventListener","navigator","DEMO_ROW_STORAGE_KEY","DemoRowCache","str","localStorage","getItem","cache","JSON","flag","setItem","stringify","setAll","DemoRow","group","DemoRowCollector","child","demoRow","join","clickTitle","DemoRowController","changeAll","useCollect","AppNavigatorPage","Page","onPathChange","eject","components","AppMenu","watch","computed","DemoLine","labelWidth","mounted","beforeUnmount","installDemoComponent","component","warnHandler","msg","vm","trace","startsWith","warn","useFunctionWrapper","func","_use","getSlotExist","prevState","slotNames","slotName","managerName","serviceComponent","ServiceComponent","opt","getComponentEmit","emitObject","match","kebabCaseName","kebabCase","updateName","toLowerCase","useEvent","once","onUpdateModelValue","fn","clear","renderNothing","createError","expose","leftOptions","duplicateKey","Tag","managers","getManagerInstance","managerComponent","managerInstance","$attrs","attrName","attrComponent","RenderComponent","rootRef","initRoot","CheckboxStatus","DEFAULT_STATUS","primary","STATUS","white","black","success","info","names","makeReactive","exist","vnode","slot","exposeComponents","wrapExposeComponents","componentList","values","comp","FormLabelAlign","FormContentAlign","FormValidateMode","Form","disabledFields","readonlyFields","modelValue","validateMode","form","associateFields","hideRequiredAsterisk","hideValidateMessage","validateOnRulesChange","column","contentWidth","labelAlign","contentAlign","left","centerWhenSingleColumn","colon","columnGutter","onFieldValueChange","newVal","oldVal","items","FormCollector","maxLabelWidth","Math","align","right","content","col","bodyStyles","formValidate","formItemComponentRules","validateMethods","childState","autoAlert","clearValidate","showError","freezeState","oldFormData","validateHandler","onEditChange","onBlurChange","blur","onFieldChange","onFormDataChange","debounce","newFormData","deep","prefixString","count","DateView","SlideTransitionDirection","DateEmitRangeType","DatePublicProps","range","view","selectDate","datetime","firstWeekDay","defaultTime","defaultStartTime","defaultEndTime","DefaultDateFormatString","week","dates","DatePublicEmits","rangeType","onUpdateStart","onUpdateEnd","onUpdateView","DatePanelWrapper","center","DatePanelItemWrapper","Node","clickable","now","hoverStart","hover","hoverEnd","DateViewSeq","WeekUtils","getLastPdOfWeek","copy","weekDayDuration","day","offsetDay","getWeekNumber","vpd","valueLastWeekPd","setYMD","yearFirstDayLastWeekPd","num","getWeekZhcnString","useCollectInParentInner","indexMap","addItem","sort","el","from","childNodes","nodeName","display","a","b","removeItem","parentName","provideString","injectDefaultValue","isLog","reactive","FormatPropType","usePropsFormatter","types","formatTypes","FUNCTION","lastIndexOf","usePropsInner","configKeys","formatConfig","configKey","createPlainEvent","getListenMap","events","Map","hasListener","listenName","listenMap","listeners","toArray","RootServiceScope","RootController","getRoot","createService","mapKey","HTMLDivElement","invalidate","onEditBlur","staticWidth","hasLabel","isRequired","marginRight","labelStyles","scrollWidth","invalidField","ClickWaveData","wavingTimer","removeAttribute","updateOption","removeEventListener","binding","updated","unbind","useScopedSlots","scopedSlots","useClass","KEY","KeyBoardMap","16","17","18","8","9","13","27","32","46","37","38","39","40","189","187","48","49","50","51","52","53","54","55","56","57","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","112","113","114","115","116","117","118","119","120","121","122","123","getKey","keyCode","KeyboardService","listen","unbindListener","cancelActiveElement","activeElement","_onkeydown","currentTarget","ctrlKey","shiftKey","altKey","compositionKeyName","preventDefault","handleKeyboard","placeValue","minHeight","maxHeight","textarea","suffixIcon","prefixIcon","clearIcon","clearHandler","autoHeight","isFocus","inputReadonly","throttleEnter","inputInnerTabindex","onFocus","onKeydown","onEnter","onEsc","onClickInput","onClickPrefixIcon","onClickSuffixIcon","onClickClearIcon","input","HTMLInputElement","hiddenInput","HTMLTextAreaElement","handlerEnter","handleEnterInner","model","enter","clickPrefixIcon","clickSuffixIcon","clickClearIcon","clearValue","height","publicProps","onInput","esc","focus","resetTextAreaHeight","scrollHeight","hidden","prepend","append","collapseTags","InputInnerTags","HTMLElement","innerHTML","delay","outerHTML","loadingType","background","unlock","fixedPosition","inDirective","isMounted","resetParentPosition","getComputedStyle","position","checkStatus","check","minus","CheckboxGroup","itemWidth","CheckboxGroupCollector","activeChildren","innerState","checkboxForAll","allKeys","hasCheck","hasUncheck","uncheck","getCheckStatus","checkbox","exceed","changeValue","add","delete","clickCheckbox","trueValue","falseValue","checkboxGroup","checked","click","targetWidth","clickEl","MessageServiceDirection","closeMessage","getMessage","getMessageService","Row","justify","gutter","marginLeft","Col","span","order","offset","pull","className","xs","sm","md","lg","row","classList","sizeProps","obj","prop","paddingLeft","paddingRight","onClickRadio","keydown","space","DialogServiceEditType","minWidth","maxWidth","fullHeight","fullWidth","wrapperPadding","contentPadding","showHead","fullscreen","mask","dialogClass","serviceClass","cancelOnClickMask","showClose","beforeClose","destroyOnClose","confirmButton","cancelButton","closeOnConfirm","closeOnCancel","confirmButtonText","cancelButtonText","confirmOnEnter","cancelOnEsc","disabledCancel","disabledConfirm","onConfirm","onCancel","isLoading","wrapperStyles","alignItems","justifyContent","wrapperClasses","bodyClasses","hasHead","hasFoot","foot","contentStyle","keyboardEventOption","confirm","cancel","clickWrapper","contains","clickClose","open","Wrapper","OptionKeys","editValue","targetOption","editType","editReadonly","getDialogService","useMounted","callback","detect","oldWidth","oldHeight","runCallback","observer","MutationObserver","observe","childList","subtree","ceil","disconnect","ResizeDetectorDirective","__resizedetextor__","getElement","$el","nodeType","nextElementSibling","getBaseTrigger","triggerName","openModel","hoverOpenDelay","hoverCloseDelay","PopperTriggerType","getHoverTrigger","getClickTrigger","getFocusTrigger","manual","getManualTrigger","openTimer","onEnterReference","leave","onLeaveReference","onEnterPopper","onLeavePopper","onClickReference","oldTabIndex","onReferenceFocus","onReferenceBlur","init","getPopperTrigger","cb","onClickPopper","popperClass","Element","placement","arrow","boundary","sizeEqual","scrollAttrs","onUpdateOpen","onInit","onDestroy","onOpen","onShow","onHide","onMousedownPopper","comment","referenceEl","onTransitionend","referenceVNode","popperClasses","popperStyles","sizeStyles","offsetWidth","offsetHeight","fitHostWidth","onPopperContentTransitionend","bindEvents","unbindEvents","initPopper","arrowSize","shouldUpdate","shouldEmit","refreshReference","setPlacement","popperConfigChangeHandler","isUnmounted","Comment","ReferenceVNode","PopperService","getPopperService","UnmountListener","EVENT_NAME","_","uid","VerticalScrollbar","tooltip","scroll","dragState","top","clientY","scrollTop","contentHeight","hostHeight","targetScrollbarSize","backgroundColor","scrollbarColor","onScroll","onMousedown","isDragging","onMousemove","onMouseup","disabledUserSelect","deltaY","scrollAfterDragEnd","wrapper","enableUserSelect","TooltipDirective","PLAIN_SCROLL_VERTICAL_POSITION","HorizontalScrollbar","clientX","scrollLeft","hostWidth","deltaX","Scroll","resize","refreshState","scrollbarSize","scrollX","scrollY","hideScrollbar","alwaysShowScrollbar","fitContentWidth","fitContentHeight","fitHostHeight","topThreshold","bottomThreshold","autoScrollSpeed","disableListTransition","horizontalScrollbarTooltip","verticalScrollbarTooltip","onVerticalScrollTop","onVerticalScrollBottom","onVerticalScrollCenter","host","verticalPosition","cancelAnimate","wrapperScrollTop","wrapperScrollLeft","emitScroll","_isDragging","hostStyles","contentStyles","overflowX","overflowY","width1","height1","contentResize","width2","height2","hostResize","point","configOrTime","noEmitScroll","done","x","y","cancelAnimationFrame","ny","nx","ky","kx","startTime","run","nowTime","delta","requestAnimationFrame","scrollEnd","autoScrollTop","autoScrollBottom","autoScrollLeft","autoScrollRight","stopAutoScroll","disabledQueueAnimation","windowResize","popperOpen","popperShow","wrapperMousewheel","wrapperScroll","bottom","onMousewheel","newInstance","LoadingBarStatus","Mask","update","unmount","directive","loadingMask","inactive","LoadingMaskDirective","getLoadingMaskService","wait","interval","autoLoadingStep","startDelayer","color","process","doneColor","fail","failColor","percent","opacity","startAutoLoading","setInterval","stopAutoLoading","clearInterval","autoProcess","autoStart","getLoadingBarService","bar","NAN","step","stepStrictly","precision","hideButton","inputProps","getValue","isNaN","getEffectiveValue","formatModelValue","formatValue","checkValue","toFixed","intervalAdd","intervalMinus","up","down","isActive","isChecked","mousedown","mouseup","total","alignEnd","full","showSteps","tooltipFormatter","dragStart","touching","tempStart","tempEnd","startX","startY","totalLength","transferValueToLength","transferLengthToValue","setStart","setEnd","startPosition","endPosition","progressStyles","startTooltip","endTooltip","steps","stepItemStyles","removeUnit","dragstart","mousemove","durX","durY","temp","dur","stepLength","divisor","beforeAdd","beforeRemove","noInput","isEditing","inputValue","clickWindow","clickEditButton","inputEnter","tagClose","activeIcon","inactiveIcon","totalWidth","elLeft","activeStyles","getBoundingClientRect","half","useVirtualList","current","pageIndex","nodes","pageSize","offsetData","list","startPageIndex","getPageIndex","strutStyles","dynamicSize","getIndex","middle","floor","middleBottom","scrollIndex","resetData","elNodes","node","vid","prevNode","prevHeight","deltaHeight","virtual","require","virtualIndex","PROGRESS_DEFAULT_PROPS","outerColor","innerColor","speed","successColor","errorColor","ProgressBar","inlineText","iconColor","outerStyles","borderRadius","innerStyles","createAnimate","initValue","action","k","deltaTime","stop","ProgressCircle","lineSize","startAngle","antiClockwise","animate","radius","pathD","degrees","PI","sin","cos","pathStroke","circleStroke","pathStyles","ProgressMini","round","StepStatus","SizesWidth","large","mini","totalPage","pagerCount","currentPage","layout","pageSizes","prevText","nextText","jumperNumberWidth","onJump","onPrev","onNext","onCurrentChange","onSizeChange","jumperValue","totalPageData","pageInfo","midPagerCount","showPrevMore","showNextMore","pagers","array","startPage","getPagerButtonClass","changeCurrent","sizes","jumper","pager","blank","parts","part","dot","contentClass","showValue","badge","StepUtils","getCurrentIndex","getStepStatus","currentStatus","currentIndex","finish","Step","stepGroup","StepCollector","isLast","isTitleAlignBottom","dotIcon","StepGroup","titleAlignBottom","ArrowStep","hideIndex","ArrowStepCollector","isFirst","ArrowStepGroup","DirectionMap","uppercaseFirstLetter","toUpperCase","targetStyles","border","disabledHideOnClickOption","clickDropdownOption","onClickOption","dropdown","clickOption","DropdownMenu","DropdownGroup","DropdownOption","showWidth","theme","HTMLSpanElement","oldOption","deepEqual","Tooltip","DEFAULT_OPTION","unmounted","limit","clickCollapseTitle","valCounter","detail","noArrow","selfVal","isDisabled","onClickTitle","onAfterLeave","beforeEnter","addClass","dataset","oldPaddingTop","paddingTop","oldPaddingBottom","paddingBottom","oldOverflow","overflow","afterEnter","removeClass","beforeLeave","transitionProperty","afterLeave","onBeforeEnter","onAfterEnter","onBeforeLeave","onLeave","CollapseTransition","CollapseGroup","desc","isClosed","onClickClosed","shadow","poster","operator","carousel","CarouselCollector","itemVal","getItemStyles","isAnimating","Carousel","autoplay","disabledOperator","disabledIndicator","indicatorTrigger","card","cardScale","indicator","autoplayTimer","prevActiveIndex","vals","activeVal","activeIndex","sortVals","valArray","abs","pop","sortIndex","activeSortIndex","resetAutoplayTimer","leading","onIndicator","cover","CarouselItem","useEditPopperAgent","focusCounter","inputHandler","ColorPickerServiceGetter","INT_HEX_MAP","10","11","12","14","15","hexOne","high","low","rgb2hex","g","isOnePointZero","parseFloat","isPercentage","bound01","processPercent","parseInt","rgb2hsv","h","hsv2rgb","hue","saturation","q","mod","HEX_INT_MAP","A","B","C","D","E","F","parseHexChannel","hex","isEffectiveColorString","ColorFormat","opacityBg","ColorPicker","enableAlpha","agentState","emitValue","backgroundImage","bg","ColorAlphaSlider","thumbSize","tempTop","shadowStyles","thumbStyles","setTop","offsetY","ColorHueSlider","tempLeft","setLeft","offsetX","ColorSvPanel","onDblclick","tempSaturation","tempValue","updatePosition","isMouseDown","dblclick","red","green","blue","alpha","updateByString","needInitializedEnableAlpha","_value","setRgb","setHex","currentColor","setHsv","rgbColor","getDefaultColor","ColorPanel","onBblclickSvPanel","defaultColor","svChange","updateByHsv","hueChange","alphaChange","updateByAlpha","dblclickSvPanel","inputChange","formatVal","inputBlur","updateByHex","updateByRgb","ColorPickerService","level","parentRef","markRef","ctxState","selfGetter","childrenField","loaded","labelField","childrenData","isLeaf","expandKeys","selfExpandKeys","toString","nodeDisabled","filterData","filterText","filterMethod","some","createKeyHandler","keyField","createFlagManager","getActiveKeys","generator","getList","TreeDropType","TreeNodeCheckStatus","CascadePanelProps","hoverDebounce","emptyText","selectBranch","lazy","getChildren","expandNodes","onClickItem","onGetChildren","onUpdateData","cascadeMark","formatData","cascadeData","checkProps","iterateAll","iterateChildren","getChildrenAsync","initLazy","isPassFilter","mouseenterItem","expand","clickItem","isExpand","isLoaded","setChildren","empty","filterList","cascadeList","listIndex","nodeIndex","isEmpty","CascadeServiceGetter","showLast","separator","filterable","showFormat","inputAttrs","cacheData","onServiceChange","sourceKey","onInputChange","ie","CascadePanel","CascadeService","iteratorTreeData","useTreeNode","keyManager","getTreeNodeByDataAdjust","dataModel","showCheckbox","iterate","iterateChildrenFirst","checkStrictly","every","getTreeNodeByData","selfRef","isCheckable","filterNodeMethod","isVisible","nodeMap","iterator","stopWatchEffect","onTrigger","getReactiveChildrenData","removeSelf","parentChildrenData","previousSibling","self","nextSibling","unshiftChild","treeNodeUtils","treeNodeMethods","currentKey","onUpdateCurrent","handleKeyOrNode","keyOrNode","baseMethods","getNode","results","getParents","parents","defaultExpandAll","expandMethods","expandAll","checkNodes","checkKeys","setChildrenData","setCurrent","getCurrent","according","collapse","onExpand","onExpandChange","autoExpandParent","onCollapse","toggleExpand","collapseAll","checkMethods","onCheck","onCheckChange","onUncheck","toggleCheck","checkAll","uncheckAll","getCheckedData","refreshCheckStatus","reverse","onClickExpandIcon","onClickCheckbox","onClickCell","onClickNode","expandOnClickNode","checkOnClickNode","useTree","createProps","createEvent","TreeProps","nodeIcon","nodeHeight","expandIcon","intent","draggable","allowDrag","allowDrop","folderCollapseIcon","folderExpandIcon","leafIcon","basePadding","TreeUtils","getPaddingLeft","getTreeNodeStyles","getTreeNodeClasses","createIndicator","hostEl","indicatorSize","publicStyles","bottomIndicatorTop","rightIndicatorLeft","useAutoScroll","getScroll","showHover","enterStart","enterEnd","hideHover","getRowEl","rowClass","rowEl","hasClass","getScrollParent","useTreeDraggier","dragClass","flatList","startNode","moveNode","startScrollTop","moveScrollTop","startClientY","moveClientY","rowHeight","scrollParent","scrollParentRect","dragNodeBaseLeft","dropType","inner","droppable","autoScroll","allowRowDraggable","allowRowDroppable","getIndicatorStyles","targetIndex","external","dragNode","querySelector","pointerEvents","treeNode","exposeMethods","draggier","emptyNode","Panel","multiple","multipleMaxLimit","multipleMinLimit","noMatchText","noDataText","showDebug","SelectPanelCollector","showOptions","isSelected","optionProps","newValue","highlightPrev","offsetTop","highlightNext","selectHighlight","Group","SelectGroupCollector","panel","Option","SelectCollector","SelectServiceGetter","Props","Select","onSpace","onUp","onDown","popperHeight","displayValue","strings","placeholderValue","inputBinding","onInputClear","onInputKeydown","multipleTags","onClickItemCloseIcon","SelectOption","SelectGroup","SelectPanel","SelectService","regexp","RegExp","useDateTime","valueInput","startInput","endInput","plInput","clickInput","customInputFocus","customInputBlur","TimeRangePanelType","TimePublicProps","custom","checkDisabled","onMousedownStartPanel","onMousedownEndPanel","onStartChange","endPd","startPd","Hms","onEndChange","publicBinding","disableChangeOnScroll","TimePanelProps","onMousedownBasePanel","onBaseChange","onRangeChange","base","startModel","endModel","serviceHandler","customHandler","valuePd","parseDisplayString","setDisplayValue","TimePanelLayout","liList","resetPosition","zeroize","findOne","UseDateJudgementView","maxmin","maxpd","minpd","Infinity","columnChange","TimeBaseColumn","TimeBasePanel","TimeRangePanel","TimePanel","DATE_PANEL_PROVIDER","getFormatString","useDate","judgementForChild","useModelConfig","jdView","topState","hoverRange","valueRange","tempPd","viewModel","slide","ipd","provideData","setSelectDate","getStatus","DatePanelType","selectYear","prevYearList","nextYearList","onMouseenterItem","mid","DateServiceGetter","customWeekString","valuePds","datesString","isDates","YMDHms","YMD","months","setSelectYear","YM","prevYear","nextYear","monthList","onMouseEnterItem","midPd","onSelectYearChange","Month","onSelectTime","onSelectDateChange","onMouseleaveDateList","weekList","weeks","concat","dateList","currentMonthFirstDate","firstDateTime","isSelectMonth","defaultTimePd","setHms","monthAttrs","onSelectMonthChange","timeAttrs","timePd","tempDefaultTime","showTimePd","prevMonth","nextMonth","changeView","oldSeq","newSeq","DefaultTime","pdStart","pdEnd","pdStartTime","pdEndTime","endSelectDate","valueModel","hoverPd","WeekGetData","isHover","getWeekPdByPlainDate","weekPd","dateAttrs","itemStart","itemStartPd","DateBasePanelYear","DateBasePanelMonth","DateBasePanelDate","DatePanelDateRange","DatePanelDates","DatePanelWeek","DatePanel","FormItem","TablePlcCollector","ProvideString","useParent","parentElement","remove","useChild","renderColgroup","flatPlcList","plc","useHeadCellResize","table","indicatorEl","endX","tableEl","cell","durWidth","setDurWidth","resizeHandler","renderHeadCell","renderBodyCell","getEditable","getBodyCell","edit","renderScope","isSummary","summary","editRow","HoverPart","getHorizontalScrollParent","iteratePlc","plcList","getBroPlcList","broPlcList","itarPlc","getPlcWidth","getIndicatorHeight","plcData","maxLevel","headRowHeight","rowspan","getLowestPlcList","getDragData","broList","broLowestList","allLowestList","broData","useColDraggier","scrollRefer","isDraggable","colDraggable","tdAttrs","autoScroller","startClientX","moveClientX","startScrollLeft","moveScrollLeft","currentRect","scrollRect","dragData","refreshData","dd","indicatorLeft","indicatorHeight","startPlc","endPlc","startIndex","endIndex","fixed","TablePlcAlign","TablePlcFixedType","TableHoverPart","PltHeadCell","PlainTable","tablePlc","headCls","headCellClassFunc","headCellStyleFunc","colspan","TableProps","summaryData","spanMethod","stripe","hideHeader","disabledStickyCompatible","bodyRowHeight","showRows","rowClassFunc","cellClassFunc","cellStyleFunc","PltHead","headPlcListArray","tableStyles","targetTableWidth","bindScroll","scrollRef","cellspacing","cellpadding","plcKeyString","arrayIndex","useCellFormItemValidate","IteratePlcHandleType","PltCell","bodyCls","PltRow","onClickRow","onDblclickRow","plcListHasRenderAfterRow","renderAfterRow","VirtualTable","summaryTableStyles","colgroup","PltBody","onVnodeMounted","onVirtualMounted","flatNodes","summaryNodes","disabledVirtual","PlcGroupProps","autoFixedLeft","autoFixedRight","PlcProps","fit","notFitVirtual","addEditPadding","PlcPublicAttrs","isLastFixedLeft","isFirstFixedRight","copyPlcList","newPlc","deepcopy","iteratePlcList","onPlc","onGroup","handleType","handleTablePlc","configData","configPlc","processStateConfigAndProps","configState","fixedLeft","fixedRight","nothing","getPlcOrder","processPlcSort","tableWidth","insertSort","totalPlcWidth","fitPlc","processHeadPlcList","calculateLevel","calculateSpan","calculateHeadColumns","setFixedFlag","lastFixedLeft","firstFixedRight","setLastFixedLeft","setFirstFixedRight","processPlcFixed","collect","element","prevWidth","prevValue","getPlcFixedStyle","isFixedLeft","getPltCellClass","processPlcClassAndStyle","formatPlcList","usePlcList","collector","useBindScroll","hoverPart","updateLeft","onScrollLeft","useTableNode","getValidate","openEdit","closeEdit","enableEdit","cancelEdit","saveEdit","newRow","useTableGetScroll","useFixedShadow","showFixedLeft","showFixedRight","freeState","fixedShadowClass","Table","onDblclickCell","square","exposeHandler","injectPlainTable","usePlc","formatProps","itemDurWidth","designPlc","standardProps","externalProps","OptionProps","entries","externalRefer","summaryText","totalSpan","toggleOnClickRow","summaryExpand","selected","selectedKeys","isCheck","onClickHeadCheckbox","availableSelectItems","getSelected","clearSelected","addSelected","removeSelected","getRowElList","querySelectorAll","dragEl","dragHeight","dragOffsetTop","dragStartScrollTop","dragScrollTop","rowList","movedown","refreshDragElPosition","parentScroll","dragElHeight","startDragIndex","endDragIndex","startDragOffsetTop","startDragHeight","startScrollTopOfScrollParent","scrollTopOfScrollParent","scrollParentBoundingRect","usePlcTreeDraggier","flatDataList","levelPadding","rowDraggable","maxShowLevel","getExpanderAttrs","unmountListener","tableProps","PlcStandard","PlcEdit","Plc","PlcGroup"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAGnBC,EAAqB,CACxB,MAAS,GAMNjB,EAAkB,CACrB,MAAS,GAGNK,EAAkB,GAGtB,SAASa,EAAe7B,GACvB,OAAOyB,EAAoBK,EAAI,OAAS,GAAG9B,IAAUA,GAAW,IAAM,CAAC,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,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BAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,i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B,CACrB,OACA,kBAED,oBAAqB,CACpB,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,wBAAyB,CACxB,OACA,kBAED,oBAAqB,CACpB,OACA,kBAED,oBAAqB,CACpB,OACA,kBAED,qBAAsB,CACrB,OACA,kBAED,oBAAqB,CACpB,OACA,kBAED,uBAAwB,CACvB,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,0BAA2B,CAC1B,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,wBAAyB,CACxB,OACA,kBAED,qBAAsB,CACrB,OACA,kBAED,oBAAqB,CACpB,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,oBAAqB,CACpB,OACA,kBAED,mBAAoB,CACnB,OACA,kBAED,oBAAqB,CACpB,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,uBAAwB,CACvB,OACA,kBAED,oBAAqB,CACpB,OACA,iBACA,kBAED,4BAA6B,CAC5B,OACA,kBAED,mCAAoC,CACnC,OACA,kBAED,+BAAgC,CAC/B,OACA,kBAED,gCAAiC,CAChC,OACA,kBAED,+BAAgC,CAC/B,OACA,kBAED,+BAAgC,CAC/B,OACA,kBAED,iCAAkC,CACjC,OACA,kBAED,iCAAkC,CACjC,OACA,kBAED,8BAA+B,CAC9B,OACA,kBAED,8BAA+B,CAC9B,OACA,kBAED,0BAA2B,CAC1B,OACA,kBAED,gCAAiC,CAChC,OACA,kBAED,kCAAmC,CAClC,OACA,kBAED,4BAA6B,CAC5B,QACA,kBAED,2BAA4B,CAC3B,OACA,kBAED,2BAA4B,CAC3B,OACA,kBAED,0BAA2B,CAC1B,OACA,kBAED,iCAAkC,CACjC,OACA,kBAED,oCAAqC,CACpC,OACA,kBAED,kCAAmC,CAClC,OACA,kBAED,8BAA+B,CAC9B,OACA,kBAED,gDAAiD,CAChD,OACA,kBAED,sCAAuC,CACtC,OACA,kBAED,4BAA6B,CAC5B,OACA,kBAED,mEAAoE,CACnE,OACA,kBAED,kBAAmB,CAClB,OACA,kBAED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ACA,kBAED,6BAA8B,CAC7B,OACA,kBAED,0BAA2B,CAC1B,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,6BAA8B,CAC7B,OACA,kBAED,8BAA+B,CAC9B,OACA,kBAED,wBAAyB,CACxB,OACA,kBAED,uBAAwB,CACvB,OACA,kBAED,8BAA+B,CAC9B,OACA,kBAED,wBAAyB,CACxB,OACA,kBAED,8BAA+B,CAC9B,OACA,kBAED,4BAA6B,CAC5B,OACA,kBAED,6BAA8B,CAC7B,OACA,kBAED,2BAA4B,CAC3B,OACA,kBAED,gCAAiC,CAChC,OACA,kBAED,iCAAkC,CACjC,QACA,kBAED,iCAAkC,CACjC,OACA,kBAED,kCAAmC,CAClC,OACA,kBAED,4BAA6B,CAC5B,OACA,kBAED,6BAA8B,CAC7B,OACA,kBAED,4BAA6B,CAC5B,OACA,kBAED,uBAAwB,CACvB,OACA,kBAED,8BAA+B,CAC9B,OACA,kBAED,8BAA+B,CAC9B,OACA,kBAED,qCAAsC,CACrC,OACA,kBAED,6BAA8B,CAC7B,OACA,kBAED,4BAA6B,CAC5B,OACA,kBAED,oCAAqC,CACpC,OACA,kBAED,uBAAwB,CACvB,OACA,kBAED,wBAAyB,CACxB,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,4BAA6B,CAC5B,OACA,kBAED,gCAAiC,CAChC,OACA,kBAED,4BAA6B,CAC5B,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,8BAA+B,CAC9B,OACA,kBAED,+BAAgC,CAC/B,QACA,kBAED,sBAAuB,CACtB,OACA,kBAED,yBAA0B,CACzB,OACA,kBAED,uBAAwB,CACvB,OACA,kBAED,iCAAkC,CACjC,OACA,kBAED,8BAA+B,CAC9B,OACA,kBAED,wBAAyB,CACxB,OACA,kBAED,8BAA+B,CAC9B,OACA,kBAED,kCAAmC,CAClC,OACA,kBAED,+BAAgC,CAC/B,OACA,kBAED,iCAAkC,CACjC,OACA,kBAED,iCAAkC,CACjC,OACA,kBAED,0BAA2B,CAC1B,OACA,kBAED,0BAA2B,CAC1B,OACA,kBAED,8BAA+B,CAC9B,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,uBAAwB,CACvB,OACA,kBAED,wBAAyB,CACxB,OACA,kBAED,+BAAgC,CAC/B,OACA,kBAED,4BAA6B,CAC5B,OACA,kBAED,gCAAiC,CAChC,OACA,kBAED,+BAAgC,CAC/B,OACA,kBAED,+BAAgC,CAC/B,OACA,kBAED,+BAAgC,CAC/B,OACA,kBAED,0BAA2B,CAC1B,OACA,kBAED,wBAAyB,CACxB,OACA,kBAED,6BAA8B,CAC7B,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,wBAAyB,CACxB,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,sCAAuC,CACtC,OACA,kBAED,kCAAmC,CAClC,OACA,kBAED,0BAA2B,CAC1B,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,+BAAgC,CAC/B,OACA,kBAED,yBAA0B,CACzB,OACA,kBAED,4BAA6B,CAC5B,OACA,kBAED,uBAAwB,CACvB,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,wBAAyB,CACxB,OACA,kBAED,2BAA4B,CAC3B,OACA,kBAED,iCAAkC,CACjC,OACA,kBAED,yBAA0B,CACzB,OACA,kBAED,uBAAwB,CACvB,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,0BAA2B,CAC1B,OACA,kBAED,0BAA2B,CAC1B,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,+BAAgC,CAC/B,OACA,kBAED,yBAA0B,CACzB,OACA,kBAED,gCAAiC,CAChC,QACA,kBAED,wBAAyB,CACxB,OACA,kBAED,uBAAwB,CACvB,OACA,kBAED,2BAA4B,CAC3B,OACA,kBAED,0BAA2B,CAC1B,OACA,kBAED,wBAAyB,CACxB,OACA,kBAED,wBAAyB,CACxB,OACA,kBAED,+BAAgC,CAC/B,OACA,kBAED,yBAA0B,CACzB,OACA,kBAED,6BAA8B,CAC7B,OACA,kBAED,wBAAyB,CACxB,O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,MAGpBnN,IACR,IAEH,MAAO,CACHka,iB,gFCpDR,kDAKM,SAAUC,EAAwCjM,GACpD,OAAO,eAASA,K,sICJRkM,E,4DCEG,SAAA/f,EAAA,MAAsB,OAAa,CAAC2L,QAAS,CAAC,U,6ODF7D,SAAYoU,GACR,mBACA,iBACA,eACA,2BACA,eACA,mBACA,eACA,mBACA,eACA,iBACA,aACA,mBACA,iBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,eACA,eACA,gBA/DJ,CAAYA,MAAG,KAkER,IAAMC,EAAc,CACvBC,GAAI,QACJC,GAAI,OACJC,GAAI,MAEJC,EAAG,YACHC,EAAG,MACHC,GAAI,QACJC,GAAI,MACJC,GAAI,QACJC,GAAI,MAEJC,GAAI,OACJC,GAAI,KACJC,GAAI,QACJC,GAAI,OAEJC,IAAK,QACLC,IAAK,QAELC,GAAI,QACJC,GAAI,QACJC,GAAI,QACJC,GAAI,QACJC,GAAI,QACJC,GAAI,QACJC,GAAI,QACJC,GAAI,QACJC,GAAI,QACJC,GAAI,QAEJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IAEJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IAEJC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,MACLC,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","file":"js/index.a819cc1f.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"index\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"index\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-073442f3\":\"29bb1d99\",\"chunk-07561cca\":\"0a0a8d2c\",\"chunk-0882dea0\":\"a73099b4\",\"chunk-09a3a414\":\"2dec1fe3\",\"chunk-0c898c56\":\"315b5199\",\"chunk-1743c69e\":\"3050f8fd\",\"chunk-1fd5276b\":\"82b77adc\",\"chunk-22e0a968\":\"a0fbad3e\",\"chunk-244df15e\":\"494d22c0\",\"chunk-25ff62c2\":\"622a6977\",\"chunk-2c2ee53a\":\"378f3c98\",\"chunk-2ca059b2\":\"9a5b85d1\",\"chunk-2d0a30ba\":\"6d607ae1\",\"chunk-2d0a3107\":\"95867734\",\"chunk-2d0a3317\":\"fff2a28f\",\"chunk-2d0a3744\":\"42717f9a\",\"chunk-2d0a5111\":\"39eb52f5\",\"chunk-2d0aa593\":\"801a3971\",\"chunk-2d0abbdc\":\"0427db5f\",\"chunk-2d0abe0e\":\"17f07508\",\"chunk-2d0ac18d\":\"6b5e6c4c\",\"chunk-2d0ac344\":\"b9e0f336\",\"chunk-2d0ae5b3\":\"e4026de2\",\"chunk-2d0aeeeb\":\"6c21c44f\",\"chunk-2d0aeefa\":\"a4a12c88\",\"chunk-2d0aef0a\":\"b675bdbc\",\"chunk-2d0af289\":\"a517bab4\",\"chunk-2d0af509\":\"e90e14da\",\"chunk-2d0afe38\":\"2d1f1e1a\",\"chunk-2d0b250c\":\"37c02e84\",\"chunk-2d0b2cc8\":\"bb9e1442\",\"chunk-2d0b3059\":\"552aa851\",\"chunk-2d0b324e\":\"1b15379b\",\"chunk-2d0b5d85\":\"ac0b5ac6\",\"chunk-2d0b670a\":\"50f88997\",\"chunk-2d0b6890\":\"c80c6f8c\",\"chunk-2d0b6916\":\"76bc79e5\",\"chunk-2d0b6ab8\":\"ba641eeb\",\"chunk-2d0b8eef\":\"750e3fbd\",\"chunk-2d0b9995\":\"3bd83e45\",\"chunk-2d0b9b77\":\"fc8890af\",\"chunk-2d0ba4a0\":\"dea9161f\",\"chunk-2d0ba6ad\":\"2c6f740f\",\"chunk-2d0baa7a\":\"d5f5c594\",\"chunk-2d0bd225\":\"cd1b61aa\",\"chunk-2d0bd407\":\"f01f66df\",\"chunk-2d0bd52d\":\"83a4c15d\",\"chunk-2d0bd7c7\":\"c976bfaa\",\"chunk-2d0bd9a8\":\"9602cded\",\"chunk-2d0bfe73\":\"6fac4115\",\"chunk-2d0bfe97\":\"b82f9846\",\"chunk-2d0c0651\":\"f2b46e6e\",\"chunk-2d0c08d2\":\"cbe394f7\",\"chunk-2d0c09d5\":\"1e3c76b7\",\"chunk-2d0c116a\":\"b5184fe2\",\"chunk-2d0c1642\":\"561842bd\",\"chunk-2d0c1909\":\"32d47f0e\",\"chunk-2d0c26a6\":\"424a8044\",\"chunk-2d0c4a15\":\"4f771f30\",\"chunk-2d0c4a46\":\"e556ecf7\",\"chunk-2d0c551b\":\"ba1afea3\",\"chunk-2d0c55ab\":\"6c02588b\",\"chunk-2d0c72d1\":\"6cf5c8b2\",\"chunk-2d0c76f2\":\"12b1d515\",\"chunk-2d0c7ce5\":\"890b1efe\",\"chunk-2d0c80d0\":\"7b991112\",\"chunk-2d0c8816\":\"54dcfa1b\",\"chunk-2d0c8a74\":\"2b0b160a\",\"chunk-2d0c9aef\":\"3f64cae5\",\"chunk-2d0cb6f6\":\"61ee0dd1\",\"chunk-2d0cbce3\":\"d5fd7e63\",\"chunk-2d0cc56a\":\"8a6827dd\",\"chunk-2d0cc604\":\"bd59100c\",\"chunk-2d0ccc03\":\"e384b8a3\",\"chunk-2d0cebdf\":\"8952132f\",\"chunk-2d0d040b\":\"80de28af\",\"chunk-2d0d058c\":\"562def69\",\"chunk-2d0d09d8\":\"1f1785ed\",\"chunk-2d0d2ea6\":\"71116be6\",\"chunk-2d0d2f82\":\"6edb7f10\",\"chunk-2d0d36d1\":\"62710599\",\"chunk-2d0d3834\":\"2f064352\",\"chunk-2d0d5bc4\":\"dc50c930\",\"chunk-2d0d5bdf\":\"573986f8\",\"chunk-2d0d5fa5\":\"868020ab\",\"chunk-2d0d620d\":\"c92ad69e\",\"chunk-2d0d72c6\":\"36695982\",\"chunk-2d0d74c2\":\"3d71c9d7\",\"chunk-2d0d7848\":\"67d35e02\",\"chunk-2d0d9fb2\":\"53d3c0ef\",\"chunk-2d0da720\":\"f2dd5b9c\",\"chunk-2d0da94d\":\"ad0bdebe\",\"chunk-2d0db435\":\"593df03b\",\"chunk-2d0db852\":\"5a5e25a4\",\"chunk-2d0dd0f8\":\"3ef3aa16\",\"chunk-2d0dd679\":\"c6d35e02\",\"chunk-2d0ddb81\":\"62bf3d08\",\"chunk-2d0de03a\":\"ff476949\",\"chunk-2d0de333\":\"ab582120\",\"chunk-2d0de540\":\"bc241e7f\",\"chunk-2d0de553\":\"82ded6ae\",\"chunk-2d0de72f\":\"1e6a4696\",\"chunk-2d0ded30\":\"881a90da\",\"chunk-2d0e1b7e\":\"f67826fb\",\"chunk-2d0e2123\":\"68fb2875\",\"chunk-2d0e450c\":\"38fbd97a\",\"chunk-2d0e4a71\":\"57be5c04\",\"chunk-2d0e4b0d\":\"1f0fc0c7\",\"chunk-2d0e5622\":\"6e80cb62\",\"chunk-2d0e59df\":\"5e0cb1a6\",\"chunk-2d0e59ed\":\"0b08b53c\",\"chunk-2d0e5afa\":\"2a6fb932\",\"chunk-2d0e667a\":\"ef299062\",\"chunk-2d0e6733\":\"05b6e50e\",\"chunk-2d0e8c02\":\"9754026b\",\"chunk-2d0e9737\":\"474d983f\",\"chunk-2d0e9da1\":\"82747454\",\"chunk-2d0ea0f2\":\"69ade8cf\",\"chunk-2d0efcfb\":\"9a86743b\",\"chunk-2d0f0262\":\"268ae257\",\"chunk-2d207945\":\"2e8ef016\",\"chunk-2d208357\":\"a444fdfe\",\"chunk-2d20867a\":\"381a6bdf\",\"chunk-2d20977b\":\"0117a846\",\"chunk-2d20f17b\":\"ba8dbb7d\",\"chunk-2d2100b5\":\"43d85b0c\",\"chunk-2d210267\":\"385b3186\",\"chunk-2d2105b4\":\"c5205ecb\",\"chunk-2d2107f9\":\"f34b0c21\",\"chunk-2d2107fa\":\"df6f1803\",\"chunk-2d210c0b\":\"cd34cc72\",\"chunk-2d213529\":\"a240d15b\",\"chunk-2d21388f\":\"73dbed49\",\"chunk-2d2138eb\":\"95614e92\",\"chunk-2d213c67\":\"30d0c050\",\"chunk-2d213e2d\":\"1d363829\",\"chunk-2d213f08\":\"f7ca9cd7\",\"chunk-2d21442a\":\"2a98ac23\",\"chunk-2d215c44\":\"acf33d33\",\"chunk-2d216b18\":\"3a9383a2\",\"chunk-2d216d19\":\"b77f34a1\",\"chunk-2d21785d\":\"b17f59f2\",\"chunk-2d217c79\":\"20b65ed5\",\"chunk-2d219f97\":\"187c5d25\",\"chunk-2d21aef8\":\"14a3b162\",\"chunk-2d21e5e6\":\"eaf5bf16\",\"chunk-2d21eea8\":\"c6e5a295\",\"chunk-2d21ef4b\":\"c88b2b02\",\"chunk-2d21f49e\":\"82646ae9\",\"chunk-2d221472\":\"720f6c4f\",\"chunk-2d2217f7\":\"b7c9d5d7\",\"chunk-2d2223a6\":\"50a70660\",\"chunk-2d222cae\":\"6e8bef8f\",\"chunk-2d224ad1\":\"f69c20fa\",\"chunk-2d224cf2\":\"7cbe3540\",\"chunk-2d225440\":\"5d7c6194\",\"chunk-2d22578d\":\"15acf9df\",\"chunk-2d225c07\":\"99b17e9e\",\"chunk-2d225c33\":\"d7c518de\",\"chunk-2d225f85\":\"2b677d92\",\"chunk-2d226691\":\"0faa4e58\",\"chunk-2d226917\":\"e5f2f7a1\",\"chunk-2d228940\":\"b34c76f2\",\"chunk-2d229247\":\"dbd7fd59\",\"chunk-2d2293bc\":\"e80978c7\",\"chunk-2d229670\":\"ef64ef21\",\"chunk-2d2299c6\":\"2ec4406b\",\"chunk-2d22bd62\":\"65298996\",\"chunk-2d22c0b6\":\"cfdae232\",\"chunk-2d22c86a\":\"b1b06755\",\"chunk-2d22c94f\":\"67ceb489\",\"chunk-2d22d611\":\"80ca2bfe\",\"chunk-2d22d9e3\":\"9c739af4\",\"chunk-2d22dbf7\":\"7d582805\",\"chunk-2d22dd73\":\"dfada9db\",\"chunk-2d22e0be\":\"e86d6923\",\"chunk-2d2300f7\":\"6b770259\",\"chunk-1b31a082\":\"1d1feacf\",\"chunk-2d230514\":\"6879b8cf\",\"chunk-2d2307f6\":\"d66fb82c\",\"chunk-2d230863\":\"14f52a70\",\"chunk-2d230895\":\"56bcc9d3\",\"chunk-2d237591\":\"a0298c75\",\"chunk-2d238074\":\"c2bdfe93\",\"chunk-2e73eeec\":\"1b2506d1\",\"chunk-349f5122\":\"b9d4302c\",\"chunk-38aa7b52\":\"24999bcf\",\"chunk-3a1bf136\":\"dbfb4416\",\"chunk-3e5f5a95\":\"62a4394b\",\"chunk-43085bb4\":\"4d1c520c\",\"chunk-4b009cb4\":\"f54b23da\",\"chunk-4b0d0451\":\"92f2ec00\",\"chunk-4e35c49f\":\"a6e77be7\",\"chunk-606d5805\":\"4913614c\",\"chunk-638ade38\":\"cf5fbd60\",\"chunk-642f8aa6\":\"82493471\",\"chunk-6467466e\":\"b603bef0\",\"chunk-67de4bec\":\"89645964\",\"chunk-6aeaee92\":\"eead99ff\",\"chunk-74856f3b\":\"d3066ba6\",\"chunk-74cc218d\":\"73b42faa\",\"chunk-770d975c\":\"d8c1fc74\",\"chunk-772aaef6\":\"c4df017c\",\"chunk-7ca781f0\":\"27c171a0\",\"chunk-809184f6\":\"416aefcf\",\"chunk-87bc0906\":\"3e66680d\",\"chunk-89a68be8\":\"81a21edd\",\"chunk-8c528a7e\":\"20a2cf62\",\"chunk-b15d6edc\":\"fd583a4c\",\"chunk-c4256c3a\":\"2388ecaf\",\"chunk-d0623118\":\"e3821338\",\"chunk-da7485a8\":\"c159df11\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-07561cca\":1,\"chunk-0882dea0\":1,\"chunk-09a3a414\":1,\"chunk-0c898c56\":1,\"chunk-1fd5276b\":1,\"chunk-22e0a968\":1,\"chunk-25ff62c2\":1,\"chunk-2c2ee53a\":1,\"chunk-2ca059b2\":1,\"chunk-2e73eeec\":1,\"chunk-349f5122\":1,\"chunk-38aa7b52\":1,\"chunk-3a1bf136\":1,\"chunk-3e5f5a95\":1,\"chunk-43085bb4\":1,\"chunk-4b009cb4\":1,\"chunk-4b0d0451\":1,\"chunk-606d5805\":1,\"chunk-642f8aa6\":1,\"chunk-67de4bec\":1,\"chunk-74cc218d\":1,\"chunk-7ca781f0\":1,\"chunk-809184f6\":1,\"chunk-87bc0906\":1,\"chunk-89a68be8\":1,\"chunk-8c528a7e\":1,\"chunk-b15d6edc\":1,\"chunk-c4256c3a\":1,\"chunk-d0623118\":1,\"chunk-da7485a8\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-073442f3\":\"31d6cfe0\",\"chunk-07561cca\":\"0e433876\",\"chunk-0882dea0\":\"0e433876\",\"chunk-09a3a414\":\"202b3aa2\",\"chunk-0c898c56\":\"20814276\",\"chunk-1743c69e\":\"31d6cfe0\",\"chunk-1fd5276b\":\"507188ed\",\"chunk-22e0a968\":\"dbf56bd8\",\"chunk-244df15e\":\"31d6cfe0\",\"chunk-25ff62c2\":\"03f82299\",\"chunk-2c2ee53a\":\"08cc2a99\",\"chunk-2ca059b2\":\"17e609ed\",\"chunk-2d0a30ba\":\"31d6cfe0\",\"chunk-2d0a3107\":\"31d6cfe0\",\"chunk-2d0a3317\":\"31d6cfe0\",\"chunk-2d0a3744\":\"31d6cfe0\",\"chunk-2d0a5111\":\"31d6cfe0\",\"chunk-2d0aa593\":\"31d6cfe0\",\"chunk-2d0abbdc\":\"31d6cfe0\",\"chunk-2d0abe0e\":\"31d6cfe0\",\"chunk-2d0ac18d\":\"31d6cfe0\",\"chunk-2d0ac344\":\"31d6cfe0\",\"chunk-2d0ae5b3\":\"31d6cfe0\",\"chunk-2d0aeeeb\":\"31d6cfe0\",\"chunk-2d0aeefa\":\"31d6cfe0\",\"chunk-2d0aef0a\":\"31d6cfe0\",\"chunk-2d0af289\":\"31d6cfe0\",\"chunk-2d0af509\":\"31d6cfe0\",\"chunk-2d0afe38\":\"31d6cfe0\",\"chunk-2d0b250c\":\"31d6cfe0\",\"chunk-2d0b2cc8\":\"31d6cfe0\",\"chunk-2d0b3059\":\"31d6cfe0\",\"chunk-2d0b324e\":\"31d6cfe0\",\"chunk-2d0b5d85\":\"31d6cfe0\",\"chunk-2d0b670a\":\"31d6cfe0\",\"chunk-2d0b6890\":\"31d6cfe0\",\"chunk-2d0b6916\":\"31d6cfe0\",\"chunk-2d0b6ab8\":\"31d6cfe0\",\"chunk-2d0b8eef\":\"31d6cfe0\",\"chunk-2d0b9995\":\"31d6cfe0\",\"chunk-2d0b9b77\":\"31d6cfe0\",\"chunk-2d0ba4a0\":\"31d6cfe0\",\"chunk-2d0ba6ad\":\"31d6cfe0\",\"chunk-2d0baa7a\":\"31d6cfe0\",\"chunk-2d0bd225\":\"31d6cfe0\",\"chunk-2d0bd407\":\"31d6cfe0\",\"chunk-2d0bd52d\":\"31d6cfe0\",\"chunk-2d0bd7c7\":\"31d6cfe0\",\"chunk-2d0bd9a8\":\"31d6cfe0\",\"chunk-2d0bfe73\":\"31d6cfe0\",\"chunk-2d0bfe97\":\"31d6cfe0\",\"chunk-2d0c0651\":\"31d6cfe0\",\"chunk-2d0c08d2\":\"31d6cfe0\",\"chunk-2d0c09d5\":\"31d6cfe0\",\"chunk-2d0c116a\":\"31d6cfe0\",\"chunk-2d0c1642\":\"31d6cfe0\",\"chunk-2d0c1909\":\"31d6cfe0\",\"chunk-2d0c26a6\":\"31d6cfe0\",\"chunk-2d0c4a15\":\"31d6cfe0\",\"chunk-2d0c4a46\":\"31d6cfe0\",\"chunk-2d0c551b\":\"31d6cfe0\",\"chunk-2d0c55ab\":\"31d6cfe0\",\"chunk-2d0c72d1\":\"31d6cfe0\",\"chunk-2d0c76f2\":\"31d6cfe0\",\"chunk-2d0c7ce5\":\"31d6cfe0\",\"chunk-2d0c80d0\":\"31d6cfe0\",\"chunk-2d0c8816\":\"31d6cfe0\",\"chunk-2d0c8a74\":\"31d6cfe0\",\"chunk-2d0c9aef\":\"31d6cfe0\",\"chunk-2d0cb6f6\":\"31d6cfe0\",\"chunk-2d0cbce3\":\"31d6cfe0\",\"chunk-2d0cc56a\":\"31d6cfe0\",\"chunk-2d0cc604\":\"31d6cfe0\",\"chunk-2d0ccc03\":\"31d6cfe0\",\"chunk-2d0cebdf\":\"31d6cfe0\",\"chunk-2d0d040b\":\"31d6cfe0\",\"chunk-2d0d058c\":\"31d6cfe0\",\"chunk-2d0d09d8\":\"31d6cfe0\",\"chunk-2d0d2ea6\":\"31d6cfe0\",\"chunk-2d0d2f82\":\"31d6cfe0\",\"chunk-2d0d36d1\":\"31d6cfe0\",\"chunk-2d0d3834\":\"31d6cfe0\",\"chunk-2d0d5bc4\":\"31d6cfe0\",\"chunk-2d0d5bdf\":\"31d6cfe0\",\"chunk-2d0d5fa5\":\"31d6cfe0\",\"chunk-2d0d620d\":\"31d6cfe0\",\"chunk-2d0d72c6\":\"31d6cfe0\",\"chunk-2d0d74c2\":\"31d6cfe0\",\"chunk-2d0d7848\":\"31d6cfe0\",\"chunk-2d0d9fb2\":\"31d6cfe0\",\"chunk-2d0da720\":\"31d6cfe0\",\"chunk-2d0da94d\":\"31d6cfe0\",\"chunk-2d0db435\":\"31d6cfe0\",\"chunk-2d0db852\":\"31d6cfe0\",\"chunk-2d0dd0f8\":\"31d6cfe0\",\"chunk-2d0dd679\":\"31d6cfe0\",\"chunk-2d0ddb81\":\"31d6cfe0\",\"chunk-2d0de03a\":\"31d6cfe0\",\"chunk-2d0de333\":\"31d6cfe0\",\"chunk-2d0de540\":\"31d6cfe0\",\"chunk-2d0de553\":\"31d6cfe0\",\"chunk-2d0de72f\":\"31d6cfe0\",\"chunk-2d0ded30\":\"31d6cfe0\",\"chunk-2d0e1b7e\":\"31d6cfe0\",\"chunk-2d0e2123\":\"31d6cfe0\",\"chunk-2d0e450c\":\"31d6cfe0\",\"chunk-2d0e4a71\":\"31d6cfe0\",\"chunk-2d0e4b0d\":\"31d6cfe0\",\"chunk-2d0e5622\":\"31d6cfe0\",\"chunk-2d0e59df\":\"31d6cfe0\",\"chunk-2d0e59ed\":\"31d6cfe0\",\"chunk-2d0e5afa\":\"31d6cfe0\",\"chunk-2d0e667a\":\"31d6cfe0\",\"chunk-2d0e6733\":\"31d6cfe0\",\"chunk-2d0e8c02\":\"31d6cfe0\",\"chunk-2d0e9737\":\"31d6cfe0\",\"chunk-2d0e9da1\":\"31d6cfe0\",\"chunk-2d0ea0f2\":\"31d6cfe0\",\"chunk-2d0efcfb\":\"31d6cfe0\",\"chunk-2d0f0262\":\"31d6cfe0\",\"chunk-2d207945\":\"31d6cfe0\",\"chunk-2d208357\":\"31d6cfe0\",\"chunk-2d20867a\":\"31d6cfe0\",\"chunk-2d20977b\":\"31d6cfe0\",\"chunk-2d20f17b\":\"31d6cfe0\",\"chunk-2d2100b5\":\"31d6cfe0\",\"chunk-2d210267\":\"31d6cfe0\",\"chunk-2d2105b4\":\"31d6cfe0\",\"chunk-2d2107f9\":\"31d6cfe0\",\"chunk-2d2107fa\":\"31d6cfe0\",\"chunk-2d210c0b\":\"31d6cfe0\",\"chunk-2d213529\":\"31d6cfe0\",\"chunk-2d21388f\":\"31d6cfe0\",\"chunk-2d2138eb\":\"31d6cfe0\",\"chunk-2d213c67\":\"31d6cfe0\",\"chunk-2d213e2d\":\"31d6cfe0\",\"chunk-2d213f08\":\"31d6cfe0\",\"chunk-2d21442a\":\"31d6cfe0\",\"chunk-2d215c44\":\"31d6cfe0\",\"chunk-2d216b18\":\"31d6cfe0\",\"chunk-2d216d19\":\"31d6cfe0\",\"chunk-2d21785d\":\"31d6cfe0\",\"chunk-2d217c79\":\"31d6cfe0\",\"chunk-2d219f97\":\"31d6cfe0\",\"chunk-2d21aef8\":\"31d6cfe0\",\"chunk-2d21e5e6\":\"31d6cfe0\",\"chunk-2d21eea8\":\"31d6cfe0\",\"chunk-2d21ef4b\":\"31d6cfe0\",\"chunk-2d21f49e\":\"31d6cfe0\",\"chunk-2d221472\":\"31d6cfe0\",\"chunk-2d2217f7\":\"31d6cfe0\",\"chunk-2d2223a6\":\"31d6cfe0\",\"chunk-2d222cae\":\"31d6cfe0\",\"chunk-2d224ad1\":\"31d6cfe0\",\"chunk-2d224cf2\":\"31d6cfe0\",\"chunk-2d225440\":\"31d6cfe0\",\"chunk-2d22578d\":\"31d6cfe0\",\"chunk-2d225c07\":\"31d6cfe0\",\"chunk-2d225c33\":\"31d6cfe0\",\"chunk-2d225f85\":\"31d6cfe0\",\"chunk-2d226691\":\"31d6cfe0\",\"chunk-2d226917\":\"31d6cfe0\",\"chunk-2d228940\":\"31d6cfe0\",\"chunk-2d229247\":\"31d6cfe0\",\"chunk-2d2293bc\":\"31d6cfe0\",\"chunk-2d229670\":\"31d6cfe0\",\"chunk-2d2299c6\":\"31d6cfe0\",\"chunk-2d22bd62\":\"31d6cfe0\",\"chunk-2d22c0b6\":\"31d6cfe0\",\"chunk-2d22c86a\":\"31d6cfe0\",\"chunk-2d22c94f\":\"31d6cfe0\",\"chunk-2d22d611\":\"31d6cfe0\",\"chunk-2d22d9e3\":\"31d6cfe0\",\"chunk-2d22dbf7\":\"31d6cfe0\",\"chunk-2d22dd73\":\"31d6cfe0\",\"chunk-2d22e0be\":\"31d6cfe0\",\"chunk-2d2300f7\":\"31d6cfe0\",\"chunk-1b31a082\":\"31d6cfe0\",\"chunk-2d230514\":\"31d6cfe0\",\"chunk-2d2307f6\":\"31d6cfe0\",\"chunk-2d230863\":\"31d6cfe0\",\"chunk-2d230895\":\"31d6cfe0\",\"chunk-2d237591\":\"31d6cfe0\",\"chunk-2d238074\":\"31d6cfe0\",\"chunk-2e73eeec\":\"0e433876\",\"chunk-349f5122\":\"52e2ce16\",\"chunk-38aa7b52\":\"1c71ea5e\",\"chunk-3a1bf136\":\"0eb0e6c6\",\"chunk-3e5f5a95\":\"4c5da243\",\"chunk-43085bb4\":\"7d23fe26\",\"chunk-4b009cb4\":\"792b3f5c\",\"chunk-4b0d0451\":\"9a60d5e7\",\"chunk-4e35c49f\":\"31d6cfe0\",\"chunk-606d5805\":\"90b67df1\",\"chunk-638ade38\":\"31d6cfe0\",\"chunk-642f8aa6\":\"4a93efdd\",\"chunk-6467466e\":\"31d6cfe0\",\"chunk-67de4bec\":\"5c70898f\",\"chunk-6aeaee92\":\"31d6cfe0\",\"chunk-74856f3b\":\"31d6cfe0\",\"chunk-74cc218d\":\"0e433876\",\"chunk-770d975c\":\"31d6cfe0\",\"chunk-772aaef6\":\"31d6cfe0\",\"chunk-7ca781f0\":\"e9e0dbd8\",\"chunk-809184f6\":\"0e433876\",\"chunk-87bc0906\":\"836e32ad\",\"chunk-89a68be8\":\"0e433876\",\"chunk-8c528a7e\":\"7a5fcb04\",\"chunk-b15d6edc\":\"2b4ab55a\",\"chunk-c4256c3a\":\"5debb9db\",\"chunk-d0623118\":\"4a682b73\",\"chunk-da7485a8\":\"0e433876\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/plain-ui/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import fecha from 'fecha'\r\nimport {zeroize} from \"plain-utils/string/zeroize\";\r\n\r\nenum CompareMode {\r\n    time = 'time',\r\n    date = 'date',\r\n    datetime = 'datetime',\r\n    yearmonth = 'yearmonth',\r\n}\r\n\r\ntype Pub = {\r\n    displayFormat: string\r\n    valueFormat: string\r\n\r\n    setValue(value: string | undefined): void,\r\n    setDisplayValue(value: string): void,\r\n    setYear(year: number): void,\r\n    setMonthDate(month: number, date: number): void,\r\n    setHour(hour: number): void,\r\n    setMinute(minute: number): void,\r\n    setSecond(second: number): void,\r\n    setTime(time: number): void,\r\n    setHms(hour: number | PlainDateType, minute?: number, second?: number): void,\r\n    setYMD(year: number | PlainDateType, month?: number, date?: number): void,\r\n\r\n    format(dateObject: Date | null): string | null,\r\n    parseDisplayString(displayString: string | null): Date | null,\r\n    parseValueString(valueString: string | null): Date | null,\r\n    copy(): PlainDateType,\r\n}\r\n\r\ntype Diff =\r\n    {\r\n        dateObject: Date\r\n        isNull: false\r\n        year: number\r\n        month: number\r\n        date: number\r\n        hour: number\r\n        minute: number\r\n        second: number\r\n        day: number\r\n        time: number\r\n        displayString: string\r\n        valueString: string\r\n        timeString: string\r\n        dateString: string\r\n        Y: number\r\n        YM: number\r\n        YMD: number\r\n        YMDHms: number\r\n        Hms: number\r\n    } |\r\n    {\r\n        dateObject: null\r\n        isNull: true\r\n        year: null\r\n        month: null\r\n        date: null\r\n        hour: null\r\n        minute: null\r\n        second: null\r\n        day: null\r\n        time: null\r\n        displayString: null\r\n        valueString: null\r\n        timeString: null\r\n        dateString: null\r\n        Y: null\r\n        YM: null\r\n        YMD: null\r\n        YMDHms: null\r\n        Hms: null\r\n    };\r\n\r\nexport type PlainDateType = Diff & Pub\r\n\r\nclass WrapDate {\r\n\r\n    displayFormat: string                                                       // 显示值格式字符串\r\n    valueFormat: string                                                         // 实际值格式字符串\r\n    dateObject: Date | null = null                                              // 日期对象\r\n\r\n    constructor(value: string | undefined | null, displayFormat: string, valueFormat: string) {\r\n        this.displayFormat = displayFormat\r\n        this.valueFormat = valueFormat\r\n\r\n        if (value != null) {\r\n            this.setValue(value)\r\n        }\r\n    }\r\n\r\n    /*---------------------------------------attrs-------------------------------------------*/\r\n\r\n    get isNull(): boolean {return !this.dateObject}\r\n\r\n    get year() {return this.isNull ? null : this.dateObject!.getFullYear()}\r\n\r\n    get month() {return this.isNull ? null : this.dateObject!.getMonth()}\r\n\r\n    get date() {return this.isNull ? null : this.dateObject!.getDate()}\r\n\r\n    get hour() {return this.isNull ? null : this.dateObject!.getHours()}\r\n\r\n    get minute() {return this.isNull ? null : this.dateObject!.getMinutes()}\r\n\r\n    get second() {return this.isNull ? null : this.dateObject!.getSeconds()}\r\n\r\n    get day() {return this.isNull ? null : this.dateObject!.getDay()}\r\n\r\n    get time() {return this.isNull ? null : this.dateObject!.getTime()}\r\n\r\n    get displayString() {return this.isNull ? null : fecha.format(this.dateObject!, this.displayFormat)}\r\n\r\n    get valueString() {return this.isNull ? null : fecha.format(this.dateObject!, this.valueFormat)}\r\n\r\n    get timeString() {return this.isNull ? null : `${zeroize(this.hour!)}${zeroize(this.minute!)}${zeroize(this.second!)}`}\r\n\r\n    get dateString() {return this.isNull ? null : `${zeroize(this.year!)}${zeroize(this.month! + 1)}${zeroize(this.date!)}`}\r\n\r\n    get Y() {return this.isNull ? null : this.year}\r\n\r\n    get YM() {return this.isNull ? null : Number(`${this.year}${zeroize(this.month! + 1)}`)}\r\n\r\n    get YMD() {return this.isNull ? null : Number(this.dateString)}\r\n\r\n    get YMDHms() {return this.isNull ? null : Number(this.dateString! + this.timeString!)}\r\n\r\n    get Hms() {return this.isNull ? null : Number(this.timeString)}\r\n\r\n    /*---------------------------------------methods-------------------------------------------*/\r\n\r\n    setValue(value: string | undefined) {this.dateObject = !value ? null : WrapDate.parse(String(value), this.valueFormat)}\r\n\r\n    setDisplayValue(value: string) {this.dateObject = !value ? null : this.dateObject = WrapDate.parse(String(value), this.displayFormat)}\r\n\r\n    setYear(year: number): void {\r\n        if (this.isNull) this.dateObject = WrapDate.defaultDate()\r\n        this.dateObject!.setFullYear(year)\r\n    }\r\n\r\n    setMonthDate(month: number, date: number): void {\r\n        if (this.isNull) this.dateObject = WrapDate.defaultDate()\r\n        this.dateObject!.setMonth(month, date)\r\n    }\r\n\r\n    setHour(hour: number): void {\r\n        if (this.isNull) this.dateObject = WrapDate.defaultDate()\r\n        this.dateObject!.setHours(hour)\r\n    }\r\n\r\n    setMinute(minute: number): void {\r\n        if (this.isNull) this.dateObject = WrapDate.defaultDate()\r\n        this.dateObject!.setMinutes(minute)\r\n    }\r\n\r\n    setSecond(second: number): void {\r\n        if (this.isNull) this.dateObject = WrapDate.defaultDate()\r\n        this.dateObject!.setSeconds(second)\r\n    }\r\n\r\n    setTime(time: number): void {\r\n        if (this.isNull) this.dateObject = WrapDate.defaultDate()\r\n        this.dateObject!.setTime(time)\r\n    }\r\n\r\n    setHms(hour: number | WrapDate, minute?: number, second?: number): void {\r\n        if (typeof hour === \"number\") {\r\n            this.setHour(hour)\r\n            if (minute != null) this.setMinute(minute)\r\n            if (second != null) this.setSecond(second)\r\n        } else {\r\n            const pd = hour as WrapDate\r\n            this.setHour(pd.hour!)\r\n            this.setMinute(pd.minute!)\r\n            this.setSecond(pd.second!)\r\n        }\r\n    }\r\n\r\n    setYMD(year: number | WrapDate, month?: number, date?: number) {\r\n        if (typeof year == \"object\") {\r\n            this.setYear(year.Y!)\r\n            this.setMonthDate(year.month!, year.date!)\r\n        } else {\r\n            this.setYear(year)\r\n            if (month != null && date != null) this.setMonthDate(month, date)\r\n        }\r\n    }\r\n\r\n    format(dateObject: Date | null): string | null {\r\n        if (!dateObject) return null\r\n        return WrapDate.format(dateObject, this.displayFormat)\r\n    }\r\n\r\n    parseDisplayString(displayString: string | null): Date | null {\r\n        if (!displayString) return null\r\n        return WrapDate.parse(displayString, this.displayFormat)\r\n    }\r\n\r\n    parseValueString(valueString: string | null): Date | null {\r\n        if (!valueString) return null\r\n        return WrapDate.parse(valueString, this.valueFormat)\r\n    }\r\n\r\n    copy(): WrapDate {\r\n        return new WrapDate(this.valueString, this.displayFormat, this.valueFormat)\r\n    }\r\n\r\n    /*---------------------------------------static-------------------------------------------*/\r\n\r\n    static defaultDate(): Date {\r\n        const date = new Date()\r\n        date.setMonth(0, 1)\r\n        date.setHours(0, 0, 0)\r\n        return date\r\n    }\r\n\r\n    static format(dateObject: Date, formatString: string) {\r\n        if (!dateObject) return null\r\n        return fecha.format(dateObject, formatString)\r\n    }\r\n\r\n    static parse(dateString: string, formatString: string) {\r\n        if (!dateString) return null\r\n        return fecha.parse(dateString, formatString)\r\n    }\r\n\r\n    static today(displayFormat: string, valueFormat: string): PlainDateType {\r\n        let today = new WrapDate(null, displayFormat, valueFormat)\r\n        today.setTime(new Date().getTime())\r\n        return today as PlainDateType\r\n    }\r\n\r\n    static CompareMode = CompareMode\r\n}\r\n\r\nexport const PlainDate = WrapDate as any as (new(...args: ConstructorParameters<typeof WrapDate>) => PlainDateType) & {\r\n    defaultDate(): Date,\r\n    format(dateObject: Date, formatString: string): string,\r\n    parse(dateString: string, formatString: string): Date | null,\r\n    today(displayFormat: string, valueFormat: string): PlainDateType,\r\n    CompareMode: typeof CompareMode,\r\n}\r\n","import {createAgentGetter} from \"../../popper/edit/createAgentGetter\";\r\n\r\nexport const TimeServiceGetter = createAgentGetter({\r\n    name: 'time',\r\n    render: (attrs) => <pl-time-panel {...attrs}/>,\r\n    defaultPopperAttrs: {\r\n        transition: 'pl-transition-popper-drop',\r\n    },\r\n})","import {provide, inject} from 'vue'\r\nimport {SimpleFunction} from \"../../shims\";\r\n\r\nconst REFRESH_POPPER_REFERENCE = '@@REFRESH_POPPER_REFERENCE'\r\n\r\n/**\r\n * 因为 Popper 是无根节点，所以比较难检测到reference节点变化的情况。为了优化这一块的内容\r\n * 有两种方式，一种是在使用Popper组件的时候，reference包裹一层不变的节点，缺点是会破坏无根\r\n * 节点的结构。另一种是，提供一个 refreshPopperReference 函数，子组件可以注入这个函数，当子组件\r\n * 知道自己的reference节点变化之后调用这个函数通知Popper重新reference。\r\n *\r\n * @author  韦胜健\r\n * @date    2020/11/19 11:00\r\n */\r\nexport const refreshPopperReference = {\r\n    provide: (refresh: () => void) => {\r\n        provide(REFRESH_POPPER_REFERENCE, refresh)\r\n    },\r\n    inject: (defaultValue = null) => {\r\n        const refresh = inject(REFRESH_POPPER_REFERENCE, defaultValue) as null | SimpleFunction\r\n        return {\r\n            freshPopperReference: () => !!refresh && refresh()\r\n        }\r\n    },\r\n}","import {computed, PropType, reactive, watch} from \"vue\";\r\nimport {designComponent} from \"../../use/designComponent\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport './button.scss'\r\nimport {ClickWave} from \"../click-wave/click-wave-directive\";\r\nimport {EditProps, useEdit} from \"../../use/useEdit\";\r\nimport {StyleProps, useStyle} from \"../../use/useStyle\";\r\nimport {useProps} from \"../../use/useProps\";\r\nimport {ButtonModeProvider} from \"../button-group/button-group\";\r\nimport {SimpleFunction} from \"../../shims\";\r\nimport {throttle} from 'plain-utils/utils/throttle'\r\nimport {unit} from 'plain-utils/string/unit'\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {DEFAULT_STATUS} from \"../../utils/constant\";\r\nimport Icon from '../icon'\r\n\r\nconsole.log('load button component')\r\n\r\nexport default designComponent({\r\n    name: 'pl-button',\r\n    directives: {ClickWave},\r\n    props: {\r\n        mode: {type: String, default: 'fill'},                  // fill,stroke,text\r\n        label: {type: [String, Object]},                        // 按钮文本\r\n        width: {type: [String, Number]},                        // 按钮宽度\r\n        icon: {type: String},                                   // 按钮图标\r\n        active: {type: Boolean},                                // 按钮是否高亮\r\n        noPadding: {type: Boolean},                             // 按钮是否无边距\r\n        block: {type: Boolean},                                 // 块级元素\r\n        throttleClick: {type: [Boolean, Number]},               // click节流\r\n        autoLoading: {type: Boolean},                           // 在执行click处理函数时，是否自动变更为加载状态\r\n        asyncHandler: {type: Function as PropType<(e: MouseEvent) => void>},    // autoLoading 为true时，的异步处理函数\r\n\r\n        ...EditProps,\r\n        ...StyleProps,\r\n\r\n        /*native*/\r\n        type: {type: String, default: 'button'},\r\n        nativeAttrs: {type: Object},\r\n    },\r\n    emits: {\r\n        onClick: (e: MouseEvent) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const {slots} = useSlots()\r\n        const {propsState} = useProps(props, {\r\n            width: useProps.NUMBER,\r\n            label: useProps.PROMISE,\r\n        })\r\n        const {styleComputed} = useStyle({status: DEFAULT_STATUS})\r\n        const {editState, editComputed} = useEdit()\r\n        const buttonGroup = ButtonModeProvider.inject()\r\n        const otherComputed = computed(() => ({\r\n            mode: !!buttonGroup ? buttonGroup.value.mode : props.mode\r\n        }))\r\n        const state = reactive({\r\n            handleClick: null as SimpleFunction | null,\r\n            handleClickInner: async (e: MouseEvent) => {\r\n                e.stopPropagation()\r\n                if (!editComputed.value.editable) {\r\n                    return\r\n                }\r\n                if (!props.autoLoading) {\r\n                    return emit.onClick(e)\r\n                }\r\n                if (!props.asyncHandler) {\r\n                    return console.error(`pl-button: props.asyncHandler is necessary when autoLoading is true!`)\r\n                }\r\n                editState.loading = true\r\n                try {\r\n                    await props.asyncHandler(e)\r\n                } catch (e) {\r\n                    console.error(e)\r\n                } finally {\r\n                    editState.loading = null\r\n                }\r\n            },\r\n        })\r\n\r\n        watch(\r\n            () => props.throttleClick,\r\n            (val) => {\r\n                if (!val) {\r\n                    return state.handleClick = state.handleClickInner\r\n                }\r\n                if (val === true) {\r\n                    val = 1000\r\n                }\r\n                state.handleClick = throttle(state.handleClickInner, val, {trailing: false})\r\n            },\r\n            {immediate: true}\r\n        )\r\n\r\n        const classes = computed(() => ([\r\n            'pl-button',\r\n            'plain-click-node',\r\n\r\n            `pl-button-mode-${otherComputed.value.mode}`,\r\n            `pl-button-status-${styleComputed.value.status}`,\r\n            `pl-button-shape-${styleComputed.value.shape}`,\r\n            `pl-button-size-${styleComputed.value.size}`,\r\n\r\n            {\r\n                'pl-button-icon': !!props.icon,\r\n                'pl-button-active': !!props.active,\r\n                'pl-button-noPadding': !!props.noPadding,\r\n\r\n                'pl-button-loading': !!editComputed.value.loading,\r\n                'pl-button-has-icon': !!props.icon,\r\n                'pl-button-block': !!props.block,\r\n                'pl-button-disabled': !!editComputed.value.disabled,\r\n                'pl-button-icon-only': !!props.icon && !propsState.label,\r\n            },\r\n        ]))\r\n\r\n        const styles = useStyles(style => {\r\n            style.width = unit(propsState.width)\r\n        })\r\n\r\n        return {\r\n            render: () => {\r\n                return (\r\n                    <button\r\n                        style={styles.value}\r\n                        class={classes.value}\r\n                        type={props.type as any}\r\n                        disabled={editComputed.value.disabled!}\r\n                        v-click-wave={\"large\"}\r\n                        {...{\r\n                            ...(props.nativeAttrs || {}),\r\n                            onClick: state.handleClick!,\r\n                        }}\r\n                    >\r\n                        {!!editComputed.value.loading && <pl-loading type=\"gamma\"/>}\r\n                        {\r\n                            slots.default(<>\r\n                                {(!!props.icon && !editComputed.value.loading) ? <Icon icon={props.icon}/> : null}\r\n                                {propsState.label ? <span>{propsState.label}</span> : null}\r\n                            </>)\r\n                        }\r\n                    </button>\r\n                )\r\n            }\r\n        }\r\n    },\r\n})","import Button from './button'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(Button)","var map = {\n\t\"./form/form-basic.vue\": [\n\t\t\"c40a\",\n\t\t\"chunk-2d216b18\"\n\t],\n\t\"./form/form-blur.vue\": [\n\t\t\"7cab\",\n\t\t\"chunk-2d0e2123\"\n\t],\n\t\"./form/form-dynamic-items.vue\": [\n\t\t\"a0aa\",\n\t\t\"chunk-2d207945\"\n\t],\n\t\"./form/form-edit-control.vue\": [\n\t\t\"0e97\",\n\t\t\"chunk-2d0af509\"\n\t],\n\t\"./form/form-elements.vue\": [\n\t\t\"5000\",\n\t\t\"chunk-2d0c72d1\"\n\t],\n\t\"./form/form-grid.vue\": [\n\t\t\"f156\",\n\t\t\"chunk-2d22bd62\"\n\t],\n\t\"./form/form-size.vue\": [\n\t\t\"1b42\",\n\t\t\"chunk-2d0b5d85\"\n\t],\n\t\"./form/form-validate-mode.vue\": [\n\t\t\"530a\",\n\t\t\"chunk-1fd5276b\"\n\t],\n\t\"./form/form-validate.vue\": [\n\t\t\"4eea\",\n\t\t\"chunk-2d0ccc03\"\n\t],\n\t\"./normal/alert.vue\": [\n\t\t\"7f6e\",\n\t\t\"chunk-b15d6edc\"\n\t],\n\t\"./normal/badge.vue\": [\n\t\t\"f485\",\n\t\t\"chunk-0882dea0\"\n\t],\n\t\"./normal/button.vue\": [\n\t\t\"1e5a\",\n\t\t\"chunk-2d0b6916\"\n\t],\n\t\"./normal/card.vue\": [\n\t\t\"ed3a\",\n\t\t\"chunk-2d230863\"\n\t],\n\t\"./normal/carousel.vue\": [\n\t\t\"1cbd\",\n\t\t\"chunk-2d0b670a\"\n\t],\n\t\"./normal/cascade.vue\": [\n\t\t\"e8e3\",\n\t\t\"chunk-2d226917\"\n\t],\n\t\"./normal/checkbox.vue\": [\n\t\t\"ecd1\",\n\t\t\"chunk-8c528a7e\"\n\t],\n\t\"./normal/collapse.vue\": [\n\t\t\"5583\",\n\t\t\"chunk-d0623118\"\n\t],\n\t\"./normal/color-picker.vue\": [\n\t\t\"7c40\",\n\t\t\"chunk-2d0e1b7e\"\n\t],\n\t\"./normal/color.vue\": [\n\t\t\"a642\",\n\t\t\"chunk-67de4bec\"\n\t],\n\t\"./normal/date.vue\": [\n\t\t\"9996\",\n\t\t\"chunk-2d0e6733\"\n\t],\n\t\"./normal/dialog.vue\": [\n\t\t\"8ae9\",\n\t\t\"chunk-3a1bf136\"\n\t],\n\t\"./normal/dropdown.vue\": [\n\t\t\"86fb\",\n\t\t\"chunk-2d0ded30\"\n\t],\n\t\"./normal/grid.vue\": [\n\t\t\"9c0b\",\n\t\t\"chunk-22e0a968\"\n\t],\n\t\"./normal/icon.vue\": [\n\t\t\"5dee\",\n\t\t\"chunk-4b009cb4\"\n\t],\n\t\"./normal/input.vue\": [\n\t\t\"2ace\",\n\t\t\"chunk-2d0bd407\"\n\t],\n\t\"./normal/list.vue\": [\n\t\t\"be7d\",\n\t\t\"chunk-09a3a414\"\n\t],\n\t\"./normal/loading.vue\": [\n\t\t\"2c06\",\n\t\t\"chunk-2d0bd52d\"\n\t],\n\t\"./normal/number.vue\": [\n\t\t\"8447\",\n\t\t\"chunk-89a68be8\"\n\t],\n\t\"./normal/pagination.vue\": [\n\t\t\"f7cd\",\n\t\t\"chunk-38aa7b52\"\n\t],\n\t\"./normal/popper.vue\": [\n\t\t\"a97d\",\n\t\t\"chunk-25ff62c2\"\n\t],\n\t\"./normal/progress.vue\": [\n\t\t\"807a\",\n\t\t\"chunk-2d0dd0f8\"\n\t],\n\t\"./normal/radio.vue\": [\n\t\t\"f0bd\",\n\t\t\"chunk-43085bb4\"\n\t],\n\t\"./normal/rate.vue\": [\n\t\t\"1dc2\",\n\t\t\"chunk-2d0b6ab8\"\n\t],\n\t\"./normal/scroll.vue\": [\n\t\t\"6e4f\",\n\t\t\"chunk-349f5122\"\n\t],\n\t\"./normal/select.vue\": [\n\t\t\"8fd2\",\n\t\t\"chunk-2d0ea0f2\"\n\t],\n\t\"./normal/slider.vue\": [\n\t\t\"3f1c\",\n\t\t\"chunk-2d0c551b\"\n\t],\n\t\"./normal/step.vue\": [\n\t\t\"1956\",\n\t\t\"chunk-87bc0906\"\n\t],\n\t\"./normal/tag.vue\": [\n\t\t\"701a\",\n\t\t\"chunk-2d0d5bdf\"\n\t],\n\t\"./normal/time.vue\": [\n\t\t\"f6f1\",\n\t\t\"chunk-2d22d611\"\n\t],\n\t\"./normal/toggle.vue\": [\n\t\t\"17a2\",\n\t\t\"chunk-2d0ac18d\"\n\t],\n\t\"./normal/tooltip.vue\": [\n\t\t\"52da\",\n\t\t\"chunk-2d0c80d0\"\n\t],\n\t\"./normal/tree.vue\": [\n\t\t\"ef4f\",\n\t\t\"chunk-2d2300f7\",\n\t\t\"chunk-1b31a082\"\n\t],\n\t\"./normal/virtual-list.vue\": [\n\t\t\"823d\",\n\t\t\"chunk-642f8aa6\"\n\t],\n\t\"./service/demo-before-create.vue\": [\n\t\t\"41ed\",\n\t\t\"chunk-2d0c08d2\"\n\t],\n\t\"./service/dialog-service.vue\": [\n\t\t\"00ab\",\n\t\t\"chunk-2d0a3317\"\n\t],\n\t\"./service/message-service.vue\": [\n\t\t\"b751\",\n\t\t\"chunk-2d210267\"\n\t],\n\t\"./service/notice-service.vue\": [\n\t\t\"700e\",\n\t\t\"chunk-2d0d5bc4\"\n\t],\n\t\"./service/popper-service.vue\": [\n\t\t\"c1f6\",\n\t\t\"chunk-4b0d0451\"\n\t],\n\t\"./table/span/table-colspan.vue\": [\n\t\t\"5b14\",\n\t\t\"chunk-2d0d2ea6\"\n\t],\n\t\"./table/span/table-rowspan.vue\": [\n\t\t\"51d7\",\n\t\t\"chunk-2d0c7ce5\"\n\t],\n\t\"./table/span/table-span.vue\": [\n\t\t\"20ea\",\n\t\t\"chunk-244df15e\"\n\t],\n\t\"./table/table-base-test.vue\": [\n\t\t\"5baa\",\n\t\t\"chunk-07561cca\"\n\t],\n\t\"./table/table-basic.vue\": [\n\t\t\"33df\",\n\t\t\"chunk-74cc218d\"\n\t],\n\t\"./table/table-class-style.vue\": [\n\t\t\"605e\",\n\t\t\"chunk-606d5805\"\n\t],\n\t\"./table/table-col-draggable.vue\": [\n\t\t\"ff85\",\n\t\t\"chunk-073442f3\"\n\t],\n\t\"./table/table-columns.vue\": [\n\t\t\"dcf41\",\n\t\t\"chunk-638ade38\"\n\t],\n\t\"./table/table-config.vue\": [\n\t\t\"2c13\",\n\t\t\"chunk-2ca059b2\"\n\t],\n\t\"./table/table-expand.vue\": [\n\t\t\"10c5\",\n\t\t\"chunk-4e35c49f\"\n\t],\n\t\"./table/table-fixed.vue\": [\n\t\t\"ed5f\",\n\t\t\"chunk-da7485a8\"\n\t],\n\t\"./table/table-plc-editable.vue\": [\n\t\t\"4858\",\n\t\t\"chunk-6467466e\"\n\t],\n\t\"./table/table-plc-scoped-slot.vue\": [\n\t\t\"d753\",\n\t\t\"chunk-809184f6\"\n\t],\n\t\"./table/table-row-draggable.vue\": [\n\t\t\"bea7\",\n\t\t\"chunk-6aeaee92\"\n\t],\n\t\"./table/tree/table-tree.vue\": [\n\t\t\"62ce\",\n\t\t\"chunk-2e73eeec\"\n\t],\n\t\"./table/tree/tree-table-virtual-draggable.vue\": [\n\t\t\"4311\",\n\t\t\"chunk-2d0c09d5\"\n\t],\n\t\"./table/tree/tree-table-virtual.vue\": [\n\t\t\"263a\",\n\t\t\"chunk-2d0b2cc8\"\n\t],\n\t\"./table/virtual-table.vue\": [\n\t\t\"42bc\",\n\t\t\"chunk-1743c69e\"\n\t],\n\t\"./test/test-pass-attrs-hot-reload/test-pass-attrs-hot-reload.vue\": [\n\t\t\"8544\",\n\t\t\"chunk-2d0de333\"\n\t],\n\t\"./test/test.vue\": [\n\t\t\"abd6\",\n\t\t\"chunk-2d213529\"\n\t],\n\t\"./use/useCollect/demo-use-collect.vue\": [\n\t\t\"a108\",\n\t\t\"chunk-c4256c3a\"\n\t],\n\t\"./use/useEvent/demo-use-event.vue\": [\n\t\t\"6ef1\",\n\t\t\"chunk-2c2ee53a\"\n\t],\n\t\"./use/useModel/demo-use-model.vue\": [\n\t\t\"ba13\",\n\t\t\"chunk-2d219f97\"\n\t],\n\t\"./use/useProps/demo-use-props.vue\": [\n\t\t\"fb76\",\n\t\t\"chunk-2d237591\"\n\t],\n\t\"./use/useRefs/demo-use-refs.vue\": [\n\t\t\"90ae\",\n\t\t\"chunk-2d0e4a71\"\n\t],\n\t\"./use/useScopedSlots/demo-use-scoped-slots.vue\": [\n\t\t\"017a\",\n\t\t\"chunk-7ca781f0\"\n\t],\n\t\"./use/useSlots/demo-use-slots.vue\": [\n\t\t\"f6df\",\n\t\t\"chunk-0c898c56\"\n\t],\n\t\"./use/useStyle/demo-use-style.vue\": [\n\t\t\"f9a4\",\n\t\t\"chunk-3e5f5a95\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"10f1\";\nmodule.exports = webpackAsyncContext;","import {useFunctionWrapper} from \"./useFunctionWrapper\";\r\nimport {computed, inject, PropType, provide} from 'vue';\r\n\r\nexport enum StyleMode {\r\n    fill = 'fill',\r\n    stroke = 'stroke',\r\n    text = 'text',\r\n}\r\n\r\nexport enum StyleShape {\r\n    fillet = 'fillet',\r\n    round = 'round',\r\n    square = 'square',\r\n}\r\n\r\nexport enum StyleSize {\r\n    normal = 'normal',\r\n    large = 'large',\r\n    mini = 'mini',\r\n}\r\n\r\nexport enum StyleStatus {\r\n    primary = 'primary',\r\n    success = 'success',\r\n    error = 'error',\r\n    warn = 'warn',\r\n    info = 'info',\r\n}\r\n\r\nexport const StyleProps = {\r\n    shape: {type: String as PropType<StyleShape>},                      // fillet,round,square\r\n    size: {type: String as PropType<StyleSize>},                       // normal,large,mini\r\n    status: {type: String as PropType<StyleStatus>},                     // primary,success,error,warn,info\r\n}\r\n\r\ninterface UseStyleProvideData {\r\n    shape: StyleShape,\r\n    size: StyleSize,\r\n    status?: StyleStatus,\r\n}\r\n\r\ninterface UseStyleOption {\r\n    shape?: StyleShape,\r\n    size?: StyleSize,\r\n    status?: StyleStatus,\r\n    adjust?: (data: UseStyleProvideData) => void | UseStyleProvideData\r\n}\r\n\r\nconst USE_STYLE_PROVIDER = '@@USE_STYLE_PROVIDER'\r\n\r\nexport const useStyle = useFunctionWrapper('style', (ctx, option: UseStyleOption = {}): { styleComputed: { value: UseStyleProvideData } } => {\r\n\r\n    const parent = inject(USE_STYLE_PROVIDER, null) as null | { value: UseStyleProvideData }\r\n    const defaultData = Object.assign({shape: StyleShape.fillet, size: StyleSize.normal}, option)\r\n\r\n    const styleComputed = computed(() => {\r\n        const {shape, size, status} = ctx.props\r\n        const parentData = !!parent ? parent.value : {} as any\r\n        let data: UseStyleProvideData = {\r\n            shape: shape || parentData.shape || defaultData.shape,\r\n            size: size || parentData.size || defaultData.size,\r\n            status: status || parentData.status || defaultData.status,\r\n        }\r\n        if (!!defaultData.adjust) {\r\n            data = defaultData.adjust(data) || data\r\n        }\r\n        (data as any).ctx = ctx;\r\n        (data as any).parent = parent\r\n        return data\r\n    })\r\n\r\n    provide(USE_STYLE_PROVIDER, styleComputed)\r\n\r\n    return {styleComputed}\r\n})","import {useFunctionWrapper} from \"./useFunctionWrapper\";\r\nimport {computed, inject, onBeforeUnmount, provide, reactive} from 'vue';\r\nimport {ComponentEvent} from \"./useEvent\";\r\n\r\nexport const EDIT_PROVIDER = '@@EDIT_PROVIDER'\r\n\r\nexport const EditProps = {\r\n    disabled: {type: Boolean, default: null},\r\n    readonly: {type: Boolean, default: null},\r\n    loading: {type: Boolean, default: null},\r\n    placeholder: {type: String, default: null},\r\n    customReadonly: {type: Boolean, default: null},\r\n}\r\n\r\ninterface EditProvideData {\r\n    disabled: boolean | null,\r\n    readonly: boolean | null,\r\n    loading: boolean | null,\r\n    placeholder: string | null,\r\n\r\n    onBlur?: (...args: any[]) => void,\r\n    onChange?: (...args: any[]) => void,\r\n}\r\n\r\nexport const useEdit = useFunctionWrapper(\r\n    'edit',\r\n    (ctx, option: { adjust?: (data: EditProvideData) => void | EditProvideData } = {}) => {\r\n\r\n        const parentEditComputed = inject(EDIT_PROVIDER, null) as null | { value: EditProvideData }\r\n\r\n        const editState = reactive({loading: null as null | boolean})\r\n\r\n        const editComputed = computed(() => {\r\n            const {\r\n                disabled,\r\n                readonly,\r\n                loading,\r\n                placeholder\r\n            } = ctx.props as any as EditProvideData\r\n\r\n            let data = {disabled, readonly, loading, placeholder}\r\n\r\n            if (data.disabled == null) data.disabled = !!parentEditComputed ? parentEditComputed.value.disabled : false\r\n            if (data.readonly == null) data.readonly = !!parentEditComputed ? parentEditComputed.value.readonly : false\r\n            if (data.placeholder == null) data.placeholder = !!parentEditComputed ? parentEditComputed.value.placeholder : null\r\n            if (editState.loading == null) {\r\n                data.loading = data.loading != null ? data.loading : (!!parentEditComputed ? parentEditComputed.value.loading : false)\r\n            } else {\r\n                data.loading = editState.loading\r\n            }\r\n\r\n            if (!!option.adjust) data = option.adjust(data) || data\r\n\r\n            return {\r\n                ...data,\r\n                editable: !data.disabled && !data.readonly && !data.loading\r\n            }\r\n        });\r\n\r\n        provide(EDIT_PROVIDER, editComputed)\r\n\r\n        const event = (ctx as any)._event as ComponentEvent<any> | undefined\r\n\r\n        if (!!parentEditComputed) {\r\n            if (!!parentEditComputed.value.onBlur && !!event && !!event.on.onBlur) {\r\n                event.on.onBlur(parentEditComputed.value.onBlur)\r\n                onBeforeUnmount(() => event.off.onBlur(parentEditComputed.value.onBlur!))\r\n            }\r\n            if (!!parentEditComputed.value.onChange && !!event && !!event.on.onChange) {\r\n                event.on.onChange(parentEditComputed.value.onChange)\r\n                onBeforeUnmount(() => event.off.onChange(parentEditComputed.value.onChange!))\r\n            }\r\n        }\r\n\r\n        return {\r\n            editState,\r\n            editComputed,\r\n        }\r\n    })","import {Events} from 'vue'\r\n\r\n/**\r\n * 方便创建监听原生事件的监听函数\r\n * @author  韦胜健\r\n * @date    2020/12/14 17:47\r\n */\r\nexport function createEventListener<Config extends Partial<{ [k in keyof Events]: (e: Events[k]) => void }>>(config: Config): Config {\r\n    return config\r\n}","/**\r\n * 校验触发动作类型\r\n * @author  韦胜健\r\n * @date    2020/12/12 15:41\r\n */\r\n\r\n/**\r\n * 校验触发器类型\r\n * @author  韦胜健\r\n * @date    2020/12/12 22:02\r\n */\r\nexport enum FormValidateTrigger {\r\n    change = 'change',\r\n    blur = 'blur',\r\n    all = 'all',\r\n}\r\n\r\n/**\r\n * 校验的值类型\r\n * @author  韦胜健\r\n * @date    2020/12/12 22:02\r\n */\r\nexport enum FormValueType {\r\n    string = 'string',\r\n    number = 'number',\r\n    boolean = 'boolean',\r\n    array = 'array',\r\n}\r\n\r\n/**\r\n * form以及formItem的rules属性类型\r\n * @author  韦胜健\r\n * @date    2020/7/18 12:39\r\n */\r\nexport interface FormRule {\r\n\r\n    field?: string | string[]                                                               // 绑定的字段\r\n    label?: string                                                                          // form item 的文本\r\n    options?: any | any[]                                                                   // 选项值校验\r\n\r\n    max?: number,                                                                           // 最大长度（字符串），最大值（数字），最大长度（数组）\r\n    min?: number,                                                                           // 最小长度（字符串），最小值（数字），最小长度（数组）\r\n    message?: string,                                                                       // 检验事变提示信息\r\n    pattern?: RegExp,                                                                       // 校验的正则表达式\r\n    required?: boolean,                                                                     // 是否必填\r\n    transform?: (val?: any) => any,                                                         // 将字段值转换成目标值之后校验\r\n    type?: FormValueType,                                                                   // 数据的类型\r\n    trigger?: FormValidateTrigger,                                                          // 触发器\r\n    validator?: (rule: FormRule, value: any, formData: object) => void | string | Promise<void | string>,// 自定义校验器\r\n\r\n}\r\n\r\n/**\r\n * pl-form组件 rules 属性对象类型\r\n * @author  韦胜健\r\n * @date    2020/12/12 15:59\r\n */\r\nexport type FormComponentRules = FormRule[] | ({ [field: string]: FormRule | FormRule[] })\r\n\r\n/**\r\n * pl-form-item 组件rules属性对象类型\r\n * @author  韦胜健\r\n * @date    2020/12/12 15:59\r\n */\r\nexport interface FormComponentItemRules {\r\n    label?: string,\r\n    field?: string | string[]\r\n    required?: boolean,\r\n    rules?: FormRule | FormRule[]\r\n}\r\n\r\n/**\r\n * 校验单个字段的结果\r\n * @author  韦胜健\r\n * @date    2020/12/12 22:24\r\n */\r\nexport interface FormValidateResult {\r\n    label?: string,\r\n    message: string,\r\n    rule: FormRule,\r\n    value: any,\r\n}\r\n\r\n/**\r\n * 校验结果\r\n * @author  韦胜健\r\n * @date    2020/12/12 22:24\r\n */\r\nexport interface FormValidateResultMap {[k: string]: FormValidateResult | undefined}\r\n\r\n/**\r\n * 表单校验工具对象\r\n * @author  韦胜健\r\n * @date    2020/12/13 14:53\r\n */\r\nexport const FormValidateUtils = {\r\n    getValueByField(field: string, formData: Record<string, any> | undefined | null, transform?: (val: any) => any) {\r\n        if (!formData) {\r\n            return null\r\n        }\r\n        let val: any;\r\n        if (field.indexOf('.') === -1) {\r\n            val = formData[field]\r\n        } else {\r\n            const fields = field.split('.')\r\n            let index = 0, len = fields.length\r\n            let value = formData[fields[index]]\r\n\r\n            while (index < len - 1 && value != null) {\r\n                value = value[fields[++index]]\r\n            }\r\n            val = index == len - 1 ? value : null\r\n        }\r\n        return !transform ? val : transform(val)\r\n    },\r\n    /**\r\n     * 获取max校验失败信息\r\n     * @author  韦胜健\r\n     * @date    2020/12/13 14:54\r\n     */\r\n    getMaxMessage({value, max, type,}: { value: any, max: number, type?: FormValueType, }) {\r\n        if (Array.isArray(value)) {\r\n            return `最多选择 ${max} 个选项`\r\n        }\r\n        if (type == \"number\") {\r\n            return `最大值 ${max}`\r\n        }\r\n        return `最大文本长度 ${max} 个字符`\r\n    },\r\n    /**\r\n     * 获取min校验失败信息\r\n     * @author  韦胜健\r\n     * @date    2020/12/13 14:54\r\n     */\r\n    getMinMessage({value, min, type,}: { value: any, min: number, type?: FormValueType, }) {\r\n        if (Array.isArray(value)) {\r\n            return `最少选择 ${min} 个选项`\r\n        }\r\n        if (type == \"number\") {\r\n            return `最小值 ${min}`\r\n        }\r\n        return `最小文本长度 ${min} 个字符`\r\n    },\r\n    /**\r\n     * 获取有效值列表。如果值不存在则返回null\r\n     * @author  韦胜健\r\n     * @date    2020/12/13 14:55\r\n     */\r\n    getListValue<T>(val: T | T[] | null | undefined): T[] | null {\r\n        if (!val) {\r\n            return null\r\n        }\r\n        return Array.isArray(val) ? val : [val]\r\n    },\r\n    /**\r\n     * 执行校验规则，如果函数参数中有field，则只校验一个字段,否则校验rule中所有的字段\r\n     * @author  韦胜健\r\n     * @date    2020/12/13 14:56\r\n     * @param   rule                要校验的FormRule\r\n     * @param   formData            表单数据对象\r\n     * @param   fieldToLabel        字段映射label的对象\r\n     * @param   field               校验的字段\r\n     */\r\n    async checkRule({rule, formData, fieldToLabel, field}: { formData: Record<string, any> | null, rule: FormRule, fieldToLabel: Record<string, string>, field?: string }): Promise<null | FormValidateResult> {\r\n        const {\r\n            transform, type,\r\n            label, message,\r\n            required, options, max, min, pattern, validator\r\n        } = rule\r\n\r\n        let validList: { field: string, value: any }[] | null = null;\r\n\r\n        /*如果函数参数中有field，则只校验一个字段,否则校验rule中所有的字段*/\r\n        if (!!field) {\r\n            /*校验一个字段*/\r\n            validList = [{field, value: FormValidateUtils.getValueByField(field, formData, transform)}]\r\n        } else {\r\n            /*校验rule中所有的字段*/\r\n            const fields = FormValidateUtils.getListValue(rule.field)\r\n            if (!!fields) {\r\n                validList = fields.map(f => ({field: f, value: FormValidateUtils.getValueByField(f, formData, transform)}))\r\n            }\r\n        }\r\n        if (!validList || validList.length === 0) {\r\n            return null\r\n        }\r\n\r\n        /*---------------------------------------required 必填校验-------------------------------------------*/\r\n\r\n        if (required) {\r\n            const invalidValues = validList.filter(({value}) => {\r\n\r\n                //校验不通过才返回true\r\n\r\n                if (value == null) {\r\n                    return true\r\n                }\r\n                if (Array.isArray(value) && value.length === 0) {\r\n                    return true\r\n                }\r\n                if (typeof value === 'string') {\r\n                    return !value.trim()\r\n                } else {\r\n                    return false\r\n                }\r\n            })\r\n            if (invalidValues.length > 0) {\r\n                const {field, value} = invalidValues[0]!\r\n                return {\r\n                    rule,\r\n                    value,\r\n                    label: label || fieldToLabel[field],\r\n                    message: message || '必填，不能为空！',\r\n                }\r\n            }\r\n        }\r\n\r\n        /*---------------------------------------options 选项值校验-------------------------------------------*/\r\n\r\n        if (options != null) {\r\n            const optionList = Array.isArray(options) ? options : [options]\r\n            const invalidValues = validList.filter(({value}) => {\r\n\r\n                //校验不通过才返回true\r\n\r\n                if (value == null) {\r\n                    /*没有值，不校验*/\r\n                    return false\r\n                }\r\n                if (!Array.isArray(value)) {\r\n                    /*不是数组，判断值是否存在数组中*/\r\n                    const isExist = optionList.indexOf(value) > -1\r\n                    if (!isExist) {\r\n                        return true\r\n                    }\r\n                } else {\r\n                    /*是数组，判断value数组中是否存在值，不符合options*/\r\n                    return !!(value as any[]).find(v => optionList.indexOf(v) === -1)\r\n                }\r\n            })\r\n            if (invalidValues.length > 0) {\r\n                const {field, value} = invalidValues[0]!\r\n                return {\r\n                    rule,\r\n                    value,\r\n                    label: label || fieldToLabel[field],\r\n                    message: message || '不符合特定选项！',\r\n                }\r\n            }\r\n        }\r\n\r\n        /*---------------------------------------max-------------------------------------------*/\r\n\r\n        if (max != null) {\r\n            const invalidValues = validList.filter(({value, field}) => {\r\n\r\n                //校验不通过才返回true\r\n\r\n                if (value == null) {\r\n                    /*没有值，不校验*/\r\n                    return false\r\n                }\r\n                if (Array.isArray(value)) {\r\n                    return value.length > max\r\n                }\r\n                if (type == \"number\" || typeof value === \"number\") {\r\n                    value = typeof value === \"number\" ? value : Number(value)\r\n                    return value > max\r\n                }\r\n                // string\r\n                return String(value).length > max\r\n            })\r\n            if (invalidValues.length > 0) {\r\n                const {field, value} = invalidValues[0]!\r\n                return {\r\n                    rule,\r\n                    value,\r\n                    label: label || fieldToLabel[field],\r\n                    message: message || FormValidateUtils.getMaxMessage({value, max, type}),\r\n                }\r\n            }\r\n        }\r\n\r\n        /*---------------------------------------min-------------------------------------------*/\r\n\r\n        if (min != null) {\r\n            const invalidValues = validList.filter(({value}) => {\r\n\r\n                //校验不通过才返回true\r\n\r\n                if (value == null) {\r\n                    /*没有值，不校验*/\r\n                    return false\r\n                }\r\n                if (Array.isArray(value)) {\r\n                    return value.length < min\r\n                }\r\n                if (type == \"number\" || typeof value === \"number\") {\r\n                    value = typeof value === \"number\" ? value : Number(value)\r\n                    return value < min\r\n                }\r\n                // string\r\n                return String(value).length < min\r\n            })\r\n            if (invalidValues.length > 0) {\r\n                const {field, value} = invalidValues[0]!\r\n                return {\r\n                    rule,\r\n                    value,\r\n                    label: label || fieldToLabel[field],\r\n                    message: message || FormValidateUtils.getMinMessage({value, min, type}),\r\n                }\r\n            }\r\n        }\r\n\r\n        /*---------------------------------------pattern-------------------------------------------*/\r\n\r\n        if (!!pattern) {\r\n            const invalidValues = validList.filter(({value}) => {\r\n                if (value == null) {\r\n                    /*没有值，不校验*/\r\n                    return false\r\n                }\r\n                return !pattern.test(value)\r\n            })\r\n            if (invalidValues.length > 0) {\r\n                const {field, value} = invalidValues[0]!\r\n                return {\r\n                    rule,\r\n                    value,\r\n                    label: label || fieldToLabel[field],\r\n                    message: message || '不符合特定模式',\r\n                }\r\n            }\r\n        }\r\n\r\n        /*---------------------------------------validator-------------------------------------------*/\r\n\r\n        if (!!validator) {\r\n            const validateResultList = (await Promise.all(validList.map(async ({field, value}) => {\r\n                const message = await validator(rule, value, formData || {})\r\n                if (!message) {\r\n                    return null\r\n                }\r\n                return {\r\n                    rule,\r\n                    message,\r\n                    value,\r\n                    label: label || fieldToLabel[field],\r\n                }\r\n            }))).filter(Boolean) as FormValidateResult[]\r\n            if (validateResultList.length > 0) {\r\n                return validateResultList[0]!\r\n            }\r\n        }\r\n\r\n        return null\r\n    }\r\n}\r\n\r\n/**\r\n * validateField校验返回结果\r\n * @author  韦胜健\r\n * @date    2020/12/16 11:49\r\n */\r\nexport type FormValidateFieldReturn = FormValidateResult | undefined\r\n/**\r\n * validate校验返回结果\r\n * @author  韦胜健\r\n * @date    2020/12/16 11:49\r\n */\r\nexport type FormValidateReturn = { validateResultMap: FormValidateResultMap, validateMessage: string | undefined, validateResult?: FormValidateResult }\r\n\r\n/**\r\n * 获取总的FormRules数组\r\n * @author  韦胜健\r\n * @date    2020/12/12 21:45\r\n */\r\nexport function formatFormRules(\r\n    formComponentRules?: FormComponentRules,\r\n    formItems?: FormComponentItemRules[]\r\n) {\r\n\r\n    /*field 转化为 label的映射*/\r\n    let fieldToLabel = {} as Record<string, string>\r\n    /*返回值，总的校验规则数组*/\r\n    let resultRules: FormRule[] = []\r\n\r\n    if (!!formItems && formItems.length > 0) {\r\n        formItems.forEach(formItem => {\r\n            const {label, field, required, rules} = formItem\r\n            const fields = FormValidateUtils.getListValue(field)\r\n            if (!!fields) {\r\n                !!label && (fields.forEach(item => fieldToLabel[item] = label));\r\n                required && (resultRules.push({field, label, required: true,}))\r\n            } else {\r\n                if (required) {\r\n                    /*如果 form-item设置了required，但是没有设置field，这里给出警告！*/\r\n                    console.error(\"form-item's props.field is required when props.required is true!\")\r\n                }\r\n            }\r\n            const formItemRules = FormValidateUtils.getListValue(rules)\r\n            if (!!formItemRules && formItemRules.length > 0) {\r\n                formItemRules.forEach(r => {resultRules.push({...r, label: r.label || label, field: r.field || field,})})\r\n            }\r\n        })\r\n    }\r\n\r\n    if (!!formComponentRules) {\r\n        let formComponentRulesList: FormRule[] = []\r\n        if (Array.isArray(formComponentRules)) {\r\n            formComponentRulesList = formComponentRules\r\n        } else {\r\n            Object.keys(formComponentRules).forEach(f => {\r\n                const value = FormValidateUtils.getListValue(formComponentRules[f])\r\n                !!value && value.forEach(r => formComponentRulesList.push({...r, field: r.field || f}))\r\n            })\r\n        }\r\n        resultRules.push(...formComponentRulesList)\r\n    }\r\n\r\n    async function validateField(\r\n        {\r\n            field,\r\n            formData,\r\n            trigger,\r\n            formValidateResultMap,\r\n        }: {\r\n            field: string,\r\n            formData: Record<string, any> | null,\r\n            trigger: FormValidateTrigger,\r\n            formValidateResultMap: FormValidateResultMap,\r\n        }): Promise<FormValidateFieldReturn> {\r\n\r\n        const rules = resultRules.filter(r => {\r\n            const matchField = Array.isArray(r.field) ? r.field.indexOf(field) > -1 : r.field == field\r\n            if (!matchField) {\r\n                return false\r\n            }\r\n            if (trigger === FormValidateTrigger.all) {\r\n                return trigger\r\n            }\r\n            return (r.trigger || FormValidateTrigger.change) === trigger\r\n        })\r\n\r\n        if (rules.length > 0) {\r\n            const validateResult = (await Promise.all(rules.map(r => FormValidateUtils.checkRule({rule: r, formData, fieldToLabel, field}))))\r\n                .filter(Boolean) as FormValidateResult[];\r\n            formValidateResultMap[field] = validateResult[0]\r\n            return formValidateResultMap[field]\r\n        } else {\r\n            /*\r\n            *   如果没有可用的校验规则，则什么事也不做，不能清理掉现有的校验结果，比如\r\n            *   比如 没有change校验，但是只有blur校验。如果blur先执行。在校验change的时候会把blur的检验结果覆盖掉\r\n            */\r\n            return\r\n        }\r\n    }\r\n\r\n    async function validate(formData: Record<string, any> | null): Promise<FormValidateReturn> {\r\n        const validateResultList = (await Promise.all(resultRules.map(r => FormValidateUtils.checkRule({rule: r, formData, fieldToLabel}))))\r\n            .filter(Boolean) as FormValidateResult[];\r\n        const validateResultMap = validateResultList.reduce((prev, next) => {\r\n            const {rule: {field}} = next\r\n            const fields = FormValidateUtils.getListValue(field)\r\n            if (!!fields) {\r\n                fields.forEach(f => prev[f] = next)\r\n            }\r\n            return prev\r\n        }, {} as FormValidateResultMap)\r\n        let validateMessage: string | undefined;\r\n        let validateResult: FormValidateResult | undefined;\r\n        if (validateResultList.length > 0) {\r\n            const {label, message} = validateResultList[0]!\r\n            validateMessage = `“${label}” 校验不通过，${message}`\r\n            validateResult = validateResultList[0]\r\n        }\r\n        return {\r\n            validateResultMap,\r\n            validateResult,\r\n            validateMessage,\r\n        }\r\n    }\r\n\r\n    const fieldToRequired = resultRules.reduce((prev, next) => {\r\n        if (!!next.required) {\r\n            const fields = FormValidateUtils.getListValue(next.field)!\r\n            fields.forEach(f => prev[f] = true)\r\n        }\r\n        return prev\r\n    }, {} as Record<string, boolean>)\r\n\r\n    return {\r\n        /*通过field映射label文本*/\r\n        fieldToLabel,\r\n        /*所有的校验规则*/\r\n        resultRules,\r\n        /*通过field映射required*/\r\n        fieldToRequired,\r\n        methods: {\r\n            /*校验单个字段*/\r\n            validateField,\r\n            /*校验所有规则*/\r\n            validate,\r\n        },\r\n    }\r\n}\r\n\r\nexport type FormValidate = ReturnType<typeof formatFormRules>","export const nextIndex = (() => {\r\n    let index = 1500\r\n    return () => index++\r\n})()","import {ref, watch} from 'vue';\r\n\r\nexport type UseModelConfig<T = any> = {\r\n    autoEmit?: boolean | undefined,\r\n    autoWatch?: boolean | undefined,\r\n    onChange?: (newVal: T, oldVal: T) => void,\r\n}\r\n\r\n/**\r\n * 双向绑定组合函数\r\n * @author  韦胜健\r\n * @date    2020/10/19 9:21\r\n */\r\nexport function useModel<T>(\r\n    getter: () => T,\r\n    emitter: (val: T) => void,\r\n    config?: UseModelConfig<T>\r\n) {\r\n\r\n    const state = ref(getter()) as { value: T }\r\n    config = config || {}\r\n\r\n    if (config.autoWatch !== false) {\r\n        watch(getter, (val: T) => {\r\n            if (val != state.value) {\r\n                if (config!.onChange) {\r\n                    config!.onChange(val, state.value)\r\n                }\r\n                state.value = val\r\n            }\r\n        })\r\n    }\r\n\r\n    return {\r\n        get value() {\r\n            return state.value\r\n        },\r\n        set value(val: T) {\r\n            state.value = val\r\n            if (config!.autoEmit !== false) {\r\n                emitter((val))\r\n            }\r\n        }\r\n    }\r\n}","export * from \"-!../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./app.vue?vue&type=style&index=0&id=51f216de&lang=scss\"","import {designComponent} from \"../../use/designComponent\";\r\nimport {NoticeServiceFormatOption} from \"./index\";\r\nimport {useClass} from \"../../use/useClasses\";\r\nimport {nextIndex} from \"../../utils/nextIndex\";\r\nimport './notice-service.scss'\r\nimport {PropType} from 'vue';\r\nimport Icon from '../icon'\r\nimport Button from '../button'\r\n\r\nexport default designComponent({\r\n    name: 'pl-notice',\r\n    props: {\r\n        option: {type: Object as PropType<NoticeServiceFormatOption>, required: true}\r\n    },\r\n    emits: {\r\n        onClose: () => true\r\n    },\r\n    setup({props, event: {emit}}) {\r\n        const classes = useClass(() => [\r\n            'pl-notice',\r\n            `pl-notice-status-${props.option.status}`\r\n        ])\r\n        const styles = {zIndex: nextIndex()}\r\n        const close = () => {\r\n            emit.onClose()\r\n            !!props.option.onClose && props.option.onClose()\r\n        }\r\n        props.option.close = close\r\n        const handler = {\r\n            onClick: (e: MouseEvent) => {\r\n                !!props.option.onClick && props.option.onClick(e)\r\n            },\r\n            onClickCloseIcon: (e: MouseEvent) => {\r\n                close()\r\n            },\r\n            onMouseenter: () => {\r\n                if (!!closeTimer) {\r\n                    clearTimeout(closeTimer)\r\n                }\r\n            },\r\n            onMouseleave: () => {\r\n                !!props.option.time && (closeTimer = setTimeout(close, props.option.time))\r\n            }\r\n        }\r\n        let closeTimer: number | null = null\r\n        !!props.option.time && (closeTimer = setTimeout(close, props.option.time))\r\n\r\n        return {\r\n            render: () => (\r\n                <div class={classes.value}\r\n                     style={styles}\r\n                     onMouseenter={handler.onMouseenter}\r\n                     onMouseleave={handler.onMouseleave}\r\n                     onClick={handler.onClick}>\r\n                    <div class=\"pl-notice-head\">\r\n                        {!!props.option.icon && <Icon class=\"pl-notice-head-icon\" icon={props.option.icon}/>}\r\n                        {(!!props.option.renderHead || !!props.option.title) && (\r\n                            <div class=\"pl-notice-title\">\r\n                                {!!props.option.renderHead ? props.option.renderHead() : props.option.title}\r\n                            </div>\r\n                        )}\r\n                        {!props.option.noClose && (\r\n                            <Button mode=\"text\" icon=\"el-icon-close\" class=\"pl-notice-close\" onClick={handler.onClickCloseIcon}/>\r\n                        )}\r\n                    </div>\r\n                    {(!!props.option.renderContent || !!props.option.message) && (\r\n                        <div class=\"pl-notice-content\">\r\n                            {!!props.option.renderContent ? props.option.renderContent() : props.option.message}\r\n                        </div>\r\n                    )}\r\n                    {!!props.option.renderFoot && (\r\n                        <div class=\"pl-notice-foot\">\r\n                            {props.option.renderFoot()}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {useClass} from \"../../use/useClasses\";\r\nimport {NoticeServiceDirection, NoticeServiceFormatOption} from \"./index\";\r\nimport {useRefList} from \"../../use/useRefList\";\r\nimport {nextTick, reactive} from 'vue';\r\nimport Notice from \"./notice\";\r\nimport List from '../list'\r\nimport Item from '../item'\r\n\r\nexport default designComponent({\r\n    name: 'pl-notice-container',\r\n    props: {\r\n        horizontal: {type: String, required: true},\r\n        vertical: {type: String, required: true},\r\n        duration: {type: String, default: \"30px\"},\r\n    },\r\n    setup({props}) {\r\n        const classes = useClass(() => [\r\n            'pl-notice-container',\r\n            `pl-notice-container-${props.horizontal}-${props.vertical}`\r\n        ])\r\n        const state = reactive({\r\n            options: [] as NoticeServiceFormatOption[]\r\n        })\r\n        const refs = useRefList<{ option: NoticeServiceFormatOption }>()\r\n        const styles = {padding: props.duration}\r\n        const utils = {\r\n            close: (i: number) => {\r\n                state.options.splice(i, 1)\r\n            }\r\n        }\r\n        return {\r\n            refer: {\r\n                props,\r\n                getNotice: async (option: NoticeServiceFormatOption) => {\r\n                    state.options.push(option)\r\n                    await nextTick()\r\n                    const messages = refs.filter(Boolean)\r\n                    for (let i = 0; i < messages.length; i++) {\r\n                        const message = messages[i];\r\n                        if (message.option === option) {\r\n                            return message\r\n                        }\r\n                    }\r\n                    return null\r\n                },\r\n            },\r\n            render: () => (\r\n                <div class={classes.value} style={styles}>\r\n                    <List direction={props.horizontal === NoticeServiceDirection.start ? 'left' : 'right'}>\r\n                        <Item key=\"placeholder\"/>\r\n                        {state.options.map((option, index) =>\r\n                            <Item key={option.id}>\r\n                                <Notice option={option}\r\n                                        ref={(proxy: any) => refs[index] = proxy}\r\n                                        onClose={() => utils.close(index)}\r\n                                />\r\n                            </Item>\r\n                        )}\r\n                    </List>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {StyleStatus} from \"../../use/useStyle\";\r\nimport {registryRootService} from \"../root/registryRootService\";\r\nimport {RequireFormat, SimpleFunction, VNodeChild} from \"../../shims\";\r\nimport ManagerComponent from './notice-manager'\r\nimport {App} from 'vue';\r\nimport {STATUS} from \"../../utils/constant\";\r\nimport {getServiceWithoutContext} from \"../../utils/getServiceWithoutContext\";\r\n\r\nexport enum NoticeServiceDirection {\r\n    start = 'start',\r\n    end = 'end',\r\n}\r\n\r\nexport interface NoticeServiceOption {\r\n    title?: string | null,                              // 标题\r\n    message?: string,                                   // 通知消息\r\n    time?: number | null,                               // 停留时间\r\n    status?: StyleStatus,                               // 状态\r\n    icon?: string,                                      // 显示图标\r\n    noClose?: boolean,                                  // 不显示关闭按钮\r\n    renderHead?: () => VNodeChild,                      // 自定义头部内容\r\n    renderContent?: () => VNodeChild,                   // 自定义内容\r\n    renderFoot?: () => VNodeChild,                      // 自定义底部内容\r\n    onClick?: SimpleFunction,                           // 点击事件处理函数\r\n    onClose?: SimpleFunction,                           // 关闭处理函数\r\n    vertical?: NoticeServiceDirection,                  // 纵向位置\r\n    horizontal?: NoticeServiceDirection,                // 横向位置\r\n}\r\n\r\nexport type NoticeServiceFormatOption = RequireFormat<NoticeServiceOption, 'time' | 'status' | 'vertical' | 'horizontal'> & {\r\n    id: string,\r\n    close: () => void,\r\n}\r\n\r\n/**\r\n * 格式化消息配置参数\r\n * @author  韦胜健\r\n * @date    2020/11/7 18:21\r\n */\r\nconst formatOption = (() => {\r\n    let idCount = 0\r\n    return (option: NoticeServiceOption): NoticeServiceFormatOption => {\r\n\r\n        const status = option.status === null ? null : (option.status || 'primary')\r\n\r\n        return Object.assign(option as NoticeServiceFormatOption, {\r\n            title: option.title === null ? null : (option.title || '消息提示'),\r\n            id: `message_${idCount++}`,\r\n            time: option.time === null ? null : (option.time || 3 * 1000),\r\n            status,\r\n            icon: option.icon || (!status ? null : STATUS[status].icon),\r\n            horizontal: option.horizontal || NoticeServiceDirection.end,\r\n            vertical: option.vertical || NoticeServiceDirection.start,\r\n            close: () => undefined,\r\n        })\r\n    }\r\n})()\r\n\r\nexport interface NoticeServiceFunction {\r\n    (message: string | NoticeServiceOption, option?: NoticeServiceOption): void\r\n}\r\n\r\nexport type NoticeService = NoticeServiceFunction & { [k in 'primary' | 'success' | 'warn' | 'error' | 'info']: NoticeServiceFunction }\r\n\r\nconst getNoticeService = registryRootService(\r\n    'notice',\r\n    ManagerComponent,\r\n    (getManager) => {\r\n        const service: NoticeServiceFunction = (message: string | NoticeServiceOption, option?: NoticeServiceOption): NoticeServiceFormatOption => {\r\n            let o = typeof message === \"object\" ? message : {message}\r\n            if (!!option) {\r\n                Object.assign(o, option)\r\n            }\r\n            const fo = formatOption(o);\r\n            getManager().then(manager => manager.getContainer(fo).then(container => container.getNotice(fo)))\r\n            return fo\r\n        };\r\n\r\n        return Object.assign(service, [\r\n            'lite',\r\n            'dark',\r\n            'primary',\r\n            'success',\r\n            'warn',\r\n            'error',\r\n            'info',\r\n        ].reduce((prev: any, status: any) => {\r\n            prev[status] = function (message: string | NoticeServiceOption, option?: NoticeServiceOption) {\r\n                const o = typeof message === \"object\" ? message : {message}\r\n                if (!!option) {\r\n                    Object.assign(o, option)\r\n                }\r\n                o.status = status\r\n                return service(o)\r\n            }\r\n            return prev\r\n        }, {})) as NoticeService\r\n    }\r\n)\r\n\r\nexport const $$notice = getServiceWithoutContext(getNoticeService)\r\n\r\nexport default {\r\n    install(app: App) {\r\n        app.mixin({\r\n            beforeCreate(): void {\r\n                Object.defineProperty(this, '$notice', {\r\n                    get() {\r\n                        return getNoticeService(this)\r\n                    },\r\n                })\r\n            }\r\n        })\r\n    },\r\n}","import {designComponent} from \"../../use/designComponent\";\r\nimport {NoticeServiceDirection} from \"./index\";\r\nimport {nextTick, reactive} from 'vue';\r\nimport {useRefList} from \"../../use/useRefList\";\r\nimport Container from \"./notice-container\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-notice-manager',\r\n    setup() {\r\n\r\n        const state = reactive({\r\n            containers: [\r\n                {\r\n                    horizontal: NoticeServiceDirection.end,\r\n                    vertical: NoticeServiceDirection.start,\r\n                }] as { horizontal: NoticeServiceDirection, vertical: NoticeServiceDirection }[]\r\n        })\r\n\r\n        const refs = useRefList<typeof Container.use.class>()\r\n\r\n        const getContainer = async (config: { horizontal: NoticeServiceDirection, vertical: NoticeServiceDirection }): Promise<typeof Container.use.class> => {\r\n            for (let i = 0; i < refs.length; i++) {\r\n                const ref = refs[i];\r\n                if (ref.props.horizontal === config.horizontal && ref.props.vertical === config.vertical) {\r\n                    return ref\r\n                }\r\n            }\r\n            state.containers.push(config);\r\n            await nextTick()\r\n            return getContainer(config)\r\n        }\r\n\r\n        return {\r\n            refer: {\r\n                name: 'I am notice controller',\r\n                getContainer,\r\n            },\r\n            render: () => (\r\n                <div class=\"pl-notice-manager\">\r\n                    {state.containers.map((container, index) =>\r\n                        <Container horizontal={container.horizontal}\r\n                                   vertical={container.vertical}\r\n                                   ref={(proxy: any) => refs[index] = proxy}/>)}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {createDefaultService} from \"../../root/createDefaultService\";\r\nimport {nextTick, reactive, ref, computed} from 'vue';\r\nimport {PopperServiceComponentOption} from \"./utils\";\r\nimport {createCounter} from \"../../../utils/createCounter\";\r\n\r\n/**\r\n * 生成id的计数器，每次show的时候获取一个新的计数器，一遍令render重新渲染\r\n * @author  韦胜健\r\n * @date    2020/11/27 9:31\r\n */\r\nconst counter = createCounter('popper-service-component')\r\n\r\n/**\r\n * 合并attrs\r\n * @author  韦胜健\r\n * @date    2020/11/27 9:31\r\n */\r\nconst mergeAttrs = (() => {\r\n    const LISTENER_MATCH_REG = /on[A-Z]/\r\n    return (config: { attrs: any, defaultAttrs: any, agent: any }) => {\r\n        const {agent} = config\r\n        let attrs = config.attrs || {}\r\n        let defaultAttrs = config.defaultAttrs || {}\r\n        if (typeof attrs === \"function\") {attrs = attrs()}\r\n        if (typeof defaultAttrs === \"function\") {defaultAttrs = defaultAttrs()}\r\n\r\n        const result = {} as any\r\n        Object.keys({...attrs, ...defaultAttrs}).forEach(key => {\r\n            if (LISTENER_MATCH_REG.test(key)) {\r\n                result[key] = (...args: any[]) => {\r\n                    !!(attrs as any)[key] && (attrs as any)[key].apply(agent, args);\r\n                    !!(defaultAttrs as any)[key] && (defaultAttrs as any)[key].apply(agent, args);\r\n                }\r\n            } else {\r\n                if (key in attrs) {\r\n                    result[key] = attrs[key]\r\n                } else {\r\n                    result[key] = defaultAttrs[key]\r\n                }\r\n            }\r\n        })\r\n        return result\r\n    }\r\n})();\r\n\r\n/**\r\n * 创建一个基于 pl-popper 的service 组件\r\n * @author  韦胜健\r\n * @date    2020/11/27 9:31\r\n */\r\nexport function createPopperServiceComponent(name: string) {\r\n    return createDefaultService({\r\n        name,\r\n        setup(option: PopperServiceComponentOption) {\r\n\r\n            /*当前是否显示/隐藏*/\r\n            const isShow = ref(false)\r\n            /*当前是否已经显示/隐藏*/\r\n            const isOpen = ref(false)\r\n\r\n            const state = reactive({\r\n                option,                                 // 当前服务的option\r\n                renderKey: counter(),                   // 用于刷新render的key\r\n            })\r\n\r\n            /**\r\n             * 开始服务\r\n             * @author  韦胜健\r\n             * @date    2020/11/27 9:32\r\n             */\r\n            async function service(option: PopperServiceComponentOption) {\r\n                if (!option.getService || option.getService !== getRefer) {\r\n                    /*clear*/\r\n                    state.option.getService = undefined\r\n                    /*init*/\r\n                    state.option = option\r\n                    state.option.getService = getRefer\r\n                    await nextTick()\r\n                }\r\n                await show()\r\n            }\r\n\r\n            /**\r\n             * 显示服务\r\n             * @author  韦胜健\r\n             * @date    2020/11/27 9:33\r\n             */\r\n            async function show() {\r\n                state.renderKey = counter()\r\n                await nextTick()\r\n                isShow.value = true\r\n            }\r\n\r\n            /**\r\n             * 隐藏服务\r\n             * @author  韦胜健\r\n             * @date    2020/11/27 9:33\r\n             */\r\n            function hide() {isShow.value = false}\r\n\r\n            /**\r\n             * service本身暴露的对象\r\n             * @author  韦胜健\r\n             * @date    2020/11/27 9:39\r\n             */\r\n            const refer = {state, isShow, isOpen, service, show, hide,}\r\n\r\n            /**\r\n             * service本身暴露对象的引用，保存在option.getService中，用于标记service与option的绑定关系\r\n             * @author  韦胜健\r\n             * @date    2020/11/27 9:39\r\n             */\r\n            const getRefer = () => refer\r\n\r\n            /**\r\n             * 合并后的popper属性\r\n             * @author  韦胜健\r\n             * @date    2020/11/27 9:40\r\n             */\r\n            const popperAttrs = computed(() => {\r\n                let {defaultOption: {defaultPopperAttrs}, serviceOption: {popperAttrs}} = state.option\r\n                return mergeAttrs({agent: refer, attrs: popperAttrs, defaultAttrs: defaultPopperAttrs,})\r\n            })\r\n\r\n            /**\r\n             * 合并之后的render属性\r\n             * @author  韦胜健\r\n             * @date    2020/11/27 9:40\r\n             */\r\n            const renderAttrs = computed(() => {\r\n                let {defaultOption: {defaultRenderAttrs}, serviceOption: {renderAttrs}} = state.option\r\n                return {\r\n                    ...mergeAttrs({agent: refer, attrs: renderAttrs, defaultAttrs: defaultRenderAttrs,}),\r\n                    key: state.renderKey,\r\n                }\r\n            })\r\n\r\n            const handler = {\r\n                onClickBody: () => {\r\n                    if (state.option.serviceOption.hideOnClickBody !== false) {\r\n                        refer.hide()\r\n                    }\r\n                },\r\n            }\r\n\r\n            return {\r\n                refer,\r\n                render: () => (\r\n                    <pl-popper\r\n                        v-model={isShow.value}\r\n                        onClickBody={handler.onClickBody}\r\n                        popperAttrs={{['service-name']: name}}\r\n                        {...{\r\n                            transition: 'pl-transition-scale',\r\n                            noContentPadding: true,\r\n                            trigger: 'manual',\r\n                            reference: state.option.serviceOption.reference,\r\n                            'onUpdate:open': (val: boolean) => isOpen.value = val,\r\n                            ...popperAttrs.value,\r\n                        }}\r\n                        v-slots={{\r\n                            popper: () => state.option.defaultOption.render(renderAttrs.value),\r\n                        }}\r\n                    />\r\n                )\r\n            }\r\n        },\r\n    })\r\n}","import {ComponentPublicInstance, computed, reactive} from 'vue';\r\nimport {registryRootService, RootServiceScope} from \"../../root/registryRootService\";\r\nimport {createDefaultManager} from \"../../root/createDefaultManager\";\r\nimport {createPopperServiceComponent} from \"./createPopperServiceComponent\";\r\nimport {CreateAgentGetterOption, PopperAgent, PopperServiceComponentOption, SpecificPopperServiceOption} from './utils';\r\n\r\n/**\r\n * 创建一个获取popper agent的函数\r\n * @author  韦胜健\r\n * @date    2020/11/26 21:15\r\n */\r\nexport function createAgentGetter(defaultOption: CreateAgentGetterOption, scope = RootServiceScope.root) {\r\n\r\n    /**\r\n     * 创建一个生成service的函数\r\n     * @author  韦胜健\r\n     * @date    2020/11/27 9:30\r\n     */\r\n    function create(ins: ComponentPublicInstance) {\r\n        const name = defaultOption.name\r\n        /*---------------------------------------Specific Popper Service-------------------------------------------*/\r\n        const popperServiceGetter = registryRootService(\r\n            name,\r\n            createDefaultManager(\r\n                `pl-popper-service-${name}-manager`,\r\n                createPopperServiceComponent(`pl-popper-service-${name}`)\r\n            ),\r\n            (getManager) => {\r\n                return (serviceOption: SpecificPopperServiceOption): PopperAgent => {\r\n\r\n                    const option: PopperServiceComponentOption = {\r\n                        defaultOption,\r\n                        serviceOption,\r\n                        getService: undefined,\r\n                    }\r\n\r\n                    /*---------------------------------------create popper agent-------------------------------------------*/\r\n                    const state = reactive({option})\r\n                    const service = computed(() => !state.option.getService ? null : state.option.getService())\r\n                    const isShow = computed(() => !!service.value && service.value.isShow.value)\r\n                    const isOpen = computed(() => !!service.value && service.value.isShow.value)\r\n                    const agent = reactive({\r\n                        state,\r\n                        isShow,\r\n                        isOpen,\r\n                        service,\r\n                        show: () => {!!agent.service ? agent.service.show() : getManager().then(manager => manager.service(option))},\r\n                        hide: () => {!!agent.service && agent.service.hide()},\r\n                        toggle: () => isShow.value ? agent.hide() : agent.show(),\r\n                        destroy: () => {\r\n                            agent.hide()\r\n                            state.option.getService = undefined\r\n                        }\r\n                    })\r\n                    return agent\r\n                }\r\n            },\r\n        )\r\n\r\n        return popperServiceGetter(ins)\r\n    }\r\n\r\n    /*缓存 service，scope为缓存的作用域*/\r\n    const cacheMap = new WeakMap<ComponentPublicInstance, ReturnType<typeof create>>()\r\n\r\n    return (ins: ComponentPublicInstance) => {\r\n        const cacheKey = scope === RootServiceScope.ins ? ins : ins.$root!\r\n        let service = cacheMap.get(cacheKey)\r\n        if (!!service) {\r\n            return service\r\n        }\r\n        service = create(ins)\r\n        cacheMap.set(cacheKey, service)\r\n        return service\r\n    }\r\n}","import {ComponentPlugin} from \"../shims\";\r\nimport {App} from 'vue';\r\n\r\nconst installMap = new WeakMap<App, ComponentPlugin[]>()\r\n\r\nexport function installPlugin(app: App, plugins: ComponentPlugin | ComponentPlugin[]) {\r\n    /*已经安装过的插件*/\r\n    let installedPlugins = installMap.get(app)\r\n    if (!installedPlugins) {\r\n        /*这个app第一次注册*/\r\n        installedPlugins = []\r\n        installMap.set(app, installedPlugins)\r\n    }\r\n    (Array.isArray(plugins) ? plugins : [plugins]).forEach(plugin => {\r\n        if (installedPlugins!.indexOf(plugin) === -1) {\r\n            installedPlugins!.push(plugin)// 这句代码一定要在app.use面前\r\n            app.use(plugin)\r\n        }\r\n    });\r\n}","import {designComponent} from \"../../use/designComponent\";\r\nimport {markRaw, ref, watch, computed} from 'vue';\r\nimport './icon.scss'\r\nimport {VNodeChild} from \"../../shims\";\r\nimport {refreshPopperReference} from \"../popper/refershPopperReference\";\r\n\r\ninterface IconGetter {\r\n    (icon: string): VNodeChild | Promise<VNodeChild>\r\n}\r\n\r\n/**\r\n * prefix必须为全小写，可以有横杠下划线\r\n * @author  韦胜健\r\n * @date    2020/11/1 12:59\r\n */\r\nconst registry = (() => {\r\n    const icons: { prefix: string, getter: IconGetter }[] = []\r\n    return Object.assign((prefix: string, getter: IconGetter) => {\r\n        icons.unshift({prefix, getter})\r\n    }, {\r\n        icons,\r\n    })\r\n})()\r\n\r\nregistry('el-icon-', async (icon) => {\r\n    try {\r\n        const module = await import('./icons/' + icon + '.json')\r\n        // console.log(module)\r\n        return (\r\n            <svg\r\n                class={`el-svg-icon ${icon}`}\r\n                viewBox=\"0 0 1024 1024\"\r\n                version=\"1.1\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                innerHTML={module.default[0]}\r\n            />\r\n        )\r\n    } catch (e) {\r\n        console.error(e)\r\n        throw e\r\n    }\r\n})\r\n\r\nexport default designComponent({\r\n    name: 'pl-icon',\r\n    props: {\r\n        icon: {type: String},                       // 图标名称\r\n        status: {type: String},                     // 图标状态\r\n    },\r\n    setup({props}) {\r\n\r\n        const {freshPopperReference} = refreshPopperReference.inject()\r\n\r\n        const icon = ref(null as any)\r\n\r\n        const classes = computed(() => [\r\n            'pl-icon',\r\n            {\r\n                [`pl-icon-status-${props.status}`]: !!props.status\r\n            }\r\n        ])\r\n\r\n        const utils = {\r\n            getIconVNode: async (iconName: string) => {\r\n                for (let i = 0; i < registry.icons.length; i++) {\r\n                    const registryIcon = registry.icons[i];\r\n                    if (iconName.indexOf(registryIcon.prefix) === 0) {\r\n                        return await registryIcon.getter(iconName)\r\n                    }\r\n                }\r\n                return null\r\n            },\r\n            reset: async (iconName: string) => {\r\n                const Icon = await utils.getIconVNode(iconName)\r\n                icon.value = !!Icon ? markRaw(Icon) : null\r\n                freshPopperReference()\r\n            }\r\n        }\r\n\r\n        watch(() => props.icon, val => !!val && utils.reset(val), {immediate: true})\r\n\r\n        return {\r\n            render: () => {\r\n                const {value: Icon} = icon\r\n                return !!Icon ? <Icon class={classes.value}/> : <i class=\"pl-icon\"/>\r\n            }\r\n        }\r\n    },\r\n}, {registry})","import Icon from './icon'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(Icon)","import {designComponent} from \"../../use/designComponent\";\r\nimport {EditProps, useEdit} from \"../../use/useEdit\";\r\nimport {StyleMode, StyleProps, StyleStatus, useStyle} from \"../../use/useStyle\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {computed, provide, inject} from 'vue';\r\nimport './button-group.scss'\r\nimport {DEFAULT_STATUS} from \"../../utils/constant\";\r\n\r\ninterface ButtonModeProviderValue {\r\n    value: { mode: string }\r\n}\r\n\r\nexport const BUTTON_GROUP_PROVIDER = '@@BUTTON_GROUP_PROVIDER'\r\n\r\nexport const ButtonModeProvider = (() => {\r\n    return {\r\n        provide: (data: ButtonModeProviderValue) => {\r\n            provide(BUTTON_GROUP_PROVIDER, data)\r\n        },\r\n        inject: () => {\r\n            return inject(BUTTON_GROUP_PROVIDER, null) as ButtonModeProviderValue | null\r\n        }\r\n    }\r\n})()\r\n\r\nexport default designComponent({\r\n    name: 'pl-button-group',\r\n    props: {\r\n        mode: {type: String, default: StyleMode.fill},                  // fill,stroke,text\r\n        vertical: {type: Boolean},                                      // 是否为纵向按钮组\r\n\r\n        ...EditProps,\r\n        ...StyleProps,\r\n    },\r\n    setup({props}) {\r\n        const {slots} = useSlots()\r\n        const {styleComputed} = useStyle({status: DEFAULT_STATUS})\r\n        const {editComputed} = useEdit()\r\n\r\n        const parentGroup = ButtonModeProvider.inject()\r\n        const otherComputed = computed(() => ({mode: !!parentGroup ? parentGroup.value.mode : props.mode}))\r\n        ButtonModeProvider.provide(otherComputed)\r\n\r\n        const classes = computed(() => ([\r\n            `pl-button-group`,\r\n            `pl-button-group-status-${styleComputed.value.status}`,\r\n            `pl-button-group-mode-${otherComputed.value.mode}`,\r\n            `pl-button-group-shape-${styleComputed.value.shape}`,\r\n            `pl-button-group-size-${styleComputed.value.size}`,\r\n            `pl-button-group-direction-${props.vertical ? 'vertical' : 'horizontal'}`,\r\n            {\r\n                'pl-button-group-disabled': !!editComputed.value.disabled,\r\n            },\r\n        ]))\r\n\r\n        return {\r\n            render: () => (\r\n                <div class={classes.value}>\r\n                    {slots.default()}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {ComponentPublicInstance, createApp} from 'vue';\r\nimport Root from '../packages/root'\r\nimport {installPlugin} from \"./installPlugin\";\r\n\r\nconst getIns = (() => {\r\n    let ins: ComponentPublicInstance | undefined;\r\n    return () => {\r\n        if (!ins) {\r\n            const container = document.createElement('div')\r\n            document.body.appendChild(container)\r\n            const app = createApp({render() {return <pl-root/>}})\r\n            installPlugin(app, Root)\r\n            ins = app.mount(container)\r\n        }\r\n        return ins\r\n    }\r\n})();\r\n\r\nexport function getServiceWithoutContext<Service>(serviceGetter: (ins: ComponentPublicInstance) => Service) {\r\n    return serviceGetter(getIns())\r\n}","import {reactive, watch} from 'vue'\r\n\r\nfunction toNumber(val: null | string | number) {\r\n    if (val == null) {\r\n        return\r\n    }\r\n    if (typeof val === \"string\") {\r\n        return Number(val.replace('px', ''))\r\n    }\r\n    return val\r\n}\r\n\r\nexport function useNumber<Props extends { [k: string]: any },\r\n    K extends string,\r\n    >(\r\n    props: Props,\r\n    keys: K[]\r\n): { numberState: { [k in K]: Exclude<Props[k], string> } } {\r\n\r\n    const state = reactive((() => {\r\n        const ret = {} as Record<string, number | undefined>\r\n        keys.forEach(key => {\r\n            ret[key] = toNumber(props[key])\r\n        })\r\n        return ret\r\n    })())\r\n\r\n    keys.forEach(key => {\r\n        watch(() => props[key], val => state[key] = toNumber(val))\r\n    })\r\n\r\n    return {\r\n        numberState: state as any,\r\n    }\r\n}\r\n\r\n/*const {numberState} = useNumber({\r\n    noField: 11,\r\n    level: 1,\r\n    age: 2 as number | undefined,\r\n    limit: '2' as string | number | undefined,\r\n}, [\r\n    'level',\r\n    'age',\r\n    'limit',\r\n])\r\n\r\nnumberState.level.toFixed(0)\r\nnumberState.age.toFixed(0)\r\nnumberState.limit.toFixed(0)*/\r\n\r\n\r\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAWElEQVRIiWM8fubkfwYygKWJOSM5+mCAhRLNoxaPWjxq8ajFoxbTyeL/DAfJ0Xjs3Cl7Siwmu4Yht1aDgZEYx6MWj1o8avGoxaMWD3qLya5X//4nqx6HAQC7RBGFzolqTAAAAABJRU5ErkJggg==\"","import {getCurrentInstance} from 'vue';\r\n\r\nexport function useRefs<T extends { [k: string]: any }>(config: T): {\r\n    refs: {\r\n        [k in keyof T]: T[k] extends { use: { ref: (refName: string) => { value: infer Refer } } } ? Refer :\r\n            T[k] extends new (...args: any[]) => infer Refer ? Refer : T\r\n    }\r\n} {\r\n    const ctx = getCurrentInstance() as any\r\n    return {\r\n        refs: Object.keys(config).reduce((prev, refName) => {\r\n            Object.defineProperty(prev, refName, {\r\n                get(): any {\r\n                    return ctx.refs[refName]\r\n                }\r\n            })\r\n            return prev\r\n        }, {} as any)\r\n    }\r\n}\r\n","import './list.scss'\r\nimport {designComponent} from \"../../use/designComponent\";\r\nimport {TransitionGroup} from 'vue'\r\nimport {useSlots} from \"../../use/useSlots\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-list',\r\n    props: {\r\n        direction: {                            //item入场出场动画 'left', 'right', 'top', 'bottom', 'left-top', 'top-left', 'right-top', 'top-right', 'left-bottom', 'bottom-left', 'right-bottom', 'bottom-right'\r\n            type: String,\r\n            default: 'bottom-right',\r\n        },\r\n        tag: {type: String, default: 'div'},\r\n        disabled: {type: Boolean},\r\n    },\r\n    setup({props}) {\r\n        const {slots} = useSlots()\r\n        return {\r\n            render: () => {\r\n                const Component = (props.disabled ? props.tag : TransitionGroup) as any\r\n                return (\r\n                    <Component {...{\r\n                        class: \"pl-list\",\r\n                        name: `pl-list-move-${props.direction}`,\r\n                        tag: props.tag,\r\n                    }}>\r\n                        {slots.default()}\r\n                    </Component>\r\n                )\r\n            }\r\n        }\r\n    }\r\n})","import list from './list'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(list)","<template>\r\n    <pl-root>\r\n        <app-navigator defaultPath=\"normal/button\">\r\n            <article :class=\"classes\" :style=\"{paddingLeft:`${config.menuSize}px`,paddingTop:`${config.headSize}px`}\">\r\n                <section class=\"app-head\" :style=\"{height:config.headSize+'px'}\">\r\n                    <span>{{title}}</span>\r\n                    <pl-toggle v-model=\"fixHeight\" v-tooltip=\"{content:'固定应用高度',placement:'bottom'}\"/>\r\n                </section>\r\n                <app-menu :style=\"{width:`${config.menuSize}px`,top:`${config.headSize}px`}\"/>\r\n                <section class=\"app-content\" :style=\"{minHeight:`calc(100vh - ${config.headSize}px)`}\">\r\n                    <AppNavigatorPage/>\r\n                </section>\r\n            </article>\r\n        </app-navigator>\r\n    </pl-root>\r\n</template>\r\n\r\n<script>\r\n    import {defineComponent} from 'vue';\r\n    import AppMenu from './app/app-menu'\r\n    import {AppNavigator} from './app/app-navigator'\r\n    import {AppNavigatorPage} from \"./app/app-navigator-page\";\r\n\r\n    const config = {\r\n        menuSize: 240,\r\n        headSize: 60,\r\n    }\r\n\r\n    export default defineComponent({\r\n        name: 'App',\r\n        components: {\r\n            AppMenu,\r\n            AppNavigator,\r\n            AppNavigatorPage,\r\n        },\r\n        watch: {\r\n            fixHeight(val) {\r\n                localStorage.setItem('fixHeight', JSON.stringify(val))\r\n            },\r\n        },\r\n        data() {\r\n            return {\r\n                config,\r\n                title: 'plain-ui',\r\n                fixHeight: JSON.parse(localStorage.getItem('fixHeight') || 'false')\r\n            }\r\n        },\r\n        computed: {\r\n            classes() {\r\n                return [\r\n                    'app',\r\n                    {'app-fix-height': this.fixHeight},\r\n                ]\r\n            },\r\n        },\r\n    });\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n    .app {\r\n\r\n        &.app-fix-height {\r\n            height: 100vh;\r\n            overflow: auto;\r\n            box-sizing: border-box;\r\n        }\r\n\r\n        .app-head {\r\n            z-index: 10;\r\n            position: fixed;\r\n            top: 0;\r\n            left: 0;\r\n            right: 0;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: space-between;\r\n            padding: 0 80px 0 40px;\r\n            box-shadow: $boxshadow;\r\n            box-sizing: border-box;\r\n        }\r\n\r\n        .app-menu {\r\n            position: fixed;\r\n            left: 0;\r\n            bottom: 0;\r\n            box-shadow: $boxshadow;\r\n            padding: 20px 0;\r\n            box-sizing: border-box;\r\n            overflow-y: auto;\r\n            overflow-x: hidden;\r\n        }\r\n\r\n        .app-content {\r\n            box-sizing: border-box;\r\n            padding: 20px;\r\n            background-color: #f7f8fa;\r\n        }\r\n    }\r\n\r\n    @include theme {\r\n        .app .app-head {\r\n            background-color: white;\r\n            color: $colorPrimary;\r\n            font-size: 24px;\r\n            font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;\r\n            font-style: italic;\r\n            font-weight: bold;\r\n        }\r\n    }\r\n</style>\r\n","<template>\r\n    <section class=\"app-menu\">\r\n        <pl-scroll>\r\n            <div class=\"app-menu-list\">\r\n                <ul>\r\n                    <li v-for=\"menuGroup in menus\" :key=\"menuGroup.name\">\r\n                        <div class=\"app-menu-group-name\">\r\n                            <span>{{menuGroup.name}}</span>\r\n                        </div>\r\n                        <ul>\r\n                            <li v-for=\"menu in menuGroup.children\" :key=\"menu.title\" @click=\"handleClickMenu(menu)\" :class=\"{'app-menu-active':currentPath === menu.page}\">\r\n                                <div class=\"app-menu-name\">\r\n                                    <span>{{menu.name}}</span>\r\n                                    <span>{{menu.title}}</span>\r\n                                    <div class=\"app-menu-is-done\" v-if=\"!!menu.complete\">\r\n                                        <pl-icon icon=\"el-icon-star-on\" status=\"warn\"/>\r\n                                    </div>\r\n                                </div>\r\n                            </li>\r\n                        </ul>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </pl-scroll>\r\n    </section>\r\n</template>\r\n\r\n<script>\r\n    import {MENUS} from \"../menu\";\r\n    import {AppNavigator} from \"./app-navigator\";\r\n\r\n    export default {\r\n        name: \"app-menu\",\r\n        props: {\r\n            currentPath: {type: String},\r\n        },\r\n        setup() {\r\n\r\n            const navigator = AppNavigator.use.inject()\r\n\r\n            return {\r\n                menus: MENUS,\r\n                handleClickMenu(menu) {\r\n                    navigator.nav.go(menu.page)\r\n                },\r\n            }\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    @include theme {\r\n        .app-menu {\r\n            position: fixed;\r\n            left: 0;\r\n            bottom: 16px;\r\n\r\n            ul {\r\n                list-style: none;\r\n                margin: 0;\r\n                padding: 0;\r\n\r\n                .app-menu-name {\r\n\r\n                    display: block;\r\n                    margin: 8px 0;\r\n                    padding: 8px 0 8px 24px;\r\n                    color: #455a64;\r\n                    font-size: 14px;\r\n                    line-height: 20px;\r\n                    transition: color 0.2s;\r\n                    cursor: pointer;\r\n                    position: relative;\r\n\r\n                    &:hover {\r\n                        background-color: rgba($colorPrimary, 0.1);\r\n                        color: $colorPrimary;\r\n                    }\r\n\r\n                    .app-menu-is-done {\r\n                        position: absolute;\r\n                        top: 0;\r\n                        bottom: 0;\r\n                        right: 0;\r\n                        display: flex;\r\n                        align-items: center;\r\n                    }\r\n                }\r\n\r\n                .app-menu-name {\r\n                    position: relative;\r\n\r\n                    & > span {\r\n                        &:nth-child(2) {\r\n                            font-size: 12px;\r\n                            margin-left: 0.5em;\r\n                            color: #ccc;\r\n                        }\r\n                    }\r\n\r\n                    .pl-icon {\r\n                        position: absolute;\r\n                        right: 16px;\r\n                        line-height: 40px;\r\n                    }\r\n                }\r\n\r\n                .app-menu-group-name {\r\n                    padding: 8px 0 8px 24px;\r\n                    color: #455a64;\r\n                    font-weight: 600;\r\n                    font-size: 15px;\r\n                    line-height: 28px;\r\n                }\r\n            }\r\n\r\n            &:after {\r\n                position: absolute;\r\n                top: 0;\r\n                bottom: 0;\r\n                right: -30px;\r\n                width: 30px;\r\n                content: '';\r\n                box-shadow: inset 10px 0 8px -8px #f0f1f2;\r\n            }\r\n        }\r\n    }\r\n</style>","export interface Menu {\r\n    name: string,\r\n    title?: string,\r\n    page: string,\r\n    complete?: boolean,\r\n}\r\n\r\ninterface MenuGroup {\r\n    name: string,\r\n    children: Menu[],\r\n}\r\n\r\nexport const MENUS: MenuGroup[] = [\r\n    {\r\n        name: '组合函数', children: [\r\n            {name: 'useSlots', page: '/use/useSlots/demo-use-slots', complete: true},\r\n            {name: 'useScopedSlots', page: '/use/useScopedSlots/demo-use-scoped-slots', complete: true},\r\n            {name: 'useModel', page: '/use/useModel/demo-use-model', complete: true},\r\n            {name: 'useStyle', page: '/use/useStyle/demo-use-style', complete: true},\r\n            {name: 'useRefs', page: '/use/useRefs/demo-use-refs', complete: true},\r\n            {name: 'useEvent', page: '/use/useEvent/demo-use-event', complete: true},\r\n            {name: 'useProps', page: '/use/useProps/demo-use-props', complete: true},\r\n            {name: 'useCollect', page: '/use/useCollect/demo-use-collect', complete: true},\r\n        ]\r\n    },\r\n    {\r\n        name: '基础', children: [\r\n            {name: 'Color', title: '颜色', page: '/normal/color', complete: true},\r\n            {name: 'Icon', title: '图标', page: '/normal/icon', complete: true},\r\n            {name: 'Button', title: '按钮', page: '/normal/button', complete: true},\r\n            {name: 'Grid', title: '栅格', page: '/normal/grid', complete: true},\r\n        ]\r\n    },\r\n    {\r\n        name: '表单元素', children: [\r\n            {name: 'Input', title: '输入框', page: '/normal/input', complete: true},\r\n            {name: 'Radio', title: '单选框', page: '/normal/radio', complete: true},\r\n            {name: 'Checkbox', title: '复选框', page: '/normal/checkbox', complete: true},\r\n            {name: 'Number', title: '数字输入', page: '/normal/number', complete: true},\r\n            {name: 'Loading', title: '加载', page: '/normal/loading', complete: true},\r\n            {name: 'Select', title: '下拉选择', page: '/normal/select', complete: true},\r\n            {name: 'Toggle', title: '开关切换', page: '/normal/toggle', complete: true},\r\n            {name: 'Slider', title: '滑块', page: '/normal/slider', complete: true},\r\n            {name: 'Tag', title: '标签', page: '/normal/tag', complete: true},\r\n            {name: 'Rate', title: '评分', page: '/normal/rate', complete: true},\r\n            {name: 'ColorPicker', title: '颜色选择', page: '/normal/color-picker', complete: true},\r\n\r\n            {name: 'Cascade', title: '级联选择', page: '/normal/cascade', complete: true},\r\n            {name: 'Time', title: '时间选择', page: '/normal/time', complete: true},\r\n            {name: 'Date', title: '日期选择', page: '/normal/date', complete: true},\r\n            {name: 'Upload', title: '文件上传', page: '/normal/upload', complete: false},\r\n            {name: 'Img', title: '图片上传', page: '/normal/img', complete: false},\r\n        ]\r\n    },\r\n    {\r\n        name: '表单示例', children: [\r\n            {name: 'Form', title: '表单基础', page: '/form/form-basic', complete: true},\r\n            {name: 'Form', title: '表单多列', page: '/form/form-grid', complete: true},\r\n            {name: 'Form', title: '表单尺寸', page: '/form/form-size', complete: true},\r\n            {name: 'Form', title: '表单控制', page: '/form/form-edit-control', complete: true},\r\n            {name: 'Form', title: '表单校验', page: '/form/form-validate', complete: true},\r\n            {name: 'Form', title: '校验blur', page: '/form/form-blur', complete: true},\r\n            {name: 'Form', title: '表单组件', page: '/form/form-elements', complete: true},\r\n            {name: 'Form', title: '校验模式', page: '/form/form-validate-mode', complete: true},\r\n            {name: 'Form', title: '动态表单项', page: '/form/form-dynamic-items', complete: true},\r\n        ]\r\n    },\r\n    {\r\n        name: '视图', children: [\r\n            {name: 'List', title: '列表', page: '/normal/list', complete: true},\r\n            {name: 'VirtualList', title: '虚拟列表', page: '/normal/virtual-list', complete: true},\r\n            {name: 'Progress', title: '进度条', page: '/normal/progress', complete: true},\r\n            {name: 'Tree', title: '树形组件', page: '/normal/tree', complete: true},\r\n            // {name: 'Virtual Tree', title: '虚拟树', page: '/normal/virtual-tree', complete: false},\r\n            {name: 'Pagination', title: '分页', page: '/normal/pagination', complete: true},\r\n            {name: 'Badge', title: '标记', page: '/normal/badge', complete: true},\r\n            {name: 'Step', title: '步骤条', page: '/normal/step', complete: true},\r\n            {name: 'Tab', title: '页签', page: '/normal/tab', complete: false},\r\n        ]\r\n    },\r\n    {\r\n        name: '导航', children: [\r\n            {name: 'NavTab', title: '页签导航', page: '/nav/nav-tab', complete: false},\r\n            {name: 'NavPages', title: '页面导航', page: '/nav/nav-page', complete: false},\r\n            {name: 'Nav', title: '应用导航', page: '/nav/nav', complete: false},\r\n        ]\r\n    },\r\n    {\r\n        name: '其他', children: [\r\n            {name: 'Scroll', title: '滚动条', page: '/normal/scroll', complete: true},\r\n            {name: 'Dialog', title: '对话框', page: '/normal/dialog', complete: true},\r\n            {name: 'Tooltip', title: '文字提示', page: '/normal/tooltip', complete: true},\r\n            {name: 'Dropdown', title: '下拉菜单', page: '/normal/dropdown', complete: true},\r\n            // {name: 'Popover', title: '弹出框', page: '/normal/popover', complete: false},\r\n            {name: 'Popper', title: '悬浮框', page: '/normal/popper', complete: true},\r\n            {name: 'Card', title: '卡片', page: '/normal/card', complete: true},\r\n            {name: 'Carousel', title: '轮播', page: '/normal/carousel', complete: true},\r\n            {name: 'Collapse', title: '折叠面板', page: '/normal/collapse', complete: true},\r\n            {name: 'Alert', title: '提示信息', page: '/normal/alert', complete: true},\r\n            // {name: 'Triangle', title: '三角形元素', page: '/normal/triangle', complete: false},\r\n            // {name: 'FilletCorner', title: '圆角', page: '/normal/fillet-corner', complete: false},\r\n            {name: 'TabHeader', title: '页签头组件', page: '/normal/tab-header', complete: false},\r\n        ]\r\n    },\r\n    {\r\n        name: '服务', children: [\r\n            {name: '$message', title: '消息服务', page: '/service/message-service', complete: true},\r\n            {name: '$popper', title: '浮层服务', page: '/service/popper-service', complete: true},\r\n            // {name: '$select', title: '选择服务', page: '/service/select-service', complete: false},\r\n            {name: '$dialog', title: '对话框服务', page: '/service/dialog-service', complete: true},\r\n            {name: '$notice', title: '通知', page: '/service/notice-service', complete: true},\r\n            {name: '$file', title: '文件服务', page: '/service/file', complete: false},\r\n        ]\r\n    },\r\n    {\r\n        name: '表格', children: [\r\n            {name: 'Virtual', title: 'pl-virtual-table', page: '/table/virtual-table', complete: true},\r\n            {name: 'Basic', title: '基础表格', page: '/table/table-basic', complete: true},\r\n            {name: 'Test', title: '基础测试', page: '/table/table-base-test', complete: true},\r\n            {name: 'Config', title: '自定义配置', page: '/table/table-config', complete: true},\r\n            {name: 'Fixed', title: '固定列', page: '/table/table-fixed', complete: true},\r\n            {name: 'ScopedSlot', title: '列作用域插槽', page: '/table/table-plc-scoped-slot', complete: true},\r\n\r\n            {name: 'Edit Control', title: '编辑控制', page: '/table/table-plc-editable', complete: true},\r\n            {name: 'Plc', title: '列组件', page: '/table/table-columns', complete: true},\r\n            {name: 'Expand', title: '展开列', page: '/table/table-expand', complete: true},\r\n            {name: 'Span', title: '合并单元格', page: '/table/span/table-span', complete: true},\r\n            {name: 'Tree', title: '树形表格', page: '/table/tree/table-tree', complete: true},\r\n            {name: 'Row Draggable', title: '行拖拽排序', page: '/table/table-row-draggable', complete: true},\r\n            {name: 'Col Draggable', title: '列拖拽排序', page: '/table/table-col-draggable', complete: true},\r\n            {name: 'Table class-style', title: '行列样式', page: '/table/table-class-style', complete: true},\r\n        ]\r\n    },\r\n    /*{\r\n        name: 'Sticky Table',\r\n        children: [\r\n            {name: 'Sticky Table', title: '另一种形式的表格', page: '/sticky-table/demo-sticky-table', complete: false},\r\n            {name: 'Sticky', title: '粘粘组件', page: '/sticky-table/demo-sticky', complete: false},\r\n        ]\r\n    },\r\n    {\r\n        name: '测试', children: [\r\n            {name: 'Test', title: '测试手动渲染实例', page: '/test/test', complete: false},\r\n            {name: 'Drag', title: '测试拖拽节点', page: '/test/test-drag', complete: false},\r\n            {name: 'Svg', title: '测试svg', page: '/test/test-svg', complete: false},\r\n            {name: 'Canvas', title: '测试canvas', page: '/test/test-canvas', complete: false},\r\n            {name: 'High', title: '测试高阶组件', page: '/test/test-high', complete: false},\r\n            {name: 'Listener', title: '测试事件', page: '/test/test-listener', complete: false},\r\n            {name: 'Filter', title: '异步过滤器', page: '/test/test-filter', complete: false},\r\n            {name: 'List Draggier', title: '列表拖拽排序', page: '/test/test-list-draggier', complete: false},\r\n            {name: '传递属性给根节点组件热更新报错', title: '列表拖拽排序', page: '/test/test-pass-attrs-hot-reload/test-pass-attrs-hot-reload', complete: true},\r\n        ]\r\n    },*/\r\n\r\n]","import {reactive, onMounted, getCurrentInstance} from 'vue';\r\nimport {designComponent} from \"../../src/use/designComponent\";\r\n\r\nexport type AppRoute = {\r\n    path: string,\r\n    hash: string,\r\n}\r\n\r\nexport function getRoute(): AppRoute {\r\n    let uri = decodeURIComponent(window.location.hash || '')\r\n    if (uri.charAt(0) === '#' && uri.length > 0) {\r\n        uri = uri.substring(1)\r\n    }\r\n    let [path, hash] = uri.split('#')\r\n    if (!!path && path.charAt(0) === '/') {\r\n        path = path.slice(1)\r\n    }\r\n    return {\r\n        path,\r\n        hash,\r\n    }\r\n}\r\n\r\nexport const AppNavigator = designComponent({\r\n    name: 'app-navigator',\r\n    provideRefer: true,\r\n    props: {\r\n        defaultPath: {type: String,},\r\n    },\r\n    setup({props, setupContext}) {\r\n\r\n        const pathChangeListener = [] as ((route: AppRoute) => void)[]\r\n        const hashChangeListener = [] as ((route: AppRoute) => void)[]\r\n        const pageReadyListener = [] as ((route: AppRoute) => void)[]\r\n\r\n        const ctx = getCurrentInstance()!\r\n\r\n        const nav = reactive({\r\n            route: getRoute(),\r\n            go: (path: string, hash?: string) => {\r\n                window.location.hash = encodeURIComponent(`${path}${!!hash ? '#' + hash : ''}`)\r\n            },\r\n            on: {\r\n                /**\r\n                 * 监听path变化动作\r\n                 * @author  韦胜健\r\n                 * @date    2020/9/17 11:25\r\n                 */\r\n                pathChange: (listener: (route: AppRoute) => void) => {\r\n                    pathChangeListener.push(listener)\r\n                    return () => {\r\n                        pathChangeListener.splice(pathChangeListener.indexOf(listener), 1)\r\n                    }\r\n                },\r\n                /**\r\n                 * 监听hash变化动作\r\n                 * @author  韦胜健\r\n                 * @date    2020/9/17 11:25\r\n                 */\r\n                hashChange: (listener: (route: AppRoute) => void) => {\r\n                    hashChangeListener.push(listener)\r\n                    return () => {\r\n                        hashChangeListener.splice(hashChangeListener.indexOf(listener), 1)\r\n                    }\r\n                },\r\n                /**\r\n                 * 页面加载完毕动作\r\n                 * @author  韦胜健\r\n                 * @date    2020/10/10 10:18\r\n                 */\r\n                pageReady: (listener: (route: AppRoute) => void) => {\r\n                    pageReadyListener.push(listener)\r\n                    return () => {\r\n                        pageReadyListener.splice(pageReadyListener.indexOf(listener), 1)\r\n                    }\r\n                },\r\n            },\r\n            emit: {\r\n                hashChange: () => {\r\n                    hashChangeListener.forEach(item => item(getRoute()))\r\n                },\r\n                pathChange: () => {\r\n                    pathChangeListener.forEach(item => item(getRoute()))\r\n                },\r\n                pageReady: () => {\r\n                    pageReadyListener.forEach(item => item(getRoute()))\r\n                }\r\n            }\r\n        })\r\n\r\n        onMounted(() => {\r\n            if (!nav.route.path) {\r\n                if (!!props.defaultPath) {\r\n                    nav.route = {\r\n                        path: props.defaultPath,\r\n                        hash: '',\r\n                    }\r\n                    pathChangeListener.forEach(item => item(nav.route))\r\n                }\r\n            }\r\n            window.addEventListener('hashchange', () => {\r\n                const route = getRoute()\r\n                const {path, hash} = route\r\n                if (path !== nav.route.path) {\r\n                    nav.emit.pathChange()\r\n                } else if (hash !== nav.route.hash) {\r\n                    nav.emit.hashChange()\r\n                }\r\n                nav.route = route\r\n            })\r\n        })\r\n\r\n        return {\r\n            refer: {\r\n                nav,\r\n            },\r\n            render() {\r\n                return (\r\n                    !!ctx.slots.default ? ctx.slots.default() : null\r\n                )\r\n            },\r\n        }\r\n    },\r\n})","import { render } from \"./app-menu.vue?vue&type=template&id=11343ef6\"\nimport script from \"./app-menu.vue?vue&type=script&lang=js\"\nexport * from \"./app-menu.vue?vue&type=script&lang=js\"\n\nimport \"./app-menu.vue?vue&type=style&index=0&id=11343ef6&lang=scss\"\nscript.render = render\n\nexport default script","import {designComponent} from \"../../src/use/designComponent\";\r\nimport {reactive} from 'vue';\r\nimport {useSlots} from \"../../src/use/useSlots\";\r\nimport './demo-row.scss'\r\nimport {AppNavigator} from \"../app/app-navigator\";\r\nimport {DemoRowCollector} from \"./demo-row-controller\";\r\n\r\nconst DEMO_ROW_STORAGE_KEY = 'DEMO_ROW'\r\n\r\nexport const DemoRowCache = (() => {\r\n    let str = localStorage.getItem(DEMO_ROW_STORAGE_KEY)\r\n    const cache: Record<string, boolean> = !!str ? JSON.parse(str) : {}\r\n\r\n    return {\r\n        get: (id: string) => {\r\n            const flag = cache[id]\r\n            return flag == null ? true : flag\r\n        },\r\n        set: (id: string, flag: boolean) => {\r\n            cache[id] = flag\r\n            localStorage.setItem(DEMO_ROW_STORAGE_KEY, JSON.stringify(cache))\r\n        },\r\n        setAll: (flag: boolean) => {\r\n            for (const key in cache) {\r\n                cache[key] = flag\r\n            }\r\n            localStorage.setItem(DEMO_ROW_STORAGE_KEY, JSON.stringify(cache))\r\n        },\r\n    }\r\n})()\r\n\r\nexport const DemoRow = designComponent({\r\n    name: 'demo-row',\r\n    props: {\r\n        title: {type: String},\r\n        group: {type: Boolean},\r\n    },\r\n    emits: {\r\n        change: (val: boolean) => true\r\n    },\r\n    provideRefer: true,\r\n    setup({props, event}) {\r\n\r\n        DemoRowCollector.child()\r\n\r\n        const navigator = AppNavigator.use.inject()\r\n\r\n        const demoRow = DemoRow.use.inject(null) as { props: { title?: string } } | null\r\n\r\n        const id = [navigator.nav.route.path, !!demoRow ? demoRow.props.title : '', props.title].filter(Boolean).join(' >> ')\r\n\r\n        const state = reactive({\r\n            show: DemoRowCache.get(id),\r\n        })\r\n\r\n        const {slots} = useSlots()\r\n\r\n        const methods = {\r\n            set(val: boolean) {\r\n                state.show = val\r\n                DemoRowCache.set(id, state.show)\r\n                event.emit.change(state.show)\r\n            },\r\n        }\r\n\r\n        const handler = {\r\n            clickTitle: () => {\r\n                methods.set(!state.show)\r\n            }\r\n        }\r\n\r\n        return {\r\n            refer: {\r\n                id,\r\n                state,\r\n                methods,\r\n                props,\r\n            },\r\n            render: () => (\r\n                <div class={['demo-row', {'demo-row-show': state.show, 'demo-row-group': props.group}]}>\r\n                    {!!props.title && (\r\n                        <div class=\"demo-row-title\">\r\n                            <span onClick={handler.clickTitle}>{props.title}</span>\r\n                            <pl-icon icon=\"el-icon-d-arrow-right\" class=\"demo-row-icon-expand\"/>\r\n                        </div>\r\n                    )}\r\n                    {state.show && (\r\n                        <div class=\"demo-row-content\">\r\n                            {slots.default()}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../src/use/designComponent\";\r\nimport {useSlots} from \"../../src/use/useSlots\";\r\nimport {useCollect} from \"../../src/use/useCollect\";\r\nimport {DemoRow, DemoRowCache} from \"./demo-row\";\r\n\r\nexport const DemoRowController = designComponent({\r\n    name: 'demo-row-controller',\r\n    setup() {\r\n        const {slots} = useSlots()\r\n\r\n        const children = DemoRowCollector.parent()\r\n\r\n        const methods = {\r\n            changeAll: (flag: boolean) => {\r\n                children.forEach(child => child.methods.set(flag))\r\n                DemoRowCache.setAll(flag)\r\n            }\r\n        }\r\n\r\n        return {\r\n            render: () => (\r\n                <>\r\n                    {slots.default()}\r\n                    <div class=\"demo-row-collector-operator\">\r\n                        <div onClick={() => methods.changeAll(false)}>\r\n                            <span>全部收起</span>\r\n                            <pl-icon icon=\"el-icon-d-arrow-left\" style=\"transform: rotate(-90deg)\"/>\r\n                        </div>\r\n                        <div onClick={() => methods.changeAll(true)}>\r\n                            <span>全部展开</span>\r\n                            <pl-icon icon=\"el-icon-d-arrow-left\" style=\"transform: rotate(90deg)\"/>\r\n                        </div>\r\n                    </div>\r\n                </>\r\n            )\r\n        }\r\n    },\r\n})\r\n\r\nexport const DemoRowCollector = useCollect(() => ({\r\n    parent: DemoRowController,\r\n    child: DemoRow,\r\n}))","import {reactive, onMounted, onBeforeUnmount, markRaw} from 'vue';\r\nimport {AppNavigator, AppRoute} from \"./app-navigator\";\r\nimport {designComponent} from \"../../src/use/designComponent\";\r\nimport {DemoRowController} from \"../components/demo-row-controller\";\r\n\r\nexport const AppNavigatorPage = designComponent({\r\n    name: 'app-navigator-page',\r\n    setup() {\r\n\r\n        const state = reactive({\r\n            Page: null as any,\r\n        })\r\n\r\n        const navigator = AppNavigator.use.inject()\r\n\r\n        async function onPathChange({path}: AppRoute) {\r\n\r\n            if (!path) {\r\n                return\r\n            }\r\n\r\n            try {\r\n                state.Page = markRaw((await import('story/pages/' + path + '.vue')).default)\r\n                return navigator.nav.emit.pageReady()\r\n            } catch (e) {\r\n                console.log(`找不到页面:${'story/pages/' + path + '.vue'}`)\r\n                console.error(e)\r\n                state.Page = null\r\n            }\r\n        }\r\n\r\n        const eject = navigator.nav.on.pathChange(onPathChange)\r\n\r\n        onMounted(async () => {\r\n            await onPathChange(navigator.nav.route)\r\n        })\r\n\r\n        onBeforeUnmount(eject)\r\n\r\n        return {\r\n            render() {\r\n                const {Page} = state\r\n                return (\r\n                    <div>\r\n                        {!!Page && (\r\n                            <DemoRowController>\r\n                                <Page/>\r\n                            </DemoRowController>\r\n                        )}\r\n                    </div>\r\n                )\r\n            },\r\n        }\r\n    },\r\n})","import { render } from \"./app.vue?vue&type=template&id=51f216de\"\nimport script from \"./app.vue?vue&type=script&lang=js\"\nexport * from \"./app.vue?vue&type=script&lang=js\"\n\nimport \"./app.vue?vue&type=style&index=0&id=51f216de&lang=scss\"\nscript.render = render\n\nexport default script","import {designComponent} from \"../../src/use/designComponent\";\r\nimport {useSlots} from \"../../src/use/useSlots\";\r\n\r\nexport const DemoLine = designComponent({\r\n    name: 'demo-line',\r\n    props: {\r\n        title: {type: String},\r\n        labelWidth: {type: String},\r\n    },\r\n    setup({props}) {\r\n\r\n        const {slots} = useSlots()\r\n\r\n        return {\r\n            render: () => (\r\n                <div class=\"demo-line\">\r\n                    {!!props.title && <div class=\"demo-line-title\"><span>{props.title}</span></div>}\r\n                    <div class=\"demo-line-content\">\r\n                        {slots.default()}\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","<template>\r\n    <span>\r\n        {{title}}\r\n    </span>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"demo-child\",\r\n        props: {\r\n            title: {type: String},\r\n        },\r\n        mounted() {\r\n            console.log(`demo child ${this.title} mounted`)\r\n        },\r\n        beforeUnmount() {\r\n            console.log(`demo child ${this.title} beforeUnmount`)\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n</style>","import { render } from \"./demo-child.vue?vue&type=template&id=2550eca6\"\nimport script from \"./demo-child.vue?vue&type=script&lang=js\"\nexport * from \"./demo-child.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import {App} from 'vue';\r\nimport {DemoRow} from \"./demo-row\";\r\nimport {DemoLine} from \"./demo-line\";\r\nimport DemoChild from './demo-child.vue'\r\n\r\nexport function installDemoComponent(app: App) {\r\n    app.component(DemoRow.name, DemoRow)\r\n    app.component(DemoLine.name, DemoLine)\r\n    app.component(DemoChild.name, DemoChild)\r\n}","import {createApp} from 'vue'\r\nimport App from './app.vue'\r\nimport PlainUi, {Icon} from \"../src/index\";\r\nimport {installDemoComponent} from \"./components\";\r\n\r\nconst app = createApp(App)\r\napp.use(PlainUi)\r\n\r\nIcon.registry('my-icon-', (icon) => {\r\n    return <i class={`my-icon-${icon}`}>{icon}</i>\r\n})\r\n\r\ninstallDemoComponent(app)\r\n\r\napp.config.warnHandler = function (msg, vm, trace) {\r\n    // `trace` 是组件的继承关系追踪\r\n    // todo, 监听驼峰命名的事件会有警告，这里忽略\r\n    if (msg.startsWith('Extraneous non-emits event listeners')) {\r\n        return\r\n    }\r\n    console.warn(msg, {vm, trace})\r\n}\r\n\r\napp.mount('#app')\r\n","import {getCurrentInstance, ComponentInternalInstance} from 'vue'\r\n\r\nexport function useFunctionWrapper<P extends any[],\r\n    T extends (ctx: ComponentInternalInstance, ...args: P) => any>(\r\n    key: string,\r\n    func: T,\r\n): (...args: P) => ReturnType<T> {\r\n    return (...args) => {\r\n        const ctx = getCurrentInstance() as any\r\n        if (!ctx._use) ctx._use = {}\r\n\r\n        if (!!ctx._use[key]) {\r\n            throw new Error(`use ${key} can only be executed once!`)\r\n        }\r\n\r\n        return (ctx._use[key] = func(ctx, ...args))\r\n    }\r\n}\r\n\r\n/*const func = useFunctionWrapper('', (ctx, name: string, age: number) => {\r\n    return {\r\n        sayHello: () => {},\r\n    }\r\n})\r\n\r\nconst data = func('111', 111)\r\ndata.sayHello()*/\r\n\r\n","export * from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./app-menu.vue?vue&type=style&index=0&id=11343ef6&lang=scss\"","import {ComponentInternalInstance} from \"vue\"\r\n\r\nexport function getSlotExist(prevState: { [k: string]: boolean } | null, slotNames: string[], ctx: ComponentInternalInstance) {\r\n    if (!prevState) {\r\n        prevState = {}\r\n    }\r\n    slotNames.forEach((slotName) => {\r\n        prevState![slotName] = !!ctx.slots[slotName]\r\n    })\r\n    return prevState\r\n}","import {designComponent} from \"../../use/designComponent\";\r\nimport {nextTick, ref} from 'vue';\r\nimport {useRefList} from \"../../use/useRefList\";\r\n\r\n/**\r\n * 创建一个默认的 root service manager组件\r\n * @author  韦胜健\r\n * @date    2020/11/26 9:20\r\n */\r\nexport function createDefaultManager<Option>(\r\n    managerName: string,\r\n    serviceComponent: {\r\n        use: {\r\n            class: {\r\n                isShow: { value: boolean },\r\n                isOpen: { value: boolean },\r\n                service: (option: Option) => any,\r\n            }\r\n        }\r\n    }) {\r\n    return designComponent({\r\n        name: managerName,\r\n        setup() {\r\n\r\n            const options = ref([] as Option[])\r\n            const refs = useRefList<typeof serviceComponent[\"use\"][\"class\"]>()\r\n\r\n            /**\r\n             * 获取一个 非show以及open的 service提供服务，如果存在\r\n             * 符合这个条件的service，直接调用service函数，否则创建\r\n             * 一个service，这个service在setup末尾需要调用一次service\r\n             * 函数；\r\n             * @author  韦胜健\r\n             * @date    2020/11/26 9:23\r\n             */\r\n            const service = async (option: Option): Promise<void> => {\r\n                for (let i = 0; i < refs.length; i++) {\r\n                    const item = refs[i];\r\n                    const {isShow, isOpen} = item\r\n                    if (!isShow.value && !isOpen.value) {\r\n                        return item.service(option)\r\n                    }\r\n                }\r\n                options.value.push(option as any)\r\n                await nextTick()\r\n            }\r\n\r\n            return {\r\n                refer: {\r\n                    managerName,\r\n                    service,\r\n                },\r\n                render: () => {\r\n                    const ServiceComponent = serviceComponent as any\r\n                    return (\r\n                        <div class={managerName}>\r\n                            {options.value.map((opt, i) => <ServiceComponent\r\n                                key={i}\r\n                                option={opt}\r\n                                ref={(proxy: any) => refs[i] = proxy}\r\n                            />)}\r\n                        </div>\r\n                    )\r\n                }\r\n            }\r\n        },\r\n    })\r\n}","import {getCurrentInstance, onBeforeUnmount} from 'vue'\r\nimport {createPlainEvent, PlainEvent} from \"../plugins/Event\";\r\nimport {SimpleFunction} from \"../shims\";\r\nimport {kebabCase} from 'plain-utils/string/kebabCase'\r\n\r\ntype EventListener<EmitsValue> = EmitsValue extends (...args: any[]) => any ? Parameters<EmitsValue> : never\r\n\r\nexport type ComponentEvent<Emit> = {\r\n    emit: { [key in keyof Emit]: (...args: EventListener<Emit[key]>) => void },\r\n    on: { [key in keyof Emit]: (cb: (...args: EventListener<Emit[key]>) => void) => void },\r\n    once: { [key in keyof Emit]: (cb: (...args: EventListener<Emit[key]>) => void) => void },\r\n    off: { [key in keyof Emit]: (cb: (...args: EventListener<Emit[key]>) => void) => void },\r\n}\r\n\r\nexport function getComponentEmit<T>(emitObject: T): T {\r\n    return Object.keys(emitObject || {}).reduce((prev, key) => {\r\n        const emitter = (emitObject as any)[key];\r\n        const match = key.match(/onUpdate([A-Z])(.*)/)\r\n        const kebabCaseName = kebabCase(key).replace('on-', '')\r\n        if (!!match) {\r\n            const updateName = `update:${match[1].toLowerCase()}${match[2]}`\r\n            prev[updateName] = emitter\r\n            if (key === 'onUpdateModelValue') {\r\n                prev['change'] = emitter\r\n            }\r\n        }\r\n        prev[kebabCaseName] = emitter\r\n        return prev\r\n    }, {} as any)\r\n}\r\n\r\nexport function useEvent<T>(emitObject: T): ComponentEvent<T> {\r\n\r\n    const ctx = getCurrentInstance()!\r\n    const event = createPlainEvent()\r\n\r\n    const emit = {} as any;\r\n    const on = {} as any;\r\n    const once = {} as any;\r\n    const off = {} as any;\r\n\r\n    const keys = Object.keys(emitObject || {})\r\n    if (!!emitObject && !!(emitObject as any).onUpdateModelValue) {keys.push('onChange')}\r\n\r\n    keys.forEach(key => {\r\n        /*派发事件名称，横杠命名*/\r\n        const match = key.match(/onUpdate([A-Z])(.*)/)\r\n        const kebabCaseName = kebabCase(key).replace('on-', '')\r\n        if (!!match) {\r\n            const updateName = `update:${match[1].toLowerCase()}${match[2]}`\r\n            emit[key] = (...args: any[]) => {\r\n                ctx.emit(kebabCaseName, ...args)\r\n                event.emit(kebabCaseName, ...args)\r\n                ctx.emit(updateName, ...args)\r\n                event.emit(updateName, ...args)\r\n                if (key === 'onUpdateModelValue') {\r\n                    ctx.emit('change', ...args)\r\n                    event.emit('change', ...args)\r\n                }\r\n            }\r\n        } else {\r\n            emit[key] = (...args: any[]) => {\r\n                ctx.emit(kebabCaseName, ...args)\r\n                event.emit(kebabCaseName, ...args)\r\n            }\r\n        }\r\n        on[key] = (fn: SimpleFunction) => event.on(kebabCaseName, fn)\r\n        once[key] = (fn: SimpleFunction) => event.once(kebabCaseName, fn)\r\n        off[key] = (fn: SimpleFunction) => event.off(kebabCaseName, fn)\r\n    })\r\n\r\n    onBeforeUnmount(event.clear)\r\n\r\n    return {\r\n        emit, on, once, off,\r\n    }\r\n}","export const renderNothing = () => null","import {Component, ComponentInternalInstance, ComponentOptionsMixin, ComponentPropsOptions, ComputedOptions, defineComponent, DefineComponent, Directive, EmitsOptions, ExtractPropTypes, getCurrentInstance, inject, MethodOptions, PropType, provide, Ref, ref, SetupContext,} from 'vue'\r\nimport {ComponentEvent, getComponentEmit, useEvent} from \"./useEvent\";\r\nimport {createError} from \"../utils/createError\";\r\nimport {renderNothing} from \"../utils/renderNothing\";\r\n\r\nconst error = createError('designComponent')\r\n\r\ninterface RefValue<T> {\r\n    (): Ref<null | T>\r\n\r\n    (refName?: string): Readonly<{ value: null | T }>\r\n}\r\n\r\ninterface InjectValue<Refer> {\r\n    (): Refer,\r\n\r\n    <DefaultValue>(defaultValue?: DefaultValue): Refer | DefaultValue\r\n}\r\n\r\ninterface UseType<Refer, Props> {\r\n    ref: RefValue<Refer>,\r\n    inject: InjectValue<Refer>\r\n    class: Refer,\r\n    props: Props,\r\n}\r\n\r\ntype EmitToProp<E extends Record<string, any>> = {\r\n    [k in keyof E]: { type: PropType<E[k] extends ((...args: any[]) => any) ? (...args: Parameters<E[k]>) => void : E[k]>, }\r\n}\r\n\r\nexport function designComponent<RawBindings,\r\n    D,\r\n    Refer,\r\n    Expose extends object,\r\n    Props extends Readonly<ExtractPropTypes<PropsOptions>>,\r\n    PropsOptions extends Readonly<ComponentPropsOptions> = {},\r\n    C extends ComputedOptions = {},\r\n    M extends MethodOptions = {},\r\n    Mixin extends ComponentOptionsMixin = ComponentOptionsMixin,\r\n    Extends extends ComponentOptionsMixin = ComponentOptionsMixin,\r\n    E extends EmitsOptions = {},\r\n    EE extends string = string,\r\n    >(\r\n    options: {\r\n        provideRefer?: boolean,\r\n        emits?: E,\r\n        setup?: (parameter: { props: Props, event: ComponentEvent<E>, setupContext: SetupContext<E>, ctx: ComponentInternalInstance }) => {\r\n            refer?: Refer\r\n            render: () => any,\r\n        },\r\n\r\n        name?: string,\r\n        props?: PropsOptions,\r\n        mixins?: any[],\r\n        components?: Record<string, Component>;\r\n        directives?: Record<string, Directive>;\r\n    },\r\n    expose?: Expose,\r\n): DefineComponent<PropsOptions & EmitToProp<E>, RawBindings, D, C, M, Mixin, Extends, E, EE> & {\r\n    use: UseType<Refer, Props>\r\n} & Expose {\r\n\r\n    const {provideRefer, emits, setup, ...leftOptions} = options\r\n\r\n    const use: UseType<Refer, Props> = {\r\n        inject: (defaultValue?: any) => {\r\n            return inject(`@@${options.name}`, defaultValue) as Refer\r\n        },\r\n        class: Object as any as Refer,\r\n        ref: (refName?: string) => {\r\n            if (!!refName) {\r\n                const ctx = getCurrentInstance()!\r\n                return {\r\n                    get value() {\r\n                        return ctx.refs[refName!]\r\n                    }\r\n                } as any\r\n            } else {\r\n                return ref(null)\r\n            }\r\n        },\r\n        props: Object as any as Props,\r\n    }\r\n\r\n    /*if (leftOptions.name === 'pl-popper') {\r\n        console.log(leftOptions.name, getComponentEmit(emits), emits)\r\n    }*/\r\n\r\n    return Object.assign(\r\n        defineComponent({\r\n            ...(leftOptions as any || {}),\r\n            props: leftOptions.props as PropsOptions,\r\n            emits: getComponentEmit(emits),\r\n            setup(props: any, setupContext: any) {\r\n                if (!setup) {\r\n                    error('setup is necessary!')\r\n                    return renderNothing\r\n                }\r\n                const ctx = getCurrentInstance()!\r\n                const event = useEvent<E>(emits!);\r\n                (ctx as any)._event = event;\r\n\r\n                const {refer, render} = setup({\r\n                    ctx,\r\n                    props,\r\n                    event,\r\n                    setupContext,\r\n                })\r\n\r\n                if (!!refer) {\r\n                    const duplicateKey = Object.keys(refer || {}).find(i => i in ctx.proxy!)\r\n                    if (!!duplicateKey) {\r\n                        console.error(`designComponent:${leftOptions.name} key '${duplicateKey}' in refer is not allow here!`)\r\n                    } else {\r\n                        Object.assign(ctx.proxy, refer)\r\n                    }\r\n                }\r\n\r\n                if (provideRefer) {\r\n                    if (!options.name) {\r\n                        error('component name is necessary when provideRefer is true!')\r\n                    } else {\r\n                        provide(`@@${options.name}`, refer)\r\n                    }\r\n                }\r\n                return render\r\n            },\r\n        }),\r\n        {use, ...(expose || {})}\r\n    ) as any\r\n}","import {designComponent} from \"../../use/designComponent\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-item',\r\n    props: {\r\n        block: {type: Boolean},\r\n        tag: {type: String, default: 'div'},\r\n    },\r\n    setup({props}) {\r\n        const {slots} = useSlots()\r\n        return {\r\n            render: () => {\r\n                const {tag: Tag} = props as any\r\n                return (\r\n                    <Tag {...{class: `pl-item ${!!props.block ? 'pl-item-block' : ''}`}}>\r\n                        {slots.default()}\r\n                    </Tag>\r\n                )\r\n            }\r\n        }\r\n    },\r\n})","import item from './item'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(item)","import {designComponent} from \"../../use/designComponent\";\r\nimport {StyleProps, useStyle} from \"../../use/useStyle\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {ComponentPublicInstance, getCurrentInstance, markRaw, nextTick, reactive, Teleport} from 'vue';\r\nimport {RootController} from \"./registryRootService\";\r\nimport {useRefList} from \"../../use/useRefList\";\r\nimport './root.scss'\r\n\r\nexport default designComponent({\r\n    name: 'pl-root',\r\n    props: {\r\n        ...StyleProps,\r\n    },\r\n    setup() {\r\n\r\n        /*全局样式定义*/\r\n        useStyle()\r\n        /*默认插槽*/\r\n        const {slots} = useSlots()\r\n        /*controller代理对象引用*/\r\n        let refs = useRefList<ComponentPublicInstance>()\r\n        /*当前状态*/\r\n        const state = reactive({\r\n            managers: [] as {\r\n                name: string,\r\n                Component: { use: { class: any } },\r\n                RenderComponent: any,\r\n            }[],\r\n        })\r\n\r\n        /**\r\n         * 获取一个Controller实例\r\n         * @author  韦胜健\r\n         * @date    2020/11/5 10:19\r\n         */\r\n        async function getManagerInstance<ManagerComponent extends { use: { class: any } }>(\r\n            name: string,\r\n            managerComponent: ManagerComponent\r\n        ): Promise<ManagerComponent[\"use\"][\"class\"]> {\r\n            if (!!refs) {\r\n                for (let i = 0; i < refs.length; i++) {\r\n                    const managerInstance = refs[i];\r\n                    if (!!managerInstance) {\r\n                        const {name: attrName, Component: attrComponent} = managerInstance.$attrs\r\n                        if (name === attrName && managerComponent === attrComponent) {\r\n                            return managerInstance as any\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            /*当前引用中没有该实例，手动创建一个*/\r\n            state.managers.push({\r\n                name,\r\n                Component: managerComponent,\r\n                RenderComponent: markRaw(managerComponent),\r\n            })\r\n            await nextTick()\r\n            return getManagerInstance(name, managerComponent)\r\n        }\r\n\r\n        const ctx = getCurrentInstance()!\r\n        const refer = {\r\n            rootRef: () => ctx.proxy!.$root!,\r\n            getManagerInstance,\r\n        }\r\n        RootController.initRoot(refer)\r\n\r\n        return {\r\n            refer,\r\n            render: () => [\r\n                slots.default(),\r\n                <Teleport to=\"body\">\r\n                    <div class=\"pl-root-service-container\">\r\n                        {state.managers.map(({name, Component, RenderComponent}, index) => (\r\n                            <RenderComponent key={index} {...{name, Component}} ref={proxy => refs[index] = proxy as any}/>\r\n                        ))}\r\n                    </div>\r\n                </Teleport>\r\n            ]\r\n        }\r\n    },\r\n})","import Root from './root'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(Root)","import {StyleStatus} from \"../use/useStyle\";\r\n\r\nexport enum CheckboxStatus {\r\n    uncheck = 'uncheck',\r\n    check = 'check',\r\n    minus = 'minus',\r\n}\r\n\r\nexport const DEFAULT_STATUS = StyleStatus.primary\r\n\r\nexport const STATUS = {\r\n    white: {icon: 'el-icon-info', status: 'white'},\r\n    black: {icon: 'el-icon-info', status: 'black'},\r\n    primary: {icon: 'el-icon-info', status: 'primary'},\r\n    success: {icon: 'el-icon-success', status: 'success'},\r\n    warn: {icon: 'el-icon-warning', status: 'warn'},\r\n    error: {icon: 'el-icon-error', status: 'error'},\r\n    info: {icon: 'el-icon-info', status: 'info'},\r\n} as { [k: string]: { icon: string, status: string } }","import {getCurrentInstance, onBeforeUpdate, reactive} from 'vue'\r\nimport {VNodeChild} from \"../shims\";\r\nimport {getSlotExist} from \"../utils/getSlotExists\";\r\n\r\ntype SlotFunction = ((vnode?: VNodeChild) => VNodeChild)\r\ntype SlotObject = { isExist: () => boolean }\r\n\r\ninterface UseSlots {\r\n    <T extends string>(names?: T[]): {\r\n        slots: { default: SlotFunction } & { [k in T]: SlotFunction }\r\n    }\r\n\r\n    <T extends string>(names?: T[], makeReactive?: boolean): {\r\n        slots: { default: SlotFunction & SlotObject } & { [k in T]: SlotFunction & SlotObject }\r\n    }\r\n}\r\n\r\n/**\r\n * 规范插槽用法\r\n * @author  韦胜健\r\n * @date    2020/11/18 17:48\r\n * @param   names                   插槽名称\r\n * @param   makeReactive            是否需要 isExist具备响应式的能力，以便在computed、watch以及render中判断\r\n */\r\nexport const useSlots: UseSlots = (names?: string[], makeReactive?: boolean) => {\r\n\r\n    const ctx = getCurrentInstance()!\r\n    const slotNames = [...(names || []), 'default']\r\n\r\n    /**\r\n     * 因为ctx.slots,ctx.ctx.$slots都不是响应式属性，无法触发computed以及watch中的变化，这里做一个手动更新处理\r\n     * 每次beforeUpdate打补丁之前，先更新ctxSlots响应式变量，render函数只会触发一次；\r\n     * @author  韦胜健\r\n     * @date    2020/10/19 11:36\r\n     */\r\n    const state = reactive({exist: getSlotExist(null, slotNames, ctx)})\r\n\r\n    /*如果需要响应式，则需要设置 makeReactive，会自动在updated之后更新slots的isExist值*/\r\n    if (makeReactive) {\r\n        onBeforeUpdate(() => {\r\n            getSlotExist(state.exist, slotNames, ctx)\r\n        })\r\n    }\r\n\r\n    /*slots.***是一个函数，参数是插槽后备内容。当插槽不存在时，渲染后备内容，否则渲染插槽内容*/\r\n    let slots = slotNames.reduce((prev: any, slotName: string) => {\r\n        prev[slotName] = Object.assign((vnode: VNodeChild) => {\r\n            const slot = ctx.slots[slotName]\r\n            return !!slot ? slot() : vnode\r\n        }, {\r\n            isExist() {\r\n                return state.exist[slotName]\r\n            }\r\n        })\r\n        return prev\r\n    }, {} as any)\r\n\r\n    return {\r\n        slots,\r\n    }\r\n}","import {App} from 'vue'\r\nimport {ComponentPlugin} from \"../shims\";\r\nimport {installPlugin} from \"./installPlugin\";\r\nimport Root from '../packages/root'\r\n\r\ninterface InstallComponent {\r\n    name: string\r\n}\r\n\r\nexport function createComponentPlugin<Component extends InstallComponent,\r\n    Expose extends Record<string, any>,\r\n    ExposeComponents extends { [k: string]: InstallComponent },\r\n    >(\r\n    component: Component,                               // 导出的主组件\r\n    option?: {\r\n        exposeComponents?: ExposeComponents,            // 额外需要安装的组件（一并导出挂载的component组件上）\r\n        plugins?: ComponentPlugin[],                    // 依赖的其他插件\r\n        expose?: Expose                                 // 需要导出的额外内容\r\n    },\r\n) {\r\n    const {exposeComponents, plugins, expose} = option || {}\r\n    const wrapExposeComponents: { [k in keyof ExposeComponents]: ExposeComponents[k] & ComponentPlugin } = !exposeComponents ?\r\n        {} :\r\n        Object.keys(exposeComponents || {})\r\n            .reduce((prev, next) => {\r\n                prev[next] = createComponentPlugin(exposeComponents[next])\r\n                return prev\r\n            }, {} as any)\r\n\r\n    return Object.assign(component, {\r\n        install(app: App) {\r\n            installPlugin(app, Root)\r\n            const componentList = [component] as InstallComponent[]\r\n            if (!!exposeComponents) {componentList.push(...Object.values(exposeComponents))}\r\n            componentList.forEach(comp => app.component(comp.name, comp))\r\n            !!plugins && (installPlugin(app, plugins))\r\n        },\r\n        ...wrapExposeComponents,\r\n        ...expose,\r\n    })\r\n}","import {designComponent} from \"../../use/designComponent\";\r\nimport {VNodeChild} from \"../../shims\";\r\n\r\n/**\r\n * 创建一个默认的root service组件\r\n * 这个组件最后返回的refer，必须含有isShow、isOpen、service三个属性。\r\n * isShow：当前是否已经显示，因为存在过渡动画，所以如果值为true，但是此时在页面可能没有完全显示。值为false，可能在页面上没有完全隐藏；\r\n * isOpen：当前是否已经在页面上完全打开或者消失。值为true，表示当前已经完全显示，但是此时isShow可能为false。因为隐藏过渡动画没有结束的时候就是这种情况、同理isOpen为true的时候也是这样。\r\n * 只有当isShow以及isOpen都是false的情况下，这个service才是处于闲置可以服用的状态。\r\n *\r\n * @author  韦胜健\r\n * @date    2020/11/26 9:24\r\n */\r\nexport function createDefaultService<Option extends object, Refer extends {\r\n    isShow: { value: boolean },\r\n    isOpen: { value: boolean },\r\n    service: (optoin: Option) => void\r\n}>\r\n(\r\n    {\r\n        name,\r\n        setup,\r\n    }: {\r\n        name: string,\r\n        setup: (option: Option) => {\r\n            refer: Refer,\r\n            render: () => VNodeChild,\r\n        },\r\n    }\r\n) {\r\n    return designComponent({\r\n        name: `pl-${name}-service`,\r\n        props: {\r\n            option: {type: Object, required: true}\r\n        },\r\n        setup({props}) {\r\n            const option = props.option as Option\r\n            const {render, refer} = setup(option)\r\n            refer.service(option)\r\n            return {\r\n                render, refer\r\n            }\r\n        },\r\n    })\r\n}","export const enum FormLabelAlign {\r\n    left = 'left',\r\n    center = 'center',\r\n    right = 'right',\r\n}\r\n\r\nexport const enum FormContentAlign {\r\n    'flex-start' = 'flex-start',\r\n    'flex-end' = 'flex-end',\r\n    'center' = 'center',\r\n    'space-around' = 'space-around',\r\n    'space-between' = 'space-between',\r\n    'space-evenly' = 'space-evenly',\r\n}\r\n\r\nexport const enum FormValidateMode {\r\n    form = 'form',\r\n    table = 'table',\r\n}","import './form.scss'\r\nimport {computed, ComputedRef, onMounted, PropType, reactive, watch} from 'vue'\r\nimport {designComponent} from \"../../use/designComponent\";\r\nimport {StyleProps, useStyle} from \"../../use/useStyle\";\r\nimport {EditProps, useEdit} from \"../../use/useEdit\";\r\nimport {FormContentAlign, FormLabelAlign, FormValidateMode} from \"./form.utils\";\r\nimport {useNumber} from \"../../use/useNumber\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {unit} from \"plain-utils/string/unit\";\r\nimport {useCollect} from \"../../use/useCollect\";\r\nimport FormItem from './form-item'\r\nimport {formatFormRules, FormComponentRules, FormValidate, FormValidateResultMap, FormValidateTrigger, FormValidateUtils} from \"./form.validate\";\r\nimport {debounce} from \"plain-utils/utils/debounce\";\r\nimport {$$notice} from \"../notice-service\";\r\n\r\nconst Form = designComponent({\r\n    name: 'pl-form',\r\n    props: {\r\n        ...EditProps,\r\n        ...StyleProps,\r\n        disabledFields: {type: Object as PropType<Record<string, boolean>>},// 禁用的字段\r\n        readonlyFields: {type: Object as PropType<Record<string, boolean>>},// 只读的字段\r\n\r\n        modelValue: {type: Object},                                         // model绑定表单对象\r\n        rules: {type: Object as PropType<FormComponentRules>},              // 表单验证规则\r\n        validateResult: {type: Object},                                     // 校验结果信息\r\n        validateMode: {type: String as PropType<FormValidateMode>, default: FormValidateMode.form},// 校验模式\r\n        associateFields: {type: Object},                                    // 校验关联字段，一个对象，key为字段名，value为字段字符串或者字符串数组。当key变化时，会自动校验value中所列的字段\r\n\r\n        hideRequiredAsterisk: {type: Boolean, default: null},               // 是否隐藏文本旁边的红色必填星号\r\n        hideValidateMessage: {type: Boolean, default: null},                // 是否隐藏校验失败的信息\r\n        validateOnRulesChange: {type: Boolean, default: null},              // 是否当rules属性改变之后立即触发一次验证\r\n\r\n        column: {type: [String, Number], default: 1},                       // 多列表单的列数\r\n        labelWidth: {type: [String, Number]},                               // formItem 文本宽度\r\n        contentWidth: {type: [String, Number]},                             // formItem 内容宽度\r\n\r\n        labelAlign: {type: String as PropType<FormLabelAlign>},             // 文本对其方式\r\n        contentAlign: {type: String as PropType<FormContentAlign>, default: FormLabelAlign.left},// content 对齐方式\r\n        width: {type: [String, Number], default: '100%'},                   // 表单宽度\r\n        centerWhenSingleColumn: {type: Boolean},                            // 单列的时候会使得表单内容居中，表单文本标题不计宽度，设置该属性为true则使得文本宽度参与计算居中\r\n        colon: {type: Boolean, default: true},                              // label的冒号\r\n        columnGutter: {type: [Number, String], default: 16},                // 列之间的间距\r\n    },\r\n    emits: {\r\n        /*字段值变化事件*/\r\n        onFieldValueChange: (field: string, newVal: any, oldVal: any) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const {slots} = useSlots()\r\n\r\n        /*---------------------------------------state-------------------------------------------*/\r\n\r\n        /*收集的子组件*/\r\n        const items = FormCollector.parent()\r\n\r\n        useStyle();\r\n        useEdit({adjust: data => {data.loading = false}});\r\n        const {numberState} = useNumber(props, ['labelWidth', 'contentWidth', 'column', 'width', 'columnGutter'])\r\n\r\n        /*---------------------------------------compute-------------------------------------------*/\r\n\r\n        /*form-item中最大的label节点宽度*/\r\n        const maxLabelWidth = computed(() => items.reduce((prev: number, next) => Math.max(next.state.labelWidth, prev), 0)) as ComputedRef<number>\r\n\r\n        /*form-item所需要的对齐方式信息*/\r\n        const align = computed(() => {\r\n            return {\r\n                label: props.labelAlign || (numberState.column === 1 ? FormLabelAlign.right : FormLabelAlign.left),\r\n                content: props.contentAlign,\r\n            }\r\n        })\r\n\r\n        /*form-item所需要的宽度信息*/\r\n        const width = computed(() => {\r\n            /*\r\n            *  如果没有设置contentWidth\r\n            *  如果是单列，默认contentWidth是400\r\n            *  多了则是220\r\n            */\r\n            const content = !!numberState.contentWidth ? numberState.contentWidth : numberState.column === 1 ? 400 : 220\r\n            const label = numberState.labelWidth || maxLabelWidth.value\r\n\r\n            if (!!label) {\r\n                return {\r\n                    col: label + content,\r\n                    label,\r\n                    content,\r\n                }\r\n            } else {\r\n                return {\r\n                    content,\r\n                }\r\n            }\r\n        })\r\n\r\n        const classes = computed(() => [\r\n            'pl-form',\r\n            `pl-form-column-${numberState.column}`,\r\n        ])\r\n\r\n        /*设置form宽度*/\r\n        const styles = useStyles((style) => {\r\n            style.width = unit(props.width)\r\n        })\r\n\r\n        /*body节点宽度。如果是单列，则左偏移 label/2 个像素，确保content在屏幕中间*/\r\n        const bodyStyles = useStyles(style => {\r\n            const {label, col} = width.value\r\n            if (!label) {return}\r\n            const {column} = numberState\r\n            style.width = `calc(${col! * column}px ${column > 1 ? `+ ${numberState.columnGutter * column}px` : ''})`\r\n            style.left = `${(!props.centerWhenSingleColumn && column === 1) ? -label! / 2 : 0}px`\r\n        })\r\n        /*---------------------------------------validate-------------------------------------------*/\r\n\r\n        const formValidate = computed(() => formatFormRules(props.rules, items.map(item => item.formItemComponentRules.value))) as ComputedRef<FormValidate>\r\n\r\n        const validateMethods = {\r\n            validate: async (config?: { autoLoading?: boolean, autoAlert?: boolean, }) => {\r\n                config = config || {}\r\n                if (config.autoLoading != false) {\r\n                    childState.loading = true\r\n                }\r\n                const {validateMessage, validateResultMap, validateResult} = await formValidate.value.methods.validate(props.modelValue!)\r\n                if (config.autoLoading != false) {\r\n                    childState.loading = false\r\n                }\r\n\r\n                childState.validateResultMap = validateResultMap\r\n                if (!!validateMessage) {\r\n                    if (config.autoAlert !== false) {\r\n                        $$notice.warn(validateMessage)\r\n                    }\r\n                    throw {\r\n                        validate: validateResult,\r\n                        message: validateMessage,\r\n                    }\r\n                } else {\r\n                    return null\r\n                }\r\n            },\r\n            clearValidate: () => {\r\n                childState.validateResultMap = {}\r\n            },\r\n            showError: (error: any) => {\r\n                if (!!error.message) {\r\n                    $$notice.warn(error.message)\r\n                } else {\r\n                    $$notice.warn(String(error))\r\n                }\r\n            },\r\n        }\r\n\r\n        /*---------------------------------------end-------------------------------------------*/\r\n\r\n        onMounted(() => {\r\n            // console.log('formValidate.value', formValidate.value)\r\n        })\r\n\r\n        const childState = reactive({\r\n            align,\r\n            width,\r\n            formValidate,\r\n            validateResultMap: {} as FormValidateResultMap,\r\n            loading: false,\r\n        })\r\n\r\n        const freezeState = {\r\n            oldFormData: {...(props.modelValue || {})},\r\n        }\r\n\r\n        const validateHandler = {\r\n            onEditChange: async (field?: string | string[]) => {\r\n                if (props.validateMode === FormValidateMode.form) {\r\n                    return\r\n                }\r\n                const fields = FormValidateUtils.getListValue(field)\r\n                if (!fields) {return}\r\n                await Promise.all(fields.map(f => formValidate.value.methods.validateField({\r\n                    field: f,\r\n                    trigger: FormValidateTrigger.change,\r\n                    formValidateResultMap: childState.validateResultMap,\r\n                    formData: props.modelValue || {},\r\n                })))\r\n            },\r\n            onBlurChange: async (field?: string | string[]) => {\r\n                const fields = FormValidateUtils.getListValue(field)\r\n                if (!fields) {return}\r\n                await Promise.all(fields.map(f => formValidate.value.methods.validateField({\r\n                    field: f,\r\n                    trigger: FormValidateTrigger.blur,\r\n                    formValidateResultMap: childState.validateResultMap,\r\n                    formData: props.modelValue || {},\r\n                })))\r\n            },\r\n            onFieldChange: async (field: string) => {\r\n                await formValidate.value.methods.validateField({\r\n                    field,\r\n                    trigger: FormValidateTrigger.change,\r\n                    formValidateResultMap: childState.validateResultMap,\r\n                    formData: props.modelValue || {},\r\n                })\r\n            },\r\n            onFormDataChange: debounce((val: any) => {\r\n                const newFormData = val || {}\r\n                const oldFormData = freezeState.oldFormData || {}\r\n                const fields = Object.keys({...newFormData, ...oldFormData})\r\n\r\n                fields.forEach(field => {\r\n                    let newVal = newFormData[field]\r\n                    let oldVal = oldFormData[field]\r\n                    if (newVal !== oldVal) {\r\n                        emit.onFieldValueChange(field, newVal, oldVal)\r\n                        validateHandler.onFieldChange(field)\r\n                    }\r\n                })\r\n                freezeState.oldFormData = {...val || {}}\r\n            }, 150, false)\r\n        }\r\n\r\n        if (props.validateMode === FormValidateMode.form) {\r\n            watch(() => props.modelValue, validateHandler.onFormDataChange, {deep: true})\r\n        }\r\n\r\n        return {\r\n            refer: {\r\n                props,\r\n                childState,\r\n                numberState,\r\n                validateHandler,\r\n                ...validateMethods,\r\n            },\r\n            render: () => {\r\n                return (<div class={classes.value} style={styles.value} v-loading={childState.loading || !!props.loading}>\r\n                    <div class=\"pl-form-body\" style={bodyStyles.value}>\r\n                        {slots.default()}\r\n                    </div>\r\n                </div>)\r\n            }\r\n        }\r\n    },\r\n})\r\n\r\nexport default Form\r\n\r\nexport const FormCollector = useCollect(() => ({\r\n    parent: Form,\r\n    child: FormItem,\r\n}))","export function createCounter(prefixString?: string) {\r\n    let count = 0\r\n    return () => (!!prefixString ? `${prefixString}_` : '') + count++\r\n}","/**\r\n * 基础视图类型\r\n * @author  韦胜健\r\n * @date    2020/12/7 20:34\r\n */\r\nimport {PlainDate, PlainDateType} from \"../../utils/PlainDate\";\r\nimport {ExtractPropTypes} from 'vue';\r\nimport {VNodeChild} from \"../../shims\";\r\n\r\nexport const enum DateView {\r\n    year = 'year',\r\n    month = 'month',\r\n    date = 'date',\r\n    time = 'time',\r\n}\r\n\r\nexport const enum SlideTransitionDirection {\r\n    next = 'next',\r\n    prev = 'prev'\r\n}\r\n\r\nexport const DatePublicProps = {\r\n    modelValue: {type: String},\r\n    start: {type: String},\r\n    end: {type: String},\r\n\r\n    displayFormat: {type: String},\r\n    valueFormat: {type: String},\r\n    max: {type: String},\r\n    min: {type: String},\r\n    range: {type: Boolean},\r\n\r\n    direction: {type: String, default: 'horizontal'},                                   // 根节点在 pl-transition-slide 动画下的动画方向，是horizontal还是vertical\r\n    view: {type: String, default: DateView.month},                                      // 当前视图\r\n    selectDate: {type: PlainDate},                                                      // 当前面板的年月日期对象\r\n\r\n    /* base panel date 专用*/\r\n    datetime: {type: Boolean},                                                          // 是否为日期时间视图\r\n    firstWeekDay: {type: Number, default: 1},                                           // 一周的第一个是星期几，0是星期天，1是星期一\r\n    defaultTime: {type: String},                                                        // 默认时间，如果没有初始值，选择日期的时候时间会取这里的默认时间\r\n    /* date range 专用*/\r\n    defaultStartTime: {type: String},                                                   // 日期范围选择起始选择框日期面板，默认时间，如果没有初始值，选择日期的时候时间会取这里的默认时间\r\n    defaultEndTime: {type: String},                                                     // 日期范围选择截止选择框日期面板，默认时间，如果没有初始值，选择日期的时候时间会取这里的默认时间\r\n}\r\n\r\n/**\r\n * 日期公共属性解析后的类型\r\n * @author  韦胜健\r\n * @date    2020/12/7 20:37\r\n */\r\nexport type DatePublicPropsType = ExtractPropTypes<typeof DatePublicProps>;\r\n\r\nexport const DefaultDateFormatString = {\r\n    year: 'YYYY',\r\n    month: 'YYYY-MM',\r\n    date: 'YYYY-MM-DD',\r\n    datetime: 'YYYY-MM-DD HH:mm:ss',\r\n    week: 'YYYY-MM-DD',\r\n    dates: 'YYYY-MM-DD',\r\n}\r\n\r\nexport const DatePublicEmits = {\r\n    onUpdateModelValue: (val?: string, rangeType?: DateEmitRangeType) => true,\r\n    onUpdateStart: (val?: string) => true,\r\n    onUpdateEnd: (val?: string) => true,\r\n    onUpdateView: (view: DateView) => true,\r\n}\r\n\r\n/*DateBasePanelItemData*/\r\nexport interface Dbpid {\r\n    label: string | number\r\n    active: boolean\r\n    now: boolean\r\n    disabled: boolean\r\n    hoverStart: boolean\r\n    hover: boolean\r\n    hoverEnd: boolean\r\n    clickable: boolean\r\n    ipd: PlainDateType\r\n\r\n    range: boolean\r\n\r\n    [key: string]: any\r\n}\r\n\r\nexport const enum DateEmitRangeType {\r\n    start = 'start',\r\n    end = 'end',\r\n}\r\n\r\nexport function DatePanelWrapper(slots: {\r\n    left?: VNodeChild,\r\n    center: VNodeChild,\r\n    right?: VNodeChild,\r\n    content: VNodeChild,\r\n}) {\r\n    return (\r\n        <div class=\"pl-date-base-panel\">\r\n            <div class=\"pl-date-base-panel-header\">\r\n                <div>{slots.left}</div>\r\n                <div>{slots.center}</div>\r\n                <div>{slots.right}</div>\r\n            </div>\r\n            <div class=\"pl-date-base-panel-body\">\r\n                {slots.content}\r\n            </div>\r\n        </div>\r\n    ) as any\r\n}\r\n\r\nexport function DatePanelItemWrapper(\r\n    {\r\n        Node,\r\n        item,\r\n        onClick,\r\n        onMouseenter,\r\n    }: {\r\n        Node: any,                              // 容器节点\r\n        item: Dbpid,                            // item 数据\r\n        onClick: (item: Dbpid) => void,         // 点击item事件处理句柄\r\n        onMouseenter: (item: Dbpid) => void,    // 进入item事件处理句柄\r\n    }) {\r\n\r\n    let listener = {} as any;\r\n    item.clickable && (listener.onClick = () => onClick(item));\r\n    !item.disabled && (listener.onMouseenter = () => onMouseenter(item));\r\n\r\n    return (\r\n        <Node\r\n            {...listener}\r\n            class={[\r\n                'pl-date-base-panel-item',\r\n                {\r\n                    'pl-date-base-panel-item-active': item.active,\r\n                    'pl-date-base-panel-item-now': item.now,\r\n                    'pl-date-base-panel-item-disabled': item.disabled,\r\n                    'pl-date-base-panel-item-hover-start': item.hoverStart,\r\n                    'pl-date-base-panel-item-hover': item.hover,\r\n                    'pl-date-base-panel-item-hover-end': item.hoverEnd,\r\n                }\r\n            ]}>\r\n            <div>\r\n                <span>{item.label}</span>\r\n            </div>\r\n        </Node>\r\n    )\r\n\r\n}\r\n\r\nexport const DateViewSeq = {\r\n    year: 1,\r\n    month: 2,\r\n    date: 3,\r\n    time: 4,\r\n}\r\n\r\nexport const WeekUtils = {\r\n    /**\r\n     * 获取特定日期，在一周中的最后一天\r\n     * @author  韦胜健\r\n     * @date    2020/12/10 9:42\r\n     */\r\n    getLastPdOfWeek: (pd: PlainDateType, firstWeekDay?: number) => {\r\n        if (pd.isNull) {\r\n            return null\r\n        }\r\n        pd = pd.copy()\r\n        firstWeekDay = firstWeekDay == null ? 1 : firstWeekDay\r\n        const weekDayDuration = pd.day! - firstWeekDay\r\n        let offsetDay = weekDayDuration === 0 ? 0 : weekDayDuration > 0 ? weekDayDuration : 7 + weekDayDuration\r\n        pd.setMonthDate(pd.month!, pd.date! - offsetDay + 6)\r\n        return pd\r\n    },\r\n    /**\r\n     * 获取日期在第几周\r\n     * @author  韦胜健\r\n     * @date    2020/12/10 10:19\r\n     */\r\n    getWeekNumber: (value?: string, config?: { valueFormat?: string, firstWeekDay?: number }) => {\r\n        let ret = {\r\n            year: null as null | number,\r\n            week: null as null | number,\r\n        }\r\n        if (!value) {return ret}\r\n\r\n        config = config || {}\r\n        const valueFormat = config.valueFormat || DefaultDateFormatString.date\r\n        const firstWeekDay = config.firstWeekDay == null ? 1 : config.firstWeekDay\r\n        let vpd = new PlainDate(value, valueFormat, valueFormat)\r\n        if (vpd.isNull) {return ret}\r\n\r\n        const valueLastWeekPd = WeekUtils.getLastPdOfWeek(vpd, firstWeekDay)!\r\n        vpd = valueLastWeekPd.copy()\r\n        vpd.setYMD(valueLastWeekPd.Y!, 0, 1)\r\n        const yearFirstDayLastWeekPd = WeekUtils.getLastPdOfWeek(vpd, firstWeekDay)\r\n\r\n        if (!!yearFirstDayLastWeekPd && !yearFirstDayLastWeekPd.isNull && !!valueLastWeekPd && !valueLastWeekPd.isNull) {\r\n            const num = (valueLastWeekPd.time - yearFirstDayLastWeekPd.time) / (24 * 60 * 60 * 1000 * 7)\r\n            ret.year = yearFirstDayLastWeekPd.year\r\n            ret.week = num + 1\r\n        }\r\n\r\n        return ret\r\n    },\r\n    /**\r\n     * 获取周字符串\r\n     * @author  韦胜健\r\n     * @date    2020/12/10 17:03\r\n     */\r\n    getWeekZhcnString: (value?: string, config?: { valueFormat?: string, firstWeekDay?: number }) => {\r\n        const {year, week} = WeekUtils.getWeekNumber(value, config)\r\n        if (!!year) {\r\n            return `${year}年 第${week}周`\r\n        } else {\r\n            return null\r\n        }\r\n    },\r\n}","import {ref, getCurrentInstance, provide, inject, onMounted, onBeforeUnmount, markRaw, Ref} from 'vue';\r\nimport {createCounter} from \"../utils/createCounter\";\r\n\r\ntype UseCollectComponent = { name?: string, use: { class: any } }\r\ntype UseCollectSort = (() => HTMLElement) | number\r\n\r\nconst counter = createCounter('use_collector')\r\n\r\nfunction useCollectInParentInner() {\r\n\r\n    const indexMap = new WeakMap<any, number>()\r\n\r\n    const items = ref([] as any[])\r\n    const utils = {\r\n        addItem: (item: any, sort?: UseCollectSort) => {\r\n            if (!!sort) {\r\n                if (typeof sort !== \"number\") {\r\n                    const el = sort()\r\n                    sort = Array\r\n                        .from(el!.parentNode!.childNodes)\r\n                        .filter((item: any) => item.nodeName !== '#comment' && (!item.style || item.style.display !== 'none'))\r\n                        .indexOf(el)\r\n                    // console.log(el, sort)\r\n                }\r\n                indexMap.set(item, sort as number)\r\n\r\n                items.value.splice(\r\n                    0,\r\n                    items.value.length,\r\n                    ...[...items.value, item]\r\n                        .sort((a, b) => indexMap.get(a)! - indexMap.get(b)!))\r\n            } else {\r\n                items.value.push(item)\r\n            }\r\n        },\r\n        removeItem: (item: any) => {\r\n            const index = items.value.indexOf(item)\r\n            if (index > -1) items.value.splice(index, 1)\r\n        }\r\n    }\r\n    return {\r\n        parent: {} as any,  // 类型提示，实际上无用处\r\n        items,\r\n        utils,\r\n    }\r\n}\r\n\r\nexport function useCollect<Parent extends UseCollectComponent, Child extends UseCollectComponent>\r\n(config: () => {\r\n    parent: Parent,\r\n    child: Child,\r\n}) {\r\n\r\n    const {parent} = config()\r\n    const parentName = parent.name || counter()\r\n    const provideString = `@@Collector_${parentName}`\r\n\r\n    return {\r\n        parent: (): (Child['use']['class'])[] => {\r\n            const ctx = getCurrentInstance()!\r\n            const {items, utils} = useCollectInParentInner()\r\n            const data: ReturnType<typeof useCollectInParentInner> = {\r\n                items,\r\n                utils,\r\n                parent: ctx.proxy,\r\n            }\r\n            provide(provideString, data)\r\n            return items.value\r\n        },\r\n        child: (\r\n            {\r\n                injectDefaultValue,\r\n                sort,\r\n            }: {\r\n                injectDefaultValue?: any,\r\n                sort?: UseCollectSort,\r\n            } = {}): Parent['use']['class'] => {\r\n            const data = inject(provideString, injectDefaultValue) as ReturnType<typeof useCollectInParentInner>\r\n            if (!!data) {\r\n                const ctx = getCurrentInstance()!\r\n                const child = markRaw(ctx.proxy as any)\r\n                onMounted(() => data.utils.addItem(child, sort))\r\n                onBeforeUnmount(() => data.utils.removeItem(child))\r\n                return data.parent\r\n            } else {\r\n                return null\r\n            }\r\n        }\r\n    }\r\n}","/**\r\n * 创建一个报错对象\r\n * @author  韦胜健\r\n * @date    2020/10/15 10:33\r\n */\r\nexport function createError(tag: string) {\r\n    return (msg: string, isLog?: boolean) => {\r\n        const message = `${tag}:${msg}`\r\n        const log = isLog == null ? true : isLog\r\n        if (log) {\r\n            console.error(message)\r\n        } else {\r\n            throw new Error(message)\r\n        }\r\n    }\r\n}","import {ref, onBeforeUpdate, Ref} from 'vue';\r\n\r\ninterface UseRefList {\r\n    <T = any>(reactive: true): Ref<T[]>\r\n\r\n    <T = any>(): T[]\r\n}\r\n\r\nexport const useRefList: UseRefList = <T>(reactive?: boolean) => {\r\n    if (reactive) {\r\n        const refs = ref([] as T[])\r\n        onBeforeUpdate(() => refs.value = [])\r\n        return refs\r\n    } else {\r\n        const refs = [] as any\r\n        onBeforeUpdate(() => refs.splice(0, refs.length))\r\n        return refs\r\n    }\r\n}\r\n","import {reactive, watch} from 'vue'\r\nimport {toArray} from \"../utils/toArray\";\r\n\r\nexport enum FormatPropType {\r\n    PROMISE = 'PROMISE',\r\n    FUNCTION = 'FUNCTION',\r\n    NUMBER = 'NUMBER',\r\n}\r\n\r\n/**\r\n * ignorePromise:第一次获取值的时候，忽略Promise格式化，而是通过 watch immediate 来实现赋值\r\n * @author  韦胜健\r\n * @date    2020/10/30 15:29\r\n */\r\nasync function usePropsFormatter(state: any, key: string, val: any, types: FormatPropType | FormatPropType[]): Promise<void> {\r\n\r\n    if (val == null) {\r\n        state[key] = val\r\n        return\r\n    }\r\n\r\n    const formatTypes = toArray(types)\r\n\r\n    if (formatTypes.indexOf(FormatPropType.PROMISE) > -1 && !!val.then && typeof val.then === 'function') {\r\n        val = await val\r\n    }\r\n\r\n    if (formatTypes.indexOf(FormatPropType.FUNCTION) > -1 && typeof val === \"function\") {\r\n        val = val()\r\n    }\r\n\r\n    if (formatTypes.indexOf(FormatPropType.NUMBER) > -1 && typeof val === \"string\") {\r\n        if (/^[\\d]+$/.test(val)) {\r\n            val = Number(val)\r\n        } else {\r\n            if (val.lastIndexOf('px') === val.length - 2) {\r\n                val = Number(val.replace('px', ''))\r\n            }\r\n        }\r\n    }\r\n\r\n    state[key] = val\r\n}\r\n\r\nfunction usePropsInner<Props extends { [k: string]: any },\r\n    Config extends Partial<{ [k in keyof Props]: FormatPropType | FormatPropType[] }>>\r\n(\r\n    props: Props,\r\n    config: Config\r\n) {\r\n\r\n    const configKeys = Object.keys(config)\r\n\r\n    const formatConfig: { [k in keyof Props]: FormatPropType[] } = configKeys.reduce((prev, key) => {\r\n        prev[key] = toArray(config[key])\r\n        return prev\r\n    }, {} as any)\r\n\r\n    const state = reactive((() =>\r\n        configKeys.reduce((prev: any, configKey) => {\r\n            prev[configKey] = null\r\n            const formatTypes = formatConfig[configKey]\r\n            /**\r\n             * 如果是Promise，则跳过处理，在watch immediate中初始化\r\n             * @author  韦胜健\r\n             * @date    2020/11/3 20:10\r\n             */\r\n            if (formatTypes.indexOf(FormatPropType.PROMISE) === -1) {\r\n                usePropsFormatter(prev, configKey, props[configKey], formatTypes)\r\n            }\r\n            return prev\r\n        }, {}) as { [k in Exclude<keyof Props, Exclude<keyof Props, keyof Config>>]: Props[k] })\r\n    ())\r\n\r\n    configKeys.forEach(configKey => {\r\n        watch(() => props[configKey], val => {\r\n            // @ts-ignore\r\n            usePropsFormatter(state, configKey, val, config[configKey])\r\n        }, {immediate: formatConfig[configKey].indexOf(FormatPropType.PROMISE) > -1})\r\n    })\r\n\r\n    return {\r\n        propsState: state,\r\n    }\r\n}\r\n\r\nexport const useProps = Object.assign(usePropsInner, FormatPropType)","import {SimpleFunction} from \"../shims\";\r\n\r\ntype Listener = (SimpleFunction & { fn?: any })\r\ntype ListenName = string | symbol\r\nexport type PlainEvent = ReturnType<typeof createPlainEvent>\r\n\r\nexport function createPlainEvent() {\r\n\r\n    /**\r\n     * 第一次调用getEvents的时候才创建map对象\r\n     * @author  韦胜健\r\n     * @date    2020/10/17 11:27\r\n     */\r\n    const getListenMap = (() => {\r\n        let events: Map<ListenName, Listener[]>;\r\n        return () => {\r\n            if (!events) {\r\n                events = new Map<ListenName, Listener[]>()\r\n            }\r\n            return events\r\n        }\r\n    })()\r\n\r\n    let hasListener = false\r\n\r\n    const event = {\r\n        on: (listenName: ListenName, fn: SimpleFunction) => {\r\n\r\n            hasListener = true\r\n\r\n            const listenMap = getListenMap()\r\n            const map = listenMap.get(listenName)\r\n            if (!!map) {\r\n                map.push(fn)\r\n            } else {\r\n                listenMap.set(listenName, [fn])\r\n            }\r\n            return () => event.off(listenName, fn)\r\n        },\r\n        once: (listenName: ListenName, fn: SimpleFunction) => {\r\n\r\n            hasListener = true\r\n\r\n            const on: Listener = (...args: any[]) => {\r\n                event.off(listenName, fn)\r\n                fn(...args)\r\n            }\r\n            on.fn = fn\r\n            event.on(listenName, on)\r\n            return () => event.off(listenName, on)\r\n        },\r\n        off: (listenName: ListenName, fn?: SimpleFunction) => {\r\n            const listenMap = getListenMap()\r\n\r\n            const listeners = listenMap.get(listenName)\r\n            if (!listeners) {\r\n                return;\r\n            }\r\n\r\n            /*移除listenName的所有监听器*/\r\n            if (!fn) {\r\n                listenMap.set(listenName, [])\r\n                return\r\n            }\r\n\r\n            for (let i = 0; i < listeners.length; i++) {\r\n                const listener = listeners[i];\r\n                if (fn === listener || (!!listener.fn && fn === listener.fn)) {\r\n                    listeners.splice(i, 1)\r\n                    break\r\n                }\r\n            }\r\n        },\r\n        emit: (listenName: ListenName, ...args: any[]) => {\r\n            const listeners = getListenMap().get(listenName)\r\n            if (!!listeners) {\r\n                listeners.forEach(listener => listener(...args))\r\n            }\r\n        },\r\n        clear: () => {\r\n            if (hasListener) {\r\n                getListenMap().clear()\r\n            }\r\n        }\r\n    }\r\n\r\n    return event\r\n}","import {StyleProperties} from '../shims';\r\nimport {computed} from 'vue';\r\n\r\nexport function useStyles(\r\n    getter: (styles: StyleProperties) => StyleProperties | void\r\n) {\r\n    return computed(() => {\r\n        const style = {}\r\n        return getter(style) || style\r\n    })\r\n}","export function toArray<T>(data: T | T[]): T[] {\r\n    return Array.isArray(data) ? data : [data]\r\n}","import Root from \"./root\";\r\nimport {ComponentPublicInstance} from 'vue';\r\n\r\n/**\r\n * 用来注册root组件，建立 root 与 app中的 $root根实例的唯一对应关系\r\n * @author  韦胜健\r\n * @date    2020/11/26 9:32\r\n */\r\nexport const RootController = (() => {\r\n    const map = new WeakMap<ComponentPublicInstance, typeof Root.use.class>()\r\n    return {\r\n        initRoot: (root: typeof Root.use.class) => {\r\n            const $root = root.rootRef()\r\n            map.set($root, root)\r\n        },\r\n        getRoot: (ins: ComponentPublicInstance) => {\r\n            const root = map.get(ins.$root!)\r\n            if (!root) {\r\n                throw new Error(`pl-root is not found, you have to wrap the entire application with <pl-root/>!`)\r\n            }\r\n            return root\r\n        }\r\n    }\r\n})()\r\n\r\nexport enum RootServiceScope {\r\n    root = 'root',\r\n    ins = 'ins',\r\n}\r\n\r\n/**\r\n * 注册一个应用服务\r\n * @author  韦胜健\r\n * @date    2020/11/26 9:34\r\n * @param   name                        服务名称\r\n * @param   managerComponent            Manager组件，由root实例创建，Manager负责创建Service组件实例\r\n * @param   createService               负责通过得到的manager实例，获取service实例，调用service实例的service方法提供服务\r\n * @param   scope                       应用服务的作用范围，root表示整个应用只有一个服务，ins表示每个组件都有自己的服务。\r\n */\r\nexport function registryRootService<\r\n    ManagerComponent extends { use: { class: any } },\r\n    CreateService extends (getManager: () => Promise<ManagerComponent[\"use\"][\"class\"]>, ins: ComponentPublicInstance) => any>\r\n(\r\n    name: string,\r\n    managerComponent: ManagerComponent,\r\n    createService: CreateService,\r\n    scope = RootServiceScope.root\r\n) {\r\n    let map = new WeakMap<ComponentPublicInstance, ReturnType<CreateService>>()\r\n\r\n    return (ins: ComponentPublicInstance): ReturnType<CreateService> => {\r\n        const mapKey = scope === RootServiceScope.root ? ins.$root! : ins\r\n        let service = map.get(mapKey)\r\n        /*如果在作用域范围内存在已经创建的服务，则直接返回这个服务函数*/\r\n        if (!!service) {\r\n            return service\r\n        }\r\n        /*否则调用创建服务函数，创建一个新的服务函数提供服务*/\r\n        service = createService(async () => {\r\n            const root = RootController.getRoot(mapKey)\r\n            /*获取一个 Controller 实例，没有就给我创建一个*/\r\n            return await root.getManagerInstance(name, managerComponent)\r\n        }, ins)\r\n        map.set(mapKey, service!)\r\n        return service!\r\n    }\r\n}","import {designComponent} from \"../../use/designComponent\";\r\nimport {EditProps, useEdit} from \"../../use/useEdit\";\r\nimport {StyleProps, StyleStatus, useStyle} from \"../../use/useStyle\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport {useNumber} from \"../../use/useNumber\";\r\nimport {FormCollector} from \"./form\";\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {unit} from \"plain-utils/string/unit\";\r\nimport {reactive, onMounted, computed, PropType, ComputedRef} from 'vue';\r\nimport {useClass} from \"../../use/useClasses\";\r\nimport {FormContentAlign, FormLabelAlign} from \"./form.utils\";\r\nimport {FormComponentItemRules, FormRule, FormValidateUtils} from \"./form.validate\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-form-item',\r\n    props: {\r\n        ...EditProps,\r\n        ...StyleProps,\r\n\r\n        field: {type: [String, Array] as PropType<string | string[]>},      // 绑定的属性字段名\r\n        rules: {type: [Array, Object] as PropType<FormRule | FormRule[]>},  // 校验规则\r\n        required: {type: Boolean},                                          // 不能为空\r\n\r\n        label: {type: String, default: ' '},                                // 显示文本\r\n        labelWidth: {type: [String, Number]},                               // 显示文本宽度\r\n        column: {type: [String, Number], default: 1},                       // 多列表单的列数\r\n        block: {type: Boolean},                                             // 占用一行\r\n        colon: {type: Boolean, default: null},                              // label的冒号\r\n        labelAlign: {type: String as PropType<FormLabelAlign>},             // label 对齐方式\r\n        contentAlign: {type: String as PropType<FormContentAlign>},         // content 对齐方式\r\n    },\r\n    emits: {\r\n        onBlur: () => true,\r\n        onChange: () => true,\r\n    },\r\n    provideRefer: true,\r\n    setup({props, event: {emit}}) {\r\n\r\n        const form = FormCollector.child()\r\n        const {slots} = useSlots(['label', 'suffix'], true)\r\n        const {refs} = useRefs({label: HTMLDivElement,})\r\n        const {styleComputed} = useStyle({adjust: ret => {!!invalidate.value && (ret.status = StyleStatus.error)}})\r\n\r\n        const handler = {\r\n            onEditChange: () => form.validateHandler.onEditChange(props.field),\r\n            onEditBlur: () => form.validateHandler.onBlurChange(props.field),\r\n        }\r\n        useEdit({\r\n            adjust: ret => {\r\n                ret.onChange = handler.onEditChange\r\n                ret.onBlur = handler.onEditBlur\r\n\r\n                if (!!form.props.disabledFields && !!props.field) {\r\n                    const fields = FormValidateUtils.getListValue(props.field)\r\n                    if (!!fields && !!fields.find(f => form.props.disabledFields![f])) {\r\n                        ret.disabled = true\r\n                    }\r\n                }\r\n                if (!!form.props.readonlyFields && !!props.field) {\r\n                    const fields = FormValidateUtils.getListValue(props.field)\r\n                    if (!!fields && !!fields.find(f => form.props.disabledFields![f])) {\r\n                        ret.readonly = true\r\n                    }\r\n                }\r\n            }\r\n        })\r\n\r\n        /*---------------------------------------state-------------------------------------------*/\r\n\r\n        const {numberState} = useNumber(props, ['labelWidth', 'column'])\r\n        const state = reactive({\r\n            /*当前 form item的label宽度*/\r\n            labelWidth: 0,\r\n        })\r\n\r\n        /*---------------------------------------computed-------------------------------------------*/\r\n\r\n        /*是否显示冒号*/\r\n        const colon = computed(() => props.colon == null ? form.props.colon : props.colon)\r\n        /*label的目标宽度*/\r\n        const labelWidth = computed(() => numberState.labelWidth || form.numberState.labelWidth)\r\n        /*是否设置了label宽度*/\r\n        const staticWidth = computed(() => !!labelWidth.value)\r\n        /*是否存在label节点*/\r\n        const hasLabel = computed(() => !!props.label || slots.label.isExist())\r\n\r\n        const classes = useClass(() => [\r\n            'pl-form-item',\r\n            `pl-form-item-size-${styleComputed.value.size}`,\r\n            `pl-form-item-label-align-${props.labelAlign || form.childState.align.label}`,\r\n            `pl-form-item-content-align-${props.contentAlign || form.childState.align.content}`,\r\n            {\r\n                'pl-form-item-static-width': staticWidth.value,\r\n                'pl-form-item-required': isRequired.value && !form.props.hideRequiredAsterisk,\r\n                'pl-form-item-invalidate': !!invalidate.value && !form.props.hideValidateMessage,\r\n            }\r\n        ])\r\n\r\n        /*form-item的宽度，与下一个form-item的gutter*/\r\n        const styles = useStyles(style => {\r\n            const {col} = form.childState.width\r\n            if (!!col) {\r\n                style.width = unit(col * numberState.column)\r\n            }\r\n            if (form.numberState.column > 1) {\r\n                style.marginRight = unit(form.numberState.columnGutter * numberState.column)\r\n            }\r\n        })\r\n\r\n        /*label节点宽度，如果有设置labelWidth的话*/\r\n        const labelStyles = useStyles(style => {\r\n            if (!!labelWidth.value) {\r\n                style.width = unit(labelWidth.value)\r\n            }\r\n        })\r\n\r\n        /*如果没有label的话，body应该占用百分百宽度，否则宽度为占用列数x列宽 - label宽度*/\r\n        const bodyStyles = useStyles(style => {\r\n            if (!hasLabel.value) {\r\n                style.width = '100%'\r\n            } else {\r\n                const {label, col} = form.childState.width\r\n                if (!!label) {\r\n                    style.width = unit(col! * numberState.column - label)\r\n                }\r\n            }\r\n        })\r\n\r\n        /*---------------------------------------hook-------------------------------------------*/\r\n\r\n        /**\r\n         * 如果没有写死labelWidth，这mounted的时候计算label节点宽度\r\n         * @author  韦胜健\r\n         * @date    2020/12/11 21:32\r\n         */\r\n        if (!staticWidth.value && hasLabel.value) {\r\n            onMounted(() => {\r\n                state.labelWidth = refs.label.scrollWidth\r\n            })\r\n        }\r\n\r\n        /*---------------------------------------validate-------------------------------------------*/\r\n\r\n        const formItemComponentRules = computed((): FormComponentItemRules => ({\r\n            label: props.label,\r\n            field: props.field,\r\n            required: props.required,\r\n            rules: props.rules,\r\n        }))\r\n\r\n        /*当前是否必填校验*/\r\n        const isRequired = computed(() => {\r\n            const {fieldToRequired} = form.childState.formValidate\r\n            const fields = FormValidateUtils.getListValue(props.field)\r\n            if (!fields) {\r\n                return false\r\n            }\r\n            return !!fields.find(f => !!fieldToRequired[f])\r\n        }) as ComputedRef<boolean>\r\n\r\n        /*当前是否校验不通过*/\r\n        const invalidate = computed(() => {\r\n            const {validateResultMap} = form.childState\r\n            const fields = FormValidateUtils.getListValue(props.field)\r\n            if (!fields) {\r\n                return null\r\n            }\r\n            const invalidField = fields.find(f => !!validateResultMap[f])\r\n            return !invalidField ? null : validateResultMap[invalidField]!\r\n        })\r\n\r\n        return {\r\n            refer: {\r\n                state,\r\n                formItemComponentRules,\r\n            },\r\n            render: () => (\r\n                <div class={classes.value} style={styles.value}>\r\n                    {(!!props.label || slots.label.isExist()) && (\r\n                        <div class=\"pl-form-item-label\" style={labelStyles.value} ref=\"label\">\r\n                            {slots.label(props.label)} {!!props.label && !!props.label.trim() && !!colon.value && ':'}\r\n                        </div>\r\n                    )}\r\n                    <div class=\"pl-form-item-body\" style={bodyStyles.value}>\r\n                        {slots.default()}\r\n\r\n                        {!!invalidate.value && !form.props.hideValidateMessage && (<div class=\"pl-form-item-message\">\r\n                            {invalidate.value.message}\r\n                        </div>)}\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","var map = {\n\t\"./el-icon-alarm-clock.json\": [\n\t\t\"cb35\",\n\t\t\"chunk-2d2217f7\"\n\t],\n\t\"./el-icon-arrow-down.json\": [\n\t\t\"6c41\",\n\t\t\"chunk-2d0da720\"\n\t],\n\t\"./el-icon-arrow-left.json\": [\n\t\t\"cfb7\",\n\t\t\"chunk-2d222cae\"\n\t],\n\t\"./el-icon-arrow-right.json\": [\n\t\t\"adb0\",\n\t\t\"chunk-2d213c67\"\n\t],\n\t\"./el-icon-arrow-up.json\": [\n\t\t\"94ea\",\n\t\t\"chunk-2d0e59ed\"\n\t],\n\t\"./el-icon-back.json\": [\n\t\t\"3c66\",\n\t\t\"chunk-2d0c4a46\"\n\t],\n\t\"./el-icon-bell.json\": [\n\t\t\"e25d\",\n\t\t\"chunk-2d224cf2\"\n\t],\n\t\"./el-icon-bottom-left.json\": [\n\t\t\"4a3f\",\n\t\t\"chunk-2d0cb6f6\"\n\t],\n\t\"./el-icon-bottom-right.json\": [\n\t\t\"1917\",\n\t\t\"chunk-2d0ac344\"\n\t],\n\t\"./el-icon-bottom.json\": [\n\t\t\"6976\",\n\t\t\"chunk-2d0d09d8\"\n\t],\n\t\"./el-icon-brush.json\": [\n\t\t\"5133\",\n\t\t\"chunk-2d0c76f2\"\n\t],\n\t\"./el-icon-camera-solid.json\": [\n\t\t\"b8dc\",\n\t\t\"chunk-2d210c0b\"\n\t],\n\t\"./el-icon-camera.json\": [\n\t\t\"6fe1\",\n\t\t\"chunk-2d0db852\"\n\t],\n\t\"./el-icon-caret-bottom.json\": [\n\t\t\"3442\",\n\t\t\"chunk-2d0b9995\"\n\t],\n\t\"./el-icon-caret-left.json\": [\n\t\t\"e67c\",\n\t\t\"chunk-2d225c33\"\n\t],\n\t\"./el-icon-caret-right.json\": [\n\t\t\"54bc\",\n\t\t\"chunk-2d0c8816\"\n\t],\n\t\"./el-icon-caret-top.json\": [\n\t\t\"afd3\",\n\t\t\"chunk-2d21442a\"\n\t],\n\t\"./el-icon-chat-dot-round.json\": [\n\t\t\"76c6\",\n\t\t\"chunk-2d0d7848\"\n\t],\n\t\"./el-icon-chat-dot-square.json\": [\n\t\t\"e8b52\",\n\t\t\"chunk-772aaef6\"\n\t],\n\t\"./el-icon-chat-line-round.json\": [\n\t\t\"f439\",\n\t\t\"chunk-2d22c86a\"\n\t],\n\t\"./el-icon-chat-line-square.json\": [\n\t\t\"ec88\",\n\t\t\"chunk-2d230514\"\n\t],\n\t\"./el-icon-chat-round.json\": [\n\t\t\"be43\",\n\t\t\"chunk-2d21aef8\"\n\t],\n\t\"./el-icon-chat-square.json\": [\n\t\t\"fe43\",\n\t\t\"chunk-2d238074\"\n\t],\n\t\"./el-icon-check-bold.json\": [\n\t\t\"f9a6\",\n\t\t\"chunk-2d22e0be\"\n\t],\n\t\"./el-icon-check.json\": [\n\t\t\"4e52\",\n\t\t\"chunk-2d0cc604\"\n\t],\n\t\"./el-icon-circle-check.json\": [\n\t\t\"3c3b\",\n\t\t\"chunk-2d0c4a15\"\n\t],\n\t\"./el-icon-circle-close.json\": [\n\t\t\"3728\",\n\t\t\"chunk-2d0ba4a0\"\n\t],\n\t\"./el-icon-circle-plus-outline.json\": [\n\t\t\"5b87\",\n\t\t\"chunk-2d0d2f82\"\n\t],\n\t\"./el-icon-circle-plus.json\": [\n\t\t\"2bcd\",\n\t\t\"chunk-2d0bd7c7\"\n\t],\n\t\"./el-icon-close-bold.json\": [\n\t\t\"8b35\",\n\t\t\"chunk-2d0e8c02\"\n\t],\n\t\"./el-icon-close-notification.json\": [\n\t\t\"84d2\",\n\t\t\"chunk-2d0de540\"\n\t],\n\t\"./el-icon-close.json\": [\n\t\t\"b7c2\",\n\t\t\"chunk-2d2107fa\"\n\t],\n\t\"./el-icon-cloudy.json\": [\n\t\t\"4230\",\n\t\t\"chunk-2d0c0651\"\n\t],\n\t\"./el-icon-code.json\": [\n\t\t\"711f\",\n\t\t\"chunk-2d0d5fa5\"\n\t],\n\t\"./el-icon-coffee-cup.json\": [\n\t\t\"831a\",\n\t\t\"chunk-2d0ddb81\"\n\t],\n\t\"./el-icon-collection-tag.json\": [\n\t\t\"0ff2\",\n\t\t\"chunk-2d0afe38\"\n\t],\n\t\"./el-icon-connection.json\": [\n\t\t\"6a3d\",\n\t\t\"chunk-2d0d9fb2\"\n\t],\n\t\"./el-icon-crop.json\": [\n\t\t\"94f4\",\n\t\t\"chunk-2d0e59df\"\n\t],\n\t\"./el-icon-d-arrow-left.json\": [\n\t\t\"3194\",\n\t\t\"chunk-2d0b8eef\"\n\t],\n\t\"./el-icon-d-arrow-right.json\": [\n\t\t\"56ef3\",\n\t\t\"chunk-74856f3b\"\n\t],\n\t\"./el-icon-date.json\": [\n\t\t\"ca53\",\n\t\t\"chunk-2d221472\"\n\t],\n\t\"./el-icon-debug-s.json\": [\n\t\t\"241e\",\n\t\t\"chunk-2d0b250c\"\n\t],\n\t\"./el-icon-debug.json\": [\n\t\t\"5696\",\n\t\t\"chunk-2d0c8a74\"\n\t],\n\t\"./el-icon-delete-location.json\": [\n\t\t\"e918\",\n\t\t\"chunk-2d226691\"\n\t],\n\t\"./el-icon-delete-solid.json\": [\n\t\t\"ed66\",\n\t\t\"chunk-2d230895\"\n\t],\n\t\"./el-icon-delete.json\": [\n\t\t\"4add\",\n\t\t\"chunk-2d0cbce3\"\n\t],\n\t\"./el-icon-document-add.json\": [\n\t\t\"b7c1\",\n\t\t\"chunk-2d2107f9\"\n\t],\n\t\"./el-icon-document-checked.json\": [\n\t\t\"af1c\",\n\t\t\"chunk-2d213e2d\"\n\t],\n\t\"./el-icon-document-copy.json\": [\n\t\t\"764e\",\n\t\t\"chunk-2d0d72c6\"\n\t],\n\t\"./el-icon-document-delete.json\": [\n\t\t\"a8d2\",\n\t\t\"chunk-2d20977b\"\n\t],\n\t\"./el-icon-document-remove.json\": [\n\t\t\"dd28\",\n\t\t\"chunk-2d2293bc\"\n\t],\n\t\"./el-icon-document.json\": [\n\t\t\"2b65\",\n\t\t\"chunk-2d0bd225\"\n\t],\n\t\"./el-icon-download.json\": [\n\t\t\"9065\",\n\t\t\"chunk-2d0e450c\"\n\t],\n\t\"./el-icon-edit-outline.json\": [\n\t\t\"f8e0\",\n\t\t\"chunk-2d22dd73\"\n\t],\n\t\"./el-icon-edit.json\": [\n\t\t\"0caa\",\n\t\t\"chunk-2d0af289\"\n\t],\n\t\"./el-icon-error.json\": [\n\t\t\"16c6\",\n\t\t\"chunk-2d0abe0e\"\n\t],\n\t\"./el-icon-female.json\": [\n\t\t\"9937\",\n\t\t\"chunk-2d0e667a\"\n\t],\n\t\"./el-icon-first-aid-kit.json\": [\n\t\t\"9a63\",\n\t\t\"chunk-2d0efcfb\"\n\t],\n\t\"./el-icon-folder-add.json\": [\n\t\t\"e0c3\",\n\t\t\"chunk-2d224ad1\"\n\t],\n\t\"./el-icon-folder-checked.json\": [\n\t\t\"6eb2\",\n\t\t\"chunk-2d0db435\"\n\t],\n\t\"./el-icon-folder-delete.json\": [\n\t\t\"5ca1\",\n\t\t\"chunk-2d0d3834\"\n\t],\n\t\"./el-icon-folder-opened.json\": [\n\t\t\"08b5\",\n\t\t\"chunk-2d0a5111\"\n\t],\n\t\"./el-icon-folder-remove.json\": [\n\t\t\"dcfa\",\n\t\t\"chunk-2d229670\"\n\t],\n\t\"./el-icon-folder-s.json\": [\n\t\t\"59d9\",\n\t\t\"chunk-2d0c9aef\"\n\t],\n\t\"./el-icon-folder.json\": [\n\t\t\"f98f\",\n\t\t\"chunk-2d22dbf7\"\n\t],\n\t\"./el-icon-full-screen.json\": [\n\t\t\"5d5a\",\n\t\t\"chunk-2d0d36d1\"\n\t],\n\t\"./el-icon-info.json\": [\n\t\t\"36b6\",\n\t\t\"chunk-2d0ba6ad\"\n\t],\n\t\"./el-icon-jiahao.json\": [\n\t\t\"da7d\",\n\t\t\"chunk-2d228940\"\n\t],\n\t\"./el-icon-link.json\": [\n\t\t\"90ff\",\n\t\t\"chunk-2d0e4b0d\"\n\t],\n\t\"./el-icon-list.json\": [\n\t\t\"66d9\",\n\t\t\"chunk-2d0d040b\"\n\t],\n\t\"./el-icon-location-information.json\": [\n\t\t\"e752\",\n\t\t\"chunk-2d225f85\"\n\t],\n\t\"./el-icon-location-outline.json\": [\n\t\t\"e518\",\n\t\t\"chunk-2d22578d\"\n\t],\n\t\"./el-icon-location.json\": [\n\t\t\"c034\",\n\t\t\"chunk-2d215c44\"\n\t],\n\t\"./el-icon-lock.json\": [\n\t\t\"4e03\",\n\t\t\"chunk-2d0cc56a\"\n\t],\n\t\"./el-icon-male.json\": [\n\t\t\"469c\",\n\t\t\"chunk-2d0c1642\"\n\t],\n\t\"./el-icon-menu.json\": [\n\t\t\"0a5a\",\n\t\t\"chunk-2d0ae5b3\"\n\t],\n\t\"./el-icon-message-solid.json\": [\n\t\t\"b1c9\",\n\t\t\"chunk-2d20f17b\"\n\t],\n\t\"./el-icon-message.json\": [\n\t\t\"d4ee\",\n\t\t\"chunk-2d21e5e6\"\n\t],\n\t\"./el-icon-microphone.json\": [\n\t\t\"1722\",\n\t\t\"chunk-2d0abbdc\"\n\t],\n\t\"./el-icon-minus.json\": [\n\t\t\"a53c\",\n\t\t\"chunk-2d20867a\"\n\t],\n\t\"./el-icon-more.json\": [\n\t\t\"af8e\",\n\t\t\"chunk-2d213f08\"\n\t],\n\t\"./el-icon-nodata.json\": [\n\t\t\"1e28\",\n\t\t\"chunk-2d0b6890\"\n\t],\n\t\"./el-icon-paperclip.json\": [\n\t\t\"011a\",\n\t\t\"chunk-2d0a3107\"\n\t],\n\t\"./el-icon-picture-outline.json\": [\n\t\t\"9618\",\n\t\t\"chunk-2d0e5afa\"\n\t],\n\t\"./el-icon-picture.json\": [\n\t\t\"dbd7\",\n\t\t\"chunk-2d229247\"\n\t],\n\t\"./el-icon-place.json\": [\n\t\t\"f20d\",\n\t\t\"chunk-2d22c0b6\"\n\t],\n\t\"./el-icon-plus.json\": [\n\t\t\"26b6\",\n\t\t\"chunk-2d0b324e\"\n\t],\n\t\"./el-icon-position.json\": [\n\t\t\"0bbe\",\n\t\t\"chunk-2d0aeeeb\"\n\t],\n\t\"./el-icon-question.json\": [\n\t\t\"84cd\",\n\t\t\"chunk-2d0de553\"\n\t],\n\t\"./el-icon-rank.json\": [\n\t\t\"8661\",\n\t\t\"chunk-2d0de72f\"\n\t],\n\t\"./el-icon-refresh-right.json\": [\n\t\t\"ed12\",\n\t\t\"chunk-2d2307f6\"\n\t],\n\t\"./el-icon-refresh.json\": [\n\t\t\"33ab\",\n\t\t\"chunk-2d0b9b77\"\n\t],\n\t\"./el-icon-remove-outline.json\": [\n\t\t\"c6b69\",\n\t\t\"chunk-770d975c\"\n\t],\n\t\"./el-icon-remove.json\": [\n\t\t\"0103\",\n\t\t\"chunk-2d0a30ba\"\n\t],\n\t\"./el-icon-right.json\": [\n\t\t\"6be0\",\n\t\t\"chunk-2d0da94d\"\n\t],\n\t\"./el-icon-s-comment.json\": [\n\t\t\"849a\",\n\t\t\"chunk-2d0de03a\"\n\t],\n\t\"./el-icon-s-custom.json\": [\n\t\t\"4001\",\n\t\t\"chunk-2d0bfe73\"\n\t],\n\t\"./el-icon-s-fold.json\": [\n\t\t\"01f3\",\n\t\t\"chunk-2d0a3744\"\n\t],\n\t\"./el-icon-s-grid.json\": [\n\t\t\"8efd\",\n\t\t\"chunk-2d0e9da1\"\n\t],\n\t\"./el-icon-s-opportunity.json\": [\n\t\t\"acd7\",\n\t\t\"chunk-2d2138eb\"\n\t],\n\t\"./el-icon-s-order.json\": [\n\t\t\"b5e1\",\n\t\t\"chunk-2d2100b5\"\n\t],\n\t\"./el-icon-s-promotion.json\": [\n\t\t\"8e1e\",\n\t\t\"chunk-2d0e9737\"\n\t],\n\t\"./el-icon-s-shop.json\": [\n\t\t\"a48f\",\n\t\t\"chunk-2d208357\"\n\t],\n\t\"./el-icon-s-ticket.json\": [\n\t\t\"471a\",\n\t\t\"chunk-2d0c1909\"\n\t],\n\t\"./el-icon-s-tools.json\": [\n\t\t\"49e0\",\n\t\t\"chunk-2d0c26a6\"\n\t],\n\t\"./el-icon-s-unfold.json\": [\n\t\t\"2d66\",\n\t\t\"chunk-2d0bd9a8\"\n\t],\n\t\"./el-icon-search.json\": [\n\t\t\"37aa\",\n\t\t\"chunk-2d0baa7a\"\n\t],\n\t\"./el-icon-setting.json\": [\n\t\t\"70db\",\n\t\t\"chunk-2d0d620d\"\n\t],\n\t\"./el-icon-share.json\": [\n\t\t\"75e3\",\n\t\t\"chunk-2d0d74c2\"\n\t],\n\t\"./el-icon-sort.json\": [\n\t\t\"e450\",\n\t\t\"chunk-2d225440\"\n\t],\n\t\"./el-icon-star-off.json\": [\n\t\t\"c7d3\",\n\t\t\"chunk-2d217c79\"\n\t],\n\t\"./el-icon-star-on.json\": [\n\t\t\"ce5c\",\n\t\t\"chunk-2d2223a6\"\n\t],\n\t\"./el-icon-success.json\": [\n\t\t\"b819\",\n\t\t\"chunk-2d2105b4\"\n\t],\n\t\"./el-icon-switch-button.json\": [\n\t\t\"e677\",\n\t\t\"chunk-2d225c07\"\n\t],\n\t\"./el-icon-thumb.json\": [\n\t\t\"681e\",\n\t\t\"chunk-2d0d058c\"\n\t],\n\t\"./el-icon-time.json\": [\n\t\t\"d831\",\n\t\t\"chunk-2d21eea8\"\n\t],\n\t\"./el-icon-tools.json\": [\n\t\t\"3f79\",\n\t\t\"chunk-2d0c55ab\"\n\t],\n\t\"./el-icon-top-left.json\": [\n\t\t\"d8d8\",\n\t\t\"chunk-2d21f49e\"\n\t],\n\t\"./el-icon-top-right.json\": [\n\t\t\"ddd4\",\n\t\t\"chunk-2d2299c6\"\n\t],\n\t\"./el-icon-top.json\": [\n\t\t\"aca8\",\n\t\t\"chunk-2d21388f\"\n\t],\n\t\"./el-icon-turn-off-microphone.json\": [\n\t\t\"0bd6\",\n\t\t\"chunk-2d0aeefa\"\n\t],\n\t\"./el-icon-unlock.json\": [\n\t\t\"f7ea\",\n\t\t\"chunk-2d22d9e3\"\n\t],\n\t\"./el-icon-upload.json\": [\n\t\t\"0bce\",\n\t\t\"chunk-2d0aef0a\"\n\t],\n\t\"./el-icon-upload1.json\": [\n\t\t\"d889\",\n\t\t\"chunk-2d21ef4b\"\n\t],\n\t\"./el-icon-video-pause.json\": [\n\t\t\"c6a5\",\n\t\t\"chunk-2d21785d\"\n\t],\n\t\"./el-icon-video-play.json\": [\n\t\t\"4016\",\n\t\t\"chunk-2d0bfe97\"\n\t],\n\t\"./el-icon-view-not-s.json\": [\n\t\t\"f49d\",\n\t\t\"chunk-2d22c94f\"\n\t],\n\t\"./el-icon-view.json\": [\n\t\t\"c3a4\",\n\t\t\"chunk-2d216d19\"\n\t],\n\t\"./el-icon-warning-outline.json\": [\n\t\t\"93f8\",\n\t\t\"chunk-2d0e5622\"\n\t],\n\t\"./el-icon-warning.json\": [\n\t\t\"80f1\",\n\t\t\"chunk-2d0dd679\"\n\t],\n\t\"./el-icon-zoom-full.json\": [\n\t\t\"450c\",\n\t\t\"chunk-2d0c116a\"\n\t],\n\t\"./el-icon-zoom-in.json\": [\n\t\t\"2731\",\n\t\t\"chunk-2d0b3059\"\n\t],\n\t\"./el-icon-zoom-out.json\": [\n\t\t\"1141\",\n\t\t\"chunk-2d0aa593\"\n\t],\n\t\"./el-icon-zoom-scale.json\": [\n\t\t\"616d\",\n\t\t\"chunk-2d0cebdf\"\n\t],\n\t\"./index.json\": [\n\t\t\"9aae\",\n\t\t\"chunk-2d0f0262\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__.t(id, 3);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"e51c\";\nmodule.exports = webpackAsyncContext;","import {Directive} from 'vue'\r\nimport './click-wave.scss'\r\n\r\nconst map = new WeakMap()\r\n\r\nclass ClickWaveData {\r\n\r\n    option: any\r\n    on: () => void\r\n    wavingTimer: number | null = null\r\n    el: HTMLElement\r\n    updateOption: (option: any) => void\r\n\r\n    constructor(el: HTMLElement, option: any) {\r\n        this.option = {}\r\n        this.on = () => {\r\n            // console.log(this.option,this.option.disabled === true)\r\n            if (this.option.disabled === true) return;\r\n            if (!!this.wavingTimer) return\r\n\r\n            this.el.setAttribute('plain-click-node-waving', 'active')\r\n            this.wavingTimer = setTimeout(() => {\r\n                this.el.removeAttribute('plain-click-node-waving')\r\n                this.wavingTimer = null\r\n            }, 500) as any as number\r\n        }\r\n        this.updateOption = (option) => {\r\n            option = option || {}\r\n            if (typeof option === \"string\") {\r\n                option = {\r\n                    size: option\r\n                }\r\n            }\r\n            option.size = option.size || 'normal'\r\n            this.option = option\r\n        }\r\n        this.updateOption(option)\r\n        this.el = el\r\n        this.el.setAttribute(`plain-click-node-${this.option.size}`, 'active')\r\n\r\n        el.addEventListener('click', this.on, true)\r\n    }\r\n\r\n    unbind() {\r\n        this.el.removeEventListener('click', this.on, true)\r\n    }\r\n}\r\n\r\nexport const ClickWave: Directive = {\r\n    mounted(el, binding) {\r\n        map.set(el, new ClickWaveData(el, binding.value))\r\n    },\r\n    updated(el, binding) {\r\n        const data = map.get(el)\r\n        if (!!data) {\r\n            data.updateOption(binding.value)\r\n        }\r\n    },\r\n    beforeUnmount(el) {\r\n        const data = map.get(el)\r\n        if (!!data) {\r\n            data.unbind()\r\n        }\r\n    },\r\n}","import {VNodeChild} from \"../shims\";\r\nimport {getCurrentInstance, onBeforeUpdate, reactive} from 'vue';\r\nimport {getSlotExist} from \"../utils/getSlotExists\";\r\n\r\ntype ScopedSlotsOptionType = { [SlotName: string]: { [ScopeKey: string]: any } }\r\n\r\ntype ExtractScopedSlotsDataValue<ScopeValue> = ScopeValue extends new (...args: any[]) => infer R ? R : ScopeValue;\r\n\r\ntype ExtractScopedSlotsData<Scope extends { [ScopeKey: string]: any }> = {\r\n    [k in keyof Scope]: ExtractScopedSlotsDataValue<Scope[k]>\r\n}\r\n\r\ninterface UseScopedSlots {\r\n    <T extends ScopedSlotsOptionType>(options: T): {\r\n        scopedSlots: {\r\n            [k in keyof T]: ((scope: ExtractScopedSlotsData<T[k]>, vnode: VNodeChild) => void)\r\n        }\r\n    }\r\n\r\n    <T extends ScopedSlotsOptionType>(options: T, makeReactive?: boolean): {\r\n        scopedSlots: {\r\n            [k in keyof T]: ((scope: ExtractScopedSlotsData<T[k]>, vnode: VNodeChild) => void) & { isExist: () => boolean }\r\n        }\r\n    }\r\n}\r\n\r\nexport const useScopedSlots: UseScopedSlots = <T extends ScopedSlotsOptionType>(options: T, makeReactive?: boolean) => {\r\n\r\n    const ctx = getCurrentInstance()!\r\n    const slotNames = Object.keys(options)\r\n\r\n    const state = reactive({exist: getSlotExist(null, slotNames, ctx)})\r\n    /*如果需要响应式，则需要设置 makeReactive，会自动在updated之后更新slots的isExist值*/\r\n    if (makeReactive) {\r\n        onBeforeUpdate(() => {\r\n            getSlotExist(state.exist, slotNames, ctx)\r\n        })\r\n    }\r\n\r\n    const scopedSlots = slotNames.reduce((prev: any, slotName: string) => {\r\n        prev[slotName] = Object.assign((scope: any, vnode: VNodeChild) => {\r\n            const slot = ctx.slots[slotName]\r\n            return !!slot ? slot(scope) : vnode\r\n        }, {\r\n            isExist() {\r\n                return state.exist[slotName]\r\n            },\r\n        })\r\n        return prev\r\n    }, {} as any)\r\n\r\n    return {\r\n        scopedSlots,\r\n    }\r\n}\r\n","import {computed} from 'vue'\r\n\r\nexport type SingleClass = null | undefined | string | { [k: string]: boolean | null | undefined }\r\nexport type MultipleClass = SingleClass | SingleClass[]\r\n\r\nexport function useClass<T extends () => MultipleClass>(fn: T) {\r\n    return computed(fn)\r\n}","import {App} from 'vue'\r\n\r\nexport enum KEY {\r\n    'shift' = 'shift',\r\n    'ctrl' = 'ctrl',\r\n    'alt' = 'alt',\r\n    'backspace' = 'backspace',\r\n    'tab' = 'tab',\r\n    'enter' = 'enter',\r\n    'esc' = 'esc',\r\n    'space' = 'space',\r\n    'del' = 'del',\r\n    'left' = 'left',\r\n    'up' = 'up',\r\n    'right' = 'right',\r\n    'down' = 'down',\r\n    'minus' = 'minus',\r\n    'equal' = 'equal',\r\n    'num_0' = 'num_0',\r\n    'num_1' = 'num_1',\r\n    'num_2' = 'num_2',\r\n    'num_3' = 'num_3',\r\n    'num_4' = 'num_4',\r\n    'num_5' = 'num_5',\r\n    'num_6' = 'num_6',\r\n    'num_7' = 'num_7',\r\n    'num_8' = 'num_8',\r\n    'num_9' = 'num_9',\r\n    'a' = 'a',\r\n    'b' = 'b',\r\n    'c' = 'c',\r\n    'd' = 'd',\r\n    'e' = 'e',\r\n    'f' = 'f',\r\n    'g' = 'g',\r\n    'h' = 'h',\r\n    'i' = 'i',\r\n    'j' = 'j',\r\n    'k' = 'k',\r\n    'l' = 'l',\r\n    'm' = 'm',\r\n    'n' = 'n',\r\n    'o' = 'o',\r\n    'p' = 'p',\r\n    'q' = 'q',\r\n    'r' = 'r',\r\n    's' = 's',\r\n    't' = 't',\r\n    'u' = 'u',\r\n    'v' = 'v',\r\n    'w' = 'w',\r\n    'x' = 'x',\r\n    'y' = 'y',\r\n    'z' = 'z',\r\n    'F1' = 'F1',\r\n    'F2' = 'F2',\r\n    'F3' = 'F3',\r\n    'F4' = 'F4',\r\n    'F5' = 'F5',\r\n    'F6' = 'F6',\r\n    'F7' = 'F7',\r\n    'F8' = 'F8',\r\n    'F9' = 'F9',\r\n    'F10' = 'F10',\r\n    'F11' = 'F11',\r\n    'F12' = 'F12',\r\n}\r\n\r\nexport const KeyBoardMap = {\r\n    16: 'shift',\r\n    17: 'ctrl',\r\n    18: 'alt',\r\n\r\n    8: 'backspace',\r\n    9: 'tab',\r\n    13: 'enter',\r\n    27: 'esc',\r\n    32: 'space',\r\n    46: 'del',\r\n\r\n    37: 'left',\r\n    38: 'up',\r\n    39: 'right',\r\n    40: 'down',\r\n\r\n    189: 'minus',\r\n    187: 'equal',\r\n\r\n    48: 'num_0',\r\n    49: 'num_1',\r\n    50: 'num_2',\r\n    51: 'num_3',\r\n    52: 'num_4',\r\n    53: 'num_5',\r\n    54: 'num_6',\r\n    55: 'num_7',\r\n    56: 'num_8',\r\n    57: 'num_9',\r\n\r\n    65: 'a',\r\n    66: 'b',\r\n    67: 'c',\r\n    68: 'd',\r\n    69: 'e',\r\n    70: 'f',\r\n    71: 'g',\r\n    72: 'h',\r\n    73: 'i',\r\n    74: 'j',\r\n    75: 'k',\r\n\r\n    76: 'l',\r\n    77: 'm',\r\n    78: 'n',\r\n    79: 'o',\r\n    80: 'p',\r\n    81: 'q',\r\n    82: 'r',\r\n    83: 's',\r\n    84: 't',\r\n    85: 'u',\r\n    86: 'v',\r\n    87: 'w',\r\n    88: 'x',\r\n    89: 'y',\r\n    90: 'z',\r\n\r\n    112: 'F1',\r\n    113: 'F2',\r\n    114: 'F3',\r\n    115: 'F4',\r\n    116: 'F5',\r\n    117: 'F6',\r\n    118: 'F7',\r\n    119: 'F8',\r\n    120: 'F9',\r\n    121: 'F10',\r\n    122: 'F11',\r\n    123: 'F12',\r\n}\r\n\r\nexport function getKey(e: KeyboardEvent): KEY | null {\r\n    // @ts-ignore\r\n    let key = KeyBoardMap[e.keyCode] as KEY\r\n    if (!!KEY[key]) {\r\n        return KEY[key]\r\n    } else {\r\n        /*if (e.keyCode !== 229) {\r\n            console.warn(`Can't recognise key`, e)\r\n        }*/\r\n        return null\r\n    }\r\n}\r\n\r\nexport class KeyboardServiceOption {\r\n    [key: string]: (e?: KeyboardEvent) => (void | undefined | boolean)\r\n}\r\n\r\nexport const KeyboardService = {\r\n    options: [] as KeyboardServiceOption[],\r\n    /*订阅点击事件*/\r\n    listen(option: KeyboardServiceOption) {\r\n        if (!option) return\r\n        this.options.push(option)\r\n    },\r\n    /*取消订阅事件*/\r\n    unbindListener(option: KeyboardServiceOption) {\r\n        let index = this.options.indexOf(option)\r\n        if (index > -1) {\r\n            this.options.splice(index, 1)\r\n        }\r\n    },\r\n    /*取消当前激活的元素*/\r\n    cancelActiveElement() {\r\n        const activeElement = document.activeElement as HTMLElement\r\n        if (!!activeElement) activeElement.blur()\r\n        return activeElement\r\n    },\r\n    /*处理window的点击事件*/\r\n    _onkeydown(e: KeyboardEvent) {\r\n        if (e.currentTarget !== e.target) return\r\n        const names = [] as string[];\r\n        e.ctrlKey && names.push('ctrl')\r\n        e.shiftKey && names.push('shift')\r\n        e.altKey && names.push('alt')\r\n        // @ts-ignore\r\n        names.push(KeyBoardMap[e.keyCode])\r\n        const compositionKeyName = names.join('+')\r\n\r\n        const option = this.options[this.options.length - 1]\r\n        if (!!option && !!option[compositionKeyName]) {\r\n            const flag = option[compositionKeyName](e)\r\n            /*默认阻止事件冒泡*/\r\n            if (flag !== false) {\r\n                e.stopPropagation()\r\n                e.preventDefault()\r\n            }\r\n        }\r\n    },\r\n}\r\n\r\nexport function handleKeyboard(option: { [key in KEY]?: (e: KeyboardEvent) => any }) {\r\n    return (e: KeyboardEvent) => {\r\n        const key = getKey(e)\r\n        if (!!key && !!option[key]) {\r\n            return option[key]!(e)\r\n        }\r\n    }\r\n}\r\n\r\ndocument.body.addEventListener('keydown', e => KeyboardService._onkeydown(e))\r\n\r\nexport default {\r\n    install(app: App) {\r\n        app.config.globalProperties.$keyboard = KeyboardService\r\n    },\r\n}","import Button from '../button'\r\nimport ButtonGroup from '../button-group/button-group'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(ButtonGroup, {plugins: [Button]})","import {computed, onMounted, reactive, watch} from 'vue';\r\nimport './input.scss'\r\nimport {designComponent} from \"../../use/designComponent\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {EditProps, useEdit} from \"../../use/useEdit\";\r\nimport {StyleProps, useStyle} from \"../../use/useStyle\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport {useProps} from \"../../use/useProps\";\r\nimport {useClass} from \"../../use/useClasses\";\r\nimport {StyleProperties} from \"../../shims\";\r\nimport {unit} from 'plain-utils/string/unit';\r\nimport {getKey, KEY} from \"../keyboard\";\r\nimport {throttle} from 'plain-utils/utils/throttle';\r\n\r\nconsole.log('load input component')\r\n\r\nexport default designComponent({\r\n    name: 'pl-input',\r\n    props: {\r\n        ...EditProps,\r\n        ...StyleProps,\r\n\r\n        modelValue: {type: [String, Number]},\r\n        placeValue: {type: [String, Number]},\r\n\r\n        width: {type: [Number, String, Object, Function], default: null,},        // 输入框默认宽度\r\n        minHeight: {type: [Number, String], default: 100},      // 文本域最小高度\r\n        maxHeight: {type: [Number, String], default: 156},      // 文本域最大高度\r\n        block: {type: Boolean},                                 // 块级元素\r\n        textarea: {type: Boolean},                              // 当前是否为文本域输入框\r\n        suffixIcon: {type: [String, Function]},                 // 右侧图标\r\n        prefixIcon: {type: String},                             // 左侧图标\r\n        clearIcon: {type: Boolean},                             // 清除图标\r\n        clearHandler: Function,                         // 点击清除图标处理逻辑\r\n\r\n        autoHeight: {type: Boolean},                            // 自适应高度\r\n        isFocus: {type: Boolean},                               // 当前是否处于激活状态\r\n        inputReadonly: {type: Boolean},                         // 输入框只读\r\n        throttleEnter: {type: [Boolean, Number]},               // enter按键事件节流\r\n        autoLoading: {type: Boolean},                           // enter自动处理异步任务，开启/关闭loading状态\r\n        asyncHandler: {type: Function},                         // 异步处理函数\r\n\r\n        /*---------------------------------------原生属性-------------------------------------------*/\r\n        inputInnerTabindex: {type: Number, default: 0},\r\n        type: {type: String, default: 'text'},\r\n        placeholder: {type: String},\r\n        nativeAttrs: {type: Object, default: () => ({})},\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: any) => true,\r\n        onFocus: (e: FocusEvent) => true,\r\n        onBlur: (e: Event) => true,\r\n        onKeydown: (e: KeyboardEvent) => true,\r\n        onEnter: (e: KeyboardEvent) => true,\r\n        onEsc: (e: KeyboardEvent) => true,\r\n\r\n        onClickInput: (e: MouseEvent) => true,\r\n        onClickPrefixIcon: (e: MouseEvent) => true,\r\n        onClickSuffixIcon: (e: MouseEvent) => true,\r\n        onClickClearIcon: (e: MouseEvent) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const {slots} = useSlots([\r\n            'prepend', 'append', 'hidden'\r\n        ], true)\r\n        const {refs} = useRefs({\r\n            input: HTMLInputElement,\r\n            hiddenInput: HTMLTextAreaElement,\r\n        })\r\n        const {propsState} = useProps(props, {\r\n            width: [useProps.NUMBER, useProps.PROMISE, useProps.FUNCTION],\r\n            minHeight: useProps.NUMBER,\r\n            maxHeight: useProps.NUMBER,\r\n        })\r\n        const {styleComputed} = useStyle({status: undefined})\r\n        const {editComputed, editState} = useEdit()\r\n        const state = reactive({\r\n            autoHeight: null as null | number,\r\n            handlerEnter: null as null | Function,\r\n            handleEnterInner: async (e: KeyboardEvent) => {\r\n                if (editComputed.value.editable) {\r\n                    if (props.autoLoading) {\r\n                        if (!props.asyncHandler) {\r\n                            return console.error(`pl-input: props.asyncHandler is necessary when autoLoading is true!`)\r\n                        }\r\n                        editState.loading = true\r\n                        try {\r\n                            await props.asyncHandler()\r\n                        } catch (e) {\r\n                            console.error(e)\r\n                        } finally {\r\n                            editState.loading = null\r\n                        }\r\n                    } else {\r\n                        emit.onEnter(e)\r\n                    }\r\n                }\r\n            },\r\n        })\r\n        const model = useModel(() => props.modelValue, emit.onUpdateModelValue)\r\n\r\n        /*---------------------------------------handler-------------------------------------------*/\r\n\r\n        const handler = {\r\n            input: (e: Event) => {\r\n                model.value = (e.target as HTMLInputElement).value\r\n            },\r\n            enter: (e: KeyboardEvent) => {\r\n                state.handlerEnter!(e)\r\n            },\r\n            clickPrefixIcon: (e: MouseEvent) => {\r\n                if (!editComputed.value.editable) {\r\n                    return\r\n                }\r\n                e.stopPropagation()\r\n                e.preventDefault()\r\n                emit.onClickPrefixIcon(e)\r\n            },\r\n            clickSuffixIcon: (e: MouseEvent) => {\r\n                if (!editComputed.value.editable) {\r\n                    return\r\n                }\r\n                e.stopPropagation()\r\n                e.preventDefault()\r\n                emit.onClickSuffixIcon(e)\r\n            },\r\n            clickClearIcon: (e: MouseEvent) => {\r\n                if (!editComputed.value.editable) {\r\n                    return\r\n                }\r\n                e.stopPropagation()\r\n                e.preventDefault()\r\n                emit.onClickClearIcon(e)\r\n                if (!!props.clearHandler) {\r\n                    props.clearHandler(e)\r\n                } else {\r\n                    methods.clearValue()\r\n                }\r\n            }\r\n        }\r\n\r\n        /*---------------------------------------computed-------------------------------------------*/\r\n\r\n        const classes = useClass(() => [\r\n            `pl-input-shape-${styleComputed.value.shape}`,\r\n            `pl-input-size-${styleComputed.value.size}`,\r\n            {\r\n                [`pl-input-status-${styleComputed.value.status}`]: !!styleComputed.value.status,\r\n                'pl-input-block': props.block,\r\n                'pl-input-disabled': !!editComputed.value.disabled,\r\n                'pl-input-prefix-padding': !!props.prefixIcon,\r\n                'pl-input-suffix-padding': !!props.suffixIcon || !!props.clearIcon || editComputed.value.loading,\r\n                'pl-input-prefix': !!props.prefixIcon,\r\n                'pl-input-suffix': !!props.suffixIcon || editComputed.value.loading,\r\n                'pl-input-clear': !!props.clearIcon,\r\n                'pl-input-empty': !model.value && !props.placeValue,\r\n                'pl-input-focus': props.isFocus,\r\n                'pl-input-not-editable': !editComputed.value.editable,\r\n            }\r\n        ])\r\n\r\n        const styles = computed(() => {\r\n            const styles: StyleProperties = {}\r\n            /*没有前置以及后置插槽以及非块级元素的情况下，设置宽度*/\r\n            if (propsState.width !== null && !props.block) {\r\n                styles.width = unit(propsState.width)\r\n            }\r\n            /*textarea自动高度的时候，取最大高度最小高度以及滚动高度*/\r\n            if (!!props.textarea) {\r\n                if (!props.autoHeight || state.autoHeight == null) {\r\n                    styles.height = unit(state.autoHeight)\r\n                } else {\r\n                    if (propsState.maxHeight != null && state.autoHeight > propsState.maxHeight) {\r\n                        styles.height = unit(propsState.maxHeight)\r\n                    } else if (state.autoHeight < propsState.minHeight) {\r\n                        styles.height = unit(propsState.minHeight)\r\n                    } else {\r\n                        styles.height = unit(state.autoHeight)\r\n                    }\r\n                }\r\n            }\r\n            return styles\r\n        })\r\n\r\n        const publicProps = computed(() => ({\r\n            style: styles.value,\r\n            disabled: editComputed.value.disabled,\r\n            readonly: props.inputReadonly || editComputed.value.readonly || editComputed.value.loading,\r\n            value: model.value,\r\n            placeholder: props.placeholder,\r\n            ...(props.nativeAttrs || {}),\r\n\r\n            // 发现一个非常奇怪的现象，div.pl-input-inner 里面的input、派发的input事件，居然也能够在 div.pl-input-inner这个div节点上监听到。神奇\r\n            ...(!slots.default.isExist() ? {\r\n                onInput: (e: Event) => {\r\n                    /*ie 下不知道为什么页面初始化的之后这里默认就执行了一次，这里判断绕过这个问题*/\r\n                    if (e.target === document.activeElement) {\r\n                        handler.input(e)\r\n                    }\r\n                },\r\n            } : {}),\r\n\r\n            onClick: emit.onClickInput,\r\n            onFocus: emit.onFocus,\r\n            onBlur: emit.onBlur,\r\n            onKeydown: (e: KeyboardEvent) => {\r\n                emit.onKeydown(e)\r\n                switch (getKey(e)) {\r\n                    case KEY.enter:\r\n                        return handler.enter(e)\r\n                    case KEY.esc:\r\n                        return emit.onEsc(e)\r\n                }\r\n            },\r\n            ref: \"input\",\r\n        } as any))\r\n\r\n        /*---------------------------------------methods-------------------------------------------*/\r\n\r\n        const methods = {\r\n            clearValue: () => {\r\n                model.value = undefined\r\n            },\r\n            focus: () => {\r\n                if (!!refs.input && !!refs.input.focus) {\r\n                    refs.input.focus()\r\n                }\r\n            },\r\n            blur: () => {\r\n                if (!!refs.input && !!refs.input.blur) {\r\n                    refs.input.blur()\r\n                }\r\n            },\r\n            /*重置文本域高度*/\r\n            resetTextAreaHeight: throttle(() => {\r\n                if (!!props.autoHeight && !!props.textarea) {\r\n                    setTimeout(() => state.autoHeight = refs.hiddenInput!.scrollHeight + 12, 0)\r\n                }\r\n            }, 300),\r\n        }\r\n\r\n        /*---------------------------------------watcher-------------------------------------------*/\r\n\r\n        watch(() => model.value, () => {\r\n            methods.resetTextAreaHeight()\r\n        })\r\n        watch(() => props.throttleEnter, (val) => {\r\n            if (!val) {\r\n                state.handlerEnter = state.handleEnterInner\r\n            }\r\n            if (val === true) {\r\n                val = 1000\r\n            }\r\n            state.handlerEnter = throttle(state.handleEnterInner, val as number, {trailing: true})\r\n        }, {immediate: true})\r\n\r\n        onMounted(() => {\r\n            if (props.textarea) {\r\n                methods.resetTextAreaHeight()\r\n            }\r\n        })\r\n\r\n        return {\r\n            refer: {\r\n                refs,\r\n                state,\r\n                propsState,\r\n                methods,\r\n                model,\r\n            },\r\n            render: () => {\r\n\r\n                if (props.textarea) {\r\n                    /*渲染文本域*/\r\n                    return (\r\n                        <div class={['pl-textarea', classes.value]}>\r\n                            <textarea class=\"pl-textarea-inner\" {...publicProps.value}/>\r\n                            <textarea class=\"pl-textarea-inner pl-textarea-hidden\" ref=\"hiddenInput\" value={model.value}/>\r\n                        </div>\r\n                    )\r\n                } else {\r\n                    /*普通输入框*/\r\n                    const input = (\r\n                        <div class={['pl-input', classes.value]}>\r\n                            {!!props.prefixIcon && <span class=\"pl-input-prefix-icon\" onClick={handler.clickPrefixIcon}><pl-icon icon={props.prefixIcon}/></span>}\r\n\r\n                            {slots.default.isExist() ?\r\n                                <div tabIndex={props.inputInnerTabindex} class=\"pl-input-inner\" {...publicProps.value}>\r\n                                    {slots.default()}\r\n                                </div>\r\n                                :\r\n                                <input class=\"pl-input-inner\" {...publicProps.value}/>}\r\n\r\n                            {!!props.suffixIcon && <span class=\"pl-input-suffix-icon\">\r\n                                {typeof props.suffixIcon === 'function' ? (props.suffixIcon as any)() : <pl-icon onMousedown={handler.clickSuffixIcon} icon={props.suffixIcon}/>}\r\n                            </span>}\r\n                            {!!props.clearIcon && (<span class=\"pl-input-suffix-icon pl-input-clear-icon\"><pl-icon onMousedown={handler.clickClearIcon} icon=\"el-icon-error\"/></span>)}\r\n                            {!!editComputed.value.loading && <pl-loading class=\"pl-input-suffix-icon\"/>}\r\n                            {slots.hidden.isExist() && <div class=\"pl-input-inner-hidden\">{slots.hidden()}</div>}\r\n                        </div>\r\n                    )\r\n\r\n                    if (!slots.prepend.isExist() && !slots.append.isExist()) {\r\n                        return input\r\n                    } else {\r\n                        /*输入框组*/\r\n                        return (\r\n                            <div class=\"pl-input-group\">\r\n                                {slots.prepend.isExist() && <div class=\"pl-input-prepend\">{slots.prepend()}</div>}\r\n                                {input}\r\n                                {slots.append.isExist() && <div class=\"pl-input-append\">{slots.append()}</div>}\r\n                            </div>\r\n                        )\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {useScopedSlots} from \"../../use/useScopedSlots\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-input-inner-tags',\r\n    props: {\r\n        data: {type: Array},\r\n        collapseTags: {type: Boolean, default: true},\r\n    },\r\n    setup({props}) {\r\n        const {scopedSlots} = useScopedSlots({\r\n            default: {item: Object, index: Number},\r\n        })\r\n        return {\r\n            render: () => (\r\n                <div class=\"pl-input-inner-tags\">\r\n                    <span class=\"pl-input-inner-tag-item pl-input-inner-tag-item-takeover\">&nbsp;</span>\r\n                    {\r\n                        (props.collapseTags ? props.data!.slice(0, 3) : props.data!).map((item: any, index) => (\r\n                            <span key={index} class=\"pl-input-inner-tag-item\">\r\n                            {scopedSlots.default({item, index}, null)}\r\n                        </span>\r\n                        ))\r\n                    }\r\n                    {props.collapseTags && props.data!.length > 3 && <span class=\"pl-input-inner-tag-item\">+{props.data!.length - 3}</span>}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import Input from \"./input\";\r\nimport Icon from '../icon'\r\nimport InputInnerTags from './input-inner-tags'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(\r\n    Input,\r\n    {\r\n        plugins: [Icon],\r\n        exposeComponents: {InputInnerTags}\r\n    },\r\n)","import {PlainLoading} from 'plain-loading/src/index'\r\nimport {designComponent} from \"../../use/designComponent\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport {computed, nextTick, watch} from 'vue';\r\nimport './loading.scss'\r\nimport {delay} from \"plain-utils/utils/delay\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-loading',\r\n    props: {\r\n        type: {type: String, default: 'alpha'},\r\n        status: {type: String, default: null},\r\n    },\r\n    setup({props}) {\r\n\r\n        const {refs} = useRefs({\r\n            el: HTMLElement,\r\n        })\r\n\r\n        const classes = computed(() => [\r\n            'pl-loading',\r\n            !!props.status ? `pl-loading-status-${props.status}` : null,\r\n        ])\r\n\r\n        watch(() => props.type, async val => {\r\n            if (!val) {\r\n                return refs.el.innerHTML = ''\r\n            }\r\n            await delay(23)\r\n            if (!(PlainLoading as any)[val]) {\r\n                throw new Error(`pl-loading: un recognise type:${val}`)\r\n            }\r\n            !!refs.el && (refs.el.innerHTML = (PlainLoading as any)[val]().outerHTML)\r\n        }, {immediate: true})\r\n\r\n        return {\r\n            render: () => {\r\n                return <i class={classes.value} ref=\"el\"/>\r\n            }\r\n        }\r\n    },\r\n})","import Loading from './loading'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(Loading)","import './loading-mask.scss'\r\nimport {designComponent} from \"../../use/designComponent\";\r\nimport {nextIndex} from \"../../utils/nextIndex\";\r\nimport {computed, nextTick, reactive, watch, Transition, onMounted} from 'vue';\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-loading-mask',\r\n    props: {\r\n        modelValue: {type: Boolean},                                    // 是否打开loading遮罩\r\n        message: {type: String},                                        // 提示信息\r\n        loadingType: {type: String, default: 'delta'},                  // loading类型\r\n        background: {type: String, default: 'rgba(255,255,255,0.85)'},  // 遮罩背景色\r\n        unlock: {type: Boolean},                                        // 取消阻止点击事件\r\n        fixedPosition: {type: Boolean},                                 // 是否为根节点的加载遮罩\r\n        inDirective: {type: Boolean},                                   // 是否为遮罩指令服务的实例\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: boolean | undefined) => true,\r\n    },\r\n    setup({props, event}) {\r\n\r\n        const {refs} = useRefs({\r\n            el: HTMLElement\r\n        })\r\n\r\n        const modelValue = useModel(() => props.modelValue, event.emit.onUpdateModelValue)\r\n\r\n        const state = reactive({\r\n            isMounted: false,\r\n            zIndex: nextIndex() + (!props.fixedPosition ? -1500 : 0) + 1,\r\n        })\r\n\r\n        const classes = computed(() => [\r\n            'pl-loading-mask',\r\n            {\r\n                'pl-loading-mask-unlock': props.unlock,\r\n                'pl-loading-mask-fixed-position': props.fixedPosition\r\n            }\r\n        ])\r\n\r\n        const styles = useStyles(style => {\r\n            style.background = props.background\r\n            style.zIndex = state.zIndex\r\n        })\r\n\r\n        const utils = {\r\n            /**\r\n             * 检查父节点的position是否为 absolute，relative或者fixed，不是的话，设置为 relative\r\n             * @author  韦胜健\r\n             * @date    2020/11/3 16:42\r\n             */\r\n            resetParentPosition: async () => {\r\n                if (props.fixedPosition) {\r\n                    return\r\n                }\r\n                await nextTick()\r\n                const el = refs.el\r\n                if (el) {\r\n                    let parentNode = el.parentNode as HTMLElement\r\n                    if (props.inDirective) {\r\n                        parentNode = parentNode.parentNode as HTMLElement\r\n                    }\r\n                    if (!!parentNode) {\r\n                        const styles = window.getComputedStyle(parentNode)\r\n                        const position = styles.position\r\n                        if (['absolute', 'relative', 'fixed'].indexOf(position) === -1) {\r\n                            parentNode.style.position = 'relative'\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        watch(() => modelValue.value && state.isMounted, async val => {\r\n            !!val && (state.zIndex = nextIndex() + (!props.fixedPosition ? -1500 : 0) + 1);\r\n            await utils.resetParentPosition()\r\n        })\r\n\r\n        onMounted(() => {\r\n            utils.resetParentPosition()\r\n            setTimeout(() => {\r\n                state.isMounted = true\r\n            }, 23)\r\n        })\r\n\r\n        return {\r\n            render: () => (\r\n                <Transition name=\"pl-transition-loading-mask\">\r\n                    {!!modelValue.value && state.isMounted && (\r\n                        <div style={styles.value} class={classes.value} ref=\"el\">\r\n                            <pl-loading type={props.loadingType}/>\r\n                            {!!props.message && <span>{props.message}</span>}\r\n                        </div>\r\n                    )}\r\n                </Transition>\r\n            )\r\n        }\r\n    },\r\n})","import Loading from '../loading'\r\nimport LoadingMask from './loading-mask'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(LoadingMask, {\r\n    plugins: [\r\n        Loading,\r\n    ]\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {useClass} from \"../../use/useClasses\";\r\nimport './checkbox-inner.scss'\r\nimport {CheckboxStatus} from \"../../utils/constant\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-checkbox-inner',\r\n    props: {\r\n        disabled: {type: Boolean},\r\n        checkStatus: {type: String},\r\n    },\r\n    setup({props}) {\r\n\r\n        const classes = useClass(() => [\r\n            'pl-checkbox-inner',\r\n            `pl-checkbox-inner-status-${props.checkStatus}`,\r\n            {\r\n                'pl-checkbox-inner-disabled': props.disabled,\r\n            }\r\n        ])\r\n\r\n        return {\r\n            render: () => (\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\" class={classes.value}>\r\n                    {props.checkStatus === CheckboxStatus.check && <polyline points=\"22,50 45,75 75,25\" class=\"pl-checkbox-inner-check-polyline\"/>}\r\n                    {props.checkStatus === CheckboxStatus.minus && <rect x=\"15\" y=\"15\" width=\"70\" height=\"70\" class=\"pl-checkbox-inner-minus-polyline\"/>}\r\n                </svg>\r\n            )\r\n        }\r\n    },\r\n})","import inner from './checkbox-inner'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(inner)","import {designComponent} from \"../../use/designComponent\";\r\nimport {EditProps, useEdit} from '../../use/useEdit';\r\nimport {StyleProps, useStyle} from '../../use/useStyle';\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {useProps} from \"../../use/useProps\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {useCollect} from \"../../use/useCollect\";\r\nimport Checkbox from '../checkbox/checkbox'\r\nimport {CheckboxStatus, DEFAULT_STATUS} from \"../../utils/constant\";\r\nimport {computed, inject, PropType} from 'vue';\r\nimport {$$notice} from \"../notice-service\";\r\n\r\nconst CheckboxGroup = designComponent({\r\n    name: 'pl-checkbox-group',\r\n    props: {\r\n        ...EditProps,\r\n        ...StyleProps,\r\n\r\n        modelValue: {type: Array as PropType<(string | number)[]>},\r\n\r\n        min: {type: Number},                                        // 最大勾选个数\r\n        max: {type: Number},                                        // 最小勾选个数\r\n        itemWidth: {type: [String, Number]},                        // 文本宽度\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: (string | number)[] | undefined) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const formItem = inject('@@pl-form-item', null)\r\n\r\n        /*插槽*/\r\n        const {slots} = useSlots()\r\n        /*可编辑控制*/\r\n        const {editComputed} = useEdit()\r\n        /*样式控制*/\r\n        useStyle({status: DEFAULT_STATUS})\r\n        /*格式化属性*/\r\n        const {propsState} = useProps(props, {\r\n            min: useProps.NUMBER,\r\n            max: useProps.NUMBER,\r\n            itemWidth: useProps.NUMBER,\r\n        })\r\n        /*绑定值*/\r\n        const modelValue = useModel(() => props.modelValue, emit.onUpdateModelValue)\r\n        /*子组件Checkbox*/\r\n        const children = CheckboxGroupCollector.parent()\r\n        /*可用子组件*/\r\n        const activeChildren = computed(() => children.filter(({innerState: {props: {checkboxForAll, customReadonly}}}) => !checkboxForAll && !customReadonly))\r\n\r\n        /*可用子组件keys*/\r\n        const allKeys = computed((() => activeChildren.value.map(({innerState: {props: {val}}}) => val)))\r\n\r\n        /*当前选择状态*/\r\n        const checkStatus = computed(() => {\r\n            let hasCheck = false\r\n            let hasUncheck = false\r\n            if (!modelValue.value) {\r\n                return CheckboxStatus.uncheck\r\n            }\r\n            activeChildren\r\n                .value\r\n                .forEach(child => modelValue.value!\r\n                    .indexOf(child.innerState.props.val!) > -1 ? hasCheck = true : hasUncheck = true)\r\n\r\n            if (hasCheck && !hasUncheck) {\r\n                return CheckboxStatus.check\r\n            }\r\n            if (!hasCheck && hasUncheck) {\r\n                return CheckboxStatus.uncheck\r\n            }\r\n            return CheckboxStatus.minus\r\n        })\r\n\r\n        const utils = {\r\n            /**\r\n             * 子组件用来获取状态工具函数\r\n             * @author  韦胜健\r\n             * @date    2020/11/4 11:26\r\n             */\r\n            getCheckStatus: (checkbox: typeof Checkbox.use.class): CheckboxStatus => {\r\n                const {innerState: {props: {checkboxForAll, val}}} = checkbox\r\n                if (checkboxForAll) {\r\n                    return checkStatus.value\r\n                } else {\r\n                    return !!modelValue.value && modelValue.value.indexOf(val!) > -1 ? CheckboxStatus.check : CheckboxStatus.uncheck\r\n                }\r\n            },\r\n            exceed: {\r\n                /**\r\n                 * 是否已经超出了max\r\n                 * @author  韦胜健\r\n                 * @date    2020/11/4 11:26\r\n                 */\r\n                max: (val: (string | number)[] | undefined) => {\r\n                    if (propsState.max == null) {\r\n                        return false\r\n                    }\r\n                    return !!val && val.length > propsState.max\r\n                },\r\n                /**\r\n                 * 是否已经超出了min\r\n                 * @author  韦胜健\r\n                 * @date    2020/11/4 11:26\r\n                 */\r\n                min: (val: (string | number)[] | undefined) => {\r\n                    if (propsState.min == null) {\r\n                        return false\r\n                    }\r\n                    return !val || val.length < propsState.min\r\n                }\r\n            },\r\n            changeValue: {\r\n                /**\r\n                 * 添加选项赋值\r\n                 * @author  韦胜健\r\n                 * @date    2020/11/4 11:26\r\n                 */\r\n                add: (val: (string | number)[]) => {\r\n                    if (utils.exceed.max(val)) {\r\n                        $$notice.warn(`最多可选 ${propsState.max} 个选项！`)\r\n                    } else {\r\n                        modelValue.value = val\r\n                    }\r\n                },\r\n                /**\r\n                 * 删除选项赋值\r\n                 * @author  韦胜健\r\n                 * @date    2020/11/4 11:26\r\n                 */\r\n                delete: (val: (string | number)[]) => {\r\n                    if (utils.exceed.min(val)) {\r\n                        $$notice.warn(`最少选择 ${propsState.min} 个选项！`)\r\n                    } else {\r\n                        modelValue.value = val\r\n                    }\r\n                }\r\n            },\r\n        }\r\n\r\n        const handler = {\r\n            /**\r\n             * 处理点击按钮事件\r\n             * @author  韦胜健\r\n             * @date    2020/11/4 11:27\r\n             */\r\n            clickCheckbox: (checkbox: typeof Checkbox.use.class) => {\r\n                if (!editComputed.value.editable) {\r\n                    return\r\n                }\r\n                const {innerState: {props: {val, checkboxForAll}}} = checkbox\r\n\r\n                /*全选按钮*/\r\n                if (checkboxForAll) {\r\n                    if (checkStatus.value !== CheckboxStatus.check) {\r\n                        /*全选*/\r\n                        utils.changeValue.add([...allKeys.value as string[]])\r\n                    } else {\r\n                        /*取消全选*/\r\n                        utils.changeValue.delete([])\r\n                    }\r\n                    return\r\n                }\r\n\r\n                /*单个按钮*/\r\n                if (!val) {\r\n                    throw new Error('Checkbox: val is necessary when Checkbox in CheckboxGroup')\r\n                }\r\n                if (!modelValue.value) {\r\n                    return utils.changeValue.add([val])\r\n                }\r\n                const value = [...modelValue.value]\r\n                const index = value.indexOf(val)\r\n                if (index > -1) {\r\n                    /*删除*/\r\n                    value.splice(index, 1)\r\n                    utils.changeValue.delete(value)\r\n                } else {\r\n                    /*添加*/\r\n                    utils.changeValue.add([...value, val])\r\n                }\r\n            }\r\n        }\r\n\r\n        return {\r\n            refer: {\r\n                utils,\r\n                handler,\r\n                propsState,\r\n            },\r\n            render: () => !formItem ? slots.default() : (\r\n                <div class=\"pl-checkbox-group\">\r\n                    {slots.default()}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})\r\n\r\nexport const CheckboxGroupCollector = useCollect(() => ({\r\n    parent: CheckboxGroup,\r\n    child: Checkbox,\r\n}))\r\n\r\nexport default CheckboxGroup","import {designComponent} from \"../../use/designComponent\";\r\nimport {EditProps, useEdit} from \"../../use/useEdit\";\r\nimport {StyleProps, useStyle} from \"../../use/useStyle\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {useProps} from \"../../use/useProps\";\r\nimport {useScopedSlots} from \"../../use/useScopedSlots\";\r\nimport {useClass} from \"../../use/useClasses\";\r\nimport {computed, Transition} from 'vue';\r\nimport {CheckboxStatus, DEFAULT_STATUS} from \"../../utils/constant\";\r\nimport {ClickWave} from \"../click-wave/click-wave-directive\";\r\nimport {CheckboxGroupCollector} from \"../checkbox-group/checkbox-group\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {unit} from 'plain-utils/string/unit';\r\nimport {useStyles} from \"../../use/useStyles\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-checkbox',\r\n    directives: {ClickWave},\r\n    props: {\r\n        ...EditProps,\r\n        ...StyleProps,\r\n\r\n        modelValue: {},\r\n        val: {type: [String, Number]},                              // 多选时选中值\r\n        label: {type: String},                                      // 显示文本\r\n        width: {type: [String, Number]},                            // 宽度\r\n        trueValue: {default: true},                                 // 选中实际值\r\n        falseValue: {default: false},                               // 非选中值\r\n\r\n        checkboxForAll: {type: Boolean},                            // 是否为 checkbox 全选按钮\r\n        checkStatus: {type: String},                                // checkbox 自定义状态\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: any) => true,\r\n        onClick: (e?: MouseEvent) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        /*group父组件*/\r\n        const checkboxGroup = CheckboxGroupCollector.child({injectDefaultValue: null})\r\n        /*绑定值*/\r\n        const modelValue = useModel(() => props.modelValue, emit.onUpdateModelValue)\r\n        /*格式化属性值*/\r\n        const {propsState} = useProps(props, {\r\n            label: useProps.PROMISE,\r\n            width: useProps.NUMBER,\r\n        })\r\n        /*插槽*/\r\n        const {slots} = useSlots(['label'])\r\n        /*作用域插槽*/\r\n        const {scopedSlots} = useScopedSlots({\r\n            default: {checked: Boolean, status: String, click: Function},\r\n        })\r\n        /*可编辑控制*/\r\n        const {editComputed} = useEdit()\r\n        /*样式控制*/\r\n        const {styleComputed} = useStyle({status: DEFAULT_STATUS})\r\n        /*当前组件内部变量引用*/\r\n        const refer = {innerState: {props, editComputed}}\r\n        /*当前选中状态*/\r\n        const checkStatus = computed((): CheckboxStatus => {\r\n            if (!!props.checkStatus) {\r\n                return props.checkStatus as CheckboxStatus\r\n            }\r\n            if (!!checkboxGroup) {\r\n                return checkboxGroup.utils.getCheckStatus(refer)\r\n            } else {\r\n                return modelValue.value === props.trueValue ? CheckboxStatus.check : CheckboxStatus.uncheck\r\n            }\r\n        })\r\n\r\n        const classes = useClass(() => [\r\n            'pl-checkbox',\r\n            `pl-checkbox-status-${styleComputed.value.status}`,\r\n            `pl-checkbox-size-${styleComputed.value.size}`,\r\n            `pl-checkbox-check-status-${checkStatus.value}`,\r\n            {'pl-checkbox-disabled': editComputed.value.disabled},\r\n        ])\r\n\r\n        /*当前选项宽度*/\r\n        const targetWidth = computed(() => {\r\n            if (!!propsState.width) return propsState.width\r\n            if (!!checkboxGroup && !!checkboxGroup.propsState.itemWidth) return checkboxGroup.propsState.itemWidth\r\n            return null\r\n        })\r\n\r\n        const styles = useStyles(style => {\r\n            style.width = unit(targetWidth.value)\r\n        })\r\n\r\n        const handler = {\r\n            clickEl: (e?: MouseEvent) => {\r\n                if (!!e) {\r\n                    e.stopPropagation()\r\n                }\r\n                emit.onClick(e)\r\n                if (!editComputed.value.editable || props.customReadonly) {\r\n                    return\r\n                }\r\n                if (!!checkboxGroup) {\r\n                    return checkboxGroup.handler.clickCheckbox(refer)\r\n                }\r\n                modelValue.value = checkStatus.value === CheckboxStatus.check ? props.falseValue : props.trueValue\r\n\r\n                if (!!e) {\r\n                    e.stopPropagation()\r\n                    e.preventDefault()\r\n                }\r\n            }\r\n        }\r\n\r\n        return {\r\n            refer,\r\n            render: () => scopedSlots.default(\r\n                {\r\n                    checked: checkStatus.value === CheckboxStatus.check,\r\n                    status: checkStatus.value,\r\n                    click: handler.clickEl,\r\n                },\r\n                (\r\n                    <div class={classes.value}\r\n                         style={styles.value}\r\n                         onClick={handler.clickEl}\r\n                         v-click-wave={{disabled: !editComputed.value.editable}}>\r\n                        <span class=\"plain-click-node\">\r\n                            <Transition name=\"pl-transition-scale\" mode=\"out-in\">\r\n                                <pl-checkbox-inner\r\n                                    checkStatus={checkStatus.value}\r\n                                    key={checkStatus.value}\r\n                                    disabled={editComputed.value.disabled}/>\r\n                            </Transition>\r\n                        </span>\r\n                        {slots.label(!!propsState.label ? <span class=\"pl-checkbox-label\">{propsState.label}</span> : null)}\r\n                    </div>\r\n                ))\r\n        }\r\n    },\r\n})","import inner from '../checkbox-inner'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\nimport checkbox from './checkbox'\r\nimport './checkbox.scss'\r\n\r\nexport default createComponentPlugin(checkbox, {\r\n    plugins: [inner]\r\n})","import checkbox from '../checkbox'\r\nimport group from './checkbox-group'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(group, {plugins: [checkbox]})","import {designComponent} from \"../../use/designComponent\";\r\nimport {MessageServiceFormatOption} from \"./index\";\r\nimport {useClass} from \"../../use/useClasses\";\r\nimport {nextIndex} from \"../../utils/nextIndex\";\r\nimport {PropType} from 'vue';\r\nimport Icon from '../icon'\r\nimport {createEventListener} from \"../../utils/createEventListener\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-message',\r\n    props: {\r\n        option: {type: Object as PropType<MessageServiceFormatOption>, required: true}\r\n    },\r\n    emits: {\r\n        onClose: () => true\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const classes = useClass(() => [\r\n            'pl-message',\r\n            `pl-message-status-${props.option.status}`\r\n        ])\r\n        const styles = {zIndex: nextIndex()}\r\n\r\n        const close = () => {\r\n            emit.onClose()\r\n            !!props.option.onClose && props.option.onClose()\r\n        }\r\n\r\n        props.option.close = close\r\n\r\n        const handler = {\r\n            onClick: (e: MouseEvent) => {\r\n                !!props.option.onClick && props.option.onClick(e)\r\n            },\r\n            onClickCloseIcon: (e: MouseEvent) => {\r\n                close()\r\n            },\r\n            onMouseenter: () => {\r\n                if (!!closeTimer) {\r\n                    clearTimeout(closeTimer)\r\n                }\r\n            },\r\n            onMouseleave: () => {\r\n                !!props.option.time && (closeTimer = setTimeout(close, props.option.time))\r\n            }\r\n        }\r\n\r\n        let closeTimer: number | null = null\r\n        !!props.option.time && (closeTimer = setTimeout(close, props.option.time))\r\n\r\n        return {\r\n            render: () => (\r\n                <div class={classes.value}\r\n                     style={styles}\r\n                     onMouseenter={handler.onMouseenter}\r\n                     onMouseleave={handler.onMouseleave}\r\n                     onClick={handler.onClick}>\r\n                    {!!props.option.icon && <pl-icon icon={props.option.icon}/>}\r\n                    <div class=\"pl-message-content\">{!!props.option.render ? props.option.render() : props.option.message}</div>\r\n                    <Icon icon=\"el-icon-close\" class=\"pl-message-close\" {...createEventListener({onClick: handler.onClickCloseIcon})}/>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n    ,\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {useClass} from \"../../use/useClasses\";\r\nimport {MessageServiceFormatOption} from \"./index\";\r\nimport {useRefList} from \"../../use/useRefList\";\r\nimport {nextTick, reactive} from 'vue';\r\nimport Message from \"./message\";\r\nimport List from '../list'\r\nimport Item from '../item'\r\n\r\nexport default designComponent({\r\n    name: 'pl-message-container',\r\n    props: {\r\n        horizontal: {type: String, required: true},\r\n        vertical: {type: String, required: true},\r\n        duration: {type: String, default: \"30px\"},\r\n    },\r\n    setup({props}) {\r\n        const classes = useClass(() => [\r\n            'pl-message-container',\r\n            `pl-message-container-${props.horizontal}-${props.vertical}`\r\n        ])\r\n        const state = reactive({\r\n            options: [] as MessageServiceFormatOption[]\r\n        })\r\n        const refs = useRefList<{ option: MessageServiceFormatOption }>()\r\n        const styles = {padding: props.duration}\r\n\r\n        const utils = {\r\n            closeMessage: (i: number) => {\r\n                state.options.splice(i, 1)\r\n            }\r\n        }\r\n\r\n        return {\r\n            refer: {\r\n                props,\r\n                getMessage: async (option: MessageServiceFormatOption) => {\r\n                    state.options.push(option)\r\n                    await nextTick()\r\n                    const messages = refs.filter(Boolean)\r\n                    for (let i = 0; i < messages.length; i++) {\r\n                        const message = messages[i];\r\n                        if (message.option === option) {\r\n                            return message\r\n                        }\r\n                    }\r\n                    return null\r\n                },\r\n            },\r\n            render: () => (\r\n                <div class={classes.value} style={styles}>\r\n                    <List direction=\"top\">\r\n                        <Item key=\"placeholder\"/>\r\n                        {state.options.map((option, index) =>\r\n                            <Item key={option.id}>\r\n                                <Message option={option}\r\n                                         ref={(proxy: any) => refs[index] = proxy}\r\n                                         {...{onClose: () => utils.closeMessage(index)}}\r\n                                />\r\n                            </Item>\r\n                        )}\r\n                    </List>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {App} from \"vue\";\r\nimport {RequireFormat, VNodeChild} from \"../../shims\";\r\nimport {registryRootService} from \"../root/registryRootService\";\r\nimport ManagerComponent from './message-manager'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\nimport './message.scss'\r\nimport Icon from '../icon'\r\nimport List from '../list'\r\nimport Item from '../item'\r\nimport {getServiceWithoutContext} from \"../../utils/getServiceWithoutContext\";\r\n\r\n/**\r\n * 消息位置\r\n * @author  韦胜健\r\n * @date    2020/11/7 18:20\r\n */\r\nexport enum MessageServiceDirection {\r\n    start = 'start',\r\n    center = 'center',\r\n    end = 'end',\r\n}\r\n\r\n/**\r\n * 消息状态\r\n * @author  韦胜健\r\n * @date    2020/11/7 18:20\r\n */\r\nexport type MessageServiceStatus = \"lite\" | \"dark\" | \"primary\" | \"success\" | \"warn\" | \"error\" | \"info\"\r\n\r\n/**\r\n * 消息配置对象类型\r\n * @author  韦胜健\r\n * @date    2020/11/7 18:20\r\n */\r\nexport interface MessageServiceOption {\r\n    message?: string,                                                                               // 消息文本\r\n\r\n    horizontal?: MessageServiceDirection,                                                           // 横向位置\r\n    vertical?: MessageServiceDirection,                                                             // 纵向位置\r\n    time?: number | null,                                                                           // 显示的时间\r\n    status?: MessageServiceStatus,                                                                  // 消息状态\r\n    render?: () => VNodeChild,                                                                      // 自定义内容渲染函数\r\n    icon?: string | null,                                                                           // 显示的图标\r\n    onClick?: (e: MouseEvent) => void,                                                              // 自定义点击处理动作\r\n    onClose?: () => void,                                                                           // 处理消息关闭之后的动作\r\n}\r\n\r\n/**\r\n * 消息配置对象类型格式化后的类型\r\n * @author  韦胜健\r\n * @date    2020/11/7 18:20\r\n */\r\nexport type MessageServiceFormatOption = RequireFormat<MessageServiceOption, 'horizontal' | 'vertical' | 'time' | 'status'> & {\r\n    id: string,\r\n    close: () => void,\r\n}\r\n\r\n/**\r\n * 格式化消息配置参数\r\n * @author  韦胜健\r\n * @date    2020/11/7 18:21\r\n */\r\nconst formatOption = (() => {\r\n    let idCount = 0\r\n    return (option: MessageServiceOption): MessageServiceFormatOption => {\r\n        return Object.assign(option as MessageServiceFormatOption, {\r\n            id: `message_${idCount++}`,\r\n            close: () => null,\r\n            horizontal: option.horizontal || MessageServiceDirection.center,\r\n            vertical: option.vertical || MessageServiceDirection.start,\r\n            time: option.time === null ? null : (option.time || 3 * 1000),\r\n            status: option.status || 'dark'\r\n        })\r\n    }\r\n})()\r\n\r\n/**\r\n * 消息服务函数类型\r\n * @author  韦胜健\r\n * @date    2020/11/7 18:21\r\n */\r\ninterface MessageServiceFunction {\r\n    (message: string | MessageServiceOption, option?: MessageServiceOption): void\r\n}\r\n\r\n/**\r\n * 消息服务对象类型\r\n * @author  韦胜健\r\n * @date    2020/11/7 18:21\r\n */\r\nexport type MessageService = MessageServiceFunction & {\r\n    [k in MessageServiceStatus]: MessageServiceFunction\r\n}\r\n\r\n/**\r\n * 通过应用实例获取消息服务对象函数\r\n * @author  韦胜健\r\n * @date    2020/11/7 18:22\r\n */\r\nconst getMessageService = registryRootService(\r\n    'message',\r\n    ManagerComponent,\r\n    (getManager) => {\r\n        const service: MessageServiceFunction = (message: string | MessageServiceOption, option?: MessageServiceOption) => {\r\n            let o = typeof message === \"object\" ? message : {message}\r\n            if (!!option) {\r\n                Object.assign(o, option)\r\n            }\r\n            const fo = formatOption(o)\r\n            fo.horizontal.charAt(0)\r\n            getManager().then(manager => manager.getContainer(fo).then(container => container.getMessage(fo)))\r\n            return fo\r\n        };\r\n\r\n        return Object.assign(service, [\r\n            'lite',\r\n            'dark',\r\n            'primary',\r\n            'success',\r\n            'warn',\r\n            'error',\r\n            'info',\r\n        ].reduce((prev: any, status: any) => {\r\n            prev[status] = function (message: string | MessageServiceOption, option?: MessageServiceOption) {\r\n                const o = typeof message === \"object\" ? message : {message}\r\n                if (!!option) {\r\n                    Object.assign(o, option)\r\n                }\r\n                o.status = status\r\n                return service(o)\r\n            }\r\n            return prev\r\n        }, {})) as MessageService\r\n    }\r\n)\r\n\r\nexport const $$message = getServiceWithoutContext(getMessageService)\r\n\r\nexport default createComponentPlugin({\r\n    ...ManagerComponent,\r\n    getMessageService,\r\n}, {\r\n    plugins: [\r\n        Icon, List, Item,\r\n        {\r\n            install: (app: App) => {\r\n                app.mixin({\r\n                    beforeCreate() {\r\n                        /*第一次调用 $message 的时候才调用 getMessageService*/\r\n                        Object.defineProperty(this, '$message', {\r\n                            get() {\r\n                                return getMessageService(this)\r\n                            },\r\n                        })\r\n                    },\r\n                })\r\n            }\r\n        }\r\n    ]\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {nextTick, reactive} from 'vue';\r\nimport {MessageServiceDirection} from \"./index\";\r\nimport {useRefList} from \"../../use/useRefList\";\r\nimport Container from './message-container'\r\n\r\nexport default designComponent({\r\n    name: 'pl-message-manager',\r\n    setup() {\r\n\r\n        const state = reactive({\r\n            containers: [\r\n                {\r\n                    horizontal: MessageServiceDirection.center,\r\n                    vertical: MessageServiceDirection.start,\r\n                }] as { horizontal: MessageServiceDirection, vertical: MessageServiceDirection }[]\r\n        })\r\n        const refs = useRefList<typeof Container.use.class>()\r\n\r\n        const getContainer = async (config: { horizontal: MessageServiceDirection, vertical: MessageServiceDirection }): Promise<typeof Container.use.class> => {\r\n            for (let i = 0; i < refs.length; i++) {\r\n                const ref = refs[i];\r\n                if (ref.props.horizontal === config.horizontal && ref.props.vertical === config.vertical) {\r\n                    return ref\r\n                }\r\n            }\r\n            state.containers.push(config);\r\n            await nextTick()\r\n            return getContainer(config)\r\n        }\r\n        return {\r\n            refer: {\r\n                name: 'I am message controller',\r\n                getContainer,\r\n            },\r\n            render: () => (\r\n                <div class=\"pl-message-manager\">\r\n                    {state.containers.map((container, index) =>\r\n                        <Container horizontal={container.horizontal}\r\n                                   vertical={container.vertical}\r\n                                   ref={(proxy: any) => refs[index] = proxy}/>)}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {useClass} from \"../../use/useClasses\";\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {unit} from 'plain-utils/string/unit';\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\nimport './grid.scss'\r\n\r\nexport const Row = designComponent({\r\n    name: 'pl-row',\r\n    props: {\r\n        type: {type: String},                               //类型,type\r\n        align: {type: String},                              //对其方式,left|center|right\r\n        justify: {type: String},                            //内容弹性布局方式,start,end,center,space-around,space-between\r\n        gutter: {type: [Number, String], default: 0},       //间隔\r\n    },\r\n    provideRefer: true,\r\n    setup({props}) {\r\n\r\n        const {slots} = useSlots()\r\n        const classes = useClass(() => [\r\n            'pl-row',\r\n            {\r\n                [`pl-row-${props.type}`]: !!props.type,\r\n                [`pl-row-${props.type}-${props.align}`]: !!props.align,\r\n                [`pl-row-${props.type}-${props.justify}`]: !!props.justify,\r\n            }\r\n        ])\r\n        const styles = useStyles(style => {\r\n            const gutter = Number(props.gutter)\r\n            if (gutter !== 0) {\r\n                style = {\r\n                    marginLeft: unit(gutter / -2),\r\n                    marginRight: unit(gutter / -2)\r\n                };\r\n            }\r\n            return style\r\n        })\r\n\r\n        return {\r\n            refer: {\r\n                props,\r\n            },\r\n            render: () => (\r\n                <div class={classes.value} style={styles.value}>\r\n                    {slots.default()}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})\r\n\r\nexport default createComponentPlugin(Row)","import {designComponent} from \"../../use/designComponent\";\r\nimport {Row} from './row'\r\nimport {SingleClass, useClass} from \"../../use/useClasses\";\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport const Col = designComponent({\r\n    name: 'pl-col',\r\n    props: {\r\n        span: [Number, String],\r\n        order: [Number, String],\r\n        offset: [Number, String],\r\n        push: [Number, String],\r\n        pull: [Number, String],\r\n        className: String,\r\n        xs: [Number, Object],\r\n        sm: [Number, Object],\r\n        md: [Number, Object],\r\n        lg: [Number, Object]\r\n    },\r\n    setup({props}) {\r\n        const {slots} = useSlots()\r\n        const row = Row.use.inject()\r\n        const classes = useClass(() => {\r\n            let classList = [\r\n                'pl-col',\r\n                {\r\n                    [`pl-col-span-${props.span}`]: props.span,\r\n                    [`pl-col-order-${props.order}`]: props.order,\r\n                    [`pl-col-offset-${props.offset}`]: props.offset,\r\n                    [`pl-col-push-${props.push}`]: props.push,\r\n                    [`pl-col-pull-${props.pull}`]: props.pull,\r\n                    [`${props.className}`]: !!props.className\r\n                }\r\n            ] as SingleClass[];\r\n\r\n            const sizeProps = props as any\r\n            ['xs', 'sm', 'md', 'lg'].forEach(size => {\r\n                if (typeof sizeProps[size] === 'number') {\r\n                    classList.push(`pl-col-${size}-${sizeProps[size]}`);\r\n                } else if (typeof sizeProps[size] === 'object') {\r\n                    let obj = sizeProps[size];\r\n                    Object.keys(obj).forEach(prop => {\r\n                        classList.push(\r\n                            prop !== 'span'\r\n                                ? `pl-col-${size}-${prop}-${obj[prop]}`\r\n                                : `pl-col-span-${size}-${obj[prop]}`\r\n                        );\r\n                    });\r\n                }\r\n            });\r\n            return classList;\r\n        })\r\n        const styles = useStyles(style => {\r\n            if ((Number(row.props.gutter)) !== 0) {\r\n                style = {\r\n                    paddingLeft: (Number(row.props.gutter)) / 2 + 'px',\r\n                    paddingRight: (Number(row.props.gutter)) / 2 + 'px'\r\n                };\r\n            }\r\n            return style;\r\n        })\r\n\r\n        return {\r\n            render: () => (\r\n                <div class={classes.value} style={styles.value}>\r\n                    {slots.default()}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})\r\n\r\nexport default createComponentPlugin(Col)","import Row from \"./row\";\r\nimport Col from './col'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(Row, {exposeComponents: {Col}})","import {designComponent} from \"../../use/designComponent\";\r\nimport {useClass} from \"../../use/useClasses\";\r\nimport './radio-inner.scss'\r\n\r\nexport default designComponent({\r\n    name: 'pl-radio-inner',\r\n    props: {\r\n        checkStatus: {type: String},                // check,uncheck\r\n    },\r\n    setup({props}) {\r\n\r\n        const classes = useClass(() => [\r\n            'pl-radio-inner',\r\n            `pl-radio-inner-${props.checkStatus}`,\r\n        ])\r\n\r\n        return {\r\n            render: () => (\r\n                <svg class={classes.value} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\">\r\n                    {props.checkStatus === 'check' && <circle cx=\"50\" cy=\"50\" r=\"30\"/>}\r\n                </svg>\r\n            )\r\n        }\r\n    },\r\n})","import {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\nimport inner from './radio-inner'\r\n\r\nexport default createComponentPlugin(inner)","import {designComponent} from \"../../use/designComponent\";\r\nimport {EditProps, useEdit} from \"../../use/useEdit\";\r\nimport {StyleProps, useStyle} from \"../../use/useStyle\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {CheckboxStatus, DEFAULT_STATUS} from \"../../utils/constant\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {useProps} from \"../../use/useProps\";\r\nimport {inject} from 'vue';\r\n\r\nexport default designComponent({\r\n    name: 'pl-radio-group',\r\n    props: {\r\n        ...EditProps,\r\n        ...StyleProps,\r\n\r\n        modelValue: {},\r\n        itemWidth: {type: [String, Number]},                       // 每一个单选框的宽度\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: any) => true\r\n    },\r\n    provideRefer: true,\r\n    setup({props, event: {emit}}) {\r\n\r\n        const formItem = inject('@@pl-form-item', null)\r\n\r\n        const {slots} = useSlots()\r\n        useEdit()\r\n        useStyle({status: DEFAULT_STATUS})\r\n        const model = useModel(() => props.modelValue, emit.onUpdateModelValue)\r\n        const {propsState} = useProps(props, {\r\n            itemWidth: useProps.NUMBER,\r\n        })\r\n\r\n        const handler = {\r\n            onClickRadio: (val: any) => {\r\n                model.value = val\r\n            },\r\n        }\r\n        const utils = {\r\n            getCheckStatus: (val: any) => {\r\n                return val === model.value ? CheckboxStatus.check : CheckboxStatus.uncheck\r\n            }\r\n        }\r\n        return {\r\n            refer: {\r\n                propsState,\r\n                handler,\r\n                utils,\r\n            },\r\n            render: () => !formItem ? slots.default() : (\r\n                <div class=\"pl-radio-group\">\r\n                    {slots.default()}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import group from './radio-group'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(group)","import {designComponent} from \"../../use/designComponent\";\r\nimport {EditProps, useEdit} from \"../../use/useEdit\";\r\nimport {StyleProps, StyleStatus, useStyle} from \"../../use/useStyle\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {useProps} from \"../../use/useProps\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {computed, Transition} from 'vue';\r\nimport {CheckboxStatus, DEFAULT_STATUS} from \"../../utils/constant\";\r\nimport {useClass} from \"../../use/useClasses\";\r\nimport {getKey, KEY} from \"../keyboard\";\r\nimport {ClickWave} from \"../click-wave/click-wave-directive\";\r\nimport {useScopedSlots} from \"../../use/useScopedSlots\";\r\nimport './radio.scss'\r\nimport Group from '../radio-group'\r\nimport {unit} from \"plain-utils/string/unit\";\r\nimport {useStyles} from \"../../use/useStyles\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-radio',\r\n    directives: {ClickWave},\r\n    props: {\r\n        ...EditProps,\r\n        ...StyleProps,\r\n\r\n        modelValue: {},                                             // 双向绑定值\r\n        val: {type: [String, Number]},                              // 在group中的唯一标识\r\n        label: {type: String},                                      // 显示文本\r\n        width: {type: [String, Number]},                            // 宽度\r\n        trueValue: {default: true},                                 // 真值\r\n        falseValue: {default: false},                               // 假值\r\n        checkStatus: {type: String},                                // 自定义选中状态\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: any) => true,\r\n        onClick: (e?: MouseEvent) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const group = Group.use.inject(null)\r\n        const {scopedSlots} = useScopedSlots({\r\n            default: {checked: Boolean, status: String, click: Function},\r\n        })\r\n        const {slots} = useSlots(['label'])\r\n        const {editComputed} = useEdit()\r\n        const {styleComputed} = useStyle({status: DEFAULT_STATUS})\r\n        const {propsState} = useProps(props, {\r\n            width: useProps.NUMBER,\r\n        })\r\n        const model = useModel(() => props.modelValue, emit.onUpdateModelValue)\r\n        const checkStatus = computed(() => {\r\n            if (!!props.checkStatus) {\r\n                return props.checkStatus as CheckboxStatus\r\n            }\r\n            if (!!group) {\r\n                return group.utils.getCheckStatus(props.val)\r\n            } else {\r\n                return model.value === props.trueValue ? CheckboxStatus.check : CheckboxStatus.uncheck\r\n            }\r\n        })\r\n\r\n        const classes = useClass(() => [\r\n            'pl-radio',\r\n            `pl-radio-status-${styleComputed.value.status}`,\r\n            `pl-radio-size-${styleComputed.value.size}`,\r\n            {\r\n                'pl-radio-checked': checkStatus.value === CheckboxStatus.check,\r\n                'pl-radio-disabled': editComputed.value.disabled,\r\n            },\r\n        ])\r\n\r\n        const styles = useStyles(style => {\r\n            let width: number | null = null;\r\n            if (!!propsState.width) {\r\n                width = propsState.width as number\r\n            }\r\n            if (!!group && !!group.propsState.itemWidth) {\r\n                width = group.propsState.itemWidth as number\r\n            }\r\n            if (width != null) {\r\n                style.width = unit(width)\r\n            }\r\n        })\r\n\r\n        const handler = {\r\n            click: (e?: MouseEvent) => {\r\n                if (!!e) {\r\n                    e.stopPropagation()\r\n                }\r\n                emit.onClick(e)\r\n                if (!editComputed.value.editable || props.customReadonly) {\r\n                    return\r\n                }\r\n                if (!!group) {\r\n                    group.handler.onClickRadio(props.val)\r\n                } else {\r\n                    model.value = checkStatus.value === CheckboxStatus.check ? props.falseValue : props.trueValue\r\n                }\r\n\r\n                if (!!e) {\r\n                    e.stopPropagation()\r\n                    e.preventDefault()\r\n                }\r\n            },\r\n            keydown: (e: KeyboardEvent) => {\r\n                if (getKey(e) === KEY.space) {\r\n                    e.preventDefault()\r\n                    e.stopPropagation()\r\n                    handler.click(e as any)\r\n                }\r\n            },\r\n        }\r\n\r\n        return {\r\n            render: () => {\r\n                return scopedSlots.default({\r\n                    checked: checkStatus.value === CheckboxStatus.check,\r\n                    status: checkStatus.value,\r\n                    click: handler.click,\r\n                }, (\r\n                    <div\r\n                        class={classes.value}\r\n                        style={styles.value}\r\n                        tabindex={0}\r\n                        v-click-wave={{disabled: !editComputed.value.editable}}\r\n                        onClick={handler.click}\r\n                        onKeydown={handler.keydown}\r\n                    >\r\n                        <span class=\"plain-click-node\">\r\n                            <Transition name=\"pl-transition-fade\" mode=\"out-in\">\r\n                                <pl-radio-inner checkStatus={checkStatus.value}\r\n                                                key={checkStatus.value}\r\n                                                disabled={editComputed.value.disabled}/>\r\n                            </Transition>\r\n                        </span>\r\n                        {slots.label(<span class=\"pl-radio-label\">{props.label}</span>)}\r\n                    </div>\r\n                ))\r\n            }\r\n        }\r\n    },\r\n})","import inner from '../radio-inner'\r\nimport radio from './radio'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(radio, {plugins: [inner]})","import {designComponent} from \"../../use/designComponent\";\r\nimport {StyleProps, useStyle} from \"../../use/useStyle\";\r\nimport {EditProps} from \"../../use/useEdit\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport {computed, onBeforeUnmount, reactive, ref, Teleport, Transition, watch} from 'vue';\r\nimport {nextIndex} from \"../../utils/nextIndex\";\r\nimport {useProps} from \"../../use/useProps\";\r\nimport {unit} from \"plain-utils/string/unit\";\r\nimport {KeyboardService, KeyboardServiceOption} from \"../keyboard\";\r\nimport './dialog.scss'\r\nimport {useClass} from \"../../use/useClasses\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-dialog',\r\n    props: {\r\n        ...StyleProps,\r\n        ...EditProps,\r\n\r\n        modelValue: {type: Boolean},                                            // model绑定是否打开对话框\r\n\r\n        height: {type: [String, Number]},                                       // 对话框高度\r\n        width: {type: [String, Number]},                                        // 对话框宽度\r\n        minHeight: {type: [String, Number]},                                    // 最小高度\r\n        minWidth: {type: [String, Number]},                                     // 最小宽度\r\n        maxHeight: {type: [String, Number]},                                    // 最大高度\r\n        maxWidth: {type: [String, Number]},                                     // 最大宽度\r\n        fullHeight: {type: Boolean},                                            // 撑满高度\r\n        fullWidth: {type: Boolean},                                             // 撑满宽度\r\n\r\n        wrapperPadding: {type: [String, Boolean], default: '15vh 5vw'},         // body的内边距\r\n        contentPadding: {type: Boolean, default: true},                         // 内容内边距\r\n        showHead: {type: Boolean, default: true},                               // 是否展示对话框标题栏\r\n        transition: {type: String, default: 'pl-transition-dialog'},            // 弹框动画, pl-transition-dialog，pl-transition-dialog-top,pl-transition-dialog-left,pl-transition-dialog-right,pl-transition-dialog-bottom\r\n\r\n        title: {type: [String, Object], default: '提示'},                        // 对话框标题\r\n        fullscreen: {type: Boolean},                                            // 是否全屏\r\n        mask: {type: Boolean, default: true},                                   // 是否需要遮罩\r\n        dialogClass: {type: String},                                            // 对话框内容自定义类名\r\n        serviceClass: {type: String},                                           // 对话框服务内容自定义类名\r\n        cancelOnClickMask: {type: Boolean, default: true},                      // 是否在点击遮罩的时候关闭对话框\r\n        showClose: {type: Boolean, default: true},                              // 是否展示关闭按钮\r\n        beforeClose: Function,                                                  // 关闭之前的回调\r\n        center: {type: Boolean},                                                // 是否纵向居中对其\r\n        destroyOnClose: {type: Boolean, default: true},                         // 关闭的时候是否销毁内容\r\n\r\n        confirmButton: {type: Boolean},                                         // 是否显示确认按钮\r\n        cancelButton: {type: Boolean},                                          // 是否显示取消按钮\r\n        closeOnConfirm: {type: Boolean, default: true},                         // 是否点击确认按钮之后自动关闭\r\n        closeOnCancel: {type: Boolean, default: true},                          // 是否点击取消按钮之后自动关闭\r\n        confirmButtonText: {type: [String, Object], default: '确认'},            // 确认按钮文本\r\n        cancelButtonText: {type: [String, Object], default: '取消'},             // 取消按钮文本\r\n        confirmOnEnter: {type: Boolean, default: true},                         // 是否在点击 enter 按键的时候触发 confirm 事件\r\n        cancelOnEsc: {type: Boolean, default: true},                            // 是否在点击 esc 按键的时候出发 cancel事件\r\n        disabledCancel: {type: Boolean},                                        // 禁用cancel，当任何动作触发cancel时，不做任何处理，适用于开发者完全控制对话框的情况，对话框内置的按钮以及键盘事件不做任何处理\r\n        disabledConfirm: {type: Boolean},                                       // 禁用confirm，当任何动作触发confirm时，不做任何处理,适用于开发者完全控制对话框的情况,对话框内置的按钮以及键盘事件不做任何处理\r\n\r\n        vertical: {type: String, default: 'start'},                             // 纵向对其方式：start,center,end\r\n        horizontal: {type: String, default: 'center'},                          // 横向对其方式：start,center,end\r\n        loading: {type: Boolean},                                               // 弹出框添加 加载中的遮罩\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: boolean) => true,\r\n        onConfirm: () => true,\r\n        onCancel: () => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n        const {slots} = useSlots(['head', 'foot'], true)\r\n        const {refs} = useRefs({\r\n            body: HTMLDivElement,\r\n        })\r\n        const state = reactive({\r\n            zIndex: nextIndex(),\r\n            loading: false,\r\n        })\r\n        const isLoading = computed(() => state.loading || props.loading)\r\n        const {styleComputed} = useStyle({status: undefined})\r\n        const model = ref(false)\r\n        const {propsState} = useProps(props, {\r\n            height: useProps.NUMBER,\r\n            width: useProps.NUMBER,\r\n            minHeight: useProps.NUMBER,\r\n            minWidth: useProps.NUMBER,\r\n            maxHeight: useProps.NUMBER,\r\n            maxWidth: useProps.NUMBER,\r\n            title: useProps.PROMISE,\r\n        }) as {\r\n            propsState: {\r\n                height: number,\r\n                width: number,\r\n                minHeight: number,\r\n                minWidth: number,\r\n                maxHeight: number,\r\n                maxWidth: number,\r\n                title: string,\r\n            }\r\n        }\r\n\r\n        /*---------------------------------------computer-------------------------------------------*/\r\n        const wrapperStyles = computed(() => ({\r\n            alignItems: props.center ? null : `flex-${props.vertical}`.replace('flex-center', 'center'),\r\n            justifyContent: `flex-${props.horizontal}`.replace('flex-center', 'center'),\r\n            zIndex: state.zIndex,\r\n            padding: !!props.center ? null : props.wrapperPadding,\r\n        }))\r\n\r\n        const wrapperClasses = useClass(() => [\r\n            'pl-dialog',\r\n            props.transition,\r\n            props.dialogClass,\r\n            props.serviceClass,\r\n            {\r\n                'pl-dialog-fullscreen': props.fullscreen,\r\n                'pl-dialog-no-mask': !props.mask,\r\n                'pl-dialog-vertical-center': props.center,\r\n                'pl-dialog-no-content-padding': !props.contentPadding,\r\n            }\r\n        ])\r\n\r\n        const bodyClasses = computed(() => [\r\n            'pl-dialog-body',\r\n            `pl-dialog-body-shape-${styleComputed.value.shape}`,\r\n        ])\r\n\r\n        const hasHead = computed(() => {\r\n            return props.showHead\r\n        })\r\n        const hasFoot = computed(() => {\r\n            return slots.foot.isExist() || props.confirmButton || props.cancelButton\r\n        })\r\n\r\n        const contentStyle = computed(() => {\r\n            let height = props.fullHeight ? `calc(100vh - ${(!!hasHead.value ? 40 : 0) + (hasFoot.value ? 60 : 0)}px)` : propsState.height\r\n            let width = props.fullWidth ? '100vw' : propsState.width\r\n\r\n            let minHeight = propsState.minHeight !== undefined ? propsState.minHeight : height !== undefined ? null : '15vh'\r\n            let minWidth = propsState.minWidth !== undefined ? propsState.minWidth : width !== undefined ? null : '30vw'\r\n            let maxHeight = propsState.maxHeight !== undefined ? propsState.maxHeight : height !== undefined ? null : '80vh'\r\n            let maxWidth = propsState.maxWidth !== undefined ? propsState.maxWidth : width !== undefined ? null : '60vw'\r\n\r\n            return {\r\n                height: unit(height),\r\n                width: unit(width),\r\n                minHeight: unit(minHeight),\r\n                minWidth: unit(minWidth),\r\n                maxHeight: unit(maxHeight),\r\n                maxWidth: unit(maxWidth),\r\n            }\r\n        })\r\n\r\n        /*---------------------------------------handler-------------------------------------------*/\r\n        const handler = {\r\n            keyboardEventOption: {\r\n                \"enter\": () => {\r\n                    if (isLoading.value) return\r\n                    if (!!props.confirmOnEnter) {\r\n                        methods.confirm()\r\n                    }\r\n                },\r\n                \"esc\": () => {\r\n                    if (isLoading.value) return\r\n                    if (!!props.cancelOnEsc) {\r\n                        methods.cancel()\r\n                    }\r\n                }\r\n            } as KeyboardServiceOption,\r\n            clickWrapper: (e: MouseEvent) => {\r\n                if (isLoading.value) {\r\n                    return\r\n                }\r\n                if (!!props.cancelOnClickMask) {\r\n                    if (!!refs.body && !refs.body.contains(e.target as HTMLElement)) {\r\n                        methods.cancel()\r\n                    }\r\n                }\r\n            },\r\n            clickClose: () => {\r\n                if (isLoading.value) {\r\n                    return\r\n                }\r\n                methods.cancel()\r\n            }\r\n        }\r\n        /*---------------------------------------methods-------------------------------------------*/\r\n        const methods = {\r\n            show: async () => {\r\n                if (model.value) return\r\n                KeyboardService.listen(handler.keyboardEventOption)\r\n                KeyboardService.cancelActiveElement()\r\n                state.zIndex = nextIndex()\r\n                await methods.open()\r\n            },\r\n            async hide() {\r\n                if (!model.value) return\r\n                KeyboardService.unbindListener(handler.keyboardEventOption)\r\n                await this.close()\r\n            },\r\n            confirm() {\r\n                if (props.disabledConfirm) {\r\n                    return\r\n                }\r\n                if (props.closeOnConfirm) {\r\n                    methods.hide()\r\n                }\r\n                emit.onConfirm()\r\n            },\r\n            cancel() {\r\n                if (props.disabledCancel) {\r\n                    return\r\n                }\r\n                if (props.closeOnCancel) {\r\n                    methods.hide()\r\n                }\r\n                emit.onCancel()\r\n            },\r\n            open() {\r\n                model.value = true\r\n                emit.onUpdateModelValue(model.value)\r\n            },\r\n            async close() {\r\n                try {\r\n                    if (!!props.beforeClose) {\r\n                        state.loading = true\r\n                        let flag = await props.beforeClose!()\r\n                        if (flag === false) return\r\n                    }\r\n                    model.value = false\r\n                    emit.onUpdateModelValue(model.value)\r\n                } catch (e) {\r\n                    console.error(e)\r\n                } finally {\r\n                    state.loading = false\r\n                }\r\n            },\r\n        }\r\n        /*---------------------------------------watch-------------------------------------------*/\r\n\r\n        watch(() => props.modelValue, (val) => {\r\n            val ? setTimeout(methods.show, 100) : methods.hide()\r\n        }, {immediate: true})\r\n\r\n        onBeforeUnmount(() => {\r\n            KeyboardService.unbindListener(handler.keyboardEventOption)\r\n            if (model.value) {\r\n                methods.hide()\r\n            }\r\n        })\r\n\r\n        return {\r\n            render: () => {\r\n\r\n                const Wrapper: any = props.destroyOnClose ? <div/> : <div v-show={model.value}/>\r\n\r\n                return (\r\n                    <Teleport to=\".pl-root-service-container\">\r\n                        <Transition name={props.transition}>\r\n                            {(!props.destroyOnClose ? true : model.value) && <Wrapper onClick={handler.clickWrapper} style={wrapperStyles.value as any} class={wrapperClasses.value}>\r\n                                <div class={bodyClasses.value} ref=\"body\">\r\n                                    {hasHead.value && <div class=\"pl-dialog-head\">\r\n                                        {slots.head(<span class=\"pl-dialog-head-title\">{propsState.title}</span>)}\r\n                                        {!!props.showClose && (\r\n                                            <div class=\"pl-dialog-head-close\">\r\n                                                <pl-button icon=\"el-icon-close\"\r\n                                                           shape=\"round\"\r\n                                                           mode=\"text\"\r\n                                                           size=\"large\"\r\n                                                           onClick={handler.clickClose}/>\r\n                                            </div>\r\n                                        )}\r\n                                    </div>}\r\n                                    <div class=\"pl-dialog-content\" style={contentStyle.value as any}>\r\n                                        {slots.default()}\r\n                                    </div>\r\n                                    {hasFoot.value && <div class=\"pl-dialog-foot\">\r\n                                        {slots.foot()}\r\n\r\n                                        {!!props.cancelButton && <pl-button label={props.cancelButtonText} mode=\"stroke\" onClick={methods.cancel}/>}\r\n                                        {!!props.confirmButton && <pl-button label={props.confirmButtonText} onClick={methods.confirm}/>}\r\n                                    </div>}\r\n                                    <pl-loading-mask v-model={isLoading.value}/>\r\n                                </div>\r\n                            </Wrapper>}\r\n                        </Transition>\r\n                    </Teleport>\r\n                )\r\n            }\r\n        }\r\n    }\r\n})","import {StyleStatus} from \"../../use/useStyle\";\r\nimport {RequireFormat, VNodeChild} from \"../../shims\";\r\nimport Dialog from '../dialog'\r\nimport {registryRootService} from \"../root/registryRootService\";\r\nimport {createDefaultManager} from \"../root/createDefaultManager\";\r\nimport Service from './dialog-service'\r\nimport {App} from 'vue';\r\nimport {DialogService} from \"../../index\";\r\nimport {installPlugin} from \"../../utils/installPlugin\";\r\n\r\nexport enum DialogServiceEditType {\r\n    input = 'input',\r\n    textarea = 'textarea'\r\n}\r\n\r\nexport interface DialogServiceOption {\r\n    title?: string,                                                 // 标题\r\n    message?: string,                                               // 提示的消息\r\n    editType?: DialogServiceEditType,                               // 输入类型\r\n    editValue?: string | number,                                    // 输入初始内容\r\n    editReadonly?: boolean,                                         // 输入框只读\r\n    status?: StyleStatus | null,                                    // 对话框状态\r\n    render?: () => VNodeChild,                                      // 自定义对话框内容\r\n    renderHead?: () => VNodeChild,                                  // 自定义对话框标题内容\r\n    renderFoot?: () => VNodeChild,                                  // 自定义对话框底部内容\r\n    confirmButton?: boolean,                                        // 是否显示确认按钮\r\n    confirmButtonText?: string,                                     // 确认按钮文本\r\n    onConfirm?: (editValue?: string) => void | Promise<void>,       // 确认按钮处理函数\r\n    cancelButton?: boolean,                                         // 是否显示删除按钮\r\n    cancelButtonText?: string,                                      // 删除按钮文本\r\n    onCancel?: () => void | Promise<void>,                          // 删除按钮文本\r\n    dialogProps?: Partial<typeof Dialog.use.props>,                 // 对话框属性\r\n}\r\n\r\nexport type DialogServiceFormatOption = RequireFormat<DialogServiceOption, 'status'> & {\r\n    close: () => void\r\n}\r\n\r\ntype DialogServiceFunction = (message: string | DialogServiceOption, option?: DialogServiceOption) => void\r\ntype DialogService = {\r\n    [k in StyleStatus]: DialogServiceFunction\r\n}\r\n\r\nfunction formatOption(o: DialogServiceOption): DialogServiceFormatOption {\r\n    return Object.assign(o, {\r\n        status: o.status === null ? null : (o.status || 'primary'),\r\n    }) as DialogServiceFormatOption\r\n}\r\n\r\nconst getDialogService = registryRootService(\r\n    'dialog',\r\n    createDefaultManager('pl-dialog-manager', Service),\r\n    (getManager) => {\r\n        const service = (message: string | DialogServiceOption, option?: DialogServiceOption) => {\r\n            const o: DialogServiceOption = typeof message === \"string\" ? {message} : message\r\n            if (!!option) {\r\n                Object.assign(o, option)\r\n            }\r\n            const fo = formatOption(o)\r\n            getManager().then(manager => manager.service(fo))\r\n            return fo\r\n        }\r\n\r\n        return Object.assign(service, Object.keys(StyleStatus).reduce((prev: any, status: any) => {\r\n            prev[status] = function (message: string | DialogServiceOption, option?: DialogServiceOption) {\r\n                const o = typeof message === \"object\" ? message : {message}\r\n                if (!!option) {\r\n                    Object.assign(o, option)\r\n                }\r\n                o.status = status\r\n                return service(o)\r\n            }\r\n            return prev\r\n        }, {})) as DialogService\r\n    }\r\n)\r\n\r\nexport default {\r\n    install(app: App) {\r\n        installPlugin(app, Dialog)\r\n        app.mixin({\r\n            beforeCreate() {\r\n                Object.defineProperty(this, '$dialog', {\r\n                    get() {\r\n                        return getDialogService(this)\r\n                    },\r\n                })\r\n            },\r\n        })\r\n    },\r\n}","import button from '../button'\r\nimport icon from '../icon'\r\nimport mask from '../loading-mask'\r\n\r\nimport dialog from './dialog'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(dialog, {\r\n    plugins: [\r\n        button,\r\n        icon,\r\n        mask,\r\n    ]\r\n})","import {computed, reactive, ref} from 'vue';\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport {DialogServiceFormatOption} from \"./index\";\r\nimport Input from '../input'\r\nimport Dialog from '../dialog'\r\nimport {STATUS} from \"../../utils/constant\";\r\nimport {delay} from \"plain-utils/utils/delay\";\r\nimport './dialog-service.scss'\r\nimport {VNodeChild} from \"../../shims\";\r\nimport {createDefaultService} from \"../root/createDefaultService\";\r\n\r\n/**\r\n * 用来区分 DialogServiceOption中的选项与pl-dialog组件的属性\r\n * @author  韦胜健\r\n * @date    2020/11/7 20:04\r\n */\r\nconst OptionKeys = [\r\n    'message',\r\n    'editType',\r\n    'editValue',\r\n    'editReadonly',\r\n    'status',\r\n    'render.tsx',\r\n    'onConfirm',\r\n    'onCancel',\r\n    'close',\r\n]\r\n\r\nexport default createDefaultService({\r\n    name: 'pl-dialog-service',\r\n    setup(option: DialogServiceFormatOption) {\r\n        const {refs} = useRefs({\r\n            input: Input,\r\n        })\r\n\r\n        const isShow = ref(false)\r\n\r\n        const state = reactive({\r\n            key: 0,\r\n            option,\r\n            editValue: null as null | string,\r\n        })\r\n\r\n        const targetOption = computed(() => {\r\n            let option = {} as DialogServiceFormatOption\r\n            let binding = {} as Partial<typeof Dialog.use.props>\r\n\r\n            Object.keys(state.option).forEach((key) => {\r\n                if (OptionKeys.indexOf(key) > -1) {\r\n                    (option as any)[key] = (state.option as any)[key]\r\n                } else {\r\n                    (binding as any)[key] = (state.option as any)[key]\r\n                }\r\n            })\r\n\r\n            return {\r\n                option,\r\n                binding,\r\n            }\r\n        })\r\n\r\n        const handler = {\r\n            confirm: () => {\r\n                if (!!targetOption.value.option.onConfirm) {\r\n                    targetOption.value.option.onConfirm(!targetOption.value.option.editType ? undefined : state.editValue as string)\r\n                }\r\n            },\r\n            cancel: () => {\r\n                if (!!targetOption.value.option.onCancel) {\r\n                    targetOption.value.option.onCancel()\r\n                }\r\n            },\r\n        }\r\n\r\n        async function service(option: DialogServiceFormatOption) {\r\n            option.close = hide\r\n            state.option = option\r\n            state.key++\r\n            isShow.value = true\r\n            if (!!option.editType) {\r\n                state.editValue = option.editValue as string\r\n                await delay(300)\r\n                refs.input!.methods.focus()\r\n            }\r\n            return hide\r\n        }\r\n\r\n        function hide() {\r\n            isShow.value = false\r\n        }\r\n\r\n        return {\r\n            refer: {\r\n                service,\r\n                hide,\r\n                isShow,\r\n                isOpen: isShow,\r\n            },\r\n            render: () => {\r\n                let {option, binding} = targetOption.value\r\n                let status = option.status\r\n                let serviceClass = 'pl-dialog-service';\r\n\r\n                if (!!status) {\r\n                    serviceClass += ` pl-dialog-service-status-${status}`\r\n                }\r\n\r\n                /*---------------------------------------head-------------------------------------------*/\r\n                let head = <div class=\"pl-dialog-service-head\">\r\n                    {!!status && STATUS[status] && <pl-icon class=\"pl-dialog-service-status-icon\" icon={STATUS[status].icon}/>}\r\n                    {!!option.renderHead ? option.renderHead() : (option.title || '提示')}\r\n                </div>\r\n                /*---------------------------------------content-------------------------------------------*/\r\n                let content: VNodeChild;\r\n                if (!!option.editType) {\r\n                    binding = {...binding}\r\n                    if (option.editType !== 'input') {\r\n                        (binding as any).height = binding.height || '500px'\r\n                    } else {\r\n                        (binding as any).minHeight = null\r\n                    }\r\n                    serviceClass += ` pl-dialog-service-edit`\r\n                    content = <pl-input ref=\"input\"\r\n                                        block\r\n                                        minHeight={null}\r\n                                        maxHeight={null}\r\n                                        autoHeight={false}\r\n                                        v-model={state.editValue}\r\n                                        readonly={option.editReadonly}\r\n                                        textarea={option.editType === 'textarea'}/>\r\n                } else if (!!option.message) {\r\n                    content = (\r\n                        <div class=\"pl-dialog-service-item-message\">\r\n                            {option.message}\r\n                        </div>\r\n                    )\r\n                } else if (!!option.render) {\r\n                    content = option.render()\r\n                }\r\n                /*---------------------------------------foot-------------------------------------------*/\r\n                let foot = !option.renderFoot ? null : option.renderFoot()\r\n\r\n                return (\r\n                    <pl-dialog\r\n                        serviceClass={serviceClass}\r\n                        v-model={isShow.value}\r\n                        key={state.key}\r\n\r\n                        onConfirm={handler.confirm}\r\n                        onCancel={handler.cancel}\r\n\r\n                        {...binding}\r\n                        v-slots={{\r\n                            default: !!content ? () => content : null,\r\n                            head: !!head ? () => head : null,\r\n                            foot: !!foot ? () => foot : null,\r\n                        }}\r\n                    />\r\n                )\r\n            }\r\n        }\r\n    },\r\n})\r\n","import {ref, onMounted, onBeforeUnmount} from 'vue';\r\n\r\nexport function useMounted() {\r\n    const isMounted = ref(false)\r\n    onMounted(() => isMounted.value = true)\r\n    onBeforeUnmount(() => isMounted.value = false)\r\n    return isMounted\r\n}","import {Directive} from 'vue'\r\n\r\nexport interface ResizeDetectFuncParam {\r\n    width?: number\r\n    height?: number\r\n    oldWidth?: number\r\n    oldHeight?: number\r\n    el?: HTMLElement\r\n\r\n    [key: string]: any\r\n}\r\n\r\nexport interface ResizeDetectFunc {\r\n    (option: ResizeDetectFuncParam): void\r\n}\r\n\r\nexport default class ResizeDetector {\r\n\r\n    observer?: MutationObserver\r\n    width?: number\r\n    height?: number\r\n\r\n    constructor(public el: HTMLElement, public callback: ResizeDetectFunc) {\r\n\r\n        if (!el) {\r\n            console.error(`el is ${typeof el}`)\r\n            return\r\n        }\r\n\r\n        this.observer = new MutationObserver(this.detect)\r\n\r\n        this.observer.observe(el, {\r\n            childList: true,\r\n            subtree: true\r\n        })\r\n\r\n        // const {width, height} = el.getBoundingClientRect()\r\n        const {scrollHeight: height, scrollWidth: width} = el\r\n        this.width = width\r\n        this.height = height\r\n        this.runCallback({\r\n            width,\r\n            height,\r\n            el\r\n        })\r\n    }\r\n\r\n    detect = () => {\r\n        // const {width, height} = this.el.getBoundingClientRect()\r\n        const {scrollHeight: height, scrollWidth: width} = this.el\r\n        if (width === this.width && height === this.height) return\r\n        const ret = {} as ResizeDetectFuncParam\r\n        if (width !== this.width) {\r\n            ret.width = width\r\n            ret.oldWidth = this.width\r\n            this.width = width\r\n        }\r\n        if (height !== this.height) {\r\n            ret.height = height\r\n            ret.oldHeight = this.height\r\n            this.height = height\r\n        }\r\n        this.runCallback(ret)\r\n    }\r\n\r\n    runCallback(data: ResizeDetectFuncParam) {\r\n        Object.keys(data).forEach(key => {\r\n            if (data[key] != null && typeof data[key] === 'number') data[key] = Math.ceil(data[key])\r\n        })\r\n        this.callback(data)\r\n    }\r\n\r\n    destroy() {\r\n        if (!!this.observer) {\r\n            this.observer.disconnect();\r\n            this.observer = undefined\r\n        }\r\n    }\r\n}\r\n\r\nexport const ResizeDetectorDirective: Directive = {\r\n    mounted(el: any, binding: any, vnode: any) {\r\n        el.__resizedetextor__ = new ResizeDetector(el, (data) => binding.value(data))\r\n    },\r\n    beforeUnmount(el: any) {\r\n        (el.__resizedetextor__ as ResizeDetector).destroy()\r\n        delete el.__resizedetextor__\r\n    },\r\n}\r\n\r\n","export function getElement(ref: any): HTMLElement | null {\r\n\r\n    if (!ref) {\r\n        return null\r\n    }\r\n\r\n    if (!!ref.$el) {\r\n        return getElement(ref.$el)\r\n    }\r\n\r\n    if (ref.nodeType !== 3) {\r\n        return ref\r\n    }\r\n\r\n    return !!ref.data ? ref : ref.nextElementSibling\r\n\r\n}","import {PopperTrigger, PopperTriggerType} from \"./PopperTrigger\";\r\nimport {SimpleFunction} from \"../../../shims\";\r\n\r\nexport function getBaseTrigger(\r\n    triggerName: PopperTriggerType,\r\n    {\r\n        model,\r\n        openModel,\r\n\r\n        show,\r\n        hide,\r\n\r\n        hoverOpenDelay,\r\n        hoverCloseDelay,\r\n        reference,\r\n\r\n        on,\r\n        off,\r\n        emit,\r\n    }: {\r\n        model: { value: boolean | undefined },\r\n        openModel: { value: boolean | undefined },\r\n\r\n        show: SimpleFunction,\r\n        hide: SimpleFunction,\r\n\r\n        hoverOpenDelay: number,\r\n        hoverCloseDelay: number,\r\n        reference: HTMLElement,\r\n\r\n        on: {\r\n            onEnterReference: SimpleFunction,\r\n            onLeaveReference: SimpleFunction,\r\n\r\n            onEnterPopper: SimpleFunction,\r\n            onLeavePopper: SimpleFunction,\r\n\r\n            onReferenceFocus: SimpleFunction,\r\n            onReferenceBlur: SimpleFunction,\r\n\r\n            onClickReference: SimpleFunction,\r\n            onClickBody: SimpleFunction,\r\n            onClickPopper: SimpleFunction,\r\n        },\r\n        off: {\r\n            onEnterReference: SimpleFunction,\r\n            onLeaveReference: SimpleFunction,\r\n\r\n            onEnterPopper: SimpleFunction,\r\n            onLeavePopper: SimpleFunction,\r\n\r\n            onReferenceFocus: SimpleFunction,\r\n            onReferenceBlur: SimpleFunction,\r\n\r\n            onClickReference: SimpleFunction,\r\n            onClickBody: SimpleFunction,\r\n            onClickPopper: SimpleFunction,\r\n        },\r\n        emit: {\r\n            onReferenceFocus: SimpleFunction,\r\n            onReferenceBlur: SimpleFunction,\r\n\r\n            onEnterReference: SimpleFunction,\r\n            onLeaveReference: SimpleFunction,\r\n\r\n            onEnterPopper: SimpleFunction,\r\n            onLeavePopper: SimpleFunction,\r\n        },\r\n    },\r\n) {\r\n    switch (triggerName) {\r\n        case PopperTriggerType.hover:\r\n            return getHoverTrigger({\r\n                model,\r\n                show,\r\n                hide,\r\n                hoverOpenDelay,\r\n                hoverCloseDelay,\r\n                on,\r\n                off,\r\n                emit,\r\n            })\r\n        case PopperTriggerType.click:\r\n            return getClickTrigger({\r\n                model,\r\n                show,\r\n                hide,\r\n                openModel,\r\n                on,\r\n                off,\r\n            })\r\n        case PopperTriggerType.focus:\r\n            return getFocusTrigger({\r\n                show,\r\n                hide,\r\n                reference,\r\n                on,\r\n                off,\r\n                emit,\r\n            })\r\n        case PopperTriggerType.manual:\r\n            return getManualTrigger()\r\n    }\r\n}\r\n\r\nfunction getHoverTrigger({\r\n                             model,\r\n                             show,\r\n                             hide,\r\n                             hoverOpenDelay,\r\n                             hoverCloseDelay,\r\n\r\n                             on,\r\n                             off,\r\n                             emit,\r\n                         }: {\r\n    model: { value: boolean | undefined },\r\n    show: Function,\r\n    hide: Function,\r\n    hoverOpenDelay: number,\r\n    hoverCloseDelay: number,\r\n\r\n    on: {\r\n        onEnterReference: Function,\r\n        onLeaveReference: Function,\r\n\r\n        onEnterPopper: Function,\r\n        onLeavePopper: Function,\r\n\r\n        onReferenceFocus: Function,\r\n        onReferenceBlur: Function,\r\n\r\n        onClickReference: Function,\r\n        onClickPopper: Function,\r\n    },\r\n    off: {\r\n        onEnterReference: Function,\r\n        onLeaveReference: Function,\r\n\r\n        onEnterPopper: Function,\r\n        onLeavePopper: Function,\r\n\r\n        onReferenceFocus: Function,\r\n        onReferenceBlur: Function,\r\n\r\n        onClickReference: Function,\r\n        onClickPopper: Function,\r\n    },\r\n    emit: {\r\n        onReferenceFocus: Function,\r\n        onReferenceBlur: Function,\r\n\r\n        onEnterReference: Function,\r\n        onLeaveReference: Function,\r\n\r\n        onEnterPopper: Function,\r\n        onLeavePopper: Function,\r\n    },\r\n}) {\r\n    let closeTimer: number | undefined;\r\n    let openTimer: number | undefined;\r\n\r\n    const handler = {\r\n        reference: {\r\n            enter: () => {\r\n                if (!!closeTimer) {\r\n                    clearTimeout(closeTimer)\r\n                    closeTimer = undefined\r\n                }\r\n                openTimer = setTimeout(() => {\r\n                    show()\r\n                    openTimer = undefined\r\n                    emit.onEnterReference(model.value)\r\n                }, hoverOpenDelay)\r\n            },\r\n            leave: () => {\r\n                if (!!openTimer) {\r\n                    clearTimeout(openTimer)\r\n                    openTimer = undefined\r\n                }\r\n                closeTimer = setTimeout(() => {\r\n                    hide()\r\n                    closeTimer = undefined\r\n                    emit.onLeaveReference(model.value)\r\n                }, hoverCloseDelay)\r\n            },\r\n        },\r\n        popper: {\r\n            enter: () => {\r\n                if (!!closeTimer) {\r\n                    clearTimeout(closeTimer)\r\n                    closeTimer = undefined\r\n                }\r\n                openTimer = setTimeout(() => {\r\n                    show()\r\n                    openTimer = undefined\r\n                    emit.onEnterPopper(model.value)\r\n                }, hoverOpenDelay)\r\n            },\r\n            leave: () => {\r\n                if (!!openTimer) {\r\n                    clearTimeout(openTimer)\r\n                    openTimer = undefined\r\n                }\r\n                closeTimer = setTimeout(() => {\r\n                    hide()\r\n                    closeTimer = undefined\r\n                    emit.onLeavePopper(model.value)\r\n                }, hoverCloseDelay)\r\n            },\r\n        },\r\n    }\r\n\r\n    return new PopperTrigger(\r\n        PopperTriggerType.hover,\r\n        () => {\r\n            on.onEnterReference(handler.reference.enter)\r\n            on.onLeaveReference(handler.reference.leave)\r\n\r\n            on.onEnterPopper(handler.popper.enter)\r\n            on.onLeavePopper(handler.popper.leave)\r\n        },\r\n        () => {\r\n            off.onEnterReference(handler.reference.enter)\r\n            off.onLeaveReference(handler.reference.leave)\r\n\r\n            off.onEnterPopper(handler.popper.enter)\r\n            off.onLeavePopper(handler.popper.leave)\r\n        }\r\n    )\r\n}\r\n\r\nfunction getClickTrigger({\r\n                             model,\r\n                             show,\r\n                             hide,\r\n                             openModel,\r\n                             on,\r\n                             off,\r\n                         }: {\r\n    model: { value: boolean | undefined },\r\n    show: Function,\r\n    hide: Function,\r\n    openModel: { value: boolean | undefined },\r\n\r\n    on: {\r\n        onClickReference: Function,\r\n        onClickBody: Function,\r\n    },\r\n    off: {\r\n        onClickReference: Function,\r\n        onClickBody: Function,\r\n    },\r\n\r\n}) {\r\n\r\n    const handler = {\r\n        onClickReference: () => {\r\n            if (model.value) {\r\n                hide()\r\n            } else {\r\n                show()\r\n            }\r\n        },\r\n        onClickBody: () => {\r\n            if (openModel.value) {\r\n                hide()\r\n            }\r\n        },\r\n    }\r\n\r\n    return new PopperTrigger(\r\n        PopperTriggerType.click,\r\n        () => {\r\n            on.onClickReference(handler.onClickReference)\r\n            on.onClickBody(handler.onClickBody)\r\n        },\r\n        () => {\r\n            off.onClickReference(handler.onClickReference)\r\n            off.onClickBody(handler.onClickBody)\r\n        },\r\n    )\r\n}\r\n\r\nfunction getFocusTrigger(\r\n    {\r\n        show,\r\n        hide,\r\n        reference,\r\n        on,\r\n        off,\r\n        emit,\r\n    }: {\r\n        show: Function,\r\n        hide: Function,\r\n        reference: HTMLElement,\r\n\r\n        on: {\r\n            onReferenceFocus: Function,\r\n            onReferenceBlur: Function,\r\n        },\r\n        off: {\r\n            onReferenceFocus: Function,\r\n            onReferenceBlur: Function,\r\n        },\r\n        emit: {\r\n            onReferenceFocus: Function,\r\n            onReferenceBlur: Function,\r\n        },\r\n    }\r\n) {\r\n\r\n    let oldTabIndex: string | null;\r\n    const handler = {\r\n        focus: (e: FocusEvent) => {\r\n            emit.onReferenceFocus(e)\r\n            show()\r\n        },\r\n        blur: (e: Event) => {\r\n            emit.onReferenceBlur(e)\r\n            hide()\r\n        },\r\n    }\r\n\r\n    return new PopperTrigger(PopperTriggerType.focus,\r\n        () => {\r\n            oldTabIndex = reference.getAttribute('tabindex')\r\n            if (oldTabIndex == null) {\r\n                reference.setAttribute('tabindex', '0')\r\n            }\r\n            on.onReferenceFocus(handler.focus)\r\n            on.onReferenceBlur(handler.blur)\r\n        },\r\n        () => {\r\n            if (oldTabIndex == null) {\r\n                reference.removeAttribute('tabindex')\r\n            } else {\r\n                reference.setAttribute('tabindex', oldTabIndex)\r\n            }\r\n            off.onReferenceFocus(handler.focus)\r\n            off.onReferenceBlur(handler.blur)\r\n        },\r\n    )\r\n}\r\n\r\nfunction getManualTrigger() {\r\n    return new PopperTrigger(PopperTriggerType.manual,\r\n        () => undefined,\r\n        () => undefined,\r\n    )\r\n}","import {getBaseTrigger} from \"./BaseTrigger\";\r\nimport {SimpleFunction} from \"../../../shims\";\r\n\r\nexport class PopperTrigger {\r\n    data: any\r\n\r\n    constructor(\r\n        public name: PopperTriggerType,     // 触发器名称\r\n        public init: Function,              // 触发器初始化的时候执行函数\r\n        public destroy: Function            // 触发器销毁的时候执行函数\r\n    ) {\r\n    }\r\n}\r\n\r\nexport enum PopperTriggerType {\r\n    hover = 'hover',\r\n    click = 'click',\r\n    focus = 'focus',\r\n    manual = 'manual'\r\n}\r\n\r\nexport function getPopperTrigger(triggerName: PopperTriggerType, {\r\n    model,\r\n    openModel,\r\n\r\n    show,\r\n    hide,\r\n\r\n    hoverOpenDelay,\r\n    hoverCloseDelay,\r\n    reference,\r\n\r\n    on,\r\n    off,\r\n    emit,\r\n}: {\r\n    model: { value: boolean | undefined },\r\n    openModel: { value: boolean | undefined },\r\n\r\n    show: SimpleFunction,\r\n    hide: SimpleFunction,\r\n\r\n    hoverOpenDelay: number,\r\n    hoverCloseDelay: number,\r\n    reference: HTMLElement,\r\n\r\n    on: {\r\n        onClickReference: SimpleFunction,\r\n        onClickBody: SimpleFunction,\r\n        onClickPopper: SimpleFunction,\r\n        onEnterPopper: SimpleFunction,\r\n        onLeavePopper: SimpleFunction,\r\n    },\r\n    off: {\r\n        onClickReference: SimpleFunction,\r\n        onClickBody: SimpleFunction,\r\n        onClickPopper: SimpleFunction,\r\n        onEnterPopper: SimpleFunction,\r\n        onLeavePopper: SimpleFunction,\r\n    },\r\n    emit: {\r\n        onReferenceFocus: SimpleFunction,\r\n        onReferenceBlur: SimpleFunction,\r\n        onEnterReference: SimpleFunction,\r\n        onLeaveReference: SimpleFunction,\r\n        onEnterPopper: SimpleFunction,\r\n        onLeavePopper: SimpleFunction,\r\n    },\r\n\r\n}) {\r\n    return getBaseTrigger(triggerName, {\r\n        model,\r\n        openModel,\r\n        show,\r\n        hide,\r\n\r\n        hoverOpenDelay,\r\n        hoverCloseDelay,\r\n        reference,\r\n\r\n        on: {\r\n            onEnterReference: (cb) => reference.addEventListener('mouseenter', cb),\r\n            onLeaveReference: (cb) => reference.addEventListener('mouseleave', cb),\r\n            onReferenceFocus: (cb) => reference.addEventListener('focus', cb),\r\n            onReferenceBlur: (cb) => reference.addEventListener('blur', cb),\r\n\r\n            onEnterPopper: on.onEnterPopper,\r\n            onLeavePopper: on.onLeavePopper,\r\n            onClickReference: on.onClickReference,\r\n            onClickBody: on.onClickBody,\r\n            onClickPopper: on.onClickPopper,\r\n        },\r\n        off: {\r\n            onEnterReference: (cb) => reference.removeEventListener('mouseenter', cb),\r\n            onLeaveReference: (cb) => reference.removeEventListener('mouseleave', cb),\r\n            onReferenceFocus: (cb) => reference.removeEventListener('focus', cb),\r\n            onReferenceBlur: (cb) => reference.removeEventListener('blur', cb),\r\n\r\n            onEnterPopper: off.onEnterPopper,\r\n            onLeavePopper: off.onLeavePopper,\r\n            onClickReference: off.onClickReference,\r\n            onClickBody: off.onClickBody,\r\n            onClickPopper: off.onClickPopper,\r\n        },\r\n        emit: emit,\r\n    })\r\n}","import {designComponent} from \"../../use/designComponent\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {computed, onMounted, createCommentVNode, Teleport, reactive, markRaw, nextTick, watch, getCurrentInstance, onBeforeUnmount} from 'vue';\r\nimport {createError} from \"../../utils/createError\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport {getElement} from \"../../utils/getElement\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {nextIndex} from \"../../utils/nextIndex\";\r\nimport {PlainPopper} from 'plain-popper'\r\nimport {SimpleFunction} from \"../../shims\";\r\nimport {getPopperTrigger, PopperTrigger, PopperTriggerType} from \"./trigger/PopperTrigger\";\r\nimport {useProps} from \"../../use/useProps\";\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {debounce} from \"plain-utils/utils/debounce\";\r\nimport './popper.scss'\r\nimport {refreshPopperReference} from \"./refershPopperReference\";\r\nimport {delay} from \"plain-utils/utils/delay\";\r\n\r\nconst error = createError('pl-popper')\r\n\r\nexport default designComponent({\r\n    name: 'pl-popper',\r\n    props: {\r\n        modelValue: {type: Boolean},                                // 双向绑定值，当前是否打开\r\n        open: {type: Boolean},                                      // 双向绑定值，当前是否已经打开\r\n        trigger: {type: String, default: 'hover'},                  // 触发动作， hover,click,focus,manual,always\r\n\r\n        title: {type: String},                                      // 标题文本\r\n        message: {type: String},                                    // 内容文本\r\n        disabled: {type: Boolean},                                  // 禁用\r\n        transition: {type: String, default: 'pl-transition-fade'},  // 动画名称：pl-transition-fade, pl-transition-scale, pl-transition-scale-y, pl-transition-popper-drop\r\n        popperClass: {type: [String, Array, Object]},               // popper容器节点样式\r\n        offset: {type: [Number, String]},                           // 偏移量\r\n        width: {type: [Number, String]},                            // 宽度\r\n        height: {type: [Number, String]},                           // 高度\r\n        hoverOpenDelay: {type: [Number, String], default: 0},       // hover触发条件下，打开延迟时间\r\n        hoverCloseDelay: {type: [Number, String], default: 200},    // hover触发条件下，关闭延迟时间\r\n        noContentPadding: {type: Boolean},                          // 去掉默认内容内边距\r\n\r\n        reference: {type: [Function, Element]},                     // 目标dom元素\r\n        placement: {type: String, default: 'bottom-start'},         // 位置\r\n        arrow: {type: Boolean, default: true},                      // 是否需要箭头\r\n\r\n        boundary: {default: 'window'},                              // 边界元素\r\n        sizeEqual: {type: Boolean},                                 // 与reference在方向上大小相等\r\n        scrollAttrs: {type: Object},                                // pl-scroll 属性配置\r\n        popperAttrs: {type: Object},                                // 给popper dom节点传递的属性\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: boolean) => true,\r\n        onUpdateOpen: (val: boolean) => true,\r\n        onInit: () => true,\r\n        onDestroy: () => true,\r\n        onOpen: () => true,\r\n        onClose: () => true,\r\n        onShow: () => true,\r\n        onHide: () => true,\r\n\r\n        onClickReference: (e: MouseEvent) => true,\r\n        onClickPopper: (e: MouseEvent) => true,\r\n        onClickBody: (e: MouseEvent) => true,\r\n        onMousedownPopper: (e: MouseEvent) => true,\r\n\r\n        onEnterReference: (e: MouseEvent) => true,\r\n        onLeaveReference: (e: MouseEvent) => true,\r\n        onEnterPopper: (e: MouseEvent) => true,\r\n        onLeavePopper: (e: MouseEvent) => true,\r\n        onReferenceFocus: (e: FocusEvent) => true,\r\n        onReferenceBlur: (e: Event) => true,\r\n    },\r\n    setup({props, event}) {\r\n\r\n        const {emit, on, off} = event\r\n\r\n        const {slots} = useSlots([\r\n            'popper',\r\n            'title',\r\n        ], true)\r\n\r\n        const {refs} = useRefs({\r\n            comment: HTMLElement,                                               // 注释节点，用来查找reference的第一个节点\r\n            popper: HTMLDivElement,                                             // popper div 节点\r\n            content: HTMLDivElement,                                            // popper content 节点\r\n        });\r\n\r\n        /*---------------------------------------state-------------------------------------------*/\r\n\r\n        const {propsState} = useProps(props, {\r\n            hoverOpenDelay: useProps.NUMBER,\r\n            hoverCloseDelay: useProps.NUMBER,\r\n            offset: useProps.NUMBER,\r\n            width: useProps.NUMBER,\r\n            height: useProps.NUMBER,\r\n        })\r\n\r\n        const model = useModel(() => props.modelValue, emit.onUpdateModelValue, {autoEmit: false, autoWatch: false})\r\n        const openModel = useModel(() => props.open, emit.onUpdateOpen, {autoEmit: false, autoWatch: false})\r\n\r\n        const state = reactive({\r\n            el: {\r\n                popper: null as null | HTMLElement,                             // popper 节点\r\n                comment: null as null | HTMLElement,                            // comment 节点\r\n                reference: null as null | HTMLElement,                          // comment.nextElementSibling，也就是 reference 的第一个节点\r\n            },\r\n            referenceEl: null as null | HTMLElement,                            // 真正的 reference 对象获取方法\r\n            zIndex: nextIndex(),                                                // popper zIndex值\r\n            onTransitionend: null as null | ((e: Event) => void),               // 当show或者hide，需要监听一次 transitionend事件，所以这里有可能是null\r\n            init: false,                                                        // 当前是否已经初始化popper content及其Popper对象\r\n            popper: null as null | PlainPopper,                                 // PlainPopper 对象\r\n            trigger: null as null | PopperTrigger,                              // 触发类型\r\n        })\r\n\r\n        /**\r\n         * 检查默认插槽中是否存在多个节点，如果是则发出警告\r\n         * @author  韦胜健\r\n         * @date    2020/11/17 9:45\r\n         */\r\n        const referenceVNode = computed(() => {\r\n            const slot = slots.default() as any\r\n            if (!slot) {\r\n                return null\r\n            }\r\n            if (slot.length > 1) {\r\n                error('allows only one child node!')\r\n            }\r\n            return slot[0]\r\n        })\r\n\r\n        /*---------------------------------------computed-------------------------------------------*/\r\n\r\n        /**\r\n         * 当前方向，用来配置sizeEqual使用\r\n         * @author  韦胜健\r\n         * @date    2020/11/17 10:49\r\n         */\r\n        const direction = computed(() => {\r\n            const [direction] = props.placement.split('-')\r\n            return direction as 'top' | 'bottom' | 'left' | 'right'\r\n        })\r\n\r\n        const popperClasses = computed(() => [\r\n            'pl-popper',\r\n            'plain-popper',\r\n            props.transition,\r\n            props.popperClass,\r\n            {\r\n                'pl-popper-show': model.value,\r\n                'pl-popper-open': openModel.value,\r\n                // 'pl-popper-ready': state.ready,\r\n                'pl-popper-show-arrow': props.arrow,\r\n                'pl-popper-no-content-padding': props.noContentPadding,\r\n            }\r\n        ])\r\n\r\n        const popperStyles = useStyles(style => {\r\n            style.zIndex = state.zIndex\r\n        })\r\n\r\n        const sizeStyles = useStyles(styles => {\r\n            propsState.height != null && (styles.height = `${propsState.height}px`);\r\n            propsState.width != null && (styles.width = `${propsState.width}px`);\r\n            if (!!props.sizeEqual && !!state.referenceEl) {\r\n                if (['top', 'bottom'].indexOf(direction.value) > -1) {\r\n                    styles.width = (state.referenceEl as HTMLElement).offsetWidth + 'px'\r\n                } else if (['left', 'right'].indexOf(direction.value) > -1) {\r\n                    styles.height = (state.referenceEl as HTMLElement).offsetHeight + 'px'\r\n                }\r\n            }\r\n            return styles\r\n        })\r\n\r\n        const scrollAttrs = computed(() => {\r\n            if (!propsState.height) {\r\n                return null\r\n            } else {\r\n                return Object.assign({\r\n                    fitHostWidth: true,\r\n                }, props.scrollAttrs)\r\n            }\r\n        })\r\n\r\n        /*---------------------------------------handler-------------------------------------------*/\r\n\r\n        const handler = {\r\n            onPopperContentTransitionend: (e: Event) => !!state.onTransitionend && state.onTransitionend(e),\r\n            onClickReference: (e: MouseEvent) => {\r\n                emit.onClickReference(e)\r\n            },\r\n            onClickPopper: (e: MouseEvent) => {\r\n                emit.onClickPopper(e)\r\n            },\r\n            onClickBody: (e: MouseEvent) => {\r\n                if (!model.value && !openModel.value) {\r\n                    return;\r\n                }\r\n                if (state.referenceEl!.contains(e.target as Node)) {\r\n                    /*点击了reference*/\r\n                    return\r\n                }\r\n                if (!!refs.content && refs.content!.contains(e.target as Node)) {\r\n                    /*点击了content*/\r\n                    return\r\n                }\r\n                emit.onClickBody(e)\r\n            },\r\n        }\r\n\r\n        /*---------------------------------------utils-------------------------------------------*/\r\n\r\n        const utils = {\r\n            init: (): boolean => {\r\n                let {comment, reference} = state.el\r\n                if (!!comment && !!reference) {\r\n                    state.referenceEl = reference\r\n                } else if (!!props.reference) {\r\n                    state.referenceEl = getElement(typeof props.reference === \"function\" ? (props.reference as SimpleFunction)() : props.reference)\r\n                } else {\r\n                    /*没有reference，等待reference初始化在初始化popper*/\r\n                    return false\r\n                }\r\n                utils.bindEvents()\r\n\r\n                state.trigger = getPopperTrigger(props.trigger as PopperTriggerType, {\r\n                    model,\r\n                    openModel: openModel,\r\n                    show: methods.show,\r\n                    hide: methods.hide,\r\n\r\n                    hoverOpenDelay: propsState.hoverOpenDelay as number,\r\n                    hoverCloseDelay: propsState.hoverCloseDelay as number,\r\n\r\n                    reference: state.referenceEl as HTMLElement,\r\n\r\n                    on,\r\n                    off,\r\n                    emit,\r\n                })\r\n\r\n                state.trigger.init()\r\n                emit.onInit()\r\n\r\n                return true\r\n            },\r\n            destroy: () => {\r\n                utils.unbindEvents()\r\n                if (!!state.trigger) {\r\n                    state.trigger.destroy()\r\n                }\r\n                if (!!state.popper) {\r\n                    state.popper.destroy()\r\n                }\r\n                emit.onDestroy()\r\n            },\r\n            bindEvents: () => {\r\n                if (!!state.referenceEl) {\r\n                    state.referenceEl.addEventListener('click', handler.onClickReference)\r\n                }\r\n                document.body.addEventListener('click', handler.onClickBody, true)\r\n            },\r\n            unbindEvents: () => {\r\n                if (!!state.referenceEl) {\r\n                    state.referenceEl.removeEventListener('click', handler.onClickReference)\r\n                }\r\n                document.body.removeEventListener('click', handler.onClickBody, true)\r\n            },\r\n            initPopper: () => {\r\n                state.popper = new PlainPopper({\r\n                    popper: refs.popper,\r\n                    reference: state.referenceEl!,\r\n                    padding: 50,\r\n                    placement: props.placement as any,\r\n                    offset: Number(props.offset || (!!props.arrow ? 0 : 2)),\r\n                    boundary: props.boundary,\r\n                    arrowSize: !props.arrow ? 0 : undefined,\r\n                    shouldUpdate: () => !!model.value\r\n                })\r\n            }\r\n        }\r\n\r\n        /*---------------------------------------methods-------------------------------------------*/\r\n\r\n        const methods = {\r\n            show: async (shouldEmit = true) => {\r\n                if (props.disabled) {\r\n                    return\r\n                }\r\n                if (!state.init) {\r\n                    state.init = true\r\n                    await nextTick()\r\n                    await utils.initPopper()\r\n                }\r\n                state.popper!.refresh()\r\n\r\n                /*这里要有一定的延迟，否则popper的属性 direction以及align更新没有结束，导致动画的方向不对*/\r\n                await nextTick()\r\n                await delay(50)\r\n\r\n                state.zIndex = nextIndex()\r\n                model.value = true\r\n                emit.onShow()\r\n                if (shouldEmit) {\r\n                    emit.onUpdateModelValue(model.value)\r\n                }\r\n                state.onTransitionend = () => {\r\n                    openModel.value = true\r\n                    state.onTransitionend = null\r\n                }\r\n            },\r\n            hide: (shouldEmit = true) => {\r\n                model.value = false\r\n                emit.onHide()\r\n                if (shouldEmit) {\r\n                    emit.onUpdateModelValue(model.value)\r\n                }\r\n                state.onTransitionend = () => {\r\n                    openModel.value = false\r\n                    state.onTransitionend = null\r\n                }\r\n            },\r\n            toggle: async () => {\r\n                model.value ? await methods.hide() : await methods.show()\r\n            },\r\n            refresh: () => {\r\n                if (!state.referenceEl) return\r\n                state.popper!.refresh()\r\n            },\r\n            refreshReference: async () => {\r\n                await nextTick()\r\n                const comment = getElement(refs.comment)\r\n                const reference = !!comment ? comment!.nextElementSibling as HTMLElement : null\r\n                // console.log(reference, state.el.reference)\r\n                if (!!reference && reference !== state.el.reference) {\r\n                    await utils.destroy()\r\n                    state.el.reference = markRaw(reference)\r\n                    await utils.init()\r\n                }\r\n            }\r\n        }\r\n\r\n        onMounted(async () => {\r\n\r\n            const popper = getElement(refs.popper)\r\n            const comment = getElement(refs.comment)\r\n            const reference = !!comment ? comment!.nextElementSibling as HTMLElement : null\r\n            // console.log({popper, comment, reference})\r\n\r\n            state.el = markRaw({popper, comment, reference})\r\n\r\n            await utils.init()\r\n            if (model.value) {\r\n                await methods.show(false)\r\n            }\r\n        })\r\n\r\n        onBeforeUnmount(() => utils.destroy())\r\n        refreshPopperReference.provide(methods.refreshReference)\r\n\r\n        /*---------------------------------------watch-------------------------------------------*/\r\n        watch(() => props.modelValue, (val) => {\r\n            if (val === model.value) {\r\n                return\r\n            }\r\n            if (val) {\r\n                methods.show(false)\r\n            } else {\r\n                methods.hide(false)\r\n            }\r\n        })\r\n        // watch(() => model.value, (val) => {})\r\n        watch(() => openModel.value, (val) => {\r\n            if (!!val) {\r\n                emit.onUpdateOpen(true)\r\n                emit.onOpen()\r\n            } else {\r\n                emit.onUpdateOpen(false)\r\n                emit.onClose()\r\n            }\r\n        })\r\n        watch(() => props.placement, (val) => {\r\n            if (!!state.popper) {\r\n                state.popper.setPlacement(val as any)\r\n            }\r\n        })\r\n\r\n        const ctx = getCurrentInstance()!\r\n        const popperConfigChangeHandler = debounce(async () => {\r\n            // console.log('popperConfigChangeHandler')\r\n            await nextTick()\r\n            if (ctx.isUnmounted) {\r\n                return\r\n            }\r\n            await utils.destroy()\r\n            await utils.init()\r\n            if (!state.referenceEl) {\r\n                if (!!state.popper) {\r\n                    state.popper.destroy()\r\n                    state.popper = null\r\n                }\r\n                return\r\n            }\r\n            if (!!state.popper) {\r\n                await utils.initPopper()\r\n            }\r\n        }, 50)\r\n        watch(() => props.reference, popperConfigChangeHandler)\r\n        watch(() => props.arrow, popperConfigChangeHandler)\r\n        watch(() => props.trigger, popperConfigChangeHandler)\r\n\r\n        /*---------------------------------------render-------------------------------------------*/\r\n\r\n        const Comment = createCommentVNode('') as any\r\n\r\n        return {\r\n            refer: {\r\n                event,\r\n                state,\r\n                ...methods,\r\n            },\r\n            render: () => {\r\n                const {value: ReferenceVNode} = referenceVNode\r\n                return (\r\n                    <>\r\n                        {/*如果没有reference，则不渲染comment节点*/}\r\n                        {!!ReferenceVNode && <>\r\n                            <Comment ref=\"comment\"/>\r\n                            <ReferenceVNode/>\r\n                        </>}\r\n\r\n                        {state.init && <Teleport to=\".pl-root-service-container\">\r\n                            <div class={popperClasses.value}\r\n                                 style={popperStyles.value}\r\n                                 {...(props.popperAttrs || {})}\r\n                                 ref=\"popper\">\r\n                                <div class=\"plain-popper-content\"\r\n                                     ref=\"content\"\r\n\r\n                                     onClick={emit.onClickPopper}\r\n                                     onTransitionend={handler.onPopperContentTransitionend}\r\n                                     onMousedown={emit.onMousedownPopper}\r\n                                     {...(props.trigger === 'hover' ? {\r\n                                         onMouseenter: emit.onEnterPopper,\r\n                                         onMouseleave: emit.onLeavePopper,\r\n                                     } : {})}\r\n                                >\r\n                                    <div class=\"plain-popper-arrow\"/>\r\n                                    {(props.title || slots.title.isExist()) && <div class=\"pl-popper-title\">\r\n                                        {props.title || slots.title()}\r\n                                    </div>}\r\n                                    {(props.message || slots.popper.isExist()) && <div class=\"pl-popper-content-inner\" style={sizeStyles.value}>\r\n                                        {!!scrollAttrs.value ? (\r\n                                            <pl-scroll {...scrollAttrs.value}>\r\n                                                {props.message || slots.popper()}\r\n                                            </pl-scroll>\r\n                                        ) : (props.message || slots.popper())}\r\n                                    </div>}\r\n                                </div>\r\n                            </div>\r\n                        </Teleport>}\r\n                    </>\r\n                )\r\n            }\r\n        }\r\n    },\r\n}, {\r\n    refreshPopperReference,\r\n})","import {createDefaultService} from \"../../root/createDefaultService\";\r\nimport {PopperServiceOption} from \"./index\";\r\nimport {nextTick, reactive, ref} from 'vue';\r\n\r\nexport const PopperService = createDefaultService({\r\n    name: 'pl-popper-service',\r\n    setup(option: PopperServiceOption) {\r\n\r\n        const isShow = ref(false)\r\n        const isOpen = ref(false)\r\n\r\n        const state = reactive({\r\n            option,\r\n        })\r\n\r\n        async function service(option: PopperServiceOption) {\r\n            if (!option.getService || option.getService !== getRefer) {\r\n                /*clear*/\r\n                state.option.getService = undefined\r\n                /*init*/\r\n                state.option = option\r\n                state.option.getService = getRefer\r\n                await nextTick()\r\n            }\r\n            show()\r\n        }\r\n\r\n        function show() {\r\n            isShow.value = true\r\n        }\r\n\r\n        function hide() {\r\n            isShow.value = false\r\n        }\r\n\r\n        const refer = {\r\n            state,\r\n            isShow,\r\n            isOpen,\r\n            service,\r\n            show,\r\n            hide,\r\n        }\r\n\r\n        const getRefer = () => refer\r\n\r\n        /*---------------------------------------handler-------------------------------------------*/\r\n\r\n        const handler = {\r\n            onClickBody: (e: MouseEvent) => {\r\n                if (state.option.hideOnClickBody !== false) {\r\n                    hide()\r\n                }\r\n            }\r\n        }\r\n\r\n        return {\r\n            refer,\r\n            render: () => (\r\n                <pl-popper\r\n                    v-model={isShow.value}\r\n                    {...{\r\n                        trigger: 'manual',\r\n                        reference: state.option.reference,\r\n                        'onUpdate:open': (val: boolean) => isOpen.value = val,\r\n                        ...handler,\r\n                        ...(state.option.popperAttrs || {}),\r\n                    }}\r\n                    v-slots={{\r\n                        popper: state.option.render,\r\n                    }}\r\n                />\r\n            )\r\n        }\r\n    },\r\n})","import {SimpleFunction, VNodeChild} from \"../../../shims\";\r\nimport {registryRootService, RootServiceScope} from \"../../root/registryRootService\";\r\nimport {createDefaultManager} from \"../../root/createDefaultManager\";\r\nimport {PopperService} from \"./popper-service\";\r\nimport {App, computed, reactive} from 'vue';\r\nimport {createPlainEvent, PlainEvent} from \"../../../plugins/Event\";\r\n\r\nexport interface PopperServiceOption {\r\n    reference: () => any,                                                   // popper reference 目标元素\r\n    render: () => VNodeChild,                                               // popper content 内容\r\n    popperAttrs: () => any,                                                 // pl-popper 属性或者监听的事件\r\n    getService?: () => typeof PopperService.use.class,                      // option被提供服务之后，service与option绑定关系\r\n    hideOnClickBody?: boolean,                                              // 是否点击外部body的时候自动关闭\r\n}\r\n\r\nconst getPopperService = registryRootService(\r\n    'popper',\r\n    createDefaultManager('pl-popper-manager', PopperService),\r\n    (getManager, ins) => {\r\n\r\n        return (option: PopperServiceOption) => {\r\n\r\n            /*---------------------------------------create popper agent-------------------------------------------*/\r\n            const state = reactive({option})\r\n            const service = computed(() => !state.option.getService ? null : state.option.getService())\r\n            const isShow = computed(() => !!service.value && service.value.isShow.value)\r\n            const isOpen = computed(() => !!service.value && service.value.isShow.value)\r\n            const agent = reactive({\r\n                isShow,\r\n                isOpen,\r\n                service,\r\n                show: () => !!agent.service ? agent.service.show() : getManager().then(manager => manager.service(state.option)),\r\n                hide: () => !!agent.service && agent.service.hide(),\r\n                toggle: () => isShow.value ? agent.hide() : agent.show(),\r\n                destroy: () => {\r\n                    agent.hide()\r\n                    state.option.getService = undefined\r\n                }\r\n            })\r\n\r\n            UnmountListener.on(ins, () => {\r\n                agent.hide()\r\n                state.option.getService = undefined\r\n            })\r\n\r\n            return agent\r\n        }\r\n    },\r\n    RootServiceScope.ins,\r\n)\r\n\r\nconst UnmountListener = (() => {\r\n\r\n    const map = new Map<string, PlainEvent>()\r\n    const EVENT_NAME = 'UnmountListener'\r\n\r\n    return {\r\n        /**\r\n         * 派发了beforeUnmount事件之后，组件已经销毁，所以event已经没有必要了，这里也要销毁event\r\n         * @author  韦胜健\r\n         * @date    2020/11/25 21:28\r\n         */\r\n        emit: (ctx: any) => {\r\n            const event = map.get(ctx._.uid)\r\n            if (!!event) {\r\n                event.emit(EVENT_NAME)\r\n                event.clear()\r\n                map.delete(ctx)\r\n            }\r\n        },\r\n        on: (ctx: any, handler: SimpleFunction) => {\r\n            let event = map.get(ctx._.uid)\r\n            if (!event) {\r\n                event = createPlainEvent()\r\n                map.set(ctx._.uid, event)\r\n            }\r\n            event.on(EVENT_NAME, handler)\r\n        },\r\n    }\r\n})();\r\n\r\nexport default {\r\n    install(app: App) {\r\n        app.mixin({\r\n            beforeCreate() {\r\n                Object.defineProperty(this, '$popper', {\r\n                    get() {\r\n                        return getPopperService(this)\r\n                    },\r\n                })\r\n            },\r\n            beforeUnmount() {\r\n                UnmountListener.emit(this)\r\n            }\r\n        })\r\n    },\r\n}","import Popper from './popper'\r\nimport PopperService from './service'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(Popper, {expose: {PopperService}, plugins: [PopperService]})","import {designComponent} from \"../../use/designComponent\";\r\nimport Scroll from './scroll'\r\nimport {reactive, computed, resolveDirective, withDirectives} from 'vue';\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {disabledUserSelect} from \"plain-utils/dom/disabledUserSelect\";\r\nimport {enableUserSelect} from \"plain-utils/dom/enableUserSelect\";\r\n\r\nexport const VerticalScrollbar = designComponent({\r\n    props: {\r\n        tooltip: {type: String},\r\n    },\r\n    setup({props}) {\r\n\r\n        const scroll = Scroll.use.inject()\r\n\r\n        const dragState = {\r\n            top: 0,\r\n            clientY: 0,\r\n        }\r\n\r\n        const state = reactive({\r\n            scrollTop: 0,\r\n        })\r\n\r\n        const height = computed(() => {\r\n            return scroll.state.contentHeight > scroll.state.hostHeight ?\r\n                (scroll.state.hostHeight * scroll.state.hostHeight / scroll.state.contentHeight)\r\n                : 0\r\n        })\r\n        const top = computed(() => {\r\n            return (scroll.state.hostHeight - height.value) * state.scrollTop / (scroll.state.contentHeight - scroll.state.hostHeight)\r\n        })\r\n\r\n        const styles = useStyles(() => {\r\n            return {\r\n                height: `${height.value}px`,\r\n                width: `${scroll.targetScrollbarSize.value}px`,\r\n                top: `${top.value}px`,\r\n                backgroundColor: scroll.props.scrollbarColor,\r\n            }\r\n        })\r\n\r\n        const handler = {\r\n            onScroll: (e: Event) => {\r\n                state.scrollTop = (e.target as HTMLElement).scrollTop\r\n            },\r\n            onMousedown: (e: MouseEvent) => {\r\n                scroll.freezeState.isDragging = true\r\n                dragState.top = top.value\r\n                dragState.clientY = e.clientY\r\n                document.addEventListener('mousemove', handler.onMousemove)\r\n                document.addEventListener('mouseup', handler.onMouseup)\r\n                disabledUserSelect()\r\n            },\r\n            onMousemove: (e: MouseEvent) => {\r\n                let deltaY = e.clientY - dragState.clientY\r\n                let top = dragState.top + deltaY\r\n                let scrollTop = top * (scroll.state.contentHeight - scroll.state.hostHeight) / (scroll.state.hostHeight - height.value)\r\n                scrollTop = Math.max(0, Math.min(scrollTop, scroll.state.contentHeight - scroll.state.hostHeight))\r\n                if (!scroll.props.scrollAfterDragEnd) {\r\n                    scroll.refs.wrapper.scrollTop = scrollTop\r\n                } else {\r\n                    /*滚动条发生位移，但是内容scrollTop暂时不变*/\r\n                    state.scrollTop = scrollTop\r\n                }\r\n            },\r\n            onMouseup: (e: MouseEvent) => {\r\n                scroll.freezeState.isDragging = false\r\n                document.removeEventListener('mousemove', handler.onMousemove)\r\n                document.removeEventListener('mouseup', handler.onMouseup)\r\n                enableUserSelect()\r\n\r\n                if (scroll.props.scrollAfterDragEnd) {\r\n                    let deltaY = e.clientY - dragState.clientY\r\n                    let top = dragState.top + deltaY\r\n                    scroll.refs.wrapper.scrollTop = top * (scroll.state.contentHeight - scroll.state.hostHeight) / (scroll.state.hostHeight - height.value)\r\n                }\r\n            },\r\n        }\r\n\r\n        scroll.on.onScroll(handler.onScroll)\r\n\r\n        return {\r\n            render: () => {\r\n\r\n                let content = <div class=\"pl-vertical-scrollbar\" style={styles.value} onMousedown={handler.onMousedown}/> as any\r\n                if (!!props.tooltip) {\r\n                    const TooltipDirective = resolveDirective('tooltip')\r\n                    if (!!TooltipDirective) {\r\n                        content = withDirectives(content, [[TooltipDirective, props.tooltip]])\r\n                    }\r\n                }\r\n\r\n                return (\r\n                    <div class=\"pl-vertical-scrollbar-wrapper\">\r\n                        {content}\r\n                    </div>\r\n                )\r\n            }\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport Scroll from \"./scroll\";\r\nimport {reactive, computed, withDirectives, resolveDirective} from 'vue';\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {disabledUserSelect} from \"plain-utils/dom/disabledUserSelect\";\r\nimport {enableUserSelect} from \"plain-utils/dom/enableUserSelect\";\r\n\r\nexport const HorizontalScrollbar = designComponent({\r\n    props: {\r\n        tooltip: {type: String},\r\n    },\r\n    setup({props}) {\r\n\r\n        const dragState = {\r\n            left: 0,\r\n            clientX: 0,\r\n        }\r\n\r\n        const scroll = Scroll.use.inject()\r\n\r\n        const state = reactive({\r\n            scrollLeft: 0,\r\n        })\r\n\r\n        const width = computed(() => {\r\n            return scroll.state.contentWidth > scroll.state.hostWidth ? (scroll.state.hostWidth * scroll.state.hostWidth) / scroll.state.contentWidth : 0\r\n        })\r\n        const left = computed(() => {\r\n            return (scroll.state.hostWidth - width.value) * state.scrollLeft / (scroll.state.contentWidth - scroll.state.hostWidth)\r\n        })\r\n        const styles = useStyles(() => ({\r\n            height: `${scroll.targetScrollbarSize.value}px`,\r\n            width: `${width.value}px`,\r\n            left: `${left.value}px`,\r\n            backgroundColor: scroll.props.scrollbarColor,\r\n        }))\r\n\r\n        const handler = {\r\n            onScroll: (e: Event) => {\r\n                state.scrollLeft = (e.target as HTMLElement).scrollLeft\r\n            },\r\n            onMousedown: (e: MouseEvent) => {\r\n                scroll.freezeState.isDragging = true\r\n                dragState.left = left.value\r\n                dragState.clientX = e.clientX\r\n                document.addEventListener('mousemove', handler.onMousemove)\r\n                document.addEventListener('mouseup', handler.onMouseup)\r\n                disabledUserSelect()\r\n            },\r\n            onMousemove: (e: MouseEvent) => {\r\n                let deltaX = e.clientX - dragState.clientX\r\n                const left = dragState.left + deltaX\r\n                let scrollLeft = left * (scroll.state.contentWidth - scroll.state.hostWidth) / (scroll.state.hostWidth - width.value)\r\n                scrollLeft = Math.max(0, Math.min(scrollLeft, scroll.state.contentWidth - scroll.state.hostWidth))\r\n                if (!scroll.props.scrollAfterDragEnd) {\r\n                    scroll.refs.wrapper.scrollLeft = scrollLeft\r\n                } else {\r\n                    state.scrollLeft = scrollLeft\r\n                }\r\n            },\r\n            onMouseup: (e: MouseEvent) => {\r\n                scroll.freezeState.isDragging = false\r\n                document.removeEventListener('mousemove', handler.onMousemove)\r\n                document.removeEventListener('mouseup', handler.onMouseup)\r\n                enableUserSelect()\r\n\r\n                if (scroll.props.scrollAfterDragEnd) {\r\n                    let deltaX = e.clientX - dragState.clientX\r\n                    const left = dragState.left + deltaX\r\n                    scroll.refs.wrapper.scrollLeft = left * (scroll.state.contentWidth - scroll.state.hostWidth) / (scroll.state.hostWidth - width.value)\r\n                }\r\n            },\r\n        }\r\n\r\n        scroll.on.onScroll(handler.onScroll)\r\n\r\n        return {\r\n            render: () => {\r\n                let content = <div class=\"pl-horizontal-scrollbar\" style={styles.value} onMousedown={handler.onMousedown}/> as any\r\n                if (!!props.tooltip) {\r\n                    const TooltipDirective = resolveDirective('tooltip')\r\n                    if (!!TooltipDirective) {\r\n                        content = withDirectives(content, [[TooltipDirective, props.tooltip]])\r\n                    }\r\n                }\r\n                return (\r\n                    <div class=\"pl-horizontal-scrollbar-wrapper\">\r\n                        {content}\r\n                    </div>\r\n                )\r\n            }\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport {useMounted} from \"../../use/useMounted\";\r\nimport {computed, nextTick, onBeforeUnmount, onMounted, reactive, watch} from 'vue';\r\nimport {throttle} from 'plain-utils/utils/throttle';\r\nimport {ResizeDetectFuncParam, ResizeDetectorDirective} from \"../../plugins/ResizeDetector\";\r\nimport Popper from '../popper'\r\nimport './scroll.scss'\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {VerticalScrollbar} from \"./vertical-scrollbar\";\r\nimport {HorizontalScrollbar} from \"./horizontal-scrollbar\";\r\nimport {delay} from \"plain-utils/utils/delay\";\r\nimport {debounce} from \"plain-utils/utils/debounce\";\r\n\r\nexport const enum PLAIN_SCROLL_VERTICAL_POSITION {\r\n    top = 'top',\r\n    center = 'center',\r\n    bottom = 'bottom'\r\n}\r\n\r\nconst Scroll = designComponent({\r\n    name: 'pl-scroll',\r\n    directives: {resize: ResizeDetectorDirective},\r\n    props: {\r\n        refreshState: {},                                                                               // 监听改属性，以便自动执行refresh刷新\r\n        scrollbarSize: {type: Number},                                                                  // 滚动条大小\r\n        scrollbarColor: {type: String, default: 'rgba(144,147,153,.3)'},                                // 滚动条颜色\r\n        scrollX: {type: Boolean},                                                                       // 可以横向滚动\r\n        scrollY: {type: Boolean, default: true},                                                        // 可以纵向滚动\r\n        hideScrollbar: {type: Boolean},                                                                 // 隐藏滚动条\r\n        alwaysShowScrollbar: {type: Boolean},                                                           // 一直显示滚动条\r\n        fitContentWidth: {type: Boolean},                                                               // 适配内容宽度\r\n        fitContentHeight: {type: Boolean},                                                              // 适配内容高度\r\n        fitHostWidth: {type: Boolean},                                                                  // 适配容器宽度\r\n        fitHostHeight: {type: Boolean},                                                                 // 适配容器高度\r\n        topThreshold: {type: Number, default: 20},                                                      // 距离顶部多少距离派发滚动到顶部事件\r\n        bottomThreshold: {type: Number, default: 20},                                                   // 距离底部多少距离派发滚动到底部事件\r\n        autoScrollSpeed: {type: Number, default: 400},                                                  // 自动滚动的时候的速度，每秒钟滚动的距离\r\n        scrollAfterDragEnd: {type: Boolean,},                                                           // 是否拖拽结束后才刷新滚动位置\r\n        disableListTransition: {type: Boolean,},                                                        // 是否股弄懂的时候禁用pl-list的队列动画\r\n        horizontalScrollbarTooltip: {type: String},                                                     // 横向滚动条tooltip显示文本\r\n        verticalScrollbarTooltip: {type: String},                                                       // 纵向滚动条tooltip显示文本\r\n    },\r\n    emits: {\r\n        onScroll: (e: Event) => true,\r\n        onVerticalScrollTop: (e: Event) => true,\r\n        onVerticalScrollBottom: (e: Event) => true,\r\n        onVerticalScrollCenter: (e: Event) => true,\r\n    },\r\n    provideRefer: true,\r\n    setup({props, event: {emit, on, off}}) {\r\n\r\n        const {slots} = useSlots(['content'])\r\n\r\n        /*---------------------------------------ref-------------------------------------------*/\r\n\r\n        const {refs} = useRefs({\r\n            host: HTMLDivElement,\r\n            wrapper: HTMLDivElement,\r\n            content: HTMLDivElement,\r\n        })\r\n\r\n        /*---------------------------------------state-------------------------------------------*/\r\n\r\n        const mounted = useMounted()\r\n        const popper = Popper.use.inject(null)\r\n        /*非响应式状态*/\r\n        const freezeState = {\r\n            verticalPosition: PLAIN_SCROLL_VERTICAL_POSITION.top,               // 当前滚动纵向位置，top，center，right\r\n            cancelAnimate: null as null | number,                               // 自动滚动动画计时器\r\n            wrapperScrollTop: 0,                                                // 容器 scrollTop\r\n            wrapperScrollLeft: 0,                                               // 容器 scrollLeft\r\n            emitScroll: true,                                                   // 当前是否派发scroll事件\r\n\r\n            _isDragging: false,\r\n            get isDragging() {\r\n                return this._isDragging\r\n            },\r\n            set isDragging(val: boolean) {\r\n                this._isDragging = val\r\n                if (val) {\r\n                    refs.host.setAttribute('is-dragging', '')\r\n                } else {\r\n                    refs.host.removeAttribute('is-dragging')\r\n                }\r\n            },\r\n        }\r\n        const state = reactive({\r\n            contentWidth: 0,                                                    // 内容宽度\r\n            contentHeight: 0,                                                   // 内容高度\r\n            hostWidth: 0,                                                       // 容器宽度\r\n            hostHeight: 0,                                                      // 容器高度\r\n        })\r\n\r\n        /*---------------------------------------computed-------------------------------------------*/\r\n\r\n        const targetScrollbarSize = computed(() => {\r\n            if (!props.scrollX) {\r\n                return props.scrollbarSize || 6\r\n            } else {\r\n                return props.scrollbarSize || 9\r\n            }\r\n        })\r\n\r\n        const classes = computed(() => [\r\n            `pl-scroll`,\r\n            {\r\n                'pl-scroll-always-show-scroll-bar': props.alwaysShowScrollbar,\r\n            }\r\n        ])\r\n\r\n        const hostStyles = useStyles(style => {\r\n            if (!mounted.value) return style\r\n            if (props.fitContentHeight) {\r\n                style.height = `${state.contentHeight}px`\r\n            }\r\n            return style\r\n        })\r\n\r\n        const wrapperStyles = useStyles(style => {\r\n            if (!mounted.value) return style\r\n            if (props.fitContentHeight) {\r\n                style.height = `${state.contentHeight + 17}px`\r\n            }\r\n            return style\r\n        })\r\n\r\n        const contentStyles = useStyles(style => {\r\n            if (!mounted.value) return style\r\n            if (!props.scrollX) {\r\n                style.width = props.fitContentWidth && state.contentWidth > 0 ? `${state.contentWidth}px` : `100%`;\r\n                style.overflowX = 'hidden'\r\n            }\r\n\r\n            if (!props.scrollY) {\r\n                style.height = props.fitContentHeight && state.contentHeight > 0 ? `${state.contentHeight}px` : `100%`;\r\n                style.overflowY = 'hidden'\r\n            }\r\n\r\n            if (props.fitHostHeight) {\r\n                style.height = '100%'\r\n            }\r\n            if (props.fitHostWidth) {\r\n                style.width = '100%'\r\n            }\r\n            if (props.fitContentWidth) {\r\n                style.width = `${state.contentWidth}px`\r\n            }\r\n            if (props.fitContentHeight) {\r\n                style.height = `${state.contentHeight}px`\r\n            }\r\n\r\n            return style\r\n        })\r\n\r\n        /*---------------------------------------methods-------------------------------------------*/\r\n\r\n\r\n        const methods = {\r\n            refresh: async () => {\r\n                await nextTick()\r\n\r\n                const {scrollWidth: width1, scrollHeight: height1} = refs.content\r\n                handler.contentResize({\r\n                    width: Math.ceil(width1),\r\n                    height: Math.ceil(height1),\r\n                })\r\n\r\n                const {scrollWidth: width2, scrollHeight: height2} = refs.host\r\n                handler.hostResize({\r\n                    width: Math.ceil(width2),\r\n                    height: Math.ceil(height2),\r\n                })\r\n            },\r\n            /**\r\n             * 滚动到指定位置\r\n             * @author  韦胜健\r\n             * @date    2020/12/7 12:20\r\n             * @param   point\r\n             * @param   point.x             // 滚动scrollLeft值\r\n             * @param   point.y             // 滚动scrollTop值\r\n             * @param   configOrTime        // number|{ time?: number, noEmitScroll?: boolean }\r\n             * @param   configOrTime.time   // 滚动的时间\r\n             * @param   configOrTime.noEmitScroll //滚动期间不派发scroll事件\r\n             */\r\n            async scroll(point: { x?: number, y?: number }, configOrTime?: number | { time?: number, noEmitScroll?: boolean }) {\r\n\r\n                if (!refs.wrapper) return\r\n\r\n                const config = typeof configOrTime === \"number\" ? {time: configOrTime} : configOrTime\r\n                const {time, noEmitScroll} = (config || {})\r\n\r\n                // if (point.x != null) this.wrapper!.scrollLeft = point.x\r\n                // if (point.y != null) this.wrapper!.scrollTop = point.y\r\n\r\n                if (noEmitScroll) {\r\n                    freezeState.emitScroll = false\r\n                }\r\n                const done = () => noEmitScroll && (freezeState.emitScroll = true)\r\n\r\n                if (!time) {\r\n                    if (point.x != null) refs.wrapper!.scrollLeft = point.x\r\n                    if (point.y != null) refs.wrapper!.scrollTop = point.y\r\n                    await delay(23)\r\n                    done()\r\n                } else {\r\n\r\n                    if (!!freezeState.cancelAnimate) {\r\n                        cancelAnimationFrame(freezeState.cancelAnimate)\r\n                        freezeState.cancelAnimate = null\r\n                    }\r\n\r\n                    let ny = refs.wrapper!.scrollTop\r\n                    let nx = refs.wrapper!.scrollLeft\r\n\r\n                    let ky = (point.y! - ny) / time\r\n                    let kx = (point.x! - nx) / time\r\n\r\n                    let startTime = Date.now()\r\n                    const run = async () => {\r\n                        let nowTime = Date.now()\r\n                        let delta = nowTime - startTime\r\n                        let top;\r\n                        let left;\r\n\r\n                        if (delta >= time) {\r\n                            freezeState.cancelAnimate = null\r\n                            top = time * ky + ny\r\n                            left = time * kx + nx\r\n\r\n                            if (!!refs.wrapper) {\r\n                                refs.wrapper.scrollTop = top\r\n                                refs.wrapper.scrollLeft = left\r\n                                await delay(23)\r\n                                done()\r\n                            }\r\n                        } else {\r\n                            top = delta * ky + ny\r\n                            left = delta * kx + nx\r\n\r\n                            if (!!refs.wrapper) {\r\n                                refs.wrapper.scrollTop = top\r\n                                refs.wrapper.scrollLeft = left\r\n                            }\r\n                            freezeState.cancelAnimate = requestAnimationFrame(run)\r\n                        }\r\n                    }\r\n                    run()\r\n                }\r\n            },\r\n            scrollTop(scrollTop: number, time?: number) {\r\n                methods.scroll({y: scrollTop}, {time})\r\n            },\r\n            scrollLeft(scrollLeft: number, time?: number) {\r\n                methods.scroll({x: scrollLeft}, {time})\r\n            },\r\n            scrollEnd(point: { x: boolean, y?: boolean } = {x: true, y: true}) {\r\n                methods.scroll({\r\n                    x: point.x ? refs.wrapper!.scrollWidth : undefined,\r\n                    y: point.y ? refs.wrapper!.scrollHeight : undefined,\r\n                })\r\n            },\r\n            autoScrollTop() {\r\n                const {hostHeight, contentHeight} = state\r\n                const {wrapperScrollTop} = freezeState\r\n                const scrollHeight = contentHeight - hostHeight\r\n                if (scrollHeight <= 0) {\r\n                    return\r\n                }\r\n                const height = wrapperScrollTop\r\n                if (height <= 0) {\r\n                    return\r\n                }\r\n                const duration = (height / props.autoScrollSpeed) * 1000\r\n                methods.scrollTop(0, duration)\r\n            },\r\n            autoScrollBottom() {\r\n                const {hostHeight, contentHeight} = state\r\n                const {wrapperScrollTop} = freezeState\r\n                const scrollHeight = contentHeight - hostHeight\r\n                if (scrollHeight <= 0) {\r\n                    return\r\n                }\r\n                const height = scrollHeight - wrapperScrollTop\r\n                if (height <= 0) {\r\n                    return\r\n                }\r\n                const duration = (height / props.autoScrollSpeed) * 1000\r\n                methods.scrollTop(scrollHeight, duration)\r\n            },\r\n            autoScrollLeft() {\r\n                const {hostWidth, contentWidth} = state\r\n                const {wrapperScrollLeft} = freezeState\r\n                const scrollWidth = contentWidth - hostWidth\r\n                if (scrollWidth <= 0) {\r\n                    return\r\n                }\r\n                const width = wrapperScrollLeft\r\n                if (width <= 0) {\r\n                    return\r\n                }\r\n                const duration = (width / props.autoScrollSpeed) * 1000\r\n                methods.scrollLeft(0, duration)\r\n            },\r\n            autoScrollRight() {\r\n                const {hostWidth, contentWidth} = state\r\n                const {wrapperScrollLeft} = freezeState\r\n                const scrollWidth = contentWidth - hostWidth\r\n                if (scrollWidth <= 0) {\r\n                    return\r\n                }\r\n                const width = scrollWidth - wrapperScrollLeft\r\n                if (width <= 0) {\r\n                    return\r\n                }\r\n                const duration = (width / props.autoScrollSpeed) * 1000\r\n                methods.scrollLeft(scrollWidth, duration)\r\n            },\r\n            stopAutoScroll() {\r\n                if (!!freezeState.cancelAnimate) {\r\n                    cancelAnimationFrame(freezeState.cancelAnimate)\r\n                    freezeState.cancelAnimate = null\r\n                }\r\n            },\r\n            /**\r\n             * 禁用pl-list的队列动画，300ms后恢复正常\r\n             * @author  韦胜健\r\n             * @date    2020/12/15 10:16\r\n             */\r\n            disableListTransition: (() => {\r\n                const disabledQueueAnimation = debounce(() => refs.host.removeAttribute('virtual-scrolling'), 300, true)\r\n                return () => {\r\n                    refs.host.setAttribute('virtual-scrolling', '')\r\n                    disabledQueueAnimation();\r\n                }\r\n            })(),\r\n        }\r\n\r\n\r\n        /*---------------------------------------handler-------------------------------------------*/\r\n\r\n        const handler = {\r\n            windowResize: throttle(() => methods.refresh(), 500),\r\n            popperOpen: () => methods.refresh(),\r\n            popperShow: async () => {\r\n                await nextTick()\r\n                methods.scroll({y: 0})\r\n            },\r\n            contentResize: (data: ResizeDetectFuncParam) => {\r\n                if (data.width != null) state.contentWidth = data.width\r\n                if (data.height != null) state.contentHeight = data.height\r\n            },\r\n            hostResize: (data: ResizeDetectFuncParam) => {\r\n                if (data.width != null) state.hostWidth = data.width - 16\r\n                if (data.height != null) state.hostHeight = data.height - 16\r\n            },\r\n            wrapperMousewheel: (e: WheelEvent) => {\r\n                if (!!freezeState.cancelAnimate) {\r\n                    cancelAnimationFrame(freezeState.cancelAnimate)\r\n                    freezeState.cancelAnimate = null\r\n                }\r\n            },\r\n            wrapperScroll: (e: Event) => {\r\n                const target = e.target as HTMLElement\r\n                freezeState.wrapperScrollTop = target.scrollTop\r\n                freezeState.wrapperScrollLeft = target.scrollLeft\r\n\r\n                if (freezeState.emitScroll) {\r\n                    emit.onScroll(e)\r\n                }\r\n\r\n                if (freezeState.verticalPosition === PLAIN_SCROLL_VERTICAL_POSITION.top && freezeState.wrapperScrollTop > props.topThreshold!) {\r\n                    /*进入center*/\r\n                    emit.onVerticalScrollCenter(e)\r\n                    freezeState.verticalPosition = PLAIN_SCROLL_VERTICAL_POSITION.center\r\n                } else if (freezeState.verticalPosition === PLAIN_SCROLL_VERTICAL_POSITION.center) {\r\n                    // console.log(this.contentHeight - this.hostHeight - this.contentWrapperScrollTop, this.bottomScrollDuration)\r\n                    if (freezeState.wrapperScrollTop < props.topThreshold!) {\r\n                        /*进入top*/\r\n                        emit.onVerticalScrollTop(e)\r\n                        freezeState.verticalPosition = PLAIN_SCROLL_VERTICAL_POSITION.top\r\n                    } else if (state.contentHeight - state.hostHeight - freezeState.wrapperScrollTop < props.bottomThreshold!) {\r\n                        /*进入bottom*/\r\n                        emit.onVerticalScrollBottom(e)\r\n                        freezeState.verticalPosition = PLAIN_SCROLL_VERTICAL_POSITION.bottom\r\n                    }\r\n\r\n                } else if (freezeState.verticalPosition === PLAIN_SCROLL_VERTICAL_POSITION.bottom) {\r\n                    if (state.contentHeight - state.hostHeight - freezeState.wrapperScrollTop > props.bottomThreshold!) {\r\n                        /*进入center*/\r\n                        emit.onVerticalScrollCenter(e)\r\n                        freezeState.verticalPosition = PLAIN_SCROLL_VERTICAL_POSITION.center\r\n                    }\r\n                }\r\n\r\n                if (props.disableListTransition) {\r\n                    methods.disableListTransition()\r\n                }\r\n            },\r\n        }\r\n\r\n        /*---------------------------------------lifecycle-------------------------------------------*/\r\n\r\n        onMounted(() => {\r\n            window.addEventListener('resize', handler.windowResize)\r\n            if (!!popper) {\r\n                popper.event.on.onOpen(handler.popperOpen)\r\n                popper.event.on.onShow(handler.popperShow)\r\n            }\r\n        })\r\n\r\n        onBeforeUnmount(() => {\r\n            window.removeEventListener('resize', handler.windowResize)\r\n            if (!!popper) {\r\n                popper.event.off.onOpen(handler.popperOpen)\r\n                popper.event.off.onShow(handler.popperShow)\r\n            }\r\n        })\r\n\r\n        watch(() => props.refreshState, methods.refresh)\r\n\r\n        return {\r\n            refer: {\r\n                props,\r\n                on, off,\r\n                targetScrollbarSize,\r\n                refs,\r\n                slots,\r\n                handler,\r\n                methods,\r\n                state,\r\n                freezeState,\r\n            },\r\n            render: () => (\r\n                <div ref=\"host\"\r\n                     class={classes.value}\r\n                     v-resize={handler.hostResize}\r\n                     style={hostStyles.value as any}>\r\n                    <div ref=\"wrapper\"\r\n                         class=\"pl-scroll-wrapper\"\r\n                         style={wrapperStyles.value as any}\r\n                         onScroll={handler.wrapperScroll}\r\n                         {...{onMousewheel: handler.wrapperMousewheel}}>\r\n                        <div ref=\"content\"\r\n                             class=\"pl-scroll-content\"\r\n                             style={contentStyles.value as any}\r\n                             v-resize={handler.contentResize}>\r\n                            {slots.default()}\r\n                        </div>\r\n                        {slots.content()}\r\n                    </div>\r\n\r\n                    {\r\n                        !props.hideScrollbar && props.scrollY && (\r\n                            <div class=\"pl-vertical-scrollbar-wrapper\">\r\n                                {<VerticalScrollbar tooltip={props.verticalScrollbarTooltip}/>}\r\n                            </div>\r\n                        )\r\n                    }\r\n                    {\r\n                        !props.hideScrollbar && props.scrollX && (\r\n                            <div class=\"pl-horizontal-scrollbar-wrapper\">\r\n                                {<HorizontalScrollbar tooltip={props.horizontalScrollbarTooltip}/>}\r\n                            </div>\r\n                        )\r\n                    }\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})\r\n\r\nexport type PlainScroll = typeof Scroll.use.class\r\n\r\nexport default Scroll","import scroll from './scroll'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(scroll)","import {createApp} from 'vue'\r\nimport {ComponentPlugin} from \"../shims\";\r\nimport {installPlugin} from \"./installPlugin\";\r\n\r\nexport function newInstance<Component>(component: Component, config: {\r\n    el?: HTMLElement,\r\n    parentNode?: HTMLElement,\r\n    plugins?: ComponentPlugin[],\r\n} = {}) {\r\n    let {el, parentNode} = config\r\n    if (!el) {\r\n        el = document.createElement('div')\r\n        if (!!parentNode) {\r\n            parentNode.appendChild(el)\r\n        } else {\r\n            document.body.appendChild(el)\r\n        }\r\n    }\r\n    const app = createApp(component)\r\n    if (!!config.plugins) {\r\n        config.plugins.forEach(plugin => installPlugin(app, plugin))\r\n    }\r\n    const ins = app.mount(el) as Component extends { use: { class: infer C } } ? C : any\r\n    return {\r\n        app,\r\n        ins,\r\n        el,\r\n    }\r\n}","import {Directive, reactive, App} from 'vue';\r\nimport {designComponent} from \"../../../use/designComponent\";\r\nimport {newInstance} from \"../../../utils/newInstance\";\r\nimport LoadingMaskPlugin from '../../loading-mask'\r\nimport LoadingPlugin from '../../loading'\r\n\r\ntype LoadingMaskBinding = boolean | {\r\n    modelValue?: boolean,\r\n    message?: boolean,\r\n    loadingType?: 'alpha' | 'beta' | 'gamma' | 'delta',\r\n    background?: string,\r\n    unlock?: boolean,\r\n}\r\n\r\nconst Mask = designComponent({\r\n    setup() {\r\n        const state = reactive({\r\n            option: null as null | LoadingMaskBinding & { modelValue?: boolean }\r\n        })\r\n        return {\r\n            refer: {\r\n                update: (option: LoadingMaskBinding) => {\r\n                    state.option = typeof option === \"object\" ?\r\n                        {\r\n                            ...option,\r\n                            modelValue: option.modelValue === undefined ? true : option.modelValue\r\n                        }\r\n                        : {modelValue: option}\r\n                }\r\n            },\r\n            render: () => (\r\n                !!state.option ? <pl-loading-mask {...state.option} inDirective/> : null\r\n            )\r\n        }\r\n    },\r\n})\r\n\r\nclass LoadingMask {\r\n\r\n    mask?: {\r\n        app: App,\r\n        ins: typeof Mask.use.class,\r\n        el: HTMLElement\r\n    }\r\n\r\n    constructor(private el: HTMLElement) {}\r\n\r\n    update(binding: LoadingMaskBinding) {\r\n        const flag = typeof binding === \"object\" ? true : binding\r\n        flag ? this.show(binding) : this.hide()\r\n    }\r\n\r\n    show(binding: LoadingMaskBinding) {\r\n        if (!this.mask) {\r\n            this.mask = newInstance(Mask, {\r\n                parentNode: this.el,\r\n                plugins: [\r\n                    LoadingPlugin,\r\n                    LoadingMaskPlugin\r\n                ]\r\n            })\r\n        }\r\n        this.mask.ins.update(binding)\r\n    }\r\n\r\n    hide() {\r\n        if (!!this.mask) {\r\n            this.mask.ins.update(false)\r\n        }\r\n    }\r\n\r\n    destroy() {\r\n        if (!!this.mask) {\r\n            this.mask.app.unmount(this.mask.el)\r\n        }\r\n    }\r\n}\r\n\r\nconst directive = (() => {\r\n    let map = new WeakMap<HTMLElement, LoadingMask>()\r\n    return {\r\n        active: (el: HTMLElement, binding: { value: LoadingMaskBinding }) => {\r\n            // console.log('active', binding.value);\r\n            const flag = typeof binding.value === \"object\" ? true : binding.value\r\n            let loadingMask = map.get(el)\r\n            if (flag) {\r\n                /*第一次显示的时候才创建实例*/\r\n                if (!loadingMask) {\r\n                    loadingMask = new LoadingMask(el)\r\n                    map.set(el, loadingMask)\r\n                }\r\n                loadingMask.update(binding.value)\r\n            } else {\r\n                if (!!loadingMask) {\r\n                    loadingMask.update(binding.value)\r\n                }\r\n            }\r\n        },\r\n        inactive: (el: HTMLElement) => {\r\n            // console.log('inactive');\r\n            const loadingMask = map.get(el)\r\n            if (!!loadingMask) {\r\n                loadingMask.destroy()\r\n            }\r\n        }\r\n    }\r\n})()\r\n\r\nexport const LoadingMaskDirective: Directive = {\r\n    mounted: directive.active,\r\n    updated: directive.active,\r\n    beforeUnmount: directive.inactive,\r\n}","import Service from './loading-bar-service'\r\nimport {createDefaultManager} from \"../../root/createDefaultManager\";\r\nimport {registryRootService} from \"../../root/registryRootService\";\r\nimport {RequireFormat} from \"../../../shims\";\r\n\r\nexport interface LoadingBarOption {\r\n    color?: string,\r\n    doneColor?: string,\r\n    failColor?: string,\r\n    height?: number,\r\n    percent?: number,\r\n    autoStart?: boolean,\r\n    autoProcess?: boolean,\r\n}\r\n\r\nexport type LoadingBarFormatOption = RequireFormat<LoadingBarOption,\r\n    \"color\" | \"doneColor\" | \"failColor\" | \"height\" | \"percent\" | \"autoStart\" | \"autoProcess\">\r\n\r\nexport interface LoadingBarHandler {\r\n    init: (option: LoadingBarOption) => void,\r\n    update: (option: LoadingBarOption) => void,\r\n    start: () => void,\r\n    done: () => void,\r\n    fail: () => void,\r\n}\r\n\r\nexport enum LoadingBarStatus {\r\n    wait = 'wait',\r\n    process = 'process',\r\n    done = 'done',\r\n    fail = 'fail',\r\n}\r\n\r\nfunction formatOption(option: LoadingBarOption): LoadingBarFormatOption {\r\n    return Object.assign(option, {\r\n        color: option.color || 'primary',\r\n        doneColor: option.doneColor || 'primary',\r\n        failColor: option.failColor || 'error',\r\n        percent: option.percent || 0,\r\n        height: option.height || 4,\r\n        autoStart: option.autoStart == null ? true : option.autoStart,\r\n        autoProcess: option.autoProcess == null ? true : option.autoProcess,\r\n    }) as LoadingBarFormatOption\r\n}\r\n\r\nexport const getLoadingBarService = registryRootService(\r\n    'loading-bar',\r\n    createDefaultManager('pl-loading-bar-manager', Service),\r\n    getManager => {\r\n        return (option?: LoadingBarOption): LoadingBarFormatOption & LoadingBarHandler => {\r\n            const fo = formatOption(option || {})\r\n            getManager().then(manager => manager.service(fo))\r\n            return fo as any\r\n        }\r\n    }\r\n)","import {LoadingMaskServiceFormatOption} from \"./index\";\r\nimport {reactive, ref} from 'vue';\r\nimport {createDefaultService} from \"../../root/createDefaultService\";\r\n\r\nexport default createDefaultService({\r\n    name: 'loading-mask-service',\r\n    setup: (option: LoadingMaskServiceFormatOption) => {\r\n        const isShow = ref(false)\r\n\r\n        const state = reactive({\r\n            option,\r\n            key: 0,\r\n        })\r\n\r\n        const hide = () => isShow.value = false\r\n\r\n        const service = (option: LoadingMaskServiceFormatOption) => {\r\n            option.close = hide\r\n            state.option = option\r\n            state.key++\r\n            isShow.value = true\r\n            return hide\r\n        }\r\n\r\n        return {\r\n            refer: {\r\n                isShow,\r\n                isOpen: isShow,\r\n                service,\r\n            },\r\n            render: () => {\r\n                return (\r\n                    <pl-loading-mask\r\n                        key={state.key}\r\n                        v-model={isShow.value}\r\n                        message={state.option.message}\r\n                        loadingType={state.option.loadingType}\r\n                        background={state.option.background}\r\n                        unlock={state.option.unlock}\r\n                        fixedPosition\r\n                    />\r\n                )\r\n            }\r\n        }\r\n    }\r\n})","import Service from './loading-mask-service'\r\nimport {registryRootService} from \"../../root/registryRootService\";\r\nimport {createDefaultManager} from \"../../root/createDefaultManager\";\r\n\r\nexport interface LoadingMaskServiceOption {\r\n    message?: string,\r\n    loadingType?: string,\r\n    background?: string,\r\n    unlock?: boolean,\r\n}\r\n\r\nexport interface LoadingMaskServiceFormatOption extends LoadingMaskServiceOption {\r\n    close: () => void\r\n}\r\n\r\nexport const getLoadingMaskService = registryRootService(\r\n    'loading',\r\n    createDefaultManager('pl-loading-mask-manager', Service),\r\n    (getManager) => {\r\n        return (option: LoadingMaskServiceOption): LoadingMaskServiceFormatOption => {\r\n            option = option || {};\r\n            getManager().then(manager => manager.service(option as LoadingMaskServiceFormatOption));\r\n            return option as LoadingMaskServiceFormatOption\r\n        }\r\n    }\r\n)","import {createDefaultService} from \"../../root/createDefaultService\";\r\nimport {computed, reactive, ref} from 'vue';\r\nimport {LoadingBarFormatOption, LoadingBarStatus} from \"./index\";\r\nimport {StyleProperties} from \"../../../shims\";\r\nimport {nextIndex} from \"../../../utils/nextIndex\";\r\nimport {delay} from \"plain-utils/utils/delay\";\r\n\r\nexport default createDefaultService({\r\n    name: 'pl-loading-bar-service',\r\n    setup(option: LoadingBarFormatOption) {\r\n\r\n        const isShow = ref(false)\r\n\r\n        const state = reactive({\r\n            status: LoadingBarStatus.wait,\r\n            option: option as LoadingBarFormatOption | null,\r\n            zIndex: 0,\r\n            interval: null as null | number,\r\n            autoLoadingStep: 5,\r\n            startDelayer: null as null | number,\r\n        })\r\n\r\n        const color = computed(() => {\r\n            switch (state.status) {\r\n                case LoadingBarStatus.wait:\r\n                    return null\r\n                case LoadingBarStatus.process:\r\n                    return state.option!.color\r\n                case LoadingBarStatus.done:\r\n                    return state.option!.doneColor\r\n                case LoadingBarStatus.fail:\r\n                    return state.option!.failColor\r\n            }\r\n        })\r\n\r\n        const status = ['primary', 'success', 'warn', 'error', 'info']\r\n\r\n        const classes = computed(() => [\r\n            'pl-loading-bar-service',\r\n            {\r\n                [`pl-loading-bar-service-status-${color.value}`]: !!color.value && status.indexOf(color.value) > -1\r\n            }\r\n        ])\r\n\r\n        const styles = computed(() => {\r\n            if (!state.option) return {} as StyleProperties\r\n            return {\r\n                height: `${state.option.height}px`,\r\n                width: `${state.option!.percent}%`,\r\n                backgroundColor: (!!color.value && status.indexOf(color.value) === -1) ? color.value : '',\r\n                opacity: state.status === LoadingBarStatus.wait ? '0' : '1',\r\n                zIndex: String(state.zIndex),\r\n            } as StyleProperties\r\n        })\r\n\r\n        const methods = {\r\n            /**\r\n             * 开始自动播放进度\r\n             * @author  韦胜健\r\n             * @date    2020/9/25 21:16\r\n             */\r\n            startAutoLoading: () => {\r\n                state.autoLoadingStep = 10\r\n                state.interval = setInterval(() => {\r\n                    if (!!state.option) {\r\n                        if (state.option.percent == null) {\r\n                            state.option.percent = 0\r\n                        }\r\n                        state.option.percent += state.autoLoadingStep\r\n                        state.autoLoadingStep -= 0.5\r\n                        if (state.option.percent + 20 > 100 || state.autoLoadingStep < 0) {\r\n                            methods.stopAutoLoading()\r\n                        }\r\n                    } else {\r\n                        methods.stopAutoLoading()\r\n                    }\r\n                }, 250)\r\n            },\r\n            /**\r\n             * 停止自动播放进度\r\n             * @author  韦胜健\r\n             * @date    2020/9/25 21:16\r\n             */\r\n            stopAutoLoading: () => {\r\n                if (!!state.interval) {\r\n                    clearInterval(state.interval)\r\n                    state.interval = null\r\n                }\r\n            },\r\n            /**\r\n             * 初始化option\r\n             * @author  韦胜健\r\n             * @date    2020/9/25 21:16\r\n             */\r\n            init: (option: LoadingBarFormatOption) => {\r\n                state.option = option\r\n                Object.assign(option, methods)\r\n                return methods\r\n            },\r\n            /**\r\n             * 更新option\r\n             * @author  韦胜健\r\n             * @date    2020/9/25 21:16\r\n             */\r\n            update: (option: LoadingBarFormatOption) => {\r\n                if (!!state.option) {\r\n                    Object.assign(state.option, option)\r\n                }\r\n                methods.stopAutoLoading()\r\n            },\r\n            /**\r\n             * 开始loading\r\n             * @author  韦胜健\r\n             * @date    2020/9/25 21:16\r\n             */\r\n            start: async () => {\r\n                state.startDelayer = setTimeout(async () => {\r\n                    if (!state.option) {\r\n                        return\r\n                    }\r\n\r\n                    const percent = state.option.percent\r\n                    isShow.value = true\r\n                    state.option.percent = 0\r\n\r\n                    state.status = LoadingBarStatus.process\r\n                    state.zIndex = nextIndex()\r\n\r\n                    await delay(23)\r\n                    state.option.percent = percent\r\n\r\n                    if (state.option!.autoProcess) {\r\n                        methods.startAutoLoading()\r\n                    }\r\n                }, 100)\r\n            },\r\n            /**\r\n             * 加载完成\r\n             * @author  韦胜健\r\n             * @date    2020/9/25 21:16\r\n             */\r\n            done: async () => {\r\n                state.status = LoadingBarStatus.done\r\n                await methods.complete()\r\n            },\r\n            /**\r\n             * 加载失败\r\n             * @author  韦胜健\r\n             * @date    2020/9/25 21:16\r\n             */\r\n            fail: async () => {\r\n                state.status = LoadingBarStatus.fail\r\n                await methods.complete()\r\n            },\r\n            complete: async () => {\r\n                if (!state.option) {\r\n                    return\r\n                }\r\n                if (state.startDelayer != null) {\r\n                    clearTimeout(state.startDelayer)\r\n                    state.startDelayer = null\r\n                }\r\n                methods.stopAutoLoading()\r\n                state.option!.percent = 100\r\n                await delay(300)\r\n                state.status = LoadingBarStatus.wait\r\n                await delay(300)\r\n                isShow.value = false\r\n                state.option = null\r\n            },\r\n        };\r\n\r\n\r\n        const service = (option: LoadingBarFormatOption) => {\r\n            methods.init(option)\r\n            if (!!option.autoStart) {\r\n                methods.start()\r\n            }\r\n        }\r\n\r\n        return {\r\n            refer: {\r\n                isShow,\r\n                isOpen: isShow,\r\n                service,\r\n            },\r\n            render: () => isShow.value && (\r\n                <div class={classes.value} style={styles.value as any}/>\r\n            )\r\n        }\r\n    },\r\n})","import Loading from '../loading'\r\nimport LoadingMask from '../loading-mask'\r\nimport {App} from 'vue';\r\nimport {installPlugin} from \"../../utils/installPlugin\";\r\nimport {LoadingMaskDirective} from \"./mask/loading-mask-directive\";\r\nimport {getLoadingMaskService} from \"./mask\";\r\nimport {getLoadingBarService} from \"./bar\";\r\nimport './loading-service.scss'\r\n\r\nexport default {\r\n    install(app: App) {\r\n        installPlugin(app, Loading)\r\n        installPlugin(app, LoadingMask)\r\n        app.directive('loading', LoadingMaskDirective)\r\n        app.mixin({\r\n            beforeCreate() {\r\n                Object.defineProperty(this, '$loading', {\r\n                    get() {\r\n                        return {\r\n                            mask: getLoadingMaskService(this),\r\n                            bar: getLoadingBarService(this),\r\n                        }\r\n                    },\r\n                })\r\n            },\r\n        })\r\n    },\r\n}","import {designComponent} from \"../../use/designComponent\";\r\nimport {StyleProps, useStyle} from \"../../use/useStyle\";\r\nimport {EditProps, useEdit} from \"../../use/useEdit\";\r\nimport {ClickWave} from \"../click-wave/click-wave-directive\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {reactive, computed} from 'vue';\r\nimport {useProps} from \"../../use/useProps\";\r\nimport {HTMLInputEvent} from \"../../shims\";\r\nimport {getKey, KEY} from \"../keyboard\";\r\nimport './number.scss'\r\n\r\nconst NAN = 'NAN'\r\n\r\nexport default designComponent({\r\n    name: 'pl-number',\r\n    directives: {\r\n        ClickWave,\r\n    },\r\n    props: {\r\n        ...StyleProps,\r\n        ...EditProps,\r\n\r\n        modelValue: {type: [String, Number]},                       // 双向绑定值\r\n        min: {type: [String, Number]},                              // 最小值\r\n        max: {type: [String, Number]},                              // 最大值\r\n        step: {type: [String, Number], default: 1},                 // 计数器步长\r\n        stepStrictly: {type: Boolean},                              // 是否只能输入 step 的倍数\r\n        precision: {type: [Number, String]},                        // 数值精度\r\n        hideButton: {type: Boolean},                                // 隐藏操作按钮\r\n\r\n        /*---------------------------------------input-------------------------------------------*/\r\n        inputProps: {type: Object},                                 // pl-input属性配置对象\r\n    },\r\n    emits: {\r\n        onFocus: (e: Event) => true,\r\n        onBlur: (e: Event) => true,\r\n        onUpdateModelValue: (val: string | number | undefined) => true,\r\n        onEnter: (e: KeyboardEvent) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const model = useModel(() => props.modelValue, emit.onUpdateModelValue, {autoEmit: false})\r\n        useStyle({status: undefined})\r\n        const {editComputed} = useEdit()\r\n        const state = reactive({\r\n            isFocus: false,                                         // 当前是否获取焦点\r\n            interval: null as null | number,                        // 进步器长摁定时器\r\n        })\r\n\r\n        const {propsState} = useProps(props, {\r\n            min: useProps.NUMBER,\r\n            max: useProps.NUMBER,\r\n            step: useProps.NUMBER,\r\n            precision: useProps.NUMBER,\r\n        }) as {\r\n            propsState: {\r\n                min: number | null,\r\n                max: number | null,\r\n                step: number,\r\n                precision: number | null,\r\n            }\r\n        }\r\n\r\n        /*---------------------------------------utils-------------------------------------------*/\r\n\r\n        const utils = {\r\n            getValue: (val: any): undefined | number | 'NAN' => {\r\n                if (val == null) return undefined\r\n                val = String(val).trim()\r\n                if (val === '') return undefined\r\n                val = Number(val)\r\n                if (isNaN(val)) {\r\n                    return NAN\r\n                } else {\r\n                    return val\r\n                }\r\n            },\r\n            getEffectiveValue: (): number | undefined => {\r\n                let value = formatModelValue.value\r\n                if (value === NAN) {\r\n                    value = formatValue.value\r\n                    if (value === NAN) {\r\n                        if (propsState.min != null) return propsState.min\r\n                        else if (propsState.max != null) return propsState.max\r\n                        else if (props.stepStrictly) return propsState.step\r\n                        else return 0\r\n                    }\r\n                }\r\n                return value\r\n            },\r\n            checkValue: (value: number | undefined): number | undefined => {\r\n                if (value != null) {\r\n                    // min\r\n                    if (propsState.min != null && value < propsState.min) {\r\n                        value = propsState.min\r\n                    }\r\n                    // max\r\n                    if (propsState.max != null && value! > propsState.max) {\r\n                        value = propsState.max\r\n                    }\r\n                    // stepStrictly\r\n                    if (props.stepStrictly && value! % propsState.step! !== 0) {\r\n                        // console.log('props.value', props.modelValue)\r\n                        value = props.modelValue == undefined ? undefined : Number(props.modelValue)\r\n                    }\r\n                    // precision\r\n                    if (propsState.precision != null) {\r\n                        value = Number(value!.toFixed(propsState.precision))\r\n                    }\r\n                }\r\n                return value\r\n            }\r\n        }\r\n\r\n        /*---------------------------------------computer-------------------------------------------*/\r\n\r\n        const classes = computed(() => ([\r\n            `pl-number`,\r\n            {\r\n                'pl-number-hide-button': props.hideButton,\r\n                'pl-number-disabled': editComputed.value.disabled,\r\n            }\r\n        ]))\r\n        const formatModelValue = computed(() => utils.getValue(model.value))\r\n        const formatValue = computed(() => utils.getValue(props.modelValue))\r\n\r\n        /*---------------------------------------methods-------------------------------------------*/\r\n\r\n        const methods = {\r\n            add: () => {\r\n                if (!editComputed.value.editable) {\r\n                    return\r\n                }\r\n                let value = utils.getEffectiveValue()\r\n                if (value == null) {\r\n                    value = 0\r\n                }\r\n                value += propsState.step\r\n                value = utils.checkValue(value)\r\n                model.value = value\r\n                emit.onUpdateModelValue(model.value)\r\n            },\r\n            minus: () => {\r\n                if (!editComputed.value.editable) {\r\n                    return\r\n                }\r\n                let value = utils.getEffectiveValue()\r\n                if (value == null) {\r\n                    value = 0\r\n                }\r\n                value -= propsState.step\r\n                value = utils.checkValue(value)\r\n                model.value = value\r\n                emit.onUpdateModelValue(model.value)\r\n            },\r\n            clearInterval: () => {              // 清除定时器\r\n                if (state.interval != null) {\r\n                    clearInterval(state.interval)\r\n                }\r\n                window.removeEventListener('mouseup', methods.clearInterval)\r\n            }\r\n        }\r\n\r\n        /*---------------------------------------handler-------------------------------------------*/\r\n\r\n        const handler = {\r\n            focus: (e: Event) => {\r\n                state.isFocus = true\r\n                emit.onFocus(e)\r\n            },\r\n            blur: (e: Event) => {\r\n                model.value = utils.checkValue(utils.getEffectiveValue())\r\n                emit.onUpdateModelValue(model.value)\r\n                state.isFocus = false\r\n                emit.onBlur(e)\r\n            },\r\n            input: (e: HTMLInputEvent) => {\r\n                model.value = e.target.value\r\n            },\r\n            enter: (e: KeyboardEvent) => {\r\n                model.value = utils.checkValue(utils.getEffectiveValue())\r\n                emit.onUpdateModelValue(model.value)\r\n                emit.onEnter(e)\r\n            },\r\n            intervalAdd: () => {\r\n                methods.add()\r\n                state.interval = setInterval(methods.add, 100)\r\n                window.addEventListener('mouseup', methods.clearInterval)\r\n            },\r\n            intervalMinus: () => {\r\n                methods.minus()\r\n                state.interval = setInterval(() => methods.minus(), 100)\r\n                window.addEventListener('mouseup', methods.clearInterval)\r\n            },\r\n            clearHandler: () => {\r\n                model.value = undefined\r\n                emit.onUpdateModelValue(model.value)\r\n            },\r\n            keydown: (e: KeyboardEvent) => {\r\n                const key = getKey(e)\r\n                switch (key) {\r\n                    case KEY.up:\r\n                        e.preventDefault()\r\n                        e.stopPropagation()\r\n                        methods.add()\r\n                        break\r\n                    case KEY.down:\r\n                        e.preventDefault()\r\n                        e.stopPropagation()\r\n                        methods.minus()\r\n                        break\r\n                    case KEY.enter:\r\n                        handler.enter(e)\r\n                        break\r\n                }\r\n            },\r\n        }\r\n\r\n        return {\r\n            refer: {\r\n                ...methods,\r\n            },\r\n            render: () => (\r\n                <pl-input class={classes.value}\r\n                          isFocus={state.isFocus}\r\n                          inputInnerTabindex={null}\r\n                          {...(props.inputProps || {})}\r\n                >\r\n                    {!props.hideButton && (\r\n                        <div class=\"pl-number-prepend-button plain-click-node\" onMousedown={handler.intervalMinus} v-click-wave>\r\n                            <pl-icon icon=\"el-icon-minus\"/>\r\n                        </div>\r\n                    )}\r\n                    <input type=\"text\"\r\n                           value={model.value}\r\n                           disabled={editComputed.value.disabled!}\r\n                           readonly={editComputed.value.readonly!}\r\n                           onFocus={handler.focus}\r\n                           onBlur={handler.blur}\r\n                           onInput={handler.input as any}\r\n                           onKeydown={handler.keydown}/>\r\n                    {!props.hideButton && (\r\n                        <div class=\"pl-number-append-button plain-click-node\" onMousedown={handler.intervalAdd} v-click-wave>\r\n                            <pl-icon icon=\"el-icon-plus\"/>\r\n                        </div>\r\n                    )}\r\n                </pl-input>\r\n            )\r\n        }\r\n    },\r\n})","import Input from '../input'\r\nimport Number from './number'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(Number, {\r\n    plugins: [\r\n        Input,\r\n    ]\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {EditProps, useEdit} from \"../../use/useEdit\";\r\nimport {ClickWave} from \"../click-wave/click-wave-directive\";\r\nimport {StyleProps, useStyle} from \"../../use/useStyle\";\r\nimport {DEFAULT_STATUS} from \"../../utils/constant\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {reactive, computed} from 'vue';\r\nimport {getKey, KEY} from \"../keyboard\";\r\nimport './toggle.scss'\r\n\r\nexport default designComponent({\r\n    name: 'pl-toggle',\r\n    directives: {ClickWave},\r\n    props: {\r\n        ...EditProps,\r\n        ...StyleProps,\r\n\r\n        modelValue: {},                                                              // 双向绑定值\r\n        trueValue: {default: true},                                             // 选中时绑定的值\r\n        falseValue: {default: false},                                           // 未选中时绑定的值\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: any) => true,\r\n        onMousedown: (e: MouseEvent) => true,\r\n        onMouseup: (e: MouseEvent) => true,\r\n        onClick: (e: MouseEvent) => true,\r\n        onFocus: (e: Event) => true,\r\n        onBlur: (e: Event) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        /*---------------------------------------state-------------------------------------------*/\r\n\r\n        const {editComputed} = useEdit()\r\n        const {styleComputed} = useStyle({status: DEFAULT_STATUS})\r\n\r\n        const model = useModel(() => props.modelValue, emit.onUpdateModelValue)\r\n        const state = reactive({\r\n            isActive: false,\r\n        })\r\n\r\n        /*---------------------------------------computer-------------------------------------------*/\r\n\r\n        const isChecked = computed(() => model.value === props.trueValue)\r\n\r\n        const classes = computed(() => ([\r\n            `pl-toggle`,\r\n            `plain-click-node`,\r\n            `pl-toggle-status-${styleComputed.value.status}`,\r\n            `pl-toggle-size-${styleComputed.value.size}`,\r\n            {\r\n                'pl-toggle-on': isChecked.value,\r\n                'pl-toggle-active': state.isActive,\r\n                'pl-toggle-disabled': editComputed.value.disabled,\r\n            },\r\n        ]))\r\n\r\n        /*---------------------------------------handler-------------------------------------------*/\r\n\r\n        const handler = {\r\n            mousedown: (e: MouseEvent) => {\r\n                state.isActive = true\r\n                window.addEventListener('mouseup', handler.mouseup)\r\n                emit.onMousedown(e)\r\n            },\r\n            mouseup: (e: MouseEvent) => {\r\n                state.isActive = false\r\n                window.removeEventListener('mouseup', handler.mouseup)\r\n                emit.onMouseup(e)\r\n            },\r\n            click: (e: MouseEvent) => {\r\n                if (!editComputed.value.editable) {\r\n                    return\r\n                }\r\n                model.value = isChecked.value ? props.falseValue : props.trueValue\r\n                emit.onClick(e)\r\n            },\r\n            keydown: (e: KeyboardEvent) => {\r\n                const key = getKey(e)\r\n                if (key === KEY.space || key === KEY.enter) {\r\n                    e.preventDefault()\r\n                    e.stopPropagation()\r\n                    handler.click(e as any)\r\n                }\r\n            },\r\n            focus: emit.onFocus,\r\n            blur: emit.onBlur,\r\n        }\r\n        return {\r\n            render: () => (\r\n                <div class={classes.value}\r\n                     tabindex={0}\r\n                     onMousedown={handler.mousedown}\r\n                     onClick={handler.click}\r\n                     onKeydown={handler.keydown}\r\n                     onFocus={handler.focus}\r\n                     onBlur={handler.blur}\r\n                     v-click-wave={'large'}\r\n                >\r\n                    <div class=\"pl-toggle-inner\"/>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import Toggle from './toggle'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(Toggle)","import {designComponent} from \"../../use/designComponent\";\r\nimport {StyleProps, useStyle} from \"../../use/useStyle\";\r\nimport {EditProps, useEdit} from \"../../use/useEdit\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport {useMounted} from \"../../use/useMounted\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {reactive, computed} from 'vue';\r\nimport {DEFAULT_STATUS} from \"../../utils/constant\";\r\nimport {unit} from \"plain-utils/string/unit\";\r\nimport {removeUnit} from \"plain-utils/string/removeUnit\";\r\nimport {disabledUserSelect} from \"plain-utils/dom/disabledUserSelect\";\r\nimport {enableUserSelect} from \"plain-utils/dom/enableUserSelect\";\r\nimport './slider.scss'\r\n\r\nexport default designComponent({\r\n    name: 'pl-slider',\r\n    props: {\r\n        ...EditProps,\r\n        ...StyleProps,\r\n\r\n        modelValue: {type: Number, default: 0},                          //非范围选择时，双向绑定值\r\n        start: {type: Number, default: 0},                          //范围选择时，起始绑定值\r\n        end: {type: Number, default: 0},                            //范围选择时，末尾绑定值\r\n        total: {type: Number, default: 100},                        //总数，value,start以及end不应该超过total\r\n        alignEnd: {type: Boolean},                                  //是否末尾对其\r\n        full: {type: Boolean},                                      //是否占满父元素大小\r\n        length: {type: [Number, String], default: '156px'},         //滑动条长度\r\n        size: {type: [Number, String], default: '6px'},             //滑动条宽度\r\n        vertical: {type: Boolean},                                  //是否纵向\r\n        step: {type: Number, default: 1},                           //滑条分块的个数，默认是不分块\r\n        min: {type: Number},                                        //最小值\r\n        max: {type: Number},                                        //最大值\r\n\r\n        showSteps: {type: Boolean, default: true},                  //是否显示步骤点\r\n        tooltip: {type: Boolean, default: true},                    //是否tooltip显示值\r\n        tooltipFormatter: Function,                                 //tooltip显示格式化函数\r\n        range: {type: Boolean},                                     //是否为范围选择\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: number) => true,\r\n        onUpdateStart: (val: number) => true,\r\n        onUpdateEnd: (val: number) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const {refs} = useRefs({\r\n            el: HTMLDivElement,\r\n        })\r\n\r\n        /*---------------------------------------state-------------------------------------------*/\r\n\r\n        const {editComputed} = useEdit()\r\n        const {styleComputed} = useStyle({status: DEFAULT_STATUS})\r\n\r\n        const model = useModel(() => props.modelValue, emit.onUpdateModelValue)\r\n        const start = useModel(() => props.start, emit.onUpdateStart)\r\n        const end = useModel(() => props.end, emit.onUpdateEnd)\r\n\r\n        const isMounted = useMounted()\r\n\r\n        const state = reactive({\r\n            dragStart: null as null | boolean,\r\n            touching: false,\r\n            tempStart: null as null | number,\r\n            tempEnd: null as null | number,\r\n            startX: null as null | number,\r\n            startY: null as null | number,\r\n            totalLength: null as null | number,\r\n            position: {\r\n                'vertical-start': 'bottom',\r\n                'vertical-end': 'top',\r\n                'horizontal-start': 'right',\r\n                'horizontal-end': 'left',\r\n            },\r\n        })\r\n\r\n        /*---------------------------------------utils-------------------------------------------*/\r\n\r\n        const utils = {\r\n            transferValueToLength(value: number) {\r\n                return totalLength.value * value / props.total\r\n            },\r\n            transferLengthToValue(length: number) {\r\n                return props.total * length / totalLength.value\r\n            },\r\n            setValue(val: number) {\r\n                model.value = val\r\n            },\r\n            setStart(val: number) {\r\n                start.value = val\r\n            },\r\n            setEnd(val: number) {\r\n                end.value = val\r\n            },\r\n        }\r\n\r\n        /*---------------------------------------computer-------------------------------------------*/\r\n\r\n        const styles = computed(() => ({\r\n            [props.vertical ? 'height' : 'width']: !!props.full ? '100%' : unit(props.length),\r\n            [props.vertical ? 'width' : 'height']: unit(props.size),\r\n        }))\r\n\r\n        const classes = computed(() => ([\r\n            'pl-slider',\r\n            {\r\n                'pl-slider-full': !!props.full,\r\n                'pl-slider-touching': state.touching,\r\n                'pl-slider-range': props.range,\r\n                'pl-slider-place-end': start.value === end.value && start.value === props.total\r\n            },\r\n            `pl-slider-${!!props.vertical ? 'vertical' : 'horizontal'}`,\r\n            `pl-slider-align-${!!props.alignEnd ? 'end' : 'start'}`,\r\n            `pl-slider-status-${!!editComputed.value.disabled ? 'info' : (styleComputed.value.status)}`,\r\n        ]))\r\n\r\n        const totalLength = computed(() => {\r\n            if (!isMounted.value) return 0\r\n            if (state.totalLength == null) state.totalLength = refs.el![!!props.vertical ? 'offsetHeight' : 'offsetWidth']\r\n            return state.totalLength\r\n        })\r\n\r\n        const startPosition = computed(() => {\r\n            return !!props.range ? utils.transferValueToLength(start.value) : props.alignEnd ? (totalLength.value - utils.transferValueToLength(model.value)) : 0\r\n        })\r\n\r\n        const endPosition = computed(() => {\r\n            return !!props.range ? totalLength.value - utils.transferValueToLength(end.value) : props.alignEnd ? 0 : (totalLength.value - utils.transferValueToLength(model.value))\r\n        })\r\n\r\n        const progressStyles = computed(() => {\r\n            const ret = {} as any\r\n            ret[props.vertical ? 'top' : 'left'] = `${startPosition.value}px`\r\n            ret[props.vertical ? 'bottom' : 'right'] = `${endPosition.value}px`\r\n            return ret\r\n        })\r\n\r\n        const startTooltip = computed(() => {\r\n            let ret = !!props.range ? start.value : model.value\r\n            return !!props.tooltipFormatter ? props.tooltipFormatter(ret) : ret\r\n        })\r\n\r\n        const endTooltip = computed(() => {\r\n            let ret = !!props.range ? end.value : model.value\r\n            return !!props.tooltipFormatter ? props.tooltipFormatter(ret) : ret\r\n        })\r\n\r\n        const steps = computed(() => {\r\n            const ret: number[] = []\r\n            let i = 0\r\n            while (i < props.step - 1) {\r\n                ret.push(i)\r\n                i++\r\n            }\r\n            return ret\r\n        })\r\n\r\n        const stepItemStyles = computed(() => {\r\n            return {\r\n                ['height']: unit(removeUnit(props.size) as any / 2),\r\n                ['width']: unit(removeUnit(props.size) as any / 2),\r\n            }\r\n        })\r\n\r\n        const handler = {\r\n            dragstart: (e: MouseEvent, dragStart: boolean) => {\r\n                if ((!!props.alignEnd !== dragStart && !props.range) || !editComputed.value.editable) return\r\n                document.addEventListener('mousemove', handler.mousemove)\r\n                document.addEventListener('mouseup', handler.mouseup)\r\n                state.dragStart = dragStart\r\n                state.touching = true\r\n                state.startX = e.clientX\r\n                state.startY = e.clientY\r\n                state.tempStart = startPosition.value\r\n                state.tempEnd = endPosition.value\r\n                disabledUserSelect()\r\n            },\r\n            mousemove: (e: MouseEvent) => {\r\n                if (!state.touching) return\r\n                const durX = e.clientX - state.startX!\r\n                const durY = e.clientY - state.startY!\r\n                let temp = !!state.dragStart ? state.tempStart : state.tempEnd\r\n                let dur = (!!props.vertical ? durY : durX) * (!!state.dragStart ? 1 : -1)\r\n                let ret = Math.min(Math.max(temp! + dur, 0), totalLength.value)\r\n\r\n                if (props.step > 1) {\r\n                    const stepLength = totalLength.value / props.step\r\n                    const divisor = Number((ret / stepLength).toFixed(0)) + 1\r\n                    if (ret > stepLength * divisor) ret = stepLength * divisor\r\n                    else ret = stepLength * (divisor - 1)\r\n                }\r\n\r\n                if (!!state.dragStart) {\r\n                    start.value = utils.transferLengthToValue(ret)\r\n                } else {\r\n                    end.value = utils.transferLengthToValue(ret)\r\n                }\r\n\r\n                if (!props.range) {\r\n                    ret = Number(utils.transferLengthToValue(totalLength.value - ret).toFixed(2))\r\n                    props.max != null && ret > props.max && (ret = props.max)\r\n                    props.min != null && ret < props.min && (ret = props.min)\r\n                    utils.setValue(ret)\r\n                } else {\r\n                    ret = Number(utils.transferLengthToValue(state.dragStart ? ret : totalLength.value - ret).toFixed(2))\r\n                    props.max != null && ret > props.max && (ret = props.max)\r\n                    props.min != null && ret < props.min && (ret = props.min)\r\n                    if (!!state.dragStart) {\r\n                        if (ret > end.value) ret = end.value\r\n                    } else {\r\n                        if (ret < start.value) ret = start.value\r\n                    }\r\n                    state.dragStart ? utils.setStart(ret) : utils.setEnd(ret)\r\n                }\r\n            },\r\n            mouseup: (e: MouseEvent) => {\r\n                if (!state.touching) return\r\n                state.touching = false\r\n                document.removeEventListener('mousemove', handler.mousemove)\r\n                document.removeEventListener('mouseup', handler.mouseup)\r\n                enableUserSelect()\r\n            }\r\n        }\r\n\r\n        return {\r\n            render: () => (\r\n                <div class={classes.value} style={styles.value} ref={'el'}>\r\n                    {\r\n                        props.showSteps && props.step > 1 && (\r\n                            <div class=\"pl-slider-step\">\r\n                                {\r\n                                    steps.value.map((item) => (\r\n                                        <span class=\"pl-slider-step-item-wrapper\" key={item}>\r\n                                        <div class=\"pl-slider-step-item\" style={stepItemStyles.value as any}/>\r\n                                    </span>\r\n                                    ))\r\n                                }\r\n                            </div>\r\n                        )\r\n                    }\r\n                    <div class=\"pl-slider-progress\" style={progressStyles.value}>\r\n                <span class=\"pl-slider-dot-wrapper pl-slider-dot-wrapper-start\" onMousedown={(e: MouseEvent) => handler.dragstart(e, true)}><span class=\"pl-slider-dot\"><span class=\"pl-slider-dot-inner\">\r\n                    {!!props.tooltip && <span class=\"pl-slider-dot-tooltip\">{startTooltip.value}</span>}\r\n                </span></span></span>\r\n                        <span class=\"pl-slider-dot-wrapper pl-slider-dot-wrapper-end\" onMousedown={e => handler.dragstart(e, false)}><span class=\"pl-slider-dot\"><span class=\"pl-slider-dot-inner\">\r\n                    {!!props.tooltip && <span class=\"pl-slider-dot-tooltip\">{endTooltip.value}</span>}\r\n                </span></span></span>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import Slider from './slider'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(Slider)","import {designComponent} from \"../../use/designComponent\";\r\nimport {StyleProps, useStyle} from \"../../use/useStyle\";\r\nimport {EditProps, useEdit} from \"../../use/useEdit\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {DEFAULT_STATUS} from \"../../utils/constant\";\r\nimport {computed} from 'vue';\r\nimport './tag.scss'\r\n\r\nexport default designComponent({\r\n    name: 'pl-tag',\r\n    props: {\r\n        ...EditProps,\r\n        ...StyleProps,\r\n        mode: {type: String, default: 'stroke'},\r\n        label: {type: String},\r\n        close: {type: Boolean},\r\n    },\r\n    emits: {\r\n        onClick: (e: MouseEvent) => true,\r\n        onClose: (e: MouseEvent) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n        const {slots} = useSlots()\r\n        const {editComputed} = useEdit()\r\n        const {styleComputed} = useStyle({status: DEFAULT_STATUS})\r\n        const classes = computed(() => ([\r\n            `pl-tag`,\r\n            `pl-tag-mode-${props.mode}`,\r\n            `pl-tag-status-${styleComputed.value.status}`,\r\n            `pl-tag-shape-${styleComputed.value.shape}`,\r\n            `pl-tag-size-${styleComputed.value.size}`,\r\n            {\r\n                'pl-tag-disabled': !!editComputed.value.disabled,\r\n            },\r\n        ]))\r\n\r\n        const handler = {\r\n            click: (e: MouseEvent) => {\r\n                if (!editComputed.value.editable) {\r\n                    return\r\n                }\r\n                emit.onClick(e)\r\n            },\r\n            clickClose: (e: MouseEvent) => {\r\n                e.stopPropagation()\r\n                if (!editComputed.value.editable) {\r\n                    return\r\n                }\r\n                emit.onClose(e)\r\n            }\r\n        }\r\n\r\n        return {\r\n            render: () => (\r\n                <div class={classes.value} onClick={handler.click}>\r\n                    {slots.default(props.label)}\r\n                    {!!props.close && <pl-icon icon=\"el-icon-close\" class=\"pl-tag-close\" onClick={handler.clickClose}/>}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import Tag from './tag'\r\nimport Icon from '../icon'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(Tag, {plugins: [Icon]})","import {designComponent} from \"../../use/designComponent\";\r\nimport {EditProps, useEdit} from \"../../use/useEdit\";\r\nimport {StyleProps, useStyle} from \"../../use/useStyle\";\r\nimport Input from '../input'\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {computed, nextTick, onBeforeUnmount, reactive} from 'vue';\r\nimport {delay} from \"plain-utils/utils/delay\";\r\nimport {getKey, KEY} from \"../keyboard\";\r\nimport {useScopedSlots} from \"../../use/useScopedSlots\";\r\nimport './tag-input.scss'\r\n\r\nexport default designComponent({\r\n    name: 'pl-tag-input',\r\n    props: {\r\n        ...EditProps,\r\n        ...StyleProps,\r\n\r\n        modelValue: {type: Array},                                              // 数组，双向绑定值\r\n        close: {type: Boolean, default: true},                                  // 是否可删除\r\n        beforeAdd: Function,                                                    // 添加前校验\r\n        beforeRemove: Function,                                                 // 删除前校验\r\n        formatValue: Function,                                                  // 格式化输入值，返回一个值，或者对象\r\n        noInput: Function,                                                      // 是否显示输入框\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: any[] | undefined) => true\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n\r\n        const {scopedSlots} = useScopedSlots({\r\n            default: {item: String, index: Number}\r\n        })\r\n\r\n        const {refs} = useRefs({\r\n            input: Input,\r\n        })\r\n\r\n        const model = useModel(() => props.modelValue, emit.onUpdateModelValue)\r\n\r\n        const state = reactive({\r\n            isEditing: false,\r\n            inputValue: null as string | null,\r\n        })\r\n        const {editComputed} = useEdit()\r\n        const {styleComputed} = useStyle()\r\n\r\n        const classes = computed(() => ([\r\n            'pl-tag-input',\r\n            `pl-tag-input-status-${styleComputed.value.status}`,\r\n            {\r\n                'pl-tag-input-disabled': editComputed.value.disabled,\r\n            },\r\n        ]))\r\n\r\n\r\n        onBeforeUnmount(() => {\r\n            window.removeEventListener('click', handler.clickWindow, true)\r\n        })\r\n\r\n        const handler = {\r\n            clickWindow: (e: MouseEvent) => {\r\n                if (!refs.input!.refs.input.contains(e.target as Node)) {\r\n                    state.isEditing = false\r\n                    window.removeEventListener('click', handler.clickWindow, true)\r\n                }\r\n            },\r\n            clickEditButton: async () => {\r\n                if (!editComputed.value.editable) {\r\n                    return\r\n                }\r\n                state.isEditing = true\r\n                await nextTick()\r\n                refs.input!.methods.focus()\r\n\r\n                // 点击其他元素的时候关闭输入状态\r\n                await delay(0)\r\n                window.addEventListener('click', handler.clickWindow, true)\r\n            },\r\n            inputEnter: async () => {\r\n                if (!editComputed.value.editable) {\r\n                    return\r\n                }\r\n\r\n                let inputValue = state.inputValue\r\n\r\n                if (inputValue != '0' && !inputValue) {\r\n                    return\r\n                }\r\n\r\n                if (!!props.beforeAdd) {\r\n                    await props.beforeAdd(inputValue)\r\n                }\r\n                if (!!props.formatValue) {\r\n                    inputValue = await props.formatValue(inputValue)\r\n                }\r\n\r\n                let value = [...(model.value || [])]\r\n                value.push(inputValue)\r\n                model.value = value\r\n                state.inputValue = null\r\n            },\r\n            tagClose: async (item: any, index: number) => {\r\n                if (!editComputed.value.editable) {\r\n                    return\r\n                }\r\n                if (!!props.beforeRemove) {\r\n                    await props.beforeRemove(item, index)\r\n                }\r\n                model.value!.splice(index, 1)\r\n                model.value = [...model.value!]\r\n            },\r\n            keydown: (e: KeyboardEvent) => {\r\n                if (getKey(e) === KEY.enter) {\r\n                    handler.inputEnter()\r\n                }\r\n            }\r\n        }\r\n\r\n        return {\r\n            render: () => (\r\n                <div class={classes.value}>\r\n                    {\r\n                        (model.value || []).map((item: any, index) => (\r\n                            scopedSlots.default({item, index}, (\r\n                                <pl-tag key={index} label={item} close={editComputed.value.editable && props.close} onClose={() => handler.tagClose(item, index)}/>\r\n                            ))\r\n                        ))\r\n                    }\r\n                    {!props.noInput && (\r\n                        <pl-input v-model={state.inputValue}\r\n                                  ref=\"input\"\r\n                                  key={state.isEditing ? 1 : 2}\r\n                                  onKeydown={handler.keydown}\r\n                                  v-slots={!state.isEditing ? {\r\n                                      default: () => (\r\n                                          <div class=\"pl-tag-input-not-edit\"\r\n                                               onClick={handler.clickEditButton}>\r\n                                              <pl-icon icon=\"el-icon-plus\"/>\r\n                                              <span>添加</span>\r\n                                          </div>\r\n                                      )\r\n                                  } : null}\r\n                        />\r\n                    )}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import TagInput from './tag-input'\r\nimport Tag from '../tag'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(TagInput, {\r\n    plugins: [\r\n        Tag\r\n    ]\r\n})","import './rate.scss'\r\nimport {designComponent} from \"../../use/designComponent\";\r\nimport {StyleProps, useStyle} from \"../../use/useStyle\";\r\nimport {EditProps, useEdit} from \"../../use/useEdit\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {reactive, computed} from 'vue';\r\nimport {DEFAULT_STATUS} from \"../../utils/constant\";\r\nimport {useMounted} from \"../../use/useMounted\";\r\nimport {disabledUserSelect} from \"plain-utils/dom/disabledUserSelect\";\r\nimport {enableUserSelect} from \"plain-utils/dom/enableUserSelect\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-rate',\r\n    props: {\r\n        ...EditProps,\r\n        ...StyleProps,\r\n\r\n        modelValue: {type: Number, default: 0},                         //vModel双向绑定值\r\n        total: {type: Number, default: 5},                              //总分\r\n        count: {type: Number, default: 5},                              //显示图标的个数\r\n        mode: {type: String, default: 'normal'},                        //模式，normal，all整个图标为单位，half：半个图标为单位\r\n        status: {type: String,},                                        //标准颜色\r\n        activeIcon: {type: String},                                     //激活的时候的图标\r\n        inactiveIcon: {type: String},                                   //未激活的时候的图标\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: number) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const {refs} = useRefs({\r\n            el: HTMLDivElement,\r\n        })\r\n        const model = useModel(() => props.modelValue, emit.onUpdateModelValue)\r\n        const state = reactive({\r\n            totalWidth: null as null | number,\r\n            elLeft: null as null | number,\r\n        })\r\n        const {editComputed} = useEdit()\r\n        const {styleComputed} = useStyle({status: DEFAULT_STATUS})\r\n\r\n        const mounted = useMounted()\r\n\r\n        /*---------------------------------------computer-------------------------------------------*/\r\n\r\n        const classes = computed(() => ([\r\n            `pl-rate`,\r\n            `pl-rate-status-${styleComputed.value.status}`,\r\n            `pl-rate-size-${styleComputed.value.size}`,\r\n            {\r\n                'pl-rate-disabled': editComputed.value.disabled,\r\n            },\r\n        ]))\r\n\r\n        const data = computed(() => {\r\n            let i = 0\r\n            let ret: number[] = []\r\n            while (i < props.count) {\r\n                ret.push(i)\r\n                i++\r\n            }\r\n            return ret\r\n        })\r\n\r\n        const activeStyles = computed(() => ({\r\n            width: (model.value / props.total) * 100 + '%'\r\n        }))\r\n\r\n        const totalWidth = computed(() => {\r\n            if (!mounted.value) return 0\r\n            if (!state.totalWidth) state.totalWidth = refs.el.offsetWidth\r\n            return state.totalWidth\r\n        })\r\n\r\n        const elLeft = computed(() => {\r\n            if (!state.elLeft) state.elLeft = refs.el.getBoundingClientRect().left\r\n            return state.elLeft\r\n        })\r\n\r\n        /*---------------------------------------methods-------------------------------------------*/\r\n\r\n\r\n        const methods = {\r\n            reset: (e: MouseEvent) => {\r\n                let dur = e.clientX - (elLeft.value || 0)\r\n                let start = 0\r\n                let end = totalWidth.value\r\n                let step = end / props.count\r\n                switch (props.mode) {\r\n                    case 'all':\r\n                        for (; start < end; start += step) {\r\n                            if (start < dur && dur < start + step) {\r\n                                dur = start + step\r\n                                break\r\n                            }\r\n                        }\r\n                        break\r\n                    case 'half':\r\n                        for (; start < end; start += step) {\r\n                            let half = (start + start + step) / 2\r\n                            if (start < dur && dur < half) {\r\n                                dur = half\r\n                                break\r\n                            }\r\n                            if (half < dur && dur < start + step) {\r\n                                dur = start + step\r\n                                break\r\n                            }\r\n                        }\r\n                        break\r\n                }\r\n\r\n                model.value = Number((Math.max(0, Math.min((dur) / totalWidth.value, 1)) * props.total).toFixed(2))\r\n            },\r\n        }\r\n\r\n        /*---------------------------------------handler-------------------------------------------*/\r\n\r\n        const handler = {\r\n            mousedown: (e: MouseEvent) => {\r\n                if (!editComputed.value.editable) return\r\n                window.document.addEventListener('mousemove', handler.mousemove)\r\n                window.document.addEventListener('mouseup', handler.mouseup)\r\n                disabledUserSelect()\r\n                methods.reset(e)\r\n            },\r\n            mousemove: (e: MouseEvent) => {\r\n                methods.reset(e)\r\n            },\r\n            mouseup: (e: MouseEvent) => {\r\n                window.document.removeEventListener('mousemove', handler.mousemove)\r\n                window.document.removeEventListener('mouseup', handler.mouseup)\r\n                enableUserSelect()\r\n            }\r\n        }\r\n\r\n        return {\r\n            render: () => (\r\n                <div class={classes.value} onMousedown={handler.mousedown} ref=\"el\">\r\n                    <div class=\"pl-rate-active\" style={activeStyles.value}>\r\n                        {data.value.map(i => <pl-icon icon={props.activeIcon || 'el-icon-star-on'} key={i}/>)}\r\n                    </div>\r\n                    <div class=\"pl-rate-inactive\">\r\n                        {data.value.map(i => <pl-icon icon={props.inactiveIcon || 'el-icon-star-off'} key={i}/>)}\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import Rate from './rate'\r\nimport Icon from '../icon'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(Rate, {plugins: [Icon]})","import Scroll from '../scroll'\r\nimport {computed, reactive, nextTick, watch, onMounted, onUpdated} from 'vue'\r\nimport {useClass} from \"../../use/useClasses\";\r\nimport {useStyles} from \"../../use/useStyles\";\r\n\r\ninterface DataNode {\r\n    top: number\r\n    bottom: number\r\n    height: number\r\n\r\n    data: any\r\n    index: number\r\n}\r\n\r\nexport function useVirtualList(\r\n    {\r\n        props,\r\n        refs,\r\n        emit,\r\n    }: {\r\n        props: {\r\n            data: any[],\r\n            size: number,\r\n            disabled?: boolean,\r\n            dynamicSize?: boolean,\r\n        },\r\n        refs: {\r\n            scroll: typeof Scroll.use.class | null,\r\n            content: HTMLDivElement,\r\n        },\r\n        emit: {\r\n            onScroll: (e: Event) => void\r\n        },\r\n    }\r\n) {\r\n\r\n    /*非响应式属性*/\r\n    const freezeState = {\r\n        scrollTop: 0,                               // 实时的scrollTop值\r\n        current: {                                  // 当前的页面信息\r\n            pageIndex: 0,\r\n            start: 0,\r\n            end: 0,\r\n        },\r\n    }\r\n    /*响应式属性*/\r\n    const state = reactive({\r\n        nodes: [] as DataNode[],                    // 格式化的data数组数据\r\n        scrollTop: 0,                               // 当前滚动scrollTop（非实时的）\r\n        pageSize: 0,                                // 页大小\r\n    })\r\n\r\n    /**\r\n     * 计算得到的在虚拟列表当前要渲染的数组数据\r\n     * @author  韦胜健\r\n     * @date    2020/11/15 9:28\r\n     */\r\n    const offsetData = computed((): { list: { item: any, index: number }[], startPageIndex: number, start: number } => {\r\n        const {pageSize, scrollTop} = state\r\n        const data = props.data || []\r\n        if (!pageSize) {\r\n            return {list: [], startPageIndex: 0, start: 0}\r\n        }\r\n        if (props.disabled) {\r\n            return {\r\n                list: data.map((item, index) => ({item, index})),\r\n                start: 0,\r\n                startPageIndex: 0,\r\n            }\r\n        }\r\n        const {start, end, pageIndex} = utils.getPageIndex(scrollTop, pageSize)\r\n        return {\r\n            list: data.map((item, index) => ({item, index})).slice(start, end),\r\n            startPageIndex: pageIndex,\r\n            start,\r\n        }\r\n    })\r\n\r\n    /*---------------------------------------style-------------------------------------------*/\r\n\r\n    /**\r\n     * 跟节点Scroll的class\r\n     * @author  韦胜健\r\n     * @date    2020/12/16 10:48\r\n     */\r\n    const classes = useClass(() => [\r\n        'pl-virtual-list',\r\n        {\r\n            'pl-virtual-list-disabled': props.disabled,\r\n        }\r\n    ])\r\n\r\n    /**\r\n     * 占位节点strut的样式\r\n     * @author  韦胜健\r\n     * @date    2020/12/16 10:48\r\n     */\r\n    const strutStyles = useStyles(style => {\r\n        if (!state.pageSize) {\r\n            return\r\n        }\r\n        if (props.disabled) {\r\n            return;\r\n        }\r\n        if (!props.dynamicSize) {\r\n            style.height = `${(props.data || []).length * props.size}px`\r\n        } else {\r\n            style.height = `${state.nodes[state.nodes.length - 1].bottom}px`\r\n        }\r\n    })\r\n\r\n    /**\r\n     * 内容（位移）节点的样式\r\n     * @author  韦胜健\r\n     * @date    2020/12/16 10:48\r\n     */\r\n    const contentStyles = useStyles(style => {\r\n\r\n        if (!state.pageSize) {\r\n            return\r\n        }\r\n        if (props.disabled) {\r\n            return;\r\n        }\r\n\r\n        const {start} = offsetData.value\r\n\r\n        let top = 0\r\n        if (!props.dynamicSize) {\r\n            top = start * props.size\r\n        } else {\r\n            top = state.nodes[start].top\r\n        }\r\n\r\n        /*top定位*/\r\n        // style.top = `${top}px`\r\n        /*transform定位*/\r\n        style.transform = `translateY(${top}px)`\r\n    })\r\n\r\n    /*---------------------------------------utils-------------------------------------------*/\r\n\r\n    const utils = {\r\n        /**\r\n         * 根据top值，对比DataNodes中节点的top以及bottom得到在data nodes中的位置索引\r\n         * @author  韦胜健\r\n         * @date    2020/11/15 9:29\r\n         */\r\n        getIndex: (top: number) => {\r\n            if (!props.dynamicSize) {\r\n                // console.log('not dynamic》》》getIndex', top / props.size)\r\n                return Math.floor(top / props.size)\r\n            } else {\r\n                const {nodes} = state\r\n                let start = 0;\r\n                let end = nodes.length - 1\r\n                let temp = 0;\r\n                while (start <= end) {\r\n                    let middle = Math.floor((start + end) / 2)\r\n                    let middleBottom = nodes[middle].bottom\r\n                    if (middleBottom === top) {\r\n                        return middle + 1\r\n                    } else if (middleBottom < top) {\r\n                        start = middle + 1\r\n                    } else if (middleBottom > top) {\r\n                        if (!temp || temp > middle) {\r\n                            temp = middle\r\n                        }\r\n                        end = middle - 1\r\n                    }\r\n                }\r\n                // console.log('is dynamic》》》getIndex', temp)\r\n                return temp\r\n            }\r\n        },\r\n        /**\r\n         * 根据scrollTop以及pageSize获取当前的pageIndex\r\n         * @author  韦胜健\r\n         * @date    2020/12/14 22:44\r\n         */\r\n        getPageIndex: (scrollTop: number, pageSize: number) => {\r\n            const data = props.data || []\r\n            /*当前scrollTop对应的数据中数据的索引*/\r\n            let scrollIndex = utils.getIndex(scrollTop)\r\n            let pageIndex = Math.floor(scrollIndex / pageSize)\r\n            let start = pageIndex === 0 ? 0 : (pageIndex - 1) * pageSize\r\n            let end = start + pageSize * 3\r\n            /*console.log({\r\n                scrollIndex,\r\n                pageIndex,\r\n                start,\r\n                end,\r\n            })*/\r\n            const exceed = end - data.length\r\n            if (exceed > 0) {\r\n                end = data.length\r\n                start -= exceed\r\n                if (start < 0) {\r\n                    start = 0\r\n                }\r\n            }\r\n            pageIndex = Math.floor(start / pageSize)\r\n            return {\r\n                data,\r\n                start,\r\n                end,\r\n                pageIndex,\r\n            }\r\n        },\r\n        /**\r\n         * 格式化props.data为 DataNode数组\r\n         * @author  韦胜健\r\n         * @date    2020/11/15 9:29\r\n         */\r\n        resetData: (data: any[]) => {\r\n            // console.log('resetData')\r\n            state.nodes = data.map((item, index) => ({\r\n                data: item,\r\n                index,\r\n                top: props.size * index,\r\n                height: props.size,\r\n                bottom: props.size * (index + 1),\r\n            }))\r\n        }\r\n    }\r\n\r\n    /*---------------------------------------handler-------------------------------------------*/\r\n\r\n    const handler = {\r\n        onScroll: (e: Event) => {\r\n            emit.onScroll(e)\r\n            if (props.disabled) {\r\n                return\r\n            }\r\n            freezeState.scrollTop = (e.target as HTMLDivElement).scrollTop\r\n            const current = utils.getPageIndex((e.target as HTMLDivElement).scrollTop, state.pageSize)\r\n            if (freezeState.current.pageIndex != current.pageIndex || freezeState.current.start != current.start) {\r\n                state.scrollTop = (e.target as HTMLDivElement).scrollTop\r\n                freezeState.current = current\r\n            }\r\n        }\r\n    }\r\n\r\n    watch(() => props.data, (data: any[]) => {\r\n        if (props.disabled) {\r\n            return\r\n        }\r\n        if (!props.dynamicSize) {\r\n            return;\r\n        }\r\n        !!refs.scroll && refs.scroll.methods.scrollTop(0, 0);\r\n        /*如果是动态高度，则刷state.nodes*/\r\n        utils.resetData(data)\r\n    })\r\n\r\n    onMounted(() => {\r\n        const hostHeight = refs.scroll!.refs.host.offsetHeight\r\n        state.pageSize = Math.ceil(hostHeight / props.size)\r\n        if (props.dynamicSize && !props.disabled) {\r\n            utils.resetData(props.data)\r\n        }\r\n    })\r\n\r\n    onUpdated(async () => {\r\n        if (props.disabled) {\r\n            return\r\n        }\r\n        if (!props.dynamicSize) {\r\n            return;\r\n        }\r\n        await nextTick()\r\n        // console.log('dynamic scan height')\r\n        const elNodes = (Array.from(refs.content.childNodes || []) as HTMLElement[]).filter(node => node.nodeType !== 3)\r\n        for (let i = 0; i < elNodes.length; i++) {\r\n            const el = elNodes[i];\r\n            const {offsetHeight: height} = el\r\n            let vid = el.getAttribute('vid') as null | number | string\r\n            if (vid == null) {\r\n                throw new Error('Each item of the virtual-list must have an attribute named \"vid\", please set :vid=\"index\"')\r\n            }\r\n            vid = Number(vid)\r\n            const prevNode = state.nodes[vid]\r\n            const prevHeight = prevNode.height\r\n            let deltaHeight = prevHeight - height\r\n            if (deltaHeight !== 0) {\r\n                prevNode.height = height\r\n                prevNode.bottom = prevNode.bottom - deltaHeight\r\n                for (let j = vid + 1; j < state.nodes!.length; j++) {\r\n                    state.nodes![j].top = state.nodes![j - 1].bottom\r\n                    state.nodes![j].bottom = state.nodes![j].bottom - deltaHeight\r\n                }\r\n            }\r\n        }\r\n    })\r\n\r\n    return {\r\n        virtual: {\r\n            offsetData,\r\n            classes,\r\n            strutStyles,\r\n            contentStyles,\r\n            handler,\r\n        }\r\n    }\r\n}","import './virtual-list.scss'\r\nimport {designComponent} from \"../../use/designComponent\";\r\nimport {useScopedSlots} from \"../../use/useScopedSlots\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport Scroll from '../scroll'\r\nimport {useVirtualList} from \"./useVirtualList\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-virtual-list',\r\n    props: {\r\n        data: {type: Array, require: true, default: []},            // 要渲染的长数据\r\n        size: {type: Number, require: true, default: 40},           // 每一行高度\r\n        dynamicSize: {type: Boolean},                               // 标识列表中的每一行高度不是固定的，但是还是需要提供 size 属性，而且size属性不能与每一行的高度差距太多；\r\n        disabled: {type: Boolean},                                  // 禁用虚拟滚动\r\n    },\r\n    emits: {\r\n        onScroll: (e: Event) => true\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const {scopedSlots} = useScopedSlots({\r\n            default: {item: Object, index: Number, virtualIndex: Number},\r\n            content: {data: Array},\r\n        })\r\n\r\n        const {refs} = useRefs({\r\n            scroll: Scroll,\r\n            content: HTMLDivElement,\r\n        })\r\n\r\n        const {virtual} = useVirtualList({\r\n            refs,\r\n            props,\r\n            emit,\r\n        })\r\n\r\n        return {\r\n            refer: {\r\n                refs,\r\n            },\r\n            render: () => {\r\n                const {list} = virtual.offsetData.value\r\n                return (\r\n                    <Scroll onScroll={virtual.handler.onScroll} ref=\"scroll\" class={virtual.classes.value} disableListTransition>\r\n                        <div class=\"pl-virtual-list-strut\" style={virtual.strutStyles.value}>\r\n                            <div class=\"pl-virtual-list-content\" style={virtual.contentStyles.value} ref=\"content\">\r\n                                {scopedSlots.content({data: list}, list.map((node, virtualIndex) =>\r\n                                    scopedSlots.default({item: node.item, index: node.index, virtualIndex})\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    </Scroll>\r\n                )\r\n            }\r\n        }\r\n    },\r\n})","import Scroll from '../scroll'\r\nimport VirtualList from './virtual-list'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(VirtualList, {\r\n    plugins: [\r\n        Scroll\r\n    ]\r\n})","export const PROGRESS_DEFAULT_PROPS = {\r\n    modelValue: {type: Number, default: 100},                           // 进度百分比，双向绑定值\r\n    outerColor: {type: String, default: '#f2f2f2'},                     // 外层未激活颜色\r\n    innerColor: {type: String, default: '#12b4a5'},                     // 内层已经激活颜色\r\n    speed: {type: Number, default: 3},                                  // 动画速度\r\n    status: {type: String, default: 'normal'},                          // 状态\r\n    successColor: {type: String, default: '#42E67F'},                   // 成功状态颜色\r\n    errorColor: {type: String, default: '#FF6235'},                     // 失败状态颜色\r\n}","import {designComponent} from \"../../use/designComponent\";\r\nimport {PROGRESS_DEFAULT_PROPS} from \"./progress.utils\";\r\nimport {computed} from 'vue';\r\n\r\nexport const ProgressBar = designComponent({\r\n    name: 'pl-progress-bar',\r\n    props: {\r\n        ...PROGRESS_DEFAULT_PROPS,\r\n\r\n        width: {type: String, default: '300px'},\r\n        height: {type: String, default: '6px'},\r\n        inlineText: {type: Boolean},\r\n    },\r\n    setup({props}) {\r\n        const iconColor = computed(() => {\r\n            switch (props.status) {\r\n                case 'success':\r\n                    return props.successColor\r\n                case 'error':\r\n                    return props.errorColor\r\n                default:\r\n                    return null\r\n            }\r\n        })\r\n\r\n        const outerStyles = computed(() => ({\r\n            height: !!props.inlineText ? '16px' : props.height,\r\n            width: props.width,\r\n            backgroundColor: props.outerColor,\r\n            borderRadius: props.width,\r\n        }))\r\n\r\n        const innerStyles = computed(() => ({\r\n            width: `${props.modelValue}%`,\r\n            backgroundColor: iconColor.value || props.innerColor,\r\n            borderRadius: props.width,\r\n        }))\r\n\r\n        return {\r\n            render: () => (\r\n                <div class=\"pl-progress-bar\">\r\n                    <div class=\"pl-progress-bar-outer\" style={outerStyles.value}>\r\n                        <div class=\"pl-progress-bar-inner\" style={innerStyles.value}>\r\n                            {props.inlineText && props.modelValue > 20 && (\r\n                                <div>\r\n                                    <div class=\"pl-progress-bar-content\">\r\n                                        {props.status === 'success' && <pl-icon icon=\"el-icon-check-bold\" class=\"pl-progress-bar-icon-success\" style={{color: 'white'}}/>}\r\n                                        {props.status === 'error' && <pl-icon icon=\"el-icon-close-bold\" class=\"pl-progress-bar-icon-error\" style={{color: 'white'}}/>}\r\n                                        {props.status !== 'success' && props.status !== 'error' && <span>{props.modelValue}%</span>}\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                        {props.inlineText && props.modelValue < 20 && (\r\n                            <div>\r\n                                <div class=\"pl-progress-bar-content\">\r\n                                    {props.status === 'success' && <pl-icon icon=\"el-icon-check-bold\" class=\"pl-progress-bar-icon-success\" style={{color: props.successColor}}/>}\r\n                                    {props.status === 'error' && <pl-icon icon=\"el-icon-close-bold\" class=\"pl-progress-bar-icon-error\" style={{color: props.errorColor}}/>}\r\n                                    {props.status !== 'success' && props.status !== 'error' && <span>{props.modelValue}%</span>}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                    {\r\n                        !props.inlineText && (\r\n                            <div class=\"pl-progress-bar-content\">\r\n                                {props.status === 'success' && <pl-icon icon=\"el-icon-success\" class=\"pl-progress-bar-icon-success\" style={{color: props.successColor}}/>}\r\n                                {props.status === 'error' && <pl-icon icon=\"el-icon-error\" class=\"pl-progress-bar-icon-error\" style={{color: props.errorColor}}/>}\r\n                                {props.status !== 'success' && props.status !== 'error' && <span>{props.modelValue}%</span>}\r\n                            </div>\r\n                        )\r\n                    }\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","export function createAnimate(\r\n    {\r\n        initValue,\r\n        time,\r\n        action,\r\n    }: {\r\n        initValue: () => number,\r\n        time: number,\r\n        action: (val: number) => void,\r\n    }) {\r\n\r\n    let cancel = null as null | number\r\n\r\n    return {\r\n        start: (percent: number, done?: () => void) => {\r\n            if (cancel != null) {\r\n                cancelAnimationFrame(cancel)\r\n            }\r\n            let startTime = Date.now()\r\n\r\n            let n = initValue()\r\n            let k = (percent - n) / time\r\n\r\n            const run = () => {\r\n                let nowTime = Date.now()\r\n                let deltaTime = nowTime - startTime\r\n\r\n                if (deltaTime > time) {\r\n                    cancel = null\r\n                    action(percent)\r\n                    !!done && done()\r\n                    return\r\n                }\r\n                action(Number((deltaTime * k + n).toFixed(2)))\r\n                cancel = requestAnimationFrame(run)\r\n            }\r\n            run()\r\n        },\r\n        stop: () => {\r\n            if (cancel != null) {\r\n                cancelAnimationFrame(cancel)\r\n            }\r\n        }\r\n    }\r\n}","import {designComponent} from \"../../use/designComponent\";\r\nimport {PROGRESS_DEFAULT_PROPS} from \"./progress.utils\";\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {unit} from 'plain-utils/string/unit';\r\nimport {computed, reactive, watch} from 'vue';\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport loading from \"../loading/loading\";\r\nimport {createAnimate} from \"../../utils/createAnimate\";\r\n\r\n/*\r\n\r\nSVG path 指令\r\n\r\nM x,y 在这里x和y是绝对坐标，分别代表水平坐标和垂直坐标\r\nm dx,dy 在这里dx和dy是相对于当前点的距离，分别是向右和向下的距离。\r\nA 绘制圆弧\r\n\r\nSVG提供了一个范围广泛stroke 属性\r\n\r\n- stroke: 定义一条线，文本或元素轮廓颜色\r\n- stroke-width: 定义了一条线，文本或元素轮廓厚度\r\n- stroke-linecap: 不同类型的开放路径的终结(开头和结尾是方形还是带圆角的)\r\n- stroke-dasharray: 虚线\r\n- stroke-dashoffset: dash模式到路径开始的距离,使用了一个 <百分比> 值， 那么这个值就代表了当前viewport的一个百分比，值可以取为负值\r\n\r\nSVG Path标签 A 参数\r\n\r\nA rx ry x-axis-rotation large-arc-flag sweep-flag x y\r\n\r\n- rx：x轴半径\r\n- ry：y轴半径\r\n- x-axis-rotation：指椭圆的X轴与水平方向顺时针方向夹角，可以想像成一个水平的椭圆绕中心点顺时针旋转的角度（一般都是0，不知道有什么用，如果希望旋转一定的夹角的话，可以用transform rotate实现）\r\n- large-arc-flag：1表示大角度弧线，0为小角度弧线（如果数值大于50%，则这个应该是1，否则是0）。\r\n- sweep-flag：1为顺时针方向，0为逆时针方向。\r\n- x：结束点x坐标\r\n- y：结束点y坐标\r\n\r\n*/\r\n\r\nexport const ProgressCircle = designComponent({\r\n    name: 'pl-progress-circle',\r\n    props: {\r\n        ...PROGRESS_DEFAULT_PROPS,\r\n\r\n        size: {type: Number, default: 100},                                                     // 大小尺寸\r\n        lineSize: {type: Number, default: 6},                                                   // 线条尺寸\r\n        startAngle: {type: Number, default: 0},                                                 // 起始角度\r\n\r\n        antiClockwise: {type: Boolean},                                                         // 逆时针\r\n        loading: {type: Boolean},                                                               // 加载动画\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val?: number) => true,\r\n    },\r\n    setup({props, event}) {\r\n\r\n        const {slots} = useSlots()\r\n\r\n        const model = useModel(() => 0, event.emit.onUpdateModelValue, {autoWatch: false})\r\n\r\n        const animate = createAnimate({\r\n            time: props.loading ? 1500 : 900,\r\n            initValue: () => model.value != null ? model.value : (props.loading ? loading.min : 0),\r\n            action: val => model.value = val,\r\n        })\r\n\r\n        const loading = (() => {\r\n            return reactive({\r\n                isLoading: false,\r\n                max: 75,\r\n                min: 15,\r\n                start: () => {\r\n                    const run = () => {\r\n                        if (model.value == null) {\r\n                            model.value = loading.min\r\n                        }\r\n                        animate.start(model.value <= loading.min ? loading.max : loading.min, run)\r\n                    }\r\n                    animate.start(loading.max, run)\r\n                    loading.isLoading = true\r\n                },\r\n                end: () => {\r\n                    animate.stop()\r\n                    loading.isLoading = false\r\n                },\r\n            })\r\n        })();\r\n\r\n        const styles = useStyles(style => {\r\n            style.width = unit(props.size)\r\n            style.height = unit(props.size)\r\n        })\r\n\r\n        const percent = computed(() => model.value == null ? 0 : model.value / 100)\r\n\r\n        const radius = computed(() => 50 - props.lineSize / 2)\r\n\r\n        const pathD = computed(() => {\r\n            let d = [`M 50 ${props.lineSize / 2}`] as (string | number)[]\r\n            const r = radius.value\r\n            const p = percent.value /*小于1的百分比数字*/\r\n\r\n            const degrees = Math.PI * 2 * p\r\n\r\n            d.push(`A ${r} ${r} 0`)\r\n            d.push(p > 0.5 ? 1 : 0)\r\n            d.push(props.antiClockwise ? 0 : 1)\r\n            d.push(`${50 + r * Math.sin(degrees) * (props.antiClockwise ? -1 : 1)} ${50 - r * Math.cos(degrees)}`)\r\n\r\n            return d.join(' ')\r\n        })\r\n\r\n\r\n        const pathStroke = computed(() => {\r\n            switch (props.status) {\r\n                case 'success':\r\n                    return props.successColor\r\n                case 'error':\r\n                    return props.errorColor\r\n                default:\r\n                    return props.innerColor\r\n            }\r\n        })\r\n\r\n        const circleStroke = computed(() => {\r\n            if (percent.value === 1) {\r\n                return pathStroke.value\r\n            }\r\n            return props.outerColor\r\n        })\r\n\r\n        const pathStyles = useStyles(style => {\r\n            style.transform = `rotate(${props.startAngle}deg)`\r\n        })\r\n\r\n        watch(() => props.loading, val => val ? loading.start() : loading.end(), {immediate: true})\r\n\r\n        watch(() => props.modelValue, val => !props.loading && animate.start(val), {immediate: true})\r\n\r\n        return {\r\n            refer: {\r\n                animate,\r\n            },\r\n            render: () => (\r\n                <div class={`pl-progress-circle ${loading.isLoading ? 'pl-progress-circle-loading' : ''}`} style={styles.value}>\r\n                    <svg viewBox=\"0 0 100 100\">\r\n\r\n                        <circle\r\n                            cx=\"50\"\r\n                            cy=\"50\"\r\n                            r={radius.value}\r\n                            stroke={circleStroke.value}\r\n                            stroke-width={props.lineSize}\r\n                            fill=\"none\"/>\r\n\r\n                        {percent.value !== 1 && <path\r\n                            d={pathD.value}\r\n                            stroke={pathStroke.value}\r\n                            stroke-width={props.lineSize}\r\n                            fill=\"none\"\r\n                            stroke-linecap=\"round\"\r\n                            style={pathStyles.value}\r\n                        />}\r\n\r\n                    </svg>\r\n\r\n                    <div class=\"pl-progress-circle-label\">\r\n                        {props.loading ? slots.default() : <>\r\n                            {props.status === 'normal' && slots.default(`${model.value}%`)}\r\n                            {props.status === 'success' && <pl-icon icon=\"el-icon-check-bold\" class=\"pl-progress-bar-icon-success\" style={{color: props.successColor}}/>}\r\n                            {props.status === 'error' && <pl-icon icon=\"el-icon-close-bold\" class=\"pl-progress-bar-icon-error\" style={{color: props.errorColor}}/>}\r\n                        </>}\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {PROGRESS_DEFAULT_PROPS} from \"./progress.utils\";\r\nimport {computed, watch} from 'vue';\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {unit} from 'plain-utils/string/unit';\r\nimport {createAnimate} from \"../../utils/createAnimate\";\r\nimport {useModel} from \"../../use/useModel\";\r\n\r\nexport const ProgressMini = designComponent({\r\n    name: 'pl-progress-mini',\r\n    props: {\r\n        size: {default: 28},\r\n        ...PROGRESS_DEFAULT_PROPS,\r\n        innerColor: {type: String, default: 'rgba(0,0,0,0.25)'},\r\n        round: {type: Boolean},\r\n    },\r\n    setup({props}) {\r\n\r\n        const model = useModel(() => 0, () => undefined, {autoWatch: false})\r\n\r\n        const animate = createAnimate({\r\n            time: 300,\r\n            initValue: () => model.value || 0,\r\n            action: val => model.value = val,\r\n        })\r\n\r\n        const styles = useStyles(style => {\r\n            style.height = unit(props.size)\r\n            style.width = unit(props.size)\r\n        })\r\n\r\n        const classes = computed(() => [\r\n            'pl-progress-mini',\r\n            {\r\n                [`pl-progress-mini-status-${props.status}`]: !!props.status,\r\n                [`pl-progress-mini-round`]: props.round,\r\n            },\r\n        ])\r\n\r\n        const percent = computed(() => 1 - (model.value == null ? 0 : model.value / 100))\r\n\r\n        const radius = computed(() => 50 - 2 / 2)\r\n\r\n        const pathD = computed(() => {\r\n            let d = [`M 50 1`] as (string | number)[]\r\n            const r = radius.value\r\n            const p = percent.value /*小于1的百分比数字*/\r\n\r\n            const degrees = Math.PI * 2 * p\r\n\r\n            d.push(`A ${r} ${r} 0`)\r\n            d.push(p > 0.5 ? 1 : 0)\r\n            d.push(0)\r\n            d.push(`${50 - r * Math.sin(degrees)} ${50 - r * Math.cos(degrees)}`)\r\n\r\n            d.push(`L 50 50 L 50 1`)\r\n\r\n            return d.join(' ')\r\n        })\r\n\r\n\r\n        const pathStroke = computed(() => {\r\n            switch (props.status) {\r\n                case 'success':\r\n                    return props.successColor\r\n                case 'error':\r\n                    return props.errorColor\r\n                default:\r\n                    return props.innerColor\r\n            }\r\n        })\r\n\r\n        watch(() => props.modelValue, val => animate.start(val), {immediate: true})\r\n\r\n        return {\r\n            render: () => (\r\n                <div class={classes.value} style={styles.value}>\r\n                    <svg viewBox=\"0 0 100 100\">\r\n                        {model.value == 0 ? (\r\n                            <circle cx=\"50\" cy=\"50\" r={radius.value} fill={pathStroke.value}/>\r\n                        ) : (\r\n                            <path\r\n                                d={pathD.value}\r\n                                stroke=\"none\"\r\n                                fill={pathStroke.value}\r\n                            />\r\n                        )}\r\n                    </svg>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {ProgressBar} from './progress-bar'\r\nimport {ProgressCircle} from './progress-circle'\r\nimport {ProgressMini} from './progress-mini'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\nimport './progress.scss'\r\n\r\nexport default createComponentPlugin(ProgressBar, {\r\n    exposeComponents: {\r\n        ProgressCircle,\r\n        ProgressMini,\r\n    },\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {StyleProps, useStyle} from \"../../use/useStyle\";\r\nimport {EditProps, useEdit} from \"../../use/useEdit\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {computed, nextTick, ref, watch} from 'vue';\r\nimport './pagination.scss'\r\nimport {useNumber} from \"../../use/useNumber\";\r\n\r\nconst SizesWidth = {\r\n    large: 120,\r\n    normal: 105,\r\n    mini: 90,\r\n}\r\n\r\nexport default designComponent({\r\n    name: 'pl-pagination',\r\n    props: {\r\n        ...StyleProps,\r\n        ...EditProps,\r\n\r\n        pageSize: {type: [Number, String], required: true},                                     // 页大小\r\n        total: {type: [Number, String]},                                                        // 总共条目数\r\n        totalPage: {type: [Number, String]},                                                    // 总页数，与 total/pageSize 作用类似，用来确定总页数；\r\n        pagerCount: {type: [Number, String], default: 7},                                       // 页码按钮数量，当总页数超过时会折叠\r\n        currentPage: {type: [Number, String]},                                                  // 当前页\r\n\r\n        layout: {type: String, default: 'sizes,jumper,prev,pager,next,loading,blank,total,slot'},// 组件布局\r\n        pageSizes: {type: Array, default: [10, 20, 50, 100]},                                   // 页大小下拉选项数组\r\n        prevText: {type: String},                                                               // 上一页按钮替换文本\r\n        nextText: {type: String},                                                               // 下一页按钮替换文本\r\n\r\n        jumperNumberWidth: {type: Number},                                                      // 跳转页的数字输入框宽度\r\n    },\r\n    emits: {\r\n        onJump: (val: number) => true,\r\n        onPrev: () => true,\r\n        onNext: () => true,\r\n        onCurrentChange: (val: number) => true,\r\n        onSizeChange: (val: number) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n        const {editComputed} = useEdit()\r\n        const {styleComputed} = useStyle()\r\n        const {slots} = useSlots([], true)\r\n\r\n        const jumperValue = ref(null as number | null)\r\n        watch(() => props.currentPage, (val) => jumperValue.value = val == null ? 1 : Number(val), {immediate: true})\r\n\r\n        const classes = computed(() => [\r\n            'pl-pagination',\r\n            `pl-pagination-size-${styleComputed.value.size}`,\r\n            `pl-pagination-shape-${styleComputed.value.shape}`,\r\n            {\r\n                'pl-pagination-disabled': editComputed.value.disabled,\r\n            },\r\n        ])\r\n\r\n        const {numberState} = useNumber(props, [\r\n            'pageSize',\r\n            'total',\r\n            'totalPage',\r\n            'pagerCount',\r\n            'currentPage',\r\n        ])\r\n\r\n        const jumperNumberWidth = computed(() => {\r\n            if (!!props.jumperNumberWidth) {\r\n                return props.jumperNumberWidth\r\n            } else {\r\n                return {\r\n                    large: 78,\r\n                    normal: 64,\r\n                    mini: 56,\r\n                }[styleComputed.value.size]\r\n            }\r\n        })\r\n\r\n        const totalPageData = computed(() => {\r\n            if (numberState.totalPage != null) {\r\n                return numberState.totalPage\r\n            } else if (numberState.pageSize != null && numberState.total != null) {\r\n                return Math.ceil(numberState.total / numberState.pageSize)\r\n            } else {\r\n                return 0\r\n            }\r\n        })\r\n\r\n        const pageInfo = computed(() => {\r\n            let currentPage = numberState.currentPage\r\n            let pagerCount = numberState.pagerCount\r\n            let totalPage = Number(totalPageData.value)\r\n            const midPagerCount = (pagerCount - 1) / 2                      // 从0开始计算中间索引\r\n\r\n            let showPrevMore = false\r\n            let showNextMore = false\r\n\r\n            if (totalPage > pagerCount) {\r\n                if (currentPage! > pagerCount - midPagerCount) {\r\n                    showPrevMore = true\r\n                }\r\n                if (currentPage! < totalPage - midPagerCount) {\r\n                    showNextMore = true\r\n                }\r\n            }\r\n\r\n            return {\r\n                currentPage,                // 当前页\r\n                pagerCount,                 // 页码按钮数量，包括左折叠左边的一个按钮以及右折叠右边的一个按钮\r\n                totalPage,                  // 总页数\r\n                midPagerCount,              // 中间页码按钮位置索引\r\n                showPrevMore,               // 是否显示左折叠\r\n                showNextMore,               // 是否显示右折叠\r\n            }\r\n        })\r\n\r\n        const pagers = computed(() => {\r\n            const {\r\n                currentPage,\r\n                pagerCount,\r\n                totalPage,\r\n                showPrevMore,\r\n                showNextMore\r\n            } = pageInfo.value\r\n\r\n            const array: number[] = []\r\n\r\n            if (showPrevMore && !showNextMore) {\r\n                const startPage = totalPage - (pagerCount - 2);\r\n                for (let i = startPage; i < totalPage; i++) {\r\n                    array.push(i);\r\n                }\r\n            } else if (!showPrevMore && showNextMore) {\r\n                for (let i = 2; i < pagerCount; i++) {\r\n                    array.push(i);\r\n                }\r\n            } else if (showPrevMore && showNextMore) {\r\n                const offset = Math.floor(pagerCount / 2) - 1;\r\n                for (let i = currentPage! - offset; i <= currentPage! + offset; i++) {\r\n                    array.push(i);\r\n                }\r\n            } else {\r\n                for (let i = 2; i < totalPage; i++) {\r\n                    array.push(i);\r\n                }\r\n            }\r\n\r\n            return array\r\n        })\r\n\r\n        const utils = {\r\n            /**\r\n             * 获取页码按钮的 class\r\n             * @author  韦胜健\r\n             * @date    2020/3/30 12:07\r\n             */\r\n            getPagerButtonClass(page: string | number) {\r\n                return [\r\n                    'pl-pagination-pager-button',\r\n                    {\r\n                        'pl-pagination-pager-button-active': page === pageInfo.value.currentPage\r\n                    },\r\n                ]\r\n            },\r\n            /**\r\n             * 跳转到指定页\r\n             * @author  韦胜健\r\n             * @date    2020/3/30 14:02\r\n             */\r\n            changeCurrent(val: number) {\r\n                if (!editComputed.value.editable) return;\r\n                emit.onCurrentChange(val)\r\n            },\r\n        }\r\n\r\n        const handler = {\r\n            /**\r\n             * 跳转到上一页\r\n             * @author  韦胜健\r\n             * @date    2020/3/30 14:08\r\n             */\r\n            onPrev() {\r\n                if (!editComputed.value.editable) return;\r\n                if (pageInfo.value.currentPage === 1) {\r\n                    return\r\n                }\r\n                utils.changeCurrent(pageInfo.value.currentPage! - 1)\r\n                emit.onPrev()\r\n            },\r\n            /**\r\n             * 跳转到下一页\r\n             * @author  韦胜健\r\n             * @date    2020/3/30 14:09\r\n             */\r\n            onNext() {\r\n                if (!editComputed.value.editable) return;\r\n                if (pageInfo.value.totalPage != null && pageInfo.value.currentPage == pageInfo.value.totalPage) {\r\n                    return\r\n                }\r\n                utils.changeCurrent(pageInfo.value.currentPage! + 1)\r\n                emit.onNext()\r\n            },\r\n            /**\r\n             * 跳转到指定页\r\n             * @author  韦胜健\r\n             * @date    2020/3/30 14:29\r\n             */\r\n            async onJump() {\r\n                if (!editComputed.value.editable) return;\r\n                await nextTick()\r\n                let val = jumperValue.value\r\n                if (!val && val !== 0) {\r\n                    val = 1\r\n                    await nextTick()\r\n                    jumperValue.value = val\r\n                }\r\n                if (val > pageInfo.value.totalPage) {\r\n                    val = pageInfo.value.totalPage\r\n                    await nextTick()\r\n                    jumperValue.value = val\r\n                }\r\n                emit.onJump(val)\r\n            },\r\n        }\r\n\r\n        return {\r\n            render: () => {\r\n                const sizes = (\r\n                    <pl-select\r\n                        class=\"pl-pagination-sizes\"\r\n                        modelValue={numberState.pageSize}\r\n\r\n                        loading={false}\r\n                        readonly={editComputed.value.readonly || editComputed.value.loading}\r\n                        filterable={false}\r\n                        inputProps={{width: SizesWidth[styleComputed.value.size], clearIcon: false}}\r\n                        onChange={emit.onSizeChange}>\r\n                        {(props.pageSizes || []).map(item => (\r\n                            <pl-select-option label={`${item} 条/页`} val={item} key={item}/>\r\n                        ))}\r\n                    </pl-select>\r\n                )\r\n\r\n                const jumper = (\r\n                    <div class=\"pl-pagination-jumper\">\r\n                        <span>前往</span>\r\n                        <pl-number inputProps={{width: jumperNumberWidth.value}}\r\n                                   readonly={editComputed.value.readonly || editComputed.value.loading}\r\n                                   hideButton\r\n                                   loading={false}\r\n                                   v-model={jumperValue.value}\r\n                                   min={0}\r\n                                   onEnter={handler.onJump}/>\r\n                        <span>页</span>\r\n                    </div>\r\n                )\r\n\r\n                const prev = (\r\n                    <div class=\"pl-pagination-prev pl-pagination-pager-button\" onClick={handler.onPrev}>\r\n                        {!!props.prevText ? props.prevText : <pl-icon icon=\"el-icon-arrow-left\"/>}\r\n                    </div>\r\n                )\r\n                const next = (\r\n                    <div class=\"pl-pagination-next pl-pagination-pager-button\" onClick={handler.onNext}>\r\n                        {!!props.nextText ? props.nextText : <pl-icon icon=\"el-icon-arrow-right\"/>}\r\n                    </div>\r\n                )\r\n\r\n                const pager = (\r\n                    <ul class=\"pl-pagination-pager\">\r\n                        {pageInfo.value.totalPage > 0 && <li key=\"first\" class={utils.getPagerButtonClass(1)} onClick={() => utils.changeCurrent(1)}>1</li>}\r\n                        {pageInfo.value.showPrevMore && <li key=\"prev-more\" class={utils.getPagerButtonClass('prev')}>\r\n                            <pl-icon icon=\"el-icon-more\"/>\r\n                        </li>}\r\n                        {pagers.value.map((page, index) => <li class={utils.getPagerButtonClass(page)} key={index} onClick={() => utils.changeCurrent(page)}>{page}</li>)}\r\n                        {pageInfo.value.showNextMore && <li key=\"prev-more\" class={utils.getPagerButtonClass('next')}>\r\n                            <pl-icon icon=\"el-icon-more\"/>\r\n                        </li>}\r\n                        {pageInfo.value.totalPage > 1 && <li key=\"last\" class={utils.getPagerButtonClass(pageInfo.value.totalPage)} onClick={() => utils.changeCurrent(pageInfo.value.totalPage)}>{pageInfo.value.totalPage}</li>}\r\n                    </ul>\r\n                )\r\n\r\n                const blank = (<div class=\"pl-pagination-blank\"></div>)\r\n                const total = props.total == null ? null : (<div class=\"pl-pagination-total\"><span>总共 {props.total} 条记录</span></div>)\r\n                const slot = !slots.default.isExist() ? null : (<div class=\"pl-pagination-slot\">{slots.default()}</div>)\r\n                const loading = !editComputed.value.loading ? null : (\r\n                    <div class=\"pl-pagination-loading\">\r\n                        <pl-loading type=\"beta\"/>\r\n                    </div>\r\n                )\r\n\r\n                let parts = {sizes, jumper, prev, pager, next, loading, blank, total, slot,}\r\n\r\n                let layout = props.layout.replace(/\\s+/g, '').split(',').reduce((ret: any[], item) => {\r\n                    let part = (parts as any)[item]\r\n                    if (!!part) {\r\n                        ret.push(part)\r\n                    }\r\n                    return ret\r\n                }, [])\r\n\r\n                return (\r\n                    <div class={classes.value}>\r\n                        {layout}\r\n                    </div>\r\n                )\r\n            }\r\n        }\r\n    },\r\n})","import {Ref} from 'vue';\r\n\r\n/*节点状态类型*/\r\nexport enum StepStatus {\r\n    wait = 'wait',\r\n    finish = 'finish',\r\n    process = 'process',\r\n    error = 'error',\r\n}\r\n\r\nexport const StepUtils = {\r\n    getCurrentIndex: (current: any, items: any[]) => {\r\n        if (typeof current === \"number\") {\r\n            return current\r\n        } else {\r\n            for (let i = 0; i < items.length; i++) {\r\n                const item = items[i];\r\n                if (item.val === current) return i\r\n            }\r\n        }\r\n    },\r\n    getStepStatus: (\r\n        group: { currentStatus: StepStatus, currentIndex: Ref<number> },\r\n        child: { status: StepStatus, index: Ref<number> }\r\n    ): StepStatus | null => {\r\n\r\n        const {currentStatus, currentIndex} = group\r\n        const {status, index} = child\r\n\r\n        if (!!status) return status as StepStatus\r\n        if (currentIndex.value > index.value) {\r\n            return StepStatus.finish\r\n        } else if (currentIndex.value === index.value) {\r\n            if (!!currentStatus) {\r\n                return currentStatus as StepStatus\r\n            } else {\r\n                return StepStatus.process\r\n            }\r\n        } else if (currentIndex.value < index.value) {\r\n            return StepStatus.wait\r\n        } else {\r\n            return null\r\n        }\r\n    }\r\n}","import Icon from '../icon'\r\nimport Loading from '../loading'\r\nimport Button from '../button'\r\nimport Number from '../number'\r\n\r\nimport Pagination from './pagination'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(Pagination, {\r\n    plugins: [\r\n        Icon,\r\n        Loading,\r\n        Button,\r\n        Number,\r\n    ]\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {computed} from 'vue';\r\nimport './badge.scss'\r\n\r\nexport default designComponent({\r\n    name: 'pl-badge',\r\n    props: {\r\n        data: {},                                       //显示的数据\r\n        bottom: {type: Boolean},                        //标记纵向是否在底部\r\n        start: {type: Boolean},                         //标记横向是否在右边\r\n        status: {type: String, default: 'error'},       //标记背景色\r\n        dot: {type: Boolean,},                          //标记是否只是一个小圆点\r\n        max: {type: Number,},                           //标记显示文本最大值\r\n    },\r\n    setup({props}) {\r\n        const {slots} = useSlots(['badge'])\r\n        const contentClass = computed(() => [\r\n            'pl-badge-content',\r\n            {\r\n                'pl-badge-content-dot': !!props.dot,\r\n            },\r\n            `pl-badge-content-${!!props.bottom ? 'bottom' : 'top'}`,\r\n            `pl-badge-content-${!!props.start ? 'start' : 'end'}`,\r\n            `pl-badge-content-status-${props.status}`,\r\n        ])\r\n        const showValue = computed(() => {\r\n            if (props.data == null) return null\r\n            if (props.max != null && (Number(props.data)) > props.max) return props.max + '+'\r\n            return props.data\r\n        })\r\n        return {\r\n            render: () => (\r\n                <div class=\"pl-badge\">\r\n                    {slots.default()}\r\n                    <div class={contentClass.value}>\r\n                        {slots.badge(props.data != null ? <span>{showValue.value}</span> : null)}\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import Badge from './badge'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(Badge)","import {designComponent} from \"../../../use/designComponent\";\r\nimport {useSlots} from \"../../../use/useSlots\";\r\nimport {computed, getCurrentInstance, Ref} from 'vue';\r\nimport {StepStatus, StepUtils} from \"../step.utils\";\r\nimport {StepCollector} from \"./step-group\";\r\nimport {useRefs} from \"../../../use/useRefs\";\r\n\r\nexport const Step = designComponent({\r\n    name: 'pl-step',\r\n    props: {\r\n        icon: {type: String},\r\n        status: {type: String},\r\n        title: {type: String},\r\n        content: {type: String},\r\n        val: {type: String},\r\n    },\r\n    emits: {\r\n        onClick: (e: MouseEvent) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n        const {refs} = useRefs({\r\n            el: HTMLDivElement\r\n        })\r\n        const {slots} = useSlots(['title', 'content'])\r\n        const stepGroup = StepCollector.child({sort: () => refs.el})\r\n        const ctx = getCurrentInstance()!\r\n\r\n        /*---------------------------------------computer-------------------------------------------*/\r\n\r\n        const index = computed(() => stepGroup.items.indexOf(ctx.proxy))\r\n\r\n        const icon = computed(() => {\r\n            if (!!props.icon) return props.icon\r\n            return null\r\n        })\r\n\r\n        const isLast = computed(() => {\r\n            return index.value === stepGroup.items.length - 1\r\n        })\r\n\r\n        const currentStatus: Ref<StepStatus | null> = computed(() => {\r\n            return StepUtils.getStepStatus({\r\n                currentIndex: stepGroup.currentIndex as any,\r\n                currentStatus: stepGroup.props.currentStatus as any\r\n            }, {\r\n                status: props.status as any,\r\n                index\r\n            })\r\n        })\r\n\r\n\r\n        const classes = computed(() => [\r\n            'pl-step',\r\n            `pl-step-status-${currentStatus.value}`,\r\n            {\r\n                'pl-step-has-icon': !!icon.value,\r\n                'pl-step-last': isLast.value,\r\n            }\r\n        ])\r\n\r\n        return {\r\n            refer: {},\r\n            render: () => (\r\n                <div class={classes.value} onClick={emit.onClick} ref=\"el\">\r\n                    <div class=\"pl-step-head\">\r\n                        {!stepGroup.props.vertical && (stepGroup.isTitleAlignBottom.value || isLast.value) && <span class=\"pl-step-divider pl-step-divider-prev\"/>}\r\n                        <span class=\"pl-step-icon\">\r\n                        {\r\n                            !!icon.value ?\r\n                                (currentStatus.value !== 'process' ? <pl-icon icon={icon.value}/> : <pl-loading type=\"delta\"/>)\r\n                                :\r\n                                (\r\n                                    !!stepGroup.props.dotIcon ?\r\n                                        (<span class=\"pl-step-dot\"/>)\r\n                                        :\r\n                                        (\r\n                                            <span class=\"pl-step-number\">\r\n                                                {currentStatus.value === StepStatus.finish ?\r\n                                                    <pl-icon icon=\"el-icon-check\"/>\r\n                                                    :\r\n                                                    (currentStatus.value === StepStatus.error ?\r\n                                                            <pl-icon icon=\"el-icon-close\"/>\r\n                                                            :\r\n                                                            <span>{index.value + 1}</span>\r\n                                                    )\r\n                                                }\r\n                                            </span>\r\n                                        )\r\n                                )\r\n                        }\r\n                    </span>\r\n                        {!stepGroup.isTitleAlignBottom.value && (\r\n                            <span class=\"pl-step-title\">\r\n                            {slots.title(props.title)}\r\n                        </span>\r\n                        )}\r\n                        {(stepGroup.isTitleAlignBottom.value || !isLast.value) && <span class=\"pl-step-divider pl-step-divider-next\"/>}\r\n                    </div>\r\n                    <div class=\"pl-step-body\">\r\n                        {!stepGroup.isTitleAlignBottom.value ?\r\n                            <span class=\"pl-step-icon\"/>\r\n                            :\r\n                            <span class=\"pl-step-title\">\r\n                            {slots.title(props.title)}\r\n                        </span>\r\n                        }\r\n                        <span class=\"pl-step-content\">\r\n                        {slots.content(props.content)}\r\n                    </span>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../../use/designComponent\";\r\nimport {useSlots} from \"../../../use/useSlots\";\r\nimport {computed} from 'vue';\r\nimport {StepUtils} from \"../step.utils\";\r\nimport {useCollect} from \"../../../use/useCollect\";\r\nimport {Step} from \"./step\";\r\nimport './step.scss'\r\n\r\nexport const StepGroup = designComponent({\r\n    name: 'pl-step-group',\r\n    props: {\r\n        current: {type: [String, Number]},                              // 双向绑定，指定当前步骤条的步骤，在step组件中，可以通过 status 属性覆盖状态\r\n        currentStatus: {type: String},                                  // 当前激活节点的状态\r\n        type: {type: String, default: 'normal'},                        // 步骤条类型，normal、navigation\r\n        vertical: {type: Boolean},                                      // 步骤条是否为纵向\r\n        titleAlignBottom: {type: Boolean},                              // 默认情况下，标题会放在图标右侧，设置该属性可以改为放在图标下面\r\n        mini: {type: Boolean, default: true},                           // 迷你步骤条\r\n        dotIcon: {type: Boolean},                                       // 图标是否采用小圆点替代\r\n    },\r\n    setup({props}) {\r\n\r\n        const {slots} = useSlots()\r\n\r\n        const items = StepCollector.parent() as any[]\r\n\r\n        /*---------------------------------------computer-------------------------------------------*/\r\n\r\n        const isTitleAlignBottom = computed(() => {\r\n            return props.titleAlignBottom || props.vertical\r\n        })\r\n        const classes = computed(() => [\r\n            'pl-step-group',\r\n            `pl-step-group-${props.vertical ? 'vertical' : 'horizontal'}`,\r\n            {\r\n                'pl-step-group-title-align-bottom': isTitleAlignBottom.value,\r\n                'pl-step-group-mini': props.mini,\r\n                'pl-step-group-dot-icon': props.dotIcon,\r\n            },\r\n        ])\r\n        const currentIndex = computed(() => StepUtils.getCurrentIndex(props.current, items)) as { value: number }\r\n\r\n        return {\r\n            refer: {\r\n                items,\r\n                currentIndex,\r\n                props,\r\n                isTitleAlignBottom,\r\n            },\r\n            render: () => (\r\n                <div class={classes.value}>\r\n                    {slots.default()}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})\r\n\r\nexport const StepCollector = useCollect(() => ({\r\n    parent: StepGroup,\r\n    child: Step,\r\n}))","import {designComponent} from \"../../../use/designComponent\";\r\nimport {getCurrentInstance, computed, Ref} from 'vue';\r\nimport {useSlots} from \"../../../use/useSlots\";\r\nimport {StepStatus, StepUtils} from \"../step.utils\";\r\nimport {ArrowStepCollector} from \"./arrow-step-group\";\r\nimport {useRefs} from \"../../../use/useRefs\";\r\n\r\nexport const ArrowStep = designComponent({\r\n    name: 'pl-arrow-step',\r\n    props: {\r\n        status: {type: String},\r\n        title: {type: String},\r\n        val: {type: String},\r\n        hideIndex: {type: Boolean},\r\n    },\r\n    emits: {\r\n        onClick: (e: MouseEvent) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n        const ctx = getCurrentInstance()!\r\n        const {slots} = useSlots(['title'])\r\n        const {refs} = useRefs({el: HTMLDivElement})\r\n        const stepGroup = ArrowStepCollector.child({sort: () => refs.el})\r\n        /*---------------------------------------computer-------------------------------------------*/\r\n\r\n        const index = computed(() => {\r\n            return stepGroup.items.indexOf(ctx.proxy)\r\n        }) as { value: number }\r\n\r\n        const isLast = computed(() => {\r\n            return index.value === stepGroup.items.length - 1\r\n        })\r\n\r\n        const isFirst = computed(() => {\r\n            return index.value === 0\r\n        })\r\n\r\n        const currentStatus: Ref<StepStatus | null> = computed(() => {\r\n            return StepUtils.getStepStatus({\r\n                currentIndex: stepGroup.currentIndex as any,\r\n                currentStatus: stepGroup.props.currentStatus as any\r\n            }, {\r\n                status: props.status as any,\r\n                index: index as any\r\n            })\r\n        })\r\n\r\n        const classes = computed(() => [\r\n            'pl-arrow-step',\r\n            `pl-arrow-step-status-${currentStatus.value}`,\r\n        ])\r\n\r\n        return {\r\n            refer: {},\r\n            render: () => (\r\n                index.value != null ? (\r\n                    <div class={classes.value} onClick={emit.onClick} ref=\"el\">\r\n                        <div class=\"pl-arrow-step-content\">\r\n                            {!props.hideIndex && <span class=\"pl-arrow-step-sequence\">{index.value + 1}. &nbsp;</span>}\r\n                            <span>{slots.default(props.title)}</span>\r\n                        </div>\r\n                        {!isLast.value ? <pl-triangle direction=\"right\" size={null}/> : null}\r\n                        {!isFirst.value ? [\r\n                            <pl-triangle direction=\"bottom\" half=\"start\" size={null}/>,\r\n                            <pl-triangle direction=\"top\" half=\"start\" size={null}/>\r\n                        ] : null}\r\n                    </div>\r\n                ) : <div/>\r\n            )\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../../use/designComponent\";\r\nimport {useSlots} from \"../../../use/useSlots\";\r\nimport {computed} from 'vue';\r\nimport {StepUtils} from \"../step.utils\";\r\nimport {useCollect} from \"../../../use/useCollect\";\r\nimport {ArrowStep} from \"./arrow-step\";\r\nimport './arrow-step.scss'\r\n\r\nexport const ArrowStepGroup = designComponent({\r\n    name: 'pl-arrow-step-group',\r\n    props: {\r\n        current: {},\r\n        currentStatus: {type: String},\r\n    },\r\n    setup({props}) {\r\n        const {slots} = useSlots()\r\n        const items = ArrowStepCollector.parent() as any[]\r\n        const currentIndex = computed(() => StepUtils.getCurrentIndex(props.current, items)) as { value: number }\r\n        return {\r\n            refer: {\r\n                props,\r\n                currentIndex,\r\n                items,\r\n            },\r\n            render: () => (\r\n                <div class=\"pl-arrow-step-group\">\r\n                    {slots.default()}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})\r\n\r\nexport const ArrowStepCollector = useCollect(() => ({\r\n    parent: ArrowStepGroup,\r\n    child: ArrowStep,\r\n}))","import {designComponent} from \"../../use/designComponent\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport {useProps} from \"../../use/useProps\";\r\nimport {computed, onMounted} from 'vue';\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {unit} from 'plain-utils/string/unit';\r\nimport './triangle.scss'\r\n\r\nconst DirectionMap = {\r\n    top: 'bottom',\r\n    bottom: 'top',\r\n    left: 'right',\r\n    right: 'left',\r\n}\r\n\r\nfunction uppercaseFirstLetter(name: string): string {\r\n    if (!name) return name\r\n    return name.charAt(0).toUpperCase() + name.slice(1)\r\n}\r\n\r\nexport default designComponent({\r\n    name: 'pl-triangle',\r\n    props: {\r\n        direction: {type: String, default: 'top'},\r\n        half: {type: String},\r\n        size: {type: [Number, String], default: 20},\r\n    },\r\n    setup({props}) {\r\n        const {refs} = useRefs({\r\n            el: HTMLDivElement,\r\n        })\r\n\r\n        const {propsState} = useProps(props, {\r\n            size: useProps.NUMBER,\r\n        })\r\n\r\n        const classes = computed(() => [\r\n            'pl-triangle',\r\n            `pl-triangle-direction-${props.direction}`,\r\n            {\r\n                [`pl-triangle-half-${props.half}`]: !!props.half\r\n            }\r\n        ])\r\n\r\n        const styles = useStyles(style => {\r\n            if (!props.half) {\r\n                return style\r\n            }\r\n            if (props.direction === 'top' || props.direction === 'bottom') {\r\n                style.width = unit(propsState.size)\r\n            } else {\r\n                style.height = unit(propsState.size)\r\n            }\r\n            return style\r\n        })\r\n\r\n        const targetStyles = useStyles((style: any) => {\r\n\r\n            style.border = `solid transparent ${unit(propsState.size)}`\r\n            style[`border${uppercaseFirstLetter(props.direction)}Width`] = '0'\r\n            style[`border${uppercaseFirstLetter((DirectionMap as any)[props.direction])}Color`] = 'currentColor'\r\n\r\n            if (!!props.half) {\r\n                if (props.direction === 'top' || props.direction === 'bottom') {\r\n                    props.half === 'end' && (style.right = unit(propsState.size))\r\n                } else {\r\n                    props.half === 'end' && (style.bottom = unit(propsState.size))\r\n                }\r\n            }\r\n\r\n            return style\r\n        })\r\n\r\n        if (propsState.size == null) {\r\n            onMounted(() => {\r\n                propsState.size = (refs.el!.parentNode as HTMLDivElement).offsetHeight / 2\r\n            })\r\n        }\r\n\r\n        return {\r\n            render: () => (\r\n                propsState.size == null ? <span ref=\"el\" style=\"display:none\"/> : (\r\n                    <div class={classes.value} style={styles.value} ref=\"el\">\r\n                        <div class=\"pl-triangle-target\" style={targetStyles.value}/>\r\n                    </div>\r\n                )\r\n            )\r\n        }\r\n    },\r\n})","import Triangle from './triangle'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(Triangle)","import {StepGroup} from \"./step/step-group\";\r\nimport {Step} from \"./step/step\";\r\nimport {ArrowStepGroup} from \"./arrow-step/arrow-step-group\";\r\nimport {ArrowStep} from \"./arrow-step/arrow-step\";\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\nimport Triangle from '../triangle'\r\n\r\nexport default createComponentPlugin(Step, {\r\n    exposeComponents: {\r\n        StepGroup,\r\n        ArrowStepGroup,\r\n        ArrowStep,\r\n    },\r\n    plugins: [Triangle]\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {reactive} from 'vue';\r\nimport {useScopedSlots} from \"../../use/useScopedSlots\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-dropdown',\r\n    props: {\r\n        modelValue: {type: Boolean},\r\n        disabledHideOnClickOption: {type: Boolean},                     // 禁用点击 dropdown-option 之后关闭 dropdown\r\n    },\r\n    provideRefer: true,\r\n    emits: {\r\n        onUpdateModelValue: (val: boolean) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const {slots} = useSlots([\r\n            'popper'\r\n        ])\r\n        const {scopedSlots} = useScopedSlots({\r\n            reference: {open: Boolean}\r\n        })\r\n\r\n        const model = useModel(() => props.modelValue, emit.onUpdateModelValue)\r\n\r\n        const state = reactive({})\r\n\r\n        const handler = {\r\n            clickDropdownOption: (e: MouseEvent) => {\r\n                if (!props.disabledHideOnClickOption) {\r\n                    model.value = false\r\n                }\r\n            }\r\n        }\r\n\r\n        return {\r\n            refer: {\r\n                state,\r\n                handler,\r\n            },\r\n            render: () => (\r\n                <pl-popper\r\n                    trigger=\"click\"\r\n                    v-model={model.value}\r\n                    noContentPadding\r\n                    transition=\"pl-transition-popper-drop\"\r\n                    v-slots={{popper: slots.popper}}>\r\n                    {scopedSlots.reference(\r\n                        {open: model.value},\r\n                        slots.default()\r\n                    )}\r\n                </pl-popper>\r\n            )\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport Dropdown from './dropdown'\r\n\r\nexport default designComponent({\r\n    name: 'pl-dropdown-menu',\r\n    props: {},\r\n    emits: {\r\n        onClickOption: (e: MouseEvent, val: any) => true,\r\n    },\r\n    provideRefer: true,\r\n    setup({props, event: {emit}}) {\r\n\r\n        const dropdown = Dropdown.use.inject()\r\n        const {slots} = useSlots()\r\n\r\n        const handler = {\r\n            clickOption: (e: MouseEvent, val: any) => {\r\n                emit.onClickOption(e, val)\r\n                dropdown.handler.clickDropdownOption(e)\r\n            }\r\n        }\r\n\r\n        return {\r\n            refer: {\r\n                handler,\r\n            },\r\n            render: slots.default\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-dropdown-group',\r\n    props: {\r\n        title: {type: String},\r\n    },\r\n    setup({props}) {\r\n\r\n        const {slots} = useSlots(['title'], true)\r\n\r\n        return {\r\n            render: () => (\r\n                <div class=\"pl-dropdown-group\">\r\n                    {slots.title.isExist() || props.title && (\r\n                        <div class=\"pl-dropdown-group-title\">\r\n                            {slots.title(props.title)}\r\n                        </div>\r\n                    )}\r\n                    <div class=\"pl-dropdown-group-content\">\r\n                        {slots.default()}\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport Menu from './dropdown-menu'\r\nimport {useClass} from \"../../use/useClasses\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-dropdown-option',\r\n    props: {\r\n        label: {type: [String]},\r\n        val: {},\r\n        icon: {type: String},\r\n        disabled: {type: Boolean},\r\n        align: {type: String, default: 'left'},\r\n    },\r\n    emits: {\r\n        onClick: (e: MouseEvent) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const {slots} = useSlots()\r\n        const menu = Menu.use.inject()\r\n\r\n        const onClick = (e: MouseEvent) => {\r\n            if (props.disabled) {\r\n                return\r\n            }\r\n            emit.onClick(e)\r\n            menu.handler.clickOption(e, props.val)\r\n        }\r\n\r\n        const classes = useClass(() => [\r\n            'pl-dropdown-option',\r\n            `pl-dropdown-option-align-${props.align}`,\r\n            {\r\n                'pl-dropdown-option-disabled': props.disabled\r\n            }\r\n        ])\r\n\r\n        return {\r\n            render: () => (\r\n                <div class={classes.value} onClick={onClick}>\r\n                    {!!props.icon && <pl-icon icon={props.icon} class=\"pl-dropdown-option-icon\"/>}\r\n                    {slots.default(props.label)}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import Dropdown from './dropdown'\r\nimport DropdownMenu from './dropdown-menu'\r\nimport DropdownGroup from './dropdown-group'\r\nimport DropdownOption from './dropdown-option'\r\nimport './dropdow.scss'\r\n\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(Dropdown, {\r\n    exposeComponents: {\r\n        DropdownMenu,\r\n        DropdownGroup,\r\n        DropdownOption,\r\n    }\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport './tooltip.scss'\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {useClass} from \"../../use/useClasses\";\r\nimport {unit} from \"plain-utils/string/unit\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport {onUpdated, reactive, onMounted} from 'vue';\r\n\r\nexport default designComponent({\r\n    name: 'pl-tooltip',\r\n    props: {\r\n        modelValue: {type: Boolean},                        // 双向绑定控制是否显示\r\n        tooltip: {type: String},                            // tooltip提示文本，可以通过 tooltip插槽替换\r\n        showWidth: {type: Number},                          // 设置宽度，当内容宽度超过这个宽度时，才会显示tooltip\r\n        theme: {type: String, default: 'dark'},             // 主题，dark以及light\r\n\r\n        placement: {type: String, default: 'top-start'},    // 位置\r\n        popperClass: {type: Object},                        // 传递给 pl-popper 的popperClass 属性\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: boolean) => true\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const state = reactive({\r\n            scrollWidth: 0,\r\n            offsetWidth: 0,\r\n        })\r\n        const {refs} = useRefs({\r\n            reference: HTMLSpanElement\r\n        })\r\n        const {slots} = useSlots(['tooltip'])\r\n        const model = useModel(() => props.modelValue, emit.onUpdateModelValue)\r\n\r\n        const popperClasses = useClass(() => [\r\n            'pl-tooltip',\r\n            `pl-tooltip-theme-${props.theme}`,\r\n            props.popperClass,\r\n        ])\r\n\r\n        if (props.showWidth) {\r\n            onUpdated(() => {\r\n                const {scrollWidth, offsetWidth} = refs.reference\r\n                Object.assign(state, {scrollWidth, offsetWidth})\r\n            })\r\n            onMounted(() => {\r\n                const {scrollWidth, offsetWidth} = refs.reference\r\n                Object.assign(state, {scrollWidth, offsetWidth})\r\n            })\r\n        }\r\n\r\n        return {\r\n            render: () => (\r\n                <pl-popper\r\n                    disabled={!!props.showWidth ? state.offsetWidth === state.scrollWidth : false}\r\n                    popperClass={popperClasses.value}\r\n                    placement={props.placement}\r\n                    v-model={model.value}\r\n                    v-slots={{\r\n                        default: () => !!props.showWidth ? (\r\n                            <span class=\"pl-tooltip-reference\"\r\n                                  ref=\"reference\"\r\n                                  style={{width: unit(props.showWidth)!}}>\r\n                                {slots.default(props.tooltip)}\r\n                            </span>\r\n                        ) : slots.default(props.tooltip),\r\n                        popper: () => slots.tooltip(props.tooltip)\r\n                    }}\r\n                />\r\n            )\r\n        }\r\n    },\r\n})","import {Directive, nextTick} from 'vue';\r\nimport {PlainTooltip} from 'plain-popper';\r\nimport {PlainTooltipConfig} from 'plain-popper/src/PlainTooltipUtils';\r\nimport {deepEqual} from \"plain-utils/object/deepEqual\";\r\n\r\ntype TooltipBinding = string | PlainTooltipConfig\r\n\r\nclass Tooltip {\r\n\r\n    static DEFAULT_OPTION = {\r\n        placement: 'top',\r\n        theme: 'dark',\r\n        animate: 'fade',\r\n        trigger: 'hover',\r\n    }\r\n\r\n    tooltip: PlainTooltip | null = null\r\n    oldOption: any = null\r\n\r\n    constructor(el: HTMLElement, option: PlainTooltipConfig | string) {\r\n        this.updateOption(el, option)\r\n    }\r\n\r\n    async updateOption(el: HTMLElement, option: PlainTooltipConfig | string) {\r\n        if (deepEqual(this.oldOption, option)) {\r\n            return\r\n        }\r\n        this.oldOption = option\r\n        await nextTick()\r\n        if (!!this.tooltip) {\r\n            this.tooltip.destroy()\r\n            this.tooltip = null\r\n        }\r\n        if (!!option) {\r\n            let config: PlainTooltipConfig = (typeof option === \"string\" ? {content: option} : option) as any\r\n            config = Object.assign({reference: el} as Partial<PlainTooltipConfig>, Tooltip.DEFAULT_OPTION, config)\r\n            this.tooltip = new PlainTooltip(config)\r\n        }\r\n    }\r\n\r\n    unbind() {\r\n        if (!!this.tooltip) {\r\n            this.tooltip.destroy()\r\n        }\r\n    }\r\n}\r\n\r\nexport const TooltipDirective = (() => {\r\n    const map = new WeakMap()\r\n    const directive: Directive = {\r\n        mounted(el: HTMLElement, binding: { value: TooltipBinding }) {\r\n            if (!!binding.value) {\r\n                let service = new Tooltip(el, binding.value)\r\n                map.set(el, service)\r\n                service.updateOption(el, binding.value)\r\n            }\r\n        },\r\n        updated(el: HTMLElement, binding: { value: TooltipBinding }) {\r\n            if (!!binding.value) {\r\n                let service = map.get(el) as Tooltip | null\r\n                if (!service) {\r\n                    service = new Tooltip(el, binding.value)\r\n                    map.set(el, service)\r\n                }\r\n                service.updateOption(el, binding.value)\r\n            } else {\r\n                let service = map.get(el) as Tooltip | null\r\n                if (!!service) {\r\n                    service.unbind()\r\n                    service = null\r\n                    map.set(el, service)\r\n                }\r\n            }\r\n        },\r\n        unmounted(el: HTMLElement) {\r\n            const service = map.get(el) as Tooltip\r\n            if (!!service) {\r\n                service.unbind()\r\n            }\r\n        },\r\n    }\r\n    return directive\r\n})()","import Tooltip from './tooltip'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\nimport {App} from 'vue';\r\nimport {TooltipDirective} from \"./tooltip-directive\";\r\n\r\nexport default createComponentPlugin(Tooltip, {\r\n    plugins: [\r\n        {\r\n            install(app: App) {\r\n                app.directive('tooltip', TooltipDirective)\r\n            },\r\n        }\r\n    ]\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {useModel} from \"../../use/useModel\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-collapse-group',\r\n    props: {\r\n        modelValue: {type: [String, Array]},\r\n        limit: {type: Number, default: 1},\r\n        disabled: {type: Boolean},\r\n    },\r\n    provideRefer: true,\r\n    emits: {\r\n        onUpdateModelValue: (val: string | string[] | undefined) => true\r\n    },\r\n    setup({props, event: {emit}}) {\r\n        const {slots} = useSlots()\r\n        const model = useModel(() => props.modelValue as string | string[] | undefined, emit.onUpdateModelValue)\r\n\r\n        const utils = {\r\n            isOpen: (val: string) => {\r\n                if (!model.value) {\r\n                    return\r\n                }\r\n                if (typeof model.value === \"string\") {\r\n                    return model.value == val\r\n                } else {\r\n                    return (model.value as string[]).indexOf(val) > -1\r\n                }\r\n            }\r\n        }\r\n\r\n        const handler = {\r\n            clickCollapseTitle: (val: string) => {\r\n                if (props.limit === 1) {\r\n                    model.value = val == model.value ? undefined : val\r\n                } else {\r\n                    const value = (model.value as string[] | undefined) || []\r\n                    const index = value.indexOf(val)\r\n                    if (index > -1) {\r\n                        value.splice(index, 1)\r\n                    } else {\r\n                        value.push(val)\r\n                    }\r\n                    model.value = [...value]\r\n                }\r\n            },\r\n        }\r\n\r\n        return {\r\n            refer: {\r\n                utils,\r\n                handler,\r\n                props,\r\n                model,\r\n            },\r\n            render: () => (\r\n                <div class=\"pl-collapse-group\">\r\n                    {slots.default()}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {useClass} from \"../../use/useClasses\";\r\nimport Group from './collapse-group'\r\nimport {computed} from 'vue';\r\nimport {createCounter} from \"../../utils/createCounter\";\r\nimport './collapse.scss'\r\n\r\nconst valCounter = createCounter('collapse')\r\n\r\nexport default designComponent({\r\n    name: 'pl-collapse',\r\n    props: {\r\n        modelValue: {type: Boolean, default: true},\r\n        title: {type: String},\r\n        detail: {type: String},\r\n        noArrow: {type: Boolean},\r\n        disabled: {type: Boolean, default: null},\r\n        val: {type: String},\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: boolean) => true\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const model = useModel(() => props.modelValue, emit.onUpdateModelValue)\r\n        const group = Group.use.inject(null)\r\n\r\n        const selfVal = computed(() => props.val || valCounter())\r\n\r\n        const isOpen = computed(() => {\r\n            if (!!group) {\r\n                return group.utils.isOpen(selfVal.value)\r\n            } else {\r\n                return model.value\r\n            }\r\n        })\r\n\r\n        const {slots} = useSlots([\r\n            'title',\r\n        ], true)\r\n\r\n        const classes = useClass(() => [\r\n            'pl-collapse',\r\n            {\r\n                'pl-collapse-has-arrow': !props.noArrow,\r\n                'pl-collapse-is-open': isOpen.value,\r\n            }\r\n        ])\r\n\r\n        const isDisabled = computed(() => {\r\n            if (props.disabled != null) {\r\n                return props.disabled\r\n            }\r\n            if (!!group) {\r\n                return group.props.disabled\r\n            }\r\n            return false\r\n        })\r\n\r\n        const handler = {\r\n            onClickTitle: () => {\r\n                if (isDisabled.value) {\r\n                    return\r\n                }\r\n                if (!!group) {\r\n                    group.handler.clickCollapseTitle(selfVal.value)\r\n                } else {\r\n                    model.value = !model.value\r\n                }\r\n            }\r\n        }\r\n\r\n        return {\r\n            render: () => (\r\n                <div class={classes.value}>\r\n                    {(!!props.title || slots.title.isExist()) && <div class=\"pl-collapse-title\" onClick={handler.onClickTitle}>\r\n                        {slots.title(props.title)}\r\n\r\n                        {!props.noArrow && !isDisabled.value && <div class=\"pl-collapse-arrow\">\r\n                            <pl-icon icon=\"el-icon-arrow-right\"/>\r\n                        </div>}\r\n                    </div>}\r\n                    <pl-collapse-transition>\r\n                        {isOpen.value && (!!props.detail || slots.default.isExist()) && <div class=\"pl-collapse-detail\">\r\n                            {slots.default(props.detail)}\r\n                        </div>}\r\n                    </pl-collapse-transition>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {Transition} from 'vue'\r\nimport {designComponent} from \"../../use/designComponent\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {addClass} from \"plain-utils/dom/addClass\";\r\nimport {removeClass} from \"plain-utils/dom/removeClass\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-collapse-transition',\r\n    emits: {\r\n        onAfterLeave: () => true,\r\n    },\r\n    setup({event: {emit}}) {\r\n\r\n        const {slots} = useSlots()\r\n\r\n        const handler = {\r\n            beforeEnter(el: HTMLElement) {\r\n                addClass(el, 'pl-collapse-transition');\r\n                if (!el.dataset) (el as any).dataset = {};\r\n\r\n                el.dataset.oldPaddingTop = el.style.paddingTop;\r\n                el.dataset.oldPaddingBottom = el.style.paddingBottom;\r\n\r\n                el.style.height = '0';\r\n                el.style.paddingTop = '0';\r\n                el.style.paddingBottom = '0';\r\n            },\r\n            enter(el: HTMLElement) {\r\n                el.dataset.oldOverflow = el.style.overflow;\r\n                if (el.scrollHeight !== 0) {\r\n                    el.style.height = el.scrollHeight + 'px';\r\n                    el.style.paddingTop = el.dataset.oldPaddingTop as string;\r\n                    el.style.paddingBottom = el.dataset.oldPaddingBottom as string;\r\n                } else {\r\n                    el.style.height = '';\r\n                    el.style.paddingTop = el.dataset.oldPaddingTop as string;\r\n                    el.style.paddingBottom = el.dataset.oldPaddingBottom as string;\r\n                }\r\n\r\n                el.style.overflow = 'hidden';\r\n            },\r\n            afterEnter(el: HTMLElement) {\r\n                removeClass(el, 'pl-collapse-transition');\r\n                el.style.height = '';\r\n                el.style.overflow = el.dataset.oldOverflow as string;\r\n            },\r\n            beforeLeave(el: HTMLElement) {\r\n                if (!el.dataset) (el as any).dataset = {};\r\n                el.dataset.oldPaddingTop = el.style.paddingTop;\r\n                el.dataset.oldPaddingBottom = el.style.paddingBottom;\r\n                el.dataset.oldOverflow = el.style.overflow;\r\n                el.style.height = el.scrollHeight + 'px';\r\n                el.style.overflow = 'hidden';\r\n            },\r\n            leave(el: HTMLElement) {\r\n                if (el.scrollHeight != 0) {\r\n                    addClass(el, 'pl-collapse-transition');\r\n                    el.style.transitionProperty = 'height'\r\n                    el.style.height = \"0\";\r\n                    el.style.paddingTop = '0';\r\n                    el.style.paddingBottom = '0';\r\n                }\r\n            },\r\n            afterLeave(el: HTMLElement) {\r\n                removeClass(el, 'pl-collapse-transition');\r\n                el.style.height = '';\r\n                el.style.overflow = el.dataset.oldOverflow as string;\r\n                el.style.paddingTop = el.dataset.oldPaddingTop as string;\r\n                el.style.paddingBottom = el.dataset.oldPaddingBottom as string;\r\n                emit.onAfterLeave()\r\n            }\r\n        }\r\n\r\n        return {\r\n            render: () => (\r\n                <Transition\r\n                    {...{\r\n                        onBeforeEnter: handler.beforeEnter,\r\n                        onEnter: handler.enter,\r\n                        onAfterEnter: handler.afterEnter,\r\n                        onBeforeLeave: handler.beforeLeave,\r\n                        onLeave: handler.leave,\r\n                        onAfterLeave: handler.afterLeave,\r\n                    } as any}>\r\n                    {slots.default()}\r\n                </Transition>\r\n            )\r\n        }\r\n    },\r\n})","import Collapse from './collapse'\r\nimport CollapseGroup from './collapse-group'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\nimport CollapseTransition from './collapse-transition'\r\n\r\nexport default createComponentPlugin(Collapse, {\r\n    exposeComponents: {\r\n        CollapseTransition,\r\n        CollapseGroup,\r\n    },\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {StyleProps, StyleStatus, useStyle} from \"../../use/useStyle\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {STATUS} from \"../../utils/constant\";\r\nimport {computed, reactive} from 'vue';\r\nimport './alert.scss'\r\n\r\nexport default designComponent({\r\n    name: 'pl-alert',\r\n    props: {\r\n        ...StyleProps,\r\n\r\n        label: {type: String},                                      // 提示文本\r\n        desc: {type: String},                                       // 描述文本\r\n        align: {type: String, default: 'left'},                     // 文本对其方式\r\n        theme: {type: String, default: 'lite'},                     // 主题，lite轻色，deep深色\r\n        noClose: {type: Boolean},                                   // 禁用关闭\r\n        icon: {type: String, default: undefined},                   // 显示的图标\r\n    },\r\n    setup({props}) {\r\n\r\n        const state = reactive({\r\n            isClosed: false,\r\n        })\r\n\r\n        const {slots} = useSlots([\r\n            'desc',\r\n            'close',\r\n        ], true)\r\n\r\n        const {styleComputed} = useStyle({status: StyleStatus.info})\r\n\r\n        const icon = computed(() => {\r\n            if (props.icon === null) {\r\n                return null\r\n            }\r\n            return props.icon || STATUS[styleComputed.value.status!].icon\r\n        })\r\n        const classes = computed(() => [\r\n            'pl-alert',\r\n            `pl-alert-status-${styleComputed.value.status}`,\r\n            `pl-alert-shape-${styleComputed.value.shape}`,\r\n            `pl-alert-theme-${props.theme}`,\r\n            `pl-alert-align-${props.align}`,\r\n            {\r\n                'pl-alert-has-icon': !!icon.value,\r\n                'pl-alert-has-desc': !!props.desc || slots.desc.isExist(),\r\n                'pl-alert-has-close': !props.noClose,\r\n            }\r\n        ])\r\n\r\n        const handler = {\r\n            onClickClosed: () => {\r\n                state.isClosed = true\r\n            }\r\n        }\r\n\r\n        return {\r\n            render: () => (\r\n                <pl-collapse-transition>\r\n                    {!state.isClosed && <div class=\"pl-alert-wrapper\">\r\n                        <div class={classes.value}>\r\n                            {!!icon.value && <div class=\"pl-alert-icon\">\r\n                                <pl-icon icon={icon.value}/>\r\n                            </div>}\r\n                            {!props.noClose && <div class=\"pl-alert-close\" onClick={handler.onClickClosed}>\r\n                                {slots.close(<pl-icon icon=\"el-icon-close\"/>)}\r\n                            </div>}\r\n                            {(!!props.label || slots.default.isExist()) && (\r\n                                <div class=\"pl-alert-label\">\r\n                                    {slots.default(props.label)}\r\n                                </div>\r\n                            )}\r\n                            {(!!props.desc || slots.desc.isExist()) && (\r\n                                <div class=\"pl-alert-desc\">\r\n                                    {slots.desc(props.desc)}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </div>}\r\n                </pl-collapse-transition>\r\n            )\r\n        }\r\n\r\n    },\r\n})","import Collapse from '../collapse'\r\nimport Icon from '../icon'\r\nimport Alert from './alert'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(Alert, {\r\n    plugins: [\r\n        Collapse,\r\n        Icon,\r\n    ]\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {useProps} from \"../../use/useProps\";\r\nimport {unit} from \"plain-utils/string/unit\";\r\nimport './card.scss'\r\nimport {useClass} from \"../../use/useClasses\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-card',\r\n    props: {\r\n        width: {type: [String, Number], default: '300'},        // 卡片宽度\r\n        noPadding: {type: Boolean},                             // 去掉标题以及内容的内边距\r\n        mini: {type: Boolean},                                  // 小型卡片\r\n        title: {type: String},                                  // 卡片标题\r\n        desc: {type: String},                                   // 卡片标题描述\r\n        shadow: {type: String},                                 // 阴影, normal,hover\r\n    },\r\n    setup({props, event: {emit}}) {\r\n        const {slots} = useSlots([\r\n            'title',                                // 卡片标题\r\n            'desc',                                 // 标题下方的描述\r\n            // 'default',                              // 卡片内容\r\n            'operator',                             // 卡片标题右侧的操作按钮\r\n            'poster',                               // 卡片海报（标题上方）\r\n            'foot',                                 // 卡片底部操作栏\r\n        ], true)\r\n\r\n        const classes = useClass(() => [\r\n            'pl-card',\r\n            {\r\n                'pl-card-mini': props.mini,\r\n                'pl-card-no-padding': props.noPadding,\r\n                [`pl-card-shadow-${props.shadow}`]: !!props.shadow,\r\n            }\r\n        ])\r\n\r\n        const styles = useStyles(style => {\r\n            !!props.width && (style.width = unit(props.width))\r\n        })\r\n\r\n        return {\r\n            render: () => (\r\n                <div class={classes.value} style={styles.value}>\r\n                    {slots.poster.isExist() && <div class=\"pl-card-poster\">\r\n                        {slots.poster()}\r\n                    </div>}\r\n                    {(slots.title.isExist() || slots.desc.isExist() || slots.operator.isExist() || props.title || props.desc) && (\r\n                        <div class=\"pl-card-head\">\r\n                            <div class=\"pl-card-head-content\">\r\n                                {(slots.title.isExist() || props.title) && <div class=\"pl-card-title\">\r\n                                    {slots.title(props.title)}\r\n                                </div>}\r\n                                {(slots.desc.isExist() || props.desc) && <div class=\"pl-card-desc\">\r\n                                    {slots.desc(props.desc)}\r\n                                </div>}\r\n                            </div>\r\n                            {slots.operator.isExist() && <div class=\"pl-card-head-operator\">\r\n                                {slots.operator()}\r\n                            </div>}\r\n                        </div>\r\n                    )}\r\n                    {slots.default.isExist() && <div class=\"pl-card-content\">\r\n                        {slots.default()}\r\n                    </div>}\r\n                    {slots.foot.isExist() && <div class=\"pl-card-foot\">\r\n                        {slots.foot()}\r\n                    </div>}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import Card from './card'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(Card)","import {designComponent} from \"../../use/designComponent\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {CarouselCollector} from \"./carousel\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport {computed} from 'vue';\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {createCounter} from \"../../utils/createCounter\";\r\n\r\nconst counter = createCounter('carousel')\r\n\r\nexport default designComponent({\r\n    name: 'pl-carousel-item',\r\n    props: {\r\n        val: {type: [String, Number]},\r\n    },\r\n    setup({props}) {\r\n\r\n        const {refs} = useRefs({\r\n            el: HTMLDivElement,\r\n        })\r\n        const carousel = CarouselCollector.child({sort: () => refs.el})\r\n        const {slots} = useSlots()\r\n        const itemVal = computed(() => props.val == null ? counter() : props.val)\r\n        const style = useStyles(() => carousel.utils.getItemStyles(itemVal.value) as any)\r\n\r\n        return {\r\n            refer: {\r\n                itemVal,\r\n            },\r\n            render: () => (\r\n                <div class={[\r\n                    'pl-carousel-item',\r\n                    {\r\n                        'pl-carousel-item-animating': carousel.utils.isAnimating(itemVal.value),\r\n                    }\r\n                ]}\r\n                     ref=\"el\"\r\n                     style={style.value}>\r\n                    {slots.default()}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {computed, onMounted, reactive, watch} from 'vue'\r\nimport {designComponent} from \"../../use/designComponent\";\r\nimport './carousel.scss'\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {useProps} from \"../../use/useProps\";\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {unit} from \"plain-utils/string/unit\";\r\nimport Item from './carousel-item'\r\nimport {useCollect} from \"../../use/useCollect\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport {useScopedSlots} from \"../../use/useScopedSlots\";\r\nimport {useClass} from \"../../use/useClasses\";\r\nimport {throttle} from \"plain-utils/utils/throttle\";\r\n\r\nexport const Carousel = designComponent({\r\n    name: 'pl-carousel',\r\n    props: {\r\n        modelValue: {type: [String, Number]},                       // 双向绑定值\r\n        height: {type: [Number, String], default: 225},             // 轮播高度\r\n        autoplay: {type: Number, default: 3000},                    // 自定播放时间，为0则取消自动播放\r\n        disabledOperator: {type: Boolean},                          // 禁用前后按钮\r\n        disabledIndicator: {type: Boolean},                         // 禁用指示器\r\n        indicatorTrigger: {type: String, default: 'click'},         // 指示器激活触发器：click。hover\r\n        vertical: {type: Boolean},                                  // 轮播方向为纵向\r\n        card: {type: Boolean},                                      // 卡片形式的切换\r\n        cardScale: {type: Number, default: 0.64},                   // 卡片形式轮播的时候，缩小比例\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: string | number | undefined | null) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        /*子元素*/\r\n        const items = CarouselCollector.parent()\r\n        const {scopedSlots} = useScopedSlots({\r\n            indicator: {val: String, index: Number, active: Boolean}\r\n        })\r\n        const {slots} = useSlots([\r\n            'cover',\r\n        ], true)\r\n        const {propsState} = useProps(props, {\r\n            height: useProps.NUMBER,\r\n        })\r\n        const {refs} = useRefs({\r\n            el: HTMLDivElement\r\n        })\r\n        const state = reactive({\r\n            width: 0,                                                   // 容器宽度\r\n            height: 0,                                                  // 容器高度\r\n            autoplayTimer: null as null | number,                       // 自动播放定时器\r\n            prevActiveIndex: null as null | number,                     // 上一个激活的index，当元素个数为3时，需要通过这个属性优化动画\r\n        })\r\n\r\n        /*双向绑定值*/\r\n        const model = useModel(() => props.modelValue, emit.onUpdateModelValue)\r\n        /*子元素val数组*/\r\n        const vals = computed(() => items.map(item => String(item.itemVal.value)!))\r\n        /*当前激活的元素的val值*/\r\n        const activeVal = computed(() => {\r\n            if (vals.value.length === 0) {\r\n                return null\r\n            }\r\n            if (model.value != null) {\r\n                return String(model.value)\r\n            } else {\r\n                return vals.value[0]\r\n            }\r\n        })\r\n        /*当前激活的元素的val的在 数组中的索引*/\r\n        const activeIndex = computed(() => {\r\n            if (!activeVal.value) {\r\n                return 0\r\n            }\r\n            return vals.value.indexOf(activeVal.value)\r\n        })\r\n\r\n        /*实际渲染的，排序过的val数组*/\r\n        const sortVals = computed(() => {\r\n            const valArray = vals.value\r\n            let prev = valArray.slice(0, activeIndex.value)\r\n            let next = valArray.slice(activeIndex.value + 1)\r\n\r\n            if (Math.abs(prev.length - next.length) > 1) {\r\n                if (prev.length > next.length) {\r\n                    while (prev.length - next.length > 1) {\r\n                        next.push(prev.shift()!)\r\n                    }\r\n                } else {\r\n                    while (next.length - prev.length > 1) {\r\n                        prev.unshift(next.pop()!)\r\n                    }\r\n                }\r\n            }\r\n            return [...prev, activeVal.value, ...next]\r\n        })\r\n\r\n        const classes = useClass(() => [\r\n            'pl-carousel',\r\n            {\r\n                'pl-carousel-vertical': props.vertical,\r\n                'pl-carousel-card': props.card,\r\n            }\r\n        ])\r\n        const styles = useStyles(style => {\r\n            style.height = unit(propsState.height)\r\n        })\r\n\r\n        const utils = {\r\n            /**\r\n             * 子元素的左偏移位置\r\n             * @author  韦胜健\r\n             * @date    2020/11/22 23:19\r\n             */\r\n            getItemStyles: (val: any) => {\r\n                if (!state.width) {\r\n                    return null\r\n                }\r\n                /*当前val在sortVals中的索引*/\r\n                const sortIndex = sortVals.value.indexOf(String(val))\r\n                /*激活val在sortVals中的索引*/\r\n                const activeSortIndex = sortVals.value.indexOf(String(activeVal.value))\r\n\r\n                /*当前val与激活val在sortVal的间距*/\r\n                let duration = sortIndex - activeSortIndex\r\n\r\n                const style = {\r\n                    zIndex: sortVals.value.length - Math.abs(duration),\r\n                } as any\r\n\r\n                if (!props.vertical) {\r\n                    if (!props.card) {\r\n                        /*非卡片形式的轮播*/\r\n                        style.transform = `translateX(${duration * state.width}px)`\r\n                    } else {\r\n                        style.width = `${props.cardScale * 100}%`\r\n                        style.height = `${props.cardScale * 100}%`\r\n\r\n                        /*卡片轮播*/\r\n                        let left = duration * state.width * (props.cardScale) + (state.width * (1 - props.cardScale) / 2)\r\n                        left += (sortIndex > activeSortIndex ? -1 : 1) * Math.abs(sortIndex - activeSortIndex) * state.width * 0.125\r\n                        style.transform = `translateX(${left}px) translateY(${state.height * ((1 - props.cardScale) / 2)}px) scale(${sortIndex === activeSortIndex ? '1' : '0.83'})`\r\n                    }\r\n                } else {\r\n                    /*纵向非卡片形式的轮播*/\r\n                    style.transform = `translateY(${duration * state.height}px)`\r\n                }\r\n\r\n                return style\r\n            },\r\n            /**\r\n             * 重置自动播放定时器\r\n             * @author  韦胜健\r\n             * @date    2020/11/22 23:19\r\n             */\r\n            resetAutoplayTimer: (autoplay: number | null) => {\r\n                /*无论怎么样都要清理掉定时器*/\r\n                if (!!state.autoplayTimer) {\r\n                    clearInterval(state.autoplayTimer)\r\n                    state.autoplayTimer = null\r\n                }\r\n                /*如果autoplay有值，重新设定一个自动播放定时器*/\r\n                if (!!autoplay) {\r\n                    state.autoplayTimer = setInterval(methods.next, autoplay)\r\n                }\r\n            },\r\n            /**\r\n             * 子元素是否需要动画（当元素为3时，只有prevActiveIndex以及activeIndex的元素需要动画，另一个需要立刻移动到对应的位置）\r\n             * @author  韦胜健\r\n             * @date    2020/11/22 23:20\r\n             */\r\n            isAnimating: (val: any) => {\r\n                if (vals.value.length !== 3 && !props.card) {\r\n                    return true\r\n                }\r\n                let index = vals.value.indexOf(val)\r\n                return index === state.prevActiveIndex || index === activeIndex.value\r\n            },\r\n        }\r\n\r\n        const methods = {\r\n            /**\r\n             * 显示上一个元素\r\n             * @author  韦胜健\r\n             * @date    2020/11/22 23:21\r\n             */\r\n            prev: () => {\r\n                state.prevActiveIndex = activeIndex.value\r\n                model.value = sortVals.value[sortVals.value.indexOf(activeVal.value) - 1]!\r\n            },\r\n            /**\r\n             * 显示下一个元素\r\n             * @author  韦胜健\r\n             * @date    2020/11/22 23:21\r\n             */\r\n            next: () => {\r\n                state.prevActiveIndex = activeIndex.value\r\n                model.value = sortVals.value[sortVals.value.indexOf(activeVal.value) + 1]!\r\n            },\r\n            /**\r\n             * 显示特定元素\r\n             * @author  韦胜健\r\n             * @date    2020/11/22 23:21\r\n             */\r\n            show: (val: any) => {\r\n                state.prevActiveIndex = activeIndex.value\r\n                model.value = val\r\n\r\n                utils.resetAutoplayTimer(props.autoplay)\r\n            },\r\n        }\r\n\r\n        const handler = {\r\n            onPrev: throttle(() => {\r\n                utils.resetAutoplayTimer(props.autoplay)\r\n                methods.prev()\r\n            }, 800, {trailing: true, leading: true}),\r\n            onNext: throttle(() => {\r\n                utils.resetAutoplayTimer(props.autoplay)\r\n                methods.next()\r\n            }, 800, {trailing: true, leading: true}),\r\n            onIndicator: (index: number) => {\r\n                methods.show(vals.value[index])\r\n            },\r\n        }\r\n\r\n        onMounted(() => {\r\n            state.width = refs.el.offsetWidth\r\n            state.height = refs.el.offsetHeight\r\n        })\r\n\r\n        watch(() => props.autoplay, utils.resetAutoplayTimer, {immediate: true})\r\n\r\n        return {\r\n            refer: {\r\n                utils,\r\n                methods,\r\n            },\r\n            render: () => (\r\n                <div class={classes.value} style={styles.value} ref=\"el\">\r\n                    {slots.default()}\r\n                    {slots.cover.isExist() && <div class=\"pl-carousel-cover\">\r\n                        {slots.cover()}\r\n                    </div>}\r\n\r\n                    {!props.disabledOperator && <div class=\"pl-carousel-operator\">\r\n                        <div class=\"pl-carousel-operator-btn pl-carousel-operator-prev\" onClick={handler.onPrev}>\r\n                            <pl-icon icon=\"el-icon-arrow-left\"/>\r\n                        </div>\r\n                        <div class=\"pl-carousel-operator-btn pl-carousel-operator-next\" onClick={handler.onNext}>\r\n                            <pl-icon icon=\"el-icon-arrow-right\"/>\r\n                        </div>\r\n                    </div>}\r\n\r\n                    {!props.disabledIndicator && <div class=\"pl-carousel-indicator\">\r\n                        {items.map((item, index) => (\r\n                            scopedSlots.indicator({val: String(item.itemVal.value), index, active: index === activeIndex.value}, (\r\n                                <div\r\n                                    {...{\r\n                                        [props.indicatorTrigger === 'hover' ? 'onMouseenter' : 'onClick']: () => handler.onIndicator(index)\r\n                                    }}\r\n                                    class={[\r\n                                        'pl-carousel-indicator-item',\r\n                                        {\r\n                                            'pl-carousel-indicator-item-active': index === activeIndex.value,\r\n                                        }\r\n                                    ]} key={index}/>\r\n                            ))\r\n                        ))}\r\n                    </div>}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})\r\n\r\nexport const CarouselCollector = useCollect(() => ({\r\n    parent: Carousel,\r\n    child: Item,\r\n}))","import {Carousel} from './carousel'\r\nimport CarouselItem from './carousel-item'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\n\r\nexport default createComponentPlugin(Carousel, {exposeComponents: {CarouselItem}})","import {reactive, computed, onBeforeUnmount, ComponentPublicInstance, getCurrentInstance} from 'vue';\r\nimport {useEdit} from \"../../../use/useEdit\";\r\nimport {PopperAgent, SpecificPopperServiceOption} from \"./utils\";\r\n\r\nexport type EditPopperAgent = ReturnType<typeof useEditPopperAgent>\r\n\r\nexport function useEditPopperAgent(\r\n    {\r\n        event: {emit},\r\n        serviceGetter,\r\n        option,\r\n    }: {\r\n        event: { emit: { onBlur: (e: Event) => void, onFocus: (e: Event) => void } },\r\n        serviceGetter: (ins: ComponentPublicInstance) => ((o: SpecificPopperServiceOption) => PopperAgent),\r\n        option: SpecificPopperServiceOption,\r\n    }) {\r\n\r\n    const ctx = getCurrentInstance()!\r\n    const {editComputed} = useEdit()\r\n\r\n    const state = reactive({\r\n        agent: null as null | PopperAgent,\r\n        focusCounter: 0,\r\n    })\r\n\r\n    const isShow = computed(() => !!state.agent && state.agent.isShow)\r\n    const isOpen = computed(() => !!state.agent && state.agent.isOpen)\r\n\r\n    const methods = {\r\n        show: async () => {\r\n            if (!editComputed.value.editable) return\r\n            if (isShow.value) return;\r\n            if (!state.agent) {\r\n                state.agent = await serviceGetter(ctx.proxy!)(option)\r\n            }\r\n            await state.agent.show()\r\n        },\r\n        hide: async () => {\r\n            if (!isShow.value) return\r\n            await state.agent!.hide()\r\n        },\r\n        toggle: async () => {\r\n            isShow.value ? methods.hide() : methods.show()\r\n        }\r\n    }\r\n\r\n    const inputHandler = {\r\n        onClickInput: async () => await methods.toggle(),\r\n        onBlur: async (e: Event) => {\r\n            state.focusCounter--\r\n            if (state.focusCounter === 0) {\r\n                emit.onBlur(e)\r\n                await methods.hide()\r\n            }\r\n        },\r\n        onFocus: (e: Event) => {\r\n            if (state.focusCounter === 0) {\r\n                emit.onFocus(e)\r\n            }\r\n            state.focusCounter = 1\r\n        },\r\n        onEsc: async () => {\r\n            await methods.hide()\r\n        },\r\n        onEnter: async (e: KeyboardEvent) => {\r\n            e.stopPropagation()\r\n            e.preventDefault()\r\n            await methods.show()\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 当前组件示例销毁的时候，解除与service的绑定关系\r\n     * @author  韦胜健\r\n     * @date    2020/11/27 10:12\r\n     */\r\n    onBeforeUnmount(() => {\r\n        if (!!state.agent) {\r\n            state.agent.destroy()\r\n        }\r\n    })\r\n\r\n    return {\r\n        methods,\r\n        inputHandler,\r\n        state,\r\n        isShow,\r\n        isOpen,\r\n        editComputed,\r\n    }\r\n\r\n}","import {createAgentGetter} from \"../../popper/edit/createAgentGetter\";\r\nimport {App} from 'vue';\r\n\r\nexport const ColorPickerServiceGetter = createAgentGetter({\r\n    name: 'color-picker',\r\n    render(attrs: any) {\r\n        return <pl-color-panel{...attrs}/>\r\n    },\r\n    defaultPopperAttrs: {\r\n        transition: 'pl-transition-popper-drop',\r\n    },\r\n    defaultRenderAttrs: {\r\n        onChange() {this.hide()},\r\n    },\r\n})\r\n\r\nexport default {\r\n    install(app: App) {\r\n        app.mixin({\r\n            beforeCreate(): void {\r\n                Object.defineProperty(this, '$colorPicker', {\r\n                    get() {\r\n                        const service = ColorPickerServiceGetter(this)\r\n                        return service\r\n                    },\r\n                })\r\n            }\r\n        })\r\n    },\r\n}","/*---------------------------------------rgb to hex-------------------------------------------*/\r\n\r\nconst INT_HEX_MAP = {10: 'A', 11: 'B', 12: 'C', 13: 'D', 14: 'E', 15: 'F'} as any;\r\n\r\nconst hexOne = function (value: number) {\r\n    value = Math.min(Math.round(value), 255);\r\n    const high = Math.floor(value / 16);\r\n    const low = value % 16;\r\n    return '' + (INT_HEX_MAP[high] || high) + (INT_HEX_MAP[low] || low);\r\n};\r\n\r\n/**\r\n * rgb -> hex\r\n * @author  韦胜健\r\n * @date    2020/4/4 8:58\r\n */\r\nexport const rgb2hex = function (r: number, g: number, b: number): string {\r\n    if (isNaN(r) || isNaN(g) || isNaN(b)) return '';\r\n    return '#' + hexOne(r) + hexOne(g) + hexOne(b);\r\n};\r\n\r\n/*---------------------------------------rgb to hsv-------------------------------------------*/\r\n\r\n/*是否为0.**形式的字符串*/\r\nconst isOnePointZero = function (n: string | number): boolean {\r\n    return typeof n === 'string' && n.indexOf('.') !== -1 && parseFloat(n) === 1;\r\n};\r\n\r\n/*是否为百分比字符串*/\r\nconst isPercentage = function (n: any): boolean {\r\n    return typeof n === 'string' && n.indexOf('%') !== -1;\r\n};\r\n\r\n/*将[0,n]转换为[0,1]*/\r\nconst bound01 = function (value: string | number, max: number): number {\r\n    if (isOnePointZero(value)) value = '100%';\r\n    const processPercent = isPercentage(value);\r\n    value = Math.min(max, Math.max(0, parseFloat(value as string)));\r\n    // Automatically convert percentage into number\r\n    if (processPercent) {\r\n        value = parseInt(String(value * max), 10) / 100;\r\n    }\r\n    // Handle floating point rounding errors\r\n    if ((Math.abs(value - max) < 0.000001)) {\r\n        return 1;\r\n    }\r\n    // Convert into [0, 1] range if it isn't already\r\n    return (value % max) / parseFloat(max as any as string);\r\n};\r\n\r\n/**\r\n * rgb -> hsv\r\n * @author  韦胜健\r\n * @date    2020/4/4 9:09\r\n */\r\nexport const rgb2hsv = function (r: number, g: number, b: number): { h: number, s: number, v: number } {\r\n    r = bound01(r, 255);\r\n    g = bound01(g, 255);\r\n    b = bound01(b, 255);\r\n\r\n    const max = Math.max(r, g, b);\r\n    const min = Math.min(r, g, b);\r\n    let h = 0, s = 0;\r\n    let v = max;\r\n\r\n    const d = max - min;\r\n    s = max === 0 ? 0 : d / max;\r\n\r\n    if (max === min) {\r\n        h = 0; // achromatic\r\n    } else {\r\n        switch (max) {\r\n            case r:\r\n                h = (g - b) / d + (g < b ? 6 : 0);\r\n                break;\r\n            case g:\r\n                h = (b - r) / d + 2;\r\n                break;\r\n            case b:\r\n                h = (r - g) / d + 4;\r\n                break;\r\n        }\r\n        h /= 6;\r\n    }\r\n    const ret = {h: h * 360, s: s * 100, v: v * 100} as any\r\n    Object.keys(ret).forEach(key => ret[key] = ret[key].toFixed(0) - 0)\r\n    return ret;\r\n};\r\n\r\n/*---------------------------------------hsv -> rgb-------------------------------------------*/\r\n/*\r\n *  hsv颜色值转rgb颜色值\r\n *  @author              martsforever\r\n *  @datetime           2019/2/16 22:43\r\n *  @param hue          色调，用角度度量，取值范围为0°～360°，从红色开始按逆时针方向计算，红色为0°，绿色为120°,蓝色为240°。它们的补色是：黄色为60°，青色为180°,品红为300°；\r\n *  @param saturation   饱和度，一种颜色，可以看成是某种光谱色与白色混合的结果。其中光谱色所占的比例愈大，颜色接近光谱色的程度就愈高，颜色的饱和度也就愈高。饱和度高，颜色则深而艳。光谱色的白光成分为0，饱和度达到最高。通常取值范围为0%～100%，值越大，颜色越饱和。\r\n *  @param value        明度，明度表示颜色明亮的程度，对于光源色，明度值与发光体的光亮度有关；对于物体色，此值和物体的透射比或反射比有关。通常取值范围为0%（黑）到100%（白）。\r\n */\r\nexport const hsv2rgb = function (hue: number, saturation: number, value: number): { r: number, g: number, b: number } {\r\n    hue = bound01(hue, 360) * 6;\r\n    saturation = bound01(saturation, 100);\r\n    value = bound01(value, 100);\r\n\r\n    const i = Math.floor(hue);\r\n    const f = hue - i;\r\n    const p = value * (1 - saturation);\r\n    const q = value * (1 - f * saturation);\r\n    const t = value * (1 - (1 - f) * saturation);\r\n    const mod = i % 6;\r\n    const r = [value, q, p, p, t, value][mod];\r\n    const g = [t, value, value, q, p, p][mod];\r\n    const b = [p, p, t, value, value, q][mod];\r\n\r\n    return {\r\n        r: Math.round(r * 255),\r\n        g: Math.round(g * 255),\r\n        b: Math.round(b * 255)\r\n    };\r\n};\r\n\r\n/*---------------------------------------other-------------------------------------------*/\r\n\r\nconst HEX_INT_MAP = {A: 10, B: 11, C: 12, D: 13, E: 14, F: 15} as any;\r\n\r\nexport const parseHexChannel = function (hex: string) {\r\n    if (hex.length === 2) {\r\n        return (HEX_INT_MAP[hex[0].toUpperCase()] || +hex[0]) * 16 + (HEX_INT_MAP[hex[1].toUpperCase()] || +hex[1]);\r\n    }\r\n\r\n    return HEX_INT_MAP[hex[1].toUpperCase()] || +hex[1];\r\n};\r\n\r\n/**\r\n * 判断是否为一个有效的颜色值\r\n * @author  韦胜健\r\n * @date    2020/4/7 11:32\r\n */\r\nexport function isEffectiveColorString(color: string): boolean {\r\n    if (!color) return true\r\n    if (color.indexOf('#') === 0 && /^#[0-9a-fA-F]{6}$/.test(color)) {\r\n        return true\r\n    } else if (color.indexOf('rgb') === 0 && /^rgb(\\(\\d{1,3}(,\\d{1,3}){2}|a\\(\\d{1,3}(,\\d{1,3}){2},(1\\.?0*|0\\.\\d+))\\)$/.test(color)) {\r\n        return true\r\n    }\r\n    return false\r\n}","import {hsv2rgb, parseHexChannel, rgb2hex, rgb2hsv} from \"./ColorUtils\";\r\n\r\nexport enum ColorFormat {\r\n    hex = 'hex',\r\n    rgb = 'rgb'\r\n}\r\n\r\nexport class Color {\r\n\r\n    red = 0                                             // 红\r\n    green = 0                                           // 绿\r\n    blue = 0                                            // 蓝\r\n\r\n    hue = 0                                             // 色相\r\n    saturation = 0                                      // 饱和度\r\n    val = 0                                             // 明亮度\r\n\r\n    alpha = 0                                           // 透明度\r\n    hex = ''                                            // 十六进制值\r\n    enableAlpha = false                                 // 是否启用透明度\r\n    format: ColorFormat = ColorFormat.hex               // 格式\r\n\r\n    _value?: string;                                    // 当前值，hex或者rgb字符串\r\n\r\n    /*当前rgb颜色值，如果启用透明度，则为rgba*/\r\n    get rgbColor(): string | undefined {\r\n        if (!this.red && !this.green && !this.blue) {\r\n            return undefined\r\n        }\r\n        return `rgb${this.enableAlpha ? 'a' : ''}(${this.red},${this.green},${this.blue}${this.enableAlpha ? ',' + (this.alpha / 100).toFixed(2) : ''})`\r\n    }\r\n\r\n    /*当前颜色，可能是rgb，也可能是hex*/\r\n    get currentColor(): string | undefined {\r\n        /*如果是带透明度的，强制使用rgb格式*/\r\n        return this.enableAlpha || this.format === 'rgb' ? this.rgbColor : this.hex\r\n    }\r\n\r\n    /*当前颜色值*/\r\n    get color(): string | undefined {\r\n        if (this._value == null) return undefined\r\n        return this.currentColor\r\n    }\r\n\r\n    constructor(value: string, enableAlpha: boolean, format: ColorFormat) {\r\n        if (format != null) {\r\n            this.format = format\r\n        }\r\n        if (enableAlpha != null) {\r\n            this.enableAlpha = enableAlpha\r\n        }\r\n\r\n        this.updateByString(value, true, enableAlpha)\r\n    }\r\n\r\n    /**\r\n     * 根据值更新color信息\r\n     * @author  韦胜健\r\n     * @date    2020/4/4 21:57\r\n     */\r\n    public setValue(value: string): void {\r\n        this.updateByString(value, false)\r\n    }\r\n\r\n    /**\r\n     * 根据新值更新当前color信息\r\n     * @author  韦胜健\r\n     * @date    2020/4/4 12:10\r\n     */\r\n    public updateByString(value: string, needInitializedEnableAlpha = false, enableAlpha?: boolean): void {\r\n        this._value = value\r\n        if (value == null) {\r\n            this.hue = 0\r\n            this.saturation = 0\r\n            this.val = 100\r\n            this.alpha = 100\r\n            return\r\n        }\r\n        /*如果输入值是rgb格式*/\r\n        if (value.indexOf('rgb') !== -1) {\r\n            const parts = value.replace(/rgba|rgb|\\(|\\)/gm, '').split(/\\s|,/g).filter((val) => val !== '').map((val, index) => index > 2 ? parseFloat(val) : parseInt(val, 10));\r\n            if (parts.length === 4) {\r\n                this.alpha = Math.floor(parseFloat(`${parts[3]}`) * 100);\r\n                needInitializedEnableAlpha && (enableAlpha == null) && (this.enableAlpha = true)\r\n            } else if (parts.length === 3) {\r\n                this.alpha = 100;\r\n                needInitializedEnableAlpha && (enableAlpha == null) && (this.enableAlpha = false)\r\n            }\r\n            if (parts.length >= 3) {\r\n                this.setRgb(parts[0], parts[1], parts[2])\r\n            }\r\n            return\r\n        }\r\n\r\n        /*如果是16进制格式*/\r\n        if (value.indexOf('#') !== -1) {\r\n            const hex = value.replace('#', '').trim();\r\n            if (hex.length === 8) {\r\n                this.alpha = Math.floor(parseHexChannel(hex.substring(6)) / 255 * 100);\r\n                needInitializedEnableAlpha && (enableAlpha == null) && (this.enableAlpha = true)\r\n            } else if (hex.length === 3 || hex.length === 6) {\r\n                this.alpha = 100;\r\n                needInitializedEnableAlpha && (enableAlpha == null) && (this.enableAlpha = false)\r\n            }\r\n            this.setHex(value)\r\n        }\r\n    }\r\n\r\n    /*\r\n   *  通过rgb设置当前颜色\r\n   *  @author     martsforever\r\n   *  @datetime   2019/2/17 19:49\r\n   */\r\n    setRgb(r: number, g: number, b: number): void {\r\n        this.red = r\r\n        this.green = g\r\n        this.blue = b\r\n\r\n        /*设置hsv*/\r\n        const {h, s, v} = rgb2hsv(r, g, b)\r\n        this.hue = h\r\n        this.saturation = s\r\n        this.val = v\r\n\r\n        /*设置hex*/\r\n        this.hex = rgb2hex(r, g, b)\r\n\r\n        this._value = this.currentColor\r\n    }\r\n\r\n    /*\r\n     *  根据当前rgb更新颜色\r\n     *  @author     martsforever\r\n     *  @datetime   2019/2/17 19:51\r\n     */\r\n    updateByRgb(): void {\r\n        this.setRgb(this.red, this.green, this.blue)\r\n    }\r\n\r\n    /*\r\n     *  通过十六进制色改变当前颜色\r\n     *  @author     martsforever\r\n     *  @datetime   2019/2/17 19:13\r\n     */\r\n    setHex(hex: string): void {\r\n        this.hex = hex\r\n\r\n        /*设置rgb*/\r\n        hex = hex.replace('#', '').trim();\r\n        if (hex.length === 3) {\r\n            this.red = parseHexChannel(hex[0] + hex[0]);\r\n            this.green = parseHexChannel(hex[1] + hex[1]);\r\n            this.blue = parseHexChannel(hex[2] + hex[2]);\r\n        } else if (hex.length === 6 || hex.length === 8) {\r\n            this.red = parseHexChannel(hex.substring(0, 2));\r\n            this.green = parseHexChannel(hex.substring(2, 4));\r\n            this.blue = parseHexChannel(hex.substring(4, 6));\r\n        }\r\n        if (hex.length === 8) {\r\n            this.alpha = Math.floor(parseHexChannel(hex.substring(6)) / 255 * 100);\r\n        } else if (hex.length === 3 || hex.length === 6) {\r\n            this.alpha = 100;\r\n        }\r\n\r\n        /*设置hsv*/\r\n        const {h, s, v} = rgb2hsv(this.red, this.green, this.blue)\r\n        this.hue = h\r\n        this.saturation = s\r\n        this.val = v\r\n\r\n        this._value = this.currentColor\r\n    }\r\n\r\n    /*\r\n     *  根据当前hex更新rgb以及hsv\r\n     *  @author     martsforever\r\n     *  @datetime   2019/2/17 19:23\r\n     */\r\n    updateByHex() {\r\n        this.setHex(this.hex)\r\n    }\r\n\r\n    /*\r\n     *  通过设置Hsv改变当前颜色\r\n     *  @author     martsforever\r\n     *  @datetime   2019/2/17 19:14\r\n     */\r\n    setHsv(hue: number, saturation: number, val: number) {\r\n        this.hue = hue\r\n        this.saturation = saturation\r\n        this.val = val\r\n\r\n        /*设置rgb*/\r\n        const {r, g, b} = hsv2rgb(hue, saturation, val)\r\n        this.red = r\r\n        this.green = g\r\n        this.blue = b\r\n\r\n        /*设置hex*/\r\n        this.hex = rgb2hex(r, g, b)\r\n\r\n        this._value = this.currentColor\r\n    }\r\n\r\n    /*\r\n     *  根据hsv更新当前rgbyijihex\r\n     *  @author     martsforever\r\n     *  @datetime   2019/2/17 19:23\r\n     */\r\n    updateByHsv() {\r\n        this.setHsv(this.hue, this.saturation, this.val)\r\n    }\r\n\r\n    updateByAlpha() {\r\n        this._value = this.currentColor\r\n    }\r\n}","import {designComponent} from \"../../use/designComponent\";\r\nimport {StyleProps, useStyle} from \"../../use/useStyle\";\r\nimport {EditProps} from \"../../use/useEdit\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport Input from '../input'\r\nimport {reactive, watch} from 'vue';\r\nimport {useEditPopperAgent} from \"../popper/edit/useEditPopperAgent\";\r\nimport {ColorPickerServiceGetter} from \"./service/color-picker.service\";\r\nimport {isEffectiveColorString} from \"./utils/ColorUtils\";\r\nimport './color-picker.scss'\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {$$notice} from \"../notice-service\";\r\n\r\nconst opacityBg = require('./sub/opacity.png')\r\n\r\nexport const ColorPicker = designComponent({\r\n    name: 'pl-color-picker',\r\n    props: {\r\n        ...EditProps,\r\n        ...StyleProps,\r\n\r\n        modelValue: {type: String},                             // 当前颜色值\r\n        enableAlpha: {type: Boolean, default: true},            // 是否启用透明度\r\n        format: {type: String, default: 'hex'},                 // 颜色格式\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: string | undefined) => true,\r\n        onBlur: (e: Event) => true,\r\n        onFocus: (e: Event) => true,\r\n    },\r\n    setup({props, event}) {\r\n\r\n        useStyle()\r\n        const {refs} = useRefs({input: Input,})\r\n\r\n        const model = useModel(() => props.modelValue, event.emit.onUpdateModelValue, {autoWatch: false})\r\n        const state = reactive({\r\n            val: model.value,\r\n            inputValue: props.modelValue,\r\n        })\r\n\r\n        const agentState = useEditPopperAgent({\r\n            event,\r\n            serviceGetter: ColorPickerServiceGetter,\r\n            option: {\r\n                reference: () => refs.input as any,\r\n                renderAttrs: () => ({\r\n                    modelValue: state.val,\r\n                    enableAlpha: props.enableAlpha,\r\n                    format: props.format,\r\n\r\n                    onChange(val) {\r\n                        state.inputValue = val\r\n                        methods.emitValue(val)\r\n                    },\r\n                }),\r\n                popperAttrs: () => ({\r\n                    onMousedownPopper: async () => {\r\n                        agentState.state.focusCounter++\r\n                    },\r\n                    onClickPopper: () => {\r\n                        refs.input!.methods.focus()\r\n                    },\r\n                }),\r\n            },\r\n        })\r\n\r\n        const methods = {\r\n            emitValue(val: any) {\r\n                model.value = val\r\n            },\r\n        }\r\n\r\n        const suffixIcon = () => (\r\n            <div class=\"pl-color-picker-suffix\" style={{backgroundImage: `url(${opacityBg})`}}>\r\n                <div class=\"pl-color-picker-suffix-inner\" style={{backgroundColor: state.val}}/>\r\n            </div>\r\n        )\r\n\r\n        const inputHandler = {\r\n            onChange: (val: string) => {\r\n                state.inputValue = val\r\n                if (isEffectiveColorString(val)) {\r\n                    methods.emitValue(val)\r\n                }\r\n            },\r\n            /*---------------------------------------override-------------------------------------------*/\r\n\r\n            onEnter: (e: KeyboardEvent) => {\r\n                if (!!state.inputValue && state.inputValue !== state.val) {\r\n                    $$notice.warn('请输入有效的颜色值')\r\n                    state.inputValue = state.val\r\n                }\r\n                agentState.inputHandler.onEnter(e)\r\n            },\r\n            onBlur: (e: Event) => {\r\n                agentState.state.focusCounter--\r\n                if (agentState.state.focusCounter === 0) {\r\n                    event.emit.onBlur(e)\r\n                    agentState.methods.hide()\r\n                    state.val = model.value\r\n                    state.inputValue = model.value\r\n                }\r\n            },\r\n        }\r\n\r\n        watch(() => props.modelValue, (val) => {\r\n            model.value = val\r\n            state.val = val\r\n            state.inputValue = val\r\n        })\r\n\r\n        return {\r\n            render: () => (\r\n                <pl-input ref=\"input\"\r\n                          class=\"pl-color-picker\"\r\n                          modelValue={state.inputValue}\r\n                          suffixIcon={suffixIcon}\r\n                          isFocus={agentState.state.focusCounter > 0}\r\n                          {...{\r\n                              ...agentState.inputHandler,\r\n                              ...inputHandler,\r\n                          }}\r\n                />\r\n            )\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../../use/designComponent\";\r\nimport {EditProps} from \"../../../use/useEdit\";\r\nimport {useRefs} from \"../../../use/useRefs\";\r\nimport {useProps} from \"../../../use/useProps\";\r\nimport {computed, nextTick, reactive, watch} from 'vue';\r\nimport {unit} from \"plain-utils/string/unit\";\r\nimport {disabledUserSelect} from \"plain-utils/dom/disabledUserSelect\";\r\nimport {enableUserSelect} from \"plain-utils/dom/enableUserSelect\";\r\nimport './color-alpha-slider.scss'\r\n\r\nconst bg = require('./opacity.png')\r\n\r\nexport const ColorAlphaSlider = designComponent({\r\n    name: 'pl-color-alpha-slider',\r\n    props: {\r\n        ...EditProps,\r\n\r\n        color: {type: String},                                      // 当前颜色\r\n        modelValue: {type: Number, default: 0},                     // 透明度\r\n        size: {type: [String, Number]},                             // 大小\r\n        thumbSize: {type: [String, Number], default: 10},           // 指示器宽度\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: number) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const {refs} = useRefs({\r\n            el: HTMLDivElement,\r\n        })\r\n\r\n        const {propsState} = useProps(props, {\r\n            size: useProps.NUMBER,\r\n            thumbSize: useProps.NUMBER,\r\n        })\r\n\r\n        const state = reactive({\r\n            top: 0,\r\n            tempTop: 0,\r\n            startY: null as null | number,\r\n        })\r\n\r\n        const styles = computed(() => ({\r\n            height: unit(propsState.size),\r\n            backgroundImage: `url(${bg})`,\r\n        }))\r\n\r\n        const shadowStyles = computed(() => ({\r\n            background: `linear-gradient(to top, ${props.color}, rgba(255,255,255,0))`,\r\n        }))\r\n\r\n        const thumbStyles = computed(() => ({\r\n            top: `${state.top}px`,\r\n            width: unit(propsState.thumbSize)\r\n        }))\r\n\r\n        const height = computed(() => (propsState.size as number) - (propsState.thumbSize as number))\r\n\r\n        const methods = {\r\n            setTop: (top: number) => {\r\n                state.top = Math.max(0, Math.min(height.value, top))\r\n            },\r\n            emitValue: () => {\r\n                emit.onUpdateModelValue(Number((state.top / height.value * 100).toFixed(0)))\r\n            }\r\n        }\r\n\r\n        const handler = {\r\n            mousedown: (e: MouseEvent) => {\r\n                document.body.addEventListener('mousemove', handler.mousemove)\r\n                document.body.addEventListener('mouseup', handler.mouseup)\r\n                if (e.target === refs.el) {\r\n                    methods.setTop(e.offsetY - (propsState.thumbSize as number) / 2)\r\n                    methods.emitValue()\r\n                }\r\n                disabledUserSelect()\r\n                state.startY = e.clientY\r\n                state.tempTop = state.top\r\n            },\r\n            mousemove: (e: MouseEvent) => {\r\n                const durY = e.clientY - state.startY!\r\n                methods.setTop(state.tempTop + durY)\r\n                methods.emitValue()\r\n            },\r\n            mouseup: (e: MouseEvent) => {\r\n                document.body.removeEventListener('mousemove', handler.mousemove)\r\n                document.body.removeEventListener('mouseup', handler.mouseup)\r\n                enableUserSelect()\r\n            },\r\n        }\r\n\r\n        watch(() => props.modelValue, (val) => {\r\n            nextTick().then(() => methods.setTop(val / 100 * height.value))\r\n        }, {immediate: true})\r\n\r\n        return {\r\n            render: () => (\r\n                <div class=\"pl-color-alpha-slider\" style={styles.value as any} onMousedown={handler.mousedown} ref=\"el\">\r\n                    <div class=\"pl-color-alpha-shadow\" style={shadowStyles.value}/>\r\n                    <span class=\"pl-color-alpha-thumb\" style={thumbStyles.value as any}/>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import './color-hue-slider.scss'\r\nimport {designComponent} from \"../../../use/designComponent\";\r\nimport {useRefs} from \"../../../use/useRefs\";\r\nimport {useProps} from \"../../../use/useProps\";\r\nimport {computed, nextTick, reactive, watch} from 'vue';\r\nimport {unit} from \"plain-utils/string/unit\";\r\nimport {disabledUserSelect} from \"plain-utils/dom/disabledUserSelect\";\r\nimport {enableUserSelect} from \"plain-utils/dom/enableUserSelect\";\r\n\r\nexport const ColorHueSlider = designComponent({\r\n    name: 'pl-color-hue-slider',\r\n    props: {\r\n        modelValue: {type: Number, default: 0},                          // 当前色相\r\n        size: {type: [String, Number]},                             // 宽度\r\n        thumbSize: {type: [String, Number], default: 10},           // 指示器宽度\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: any) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n        const {refs} = useRefs({\r\n            el: HTMLDivElement,\r\n        })\r\n        const {propsState} = useProps(props, {\r\n            size: useProps.NUMBER,\r\n            thumbSize: useProps.NUMBER,\r\n        })\r\n\r\n        const state = reactive({\r\n            left: 0,                                                // 指示器左偏移位置\r\n            tempLeft: 0,                                            // 拖拽的时候，指示器的缓存左偏移位置\r\n            startX: null as null | number,                          // 拖拽的时候起始位置\r\n        })\r\n\r\n        const styles = computed(() => ({\r\n            width: unit(propsState.size)\r\n        }))\r\n\r\n        const thumbStyles = computed(() => ({\r\n            left: `${state.left}px`,\r\n            width: unit(propsState.thumbSize)\r\n        }))\r\n\r\n        const width = computed(() => (propsState.size as number) - (propsState.thumbSize as number))\r\n\r\n        const methods = {\r\n            setLeft: (left: number) => {\r\n                state.left = Math.max(0, Math.min(width.value, left))\r\n            },\r\n            emitValue: () => {\r\n                emit.onUpdateModelValue(Number((state.left / width.value * 360).toFixed(0)))\r\n            }\r\n        }\r\n\r\n        const handler = {\r\n            mousedown: (e: MouseEvent) => {\r\n                document.body.addEventListener('mousemove', handler.mousemove)\r\n                document.body.addEventListener('mouseup', handler.mouseup)\r\n                if (e.target === refs.el) {\r\n                    methods.setLeft(e.offsetX - (propsState.thumbSize as number) / 2)\r\n                    methods.emitValue()\r\n                }\r\n                disabledUserSelect()\r\n                state.startX = e.clientX\r\n                state.tempLeft = state.left\r\n            },\r\n            mousemove: (e: MouseEvent) => {\r\n                const durX = e.clientX - state.startX!\r\n                methods.setLeft(state.tempLeft + durX)\r\n                methods.emitValue()\r\n            },\r\n            mouseup: () => {\r\n                document.body.removeEventListener('mousemove', handler.mousemove)\r\n                document.body.removeEventListener('mouseup', handler.mouseup)\r\n                enableUserSelect()\r\n            },\r\n        }\r\n\r\n        watch(() => props.modelValue, (val) => {\r\n            nextTick().then(() => methods.setLeft(val / 360 * width.value))\r\n        }, {immediate: true})\r\n\r\n        return {\r\n            render: () => (\r\n                <div class=\"pl-color-hue-slider\" onMousedown={handler.mousedown} style={styles.value as any} ref=\"el\">\r\n                    <div class=\"pl-color-hue-slider-thumb\" style={thumbStyles.value as any}/>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import './color-sv-panel.scss'\r\nimport {designComponent} from \"../../../use/designComponent\";\r\nimport {useProps} from \"../../../use/useProps\";\r\nimport {computed, nextTick, reactive, watch} from 'vue';\r\nimport {hsv2rgb} from \"../utils/ColorUtils\";\r\nimport {unit} from \"plain-utils/string/unit\";\r\nimport {disabledUserSelect} from \"plain-utils/dom/disabledUserSelect\";\r\nimport {enableUserSelect} from \"plain-utils/dom/enableUserSelect\";\r\n\r\nexport const ColorSvPanel = designComponent({\r\n    name: 'pl-color-sv-panel',\r\n    props: {\r\n        hue: {type: Number, default: 360},                      // 色相\r\n        saturation: {type: Number},                             // 饱和度\r\n        modelValue: {type: Number},                             // 亮度\r\n\r\n        height: {type: [String, Number], default: 180},         // 面板高度\r\n        width: {type: [String, Number], default: 240},          // 面板宽度\r\n    },\r\n    emits: {\r\n        onChange: (val: any) => true,\r\n        onDblclick: (e: MouseEvent) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const {propsState} = useProps(props, {\r\n            height: useProps.NUMBER,\r\n            width: useProps.NUMBER,\r\n        })\r\n\r\n        const state = reactive({\r\n            val: props.modelValue == null ? null : 100 - Number(props.modelValue),\r\n            saturation: props.saturation,\r\n\r\n            startX: 0,\r\n            startY: 0,\r\n            tempSaturation: 0,\r\n            tempValue: 0,\r\n        })\r\n\r\n        const styles = computed(() => {\r\n            const color = hsv2rgb(props.hue, 100, 100)\r\n            return {\r\n                width: unit(propsState.width),\r\n                height: unit(propsState.height),\r\n                backgroundColor: `rgb(${color.r},${color.g},${color.b})`,\r\n            }\r\n        })\r\n\r\n        const thumbStyles = computed(() => {\r\n            let {val, saturation} = state\r\n            val = val == null ? 50 : val\r\n            saturation = saturation == null ? 50 : saturation\r\n\r\n            return {\r\n                transform: `translate3d(${saturation * (propsState.width as number) / 100}px,${val * (propsState.height as number) / 100}px,0)`,\r\n            }\r\n        })\r\n\r\n        const methods = {\r\n            updatePosition: (x: number, y: number, isMouseDown = true): void => {\r\n                const durX = Number((x / (propsState.width as number) * 100).toFixed(0));\r\n                const durY = Number((y / (propsState.height as number) * 100).toFixed(0));\r\n\r\n                state.saturation = (isMouseDown ? 0 : state.tempSaturation) + durX\r\n                state.val = (isMouseDown ? 0 : state.tempValue) + durY\r\n                state.saturation = Math.max(0, Math.min(100, state.saturation))\r\n                state.val = Math.max(0, Math.min(100, state.val))\r\n\r\n                emit.onChange({hue: props.hue, saturation: state.saturation, value: 100 - state.val})\r\n            },\r\n        }\r\n\r\n        const handler = {\r\n            mousedown: (e: MouseEvent) => {\r\n                document.body.addEventListener('mousemove', handler.mousemove)\r\n                document.body.addEventListener('mouseup', handler.mouseup)\r\n                disabledUserSelect()\r\n                methods.updatePosition(e.offsetX, e.offsetY)\r\n                state.startX = e.clientX\r\n                state.startY = e.clientY\r\n                state.tempSaturation = state.saturation as number\r\n                state.tempValue = state.val as number\r\n            },\r\n            mousemove: (e: MouseEvent) => {\r\n                methods.updatePosition(e.clientX - state.startX, e.clientY - state.startY, false)\r\n            },\r\n            mouseup: () => {\r\n                document.body.removeEventListener('mousemove', handler.mousemove)\r\n                document.body.removeEventListener('mouseup', handler.mouseup)\r\n                enableUserSelect()\r\n            },\r\n            dblclick: async (e: MouseEvent) => {\r\n                nextTick().then(() => emit.onDblclick(e))\r\n            },\r\n        }\r\n\r\n        watch(() => props.modelValue, (val) => {\r\n            if (val == null) {\r\n                state.val = null\r\n                return\r\n            }\r\n            if (state.val !== 100 - val) state.val = 100 - val\r\n        })\r\n        watch(() => props.saturation, (val) => {\r\n            if (val == null) {\r\n                state.saturation = undefined\r\n                return\r\n            }\r\n            if (state.saturation !== val) state.saturation = val\r\n        })\r\n\r\n        return {\r\n            render: () => (\r\n                <div class=\"pl-color-sv-panel\" style={styles.value as any} onMousedown={handler.mousedown} onDblclick={handler.dblclick}>\r\n                    <span class=\"pl-color-sv-thumb\" style={thumbStyles.value}/>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import './color-panel.scss'\r\nimport {designComponent} from \"../../use/designComponent\";\r\nimport {Color, ColorFormat} from \"./utils/Color\";\r\nimport {nextTick, reactive, watch} from 'vue';\r\nimport {isEffectiveColorString} from \"./utils/ColorUtils\";\r\nimport Input from '../input'\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport {$$notice} from \"../notice-service\";\r\n\r\nfunction getDefaultColor(format: ColorFormat, enableAlpha: boolean) {\r\n    if (format === ColorFormat.hex) {\r\n        return '#12b4a5'\r\n    } else {\r\n        if (enableAlpha) {\r\n            return 'rgba(18,180,165,0.5)'\r\n        } else {\r\n            return 'rgb(18,180,165)'\r\n        }\r\n    }\r\n}\r\n\r\nexport const ColorPanel = designComponent({\r\n    name: 'pl-color-panel',\r\n    props: {\r\n        modelValue: {type: String},                      // 当前颜色值\r\n        enableAlpha: {type: Boolean},               // 是否启用透明度\r\n        format: {type: String},                     // 格式类型：hex、rgb\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: any) => true,\r\n        onBblclickSvPanel: (e: MouseEvent) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const {refs} = useRefs({\r\n            input: Input,\r\n        })\r\n\r\n        const defaultColor = () => getDefaultColor(props.format as ColorFormat, props.enableAlpha as boolean)\r\n\r\n        const state = reactive({\r\n            val: props.modelValue,\r\n            color: new Color(\r\n                props.modelValue || defaultColor(),\r\n                props.enableAlpha as boolean,\r\n                props.format as ColorFormat\r\n            ),\r\n        })\r\n\r\n        const methods = {\r\n            reset: () => {\r\n                state.val = props.modelValue\r\n                state.color.setValue(props.modelValue || defaultColor())\r\n            },\r\n        }\r\n        const handler = {\r\n            svChange: ({value, saturation}: { value: number, saturation: number }) => {\r\n                state.color.val = value\r\n                state.color.saturation = saturation\r\n                state.color.updateByHsv()\r\n                state.val = state.color.color\r\n            },\r\n            hueChange: (hue: number) => {\r\n                state.color.hue = hue\r\n                state.color.updateByHsv()\r\n                state.val = state.color.color\r\n            },\r\n            alphaChange: (alpha: number) => {\r\n                state.color.alpha = alpha\r\n                state.color.updateByAlpha()\r\n                state.val = state.color.color\r\n            },\r\n            confirm: () => {\r\n                emit.onUpdateModelValue(state.val)\r\n            },\r\n            dblclickSvPanel: (e: MouseEvent) => {\r\n                handler.confirm()\r\n                emit.onBblclickSvPanel(e)\r\n            },\r\n            inputChange: (val: string) => {\r\n                if (!val) {\r\n                    state.color.setValue(val)\r\n                    state.val = state.color.color\r\n                    return\r\n                }\r\n                let formatVal = val.replace(/\\s/g, '')\r\n                if (!isEffectiveColorString(formatVal)) {\r\n                    return;\r\n                } else {\r\n                    state.color.setValue(formatVal)\r\n                    if (val !== formatVal) {\r\n                        refs.input!.model.value = formatVal\r\n                    }\r\n                    state.val = state.color.color\r\n                }\r\n            },\r\n            inputBlur: () => {\r\n                if (!!refs.input!.model.value && refs.input!.model.value !== state.color.color) {\r\n                    $$notice.warn('请输入正确的颜色值！')\r\n                    refs.input!.model.value = state.color.color\r\n                }\r\n            },\r\n            inputEnter: async () => {\r\n                await nextTick()\r\n                if (!!refs.input!.model.value && refs.input!.model.value !== state.color.color) {\r\n                    $$notice('请输入正确的颜色值！')\r\n                    refs.input!.model.value = state.color.color\r\n                } else {\r\n                    handler.confirm()\r\n                }\r\n            },\r\n        }\r\n\r\n        /*---------------------------------------watch-------------------------------------------*/\r\n\r\n        watch(() => props.modelValue, (val) => {\r\n            state.color.setValue(val || defaultColor())\r\n            state.val = state.color.color\r\n        })\r\n\r\n        watch(() => props.enableAlpha, (val) => {\r\n            state.color.enableAlpha = val as boolean\r\n            state.color.updateByAlpha()\r\n        })\r\n\r\n        watch(() => props.format, (val) => {\r\n            state.color.format = val as ColorFormat || ColorFormat.hex\r\n            state.color.format === ColorFormat.hex ? state.color.updateByHex() : state.color.updateByRgb()\r\n        })\r\n\r\n        return {\r\n            render: () => (\r\n                <div class=\"pl-color-panel\">\r\n                    <div>\r\n                        <pl-color-sv-panel height=\"180\"\r\n                                           width=\"240\"\r\n                                           hue={state.color.hue}\r\n                                           modelValue={state.color.val}\r\n                                           saturation={state.color.saturation}\r\n                                           onChange={handler.svChange} onDblclick={handler.dblclickSvPanel}/>\r\n\r\n                        {state.color.enableAlpha && (\r\n                            <pl-color-alpha-slider\r\n                                size=\"180\"\r\n                                color={state.color.hex}\r\n                                modelValue={state.color.alpha}\r\n                                onChange={handler.alphaChange}/>\r\n                        )}\r\n                    </div>\r\n\r\n\r\n                    <pl-color-hue-slider size=\"240\"\r\n                                         modelValue={state.color.hue}\r\n                                         onInput={(val: number) => state.color.hue = val}\r\n                                         onChange={handler.hueChange}/>\r\n                    <div class=\"pl-color-panel-input-group\">\r\n                        <pl-input ref=\"input\"\r\n                                  size=\"mini\"\r\n                                  modelValue={state.val}\r\n                                  width={props.enableAlpha ? 204 : 186}\r\n                                  onChange={handler.inputChange}\r\n                                  onBlur={handler.inputBlur}\r\n                                  onEnter={handler.inputEnter}/>\r\n                        <pl-button-group size=\"mini\">\r\n                            <pl-button icon=\"el-icon-close-bold\" onClick={methods.reset}/>\r\n                            <pl-button icon=\"el-icon-check-bold\" onClick={handler.confirm}/>\r\n                        </pl-button-group>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n\r\n    },\r\n})","import {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\nimport {ColorPicker} from \"./color-picker\";\r\nimport {ColorAlphaSlider} from \"./sub/color-alpha-slider\";\r\nimport {ColorHueSlider} from \"./sub/color-hue-slider\";\r\nimport {ColorSvPanel} from \"./sub/color-sv-panel\";\r\nimport {ColorPanel} from \"./color-panel\";\r\nimport ColorPickerService from './service/color-picker.service'\r\n\r\nexport default createComponentPlugin(ColorPicker, {\r\n    exposeComponents: {\r\n        ColorAlphaSlider,\r\n        ColorHueSlider,\r\n        ColorSvPanel,\r\n        ColorPanel,\r\n    },\r\n    plugins: [ColorPickerService],\r\n    expose: {\r\n        ColorPickerService,\r\n    }\r\n})","import {CascadeConfig, CascadeMark} from \"./CascadMark\";\r\nimport {reactive} from 'vue';\r\n\r\nexport class CascadeNode {\r\n\r\n    state: {\r\n        data: Record<string, any>\r\n    }\r\n\r\n    constructor(\r\n        public key: string,\r\n        data: Record<string, any>,\r\n        public level: number,\r\n        public config: () => CascadeConfig,\r\n        public parentRef: () => (CascadeNode | null),\r\n        public markRef: () => CascadeMark,\r\n        public ctxState: () => {\r\n            expandKeys: string[],\r\n            filterText: string | undefined,\r\n        }\r\n    ) {\r\n        this.state = reactive({\r\n            data\r\n        })\r\n    }\r\n\r\n    selfGetter = () => this;\r\n\r\n    /*---------------------------------------prop-------------------------------------------*/\r\n\r\n    get data() {return this.state.data}\r\n\r\n    set data(val) {this.state.data = val}\r\n\r\n    /*节点显示文本*/\r\n    get label(): string {return this.data[this.config().labelField]}\r\n\r\n    /*节点子数据*/\r\n    get childrenData(): object[] | undefined {\r\n        const data = this.data[this.config().childrenField]\r\n        return typeof data === \"function\" ? data() : data\r\n    }\r\n\r\n    /*子节点*/\r\n    get children(): CascadeNode[] | undefined {\r\n        if (!this.childrenData) return undefined\r\n        return this.childrenData.map(child => this.markRef().node.get(\r\n            child,\r\n            this.level + 1,\r\n            this.selfGetter,\r\n        ))\r\n    }\r\n\r\n    /*是否为叶子节点（无子节点）*/\r\n    get isLeaf(): boolean {\r\n        const {isLeaf} = this.config()\r\n        if (!!isLeaf) {\r\n            return isLeaf(this)\r\n        } else {\r\n            return !this.children || this.children.length === 0\r\n        }\r\n    }\r\n\r\n    /*当前节点展开时包含的keys*/\r\n    get expandKeys(): string[] {\r\n        let expandKeys = [this.key]\r\n        let parent = this.parentRef()\r\n        while (!!parent && !!parent.key) {\r\n            expandKeys.unshift(parent.key)\r\n            parent = parent.parentRef()\r\n        }\r\n        return expandKeys\r\n    }\r\n\r\n    /*当前节点是否已经展开*/\r\n    get isExpand() {\r\n        let expandKeys = this.ctxState().expandKeys\r\n        let selfExpandKeys = this.expandKeys\r\n        return expandKeys.toString() === selfExpandKeys.toString()\r\n    }\r\n\r\n    /*当前是否处于加载状态*/\r\n    get isLoading(): boolean {\r\n        return this.markRef().loading.get(this.key)\r\n    }\r\n\r\n    get isLoaded(): boolean {\r\n        return this.markRef().loaded.get(this.key)\r\n    }\r\n\r\n    /*当前节点是否禁用*/\r\n    get nodeDisabled(): boolean {\r\n        const nodeDisabled = this.config().nodeDisabled\r\n        return !!nodeDisabled && nodeDisabled(this)\r\n    }\r\n\r\n    /*当有过滤文本时，显示的文本*/\r\n    get filterData(): CascadeNode[] {\r\n        let filterData: CascadeNode[] = [this]\r\n        let parent = this.parentRef()\r\n        while (!!parent && !!parent.key) {\r\n            filterData.unshift(parent)\r\n            parent = parent.parentRef()\r\n        }\r\n        return filterData\r\n    }\r\n\r\n    /*是否通过筛选，当子节点通过筛选时，当前节点也算通过筛选*/\r\n    get isPassFilter(): boolean {\r\n        const {filterText} = this.ctxState()\r\n        if (!filterText) return false\r\n\r\n        const {filterMethod} = this.config()\r\n        let filterData = this.filterData\r\n        if (!!filterMethod) {\r\n            return filterMethod(filterData, filterText)\r\n        }\r\n        return filterData.some(item => item.label.indexOf(filterText!) > -1)\r\n    }\r\n\r\n    /*---------------------------------------action-------------------------------------------*/\r\n\r\n    /*设置子节点数据*/\r\n    setChildren(children: object[]) {\r\n        // set(this.data, this.config().childrenField, children)\r\n        this.data[this.config().childrenField] = children\r\n    }\r\n\r\n    loading(val: boolean) {\r\n        this.markRef().loading.set(this.key, val)\r\n    }\r\n\r\n    loaded(val: boolean) {\r\n        this.markRef().loaded.set(this.key, val)\r\n    }\r\n}","/**\r\n * 创建一个用来管理key的对象\r\n * @author  韦胜健\r\n * @date    2020/11/27 11:38\r\n */\r\nexport function createKeyHandler(prefix: string) {\r\n    const map = new WeakMap<any, string>()\r\n    let count = 1\r\n    return (obj: any, keyField?: string | null): string => {\r\n        if (!!keyField) {\r\n            return obj[keyField]\r\n        }\r\n        let key = map.get(obj)\r\n        if (!key) {\r\n            key = `${prefix}_${count++}`\r\n            map.set(obj, key)\r\n        }\r\n        return key\r\n    }\r\n}","import {reactive, UnwrapRef} from 'vue'\r\n\r\n/**\r\n * 给mark对象使用，用来创建管理flag的对象\r\n * @author  韦胜健\r\n * @date    2020/11/27 11:38\r\n */\r\nexport function createFlagManager<T = boolean>() {\r\n    return {\r\n        state: reactive({\r\n            map: {} as { [k: string]: T }\r\n        }),\r\n        get(key: string) {\r\n            return this.state.map[key]\r\n        },\r\n        set(key: string, val: UnwrapRef<T>) {\r\n            /*if (this.state.map.hasOwnProperty(key)) {\r\n                this.state.map[key] = val\r\n            } else {\r\n                set(this.state.map, key, val)\r\n            }*/\r\n            this.state.map[key] = val\r\n        },\r\n        getActiveKeys(): string[] {\r\n            const keys: string[] = []\r\n            for (let key in this.state.map) {\r\n                if (!!this.state.map[key]) {\r\n                    keys.push(key)\r\n                }\r\n            }\r\n            return keys\r\n        }\r\n    }\r\n}","import {CascadeNode} from \"./CascadeNode\";\r\nimport {reactive} from \"vue\";\r\nimport {createKeyHandler} from \"../../../utils/createKeyHandler\";\r\nimport {createFlagManager} from \"../../../utils/createFlagManager\";\r\n\r\nconst generator = createKeyHandler('cascade_node')\r\n\r\nexport interface CascadeConfig {\r\n    nodeDisabled?: (node: CascadeNode) => boolean,\r\n    isLeaf?: (node: CascadeNode) => boolean,\r\n    lazy?: boolean,\r\n    getChildren?: (node: CascadeNode, cb: (...args: any[]) => void) => void,\r\n    filterMethod?: (filterData: CascadeNode[], filterText: string) => boolean\r\n\r\n    labelField: string,\r\n    keyField: string,\r\n    childrenField: string,\r\n}\r\n\r\nexport class CascadeMark {\r\n\r\n    constructor(public config: () => CascadeConfig, public ctxState: () => {\r\n        expandKeys: string[],\r\n        filterText: string | undefined,\r\n    }) {}\r\n\r\n    selfGetter = () => this;\r\n\r\n    node = {\r\n        state: reactive({\r\n            map: {} as { [k: string]: CascadeNode }\r\n        }),\r\n        get: (\r\n            data: any,\r\n            level: number,\r\n            parentRef: () => (CascadeNode | null),\r\n        ): CascadeNode => {\r\n            const key = generator(data, this.config().keyField)\r\n            let node: CascadeNode = this.node.state.map[key]\r\n            if (!!node) {\r\n                if (node.data != data) {\r\n                    node.data = data\r\n                }\r\n                node.level = level\r\n                node.parentRef = parentRef\r\n            } else {\r\n                node = new CascadeNode(\r\n                    key,\r\n                    data,\r\n                    level,\r\n                    this.config,\r\n                    parentRef,\r\n                    this.selfGetter,\r\n                    this.ctxState,\r\n                )\r\n                this.node.state.map[key] = node\r\n            }\r\n            return node\r\n        },\r\n        getList: (list: any[] | undefined, level: number, parentRef: () => (CascadeNode | null)): CascadeNode[] => {\r\n            if (!list) return []\r\n            return list.map(item => this.node.get(item, level, parentRef))\r\n        }\r\n    }\r\n\r\n    loading = createFlagManager()\r\n    loaded = createFlagManager()\r\n\r\n}","import {designComponent} from \"../../../use/designComponent\";\r\nimport {CascadeNode} from \"../utils/CascadeNode\";\r\nimport {VNodeChild} from \"../../../shims\";\r\nimport {useScopedSlots} from \"../../../use/useScopedSlots\";\r\nimport {useModel} from \"../../../use/useModel\";\r\nimport {CascadeMark} from \"../utils/CascadMark\";\r\nimport {computed, PropType, reactive, ref} from 'vue';\r\nimport {debounce} from \"plain-utils/utils/debounce\";\r\nimport './cascade-panel.scss'\r\n\r\nexport const CascadePanelProps = {\r\n    modelValue: {type: Array},                                          // 数组，双向绑定值\r\n    data: {type: Array},                                                // 选择的数据\r\n    trigger: {type: String, default: 'click'},                           // 展开触发类型：click，hover\r\n    hoverDebounce: {type: Number, default: 150},                        // 触发器为hover的时候，防抖时间间隔\r\n    emptyText: {type: String, default: '暂无数据'},                      // 没有子节点时展示的文本\r\n    nodeDisabled: {type: Function as PropType<(node: CascadeNode) => boolean>},// 是否禁用判断函数\r\n    renderContent: {type: Function as PropType<(data: { node: CascadeNode, index: number }) => VNodeChild>},// 渲染内容的渲染函数\r\n    selectBranch: {type: Boolean},                                      // 点击分支的时候也能够触发 change 事件\r\n    /*---------------------------------------separator-------------------------------------------*/\r\n    isLeaf: {type: Function as PropType<(node: CascadeNode) => boolean>},// 函数，用来判断是否为叶子节点，默认根据节点是否存在子节点来判断是否为叶子节点，懒加载模式下，改属性为必需属性\r\n    lazy: {type: Boolean},                                              // 数据是否为懒加载\r\n    getChildren: {type: Function as PropType<(node: CascadeNode | null, cb: (...args: any[]) => void) => any>},// 懒加载数据函数\r\n    /*---------------------------------------separator-------------------------------------------*/\r\n    labelField: {type: String, required: true},                         // 记录显示文本的字段名\r\n    keyField: {type: String, required: true},                           // 记录值的字段名\r\n    childrenField: {type: String, required: true},                      // 记录的子节点数据的字段名\r\n    /*---------------------------------------separator-------------------------------------------*/\r\n    filterText: {type: String},                                         // 筛选文本\r\n    filterMethod: {type: Function as PropType<(nodes: CascadeNode[], filterText: string) => boolean>},// 自定义筛选函数/\r\n}\r\n\r\nexport default designComponent({\r\n    name: 'pl-cascade-panel',\r\n    props: CascadePanelProps,\r\n    emits: {\r\n        onUpdateModelValue: (val: any, expandNodes?: CascadeNode[]) => true,\r\n        onClickItem: (data: { node: CascadeNode, index: number }) => true,\r\n        onGetChildren: (...args: any[]) => true,\r\n        onUpdateData: (val: any) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const {scopedSlots} = useScopedSlots({\r\n            default: {node: CascadeNode, index: Number}\r\n        })\r\n        const model = useModel(() => props.modelValue, emit.onUpdateModelValue, {autoEmit: false})\r\n        const data = useModel(() => props.data, emit.onUpdateData)\r\n        const expandKeys = ref([] as string[])\r\n        const state = reactive({\r\n            loading: false,\r\n            expandKeys,\r\n            cascadeMark: new CascadeMark(\r\n                () => ({\r\n                    nodeDisabled: props.nodeDisabled,\r\n                    isLeaf: props.isLeaf,\r\n                    lazy: props.lazy,\r\n                    getChildren: props.getChildren,\r\n                    filterMethod: props.filterMethod,\r\n\r\n                    labelField: props.labelField!,\r\n                    keyField: props.keyField!,\r\n                    childrenField: props.childrenField!,\r\n                }),\r\n                () => ({\r\n                    expandKeys: expandKeys.value,\r\n                    filterText: props.filterText,\r\n                })\r\n            )\r\n        })\r\n\r\n        const formatData = computed(() => state.cascadeMark.node.getList(data.value, 1, () => null))\r\n        const cascadeData = computed(() => {\r\n            const data = formatData.value || []\r\n            if (data.length === 0) return []\r\n            let expandKeys: string[] = []\r\n            if (!!state.expandKeys && state.expandKeys.length > 0) {\r\n                expandKeys = state.expandKeys\r\n            } else if (!!model.value && model.value.length > 0 && !props.lazy) {\r\n                expandKeys = model.value as string[]\r\n            }\r\n\r\n            let children = data as CascadeNode[]\r\n            let cascadeData: CascadeNode[][] = []\r\n\r\n            cascadeData.push(children)\r\n\r\n            expandKeys.forEach((key: string) => {\r\n                for (let i = 0; i < children.length; i++) {\r\n                    const child = children[i];\r\n                    if (child.key === key && !child.isLeaf) {\r\n                        children = child.children || []\r\n                        cascadeData.push(children)\r\n                        break\r\n                    }\r\n                }\r\n            })\r\n            return cascadeData\r\n        })\r\n        /*---------------------------------------utils-------------------------------------------*/\r\n\r\n        const utils = {\r\n            /**\r\n             * 检查props是否合法\r\n             * @author  韦胜健\r\n             * @date    2020/3/30 18:48\r\n             */\r\n            checkProps() {\r\n                if (!props.data) return true\r\n                if (!props.keyField) {\r\n                    console.error('pl-cascade 的 keyField属性不能为空，每一条记录必须要有一个key标识')\r\n                    return false\r\n                }\r\n                if (!props.childrenField) {\r\n                    console.error('pl-cascade 的 childrenKey不能为空')\r\n                    return false\r\n                }\r\n                return true\r\n            },\r\n            iterateAll: (nodes: CascadeNode[], fn: Function, iterateChildren?: Function) => {\r\n                if (!nodes) return\r\n                nodes.forEach(node => {\r\n                    fn(node)\r\n                    if (!!node.children && (!iterateChildren || iterateChildren(node))) {\r\n                        utils.iterateAll(node.children, fn, iterateChildren)\r\n                    }\r\n                })\r\n            },\r\n            getChildrenAsync(node: CascadeNode | null): Promise<CascadeNode[]> {\r\n                return new Promise((resolve) => {\r\n                    if (!node) {\r\n                        state.loading = true\r\n                    } else {\r\n                        node.loading(true)\r\n                    }\r\n                    props.getChildren!(node, (...results: any[]) => {\r\n                        if (!node) {\r\n                            state.loading = false\r\n                        } else {\r\n                            node.loading(false)\r\n                            node.loaded(true)\r\n                        }\r\n                        emit.onGetChildren(...results)\r\n                        resolve(...results)\r\n                    })\r\n                })\r\n            },\r\n            async initLazy() {\r\n                if (!props.lazy) {\r\n                    return\r\n                }\r\n                data.value = await utils.getChildrenAsync(null)\r\n            },\r\n        }\r\n\r\n        const filterData = computed(() => {\r\n            let filterData: CascadeNode[][] = []\r\n            utils.iterateAll((formatData.value || []) as CascadeNode[], (node: CascadeNode) => {\r\n                if (node.isPassFilter && (node.isLeaf || props.selectBranch)) {\r\n                    filterData.push(node.filterData)\r\n                }\r\n            })\r\n            return filterData\r\n        })\r\n\r\n        const expandNodes = computed(() => {\r\n            if (!state.expandKeys) return []\r\n            let result: CascadeNode[] = []\r\n            let nodes = formatData.value || []\r\n\r\n            state.expandKeys.forEach((key: string) => {\r\n                for (let i = 0; i < nodes.length; i++) {\r\n                    const child = nodes[i];\r\n                    if (child.key === key) {\r\n                        result.push(child)\r\n                        if (!child.children || child.children.length === 0) {\r\n                            break\r\n                        } else {\r\n                            nodes = child.children\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n            return result\r\n        })\r\n\r\n        /*---------------------------------------handler-------------------------------------------*/\r\n\r\n        const handler = {\r\n            mouseenterItem: debounce((node: CascadeNode) => {\r\n                if (props.trigger === 'hover') {\r\n                    methods.expand(node)\r\n                }\r\n            }, props.hoverDebounce),\r\n            clickItem: async (node: CascadeNode, index: number) => {\r\n                if (props.trigger === 'click') {\r\n                    await methods.expand(node)\r\n                }\r\n\r\n                if (node.nodeDisabled) return\r\n                if (node.isLeaf || props.selectBranch) {\r\n                    model.value = state.expandKeys\r\n                    emit.onUpdateModelValue(model.value as string[], expandNodes.value as CascadeNode[])\r\n                }\r\n                emit.onClickItem({node, index})\r\n            }\r\n        }\r\n\r\n        /*---------------------------------------methods-------------------------------------------*/\r\n\r\n        const methods = {\r\n            expand: async (node: CascadeNode) => {\r\n                if (!node.isExpand) {\r\n                    state.expandKeys = node.expandKeys\r\n\r\n                    if (\r\n                        props.lazy &&                                               // 懒加载模式\r\n                        !node.isLoaded &&                                           // 未曾加载过子节点数据\r\n                        !node.isLeaf                                                // 节点不是叶子节点\r\n                    ) {\r\n                        const children = await utils.getChildrenAsync(node)\r\n                        node.setChildren(children || [])\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        utils.initLazy()\r\n\r\n        return {\r\n            refer: {\r\n                ...methods,\r\n            },\r\n            render: () => {\r\n                const empty = (\r\n                    <pl-item class=\"pl-cascade-item pl-cascade-empty\" key=\"empty\" block>\r\n                        <pl-icon icon=\"el-icon-nodata\"/>\r\n                        {props.emptyText}\r\n                    </pl-item>\r\n                )\r\n\r\n                const filterList = (\r\n                    <pl-item class=\"pl-cascade-list pl-cascade-filter-list\" key={0}>\r\n                        <pl-scroll>\r\n                            <pl-list>\r\n                                {(!filterData.value || filterData.value.length === 0) && empty}\r\n                                {filterData.value.map((nodes) => (\r\n                                    <pl-item block\r\n                                             class={[\r\n                                                 'pl-cascade-item',\r\n                                                 {\r\n                                                     'pl-cascade-item-active': !!model.value && model.value.toString() === nodes.map(node => node.key).toString(),\r\n                                                     'pl-cascade-item-disabled': nodes.some(node => node.nodeDisabled),\r\n                                                 }\r\n                                             ]}\r\n                                             key={nodes.map(node => node.key).join(' ')}\r\n                                             {...{\r\n                                                 onClick: () => {\r\n                                                     handler.clickItem(nodes[nodes.length - 1], -1)\r\n                                                 },\r\n                                             }}>\r\n                                        <div class=\"pl-cascade-content\">\r\n                                            {nodes.map(node => node.label).join(' / ')}\r\n                                        </div>\r\n                                    </pl-item>\r\n                                ))}\r\n                            </pl-list>\r\n                        </pl-scroll>\r\n                    </pl-item>\r\n                )\r\n\r\n                const cascadeList = cascadeData.value.map((list, listIndex) => (\r\n                    <pl-item class=\"pl-cascade-list\" key={listIndex} v-loading={listIndex > 0 && state.cascadeMark.loading.get(state.expandKeys[listIndex - 1])}>\r\n                        <pl-scroll>\r\n                            <pl-list>\r\n                                {list.map((node, nodeIndex) => (\r\n                                    <pl-item block\r\n                                             class={[\r\n                                                 'pl-cascade-item',\r\n                                                 {\r\n                                                     'pl-cascade-item-expand': node.key === state.expandKeys[listIndex],\r\n                                                     'pl-cascade-item-active': !!model.value && model.value[listIndex] === node.key,\r\n                                                     'pl-cascade-item-disabled': node.nodeDisabled,\r\n                                                 }\r\n                                             ]}\r\n                                             key={node.key}\r\n\r\n                                             {...{\r\n                                                 onClick: () => handler.clickItem(node, nodeIndex),\r\n                                                 ...(props.trigger === 'hover' ? {\r\n                                                     onMouseenter: () => handler.mouseenterItem(node),\r\n                                                 } : {})\r\n                                             }}>\r\n                                        <div class=\"pl-cascade-content\">\r\n                                            {scopedSlots.default({node, index: nodeIndex}, (\r\n                                                !!props.renderContent ? props.renderContent({node, index: nodeIndex}) : node.label\r\n                                            ))}\r\n                                            {!node.isLeaf && (\r\n                                                <div class=\"pl-cascade-arrow\">\r\n                                                    {node.isLoading ? <pl-loading type=\"gamma\" status=\"primary\"/> : <pl-icon icon=\"el-icon-arrow-right\"/>}\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                    </pl-item>\r\n                                ))}\r\n                                {list.length === 0 && (\r\n                                    <pl-item class=\"pl-cascade-item pl-cascade-empty\" key=\"empty\" block>\r\n                                        <pl-icon icon=\"el-icon-nodata\"/>\r\n                                        {props.emptyText}\r\n                                    </pl-item>\r\n                                )}\r\n                            </pl-list>\r\n                        </pl-scroll>\r\n                    </pl-item>\r\n                ))\r\n\r\n                const isEmpty = !!props.filterText ? (filterData.value.length === 0) : (cascadeData.value.length === 0)\r\n\r\n                return (\r\n                    <div class=\"pl-cascade-panel\" v-loading={state.loading}>\r\n                        {!!props.filterText ? filterList : (\r\n                            <pl-list>\r\n                                {isEmpty ? (\r\n                                    <div class=\"pl-cascade-list\" key=\"empty\">\r\n                                        {empty}\r\n                                    </div>\r\n                                ) : cascadeList}\r\n                            </pl-list>\r\n                        )}\r\n                    </div>\r\n                )\r\n            }\r\n        }\r\n    },\r\n})","/**\r\n * 拖拽放置的类型\r\n * @author  韦胜健\r\n * @date    2020/4/1 17:15\r\n */\r\nexport enum TreeDropType {\r\n    prev = 'prev',\r\n    inner = 'inner',\r\n    next = 'next',\r\n    null = 'null',\r\n}\r\n\r\nexport const enum TreeNodeCheckStatus {\r\n    check = 'check',\r\n    uncheck = 'uncheck',\r\n    minus = 'minus',\r\n}","import {createAgentGetter} from \"../../popper/edit/createAgentGetter\";\r\nimport './cascade-service.scss'\r\nimport {App} from 'vue';\r\nimport {delay} from 'plain-utils/utils/delay';\r\n\r\nexport const CascadeServiceGetter = createAgentGetter({\r\n    name: 'cascade',\r\n    render(attrs) {\r\n        return <pl-cascade-panel {...attrs}/>\r\n    },\r\n    defaultPopperAttrs: {\r\n        transition: 'pl-transition-popper-drop',\r\n    },\r\n    defaultRenderAttrs: {\r\n        async onChange() {\r\n            let renderAttrs: any = this.state.option.serviceOption.renderAttrs\r\n            if (typeof renderAttrs === \"function\") renderAttrs = renderAttrs()\r\n            if (!renderAttrs.selectBranch) {\r\n                // 因为change之后，会引发 cascade panels 重新渲染没有宽度以及高度，导致过度动画失效，这里再change之后延迟再关闭\r\n                await delay(120)\r\n                this.hide()\r\n            }\r\n        },\r\n    },\r\n})\r\n\r\nexport default {\r\n    install(app: App) {\r\n        app.mixin({\r\n            beforeCreate(): void {\r\n                Object.defineProperty(this, '$cascade', {\r\n                    get() {\r\n                        const service = CascadeServiceGetter(this)\r\n                        return service\r\n                    },\r\n                })\r\n            }\r\n        })\r\n    },\r\n}","import {designComponent} from \"../../use/designComponent\";\r\nimport {CascadePanelProps} from \"./panel/cascade-panel\";\r\nimport {EditProps} from \"../../use/useEdit\";\r\nimport {StyleProps, useStyle} from \"../../use/useStyle\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport Input from '../input'\r\nimport {useScopedSlots} from \"../../use/useScopedSlots\";\r\nimport {CascadeNode} from \"./utils/CascadeNode\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {computed, PropType, reactive, watch} from 'vue';\r\nimport {CascadeMark} from \"./utils/CascadMark\";\r\nimport {useEditPopperAgent} from \"../popper/edit/useEditPopperAgent\";\r\nimport {CascadeServiceGetter} from \"./service/cascade-service\";\r\nimport {ie} from \"plain-utils/utils/ie\";\r\nimport './cascade.scss'\r\n\r\nexport default designComponent({\r\n    name: 'pl-cascade',\r\n    props: {\r\n        ...CascadePanelProps,\r\n\r\n        showLast: {type: Boolean},                                          // 只显示最后一级节点文本\r\n        separator: {type: String, default: ' / '},                          // 显示值分隔符\r\n        filterable: {type: Boolean, default: true},                         // 是否可筛选\r\n        showFormat: {type: Function as PropType<(value: any[]) => string>}, // 显示值格式化函数\r\n\r\n        inputAttrs: {type: Object},                                         // 输入框属性值\r\n\r\n        ...StyleProps,\r\n        ...EditProps,\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: any, expandNodes?: CascadeNode[]) => true,\r\n        onClickItem: (data: { node: CascadeNode, index: number }) => true,\r\n        onGetChildren: (...args: any[]) => true,\r\n        onUpdateData: (val: any) => true,\r\n        onBlur: (e: Event) => true,\r\n        onFocus: (e: Event) => true,\r\n    },\r\n    setup({props, event}) {\r\n\r\n        useStyle()\r\n        const {refs} = useRefs({\r\n            input: Input,\r\n        })\r\n        const {scopedSlots} = useScopedSlots({\r\n            default: {node: CascadeNode, index: Number}\r\n        }, true)\r\n\r\n        /*之所以不自动派发事件，是因为派发事件的时候需要多传一个nodes值*/\r\n        const model = useModel(() => props.modelValue, event.emit.onUpdateModelValue, {autoEmit: false})\r\n        const data = useModel(() => props.data, event.emit.onUpdateData)\r\n\r\n        const state = reactive({\r\n            inputValue: null as null | string,\r\n            cacheData: {} as { [key: string]: object[] },\r\n            expandKeys: [] as string[],\r\n        })\r\n\r\n        const cascadeMark = computed(() => new CascadeMark(\r\n            () => ({\r\n                nodeDisabled: props.nodeDisabled,\r\n                isLeaf: props.isLeaf,\r\n                lazy: props.lazy,\r\n                getChildren: props.getChildren,\r\n                filterMethod: props.filterMethod,\r\n\r\n                labelField: props.labelField!,\r\n                keyField: props.keyField!,\r\n                childrenField: props.childrenField!,\r\n            }),\r\n            () => ({\r\n                expandKeys: state.expandKeys,\r\n                filterText: '',\r\n            })\r\n        ))\r\n\r\n        const agentState = useEditPopperAgent({\r\n            event,\r\n            serviceGetter: CascadeServiceGetter,\r\n            option: {\r\n                reference: () => refs.input as any,\r\n                renderAttrs: () => ({\r\n                    ...props,\r\n                    modelValue: model.value,\r\n                    filterText: state.inputValue,\r\n                    getChildren: utils.getChildren,\r\n                    renderContent: utils.renderContent,\r\n\r\n                    onChange: handler.onServiceChange,\r\n                    onClickItem: event.emit.onClickItem,\r\n                    onGetChildren: event.emit.onGetChildren,\r\n                    onUpdateData: event.emit.onUpdateData,\r\n                }),\r\n                popperAttrs: {\r\n                    onMousedownPopper: () => agentState.state.focusCounter++,\r\n                    onClickPopper: () => refs.input!.methods.focus(),\r\n                    onHide: () => state.inputValue = null,\r\n                },\r\n            },\r\n        })\r\n\r\n\r\n        /*---------------------------------------utils-------------------------------------------*/\r\n\r\n        const utils = {\r\n            getChildren: (node: CascadeNode | null, resolve: Function) => {\r\n                let key = !!node ? node.key : 'root'\r\n                if (state.cacheData[key]) {\r\n                    resolve(state.cacheData[key])\r\n                } else {\r\n                    props.getChildren!(node, (data) => {\r\n                        state.cacheData[key] = data\r\n                        resolve(data)\r\n                    })\r\n                }\r\n            },\r\n            /**\r\n             * 检查props是否合法\r\n             * @author  韦胜健\r\n             * @date    2020/3/30 18:48\r\n             */\r\n            checkProps() {\r\n                if (!props.data) return true\r\n                if (!props.keyField) {\r\n                    console.error('pl-cascade 的 keyField属性不能为空，每一条记录必须要有一个key标识')\r\n                    return false\r\n                }\r\n                if (!props.childrenField) {\r\n                    console.error('pl-cascade 的 childrenKey不能为空')\r\n                    return false\r\n                }\r\n                return true\r\n            },\r\n            renderContent: (scopedSlots.default.isExist() || !!props.renderContent) ? ({node, index}: { node: CascadeNode, index: number }) => {\r\n                if (scopedSlots.default.isExist()) return scopedSlots.default({node, index})\r\n                if (!!props.renderContent) return props.renderContent({node, index})\r\n            } : null\r\n        }\r\n\r\n\r\n        /*---------------------------------------computer-------------------------------------------*/\r\n\r\n        const classes = computed(() => ([\r\n            'pl-cascade',\r\n            {\r\n                'pl-cascade-open': agentState.isShow.value,\r\n            }\r\n        ]))\r\n\r\n        const formatData = computed(() => cascadeMark.value.node.getList(data.value, 1, () => null))\r\n\r\n        const showValue = computed(() => {\r\n            if (!model.value) return null\r\n            if (!!props.showFormat) return props.showFormat(model.value)\r\n\r\n            let result: string[] = []\r\n            let list = formatData.value || []\r\n            for (let i = 0; i < model.value.length; i++) {\r\n                const sourceKey = model.value[i];\r\n                let flag = false\r\n                for (let j = 0; j < list.length; j++) {\r\n                    const target = list[j];\r\n                    if (sourceKey === target.key) {\r\n                        result.push(target.label)\r\n                        list = target.children || []\r\n                        flag = true\r\n                        break\r\n                    }\r\n                }\r\n                if (!flag) {\r\n                    result = [...result, ...(model.value.slice(i)) as string[]]\r\n                    break\r\n                }\r\n            }\r\n            if (props.showLast && result.length > 0) {\r\n                return result[result.length - 1]\r\n            }\r\n            return result.join(' / ')\r\n        })\r\n\r\n\r\n        const handler = {\r\n            clear: () => {\r\n                model.value = undefined\r\n                event.emit.onUpdateModelValue(model.value)\r\n\r\n                state.inputValue = null\r\n                refs.input!.methods.focus()\r\n            },\r\n            onServiceChange: (val: any, nodes: CascadeNode[]) => {\r\n                model.value = val\r\n                event.emit.onUpdateModelValue(val, nodes)\r\n            },\r\n            onInputChange: (val: string) => {\r\n                state.inputValue = val\r\n                if (!agentState.isShow.value && !ie) {\r\n                    agentState.methods.show()\r\n                }\r\n            },\r\n        }\r\n\r\n        watch(() => props.modelValue, () => {state.inputValue = null})\r\n\r\n        return {\r\n            render: () => (\r\n                <pl-input\r\n                    ref=\"input\"\r\n                    class={classes.value}\r\n                    clearIcon\r\n                    suffixIcon=\"el-icon-d-arrow-right\"\r\n                    modelValue={(agentState.isShow.value && props.filterable) ? state.inputValue : showValue.value}\r\n                    placeValue={showValue.value}\r\n                    placeholder={((agentState.isShow.value && props.filterable) ? showValue.value : (!!props.inputAttrs ? props.inputAttrs!.placeholder : null)) || ''}\r\n                    clearHandler={handler.clear}\r\n                    inputReadonly={!props.filterable}\r\n                    isFocus={agentState.state.focusCounter > 0}\r\n\r\n                    onChange={handler.onInputChange}\r\n                    {...agentState.inputHandler}\r\n                />\r\n            )\r\n        }\r\n    },\r\n})","import cascade from './cascade'\r\nimport panel from './panel/cascade-panel'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\nimport CascadeService from './service/cascade-service'\r\n\r\nconst CascadePanel = createComponentPlugin(panel)\r\n\r\nexport default createComponentPlugin(cascade, {\r\n    exposeComponents: {\r\n        CascadePanel,\r\n    },\r\n    plugins: [\r\n        CascadeService\r\n    ],\r\n    expose: {\r\n        CascadeService,\r\n    },\r\n})","import {SimpleObject} from \"../../../shims\";\r\nimport {useModel} from \"../../../use/useModel\";\r\nimport {TreeNodeCheckStatus} from \"../utils/tree-constant\";\r\nimport {computed, onBeforeUnmount, reactive, watchEffect} from 'vue';\r\nimport {throttle} from \"plain-utils/utils/throttle\";\r\n\r\n/**\r\n * 根据childrenField遍历data树形数据\r\n * @author  韦胜健\r\n * @date    2020/12/2 12:22\r\n */\r\nfunction iteratorTreeData({data, childrenField}: { data?: SimpleObject[], childrenField: string }) {\r\n    if (!!data) {\r\n        data.forEach(item => {\r\n            if (!!item[childrenField]) {\r\n                iteratorTreeData({data: item[childrenField], childrenField})\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport function useTreeNode<Node extends {\r\n    key: string,\r\n    data: SimpleObject,\r\n    level: number,\r\n    parentRef: () => Node | null,\r\n    selfRef: () => Node,\r\n\r\n    index: number,\r\n\r\n    readonly childrenData?: SimpleObject[]\r\n    readonly label?: string,\r\n    children?: Node[],\r\n    readonly checkStatus: TreeNodeCheckStatus,\r\n\r\n    expand: boolean,\r\n    check: boolean,\r\n    loading: boolean,\r\n    loaded: boolean,\r\n\r\n    readonly isCheckable: boolean,\r\n    readonly isLeaf: boolean,\r\n    readonly isVisible: boolean,\r\n}>(\r\n    {\r\n        props,\r\n        event,\r\n        keyManager,\r\n        getTreeNodeByDataAdjust,\r\n    }: {\r\n        props: {\r\n            data?: SimpleObject[],\r\n            labelField?: string,\r\n            keyField?: string,\r\n            childrenField?: string,\r\n            filterNodeMethod?: (node: Node) => boolean,\r\n            isLeaf?: (node: Node) => boolean,\r\n            isCheckable?: (node: Node) => boolean,\r\n            getChildren?: (node: Node, cb: (data: SimpleObject[]) => void) => void,\r\n            lazy?: boolean,\r\n            showCheckbox?: boolean,\r\n            checkStrictly?: boolean,\r\n        },\r\n        event: {\r\n            emit: { onUpdateData: (data?: SimpleObject[]) => void }\r\n        },\r\n        keyManager: (obj: any, keyField: string | undefined | null) => string,\r\n        getTreeNodeByDataAdjust?: (node: Node) => void,\r\n    }\r\n) {\r\n\r\n    /*内部data变量*/\r\n    const dataModel = useModel(() => props.data, event.emit.onUpdateData)\r\n\r\n\r\n    /**\r\n     * 因为滚动的时候会频繁获取checkStatus，而这个属性又是计算量比较大的属性，这里作为计算属性统一计算\r\n     * @author  韦胜健\r\n     * @date    2020/12/2 14:07\r\n     */\r\n    const checkStatus = computed(() => {\r\n        const map = {} as Record<string, TreeNodeCheckStatus>\r\n        if (!props.showCheckbox || !state.root) {\r\n            return map\r\n        }\r\n        utils.iterate({\r\n            nodes: state.root.children,\r\n            iterateChildrenFirst: true,\r\n            handler: node => {\r\n                if (props.checkStrictly || node.isLeaf) {\r\n                    map[node.key] = node.check ? TreeNodeCheckStatus.check : TreeNodeCheckStatus.uncheck\r\n                } else {\r\n                    if (node.check) {\r\n                        map[node.key] = TreeNodeCheckStatus.check\r\n                    } else {\r\n                        if (!!node.children && node.children.every(child => map[child.key] === TreeNodeCheckStatus.uncheck)) {\r\n                            map[node.key] = TreeNodeCheckStatus.uncheck\r\n                        } else {\r\n                            map[node.key] = TreeNodeCheckStatus.minus\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        })\r\n        return map\r\n    })\r\n\r\n    const utils = {\r\n        /*根据data获取Node*/\r\n        getTreeNodeByData: (() => {\r\n            const map = new WeakMap<object, Node>()\r\n            const get = ({data, level, parentRef, adjust}: { data: any, level: number, parentRef: () => Node, adjust?: (node: Node) => void }): Node => {\r\n                let node: Node | undefined = map.get(data)\r\n                if (!node) {\r\n                    node = {\r\n                        index: 0,\r\n                        key: keyManager(data, props.keyField),\r\n                        data,\r\n                        level,\r\n                        parentRef,\r\n                        selfRef() {return this},\r\n                        empty: false,\r\n                        children: [],\r\n\r\n                        get label() {return !!props.labelField && !!data ? data[props.labelField] : null},\r\n                        get childrenData() {return data[props.childrenField!]},\r\n\r\n                        expand: false,\r\n                        check: false,\r\n                        loading: false,\r\n                        loaded: !props.lazy,\r\n                        /* todo 这里并不会立即执行，当渲染VNodeChild的时候这里才会执行，所以不存在checkStatus.value不存在的问题*/\r\n                        get checkStatus() {return checkStatus.value[this.key]},\r\n                        // get checkStatus() {return TreeNodeCheckStatus.uncheck},\r\n\r\n                        get isCheckable() {return !props.isCheckable || props.isCheckable(this as any)},\r\n                        get isLeaf() {return !!props.isLeaf ? props.isLeaf(this as any) : !this.childrenData},\r\n                        get isVisible() {\r\n                            return !props.filterNodeMethod ? true : (props.filterNodeMethod(this as any) || (!!this.children && this.children.some((child: Node) => child.isVisible)))\r\n                        },\r\n                    } as any\r\n                    if (!!adjust) adjust(node!)\r\n                    map.set(data, node!)\r\n                } else {\r\n                    Object.assign(node, {\r\n                        key: keyManager(data, props.keyField),\r\n                        data,\r\n                        level,\r\n                        parentRef,\r\n                    })\r\n                }\r\n                return node!\r\n            }\r\n            return get\r\n        })(),\r\n        /**\r\n         * 重置state中的data数据\r\n         * 为什么不直接把root以及nodeMap做成计算属性。\r\n         * 因为在计算root以及nodeMap的时候，会获取 label，key以及children，如果这些字段被修改了，可能会导致\r\n         * 这个计算属性频繁执行。这里只检查子节点数据，当子节点数据变化的时候才重新执行root以及nodeMap\r\n         * @author  韦胜健\r\n         * @date    2020/12/17 16:17\r\n         */\r\n        resetData: () => {\r\n            const nodeMap = {} as Record<string, Node>;\r\n            const iterator = ({data, level, parentRef}: { data: any, level: number, parentRef: () => Node }): Node => {\r\n                const node = utils.getTreeNodeByData({data, level, parentRef, adjust: getTreeNodeByDataAdjust})\r\n                nodeMap[node.key] = node\r\n                const childrenData = !props.childrenField ? null : (data[props.childrenField!] as SimpleObject[])\r\n                if (!!childrenData) {\r\n                    node.children = childrenData.map(child => iterator({data: child, level: level + 1, parentRef: () => state.nodeMap[node.key]}))\r\n                }\r\n                return node\r\n            }\r\n            const root = iterator({\r\n                data: {\r\n                    [props.keyField || 'id']: '@@$$root',\r\n                    [props.childrenField || 'children']: dataModel.value\r\n                },\r\n                level: 0,\r\n                parentRef: null as any,\r\n            })\r\n\r\n            return {\r\n                nodeMap,\r\n                root\r\n            }\r\n        },\r\n        /*遍历所有节点数据*/\r\n        iterate: ({nodes, handler, iterateChildren, iterateChildrenFirst,}: { nodes: Node[] | undefined, handler: (node: Node) => void, iterateChildren?: (node: Node) => boolean, iterateChildrenFirst?: boolean, }) => {\r\n            if (!nodes) return\r\n            nodes.forEach(Node => {\r\n                !iterateChildrenFirst && handler(Node);\r\n                if (!!Node.children && (!iterateChildren || iterateChildren(Node))) {\r\n                    utils.iterate({nodes: Node.children, handler, iterateChildren, iterateChildrenFirst,})\r\n                }\r\n                iterateChildrenFirst && handler(Node);\r\n            })\r\n        },\r\n    }\r\n\r\n    const state = reactive((() => {\r\n        const {root, nodeMap} = utils.resetData()\r\n        return {\r\n            /*虚拟跟节点*/\r\n            root,\r\n            /*节点映射node*/\r\n            nodeMap\r\n        }\r\n    })()) as { root: Node, nodeMap: Record<string, Node> };\r\n\r\n    const stopWatchEffect = watchEffect(\r\n        () => iteratorTreeData({data: dataModel.value || [], childrenField: props.childrenField!}),\r\n        {\r\n            onTrigger: throttle(async () => {\r\n                const {root, nodeMap} = utils.resetData()\r\n                state.root = root\r\n                state.nodeMap = nodeMap\r\n            }, 100)\r\n        }\r\n    )\r\n    onBeforeUnmount(stopWatchEffect)\r\n    const methods = {\r\n        getReactiveChildrenData(node: Node) {\r\n            let childrenData = node.childrenData\r\n            if (!childrenData) {\r\n                childrenData = []\r\n                node.data[props.childrenField!] = childrenData\r\n            }\r\n            return childrenData\r\n        },\r\n        removeSelf: (node: Node) => {\r\n            const parentChildrenData = node.parentRef()!.childrenData!\r\n            parentChildrenData.splice(parentChildrenData.indexOf(node.data), 1)\r\n        },\r\n        previousSibling: (self: Node, target: Node) => {\r\n            let parentChildrenData = methods.getReactiveChildrenData(self.parentRef()!)\r\n            target.parentRef = self.parentRef\r\n            target.level = self.level\r\n            parentChildrenData.splice(parentChildrenData.indexOf(self.data), 0, target.data)\r\n        },\r\n        nextSibling: (self: Node, target: Node) => {\r\n            let parentChildrenData = methods.getReactiveChildrenData(self.parentRef()!)\r\n            target.parentRef = self.parentRef\r\n            target.level = self.level\r\n            parentChildrenData.splice(parentChildrenData.indexOf(self.data) + 1, 0, target.data)\r\n        },\r\n        unshiftChild: (self: Node, target: Node) => {\r\n            let childrenData = methods.getReactiveChildrenData(self)\r\n            target.parentRef = () => self\r\n            target.level = self.level + 1\r\n            childrenData.unshift(target.data)\r\n        },\r\n    }\r\n\r\n    return {\r\n        dataModel,\r\n        state,\r\n        utils,\r\n        methods,\r\n    }\r\n}","import {computed, nextTick, PropType} from 'vue';\r\nimport {SimpleObject} from \"../../../shims\";\r\nimport {useTreeNode} from \"./useTreeNode\";\r\nimport {TreeNodeCheckStatus} from \"../utils/tree-constant\";\r\nimport {useModel} from \"../../../use/useModel\";\r\n\r\nfunction use<Node extends {\r\n    key: string,\r\n    data: SimpleObject,\r\n    level: number,\r\n    parentRef: () => Node | null,\r\n    selfRef: () => Node,\r\n\r\n    index: number,\r\n\r\n    readonly childrenData?: SimpleObject[]\r\n    readonly label?: string,\r\n    children?: Node[],\r\n    readonly checkStatus: TreeNodeCheckStatus,\r\n\r\n    expand: boolean,\r\n    check: boolean,\r\n    loading: boolean,\r\n    loaded: boolean,\r\n\r\n    readonly isCheckable: boolean,\r\n    readonly isLeaf: boolean,\r\n    readonly isVisible: boolean,\r\n}>(\r\n    {\r\n        props,\r\n        emit,\r\n        keyManager,\r\n        getTreeNodeByDataAdjust,\r\n    }: {\r\n        props: {\r\n            /*useTreeNode*/\r\n            data?: SimpleObject[],\r\n            labelField?: string,\r\n            keyField?: string,\r\n            childrenField?: string,\r\n            filterNodeMethod?: (node: Node) => boolean,\r\n            isLeaf?: (node: Node) => boolean,\r\n            isCheckable?: (node: Node) => boolean,\r\n            getChildren?: (node: Node, cb: (data: SimpleObject[]) => void) => void,\r\n            lazy?: boolean,\r\n            showCheckbox?: boolean,\r\n            checkStrictly?: boolean,\r\n\r\n            /*useTree*/\r\n            according?: boolean,\r\n            autoExpandParent?: boolean,\r\n            expandOnClickNode?: boolean,\r\n            checkOnClickNode?: boolean,\r\n            defaultExpandAll?: boolean,\r\n            currentKey?: string,\r\n        },\r\n        emit: {\r\n            onExpand: (node: Node) => void,\r\n            onExpandChange: (keys: string[]) => void,\r\n            onCollapse: (node: Node) => void,\r\n            onCheck: (node: Node) => void,\r\n            onUncheck: (node: Node) => void,\r\n            onCheckChange: (keys: string[]) => void,\r\n            onClickNode: (node: Node) => void,\r\n            onUpdateData: (data?: SimpleObject[]) => void,\r\n            onUpdateCurrent: (key?: string) => void,\r\n        },\r\n        keyManager: (obj: any, keyField: string | undefined | null) => string,\r\n        getTreeNodeByDataAdjust?: (node: Node) => void,\r\n    }\r\n) {\r\n\r\n    const {dataModel, state, utils: treeNodeUtils, methods: treeNodeMethods} = useTreeNode<Node>({props, event: {emit}, keyManager, getTreeNodeByDataAdjust})\r\n    const current = useModel(() => props.currentKey, emit.onUpdateCurrent)\r\n\r\n    const utils = {\r\n        ...treeNodeUtils,\r\n        /*遍历key或者node*/\r\n        handleKeyOrNode: async (keyOrNode: string | Node | (string | Node)[], handler: (node: Node) => void | Promise<void>): Promise<void> => {\r\n            if (!keyOrNode) {\r\n                return\r\n            }\r\n            if (!Array.isArray(keyOrNode)) {\r\n                const node = baseMethods.getNode(keyOrNode)\r\n                if (!!node) {await handler(node)}\r\n            } else {\r\n                await Promise.all(keyOrNode.map(k => utils.handleKeyOrNode(k, handler)))\r\n            }\r\n        },\r\n        /*获取子节点数据异步方法*/\r\n        getChildrenAsync: (node: Node): Promise<SimpleObject[]> => {\r\n            return new Promise((resolve) => {\r\n                if (!props.getChildren) {\r\n                    console.error('getChildren is required when using lazy mode!')\r\n                    return\r\n                }\r\n                if (node.level === 0) {\r\n                    !!state.root && (state.root.loading = true);\r\n                } else {\r\n                    node.loading = true\r\n                }\r\n                props.getChildren(node, (results) => {\r\n                    if (node.level === 0) {\r\n                        !!state.root && (state.root.loading = false)\r\n                    } else {\r\n                        node.loading = false\r\n                        node.loaded = true\r\n                    }\r\n                    resolve(results)\r\n                })\r\n            })\r\n        },\r\n        /*获取Node所有的父节点*/\r\n        getParents: (keyOrNode: Node | string): Node[] => {\r\n            let node = baseMethods.getNode(keyOrNode)\r\n            if (!node) {return []}\r\n            let parents = [] as Node[]\r\n            let parent = node.parentRef()\r\n            /*root 是没有 parentRef的*/\r\n            while (!!parent && !!parent.parentRef) {\r\n                parents.push(parent)\r\n                parent = parent.parentRef()\r\n            }\r\n            return parents\r\n        },\r\n        /*初始化逻辑*/\r\n        init: () => {\r\n            props.lazy && utils.getChildrenAsync(state.root!).then(val => dataModel.value = val);\r\n            props.defaultExpandAll && nextTick().then(() => expandMethods.expandAll());\r\n        },\r\n    }\r\n\r\n    /*展开的节点*/\r\n    const expandNodes = computed(() => {\r\n        if (!state.root) {return []}\r\n        let nodes: Node[] = []\r\n        utils.iterate({nodes: state.root.children, handler: (node) => node.expand && nodes.push(node),})\r\n        return nodes\r\n    })\r\n    /*选中的节点*/\r\n    const checkNodes = computed(() => {\r\n        if (!state.root) {return []}\r\n        let nodes: Node[] = []\r\n        utils.iterate({nodes: state.root.children, handler: (node) => node.check && nodes.push(node)})\r\n        return nodes\r\n    })\r\n    /*展开的keys*/\r\n    const expandKeys = computed(() => expandNodes.value.map(i => i.key))\r\n    /*选中的keys*/\r\n    const checkKeys = computed(() => checkNodes.value.map(i => i.key))\r\n\r\n    const baseMethods = {\r\n        /*设置子节点数据*/\r\n        setChildrenData: (node: Node, children: any[]) => !!props.childrenField && (node.data[props.childrenField] = children),\r\n        /*通过keyOrNode获取node*/\r\n        getNode: (keyOrNode: string | Node): Node | undefined => typeof keyOrNode === \"string\" ? state.nodeMap[keyOrNode] : keyOrNode,\r\n        /*设置当前选中行*/\r\n        setCurrent: (keyOrNode: string | Node) => current.value = typeof keyOrNode === \"string\" ? keyOrNode : keyOrNode.key,\r\n        /*获取当前选中行*/\r\n        getCurrent: (): Node | undefined => !current.value ? undefined : baseMethods.getNode(current.value),\r\n    }\r\n    const expandMethods = {\r\n        /*展开节点*/\r\n        expand: async (keyOrNode: string | Node | (string | Node)[]) => {\r\n            await utils.handleKeyOrNode(keyOrNode,\r\n                async (node) => {\r\n                    const parent = node.parentRef()\r\n                    if (!node.expand) {\r\n                        if (\r\n                            props.lazy &&                           // 懒加载模式\r\n                            !node.loaded &&                         // 未曾加载过子节点数据\r\n                            !node.isLeaf                            // 节点不是叶子节点\r\n                        ) {\r\n                            const childrenData = await utils.getChildrenAsync(node)\r\n                            baseMethods.setChildrenData(node, childrenData || [])\r\n                            await nextTick()\r\n                        }\r\n\r\n                        if (props.according) {\r\n                            // 手风琴模式，展开某一个节点的时候，关闭兄弟节点\r\n                            if (!!parent && !!parent.children) {\r\n                                parent.children.forEach((child) => child.key !== node.key && expandMethods.collapse(child))\r\n                            }\r\n                        }\r\n                        node.expand = true\r\n                        await nextTick()\r\n\r\n                        emit.onExpand(node)\r\n                        emit.onExpandChange(expandKeys.value)\r\n                    }\r\n                    if (!!props.autoExpandParent && !!parent && parent.level !== 0) {\r\n                        await expandMethods.expand(parent)\r\n                    }\r\n                })\r\n        },\r\n        /*收起节点*/\r\n        collapse: async (keyOrNode: string | Node | (string | Node)[]) => {\r\n            await utils.handleKeyOrNode(keyOrNode,\r\n                async (node) => {\r\n                    await utils.iterate({\r\n                        nodes: [node, ...(node.children || [])],\r\n                        handler: (node) => {\r\n                            if (node.expand) {\r\n                                node.expand = false\r\n                                emit.onCollapse(node)\r\n                            }\r\n                        }\r\n                    })\r\n                    await nextTick()\r\n                    emit.onExpandChange(expandKeys.value)\r\n                })\r\n        },\r\n        /*展开或者收起节点*/\r\n        toggleExpand: (keyOrNode: string | Node) => {\r\n            const node = baseMethods.getNode(keyOrNode)\r\n            if (!node) {return}\r\n            node.expand ? expandMethods.collapse(keyOrNode) : expandMethods.expand(keyOrNode)\r\n        },\r\n        /*展开所有节点*/\r\n        expandAll: () => utils.iterate({nodes: state.root!.children, handler: node => node.expand = true}),\r\n        /*收起所有节点*/\r\n        collapseAll: () => expandNodes.value.forEach(node => node.expand = false),\r\n    }\r\n\r\n    const checkMethods = {\r\n        /*选中节点*/\r\n        check: async (keyOrNode: string | Node | (string | Node)[]) => {\r\n            await utils.handleKeyOrNode(keyOrNode, async (node) => {\r\n                if (node.check || !node.isCheckable) {return}\r\n                node.check = true\r\n                // 父子关联模式下，改变子节点以及父节点状态\r\n                if (!props.checkStrictly) {\r\n                    // 选中所有子节点\r\n                    utils.iterate({nodes: node.children, handler: (child) => child.check = true,})\r\n                    // 更新父节点状态，如果父节点所有的子节点都处于选中状态，则更新父节点为选中状态\r\n                    let parent = node.parentRef()\r\n                    while (!!parent && !!parent.key) {\r\n                        if (!!parent.parentRef && parent.children!.every(child => child.check)) {\r\n                            parent.check = true\r\n                            parent = !!parent.parentRef ? parent.parentRef() : null\r\n                        } else {\r\n                            break\r\n                        }\r\n                    }\r\n                }\r\n                await nextTick()\r\n                emit.onCheck(node)\r\n                emit.onCheckChange(checkKeys.value)\r\n            })\r\n        },\r\n        /*取消选中节点*/\r\n        uncheck: async (keyOrNode: string | Node | (string | Node)[]) => {\r\n            await utils.handleKeyOrNode(keyOrNode, async node => {\r\n                if (!node.check || !node.isCheckable) {return}\r\n                node.check = false\r\n                // 父子关联模式下，改变子节点以及父节点状态\r\n                if (!props.checkStrictly) {\r\n                    // 取消选中所有子节点\r\n                    utils.iterate({nodes: node.children, handler: (child) => child.check = false,})\r\n                    // 更新父节点状态，如果父节点所有的子节点都处于非选中状态，则更新父节点为非选中状态\r\n                    let parent = node.parentRef()\r\n                    while (!!parent && !!parent.key) {\r\n                        if (parent.check) {\r\n                            parent.check = false\r\n                            parent = parent.parentRef()\r\n                        } else {\r\n                            break\r\n                        }\r\n                    }\r\n                }\r\n\r\n                await nextTick()\r\n                emit.onUncheck(node)\r\n                emit.onCheckChange(checkKeys.value)\r\n            })\r\n        },\r\n        /*选中或者取消选中节点*/\r\n        toggleCheck: (keyOrNode: string | Node) => {\r\n            const node = baseMethods.getNode(keyOrNode)\r\n            if (!node) return\r\n            node.check ? checkMethods.uncheck(keyOrNode) : checkMethods.check(keyOrNode)\r\n        },\r\n        /*选中所有节点*/\r\n        checkAll: () => utils.iterate({nodes: state.root!.children, handler: node => node.check = true}),\r\n        /*取消选中所有节点*/\r\n        uncheckAll: () => checkNodes.value.forEach(node => node.check = false),\r\n        /*获取所有选中的节点*/\r\n        getCheckedData: () => checkNodes.value,\r\n        /*刷新所有节点的选中状态*/\r\n        refreshCheckStatus: async (keyOrNode: string | Node) => {\r\n            if (!props.showCheckbox) return\r\n            if (props.checkStrictly) return;\r\n            const node = baseMethods.getNode(keyOrNode)\r\n            if (!node) {return }\r\n            const nodes = [] as Node[]\r\n            utils.iterate({\r\n                nodes: node.children,\r\n                handler: node => {nodes.unshift(node)},\r\n                iterateChildrenFirst: true,\r\n            })\r\n            nodes.unshift(node)\r\n            nodes.unshift(...utils.getParents(node).reverse())\r\n            nodes.reverse().forEach(node => {\r\n                /*刷新选中状态的前提是有子节点数据*/\r\n                if (node.isLeaf || !node.children || node.children.length === 0) return\r\n                let hasCheck = false, hasUncheck = false;\r\n                node.children.forEach(child => child.check ? hasCheck = true : hasUncheck = true)\r\n                if (node.check && hasUncheck) {\r\n                    // 自身选中而子节点有非选中,取消当前节点的选中状态\r\n                    node.check = false\r\n                }\r\n                if (!node.check && hasCheck && !hasUncheck) {\r\n                    // 自身非选中而子节点全部选中，选中当前节点\r\n                    node.check = true\r\n                }\r\n            })\r\n        },\r\n    }\r\n\r\n    const handler = {\r\n        /*点击展开图标*/\r\n        onClickExpandIcon: async (e: MouseEvent, node: Node) => {\r\n            e.stopPropagation()\r\n            await expandMethods.toggleExpand(node)\r\n        },\r\n        /*点击复选框*/\r\n        onClickCheckbox: async (e: MouseEvent, node: Node) => {\r\n            e.stopPropagation()\r\n            await checkMethods.toggleCheck(node)\r\n        },\r\n        /*点击行*/\r\n        onClickCell: async (e: MouseEvent, node: Node) => {\r\n            emit.onClickNode(node)\r\n            baseMethods.setCurrent(node)\r\n            props.expandOnClickNode && (await expandMethods.toggleExpand(node));\r\n            props.checkOnClickNode && (await checkMethods.toggleCheck(node));\r\n        },\r\n    }\r\n\r\n    utils.init()\r\n\r\n    return {\r\n        dataModel,\r\n        state,\r\n        current,\r\n        utils,\r\n        handler,\r\n        methods: {\r\n            ...baseMethods,\r\n            expandMethods,\r\n            checkMethods,\r\n            treeNodeMethods,\r\n        },\r\n    }\r\n}\r\n\r\nexport const useTree = Object.assign(use, {\r\n    createProps: <Node>() => {\r\n        return {\r\n            /*useTreeNode*/\r\n            data: {type: Array as PropType<SimpleObject[]>},            // 树形结构数据\r\n            keyField: {type: String},                                   // 每一个树节点用来标识的唯一树形\r\n            labelField: {type: String},                                 // 树节点展示文本对应字段\r\n            childrenField: {type: String},                              // 树节点对应子节点数据对应字段\r\n\r\n            filterNodeMethod: {type: Function as PropType<(node: Node) => boolean>},// 对树节点进行筛选的方法，返回true表示可以显示，返回false表示隐藏\r\n            isLeaf: {type: Function as PropType<(node: Node) => boolean>},// 判断树节点是否为叶子节点的函数，仅在lazy模式有效\r\n            isCheckable: {type: Function as PropType<(node: Node) => boolean>},     // 当即将选中树节点时，判断是否可以选中该树节点\r\n            getChildren: {type: Function as PropType<(node: Node, cb: (data: SimpleObject[]) => void) => void>},// 加载子节点数据的函数，仅当 lazy 为true时有效\r\n            lazy: {type: Boolean},                                      // 是否懒加载子节点数据\r\n            showCheckbox: {type: Boolean},                              // 是否展示勾选框\r\n            checkStrictly: {type: Boolean},                             // 在显示复选框的情况下，是否严格遵循父子互不关联的做法，默认为false\r\n\r\n            /*useTree*/\r\n            according: {type: Boolean},                                 // 是否每次只展开一个同级的树节点\r\n            autoExpandParent: {type: Boolean, default: true},           // 是否展开节点的时候，自动展开父节点\r\n            expandOnClickNode: {type: Boolean, default: true},          // 是否点击树节点的时候展开子节点\r\n            checkOnClickNode: {type: Boolean},                          // 是否点击树节点的时候选中节点\r\n            defaultExpandAll: {type: Boolean},                          // 是否默认展开所有节点\r\n            currentKey: {type: String},                                 // 当前选中节点的key\r\n        }\r\n    },\r\n    createEvent: <Node>() => {\r\n        return {\r\n            onClickNode: (node: Node) => true,                          // 点击节点事件\r\n            onUpdateCurrent: (current?: string) => true,                // 当前高亮节点key变化绑定事件\r\n            onCurrentChange: (node: Node | null) => true,               // 当前高亮节点变化事件\r\n            onUpdateData: (data?: SimpleObject[]) => true,              // 数据变化事件（拖拽排序、数据懒加载）\r\n\r\n            onExpandChange: (expandKeys: string[]) => true,             // 展开节点变化事件\r\n            onExpand: (node: Node) => true,                             // 展开事件\r\n            onCollapse: (node: Node) => true,                           // 关闭节点事件\r\n\r\n            onCheckChange: (checkKeys: string[]) => true,               // 选中节点变化事件\r\n            onCheck: (node: Node) => true,                              // 选中节点事件\r\n            onUncheck: (node: Node) => true,                            // 取消选中节点事件\r\n        }\r\n    }\r\n})\r\n\r\n","import {TreeNode, TreePropsType} from \"./type\";\r\nimport {PropType} from 'vue';\r\nimport {useTree} from \"../core/useTree\";\r\nimport nodeIcon = TreePropsType.nodeIcon;\r\nimport renderContent = TreePropsType.renderContent;\r\nimport allDrag = TreePropsType.allowDrag;\r\nimport allDrop = TreePropsType.allowDrop;\r\n\r\nexport const TreeProps = {\r\n    ...useTree.createProps<TreeNode>(),\r\n    /*基础属性*/\r\n    loading: {type: Boolean},                                   // 当前是否处于loading状态\r\n    nodeIcon: {type: Function as PropType<nodeIcon>},           // 节点图标\r\n    nodeHeight: {type: Number, default: 40},                    // 节点高度\r\n    height: {type: String, default: '100%'},                    // 容器高度\r\n    /*普通属性*/\r\n    renderContent: {type: Function as PropType<renderContent>}, // 树节点内容渲染函数\r\n    /*展开相关属性*/\r\n    emptyText: {type: String, default: '暂无数据'},              // 没有子节点的时候展示的文本\r\n    expandIcon: {type: String},                                 // 树展开图标\r\n    intent: {type: Number, default: 22},                        // 相邻级节点水平缩进距离，默认16，单位px\r\n    /*拖拽属性*/\r\n    draggable: {type: Boolean},                                 // 是否可拖拽\r\n    allowDrag: {type: Function as PropType<allDrag>},           // 判断节点是否可以拖拽\r\n    allowDrop: {type: Function as PropType<allDrop>},           // 判断目标节点能够被放置\r\n\r\n    folderCollapseIcon: {type: String, default: 'el-icon-folder-s'},\r\n    folderExpandIcon: {type: String, default: 'el-icon-folder-opened'},\r\n    leafIcon: {type: String, default: 'el-icon-document'},\r\n\r\n    virtual: {type: Boolean},                                   // 是否开启虚拟滚动\r\n}","import {TreeNode} from \"./type\";\r\n\r\nconst basePadding = 8\r\n\r\nexport const TreeUtils = {\r\n    getPaddingLeft: (level: number, intent: number) => {\r\n        return basePadding + (level - 1) * intent\r\n    },\r\n    /**\r\n     * 计算treeNode的样式\r\n     * @author  韦胜健\r\n     * @date    2020/11/28 9:25\r\n     */\r\n    getTreeNodeStyles: (level: number, intent: number, nodeHeight: number) => {\r\n        const basePadding = 8\r\n        return {\r\n            paddingLeft: `${TreeUtils.getPaddingLeft(level, intent)}px`,\r\n            paddingRight: `${basePadding}px`,\r\n            height: `${nodeHeight}px`,\r\n        }\r\n    },\r\n    /**\r\n     * 计算tree node的class\r\n     * @author  韦胜健\r\n     * @date    2020/11/28 10:35\r\n     */\r\n    getTreeNodeClasses: (node: TreeNode, current?: string) => {\r\n        return [\r\n            'pl-tree-node',\r\n            {\r\n                'pl-tree-node-current': node.key === current,\r\n                'pl-tree-node-not-checkable': !node.isCheckable,\r\n            }\r\n        ]\r\n    },\r\n}","import Scroll from '../packages/scroll/scroll'\r\nimport {addClass} from \"plain-utils/dom/addClass\";\r\nimport {nextIndex} from \"../utils/nextIndex\";\r\nimport {StyleProperties} from \"../shims\";\r\n\r\nfunction createIndicator(hostEl: HTMLElement, vertical: boolean) {\r\n\r\n    const indicatorSize = 15\r\n\r\n    const {top, height, left, width} = hostEl.getBoundingClientRect()\r\n\r\n    const indicator = {\r\n        start: document.createElement('div'),\r\n        end: document.createElement('div'),\r\n    }\r\n\r\n    addClass(indicator.start, `pl-auto-scroll-indicator-start pl-auto-scroll-indicator-${vertical ? 'vertical' : 'horizontal'}`)\r\n    addClass(indicator.end, `pl-auto-scroll-indicator-end pl-auto-scroll-indicator-${vertical ? 'vertical' : 'horizontal'}`)\r\n\r\n    const publicStyles = {\r\n        position: 'fixed',\r\n        left: `${left}px`,\r\n        top: `${top}px`,\r\n\r\n        width: `${vertical ? width : indicatorSize}px`,\r\n        height: `${vertical ? indicatorSize : height}px`,\r\n        zIndex: `${nextIndex()}`,\r\n    } as StyleProperties\r\n\r\n    Object.assign(indicator.start.style, publicStyles)\r\n\r\n    if (vertical) {\r\n        let bottomIndicatorTop = top + height - indicatorSize\r\n        bottomIndicatorTop = Math.min(bottomIndicatorTop, document.body.offsetHeight - indicatorSize)\r\n\r\n        Object.assign(indicator.end.style, {\r\n            ...publicStyles,\r\n            top: `${bottomIndicatorTop}px`,\r\n        } as StyleProperties)\r\n    } else {\r\n        let rightIndicatorLeft = left + width - indicatorSize\r\n        rightIndicatorLeft = Math.min(rightIndicatorLeft, document.body.offsetWidth - indicatorSize)\r\n        Object.assign(indicator.end.style, {\r\n            ...publicStyles,\r\n            left: `${rightIndicatorLeft}px`,\r\n        } as StyleProperties)\r\n    }\r\n\r\n    document.body.appendChild(indicator.start)\r\n    document.body.appendChild(indicator.end)\r\n\r\n    return indicator\r\n}\r\n\r\nexport function useAutoScroll(config: {\r\n    getScroll: () => typeof Scroll.use.class,\r\n    vertical: boolean,\r\n}) {\r\n\r\n    let {getScroll, vertical} = config\r\n\r\n    const state = {\r\n        indicator: null as null | ReturnType<typeof createIndicator>\r\n    }\r\n\r\n    const methods = {\r\n        showHover() {\r\n\r\n            const scroll = getScroll()\r\n            state.indicator = createIndicator(scroll.refs.host, vertical)\r\n\r\n            const handler = {\r\n                enterStart: () => {\r\n                    vertical ? scroll.methods.autoScrollTop() : scroll.methods.autoScrollLeft()\r\n                },\r\n                enterEnd: () => {\r\n                    vertical ? scroll.methods.autoScrollBottom() : scroll.methods.autoScrollRight()\r\n                },\r\n                leave: () => {\r\n                    scroll.methods.stopAutoScroll()\r\n                }\r\n            }\r\n\r\n            state.indicator.start.addEventListener('mouseenter', handler.enterStart)\r\n            state.indicator.end.addEventListener('mouseenter', handler.enterEnd)\r\n\r\n            state.indicator.start.addEventListener('mouseleave', handler.leave)\r\n            state.indicator.end.addEventListener('mouseleave', handler.leave)\r\n        },\r\n        hideHover() {\r\n            if (!!state.indicator) {\r\n                state.indicator.start.parentNode!.removeChild(state.indicator.start)\r\n                state.indicator.end.parentNode!.removeChild(state.indicator.end)\r\n            }\r\n        },\r\n    }\r\n\r\n    return methods\r\n\r\n}","/**\r\n * 获取拖拽的rowEl对象\r\n * @author  韦胜健\r\n * @date    2020/8/19 23:55\r\n */\r\nimport {hasClass} from \"plain-utils/dom/hasClass\";\r\n\r\nexport function getRowEl(e: MouseEvent, rowClass: string): HTMLElement {\r\n    let rowEl = e.target as HTMLElement\r\n    while (!!rowEl && !hasClass(rowEl, rowClass)) {\r\n        rowEl = rowEl.parentNode as HTMLElement\r\n    }\r\n    if (!rowEl) {\r\n        console.log({e, rowClass})\r\n        throw new Error(`can't find item element!`)\r\n    }\r\n    return rowEl\r\n}","/**\r\n * 获取可以滚动的父组件\r\n * @author  韦胜健\r\n * @date    2020/8/19 23:50\r\n */\r\nexport function getScrollParent(el: HTMLElement): HTMLElement {\r\n    while (!!el && el.scrollHeight <= el.offsetHeight) {\r\n        el = el.parentNode as HTMLElement\r\n    }\r\n    return el\r\n}","import {TreeDropType} from \"../utils/tree-constant\";\r\nimport {useAutoScroll} from \"../../../use/useAutoScroll\";\r\nimport Scroll from \"../../scroll/scroll\";\r\nimport {StyleProperties} from \"../../../shims\";\r\nimport {getRowEl} from \"../../../utils/getRowEl\";\r\nimport {getScrollParent} from \"../../../utils/getScrollParent\";\r\n\r\nconst indicatorSize = 3;\r\n\r\nexport function useTreeDraggier<T extends {\r\n    key: string,\r\n    index: number,\r\n    isLeaf: boolean,\r\n    level: number,\r\n    parentRef: () => T | null,\r\n    children?: T[],\r\n    check?: boolean,\r\n    empty: boolean,\r\n}>(\r\n    {\r\n        rowClass,\r\n        dragClass,\r\n        flatList,\r\n        getScroll,\r\n        props,\r\n        methods,\r\n    }: {\r\n        rowClass: string,                                   // 行 class 标识\r\n        dragClass: string,                                  // 拖拽的节点class标识\r\n        flatList: { value: T[] },                           // 拍平的数据\r\n        getScroll: () => typeof Scroll.use.class,           // 获取 Scroll 组件实例引\r\n        props: {\r\n            intent: number,                                 // 层级偏移距离\r\n            allowDrag?: (node: T) => boolean | undefined,   // 判断元素是否可以拖拽\r\n            allowDrop?: (start: T, move: T, dropType: TreeDropType) => boolean | undefined,// 判断元素是否可以放置\r\n        },\r\n        methods: {\r\n            expand: (node: T) => void,                      // 展开某个元素\r\n            refreshCheckStatus: () => void,                 // 刷新所有元素的选中状态\r\n            removeSelf: (node: T) => void,\r\n            previousSibling: (self: T, target: T) => void,\r\n            nextSibling: (self: T, target: T) => void,\r\n            unshiftChild: (self: T, target: T) => void,\r\n        },\r\n    }\r\n) {\r\n\r\n    const state = {\r\n\r\n        startNode: null as null | T,                    // 拖拽开始的时候节点\r\n        moveNode: null as null | T,                     // 拖拽移动过程中的节点\r\n\r\n        startScrollTop: 0,                              // 开始拖拽的时候，滚动容器的scrollTop\r\n        moveScrollTop: 0,                               // 拖拽移动过程中，滚动容器的scrollTop\r\n\r\n        startClientY: 0,                                // 开始拖拽的时候，鼠标的clientY值\r\n        moveClientY: 0,                                 // 拖拽过程中，鼠标的clientY值\r\n\r\n        rowHeight: 0,                                   // 行高（不可变，每行高度都必须一样）\r\n        scrollParent: null as null | HTMLElement,       // 滚动容器节点\r\n        rowEl: null as null | HTMLElement,              // 拖拽开始的时候，节点的行dom对象\r\n        scrollParentRect: {                             // 滚动容器的位置属性\r\n            top: 0,\r\n            left: 0,\r\n            width: 0,\r\n            height: 0,\r\n        },\r\n        indicator: null as null | HTMLElement,          // 指示器dom对象\r\n        dragNodeBaseLeft: 0,                            // dragNode(dragClass标识的拖拽元素)的left属性\r\n\r\n        dropType: TreeDropType.inner,                   // 当前拖拽移动过程中的放置类型\r\n        droppable: false,                               // 当前拖拽过程中，是否可放置\r\n    }\r\n\r\n    const autoScroll = useAutoScroll({vertical: true, getScroll,})\r\n\r\n    const utils = {\r\n        /**\r\n         * 获取目标节点所有父节点\r\n         * @author  韦胜健\r\n         * @date    2020/8/25 16:33\r\n         */\r\n        getParents: (node: T | null) => {\r\n            const parents = [] as T[]\r\n            while (!!node && node.level > 0) {\r\n                parents.push(node)\r\n                node = node.parentRef()\r\n            }\r\n            return parents\r\n        },\r\n        allowRowDraggable: (node: T) => {\r\n            return !props.allowDrag || props.allowDrag(node) !== false\r\n        },\r\n        allowRowDroppable: (startNode: T, moveNode: T, dropType: TreeDropType) => {\r\n            return !props.allowDrop || props.allowDrop(startNode, moveNode, dropType) !== false\r\n        },\r\n        getIndicatorStyles(moveNode: T, droppable: boolean, dropType: TreeDropType) {\r\n\r\n            const styles: StyleProperties = {}\r\n\r\n            let top = moveNode.index * state.rowHeight + state.scrollParentRect.top - (state.moveScrollTop)\r\n            let paddingLeft = (moveNode.level - state.startNode!.level) * props.intent\r\n\r\n            styles.top = `${dropType === TreeDropType.next ? top + state.rowHeight - indicatorSize : top}px`\r\n            styles.left = `${state.dragNodeBaseLeft + paddingLeft}px`\r\n            styles.width = `${state.scrollParentRect.width - (state.dragNodeBaseLeft - state.scrollParentRect.left) - paddingLeft}px`\r\n            styles.height = `${dropType === TreeDropType.inner ? state.rowHeight : indicatorSize}px`\r\n            styles.backgroundColor = droppable ? '#12b4a5' : '#F38585'\r\n            styles.opacity = dropType === TreeDropType.inner ? '0.15' : ''\r\n\r\n            return styles\r\n        },\r\n        refresh() {\r\n            const top = state.startClientY - state.scrollParentRect.top + (state.moveScrollTop) + (state.moveClientY - state.startClientY)\r\n            let targetIndex = top / state.rowHeight\r\n            const external = targetIndex % 1\r\n            targetIndex = Math.floor(targetIndex)\r\n            let dropType: TreeDropType = external < 0.3 ? TreeDropType.prev : external > 0.7 ? TreeDropType.next : TreeDropType.inner\r\n            const moveNode = flatList.value[targetIndex]\r\n            if (!moveNode) {\r\n                return\r\n            }\r\n\r\n            let droppable = true\r\n\r\n            state.moveNode = moveNode\r\n            if (state.moveNode.empty) {\r\n                droppable = false\r\n            } else {\r\n                const parents = utils.getParents(state.moveNode)\r\n                if (parents.map(n => n.key).indexOf(state.startNode!.key) > -1) {\r\n                    droppable = false\r\n                }\r\n                if (!utils.allowRowDroppable(state.startNode!, moveNode, dropType)) {\r\n                    droppable = false\r\n                }\r\n            }\r\n\r\n            state.dropType = dropType\r\n            state.droppable = droppable\r\n\r\n            Object.assign(state.indicator!.style, utils.getIndicatorStyles(moveNode, droppable, dropType))\r\n        },\r\n    }\r\n\r\n    const handler = {\r\n        mousedown: (e: DragEvent) => {\r\n            state.startClientY = state.moveClientY = e.clientY\r\n\r\n            state.rowEl = getRowEl(e, rowClass)\r\n            state.rowHeight = state.rowEl.offsetHeight\r\n            const vid = Number(state.rowEl.getAttribute('vid'))\r\n            state.moveNode = state.startNode = flatList.value[vid]\r\n\r\n            if (!utils.allowRowDraggable(state.startNode)) {\r\n                return\r\n            }\r\n\r\n            const dragNode = state.rowEl.querySelector(`.${dragClass}`)!\r\n            state.dragNodeBaseLeft = Math.ceil(dragNode.getBoundingClientRect()!.left)\r\n\r\n            state.scrollParent = getScrollParent(state.rowEl)\r\n            state.startScrollTop = state.moveScrollTop = state.scrollParent.scrollTop\r\n            const {top, left, height, width} = (state.scrollParent.parentNode as HTMLElement).getBoundingClientRect()\r\n            state.scrollParentRect = {top, left, height, width}\r\n\r\n            state.indicator = document.createElement('div')\r\n            state.indicator.style.position = 'fixed'\r\n            state.indicator.style.pointerEvents = 'none'\r\n            state.indicator.style.height = `${indicatorSize}px`\r\n            state.indicator.style.width = `${state.scrollParentRect.width}px`\r\n            state.indicator.style.left = `${state.scrollParentRect.left}px`\r\n            state.indicator.style.backgroundColor = '#12b4a5'\r\n            document.body.appendChild(state.indicator)\r\n\r\n            state.scrollParent.addEventListener('scroll', handler.scroll)\r\n            document.addEventListener('mousemove', handler.mousemove)\r\n            document.addEventListener('mouseup', handler.mouseup)\r\n\r\n            utils.refresh()\r\n            autoScroll.showHover()\r\n        },\r\n        scroll() {\r\n            state.moveScrollTop = state.scrollParent!.scrollTop\r\n            utils.refresh()\r\n        },\r\n        /**\r\n         * 在dragover中判断clientX以及clientY，如果这两个值没有变化，就不往下执行，节省性能\r\n         * @author  韦胜健\r\n         * @date    2020/8/25 22:22\r\n         */\r\n        mousemove: (e: MouseEvent) => {\r\n            const {top, height} = state.scrollParentRect\r\n            if (e.clientY < top || e.clientY > top + height) {\r\n                return;\r\n            }\r\n            state.moveClientY = e.clientY\r\n            utils.refresh()\r\n        },\r\n        mouseup: () => {\r\n\r\n            autoScroll.hideHover()\r\n\r\n            const {startNode, moveNode, dropType, droppable} = state\r\n\r\n            state.scrollParent!.removeEventListener('scroll', handler.scroll)\r\n            document.removeEventListener('mousemove', handler.mousemove)\r\n            document.removeEventListener('mouseup', handler.mouseup)\r\n\r\n            state.indicator!.parentNode!.removeChild(state.indicator!)\r\n            state.startClientY = state.moveClientY = 0\r\n            state.rowEl = null\r\n            state.rowHeight = 0\r\n            state.moveNode = null\r\n            state.dragNodeBaseLeft = 0\r\n            state.scrollParent = null\r\n            state.startScrollTop = 0\r\n            state.scrollParentRect = {top: 0, left: 0, height: 0, width: 0}\r\n\r\n            if (!droppable) {\r\n                return\r\n            }\r\n\r\n            methods.removeSelf(startNode!)\r\n\r\n            switch (dropType) {\r\n                case TreeDropType.prev:\r\n                    methods.previousSibling(moveNode!, startNode!)\r\n                    break\r\n                case TreeDropType.inner:\r\n                    methods.unshiftChild(moveNode!, startNode!)\r\n                    methods.expand(moveNode!)\r\n                    break\r\n                case TreeDropType.next:\r\n                    methods.nextSibling(moveNode!, startNode!)\r\n                    break\r\n            }\r\n            methods.refreshCheckStatus()\r\n        }\r\n    }\r\n\r\n    return {\r\n        handler,\r\n        utils,\r\n    }\r\n\r\n}","import {designComponent} from \"../../use/designComponent\";\r\nimport {useScopedSlots} from \"../../use/useScopedSlots\";\r\nimport {computed, PropType} from 'vue';\r\nimport './tree.scss'\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {TreeProps} from \"./utils/props\";\r\nimport {TreeUtils} from \"./utils/tree.utils\";\r\nimport {TreeNode} from \"./utils/type\";\r\nimport VirtualList from '../virutal-list/virtual-list'\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport {useTreeDraggier} from './core/useTreeDraggier';\r\nimport Scroll from '../scroll/scroll'\r\nimport {delay} from \"plain-utils/utils/delay\";\r\nimport {useTree} from \"./core/useTree\";\r\nimport {createKeyHandler} from \"../../utils/createKeyHandler\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-tree',\r\n    props: {\r\n        ...TreeProps,\r\n    },\r\n    emits: useTree.createEvent<TreeNode>(),\r\n    setup({props, event}) {\r\n\r\n        const {emit} = event\r\n        const {refs} = useRefs({list: VirtualList, scroll: Scroll,})\r\n        const {scopedSlots} = useScopedSlots({default: {node: Object as PropType<TreeNode>, index: Number},})\r\n        const {state, methods, current, handler, utils} = useTree<TreeNode>({props, emit, keyManager: createKeyHandler('tree'),})\r\n\r\n        /*tree node content公共的样式*/\r\n        const contentStyles = useStyles(style => {style.height = `${props.nodeHeight}px`})\r\n        /**\r\n         * 拍-平的树形数据（不拍平无法实现虚拟滚动）\r\n         * @author  韦胜健\r\n         * @date    2020/12/2 12:16\r\n         */\r\n        const flatList = computed(() => {\r\n            let result: (TreeNode)[] = []\r\n            if (!state.root) {\r\n                return []\r\n            }\r\n            utils.iterate({\r\n                nodes: state.root.children,\r\n                iterateChildren: (treeNode) => treeNode.expand,\r\n                handler: (treeNode) => {\r\n                    result.push(treeNode)\r\n                    // console.log(treeNode.label, {'!treeNode.isLeaf': !treeNode.isLeaf, 'treeNode.loaded': treeNode.loaded, 'treeNode.isVisible': treeNode.isVisible, 'treeNode.expand': treeNode.expand, 'treeNode.children': treeNode.children,})\r\n                    if (\r\n                        !treeNode.isLeaf &&\r\n                        treeNode.loaded &&\r\n                        treeNode.isVisible &&\r\n                        treeNode.expand &&\r\n                        treeNode.children!.length === 0\r\n                    ) {\r\n                        result.push({\r\n                            key: `@@empty_${treeNode.key}`,\r\n                            parentRef: () => treeNode,\r\n                            empty: true,\r\n                            level: treeNode.level + 1,\r\n                        } as TreeNode)\r\n                    }\r\n                },\r\n            },)\r\n            result = result.filter((treeNode) => treeNode.empty ? true : !!treeNode.isVisible)\r\n            result.forEach((node, index) => node.index = index)\r\n            return result\r\n        })\r\n\r\n        const exposeMethods = {\r\n            ...methods,\r\n            ...methods.expandMethods,\r\n            ...methods.checkMethods,\r\n            ...methods.treeNodeMethods,\r\n        }\r\n\r\n        /*---------------------------------------draggier-------------------------------------------*/\r\n\r\n        const draggier = useTreeDraggier<TreeNode>({\r\n            rowClass: 'pl-tree-node',\r\n            dragClass: 'pl-tree-node-draggier',\r\n            flatList,\r\n            getScroll: () => props.virtual ? refs.list!.refs.scroll! : refs.scroll!,\r\n            props,\r\n            methods: {\r\n                ...exposeMethods,\r\n                refreshCheckStatus: async () => {\r\n                    await delay(120)\r\n                    flatList.value.forEach(methods.checkMethods.refreshCheckStatus)\r\n                },\r\n            },\r\n        })\r\n\r\n        const render = {\r\n            node: (node: TreeNode, index: number) => {\r\n                if (node.empty) {\r\n                    return render.empty(node)\r\n                }\r\n                return (\r\n                    <pl-item\r\n                        key={node.key}\r\n                        class={TreeUtils.getTreeNodeClasses(node, current.value)}\r\n                        style={TreeUtils.getTreeNodeStyles(node.level, props.intent, props.nodeHeight)}\r\n                        vid={index}>\r\n\r\n                        <div class=\"pl-tree-node-operator\">\r\n                            {!!props.showCheckbox && <pl-checkbox\r\n                                checkStatus={node.checkStatus}\r\n                                disabled={!node.isCheckable}\r\n                                onClick={(e: MouseEvent) => handler.onClickCheckbox(e, node)}\r\n                            />}\r\n                            <div class=\"pl-tree-node-expander\">\r\n                                {node.loading ?\r\n                                    <pl-loading type=\"gamma\"/> :\r\n                                    <pl-icon icon={node.isLeaf ? props.leafIcon : node.expand ? props.folderExpandIcon : props.folderCollapseIcon}\r\n                                             onClick={(e: MouseEvent) => handler.onClickExpandIcon(e, node)}/>\r\n                                }\r\n                            </div>\r\n                            {!!props.draggable && <pl-icon icon=\"el-icon-list\" class=\"pl-tree-node-draggier\" onMousedown={draggier.handler.mousedown}/>}\r\n                            {!!props.nodeIcon && <pl-icon icon={props.nodeIcon(node)}/>}\r\n                        </div>\r\n                        <div class=\"pl-tree-node-content\"\r\n                             style={contentStyles.value}\r\n                             onClick={(e: MouseEvent) => handler.onClickCell(e, node)}>\r\n                            {scopedSlots.default({node, index}, !!props.renderContent ? props.renderContent({node, index}) : node.label)}\r\n                        </div>\r\n                    </pl-item>\r\n                )\r\n            },\r\n            empty: (emptyNode: TreeNode) => {\r\n                const parent = emptyNode.parentRef()!\r\n                return (\r\n                    <pl-item\r\n                        key={`${parent.key}_empty`}\r\n                        class=\"pl-tree-node pl-tree-empty-node\"\r\n                        style={TreeUtils.getTreeNodeStyles(parent.level + 1, props.intent, props.nodeHeight)}>\r\n                        <div class=\"pl-tree-node-operator\">\r\n                            <div class=\"pl-tree-node-expander\">\r\n                                <pl-icon icon=\"el-icon-close-bold\"/>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"pl-tree-node-content\" style={contentStyles.value}>\r\n                            <span>{props.emptyText}</span>\r\n                        </div>\r\n                    </pl-item>\r\n                )\r\n            },\r\n        }\r\n\r\n        return {\r\n            refer: {\r\n                ...exposeMethods,\r\n            },\r\n            render: () => {\r\n                return (\r\n                    <div class=\"pl-tree\" style={{height: props.height}} v-loading={props.loading || (!!state.root && state.root.loading)}>\r\n                        {flatList.value.length === 0 ? (\r\n                            <div class=\"pl-tree-placeholder\" key=\"placeholder\">\r\n                                <pl-icon icon=\"el-icon-folder-opened\"/>\r\n                                <span>{props.emptyText}</span>\r\n                            </div>\r\n                        ) : (\r\n                            props.virtual ?\r\n                                (<pl-virtual-list\r\n                                    ref=\"list\"\r\n                                    data={flatList.value}\r\n                                    size={props.nodeHeight}\r\n                                    v-slots={{\r\n                                        // default: ({item, index}: { item: TreeNode, index: number }) => render.node(item, index),\r\n                                        content: ({data}: { data: { item: TreeNode, index: number }[] }) => (\r\n                                            <pl-list direction=\"top\" class=\"pl-tree-node-list\">\r\n                                                {data.map(({item, index}) => render.node(item, index))}\r\n                                            </pl-list>\r\n                                        )\r\n                                    }}\r\n                                />) : (\r\n                                    <pl-scroll ref=\"scroll\">\r\n                                        <pl-list direction=\"top\" className=\"pl-tree-node-list\">\r\n                                            {flatList.value.map((node, index) => render.node(node, index))}\r\n                                        </pl-list>\r\n                                    </pl-scroll>\r\n                                )\r\n                        )}\r\n                    </div>\r\n                )\r\n            }\r\n        }\r\n    },\r\n})","import tree from './tree'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(tree)","import {designComponent} from \"../../use/designComponent\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport Option, {SelectOption} from './select-option'\r\nimport {useCollect} from \"../../use/useCollect\";\r\nimport {computed, PropType, ref} from 'vue';\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport Scroll from '../scroll'\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {unit} from \"plain-utils/string/unit\";\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {useProps} from \"../../use/useProps\";\r\nimport {$$notice} from \"../notice-service\";\r\n\r\nconst Panel = designComponent({\r\n    name: 'pl-select-panel',\r\n    props: {\r\n        modelValue: {type: [String, Number, Array]},                     // 双向绑定值\r\n\r\n        multiple: {type: Boolean},                                      // 是否多选\r\n        multipleMaxLimit: {type: [Number, String]},                     // 多选最多选择个数\r\n        multipleMinLimit: {type: [Number, String]},                     // 多选最少选择个数\r\n\r\n        noMatchText: {type: String, default: '暂无匹配数据'},             // 筛选无数据时展示的文本\r\n        noDataText: {type: String, default: '暂无数据'},                 // 无数据时显示的文本\r\n        filterMethod: {type: Function as PropType<(option: { val: string | number, label: string | number, disabled?: boolean }) => boolean>},// 筛选过滤函数\r\n        content: {type: [Object, Function]},                            // 内容虚拟dom或者渲染函数\r\n        height: {type: Number},                                         // 面板高度，超过会显示自定义滚动条\r\n\r\n        showDebug: {type: Boolean},\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: number | string | string[]) => true,\r\n        onClick: (option: SelectOption) => true,\r\n    },\r\n    provideRefer: true,\r\n    setup({props, event: {emit}}) {\r\n\r\n        const {propsState} = useProps(props, {\r\n            multipleMaxLimit: useProps.NUMBER,\r\n            multipleMinLimit: useProps.NUMBER,\r\n        })\r\n\r\n        /*插槽*/\r\n        const {slots} = useSlots()\r\n        /*组件引用*/\r\n        const {refs} = useRefs({scroll: Scroll})\r\n        /*收集的 select-option 子组件*/\r\n        const items = SelectPanelCollector.parent()\r\n        /*筛选的出有效的 select-option 子组件*/\r\n        const options = computed(() => items.filter(i => !i.props.group))\r\n        /*当前显示的select-option*/\r\n        const showOptions = computed(() => options.value.filter(o => utils.isShow(o.props)))\r\n        /*当前高亮的option.props.val*/\r\n        const current = ref(null as null | SelectOption)\r\n        /*双向绑定值*/\r\n        const model = useModel(() => props.modelValue as number | string | string[], emit.onUpdateModelValue)\r\n\r\n        const classes = computed(() => [\r\n            'pl-select-panel',\r\n            {\r\n                'pl-select-panel-multiple': props.multiple,\r\n            }\r\n        ])\r\n\r\n        const styles = useStyles(style => {!!props.height && (style.height = unit(props.height))})\r\n\r\n        const utils = {\r\n            /**\r\n             * 用于option判断当前是否已经被选中\r\n             * @author  韦胜健\r\n             * @date    2020/6/8 9:23\r\n             */\r\n            isSelected: (optionProps: { label: string | number, val: string | number, disabled?: boolean }) => {\r\n                if (!model.value) return false\r\n                if (!props.multiple) {\r\n                    return (model.value as string) == optionProps.val\r\n                } else {\r\n                    return (model.value as string[]).indexOf(optionProps.val! as string) > -1\r\n                }\r\n            },\r\n            isShow: (optionProps: { label: string | number, val: string | number, disabled?: boolean }) => {\r\n                return !props.filterMethod || props.filterMethod(optionProps)\r\n            }\r\n        }\r\n\r\n        const handler = {\r\n            /**\r\n             * 处理点击option的动作\r\n             * @author  韦胜健\r\n             * @date    2020/6/8 9:24\r\n             */\r\n            clickOption: (option: SelectOption) => {\r\n\r\n                if (option.props.disabled) return\r\n\r\n                emit.onClick(option)\r\n\r\n                if (!props.multiple) {\r\n                    model.value = option.props.val\r\n                } else {\r\n                    const newValue: any[] = [...((model.value as string[]) || [])]\r\n                    const index = newValue.indexOf(option.props.val!)\r\n                    if (index > -1) {\r\n                        if (!!propsState.multipleMinLimit && newValue.length <= propsState.multipleMinLimit) {\r\n                            return $$notice.warn(`最少选择 ${propsState.multipleMinLimit} 个选项`)\r\n                        }\r\n                        newValue.splice(index, 1)\r\n                    } else {\r\n                        if (!!propsState.multipleMaxLimit && newValue.length >= propsState.multipleMaxLimit) {\r\n                            return $$notice.warn(`最多选择 ${propsState.multipleMaxLimit} 个选项`)\r\n                        }\r\n                        newValue.push(option.props.val!)\r\n                    }\r\n                    model.value = [...newValue]\r\n                }\r\n            },\r\n        }\r\n\r\n        const methods = {\r\n            /**\r\n             * 高亮上一个元素\r\n             * @author  韦胜健\r\n             * @date    2020/6/8 9:18\r\n             */\r\n            highlightPrev: () => {\r\n                if (showOptions.value.length === 0) {\r\n                    return\r\n                }\r\n                if (!current.value) {\r\n                    current.value = showOptions.value[showOptions.value.length - 1]\r\n\r\n                    // 滚动到高亮的选项\r\n                    if (!!refs.scroll) {\r\n                        const el = (current.value as any).$el\r\n                        refs.scroll.methods.scrollTop(el.offsetTop, 200)\r\n                    }\r\n                } else {\r\n                    let index = showOptions.value.indexOf(current.value)\r\n                    if (index === 0) {\r\n                        index = showOptions.value.length - 1\r\n                        current.value = showOptions.value[index]\r\n\r\n                        // 滚动到高亮的选项\r\n                        if (!!refs.scroll) {\r\n                            const el = (current.value as any).$el\r\n                            refs.scroll.methods.scrollTop(el.offsetTop, 200)\r\n                        }\r\n                    } else {\r\n                        index--\r\n                        current.value = showOptions.value[index]\r\n\r\n                        // 滚动到高亮的选项\r\n                        if (!!refs.scroll) {\r\n                            const el = (current.value as any).$el\r\n                            const {wrapperScrollTop} = refs.scroll.freezeState\r\n                            if (wrapperScrollTop > el.offsetTop) {\r\n                                refs.scroll.methods.scrollTop(el.offsetTop, 200)\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            /**\r\n             * 高亮下一个元素\r\n             * @author  韦胜健\r\n             * @date    2020/6/8 9:18\r\n             */\r\n            highlightNext: () => {\r\n                if (showOptions.value.length === 0) {\r\n                    return\r\n                }\r\n                if (!current.value) {\r\n                    current.value = showOptions.value[0]\r\n                } else {\r\n                    let index = showOptions.value.indexOf(current.value)\r\n                    if (index === showOptions.value.length - 1) {\r\n                        index = 0\r\n                        current.value = showOptions.value[index]\r\n\r\n                        // 滚动到高亮的选项\r\n                        if (!!refs.scroll) {\r\n                            refs.scroll.methods.scrollTop(0, 200)\r\n                        }\r\n                    } else {\r\n                        index++\r\n                        current.value = showOptions.value[index]\r\n\r\n                        // 滚动到高亮的选项\r\n                        if (!!refs.scroll) {\r\n                            const el = (current.value as any).$el\r\n                            const {state: {hostHeight}, freezeState: {wrapperScrollTop}} = refs.scroll\r\n                            const scrollTop = el.offsetTop + el.offsetHeight - hostHeight\r\n                            if (scrollTop > 0 && scrollTop > wrapperScrollTop) {\r\n                                refs.scroll.methods.scrollTop(scrollTop, 200)\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n\r\n            },\r\n            /**\r\n             * 选中当前高亮的元素\r\n             * @author  韦胜健\r\n             * @date    2020/6/8 9:18\r\n             */\r\n            selectHighlight: () => {\r\n                if (showOptions.value.length === 0) {\r\n                    return\r\n                }\r\n                if (!current.value) {\r\n                    methods.highlightNext()\r\n                }\r\n                if (!!current.value) {\r\n                    handler.clickOption(current.value)\r\n                }\r\n            },\r\n        }\r\n\r\n        return {\r\n            refer: {\r\n                props,\r\n                handler,\r\n                methods,\r\n                utils,\r\n                current,\r\n            },\r\n            render: () => {\r\n\r\n                const inner = [\r\n                    (options.value.length === 0 || showOptions.value.length === 0) ? (\r\n                        <div class=\"pl-select-panel-empty-text\">\r\n                            <pl-icon icon=\"el-icon-nodata\"/>\r\n                            {options.value.length === 0 ? props.noDataText : props.noMatchText}\r\n                        </div>\r\n                    ) : null,\r\n                    slots.default(),\r\n                    !!props.content ? ((typeof props.content === \"function\" ? props.content() : props.content)) : null,\r\n                    !!props.showDebug ? (\r\n                        <div class=\"pl-select-panel-debug\">\r\n                            {options.value.map(option => <div>{option.props.label}__{option.props.val}__{option.props.disabled}</div>)}\r\n                        </div>\r\n                    ) : null,\r\n                ].filter(Boolean)\r\n\r\n                const content: any = !!props.height ? (\r\n                    <pl-scroll fitHostWidth ref=\"scroll\">\r\n                        {inner}\r\n                    </pl-scroll>\r\n                ) : inner\r\n\r\n                return (\r\n                    <div class={classes.value} style={styles.value}>\r\n                        {content}\r\n                    </div>\r\n                )\r\n            }\r\n        }\r\n    },\r\n})\r\n\r\nexport default Panel\r\n\r\nexport const SelectPanelCollector = useCollect(() => ({\r\n    parent: Panel,\r\n    child: Option,\r\n}))","import {designComponent} from \"../../use/designComponent\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {useCollect} from \"../../use/useCollect\";\r\nimport Option, {SelectOption} from './select-option'\r\nimport {computed} from 'vue';\r\nimport Panel from './select-panel'\r\n\r\nconst Group = designComponent({\r\n    name: 'pl-select-group',\r\n    props: {\r\n        label: {type: String},\r\n    },\r\n    setup({props}) {\r\n\r\n        const {slots} = useSlots(['label'], true)\r\n        const options = (SelectGroupCollector as any).parent() as SelectOption[]\r\n        const panel = Panel.use.inject(null)\r\n        const isShow = computed(() => !panel || options.filter((option) => !option.props.group).filter(o => panel.utils.isShow(o.props)).length > 0)\r\n\r\n        return {\r\n            render: () => {\r\n                return (\r\n                    <>\r\n                        {isShow.value && (slots.label.isExist() || !!props.label) && (\r\n                            <pl-select-option class=\"pl-select-group\" group label=\"\" val=\"\">\r\n                                {slots.label(props.label)}\r\n                            </pl-select-option>\r\n                        )}\r\n                        {slots.default()}\r\n                    </>\r\n                )\r\n            }\r\n        }\r\n    },\r\n})\r\n\r\nexport default Group\r\n\r\nexport const SelectGroupCollector = useCollect(() => ({\r\n    parent: Group,\r\n    child: Option,\r\n}))","import {designComponent} from \"../../use/designComponent\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {useClass} from \"../../use/useClasses\";\r\nimport {SelectPanelCollector} from \"./select-panel\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport {computed} from 'vue';\r\nimport {SelectGroupCollector} from \"./select-group\";\r\nimport {SelectCollector} from \"./select\";\r\n\r\nconst Option = designComponent({\r\n    name: 'pl-select-option',\r\n    props: {\r\n        label: {type: [String, Number], required: true},\r\n        val: {type: [String, Number], required: true},\r\n        icon: {type: String},\r\n        disabled: {type: Boolean},\r\n\r\n        group: {type: Boolean},\r\n    },\r\n    setup({props}) {\r\n\r\n        const {slots} = useSlots()\r\n        const {refs} = useRefs({\r\n            el: HTMLDivElement,\r\n        })\r\n\r\n        SelectCollector.child({injectDefaultValue: null, sort: () => refs.el})\r\n        const group = SelectGroupCollector.child({injectDefaultValue: null})\r\n        const panel = SelectPanelCollector.child({injectDefaultValue: null, sort: () => refs.el})\r\n        const isShow = computed(() => (props.group || !panel || panel.utils.isShow(props)))\r\n        const isSelected = computed(() => !!panel && panel.utils.isSelected(props))\r\n\r\n        const refer = {\r\n            props,\r\n            refs,\r\n        }\r\n\r\n        const classes = useClass(() => [\r\n            'pl-select-option',\r\n            {\r\n                'pl-select-option-disabled': props.disabled,\r\n                'pl-select-option-show': isShow.value,\r\n                'pl-select-option-selected': isSelected.value,\r\n                'pl-select-option-highlight': !!panel && !!panel.current.value && panel.current.value.props === props,\r\n                'pl-select-option-group-child': !!group && !props.group,\r\n            }\r\n        ])\r\n\r\n        const handler = {\r\n            click: () => {\r\n                !!panel && panel.handler.clickOption(refer)\r\n            }\r\n        }\r\n\r\n        return {\r\n            refer,\r\n            render: () => {\r\n                return (\r\n                    <div\r\n                        {...{\r\n                            ref: \"el\",\r\n                            label: props.label,\r\n                            val: props.val,\r\n                            icon: props.icon,\r\n                            class: classes.value,\r\n                            onClick: handler.click,\r\n                        }}>\r\n                        {!!panel && isShow.value && <>\r\n                            {!!panel.props.multiple && !props.group ? <pl-checkbox customReadonly modelValue={isSelected.value} class=\"pl-select-option-checkbox\"/> : null}\r\n                            {!!props.icon && <pl-icon icon={props.icon} class=\"pl-select-option-icon\"/>}\r\n                            {slots.default(props.label)}\r\n                        </>}\r\n                    </div>\r\n                )\r\n            }\r\n        }\r\n    },\r\n})\r\n\r\nexport default Option\r\nexport type SelectOption = typeof Option.use.class","import {createAgentGetter} from \"../popper/edit/createAgentGetter\";\r\nimport {App} from 'vue';\r\n\r\nexport const SelectServiceGetter = createAgentGetter({\r\n    name: 'select',\r\n    render: (attrs) => {\r\n        return <pl-select-panel {...attrs}/>\r\n    },\r\n    defaultPopperAttrs: {\r\n        transition: 'pl-transition-popper-drop',\r\n        sizeEqual: true,\r\n    },\r\n    defaultRenderAttrs: {\r\n        async onChange() {\r\n            let renderAttrs: any = this.state.option.serviceOption.renderAttrs\r\n            if (typeof renderAttrs === \"function\") renderAttrs = renderAttrs()\r\n            /*非多选的情况下，默认点击关闭下拉框*/\r\n            if (!renderAttrs.multiple) {\r\n                this.hide()\r\n            }\r\n        }\r\n    },\r\n})\r\n\r\nexport default {\r\n    install(app: App) {\r\n        app.mixin({\r\n            beforeCreate(): void {\r\n                Object.defineProperty(this, '$select', {\r\n                    get() {\r\n                        const service = SelectServiceGetter(this)\r\n                        return service\r\n                    },\r\n                })\r\n            }\r\n        })\r\n    },\r\n}","import {designComponent} from \"../../use/designComponent\";\r\nimport './select.scss'\r\nimport {StyleProps, useStyle} from \"../../use/useStyle\";\r\nimport {EditProps} from \"../../use/useEdit\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport Input from '../input'\r\nimport Option, {SelectOption} from \"./select-option\";\r\nimport {useEditPopperAgent} from \"../popper/edit/useEditPopperAgent\";\r\nimport {SelectServiceGetter} from \"./select-service\";\r\nimport {computed, ref} from 'vue';\r\nimport {useCollect} from \"../../use/useCollect\";\r\nimport {ie} from \"plain-utils/utils/ie\";\r\nimport {handleKeyboard} from \"../keyboard\";\r\nimport Panel from './select-panel'\r\nimport {useModel} from \"../../use/useModel\";\r\n\r\nconst Props = {\r\n    ...EditProps,\r\n    ...StyleProps,\r\n\r\n    modelValue: {type: [String, Number, Array]},\r\n    filterable: {type: Boolean, default: true},                     // 是否可以输入筛选\r\n    inputProps: {type: Object},                                     // input组件绑定属性对象\r\n\r\n    multiple: {type: Boolean},                                      // 是否多选\r\n    multipleMaxLimit: {type: Number},                               // 多选最多选择个数\r\n    multipleMinLimit: {type: Number},                               // 多选最少选择个数\r\n    collapseTags: {type: Boolean, default: true},                   // 多选模式下，超过三个选项，其他的将省略显示\r\n\r\n    noMatchText: {type: String, default: '暂无匹配数据'},            // 筛选无数据时展示的文本\r\n    noDataText: {type: String, default: '暂无数据'},                // 无数据时显示的文本\r\n    filterMethod: Function,                                         // 筛选过滤函数\r\n}\r\n\r\nconst Select = designComponent({\r\n    name: 'pl-select',\r\n    props: {\r\n        ...Props,\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val?: number | string | string[]) => true,\r\n        onClick: (option: SelectOption) => true,\r\n\r\n        onSpace: (e: KeyboardEvent) => true,\r\n        onEnter: (e: KeyboardEvent) => true,\r\n        onUp: (e: KeyboardEvent) => true,\r\n        onDown: (e: KeyboardEvent) => true,\r\n        onEsc: (e: KeyboardEvent) => true,\r\n\r\n        onBlur: (e: Event) => true,\r\n        onFocus: (e: Event) => true,\r\n    },\r\n    setup({props, event}) {\r\n\r\n        useStyle()\r\n        const {slots} = useSlots()\r\n        const {refs} = useRefs({input: Input,})\r\n\r\n        /*对 pl-select-panel 的引用*/\r\n        let panel = null as typeof Panel.use.class | null\r\n\r\n        /*---------------------------------------state-------------------------------------------*/\r\n\r\n        const model = useModel(() => props.modelValue as number | string | string[] | undefined, event.emit.onUpdateModelValue)\r\n        const filterText = ref(null as string | null)\r\n        const agentState = useEditPopperAgent({\r\n            event,\r\n            serviceGetter: SelectServiceGetter,\r\n            option: {\r\n                reference: () => refs.input as any,\r\n                renderAttrs: () => ({\r\n                    ref: r => panel = r,\r\n                    ...(Object.keys(Props).reduce((ret: any, key) => {\r\n                        ret[key] = (props as any)[key]\r\n                        return ret\r\n                    }, {})),\r\n                    modelValue: model.value,\r\n                    height: popperHeight.value,\r\n                    content: slots.default,\r\n                    filterMethod: utils.filterMethod,\r\n                    onChange: handler.onServiceChange,\r\n                    onClick: event.emit.onClick,\r\n                }),\r\n                popperAttrs: ({\r\n                    onMousedownPopper: () => agentState.state.focusCounter++,\r\n                    onClickPopper: () => refs.input!.methods.focus(),\r\n                    onHide: () => filterText.value = null,\r\n                }),\r\n            },\r\n        })\r\n\r\n        /*---------------------------------------utils-------------------------------------------*/\r\n\r\n        const utils = {\r\n            filterMethod: (option: { label?: string, val: string, disabled: boolean }) => {\r\n                if (!!props.filterMethod) return props.filterMethod(filterText.value, option)\r\n                return !!filterText.value && !!filterText.value.trim() ? (!!option.label && option.label.indexOf(filterText.value) > -1) : true\r\n            }\r\n        }\r\n\r\n        /*---------------------------------------computed-------------------------------------------*/\r\n\r\n        /**\r\n         * 收集的option实例\r\n         * @author  韦胜健\r\n         * @date    2020/6/8 11:16\r\n         */\r\n        const items = SelectCollector.parent()\r\n        /**\r\n         * 有效的 pl-select-option\r\n         * @author  韦胜健\r\n         * @date    2020/12/4 10:06\r\n         */\r\n        const formatData = computed(() => items.filter(i => !i.props.group))\r\n        /**\r\n         * popper应该的高度\r\n         * @author  韦胜健\r\n         * @date    2020/12/4 10:06\r\n         */\r\n        const popperHeight = computed(() => formatData.value.length > 6 ? 256 : null)\r\n        /**\r\n         * 显示值\r\n         * @author  韦胜健\r\n         * @date    2020/6/8 11:16\r\n         */\r\n        const displayValue = computed(() => {\r\n            if (!props.multiple) {\r\n                for (let i = 0; i < formatData.value.length; i++) {\r\n                    const item = formatData.value[i];\r\n                    if (item.props.val === model.value) {\r\n                        return item.props.label\r\n                    }\r\n                }\r\n                return model.value\r\n            } else {\r\n                let strings: string[] = []\r\n                if (!!model.value && Array.isArray(model.value)) {\r\n                    for (let i = 0; i < formatData.value.length; i++) {\r\n                        const item = formatData.value[i];\r\n                        if (model.value.indexOf(item.props.val! as string) > -1) {\r\n                            strings.push(item.props.label! as string)\r\n                        }\r\n                    }\r\n                }\r\n                return strings.join('').trim()\r\n            }\r\n        })\r\n\r\n        /**\r\n         * 给input组件传递的属性\r\n         * @author  韦胜健\r\n         * @date    2020/12/4 11:21\r\n         */\r\n        const inputProps = computed(() => Object.assign({}, props.inputProps || {}))\r\n\r\n        /**\r\n         * 当前显示的空值占位符\r\n         * @author  韦胜健\r\n         * @date    2020/12/4 11:21\r\n         */\r\n        const placeholderValue = computed(() => (agentState.isShow.value ? displayValue.value || inputProps.value.placeholder : inputProps.value.placeholder) || '')\r\n\r\n        /**\r\n         * 给input组件绑定的目标对象\r\n         * @author  韦胜健\r\n         * @date    2020/12/4 11:21\r\n         */\r\n        const inputBinding = computed(() => {\r\n            /*onEnter不要了，只要剩余的时间监听器*/\r\n            const {onEnter, ...inputHandler} = agentState.inputHandler\r\n\r\n            return {\r\n                ref: 'input',\r\n                class: [\r\n                    'pl-select',\r\n                    {\r\n                        'pl-input-tags': !!props.multiple,\r\n                        'pl-select-input-show': agentState.isShow.value,\r\n                    }\r\n                ],\r\n\r\n                modelValue: (props.filterable && agentState.isShow.value) ? filterText.value : displayValue.value,\r\n                placeValue: displayValue.value,\r\n                inputReadonly: !props.filterable,\r\n                placeholder: placeholderValue.value,\r\n                suffixIcon: 'el-icon-arrow-down',\r\n                clearIcon: true,\r\n                isFocus: agentState.state.focusCounter > 0,\r\n                clearHandler: handler.onInputClear,\r\n\r\n                ...inputHandler,\r\n                onChange: handler.onInputChange,\r\n                onKeydown: handler.onInputKeydown,\r\n\r\n                ...inputProps.value,\r\n            }\r\n        })\r\n\r\n        const multipleTags = computed(() => {\r\n            if (!model.value) {\r\n                return []\r\n            }\r\n            if (!Array.isArray(model.value)) {\r\n                console.error('The value of multiple select should be array')\r\n                return []\r\n            }\r\n            if (!formatData.value || formatData.value.length === 0) return []\r\n            return formatData.value.filter(option => (model.value as any[]).indexOf(option.props.val!) > -1)\r\n        })\r\n\r\n        /*---------------------------------------handler-------------------------------------------*/\r\n\r\n        const handler = {\r\n            onInputKeydown: handleKeyboard({\r\n                space: (e) => {\r\n                    if (props.multiple && agentState.isShow.value) {\r\n                        e.stopPropagation()\r\n                        e.preventDefault()\r\n                        panel!.methods.selectHighlight()\r\n                    }\r\n                    event.emit.onSpace(e)\r\n                },\r\n                enter: (e) => {\r\n                    e.stopPropagation()\r\n                    e.preventDefault()\r\n                    if (agentState.isShow.value) {\r\n                        panel!.methods.selectHighlight()\r\n                    } else {\r\n                        agentState.methods.show()\r\n                    }\r\n                },\r\n                up: (e) => {\r\n                    e.stopPropagation()\r\n                    e.preventDefault()\r\n                    if (!!agentState.isShow.value) {\r\n                        panel!.methods.highlightPrev()\r\n                    }\r\n                },\r\n                down: (e) => {\r\n                    e.stopPropagation()\r\n                    e.preventDefault()\r\n                    if (!!agentState.isShow.value) {\r\n                        panel!.methods.highlightNext()\r\n                    }\r\n                },\r\n                esc: (e) => {\r\n                    e.stopPropagation()\r\n                    e.preventDefault()\r\n                    if (!!agentState.isShow.value) {\r\n                        agentState.methods.hide()\r\n                    }\r\n                },\r\n            }),\r\n            onServiceChange: (val: any) => model.value = val,\r\n            onInputClear: () => model.value = undefined,\r\n            onInputChange: (val: string | null) => {\r\n                filterText.value = val\r\n                if (!agentState.isShow.value && ie) {\r\n                    agentState.methods.show()\r\n                }\r\n            },\r\n            onClickItemCloseIcon: (item: SelectOption, index: number) => {\r\n                index = (model.value as any[]).indexOf(item.props.val!)\r\n                if (index > -1) {\r\n                    const value = [...(model.value as any[])]\r\n                    value.splice(index, 1)\r\n                    model.value = [...value]\r\n                }\r\n            }\r\n        }\r\n\r\n        return {\r\n            render: () => (\r\n                <pl-input {...inputBinding.value} v-slots={{\r\n                    hidden: slots.default,\r\n                    default: !props.multiple ? null : () => (\r\n                        <pl-input-inner-tags\r\n                            data={multipleTags.value}\r\n                            collapseTags={props.collapseTags}\r\n                            v-slots={{\r\n                                default: ({item, index}: { item: SelectOption, index: number }) => [\r\n                                    <span>{item.props.label}</span>,\r\n                                    <pl-icon icon=\"el-icon-close\" onClick={() => handler.onClickItemCloseIcon(item, index)}/>\r\n                                ]\r\n                            }}\r\n                        />\r\n                    )\r\n                }}/>\r\n            )\r\n        }\r\n    },\r\n})\r\n\r\nexport default Select\r\n\r\nexport const SelectCollector = useCollect(() => ({\r\n    parent: Select,\r\n    child: Option,\r\n}))","import select from './select'\r\nimport SelectOption from './select-option'\r\nimport SelectGroup from './select-group'\r\nimport SelectPanel from './select-panel'\r\nimport SelectService from './select-service'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\nimport Dropdown from '../dropdown'\r\n\r\nexport default createComponentPlugin(select, {\r\n    exposeComponents: {\r\n        SelectOption,\r\n        SelectGroup,\r\n        SelectPanel,\r\n    },\r\n    plugins: [\r\n        Dropdown,\r\n        SelectService,\r\n    ],\r\n    expose: {\r\n        SelectService\r\n    },\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {EditProps, useEdit} from \"../../use/useEdit\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport {useNumber} from \"../../use/useNumber\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {unit} from 'plain-utils/string/unit';\r\nimport {computed} from 'vue';\r\nimport {HTMLInputEvent} from \"../../shims\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-date-time-input',\r\n    props: {\r\n        ...EditProps,\r\n        width: {type: [String, Number], default: 138},\r\n        modelValue: {type: String},\r\n        displayFormat: {type: String},\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val?: string) => true,\r\n        onFocus: (e: Event) => true,\r\n        onBlur: (e: Event) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const {refs} = useRefs({\r\n            input: HTMLInputElement,\r\n        })\r\n\r\n        const {editComputed} = useEdit()\r\n\r\n        const {numberState} = useNumber(props, ['width'])\r\n\r\n        const model = useModel(() => props.modelValue, emit.onUpdateModelValue, {autoEmit: false})\r\n\r\n        const styles = useStyles(style => {style.width = unit(numberState.width)})\r\n\r\n        const regexp = computed(() => new RegExp('^' + props.displayFormat!.replace(/[a-zA-Z]/g, '\\\\d') + '$'))\r\n\r\n        const methods = {\r\n            focus: () => {\r\n                refs.input.focus()\r\n            }\r\n        }\r\n\r\n        const handler = {\r\n            input: (e: HTMLInputEvent) => {\r\n                model.value = e.target.value\r\n                if (!model.value || regexp.value.test(model.value)) {\r\n                    emit.onUpdateModelValue(model.value)\r\n                }\r\n            },\r\n            blur: (e: Event) => {\r\n                model.value = props.modelValue\r\n                emit.onBlur(e)\r\n            },\r\n            focus: (e: Event) => {\r\n                emit.onFocus(e)\r\n            },\r\n        }\r\n\r\n\r\n        return {\r\n            refer: {\r\n                refs,\r\n                methods,\r\n            },\r\n            render: () => (\r\n                <input type=\"text\"\r\n                       ref=\"input\"\r\n                       class=\"pl-date-time-inner-input pl-input-custom-inner-input\"\r\n                       style={styles.value}\r\n                       value={model.value}\r\n                       onInput={handler.input as any}\r\n                       onBlur={handler.blur}\r\n                       onFocus={handler.focus}\r\n                       disabled={editComputed.value.disabled as any}\r\n                       readonly={editComputed.value.readonly as any}\r\n                />\r\n            )\r\n        }\r\n    },\r\n})","import {ModelType} from \"../../shims\";\r\nimport {useStyle} from \"../../use/useStyle\";\r\nimport {useEdit} from \"../../use/useEdit\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport DateTimeInput from './date-time-input'\r\nimport Input from '../input'\r\nimport {computed} from 'vue';\r\nimport {EditPopperAgent} from \"../popper/edit/useEditPopperAgent\";\r\nimport {delay} from \"plain-utils/utils/delay\";\r\nimport {handleKeyboard} from \"../keyboard\";\r\n\r\nexport function useDateTime(\r\n    {\r\n        value,\r\n        start,\r\n        end,\r\n        props,\r\n        agentState,\r\n        emit,\r\n    }: {\r\n        value: ModelType,\r\n        start: ModelType,\r\n        end: ModelType,\r\n        props: {\r\n            range?: boolean,\r\n        },\r\n        agentState: EditPopperAgent,\r\n        emit: {\r\n            onBlur: Function\r\n        },\r\n    }\r\n) {\r\n\r\n    useStyle()\r\n\r\n    const {refs} = useRefs({\r\n        valueInput: DateTimeInput,\r\n        startInput: DateTimeInput,\r\n        endInput: DateTimeInput,\r\n        plInput: Input,\r\n    })\r\n\r\n    const inputValue = computed(() => {\r\n        return !props.range ? value.value : ((start.value || '') + (end.value || ''))\r\n    })\r\n\r\n    const handler = {\r\n        clearHandler: () => {\r\n            if (!props.range) {\r\n                value.value = null\r\n            } else {\r\n                start.value = null\r\n                end.value = null\r\n            }\r\n        },\r\n        clickInput() {\r\n            if (!props.range) {\r\n                agentState.methods.toggle()\r\n            } else {\r\n                agentState.methods.show()\r\n            }\r\n        },\r\n        customInputFocus(e: Event) {\r\n            agentState.inputHandler.onFocus(e)\r\n        },\r\n        async customInputBlur(e: Event) {\r\n            if (!props.range) {\r\n                agentState.inputHandler.onBlur(e)\r\n            } else {\r\n                await delay(0)\r\n                if ([\r\n                    refs.startInput!.refs.input,\r\n                    refs.endInput!.refs.input,\r\n                ].indexOf(document.activeElement as any) === -1) {\r\n                    agentState.state.focusCounter--\r\n                    if (agentState.state.focusCounter === 0) {\r\n                        emit.onBlur()\r\n                        agentState.methods.hide()\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        keydown: handleKeyboard({\r\n            enter: agentState.inputHandler.onEnter,\r\n            esc: agentState.inputHandler.onEsc,\r\n        })\r\n    }\r\n\r\n    return {\r\n        refs,\r\n        inputValue,\r\n        handler,\r\n    }\r\n\r\n}","import input from './date-time-input'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\nimport {useDateTime} from \"./useDateTime\";\r\n\r\nexport default createComponentPlugin(input, {\r\n    expose: {\r\n        useDateTime,\r\n    }\r\n})","import {designComponent} from \"../../../use/designComponent\";\r\nimport {TimePublicProps} from \"./time-panel.utils\";\r\nimport {useModel} from \"../../../use/useModel\";\r\nimport {PlainDate} from \"../../../utils/PlainDate\";\r\nimport {computed} from 'vue';\r\nimport './time-range-panel.scss'\r\n\r\nexport enum TimeRangePanelType {\r\n    start = 'start',\r\n    end = 'end',\r\n}\r\n\r\nexport default designComponent({\r\n    name: 'pl-time-range-panel',\r\n    props: {\r\n        start: {type: String},\r\n        end: {type: String},\r\n        ...TimePublicProps,\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: string | undefined, type: TimeRangePanelType) => true,\r\n        onUpdateStart: (val?: string) => true,\r\n        onUpdateEnd: (val?: string) => true,\r\n        onMousedownStartPanel: (e: MouseEvent) => true,\r\n        onMousedownEndPanel: (e: MouseEvent) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const start = useModel(() => props.start, emit.onUpdateStart)\r\n        const end = useModel(() => props.end, emit.onUpdateEnd)\r\n\r\n        const formatData = computed(() => {\r\n            const {displayFormat, valueFormat} = props\r\n            return {\r\n                start: new PlainDate(start.value, displayFormat, valueFormat),\r\n                end: new PlainDate(end.value, displayFormat, valueFormat),\r\n                max: new PlainDate(props.max, displayFormat, valueFormat),\r\n                min: new PlainDate(props.min, displayFormat, valueFormat)\r\n            }\r\n        })\r\n\r\n        const handler = {\r\n            onStartChange: (value?: string) => {\r\n                start.value = value\r\n                emit.onUpdateModelValue(value, TimeRangePanelType.start)\r\n\r\n                const {end: endPd, start: startPd} = formatData.value\r\n\r\n                if (endPd.isNull || startPd.Hms! > endPd.Hms) {\r\n                    end.value = start.value\r\n                    emit.onUpdateModelValue(end.value, TimeRangePanelType.end)\r\n                }\r\n            },\r\n            onEndChange: (value?: string) => {\r\n                end.value = value\r\n                emit.onUpdateModelValue(value, TimeRangePanelType.end)\r\n                const {end: endPd, start: startPd} = formatData.value\r\n\r\n                if (startPd.isNull || endPd.Hms! < startPd.Hms) {\r\n                    start.value = end.value\r\n                    emit.onUpdateModelValue(start.value, TimeRangePanelType.start)\r\n                }\r\n            },\r\n        }\r\n\r\n        const binding = computed(() => {\r\n            const publicProps = Object.keys(TimePublicProps).reduce((ret: any, key) => {\r\n                ret[key] = (props as any)[key]\r\n                return ret\r\n            }, {})\r\n            const {max, min} = props\r\n            const publicBinding = {\r\n                ...publicProps,\r\n                max,\r\n                min,\r\n                disableChangeOnScroll: true,\r\n            }\r\n            return {\r\n                start: {\r\n                    ...publicBinding,\r\n                    modelValue: start.value,\r\n                    onChange: handler.onStartChange,\r\n                    onMousedown: emit.onMousedownStartPanel,\r\n                },\r\n                end: {\r\n                    ...publicBinding,\r\n                    modelValue: end.value,\r\n                    onChange: handler.onEndChange,\r\n                    onMousedown: emit.onMousedownEndPanel,\r\n                },\r\n            }\r\n        })\r\n\r\n        return {\r\n            render: () => (\r\n                <div class=\"pl-time-range-panel\">\r\n                    <pl-time-base-panel {...binding.value.start}/>\r\n                    <pl-time-base-panel {...binding.value.end}/>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","export const TimePublicProps = {\r\n    displayFormat: {type: String, default: 'HH:mm:ss'},\r\n    valueFormat: {type: String, default: 'HH:mm:ss'},\r\n    max: {type: String},\r\n    min: {type: String},\r\n    layout: {type: Array, default: () => (['h', 'm', 's'])},\r\n    custom: Function,\r\n    checkDisabled: Function,\r\n}","import {designComponent} from \"../../../use/designComponent\";\r\nimport {TimePublicProps} from \"./time-panel.utils\";\r\nimport {useModel} from \"../../../use/useModel\";\r\nimport {nextTick, computed} from 'vue';\r\nimport {TimeRangePanelType} from \"./time-range-panel\";\r\n\r\nexport const TimePanelProps = {\r\n    modelValue: {type: String},\r\n    start: {type: String},\r\n    end: {type: String},\r\n    range: {type: Boolean},\r\n    ...TimePublicProps,\r\n}\r\n\r\nexport default designComponent({\r\n    name: 'pl-time-panel',\r\n    props: {\r\n        ...TimePanelProps,\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: string | undefined, type: TimeRangePanelType) => true,\r\n        onUpdateStart: (val?: string) => true,\r\n        onUpdateEnd: (val?: string) => true,\r\n\r\n        onMousedownBasePanel: (e: MouseEvent) => true,\r\n        onMousedownStartPanel: (e: MouseEvent) => true,\r\n        onMousedownEndPanel: (e: MouseEvent) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const model = useModel(() => props.modelValue, emit.onUpdateModelValue as any)\r\n        const start = useModel(() => props.start, emit.onUpdateStart)\r\n        const end = useModel(() => props.end, emit.onUpdateEnd)\r\n\r\n        const handler = {\r\n            onBaseChange: async (val?: string) => {\r\n                await nextTick()\r\n                model.value = val\r\n            },\r\n            onRangeChange: async (val: string | undefined, type: TimeRangePanelType) => {\r\n                await nextTick()\r\n                if (type === TimeRangePanelType.start) {\r\n                    start.value = val\r\n                } else if (type === TimeRangePanelType.end) {\r\n                    end.value = val\r\n                }\r\n                emit.onUpdateModelValue(val, type)\r\n            },\r\n        }\r\n\r\n        const binding = computed(() => {\r\n\r\n            const publicProps = Object.keys(TimePublicProps).reduce((ret: any, key) => {\r\n                ret[key] = (props as any)[key]\r\n                return ret\r\n            }, {})\r\n\r\n            return {\r\n                base: {\r\n                    ...publicProps,\r\n                    modelValue: model.value,\r\n                    onChange: handler.onBaseChange,\r\n                    onMousedown: emit.onMousedownBasePanel,\r\n                },\r\n                range: {\r\n                    ...publicProps,\r\n                    start: start.value,\r\n                    end: end.value,\r\n                    onChange: handler.onRangeChange,\r\n                    onMousedownStartPanel: emit.onMousedownStartPanel,\r\n                    onMousedownEndPanel: emit.onMousedownEndPanel,\r\n                },\r\n            }\r\n        })\r\n\r\n        return {\r\n            render: () => (\r\n                !props.range ?\r\n                    <pl-time-base-panel class=\"pl-time-panel\" {...binding.value.base} key=\"base\"/> :\r\n                    <pl-time-range-panel class=\"pl-time-panel\" {...binding.value.range} key=\"range\"/>\r\n            )\r\n        }\r\n\r\n    },\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {StyleProps} from \"../../use/useStyle\";\r\nimport {EditProps} from \"../../use/useEdit\";\r\nimport {TimePanelProps} from \"./panel/time-panel\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {computed} from 'vue';\r\nimport {PlainDate} from \"../../utils/PlainDate\";\r\nimport {useEditPopperAgent} from \"../popper/edit/useEditPopperAgent\";\r\nimport {TimeServiceGetter} from \"./servce/time-service\";\r\nimport {TimeRangePanelType} from \"./panel/time-range-panel\";\r\nimport {delay} from \"plain-utils/utils/delay\";\r\nimport {useDateTime} from \"../date-time-input/useDateTime\";\r\nimport './time.scss'\r\n\r\nexport default designComponent({\r\n    name: 'pl-time',\r\n    props: {\r\n        ...StyleProps,\r\n        ...EditProps,\r\n        ...TimePanelProps,\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val?: string) => true,\r\n        onUpdateStart: (val?: string) => true,\r\n        onUpdateEnd: (val?: string) => true,\r\n        onBlur: (e: Event) => true,\r\n        onFocus: (e: Event) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const model = useModel(() => props.modelValue, emit.onUpdateModelValue)\r\n        const startModel = useModel(() => props.start, emit.onUpdateStart)\r\n        const endModel = useModel(() => props.end, emit.onUpdateEnd)\r\n\r\n        const formatData = computed(() => ({\r\n            value: new PlainDate(model.value, props.displayFormat, props.valueFormat),\r\n            start: new PlainDate(startModel.value, props.displayFormat, props.valueFormat),\r\n            end: new PlainDate(endModel.value, props.displayFormat, props.valueFormat),\r\n        }))\r\n\r\n        const serviceHandler = {\r\n            onChange: (val: string | undefined, type?: TimeRangePanelType) => {\r\n                // console.log('service change', {val, type})\r\n                if (!props.range) {\r\n                    model.value = val\r\n                } else {\r\n                    if (type === TimeRangePanelType.start) {\r\n                        startModel.value = val\r\n                    } else {\r\n                        endModel.value = val\r\n                    }\r\n                }\r\n            },\r\n            onMousedownBasePanel: async () => {\r\n                agentState.state.focusCounter++\r\n                await delay(0)\r\n                refs.valueInput!.methods.focus()\r\n            },\r\n            onMousedownStartPanel: async () => {\r\n                agentState.state.focusCounter++\r\n                await delay(0)\r\n                refs.startInput!.methods.focus()\r\n            },\r\n            onMousedownEndPanel: async () => {\r\n                agentState.state.focusCounter++\r\n                await delay(0)\r\n                refs.endInput!.methods.focus()\r\n            }\r\n        }\r\n\r\n        const agentState = useEditPopperAgent({\r\n            event: {emit},\r\n            serviceGetter: TimeServiceGetter,\r\n            option: {\r\n                reference: () => refs.plInput as any,\r\n                renderAttrs: () => ({\r\n                    ...(Object.keys(TimePanelProps).reduce((ret: any, key) => {\r\n                        ret[key] = (props as any)[key]\r\n                        return ret\r\n                    }, {})),\r\n                    modelValue: model.value,\r\n                    start: startModel.value,\r\n                    end: endModel.value,\r\n                    ...serviceHandler,\r\n                })\r\n            },\r\n        })\r\n\r\n        const {\r\n            refs,\r\n            handler,\r\n            inputValue,\r\n        } = useDateTime({\r\n            value: model,\r\n            start: startModel,\r\n            end: endModel,\r\n            props,\r\n            agentState,\r\n            emit,\r\n        })\r\n\r\n        const customHandler = {\r\n            change: (val: string, type: 'start' | 'end' | 'value') => {\r\n                const {value: valuePd, start: startPd, end: endPd} = formatData.value\r\n\r\n                switch (type) {\r\n                    case \"value\":\r\n                        if (!val) {\r\n                            valuePd.setValue(undefined)\r\n                            model.value = undefined\r\n                            return;\r\n                        }\r\n                        if (valuePd.format(valuePd.parseDisplayString(val)) != val) {\r\n                            return;\r\n                        }\r\n\r\n                        valuePd.setDisplayValue(val)\r\n                        model.value = valuePd.valueString!\r\n\r\n                        break\r\n                    case \"start\":\r\n                        if (!val) {\r\n                            return;\r\n                        }\r\n                        if (startPd.format(startPd.parseDisplayString(val)) != val) {\r\n                            return;\r\n                        }\r\n\r\n                        startPd.setDisplayValue(val)\r\n                        startModel.value = startPd.valueString as string\r\n\r\n                        if (endPd.isNull || startPd.Hms! > endPd.Hms) {\r\n                            endModel.value = startModel.value\r\n                        }\r\n\r\n                        break\r\n\r\n                    case \"end\":\r\n                        if (!val) {\r\n                            return;\r\n                        }\r\n                        if (endPd.format(endPd.parseDisplayString(val)) != val) {\r\n                            return;\r\n                        }\r\n\r\n                        endPd.setDisplayValue(val)\r\n                        endModel.value = endPd.valueString as string\r\n\r\n                        if (startPd.isNull || endPd.Hms! < startPd.Hms) {\r\n                            startModel.value = endModel.value\r\n                        }\r\n\r\n                        break\r\n                }\r\n            },\r\n        }\r\n\r\n        return {\r\n            render: () => (\r\n                <pl-input\r\n                    ref=\"plInput\"\r\n                    class=\"pl-time pl-input-custom\"\r\n                    modelValue={inputValue.value}\r\n                    suffixIcon=\"el-icon-time\"\r\n                    clearIcon\r\n                    isFocus={agentState.state.focusCounter > 0}\r\n                    width={null}\r\n                    inputInnerTabindex={null}\r\n                    clearHandler={handler.clearHandler}\r\n                    onClickInput={handler.clickInput}\r\n                    onKeydown={handler.keydown}>\r\n                    <div{...{class: 'pl-input-custom-inner', range: String(props.range)}}>\r\n                        {!props.range ? (\r\n                            <pl-date-time-input\r\n                                ref=\"valueInput\"\r\n                                modelValue={formatData.value.value.displayString}\r\n                                displayFormat={props.displayFormat}\r\n                                onChange={(val: string) => customHandler.change(val, 'value')}\r\n                                onFocus={handler.customInputFocus}\r\n                                onBlur={handler.customInputBlur}/>\r\n                        ) : (\r\n                            <>\r\n                                <pl-date-time-input\r\n                                    ref=\"startInput\"\r\n                                    width=\"100\"\r\n                                    modelValue={formatData.value.start.displayString}\r\n                                    displayFormat={props.displayFormat}\r\n                                    onChange={(val: string) => customHandler.change(val, 'start')}\r\n                                    onFocus={handler.customInputFocus}\r\n                                    onBlur={handler.customInputBlur}/>\r\n                                <span>~</span>\r\n                                <pl-date-time-input\r\n                                    ref=\"endInput\"\r\n                                    width=\"100\"\r\n                                    modelValue={formatData.value.end.displayString}\r\n                                    displayFormat={props.displayFormat}\r\n                                    onChange={(val: string) => customHandler.change(val, 'end')}\r\n                                    onFocus={handler.customInputFocus}\r\n                                    onBlur={handler.customInputBlur}/>\r\n                            </>)\r\n                        }\r\n                    </div>\r\n                </pl-input>\r\n            )\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../../use/designComponent\";\r\nimport {EditProps, useEdit} from \"../../../use/useEdit\";\r\nimport {useRefs} from \"../../../use/useRefs\";\r\nimport Scroll from '../../scroll'\r\nimport {useModel} from \"../../../use/useModel\";\r\nimport {computed, nextTick, onMounted, PropType} from 'vue';\r\nimport {zeroize} from \"plain-utils/string/zeroize\";\r\nimport {findOne} from \"plain-utils/object/findOne\";\r\nimport './time-base-column.scss'\r\nimport {useRefList} from \"../../../use/useRefList\";\r\n\r\nconst size = 24;\r\n\r\nexport default designComponent({\r\n    name: 'pl-time-base-column',\r\n    props: {\r\n        ...EditProps,\r\n\r\n        layout: {type: String, default: 'h'},   // 模式，h：时，m：分，s：秒\r\n        modelValue: {required: true},// 当前值\r\n        max: {type: Number},                    // 最大值\r\n        min: {type: Number},                    // 最小值\r\n        custom: {type: Function as PropType<(layout: string) => number[]>},// 自定义选项函数\r\n        checkDisabled: Function,                // 用来判断选项是否禁用的函数\r\n        disableChangeOnScroll: {type: Boolean}, // 是否禁用在滚动的时候触发更新值动作\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: number) => true,\r\n        onClickItem: (i: number) => true,\r\n    },\r\n    setup({props, event}) {\r\n\r\n        const {editComputed} = useEdit()\r\n\r\n        const {refs} = useRefs({scroll: Scroll,})\r\n        const liList = useRefList<HTMLLIElement>()\r\n\r\n        const model = useModel(() => props.modelValue as any, event.emit.onUpdateModelValue, {onChange: () => nextTick().then(methods.resetPosition)})\r\n\r\n        const options = computed(() => {\r\n            if (!!props.custom) {\r\n                return props.custom(props.layout).map(item => zeroize(item, 2))\r\n            }\r\n            let count = props.layout === 'h' ? 24 : 60\r\n            let options: string[] = []\r\n            for (let i = 0; i < count; i++) {\r\n                options.push(zeroize(i, 2))\r\n            }\r\n            return options\r\n        })\r\n\r\n        const methods = {\r\n            resetPosition: () => {\r\n                let value = model.value || 0\r\n                let start = 0\r\n                let find = findOne(options.value, item => Number(item) == value, true) as { item: string, index: number }\r\n                if (!!find.item) {\r\n                    start = find.index\r\n                    refs.scroll!.methods.scroll({y: liList[start].offsetTop}, {noEmitScroll: true})\r\n                }\r\n            },\r\n        }\r\n\r\n        const utils = {\r\n            checkDisabled: (item: string | number) => {\r\n                item = Number(item)\r\n                if (editComputed.value.disabled) return true\r\n                if (!!props.checkDisabled && props.checkDisabled(item, props.layout)) return true\r\n\r\n                if (props.max != null && props.max < item) return true\r\n                if (props.min != null && props.min > item) return true\r\n                return false\r\n            }\r\n        }\r\n\r\n        const handler = {\r\n            clickItem: (item: string | number) => {\r\n                item = Number(item)\r\n                if (utils.checkDisabled(item)) {\r\n                    return\r\n                }\r\n                model.value = item\r\n                event.emit.onClickItem(item)\r\n                methods.resetPosition()\r\n            },\r\n            onScroll: (e: any) => {\r\n                if (props.disableChangeOnScroll) {\r\n                    return\r\n                }\r\n                let index = Math.max(0, Math.min(options.value.length - 1, Math.floor(e.target.scrollTop / size)))\r\n                const val = options.value[index] == null ? null : Number(options.value[index])\r\n                if (val != null && val !== model.value && !utils.checkDisabled(val)) {\r\n                    model.value = val\r\n                }\r\n            }\r\n        }\r\n\r\n        onMounted(methods.resetPosition)\r\n\r\n        return {\r\n            render: () => (\r\n                <div class=\"pl-time-base-column\">\r\n                    <pl-scroll ref=\"scroll\" onScroll={handler.onScroll}>\r\n                        <ul class=\"pl-time-base-column-list\">\r\n                            {[1, 2, 3].map((item, index) => (\r\n                                <li\r\n                                    ref={val => liList[index] = val as any}\r\n                                    class=\"pl-time-base-column-item\"\r\n                                    key={-item}/>)\r\n                            )}\r\n\r\n                            {options.value.map((item, index) => (\r\n                                <li{...{\r\n                                    class: [\r\n                                        'pl-time-base-column-item',\r\n                                        'pl-time-base-column-option-item',\r\n                                        {\r\n                                            'pl-time-base-column-item-current': model.value != null && model.value == Number(item),\r\n                                            'pl-time-base-column-item-disabled': utils.checkDisabled(item),\r\n                                        }\r\n                                    ],\r\n                                    key: item,\r\n                                    onClick: () => handler.clickItem(item),\r\n                                    ref: val => liList[index + 3] = val as any\r\n                                }}>\r\n                                    {item}\r\n                                </li>\r\n                            ))}\r\n\r\n                            {[1, 2, 3].map(item => (<li class=\"pl-time-base-column-item\" key={-item - 3}/>))}\r\n                        </ul>\r\n                    </pl-scroll>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../../use/designComponent\";\r\nimport {TimePublicProps} from './time-panel.utils';\r\nimport {computed} from 'vue';\r\nimport {PlainDate} from \"../../../utils/PlainDate\";\r\nimport './time-base-panel.scss'\r\n\r\nexport enum TimePanelLayout {\r\n    h = 'hour',\r\n    m = 'minute',\r\n    s = 'second',\r\n}\r\n\r\nexport default designComponent({\r\n    name: 'pl-time-base-panel',\r\n    props: {\r\n        modelValue: {type: String},\r\n        disableChangeOnScroll: {type: Boolean},// 是否禁用在滚动的时候触发更新值动作\r\n        ...TimePublicProps,\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: string | null) => true,\r\n    },\r\n    setup({props, event}) {\r\n\r\n        const formatData = computed(() => {\r\n            return {\r\n                value: new PlainDate(props.modelValue, props.displayFormat, props.valueFormat),\r\n                max: new PlainDate(props.max, props.displayFormat, props.valueFormat),\r\n                min: new PlainDate(props.min, props.displayFormat, props.valueFormat),\r\n            }\r\n        })\r\n\r\n        const maxmin = computed(() => {\r\n\r\n            const max = {\r\n                hour: null as null | number,\r\n                minute: null as null | number,\r\n                second: null as null | number,\r\n            }\r\n            const min = {\r\n                hour: null as null | number,\r\n                minute: null as null | number,\r\n                second: null as null | number,\r\n            }\r\n\r\n            const {max: maxpd, min: minpd, value: vpd} = formatData.value\r\n\r\n            if (!!maxpd.hour) {\r\n                max.hour = maxpd.hour\r\n                if (vpd.hour == null) {\r\n                    // 有最大值，但是没有选择【时】的情况下，分以及秒不能选择任意选项\r\n                    max.minute = -Infinity\r\n                    max.second = -Infinity\r\n                } else {\r\n                    if (vpd.hour < max.hour) {\r\n                        // 有最大值，但是【时】没有达到最大值，此时分以及秒可以任意选择\r\n                        max.minute = null\r\n                        max.second = null\r\n                    } else {\r\n                        max.minute = maxpd.minute\r\n                        if (vpd.minute == null) {\r\n                            max.second = -Infinity\r\n                        } else {\r\n                            if (vpd.minute < max.minute!) {\r\n                                max.second = null\r\n                            } else {\r\n                                max.second = maxpd.second\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (!!minpd.hour) {\r\n                min.hour = minpd.hour\r\n                if (vpd.hour == null) {\r\n                    // 有最小值，但是没有选择【时】的情况下，分以及秒不能选择任意选项\r\n                    min.minute = Infinity\r\n                    min.second = Infinity\r\n                } else {\r\n                    if (vpd.hour > min.hour) {\r\n                        // 有最小值，但是【时】没有达到最小值，此时分以及秒可以任意选择\r\n                        min.minute = null\r\n                        min.second = null\r\n                    } else {\r\n                        min.minute = minpd.minute\r\n                        if (vpd.minute == null) {\r\n                            min.second = Infinity\r\n                        } else {\r\n                            if (vpd.minute > min.minute!) {\r\n                                min.second = null\r\n                            } else {\r\n                                min.second = minpd.second\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            return {\r\n                max, min,\r\n            }\r\n        })\r\n\r\n        const checkDisabled = computed(() => !props.checkDisabled ? null : (num: number, layout: TimePanelLayout) => props.checkDisabled!(num, layout, formatData.value.value))\r\n\r\n        const custom = computed(() => !props.custom ? null : (layout: TimePanelLayout) => props.custom!(layout, formatData.value.value))\r\n\r\n        const handler = {\r\n            columnChange: (value: number, type: string) => {\r\n                // console.log('columnChange', {value, type})\r\n\r\n                const {value: vpd, max: maxpd, min: minpd} = formatData.value\r\n\r\n                switch (type) {\r\n                    case 'h':\r\n                        vpd.setHour(value)\r\n                        break\r\n                    case 'm':\r\n                        vpd.setMinute(value)\r\n                        break\r\n                    case 's':\r\n                        vpd.setSecond(value)\r\n                        break\r\n                }\r\n\r\n                if (!maxpd.isNull && vpd.Hms! > maxpd.Hms) {\r\n                    vpd.setValue(maxpd.valueString!)\r\n                }\r\n\r\n                if (!minpd.isNull && vpd.Hms! < minpd.Hms) {\r\n                    vpd.setValue(minpd.valueString!)\r\n                }\r\n\r\n                event.emit.onUpdateModelValue(vpd.valueString)\r\n            }\r\n        }\r\n\r\n        return {\r\n            render: () => {\r\n                return (\r\n                    <div class=\"pl-time-base-panel\">\r\n                        {props.layout.map((layout: any) => (\r\n                            <pl-time-base-column\r\n                                {...{\r\n                                    key: layout,\r\n                                    layout,\r\n                                    modelValue: (formatData as any).value.value[(TimePanelLayout as any)[layout]],\r\n                                    max: (maxmin as any).value.max[(TimePanelLayout as any)[layout]],\r\n                                    min: (maxmin as any).value.min[(TimePanelLayout as any)[layout]],\r\n                                    checkDisabled: checkDisabled.value,\r\n                                    custom: custom.value,\r\n                                    onChange: (val: number) => handler.columnChange(val, layout),\r\n                                    disableChangeOnScroll: props.disableChangeOnScroll,\r\n                                }}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n                )\r\n            }\r\n        }\r\n    },\r\n})","import {DatePublicPropsType, DateView, SlideTransitionDirection} from \"./date.utils\";\r\nimport {computed, inject, provide, reactive} from 'vue';\r\nimport {PlainDate, PlainDateType} from \"../../utils/PlainDate\";\r\nimport {useModel, UseModelConfig} from \"../../use/useModel\";\r\n\r\n/**\r\n * 日期子组件注入父组件提供的值的时候的唯一标识\r\n * @author  韦胜健\r\n * @date    2020/12/7 20:43\r\n */\r\nexport const DATE_PANEL_PROVIDER = '@@DATE_PANEL_PROVIDER'\r\n\r\n/**\r\n * 获取默认的格式化字符串\r\n * @author  韦胜健\r\n * @date    2020/12/7 20:42\r\n */\r\nexport function getFormatString(formatString: string | undefined, datetime: boolean | undefined) {\r\n    if (!!formatString) return formatString\r\n    return datetime ? 'YYYY-MM-DD HH:mm:ss' : 'YYYY-MM-DD'\r\n}\r\n\r\nexport enum UseDateJudgementView {\r\n    'Y' = 'Y',\r\n    'YM' = 'YM',\r\n    'YMD' = 'YMD',\r\n}\r\n\r\ntype UseDateJudgement = {\r\n    active?: (ipd: PlainDateType, view: UseDateJudgementView) => boolean,\r\n    disabled?: (ipd: PlainDateType, view: UseDateJudgementView) => boolean,\r\n    hoverStart?: (ipd: PlainDateType, view: UseDateJudgementView) => boolean,\r\n    hover?: (ipd: PlainDateType, view: UseDateJudgementView) => boolean,\r\n    hoverEnd?: (ipd: PlainDateType, view: UseDateJudgementView) => boolean,\r\n}\r\n\r\ntype UseDateTopState = {\r\n    max?: PlainDateType,\r\n    min?: PlainDateType,\r\n    vpd?: PlainDateType,\r\n    hoverRange: [PlainDateType, PlainDateType] | null | undefined,\r\n    valueRange: [PlainDateType, PlainDateType],\r\n    range?: boolean,\r\n}\r\n\r\nexport type UseDateType = {\r\n    /*当前组件的直接父组件*/\r\n    parent: UseDateType | null,\r\n    /*当前组件接收的props属性对象*/\r\n    props: DatePublicPropsType,\r\n    /*当前组件自己的judgement(提供给后代使用的judgement)*/\r\n    judgementForChild?: UseDateJudgement,\r\n    /*当前组件的显示值格式化字符串*/\r\n    displayFormat: string,\r\n    /*当前组件的值格式化字符串*/\r\n    valueFormat: string,\r\n\r\n    /*---------------------------------------state-------------------------------------------*/\r\n\r\n    today: PlainDateType,\r\n    tempPd: PlainDateType,\r\n\r\n    model: { value?: string },\r\n    startModel: { value?: string },\r\n    endModel: { value?: string },\r\n    viewModel: { value: DateView },\r\n\r\n    state: {\r\n        hoverRange: [PlainDateType, PlainDateType] | null,\r\n        valueRange: [PlainDateType, PlainDateType],\r\n        selectDate: PlainDateType,\r\n        slide: SlideTransitionDirection,\r\n        topState: UseDateTopState,\r\n    },\r\n\r\n    setSelectDate: (pd: PlainDateType) => void,\r\n    getStatus: (ipd: PlainDateType) => {\r\n        now: boolean,\r\n        disabled: boolean,\r\n        active: boolean,\r\n        hoverStart: boolean,\r\n        hoverEnd: boolean,\r\n        hover: boolean,\r\n        range: boolean,\r\n        clickable: boolean,\r\n    },\r\n    jdView: UseDateJudgementView,\r\n}\r\n\r\nexport function useDate(\r\n    {\r\n        props,\r\n        judgementForChild,\r\n        emit,\r\n        useModelConfig,\r\n        jdView,\r\n    }: {\r\n        props: DatePublicPropsType,\r\n        judgementForChild?: UseDateJudgement,\r\n        emit: {\r\n            onUpdateModelValue: (val?: string) => void,\r\n            onUpdateStart: (val?: string) => void,\r\n            onUpdateEnd: (val?: string) => void,\r\n            onUpdateView: (val: DateView) => void,\r\n        },\r\n        useModelConfig?: {\r\n            model?: UseModelConfig,\r\n            start?: UseModelConfig,\r\n            end?: UseModelConfig,\r\n        },\r\n        jdView: UseDateJudgementView,\r\n    }\r\n): UseDateType {\r\n\r\n    /**\r\n     * 邻近父组件\r\n     * @author  韦胜健\r\n     * @date    2020/12/7 20:48\r\n     */\r\n    const parent = inject<UseDateType | null>(DATE_PANEL_PROVIDER, null)\r\n\r\n    /*---------------------------------------state-------------------------------------------*/\r\n\r\n    const displayFormat = getFormatString(props.displayFormat, props.datetime)\r\n    const valueFormat = getFormatString(props.valueFormat, props.datetime)\r\n\r\n    const topState = computed((): UseDateTopState => {\r\n        if (!!parent) {\r\n            return parent.state.topState\r\n        }\r\n        return {\r\n            max: !props.max ? undefined : new PlainDate(props.max, displayFormat, valueFormat),\r\n            min: !props.min ? undefined : new PlainDate(props.min, displayFormat, valueFormat),\r\n            vpd: !model.value && model.value != '0' ? undefined : new PlainDate(model.value, displayFormat, valueFormat),\r\n            hoverRange: state.hoverRange,\r\n            valueRange: state.valueRange,\r\n            range: props.range,\r\n        }\r\n    })\r\n\r\n    const today = !!parent ? parent.today : PlainDate.today(displayFormat, valueFormat)\r\n    const vpd = new PlainDate(props.modelValue, displayFormat, valueFormat)\r\n    const startPd = !!parent || !props.range ? today : new PlainDate(props.start, displayFormat, valueFormat)\r\n    const endPd = !!parent || !props.range ? today : new PlainDate(props.end, displayFormat, valueFormat)\r\n    const tempPd = vpd.copy()\r\n\r\n    const hoverRange: [PlainDateType, PlainDateType] | null = null\r\n    const valueRange: [PlainDateType, PlainDateType] = [startPd, endPd]\r\n\r\n    useModelConfig = useModelConfig || {}\r\n    const model = useModel(() => props.modelValue, emit.onUpdateModelValue, useModelConfig.model)\r\n    const startModel = !!parent || !props.range ? model : useModel(() => props.start, emit.onUpdateStart, useModelConfig.start)\r\n    const endModel = !!parent || !props.range ? model : useModel(() => props.end, emit.onUpdateEnd, useModelConfig.end)\r\n    const viewModel = useModel(() => props.view as DateView, emit.onUpdateView)\r\n\r\n    let selectDate = props.selectDate as (PlainDateType | undefined)\r\n    if (!selectDate) {\r\n        if (!props.range) {\r\n            selectDate = !vpd.isNull ? vpd : today.copy()\r\n        } else {\r\n            selectDate = !startPd.isNull ? startPd : today.copy()\r\n        }\r\n    }\r\n\r\n    /*响应式属性*/\r\n    const state = reactive({\r\n        selectDate,\r\n        hoverRange,\r\n        valueRange,\r\n        slide: SlideTransitionDirection.next,\r\n        topState,\r\n    })\r\n\r\n    const utils = {\r\n        active: (ipd: PlainDateType) => {\r\n            if (!!parent && !!parent.judgementForChild && !!parent.judgementForChild.active) {\r\n                return parent.judgementForChild.active(ipd, jdView)\r\n            }\r\n            const {range, vpd, valueRange: [startPd, endPd]} = topState.value;\r\n            return !!(\r\n                (range ? [startPd, endPd] : [vpd])\r\n                    .filter(i => !!i && !i.isNull)\r\n                    .find(i => i![jdView] == ipd[jdView])\r\n            )\r\n        },\r\n        disabled: (ipd: PlainDateType) => {\r\n            if (!!parent && !!parent.judgementForChild && !!parent.judgementForChild.disabled) {\r\n                return parent.judgementForChild.disabled(ipd, jdView)\r\n            }\r\n            const {max, min} = topState.value\r\n            const val = ipd[jdView]!\r\n            if (!!max && max[jdView]! < val) return true\r\n            if (!!min && min[jdView]! > val) return true\r\n            return false\r\n        },\r\n        hoverStart: (ipd: PlainDateType) => {\r\n            if (!!parent && !!parent.judgementForChild && !!parent.judgementForChild.hoverStart) {\r\n                return parent.judgementForChild.hoverStart(ipd, jdView)\r\n            }\r\n            if (!topState.value.range) {\r\n                return false\r\n            }\r\n            const {hoverRange, valueRange} = topState.value\r\n            const val = ipd[jdView]!\r\n            return !!hoverRange ? (hoverRange[0][jdView] == val) : valueRange[0][jdView] == val\r\n        },\r\n        hover: (ipd: PlainDateType) => {\r\n            if (!!parent && !!parent.judgementForChild && !!parent.judgementForChild.hover) {\r\n                return parent.judgementForChild.hover(ipd, jdView)\r\n            }\r\n            if (!topState.value.range) {\r\n                return false\r\n            }\r\n            const {hoverRange, valueRange} = topState.value\r\n            const val = ipd[jdView]!\r\n            return !!hoverRange ?\r\n                (hoverRange[0][jdView]! < val && hoverRange[1][jdView]! > val) :\r\n                ((!valueRange[0].isNull && !valueRange[1].isNull) &&\r\n                    valueRange[0][jdView]! < val &&\r\n                    valueRange[1][jdView]! > val)\r\n        },\r\n        hoverEnd: (ipd: PlainDateType) => {\r\n            if (!!parent && !!parent.judgementForChild && !!parent.judgementForChild.hoverEnd) {\r\n                return parent.judgementForChild.hoverEnd(ipd, jdView)\r\n            }\r\n            if (!topState.value.range) {\r\n                return false\r\n            }\r\n            const {hoverRange, valueRange} = topState.value\r\n            const val = ipd[jdView]!\r\n            return !!hoverRange ? (hoverRange[1][jdView] == val) : valueRange[1][jdView] == val\r\n        },\r\n    }\r\n\r\n    /*---------------------------------------provide-------------------------------------------*/\r\n\r\n    const provideData: UseDateType = {\r\n        props,\r\n        parent,\r\n        judgementForChild,\r\n        displayFormat,\r\n        valueFormat,\r\n\r\n        today,\r\n        tempPd,\r\n\r\n        model,\r\n        startModel,\r\n        endModel,\r\n        viewModel,\r\n\r\n        state,\r\n\r\n        setSelectDate: (pd) => state.selectDate = pd.isNull ? today.copy() : pd.copy(),\r\n        getStatus: (ipd) => {\r\n            const disabled = utils.disabled(ipd)\r\n            return {\r\n                now: today[jdView] === ipd[jdView],\r\n                active: utils.active(ipd),\r\n                disabled,\r\n                hoverStart: utils.hoverStart(ipd),\r\n                hover: utils.hover(ipd),\r\n                hoverEnd: utils.hoverEnd(ipd),\r\n                range: !!state.topState.range,\r\n                clickable: (!!parent && parent.jdView !== jdView) || !disabled\r\n            }\r\n        },\r\n        jdView,\r\n    }\r\n\r\n    /*只有最顶层日期组件才有资格控制子组件*/\r\n    if (!parent) {\r\n        provide(DATE_PANEL_PROVIDER, provideData)\r\n    }\r\n\r\n    return provideData\r\n\r\n}","import time from './time'\r\nimport TimeBaseColumn from './panel/time-base-column'\r\nimport TimeBasePanel from './panel/time-base-panel'\r\nimport TimeRangePanel from './panel/time-range-panel'\r\nimport TimePanel from './panel/time-panel'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\nimport {TimeServiceGetter} from \"./servce/time-service\";\r\nimport DateTimeInput from '../date-time-input'\r\n\r\nexport default createComponentPlugin(time, {\r\n    exposeComponents: {\r\n        TimeBaseColumn,\r\n        TimeBasePanel,\r\n        TimeRangePanel,\r\n        TimePanel,\r\n    },\r\n    plugins: [\r\n        DateTimeInput,\r\n    ],\r\n    expose: {\r\n        TimeServiceGetter\r\n    },\r\n})","import {computed, Transition} from 'vue'\r\nimport {designComponent} from \"../../../use/designComponent\";\r\nimport {DateEmitRangeType, DatePanelItemWrapper, DatePanelWrapper, DatePublicEmits, DatePublicProps, Dbpid, DefaultDateFormatString, SlideTransitionDirection} from \"../date.utils\";\r\nimport {useDate, UseDateJudgementView} from \"../useDate\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-date-base-panel-year',\r\n    props: {\r\n        ...DatePublicProps,\r\n        displayFormat: {type: String, default: DefaultDateFormatString.year},\r\n        valueFormat: {type: String, default: DefaultDateFormatString.year},\r\n    },\r\n    emits: {\r\n        ...DatePublicEmits,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const {\r\n            state,\r\n            today,\r\n            tempPd,\r\n            setSelectDate,\r\n            model,\r\n            startModel,\r\n            endModel,\r\n            getStatus,\r\n        } = useDate({\r\n            props,\r\n            emit,\r\n            useModelConfig: {\r\n                model: {\r\n                    onChange: (val) => {\r\n                        state.slide = val == null ? SlideTransitionDirection.next : val > data.value.selectYear + 19 ? SlideTransitionDirection.next : SlideTransitionDirection.prev\r\n                        state.selectDate.setYear(val || today.year)\r\n                        setSelectDate(state.selectDate)\r\n                    }\r\n                },\r\n                start: {\r\n                    onChange: (val) => {\r\n                        tempPd.setValue(val)\r\n                        const startPd = tempPd.copy()\r\n                        tempPd.setValue(endModel.value)\r\n                        const endPd = tempPd.copy()\r\n\r\n                        state.valueRange = [startPd, endPd]\r\n                        state.hoverRange = null\r\n\r\n                        state.slide = val == null ? SlideTransitionDirection.next : val > data.value.selectYear + 19 ? SlideTransitionDirection.next : SlideTransitionDirection.prev\r\n                        state.selectDate.setYear(val || today.year)\r\n                        setSelectDate(state.selectDate)\r\n                    }\r\n                },\r\n                end: {\r\n                    onChange: (val) => {\r\n                        tempPd.setValue(startModel.value)\r\n                        const startPd = tempPd.copy()\r\n                        tempPd.setValue(val)\r\n                        const endPd = tempPd.copy()\r\n\r\n                        state.valueRange = [startPd, endPd]\r\n                        state.hoverRange = null\r\n                    }\r\n                }\r\n            },\r\n            jdView: UseDateJudgementView.Y,\r\n        })\r\n\r\n        const data = computed(() => {\r\n            const {selectDate} = state\r\n            let selectYear = selectDate.year!\r\n            selectYear = selectYear - selectYear % 20\r\n\r\n            let list: Dbpid[] = []\r\n\r\n            for (let i = selectYear; i < selectYear + 20; i++) {\r\n                tempPd.setYear(i)\r\n                const ipd = tempPd.copy()\r\n                let item: Dbpid = {\r\n                    label: i,\r\n                    ipd,\r\n                    ...getStatus(ipd),\r\n                }\r\n                list.push(item)\r\n            }\r\n\r\n            return {\r\n                list,\r\n                /*年份面板标题，展示列表中年份的范围*/\r\n                title: `${selectYear}-${selectYear + 19}`,\r\n                /*当前选择的年份*/\r\n                selectYear,\r\n            }\r\n        })\r\n\r\n        const methods = {\r\n            /**\r\n             * 切换上一个年份列表\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 11:17\r\n             */\r\n            prevYearList() {\r\n                state.slide = SlideTransitionDirection.prev\r\n                state.selectDate.setYear(data.value.selectYear - 20)\r\n                setSelectDate(state.selectDate)\r\n            },\r\n            /**\r\n             *\r\n             * @author  切换下一个年份列表\r\n             * @date    2020/4/15 11:18\r\n             */\r\n            nextYearList() {\r\n                state.slide = SlideTransitionDirection.next\r\n                state.selectDate.setYear(data.value.selectYear + 20)\r\n                setSelectDate(state.selectDate)\r\n            },\r\n        }\r\n\r\n        const handler = {\r\n            onClickItem: ({ipd}: Dbpid) => {\r\n                if (!props.range) {\r\n                    model.value = ipd.isNull ? undefined : String(ipd!.year)\r\n                } else {\r\n                    if (!state.hoverRange) {\r\n                        state.hoverRange = [ipd, ipd]\r\n                        state.valueRange = [ipd, ipd]\r\n                    } else {\r\n\r\n                        const [startPd, endPd] = state.hoverRange\r\n\r\n                        startModel.value = startPd.isNull ? undefined : String(startPd.year)\r\n                        endModel.value = endPd.isNull ? undefined : String(endPd.year)\r\n\r\n                        state.hoverRange = null\r\n                        state.valueRange = [startPd, endPd]\r\n\r\n                        emit.onUpdateModelValue(startModel.value, DateEmitRangeType.start)\r\n                        emit.onUpdateModelValue(endModel.value, DateEmitRangeType.end)\r\n                    }\r\n                }\r\n            },\r\n            onMouseenterItem({ipd}: Dbpid) {\r\n                if (!!state.hoverRange) {\r\n                    let mid = state.valueRange[0]\r\n                    state.hoverRange = mid.year! > ipd.year! ? [ipd, mid] : [mid, ipd]\r\n                }\r\n            },\r\n        }\r\n\r\n        return {\r\n            render: () => {\r\n                const Wrapper = DatePanelWrapper({\r\n                    left: <pl-button icon=\"el-icon-d-arrow-left\" mode=\"text\" size=\"mini\" onClick={methods.prevYearList}/>,\r\n                    center: <span class=\"pl-date-base-panel-header-static-label\">{data.value.title}</span>,\r\n                    right: <pl-button icon=\"el-icon-d-arrow-right\" mode=\"text\" size=\"mini\" onClick={methods.nextYearList}/>,\r\n                    content: (<Transition name={`pl-transition-slide-${state.slide}`}>\r\n                        <ul{...{\r\n                            class: 'pl-date-base-panel-year-list',\r\n                            key: data.value.selectYear,\r\n                            direction: \"vertical\"\r\n                        }}>\r\n                            {data.value.list.map(item => DatePanelItemWrapper({\r\n                                item,\r\n                                Node: (<li key={item.label} class=\"pl-date-base-panel-year-item\"/>),\r\n                                onClick: handler.onClickItem,\r\n                                onMouseenter: handler.onMouseenterItem,\r\n                            }))}\r\n                        </ul>\r\n                    </Transition>)\r\n\r\n                })\r\n                return <Wrapper {...{class: 'pl-date-base-panel-year', direction: props.direction,}}/>\r\n            }\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../../use/designComponent\";\r\nimport {DateEmitRangeType, DatePublicEmits, DatePublicProps, DefaultDateFormatString} from \"../date.utils\";\r\nimport {useModel} from \"../../../use/useModel\";\r\nimport {computed, resolveComponent} from 'vue';\r\n\r\nexport const enum DatePanelType {\r\n    year = 'year',\r\n    month = 'month',\r\n    date = 'date',\r\n    datetime = 'datetime',\r\n    week = 'week',\r\n    dates = 'dates',\r\n}\r\n\r\nexport default designComponent({\r\n    name: 'pl-date-panel',\r\n    props: {\r\n        ...DatePublicProps,\r\n        modelValue: {},\r\n        panel: {type: String, default: DatePanelType.date},\r\n    },\r\n    emits: {\r\n        ...DatePublicEmits,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const model = useModel(() => props.modelValue as any, emit.onUpdateModelValue)\r\n        const startModel = useModel(() => props.start, emit.onUpdateStart)\r\n        const endModel = useModel(() => props.end, emit.onUpdateEnd)\r\n\r\n        const handler = {\r\n            onChange: (val: string | undefined, type?: DateEmitRangeType) => {\r\n                if (!props.range) {\r\n                    model.value = val\r\n                } else {\r\n                    if (type === DateEmitRangeType.start) {\r\n                        startModel.value = val\r\n                    } else {\r\n                        endModel.value = val\r\n                    }\r\n                    emit.onUpdateModelValue(val, type)\r\n                }\r\n            }\r\n        }\r\n\r\n        const binding = computed(() => {\r\n            const {range, max, min, displayFormat, valueFormat, firstWeekDay, defaultTime,} = props\r\n            const panel = props.panel as DatePanelType\r\n            const value = model.value\r\n            const start = startModel.value\r\n            const end = endModel.value\r\n            const publicProps = {range, modelValue: value, start, end, max, min, firstWeekDay, defaultTime,}\r\n            const date = range ? 'pl-date-panel-date-range' : 'pl-date-base-panel-date'\r\n\r\n            return {\r\n                name: {\r\n                    year: 'pl-date-base-panel-year',\r\n                    month: 'pl-date-base-panel-month',\r\n                    date: date,\r\n                    datetime: date,\r\n                    week: 'pl-date-panel-week',\r\n                    dates: 'pl-date-panel-dates',\r\n                }[panel] as any,\r\n                attrs: {\r\n                    ...publicProps,\r\n                    onChange: handler.onChange,\r\n                    displayFormat: displayFormat || DefaultDateFormatString[panel],\r\n                    valueFormat: valueFormat || DefaultDateFormatString[panel],\r\n                    datetime: panel === DatePanelType.datetime,\r\n                },\r\n            }\r\n        })\r\n\r\n        return {\r\n            render: () => {\r\n                const {name, attrs} = binding.value\r\n                const Component = resolveComponent(name) as any\r\n                return <Component {...attrs}/>\r\n            }\r\n        }\r\n    },\r\n})","import {createAgentGetter} from \"../../popper/edit/createAgentGetter\";\r\nimport {DatePanelType} from \"../panel/date-panel\";\r\n\r\nexport const DateServiceGetter = createAgentGetter({\r\n    name: 'date',\r\n    render: (attrs) => <pl-date-panel {...attrs}/>,\r\n    defaultPopperAttrs: {\r\n        transition: 'pl-transition-popper-drop',\r\n    },\r\n    defaultRenderAttrs: {\r\n        async onChange() {\r\n            let renderAttrs: any = this.state.option.serviceOption.renderAttrs\r\n            if (typeof renderAttrs === \"function\") renderAttrs = renderAttrs()\r\n            if (!(\r\n                renderAttrs.panel === DatePanelType.datetime ||\r\n                renderAttrs.panel === DatePanelType.dates ||\r\n                renderAttrs.range\r\n            )) {\r\n                this.hide()\r\n            }\r\n        },\r\n    },\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport './date.scss'\r\nimport {StyleProps} from \"../../use/useStyle\";\r\nimport {EditProps} from \"../../use/useEdit\";\r\nimport {DateEmitRangeType, DatePublicEmits, DatePublicProps, DefaultDateFormatString, WeekUtils} from \"./date.utils\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {useEditPopperAgent} from \"../popper/edit/useEditPopperAgent\";\r\nimport {DateServiceGetter} from \"./service/date-service\";\r\nimport {useDateTime} from \"../date-time-input/useDateTime\";\r\nimport {delay} from \"plain-utils/utils/delay\";\r\nimport {computed, PropType} from 'vue';\r\nimport {DatePanelType} from \"./panel/date-panel\";\r\nimport {PlainDate, PlainDateType} from \"../../utils/PlainDate\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-date',\r\n    props: {\r\n        ...StyleProps,\r\n        ...EditProps,\r\n        ...DatePublicProps,\r\n        modelValue: {},\r\n        panel: {type: String, default: 'date'},\r\n        collapseTags: {type: Boolean, default: true},\r\n        customWeekString: {type: Function as PropType<(data: { week: number, year: number }) => string>},\r\n    },\r\n    emits: {\r\n        ...DatePublicEmits,\r\n        onBlur: (e: Event) => true,\r\n        onFocus: (e: Event) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const model = useModel(() => props.modelValue as any, emit.onUpdateModelValue)\r\n        const startModel = useModel(() => props.start, emit.onUpdateStart)\r\n        const endModel = useModel(() => props.end, emit.onUpdateEnd)\r\n\r\n        const serviceHandler = {\r\n            onChange: (val: string | undefined, type: DateEmitRangeType) => {\r\n                if (!props.range) {\r\n                    model.value = val\r\n                } else {\r\n                    if (type === 'start') {\r\n                        startModel.value = val\r\n                    } else {\r\n                        endModel.value = val\r\n                        if (props.panel !== DatePanelType.datetime) {\r\n                            agentState.methods.hide()\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            onMousedown: async (e: MouseEvent, type: DateEmitRangeType) => {\r\n                agentState.state.focusCounter++\r\n                await delay(0)\r\n                if (props.panel === 'dates') {\r\n                    refs.plInput!.methods.focus()\r\n                } else if (!props.range) {\r\n                    refs.valueInput!.methods.focus()\r\n                } else {\r\n                    if (type === 'start') {\r\n                        refs.startInput!.methods.focus()\r\n                    } else {\r\n                        refs.endInput!.methods.focus()\r\n                    }\r\n                }\r\n            },\r\n        }\r\n\r\n        const agentState = useEditPopperAgent({\r\n            event: {emit},\r\n            serviceGetter: DateServiceGetter,\r\n            option: {\r\n                reference: () => refs.plInput as any,\r\n                renderAttrs: () => ({\r\n                    ...(Object.keys(DatePublicProps).reduce((ret: any, key) => {\r\n                        ret[key] = (props as any)[key]\r\n                        return ret\r\n                    }, {})),\r\n                    panel: props.panel,\r\n                    modelValue: model.value,\r\n                    start: startModel.value,\r\n                    end: endModel.value,\r\n                    ...serviceHandler,\r\n                })\r\n            },\r\n        })\r\n\r\n        const {\r\n            refs,\r\n            handler,\r\n            inputValue,\r\n        } = useDateTime({\r\n            value: model,\r\n            start: startModel,\r\n            end: endModel,\r\n            props,\r\n            agentState,\r\n            emit,\r\n        })\r\n\r\n        /*---------------------------------------computed-------------------------------------------*/\r\n\r\n        const displayFormat = computed(() => props.displayFormat || DefaultDateFormatString[props.panel as DatePanelType])\r\n        const valueFormat = computed(() => props.valueFormat || DefaultDateFormatString[props.panel as DatePanelType])\r\n\r\n        const formatData = computed(() => {\r\n\r\n            if (props.panel === 'dates') {\r\n                let value = (model.value || []) as string[]\r\n                const valuePds = value.map(item => new PlainDate(item, displayFormat.value, valueFormat.value))\r\n                const datesString = valuePds.map(item => item.displayString)\r\n                return {\r\n                    value: valuePds,\r\n                    datesString,\r\n                }\r\n            }\r\n\r\n            const value = new PlainDate(model.value, displayFormat.value, valueFormat.value)\r\n            const start = new PlainDate(startModel.value, displayFormat.value, valueFormat.value)\r\n            const end = new PlainDate(endModel.value, displayFormat.value, valueFormat.value)\r\n\r\n            return {\r\n                value, start, end\r\n            }\r\n        })\r\n\r\n        const inputAttrs = computed(() => {\r\n            const {panel} = props\r\n            const isDates = panel === 'dates'\r\n            return {\r\n                class: [\r\n                    'pl-date',\r\n                    {\r\n                        'pl-input-custom': !isDates,\r\n                        'pl-input-tags': isDates,\r\n                    },\r\n                ],\r\n                modelValue: Array.isArray(inputValue.value) ? inputValue.value.join('') : inputValue.value,\r\n                suffixIcon: 'el-icon-date',\r\n                clearIcon: true,\r\n                isFocus: agentState.state.focusCounter > 0,\r\n                width: isDates ? undefined : null,\r\n                inputInnerTabindex: isDates ? 0 : null,\r\n                clearHandler: handler.clearHandler,\r\n\r\n                ...agentState.inputHandler,\r\n                onClickInput: handler.clickInput,\r\n            }\r\n        })\r\n\r\n        const displayString = computed(() => {\r\n\r\n            if (props.panel !== DatePanelType.week) {\r\n                return {\r\n                    value: (formatData.value.value as PlainDateType).displayString,\r\n                    start: formatData.value.start!.displayString,\r\n                    end: formatData.value.end!.displayString,\r\n                }\r\n            } else {\r\n\r\n                if (!props.range) {\r\n                    const value = WeekUtils.getWeekNumber((formatData.value.value as PlainDateType).valueString!, {valueFormat: valueFormat.value, firstWeekDay: props.firstWeekDay})\r\n                    return {\r\n                        value: !value.year ? '' : !!props.customWeekString ? props.customWeekString(value as any) : `${value.year}年 第${value.week}周`\r\n                    }\r\n                } else {\r\n                    const start = WeekUtils.getWeekNumber((formatData.value.start!).valueString!, {valueFormat: valueFormat.value, firstWeekDay: props.firstWeekDay})\r\n                    const end = WeekUtils.getWeekNumber((formatData.value.end!).valueString!, {valueFormat: valueFormat.value, firstWeekDay: props.firstWeekDay})\r\n                    return {\r\n                        start: !start.year ? '' : !!props.customWeekString ? props.customWeekString(start as any) : `${start.year}年 第${start.week}周`,\r\n                        end: !end.year ? '' : !!props.customWeekString ? props.customWeekString(end as any) : `${end.year}年 第${end.week}周`,\r\n                    }\r\n                }\r\n            }\r\n        })\r\n\r\n        /*---------------------------------------custom handler-------------------------------------------*/\r\n\r\n        const customHandler = {\r\n            onInputChange(val: string | undefined, type: 'value' | 'start' | 'end') {\r\n                if (props.panel === 'dates') {\r\n                    model.value = val\r\n                }\r\n                const {value, start, end} = formatData.value as { value: PlainDateType, start: PlainDateType, end: PlainDateType }\r\n                switch (type) {\r\n                    case 'value':\r\n\r\n                        if (!val) {\r\n                            value.setValue(undefined)\r\n                            model.value = undefined\r\n                            return;\r\n                        }\r\n                        if (value.format(value.parseDisplayString(val)) != val) {\r\n                            return;\r\n                        }\r\n\r\n                        value.setDisplayValue(val)\r\n                        model.value = value.valueString!\r\n\r\n                        break\r\n                    case 'start':\r\n\r\n                        if (!val) {\r\n                            return;\r\n                        }\r\n                        if (start.format(start.parseDisplayString(val)) != val) {\r\n                            return;\r\n                        }\r\n\r\n                        start.setDisplayValue(val)\r\n                        startModel.value = start.valueString!\r\n\r\n                        if (end.isNull || (!!props.datetime ? start.YMDHms! > end.YMDHms! : start.YMD! > end.YMD!)) {\r\n                            endModel.value = start.valueString!\r\n                        }\r\n\r\n                        break\r\n                    case 'end':\r\n\r\n                        if (!val) {\r\n                            return;\r\n                        }\r\n                        if (end.format(end.parseDisplayString(val)) != val) {\r\n                            return;\r\n                        }\r\n\r\n                        end.setDisplayValue(val)\r\n                        endModel.value = end.valueString!\r\n\r\n                        if (start.isNull || (!!props.datetime ? start.YMDHms! > end.YMDHms! : start.YMD! > end.YMD!)) {\r\n                            startModel.value = end.valueString!\r\n                        }\r\n\r\n                        break\r\n                }\r\n            },\r\n            onClickItemCloseIcon(item: string, index: number, e: MouseEvent) {\r\n                e.stopPropagation()\r\n                e.preventDefault()\r\n\r\n                if (!agentState.editComputed.value.editable) {\r\n                    return\r\n                }\r\n                const value = model.value as any as string[]\r\n                value.splice(index, 1)\r\n                model.value = [...value] as any\r\n            },\r\n        }\r\n\r\n        return {\r\n            render: () => {\r\n                return (\r\n                    <pl-input ref=\"plInput\"{...inputAttrs.value}>\r\n                        <div {...{class: 'pl-input-custom-inner', range: props.range}}>\r\n\r\n\r\n                            {props.panel === DatePanelType.dates && (<pl-input-inner-tags\r\n                                data={formatData.value.datesString}\r\n                                collapseTags={props.collapseTags}\r\n                                v-slots={{\r\n                                    default: ({item, index}: { item: string, index: number }) => (<>\r\n                                        <span>{item}</span>\r\n                                        <pl-icon icon=\"el-icon-close\" onClick={(e: MouseEvent) => customHandler.onClickItemCloseIcon(item, index, e)}/>\r\n                                    </>)\r\n                                }}\r\n                            />)}\r\n\r\n                            {props.panel !== DatePanelType.dates && (\r\n                                !props.range ? (<pl-date-time-input\r\n                                        modelValue={displayString.value.value}\r\n                                        ref=\"valueInput\"\r\n                                        onChange={(val: string) => customHandler.onInputChange(val, 'value')}\r\n                                        displayFormat={displayFormat.value}\r\n                                        onFocus={handler.customInputFocus}\r\n                                        onBlur={handler.customInputBlur}\r\n                                    />) :\r\n                                    <>\r\n                                        <pl-date-time-input\r\n                                            width=\"100\"\r\n                                            modelValue={displayString.value.start}\r\n                                            ref=\"startInput\"\r\n                                            displayFormat={displayFormat.value}\r\n                                            onChange={(val: string) => customHandler.onInputChange(val, 'start')}\r\n                                            onFocus={handler.customInputFocus}\r\n                                            onBlur={handler.customInputBlur}\r\n                                        />\r\n                                        <span>~</span>\r\n                                        <pl-date-time-input\r\n                                            width=\"100\"\r\n                                            modelValue={displayString.value.end}\r\n                                            ref=\"endInput\"\r\n                                            onChange={(val: string) => customHandler.onInputChange(val, 'end')}\r\n                                            displayFormat={displayFormat.value}\r\n                                            onFocus={handler.customInputFocus}\r\n                                            onBlur={handler.customInputBlur}\r\n                                        />\r\n                                    </>\r\n                            )}\r\n\r\n                        </div>\r\n                    </pl-input>\r\n                )\r\n            }\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../../use/designComponent\";\r\nimport {DateEmitRangeType, DatePanelItemWrapper, DatePanelWrapper, DatePublicEmits, DatePublicProps, DateView, Dbpid, DefaultDateFormatString, SlideTransitionDirection} from '../date.utils';\r\nimport {computed, Transition} from 'vue';\r\nimport {useDate, UseDateJudgementView} from \"../useDate\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-date-base-panel-month',\r\n    props: {\r\n        ...DatePublicProps,\r\n\r\n        displayFormat: {type: String, default: DefaultDateFormatString.month},\r\n        valueFormat: {type: String, default: DefaultDateFormatString.month},\r\n        view: {type: String, default: DateView.month},\r\n    },\r\n    emits: {\r\n        ...DatePublicEmits,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const months = computed(() => ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月',])\r\n\r\n        const {\r\n            state,\r\n            setSelectDate,\r\n            today,\r\n            tempPd,\r\n            model,\r\n            startModel,\r\n            endModel,\r\n            viewModel,\r\n            getStatus,\r\n        } = useDate({\r\n            props,\r\n            emit,\r\n            useModelConfig: {\r\n                model: {\r\n                    onChange: val => {\r\n                        // 这个val 是按照displayFormat和valueFormat格式的字符串，不能直接 setSelectYear 赋值\r\n                        if (!val) {\r\n                            methods.setSelectYear(today.year!)\r\n                        } else {\r\n                            tempPd.setValue(val)\r\n                            methods.setSelectYear(tempPd.year!)\r\n                        }\r\n                    }\r\n                },\r\n                start: {\r\n                    onChange: val => {\r\n                        tempPd.setValue(val)\r\n                        const startPd = tempPd.copy()\r\n                        tempPd.setValue(endModel.value)\r\n                        const endPd = tempPd.copy()\r\n                        state.valueRange = [startPd, endPd]\r\n                        state.hoverRange = null\r\n                        methods.setSelectYear(startPd.year || today.year!)\r\n                    }\r\n                },\r\n                end: {\r\n                    onChange: val => {\r\n                        tempPd.setValue(startModel.value)\r\n                        const startPd = tempPd.copy()\r\n                        tempPd.setValue(val)\r\n                        const endPd = tempPd.copy()\r\n\r\n                        state.valueRange = [startPd, endPd]\r\n                        state.hoverRange = null\r\n                    }\r\n                },\r\n            },\r\n            jdView: UseDateJudgementView.YM,\r\n        })\r\n\r\n        const methods = {\r\n            /**\r\n             * 设置当前选择的年份\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 11:12\r\n             */\r\n            setSelectYear(target: number) {\r\n                if (!target) {\r\n                    target = today.year!\r\n                }\r\n                state.slide = state.selectDate.year! > target ? SlideTransitionDirection.prev : SlideTransitionDirection.next\r\n                state.selectDate.setYear(target)\r\n                setSelectDate(state.selectDate)\r\n            },\r\n            /**\r\n             * 切换到上一年\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 11:12\r\n             */\r\n            prevYear() {\r\n                state.slide = SlideTransitionDirection.prev\r\n                state.selectDate.setYear(state.selectDate.year! - 1)\r\n                setSelectDate(state.selectDate)\r\n            },\r\n            /**\r\n             * 切换到下一年\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 11:12\r\n             */\r\n            nextYear() {\r\n                state.slide = SlideTransitionDirection.next\r\n                state.selectDate.setYear(state.selectDate.year! + 1)\r\n                setSelectDate(state.selectDate)\r\n            },\r\n        }\r\n\r\n        const monthList = computed(() => {\r\n            const {selectDate} = state\r\n            let list: Dbpid[] = [];\r\n            [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11].forEach(i => {\r\n                tempPd.setYear(selectDate.year!)\r\n                tempPd.setMonthDate(i, 1)\r\n                const ipd = tempPd.copy()\r\n                const item = {\r\n                    label: months.value[i],\r\n                    ipd,\r\n                    ...getStatus(ipd),\r\n                }\r\n                list.push(item)\r\n            })\r\n            return list\r\n        })\r\n\r\n        const handler = {\r\n            /**\r\n             * 处理点击月份元素的动作\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 11:13\r\n             */\r\n            onClickItem({ipd}: Dbpid) {\r\n\r\n                const temp = state.selectDate.copy()\r\n                temp.setMonthDate(ipd.month!, 1)\r\n\r\n                if (!props.range) {\r\n                    model.value = temp.valueString!\r\n                } else {\r\n\r\n                    if (!state.hoverRange) {\r\n\r\n                        temp.setMonthDate(ipd.month!, 1)\r\n                        state.hoverRange = [temp, temp]\r\n                        state.valueRange = [temp, temp]\r\n\r\n                    } else {\r\n                        const [startPd, endPd] = state.hoverRange\r\n\r\n                        startModel.value = startPd.valueString!\r\n                        endModel.value = endPd.valueString!\r\n\r\n                        state.hoverRange = null\r\n                        state.valueRange = [startPd, endPd]\r\n\r\n                        emit.onUpdateModelValue(startModel.value, DateEmitRangeType.start)\r\n                        emit.onUpdateModelValue(endModel.value, DateEmitRangeType.end)\r\n                    }\r\n                }\r\n            },\r\n            /**\r\n             * 处理鼠标进入月份元素的动作\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 11:13\r\n             */\r\n            onMouseEnterItem({ipd}: Dbpid) {\r\n                if (!!state.hoverRange) {\r\n                    let midPd = state.valueRange[0]\r\n                    const temp = state.selectDate.copy()\r\n                    temp.setMonthDate(ipd.month!, 1)\r\n                    state.hoverRange = midPd.YM! > temp.YM! ? [temp, midPd] : [midPd, temp]\r\n                }\r\n            },\r\n            /**\r\n             * 处理年份面板选择年份变化动作\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 11:14\r\n             */\r\n            onSelectYearChange(val: number) {\r\n                viewModel.value = DateView.month\r\n                state.selectDate.setYear(val)\r\n                setSelectDate(state.selectDate)\r\n            },\r\n        }\r\n\r\n        return {\r\n            render: () => {\r\n\r\n                const Month = DatePanelWrapper({\r\n                    left: <pl-button icon=\"el-icon-d-arrow-left\" mode=\"text\" size=\"mini\" onClick={methods.prevYear}/>,\r\n                    center: <span onClick={() => viewModel.value = DateView.year}>{state.selectDate.year}</span>,\r\n                    right: <pl-button icon=\"el-icon-d-arrow-right\" mode=\"text\" size=\"mini\" onClick={methods.nextYear}/>,\r\n                    content: (\r\n                        <Transition name={`pl-transition-slide-${state.slide}`}>\r\n                            <ul {...{\r\n                                class: 'pl-date-base-panel-month-list',\r\n                                key: state.selectDate.year!,\r\n                                direction: 'vertical'\r\n                            }}>\r\n                                {monthList.value.map(item => (DatePanelItemWrapper({\r\n                                    item,\r\n                                    onClick: handler.onClickItem,\r\n                                    onMouseenter: handler.onMouseEnterItem,\r\n                                    Node: <li class=\"pl-date-base-panel-month-item\" key={item.month}/>,\r\n                                })))}\r\n                            </ul>\r\n                        </Transition>\r\n                    )\r\n                }) as any\r\n\r\n                const Wrapper = (\r\n                    <div {...{\r\n                        class: 'pl-date-base-panel pl-date-base-panel-month-wrapper',\r\n                        direction: props.direction,\r\n                    }}>\r\n                        <Transition name={`pl-transition-slide-${viewModel.value === DateView.year ? 'prev' : 'next'}`}>\r\n                            {viewModel.value === DateView.month ? <Month {...{class: 'pl-date-base-panel-month', direction: 'horizontal'}}/> : (\r\n                                <pl-date-base-panel-year\r\n                                    modelValue={String(state.selectDate.year)}\r\n                                    onChange={handler.onSelectYearChange}\r\n                                    direction=\"horizontal\"/>\r\n                            )}\r\n                        </Transition>\r\n                    </div>\r\n                ) as any\r\n\r\n                return <Wrapper/>\r\n            }\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../../use/designComponent\";\r\nimport {DatePanelItemWrapper, DatePanelWrapper, DatePublicEmits, DatePublicProps, DateView, DateViewSeq, Dbpid, SlideTransitionDirection} from \"../date.utils\";\r\nimport {useDate, UseDateJudgementView} from \"../useDate\";\r\nimport {PlainDate, PlainDateType} from \"../../../utils/PlainDate\";\r\nimport {computed, Transition, watch} from 'vue';\r\nimport {zeroize} from \"plain-utils/string/zeroize\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-date-base-panel-date',\r\n    props: {\r\n        ...DatePublicProps,\r\n        view: {type: String, default: DateView.date},\r\n    },\r\n    emits: {\r\n        ...DatePublicEmits,\r\n        onUpdateModelValue: (val?: string, ipd?: PlainDateType) => true,\r\n        onClickItem: (ipd: PlainDateType) => true,\r\n        onSelectTime: (val: string) => true,\r\n        onMouseenterItem: (item: Dbpid) => true,\r\n        onSelectDateChange: (ipd: PlainDateType) => true,\r\n        onMouseleaveDateList: (e: MouseEvent) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const {\r\n            state,\r\n            today,\r\n            tempPd,\r\n            model,\r\n            viewModel,\r\n            getStatus,\r\n            setSelectDate,\r\n            displayFormat,\r\n            valueFormat,\r\n        } = useDate({\r\n            props,\r\n            emit,\r\n            useModelConfig: {\r\n                model: {\r\n                    autoEmit: false,\r\n                    onChange: (val) => !props.selectDate && utils.setSelectDate(val, false)\r\n                },\r\n            },\r\n            jdView: UseDateJudgementView.YMD,\r\n        })\r\n\r\n        const utils = {\r\n            /**\r\n             * 设置当前面板的年月\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 10:57\r\n             */\r\n            setSelectDate: (val: string | PlainDateType | undefined, autoEmit = true) => {\r\n                if (!val || typeof val == \"string\") {\r\n                    tempPd.setValue(val)\r\n                    setSelectDate(tempPd)\r\n                } else {\r\n                    setSelectDate(val)\r\n                }\r\n                if (autoEmit) {\r\n                    emit.onSelectDateChange(state.selectDate)\r\n                }\r\n            },\r\n            /**\r\n             * 派发值变化事件，先校验值是否大于最大值，小于最小值，是则取最大值（最小值）\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 10:58\r\n             */\r\n            emitValue(valueString: string) {\r\n                const {max, min} = state.topState\r\n                let vpd = new PlainDate(valueString, displayFormat, valueFormat)\r\n                if (!!max && !max.isNull && (!!props.datetime ? (vpd.YMDHms! > max.YMDHms) : (vpd.YMD! > max.YMD))) {\r\n                    vpd = max\r\n                } else if (!!min && !min.isNull && (!!props.datetime ? (vpd.YMDHms! < min.YMDHms) : (vpd.YMD! < min.YMD))) {\r\n                    vpd = min\r\n                }\r\n                model.value = vpd.valueString!\r\n                emit.onUpdateModelValue(model.value, vpd)\r\n            },\r\n        }\r\n\r\n        /*---------------------------------------computer-------------------------------------------*/\r\n\r\n        const weekList = computed(() => {\r\n            const weeks = ['日', '一', '二', '三', '四', '五', '六']\r\n            return weeks.slice(props.firstWeekDay).concat(weeks.slice(0, props.firstWeekDay))\r\n        })\r\n\r\n        const dateList = computed(() => {\r\n            const {selectDate} = state\r\n            tempPd.setYear(selectDate.year!)\r\n            tempPd.setMonthDate(selectDate.month!, 1)\r\n            const currentMonthFirstDate = tempPd.copy()\r\n            let weekDayDuration = currentMonthFirstDate.day! - props.firstWeekDay\r\n            let offsetDay = weekDayDuration === 0 ? 7 : weekDayDuration > 0 ? weekDayDuration : 7 + weekDayDuration\r\n            let firstDateTime = new Date(currentMonthFirstDate.time! - (offsetDay) * 24 * 60 * 60 * 1000).getTime()\r\n            let list: Dbpid[] = []\r\n            for (let i = 0; i < 42; i++) {\r\n                const ipd = tempPd.copy()\r\n                ipd.setTime(firstDateTime)\r\n                let item = {\r\n                    ipd,\r\n                    label: ipd.date!,\r\n                    ...getStatus(ipd),\r\n                    isSelectMonth: ipd.YM === selectDate.YM,\r\n                }\r\n\r\n                list.push(item)\r\n                firstDateTime += 24 * 60 * 60 * 1000\r\n            }\r\n            return list\r\n        })\r\n\r\n        const defaultTimePd = computed(() => {\r\n            const pd = new PlainDate(props.defaultTime, 'HH:mm:ss', 'HH:mm:ss')\r\n            if (pd.isNull) {\r\n                const now = new Date()\r\n                pd.setHms(now.getHours(), now.getMinutes(), now.getSeconds())\r\n            }\r\n            return pd\r\n        })\r\n\r\n        /*---------------------------------------attrs-------------------------------------------*/\r\n\r\n        const monthAttrs = computed(() => ({\r\n            modelValue: state.selectDate.valueString,\r\n            displayFormat,\r\n            valueFormat,\r\n            view: viewModel.value,\r\n            onChange: handler.onSelectMonthChange,\r\n        }))\r\n\r\n        const timeAttrs = computed(() => {\r\n\r\n            tempPd.setValue(model.value)\r\n            const vpd = tempPd.copy()\r\n            const timePd = defaultTimePd.value.copy()\r\n\r\n            /*此时tempPd存有model.value的时间，如果不为空，则设置时间得model.value的时间*/\r\n            if (!tempPd.isNull) {\r\n                timePd.setHms(tempPd)\r\n            }\r\n\r\n            const attrs = {\r\n                modelValue: timePd.valueString,\r\n                displayFormat: 'HH:mm:ss',\r\n                valueFormat: 'HH:mm:ss',\r\n                max: undefined as undefined | string | null,\r\n                min: undefined as undefined | string | null,\r\n                onChange: handler.onSelectTime,\r\n            }\r\n\r\n            const {max, min} = state.topState\r\n\r\n            if (!!vpd && !vpd.isNull) {\r\n                /*限制最大最小值*/\r\n                if (!!max && !max.isNull) {\r\n                    if (max.YMD <= vpd.YMD) {\r\n                        let tempDefaultTime = timePd.copy()\r\n                        tempDefaultTime.setHms(max)\r\n                        attrs.max = tempDefaultTime.valueString\r\n                    }\r\n                }\r\n\r\n                if (!!min && !min.isNull) {\r\n                    if (min.YMD >= vpd.YMD) {\r\n                        let tempDefaultTime = timePd.copy()\r\n                        tempDefaultTime.setHms(min)\r\n                        attrs.min = tempDefaultTime.valueString\r\n                    }\r\n                }\r\n            }\r\n\r\n            return attrs\r\n\r\n        })\r\n\r\n        const showTimePd = computed(() => {\r\n            const value = new PlainDate(model.value, displayFormat, valueFormat)\r\n            return value.isNull ? state.selectDate : value\r\n        })\r\n\r\n        /*---------------------------------------methods-------------------------------------------*/\r\n\r\n        const methods = {\r\n            /**\r\n             * 面板切换到上一年\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 10:56\r\n             */\r\n            prevYear() {\r\n                state.selectDate.setYear(state.selectDate.year! - 1)\r\n                utils.setSelectDate(state.selectDate.copy())\r\n            },\r\n            /**\r\n             * 面板切换到下一年\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 10:56\r\n             */\r\n            nextYear() {\r\n                state.selectDate.setYear(state.selectDate.year! + 1)\r\n                utils.setSelectDate(state.selectDate.copy())\r\n            },\r\n            /**\r\n             * 面板切换到上一个月份\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 10:56\r\n             */\r\n            prevMonth() {\r\n                state.selectDate.setMonthDate(state.selectDate.month! - 1, 1)\r\n                utils.setSelectDate(state.selectDate.copy())\r\n            },\r\n            /**\r\n             * 面板切换到下一个月份\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 10:56\r\n             */\r\n            nextMonth() {\r\n                state.selectDate.setMonthDate(state.selectDate.month! + 1, 1)\r\n                utils.setSelectDate(state.selectDate.copy())\r\n            },\r\n            /**\r\n             * 切换视图，确定动画方向\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 10:57\r\n             */\r\n            changeView(view: DateView) {\r\n                if (view === viewModel.value) return\r\n                const oldSeq = DateViewSeq[viewModel.value]\r\n                const newSeq = DateViewSeq[view]\r\n                state.slide = newSeq > oldSeq ? SlideTransitionDirection.next : SlideTransitionDirection.prev\r\n                viewModel.value = view\r\n            },\r\n        }\r\n\r\n        /*---------------------------------------handler-------------------------------------------*/\r\n\r\n        const handler = {\r\n            /**\r\n             * 点击日期元素处理动作\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 10:58\r\n             */\r\n            onClickItem({ipd}: Dbpid) {\r\n                const defaultTime = defaultTimePd.value\r\n                const vpd = new PlainDate(model.value, displayFormat, valueFormat)\r\n                ipd = ipd.copy()\r\n                if (!vpd.isNull) {\r\n                    ipd!.setHms(vpd)\r\n                } else {\r\n                    ipd!.setHms(defaultTime)\r\n                }\r\n\r\n                emit.onClickItem(ipd)\r\n                utils.emitValue(ipd.valueString!)\r\n            },\r\n            /**\r\n             * 处理选择时间处理动作\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 10:58\r\n             */\r\n            onSelectTime(val: string) {\r\n                const {selectDate} = state\r\n                const vpd = new PlainDate(model.value, displayFormat, valueFormat)\r\n                const defaultTime = defaultTimePd.value\r\n\r\n                const tempPd = defaultTime.copy()\r\n                tempPd.setValue(val)\r\n\r\n                if (vpd.isNull) {\r\n                    vpd.setYear(selectDate.year!)\r\n                    vpd.setMonthDate(selectDate.month!, selectDate.date!)\r\n                }\r\n\r\n                vpd.setHms(tempPd)\r\n\r\n                utils.emitValue(vpd.valueString!)\r\n                emit.onSelectTime(val)\r\n            },\r\n            /**\r\n             * 月份选择面板的值发生变化之后，改变视图\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 10:59\r\n             */\r\n            onSelectMonthChange(val: string) {\r\n                state.selectDate.setValue(val)\r\n                utils.setSelectDate(state.selectDate.copy())\r\n                methods.changeView(DateView.date)\r\n            },\r\n        }\r\n\r\n        watch(() => props.selectDate, (val) => state.selectDate = val || today.copy())\r\n\r\n        const render = {\r\n            date: () => {\r\n                const Wrapper: any = DatePanelWrapper({\r\n                    left: (<>\r\n                        <pl-button icon=\"el-icon-d-arrow-left\" mode=\"text\" size=\"mini\" onClick={methods.prevYear}/>\r\n                        <pl-button icon=\"el-icon-arrow-left\" mode=\"text\" size=\"mini\" onClick={methods.prevMonth}/>\r\n                    </>),\r\n                    center: (<>\r\n                        <span onClick={() => methods.changeView(DateView.year)}>{state.selectDate.year}</span>\r\n                        -\r\n                        <span onClick={() => methods.changeView(DateView.month)}>{zeroize(state.selectDate.month! + 1)}</span>\r\n                        {!!props.datetime && (<span class=\"pl-date-base-panel-date-time-label\" onClick={() => methods.changeView(DateView.time)}>\r\n                        {timeAttrs.value.modelValue}\r\n                    </span>)}\r\n                    </>),\r\n                    right: (<>\r\n                        <pl-button icon=\"el-icon-arrow-right\" mode=\"text\" size=\"mini\" onClick={methods.nextMonth}/>\r\n                        <pl-button icon=\"el-icon-d-arrow-right\" mode=\"text\" size=\"mini\" onClick={methods.nextYear}/>\r\n                    </>),\r\n                    content: (<>\r\n                        <ul class=\"pl-date-base-panel-date-week-list\">\r\n                            {weekList.value.map(item => (\r\n                                <li class=\"pl-date-base-panel-item pl-date-base-panel-date-week-item\" key={item}>\r\n                                    <div><span>{item}</span></div>\r\n                                </li>\r\n                            ))}\r\n                        </ul>\r\n                        <pl-list class=\"pl-date-base-panel-date-list\" tag=\"ul\" onMouseleave={emit.onMouseleaveDateList}>\r\n                            {dateList.value.map((item, index) => (\r\n                                DatePanelItemWrapper({\r\n                                    item,\r\n                                    onClick: handler.onClickItem,\r\n                                    onMouseenter: emit.onMouseenterItem,\r\n                                    Node: <pl-item\r\n                                        {...{\r\n                                            tag: 'li',\r\n                                            class: ['pl-date-base-panel-date-item', {'pl-date-base-panel-date-item-other-month': !item.isSelectMonth,}],\r\n                                            key: item.isSelectMonth ? item.ipd!.date : `_${index}`,\r\n                                        }}\r\n                                    />,\r\n                                })\r\n                            ))}\r\n                        </pl-list>\r\n                    </>),\r\n                })\r\n                return <Wrapper {...{class: 'pl-date-base-panel-date', direction: 'horizontal', key: 'date'}}/>\r\n            },\r\n            month: () => {\r\n                return <pl-date-base-panel-month {...monthAttrs.value} direction=\"horizontal\" key={viewModel.value}/>\r\n            },\r\n            time: () => {\r\n                const Wrapper: any = DatePanelWrapper({\r\n                    center: (<><span onClick={() => methods.changeView(DateView.date)}>\r\n                                {showTimePd.value.year}-{zeroize(showTimePd.value.month! + 1)}-{zeroize(showTimePd.value.date!)}\r\n                            </span></>),\r\n                    content: <pl-time-panel {...timeAttrs.value}/>,\r\n                })\r\n                return <Wrapper {...{class: 'pl-date-base-panel-time', direction: 'horizontal', key: 'time'}}/>\r\n            },\r\n        }\r\n\r\n        return {\r\n            render: () => (\r\n                <div class=\"pl-date-base-panel-date-wrapper pl-date-base-panel\">\r\n                    <Transition name={`pl-transition-slide-${state.slide}`}>\r\n                        {render[viewModel.value === DateView.year ? DateView.month : viewModel.value]()}\r\n                    </Transition>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../../use/designComponent\";\r\nimport {DateEmitRangeType, DatePublicEmits, DatePublicProps, DateView, Dbpid} from \"../date.utils\";\r\nimport {useDate, UseDateJudgementView} from \"../useDate\";\r\nimport {computed, nextTick} from 'vue';\r\nimport {PlainDate, PlainDateType} from \"../../../utils/PlainDate\";\r\n\r\nconst DefaultTime = {\r\n    start: '00:00:00',\r\n    end: '23:59:59'\r\n}\r\n\r\nexport default designComponent({\r\n    name: 'pl-date-panel-date-range',\r\n    props: {\r\n        ...DatePublicProps,\r\n\r\n        range: {type: Boolean, default: true},\r\n        view: {type: String, default: DateView.date}\r\n    },\r\n    emits: {\r\n        ...DatePublicEmits,\r\n        mousedown: (e: MouseEvent, type: DateEmitRangeType) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const {\r\n            today,\r\n            tempPd,\r\n            state,\r\n            startModel,\r\n            endModel,\r\n            displayFormat,\r\n            valueFormat,\r\n        } = useDate({\r\n            props,\r\n            emit,\r\n            useModelConfig: {\r\n                model: {\r\n                    autoEmit: false,\r\n                },\r\n                start: {\r\n                    autoEmit: false,\r\n                    onChange: val => {\r\n                        tempPd.setValue(val)\r\n                        const startPd = tempPd.copy()\r\n                        tempPd.setValue(endModel.value)\r\n                        const endPd = tempPd.copy()\r\n                        state.valueRange = [startPd, endPd]\r\n                        state.hoverRange = null\r\n                        state.selectDate = startPd.isNull ? today.copy() : startPd.copy()\r\n                    },\r\n                },\r\n                end: {\r\n                    autoEmit: false,\r\n                    onChange: val => {\r\n                        tempPd.setValue(startModel.value)\r\n                        const startPd = tempPd.copy()\r\n                        tempPd.setValue(val)\r\n                        const endPd = tempPd.copy()\r\n                        state.valueRange = [startPd, endPd]\r\n                        state.hoverRange = null\r\n                    }\r\n                }\r\n            },\r\n            jdView: UseDateJudgementView.YMD,\r\n        })\r\n\r\n        const formatData = computed(() => {\r\n\r\n            const start = startModel.value\r\n            const end = endModel.value\r\n\r\n            const pdStart = new PlainDate(start, displayFormat, valueFormat)\r\n            const pdEnd = new PlainDate(end, displayFormat, valueFormat)\r\n\r\n            const pdStartTime = new PlainDate(props.defaultStartTime || DefaultTime.start, 'HH:mm:ss', 'HH:mm:ss');\r\n            const pdEndTime = new PlainDate(props.defaultEndTime || DefaultTime.end, 'HH:mm:ss', 'HH:mm:ss');\r\n\r\n            !pdStart.isNull && pdStartTime.setHms(pdStart);\r\n            !pdEnd.isNull && pdEndTime.setHms(pdEnd);\r\n\r\n            return {\r\n                pdStart,\r\n                pdEnd,\r\n                pdStartTime,\r\n                pdEndTime,\r\n            }\r\n        })\r\n\r\n        const binding = computed(() => {\r\n\r\n            const selectDate = state.selectDate.copy()\r\n            const publicProps = Object.keys(DatePublicProps).reduce((ret, key) => {\r\n                (ret as any)[key] = (props as any)[key]\r\n                return ret\r\n            }, {})\r\n            Object.assign(publicProps, {\r\n                displayFormat: displayFormat,\r\n                valueFormat: valueFormat,\r\n                range: true\r\n            })\r\n            const start = {\r\n                ...publicProps,\r\n                selectDate: selectDate,\r\n                modelValue: startModel.value,\r\n                defaultTime: props.defaultStartTime || DefaultTime.start,\r\n\r\n                onSelectDateChange: (val: PlainDateType) => state.selectDate = val.copy(),\r\n                onMouseenterItem: handler.onMouseenterItem,\r\n                onClickItem: handler.onClickItem,\r\n                onSelectTime: (val: string) => handler.onSelectTime(val, DateEmitRangeType.start),\r\n                onMousedown: (e: MouseEvent) => emit.mousedown(e, DateEmitRangeType.start),\r\n            }\r\n\r\n            const endSelectDate = selectDate.copy()\r\n            endSelectDate.setMonthDate(endSelectDate.month! + 1, 1)\r\n            const end = {\r\n                ...publicProps,\r\n                selectDate: endSelectDate,\r\n                modelValue: endModel.value,\r\n                defaultTime: props.defaultEndTime || DefaultTime.end,\r\n\r\n                onSelectDateChange: (val: PlainDateType) => {\r\n                    val.setMonthDate(val.month! - 1, 1)\r\n                    state.selectDate = val.copy()\r\n                },\r\n                onMouseenterItem: handler.onMouseenterItem,\r\n                onClickItem: handler.onClickItem,\r\n                onSelectTime: (val: string) => handler.onSelectTime(val, DateEmitRangeType.end),\r\n                onMousedown: (e: MouseEvent) => emit.mousedown(e, DateEmitRangeType.end),\r\n            }\r\n\r\n            return {\r\n                start,\r\n                end\r\n            }\r\n        })\r\n\r\n        const utils = {\r\n            emitValue(startPd: PlainDateType, endPd: PlainDateType) {\r\n\r\n                const {max, min} = state.topState\r\n\r\n                if (!!max && !max.isNull && (props.datetime ? max.YMDHms < startPd.YMDHms! : max.YMD < startPd.YMD!)) {\r\n                    startPd = max\r\n                } else if (!!min && !min.isNull && (props.datetime ? min.YMDHms > startPd.YMDHms! : min.YMD > startPd.YMD!)) {\r\n                    startPd = min\r\n                }\r\n\r\n                if (!!max && !max.isNull && (props.datetime ? max.YMDHms < endPd.YMDHms! : max.YMD < endPd.YMD!)) {\r\n                    endPd = max\r\n                } else if (!!min && !min.isNull && (props.datetime ? min.YMDHms > endPd.YMDHms! : min.YMD > endPd.YMD!)) {\r\n                    endPd = min\r\n                }\r\n\r\n                startModel.value = startPd.valueString!\r\n                endModel.value = endPd.valueString!\r\n\r\n                state.hoverRange = null\r\n                state.valueRange = [startPd, endPd]\r\n\r\n                emit.onUpdateStart(startModel.value)\r\n                emit.onUpdateModelValue(startModel.value, DateEmitRangeType.start)\r\n                emit.onUpdateEnd(endModel.value)\r\n                emit.onUpdateModelValue(endModel.value, DateEmitRangeType.end)\r\n            },\r\n        }\r\n\r\n        const handler = {\r\n            async onClickItem(ipd: PlainDateType) {\r\n                const {pdStartTime, pdEndTime} = formatData.value\r\n                const {hoverRange} = state\r\n\r\n                if (!hoverRange) {\r\n                    ipd = ipd.copy()\r\n                    state.hoverRange = [ipd, ipd]\r\n                    state.valueRange = [ipd, ipd]\r\n                } else {\r\n                    let [startPd, endPd] = hoverRange\r\n                    startPd = startPd.copy()\r\n                    endPd = endPd.copy()\r\n\r\n                    startPd.setHms(pdStartTime)\r\n                    endPd.setHms(pdEndTime)\r\n\r\n                    if ((props.datetime ? startPd.YMDHms! > endPd.YMDHms! : startPd.YMD! > endPd.YMD!)) {\r\n                        endPd = startPd\r\n                    }\r\n\r\n                    utils.emitValue(startPd, endPd)\r\n                }\r\n            },\r\n            onMouseenterItem({ipd}: Dbpid) {\r\n                if (!!state.hoverRange) {\r\n                    let midPd = state.valueRange[0]\r\n                    ipd = ipd!.copy()\r\n                    state.hoverRange = midPd.YMD! > ipd.YMD! ? [ipd, midPd] : [midPd, ipd]\r\n                }\r\n            },\r\n            async onSelectTime(val: string, type: DateEmitRangeType) {\r\n                await nextTick()\r\n\r\n                let {selectDate} = state\r\n                let {pdStart, pdEnd, pdStartTime, pdEndTime} = formatData.value\r\n\r\n                if (type === DateEmitRangeType.start) {\r\n                    if (pdStart.isNull) {\r\n                        pdStart.setYMD(selectDate)\r\n                    }\r\n                    pdStartTime.setValue(val)\r\n                    pdStart.setHms(pdStartTime)\r\n                    if (pdEnd.isNull) {\r\n                        pdEnd = pdStart.copy()\r\n                    } else {\r\n                        if ((props.datetime ? pdStart.YMDHms! > pdEnd.YMDHms! : pdStart.YMD! > pdEnd.YMD!)) {\r\n                            pdEnd = pdStart.copy()\r\n                        }\r\n                    }\r\n                } else if (type === DateEmitRangeType.end) {\r\n                    if (pdEnd.isNull) {\r\n                        pdEnd.setYMD(selectDate)\r\n                    }\r\n                    pdEndTime.setValue(val)\r\n                    pdEnd.setHms(pdEndTime)\r\n                    if (pdStart.isNull) {\r\n                        pdStart = pdEnd.copy()\r\n                    } else {\r\n                        if ((props.datetime ? pdStart.YMDHms! > pdEnd.YMDHms! : pdStart.YMD! > pdEnd.YMD!)) {\r\n                            pdStart = pdEnd.copy()\r\n                        }\r\n                    }\r\n                }\r\n\r\n                utils.emitValue(pdStart, pdEnd)\r\n            },\r\n        }\r\n\r\n        return {\r\n            render: () => (\r\n                <div class=\"pl-date-base-panel pl-date-panel-date-range\">\r\n                    <pl-date-base-panel-date {...binding.value.start}/>\r\n                    <pl-date-base-panel-date {...binding.value.end}/>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../../use/designComponent\";\r\nimport {DatePublicProps} from \"../date.utils\";\r\nimport {useDate, UseDateJudgementView} from \"../useDate\";\r\nimport {computed} from 'vue';\r\nimport {PlainDate, PlainDateType} from \"../../../utils/PlainDate\";\r\nimport {findOne} from \"plain-utils/object/findOne\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-date-panel-dates',\r\n    props: {\r\n        ...DatePublicProps,\r\n        modelValue: {type: Array},\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val?: string[]) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const {\r\n            model,\r\n            displayFormat,\r\n            valueFormat,\r\n        } = useDate({\r\n            props: props as any,\r\n            emit: emit as any,\r\n            jdView: UseDateJudgementView.YMD,\r\n            judgementForChild: {\r\n                active: (ipd, view) => {\r\n                    const {value} = formatData.value\r\n                    return value.length > 0 && !!value.find(vpd => vpd[view] === ipd[view])\r\n                },\r\n            },\r\n        })\r\n\r\n        const valueModel = model as { value?: string[] }\r\n        const formatData = computed(() => {\r\n            let value = model.value as string[] | undefined\r\n            value = value || []\r\n            return {\r\n                value: value.map(item => new PlainDate(item, displayFormat, valueFormat)),\r\n            }\r\n        })\r\n\r\n        const handler = {\r\n            onClickItem(ipd: PlainDateType) {\r\n                const {value} = formatData.value\r\n                const ret = findOne(value, item => item.YMD === ipd.YMD, true) as { item: PlainDateType, index: number } | { item: null }\r\n                if (!!ret.item) {\r\n                    value.splice(ret.index, 1)\r\n                } else {\r\n                    value.push(ipd)\r\n                }\r\n                valueModel.value = value.map(item => item.valueString!)\r\n            },\r\n        }\r\n\r\n        return {\r\n            render: () => (<pl-date-base-panel-date onClickItem={handler.onClickItem}/>)\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../../use/designComponent\";\r\nimport {DateEmitRangeType, DatePublicEmits, DatePublicProps, Dbpid} from \"../date.utils\";\r\nimport {useDate, UseDateJudgementView} from \"../useDate\";\r\nimport {computed, ref} from 'vue';\r\nimport {PlainDate, PlainDateType} from \"../../../utils/PlainDate\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-date-panel-week',\r\n    props: {\r\n        ...DatePublicProps,\r\n    },\r\n    emits: {\r\n        ...DatePublicEmits,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const hoverPd = ref(null as null | PlainDateType)\r\n\r\n        const {\r\n            today,\r\n            state,\r\n            model,\r\n            startModel,\r\n            endModel,\r\n            displayFormat,\r\n            valueFormat,\r\n        } = useDate({\r\n            props,\r\n            emit,\r\n            jdView: UseDateJudgementView.YMD,\r\n            judgementForChild: {\r\n                disabled: (ipd, view) => {\r\n                    const {max, min} = state.topState\r\n                    if ((!max || max.isNull) && (!min || min.isNull)) {\r\n                        return false\r\n                    }\r\n                    if (!!max && !max.isNull) {\r\n                        if (ipd[view]! > max[view]!) {\r\n                            return true\r\n                        }\r\n                    }\r\n                    if (!!min && !min.isNull) {\r\n                        if (ipd[view]! < min[view]!) {\r\n                            return true\r\n                        }\r\n                    }\r\n                    return false\r\n                },\r\n                active: (ipd, view) => {\r\n                    const {value, start, end} = WeekGetData.value\r\n                    switch (view) {\r\n                        case UseDateJudgementView.Y:\r\n                            if (!props.range) {\r\n                                return !value.pd.isNull && (value.pd.year == ipd.year)\r\n                            } else {\r\n                                return (!start.pd.isNull && start.pd.year == ipd.year) || (!end.pd.isNull && end.pd.year == ipd.year)\r\n                            }\r\n                        case UseDateJudgementView.YM:\r\n                            if (!props.range) {\r\n                                return !value.pd.isNull && (value.pd.YM === ipd.YM)\r\n                            } else {\r\n                                return (!start.pd.isNull && start.pd.YM === ipd.YM) || (!end.pd.isNull && end.pd.YM === ipd.YM)\r\n                            }\r\n                        case UseDateJudgementView.YMD:\r\n                            if (!props.range) {\r\n                                if (!value.pd.isNull) {\r\n                                    const {start: startPd, end: endPd} = value.range!\r\n\r\n                                    return !startPd.isNull && ((ipd.YMD === startPd.YMD) || (ipd.YMD === endPd.YMD))\r\n                                }\r\n                            } else {\r\n                                if (!start.pd.isNull) {\r\n                                    const {start: startPd, end: endPd} = start.range!\r\n                                    if (startPd.YMD === ipd.YMD || endPd.YMD === ipd.YMD) {\r\n                                        return true\r\n                                    }\r\n                                }\r\n                                if (!end.pd.isNull) {\r\n                                    const {start: startPd, end: endPd} = end.range!\r\n                                    if (startPd.YMD === ipd.YMD || endPd.YMD === ipd.YMD) {\r\n                                        return true\r\n                                    }\r\n                                }\r\n                            }\r\n                    }\r\n                    return false\r\n                },\r\n                hoverStart: (ipd, view) => {\r\n                    const {start} = WeekGetData.value\r\n                    switch (view) {\r\n                        case UseDateJudgementView.Y:\r\n                            return !!state.hoverRange ? false : (!start.pd.isNull && start.pd.Y == ipd.Y)\r\n                        case UseDateJudgementView.YM:\r\n                            return !!state.hoverRange ? false : (!start.pd.isNull && start.pd.YM === ipd.YM)\r\n                    }\r\n                    return false\r\n                },\r\n                hoverEnd: (ipd, view) => {\r\n                    const {end} = WeekGetData.value\r\n                    switch (view) {\r\n                        case UseDateJudgementView.Y:\r\n                            return !!state.hoverRange ? false : (!end.pd.isNull && end.pd.Y == ipd.Y)\r\n                        case UseDateJudgementView.YM:\r\n                            return !!state.hoverRange ? false : (!end.pd.isNull && end.pd.YM === ipd.YM)\r\n                    }\r\n                    return false\r\n                },\r\n                hover: (ipd, view) => {\r\n                    const {value, start, end, hoverStart, hoverEnd, hoverRange} = WeekGetData.value\r\n                    switch (view) {\r\n                        case UseDateJudgementView.Y:\r\n                            if (!props.range) {\r\n                                return false\r\n                            } else {\r\n                                return !!state.hoverRange ? false : (!start.pd.isNull && start.pd.year <= ipd.year!) && (!end.pd.isNull && end.pd.year >= ipd.year!)\r\n                            }\r\n                        case UseDateJudgementView.YM:\r\n                            if (!props.range) {\r\n                                return false\r\n                            } else {\r\n                                return !!state.hoverRange ? false : (!start.pd.isNull && start.pd.YM <= ipd.YM!) && (!end.pd.isNull && end.pd.YM >= ipd.YM!)\r\n                            }\r\n                        case UseDateJudgementView.YMD:\r\n                            if (!!hoverPd.value) {\r\n                                if (utils.isHover(hoverPd.value!, ipd)) {\r\n                                    return true\r\n                                }\r\n                            }\r\n\r\n                            if (!props.range) {\r\n                                if (!value.pd.isNull) {\r\n                                    const {start: startPd, end: endPd} = value.range!\r\n                                    return startPd.YMD! <= ipd.YMD! && endPd.YMD! >= ipd.YMD!\r\n                                }\r\n                            } else {\r\n                                if (!!hoverRange) {\r\n                                    let startPd = hoverStart.range!.start\r\n                                    let endPd = hoverEnd.range!.end\r\n                                    return startPd.YMD! <= ipd.YMD! && endPd.YMD! >= ipd.YMD!\r\n                                } else {\r\n                                    if (!!start.range && !!end.range) {\r\n                                        let startPd = start.range.start\r\n                                        let endPd = end.range.end\r\n                                        return startPd.YMD! <= ipd.YMD! && endPd.YMD! >= ipd.YMD!\r\n                                    }\r\n                                }\r\n                            }\r\n                    }\r\n                    return false\r\n                },\r\n            },\r\n            useModelConfig: {\r\n                model: {\r\n                    onChange: (val) => {\r\n                        const vpd = new PlainDate(val, displayFormat, valueFormat)\r\n                        state.selectDate = vpd.isNull ? today.copy() : vpd.copy()\r\n                    }\r\n                },\r\n                start: {\r\n                    onChange: val => {\r\n                        const startPd = new PlainDate(val, displayFormat, valueFormat)\r\n                        const endPd = new PlainDate(endModel.value, displayFormat, valueFormat)\r\n                        state.valueRange = [startPd, endPd]\r\n                        state.hoverRange = null\r\n\r\n                        state.selectDate = startPd.isNull ? today.copy() : startPd.copy()\r\n                    }\r\n                },\r\n                end: {\r\n                    onChange: val => {\r\n                        state.valueRange = [\r\n                            new PlainDate(startModel.value, displayFormat, valueFormat),\r\n                            new PlainDate(val, displayFormat, valueFormat)\r\n                        ]\r\n                        state.hoverRange = null\r\n                    },\r\n                },\r\n            },\r\n        })\r\n\r\n        const WeekGetData = computed(() => {\r\n            let {vpd} = state.topState\r\n            const [start, end] = state.valueRange\r\n            const {hoverRange} = state\r\n            const [hoverStart, hoverEnd] = (hoverRange || []) as [null | PlainDateType, null | PlainDateType]\r\n            if (!vpd) {\r\n                vpd = new PlainDate(model.value, displayFormat, valueFormat)\r\n            }\r\n            return {\r\n                value: {\r\n                    pd: vpd,\r\n                    range: vpd.isNull ? null : utils.getWeekPdByPlainDate(vpd),\r\n                },\r\n                start: {\r\n                    pd: start,\r\n                    range: start.isNull ? null : utils.getWeekPdByPlainDate(start),\r\n                },\r\n                end: {\r\n                    pd: end,\r\n                    range: end.isNull ? null : utils.getWeekPdByPlainDate(end),\r\n                },\r\n                hoverStart: {\r\n                    pd: hoverStart,\r\n                    range: !!hoverRange ? utils.getWeekPdByPlainDate(hoverStart!) : null,\r\n                },\r\n                hoverEnd: {\r\n                    pd: hoverEnd,\r\n                    range: !!hoverRange ? utils.getWeekPdByPlainDate(hoverEnd!) : null\r\n                },\r\n                hoverRange,\r\n            }\r\n        })\r\n\r\n        const utils = {\r\n            getWeekPdByPlainDate(pd: PlainDateType): { start: PlainDateType, end: PlainDateType } {\r\n                let day = pd.day!\r\n                let firstWeekDay = props.firstWeekDay\r\n\r\n                const weekDayDuration = day - firstWeekDay\r\n                let offsetDay = weekDayDuration === 0 ? 0 : weekDayDuration > 0 ? weekDayDuration : 7 + weekDayDuration\r\n\r\n                let startPd = pd.copy()\r\n                startPd.setMonthDate(startPd.month!, startPd.date! - offsetDay)\r\n                let endPd = startPd.copy()\r\n                endPd.setMonthDate(endPd.month!, endPd.date! + 6)\r\n                return {\r\n                    start: startPd, end: endPd\r\n                }\r\n            },\r\n            /**\r\n             * ipd是否处于weekPd所在的周范围之内\r\n             * @author  韦胜健\r\n             * @date    2020/4/16 16:07\r\n             */\r\n            isHover(weekPd: PlainDateType, ipd: PlainDateType) {\r\n                const {start, end} = this.getWeekPdByPlainDate(weekPd)\r\n                return ipd.YMD! >= start.YMD! && ipd.YMD! <= end.YMD!\r\n            },\r\n        }\r\n\r\n        const dateAttrs = computed(() => ({\r\n            class: 'pl-date-panel-week',\r\n            range: true,\r\n            displayFormat: displayFormat,\r\n            valueFormat: valueFormat,\r\n            modelValue: startModel.value,\r\n            selectDate: state.selectDate,\r\n            firstWeekDay: props.firstWeekDay,\r\n            onMouseleaveDateList: () => hoverPd.value = null,\r\n            onMouseenterItem: handler.onMouseenterItem,\r\n            onClickItem: handler.onClickItem,\r\n            onSelectDateChange: (val: PlainDateType) => state.selectDate = val\r\n        }))\r\n\r\n        /*---------------------------------------handler-------------------------------------------*/\r\n\r\n        const handler = {\r\n            onClickItem(ipd: PlainDateType) {\r\n                const {start} = utils.getWeekPdByPlainDate(ipd)\r\n\r\n                if (!props.range) {\r\n                    model.value = start.valueString!\r\n                } else {\r\n                    if (!state.hoverRange) {\r\n                        const {start: itemStart} = utils.getWeekPdByPlainDate(ipd)\r\n\r\n                        state.hoverRange = [itemStart, itemStart]\r\n                        state.valueRange = [itemStart, itemStart]\r\n                    } else {\r\n                        const [startPd, endPd] = state.hoverRange!\r\n\r\n                        startModel.value = startPd.valueString!\r\n                        endModel.value = endPd.valueString!\r\n\r\n                        state.hoverRange = null\r\n                        state.valueRange = [startPd, endPd]\r\n\r\n                        emit.onUpdateModelValue(startModel.value, DateEmitRangeType.start)\r\n                        emit.onUpdateModelValue(endModel.value, DateEmitRangeType.end)\r\n                    }\r\n                }\r\n            },\r\n            onMouseenterItem({ipd}: Dbpid) {\r\n                const {start: itemStartPd} = utils.getWeekPdByPlainDate(ipd!)\r\n                hoverPd.value = itemStartPd\r\n\r\n                if (!!state.hoverRange) {\r\n                    const start = WeekGetData.value.start.range!.start\r\n                    state.hoverRange = start.YMD! > itemStartPd.YMD! ? [itemStartPd, start] : [start, itemStartPd]\r\n                }\r\n            },\r\n        }\r\n\r\n        return {\r\n            render: () => <pl-date-base-panel-date {...dateAttrs.value}/>\r\n        }\r\n    },\r\n})","import {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\nimport DateTimeInput from '../date-time-input'\r\nimport DateBasePanelYear from './panel/date-base-panel-year'\r\nimport Date from './date'\r\nimport DateBasePanelMonth from './panel/date-base-panel-month'\r\nimport DateBasePanelDate from './panel/date-base-panel-date'\r\nimport DatePanelDateRange from './panel/date-panel-date-range'\r\nimport DatePanelDates from './panel/date-panel-dates'\r\nimport DatePanelWeek from './panel/date-panel.week'\r\nimport DatePanel from './panel/date-panel'\r\n\r\nexport default createComponentPlugin(Date, {\r\n    exposeComponents: {\r\n        DateBasePanelYear,\r\n        DateBasePanelMonth,\r\n        DateBasePanelDate,\r\n        DatePanelDateRange,\r\n        DatePanelDates,\r\n        DatePanelWeek,\r\n        DatePanel,\r\n    },\r\n    plugins: [\r\n        DateTimeInput\r\n    ],\r\n})","import form from './form'\r\nimport item from './form-item'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nconst FormItem = createComponentPlugin(item)\r\n\r\nexport default createComponentPlugin(form, {\r\n    exposeComponents: {FormItem}\r\n})","import {designComponent} from \"../../../../use/designComponent\";\r\nimport {useSlots} from \"../../../../use/useSlots\";\r\nimport {ComponentPublicInstance, getCurrentInstance, inject, onBeforeUnmount, onMounted, provide, ref} from 'vue';\r\nimport {TablePlc} from \"./plc.type\";\r\n\r\nexport const TablePlcCollector = (() => {\r\n    const ProvideString = '@@TablePlcCollector'\r\n    const useParent = () => {\r\n        const children = ref([] as TablePlc[])\r\n        const refer = {\r\n            children: children.value,\r\n            add: (proxy: ComponentPublicInstance) => {\r\n                const el = proxy.$el as HTMLElement\r\n                const index = Array.from(el.parentElement!.childNodes)\r\n                    .filter((item: any) => item.nodeName !== '#comment' && item.nodeName !== '#text' && (!item.style || item.style.display !== 'none'))\r\n                    .indexOf(el)\r\n                children.value.splice(index, 0, proxy as any)\r\n            },\r\n            remove: (proxy: ComponentPublicInstance) => {\r\n                const index = children.value.indexOf(proxy as any)\r\n                if (index > -1) {\r\n                    children.value.splice(index, 1)\r\n                }\r\n            },\r\n        }\r\n        provide(ProvideString, refer)\r\n        return refer\r\n    }\r\n    const useChild = () => {\r\n        const {add, remove} = inject(ProvideString) as ReturnType<typeof useParent>\r\n        const ctx = getCurrentInstance()!\r\n        onMounted(() => add(ctx.proxy!))\r\n        onBeforeUnmount(() => remove(ctx.proxy!))\r\n        return ctx\r\n    }\r\n    return {\r\n        useParent,\r\n        useChild,\r\n    }\r\n})();\r\n\r\nexport default designComponent({\r\n    name: 'plc-collector',\r\n    setup() {\r\n        const {slots} = useSlots()\r\n        const {children} = TablePlcCollector.useParent()\r\n        return {\r\n            refer: {\r\n                children\r\n            },\r\n            render: () => (\r\n                <div class=\"plc-collector\">\r\n                    {slots.default()}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {Plc} from \"./plc.type\";\r\n\r\nexport function renderColgroup(flatPlcList: Plc[]) {\r\n    return (\r\n        <colgroup>\r\n            {flatPlcList.map((plc) => <col width={plc.props.width || ''}/>)}\r\n        </colgroup>\r\n    )\r\n}","/**\r\n * 处理表头拖拽调整宽度的功能\r\n * @author  韦胜健\r\n * @date    2020/8/18 16:17\r\n */\r\nimport {TablePlc} from \"../../plc/core/plc.type\";\r\nimport Table from \"../../table\";\r\nimport {disabledUserSelect} from \"plain-utils/dom/disabledUserSelect\";\r\nimport {enableUserSelect} from \"plain-utils/dom/enableUserSelect\";\r\n\r\nexport function useHeadCellResize(table: typeof Table.use.class, plc: TablePlc) {\r\n\r\n    const state = {\r\n        indicatorEl: null as null | HTMLElement,\r\n        startX: null as null | number,\r\n        endX: null as null | number,\r\n    }\r\n\r\n    const handler = {\r\n        mousedown: (e: MouseEvent) => {\r\n\r\n            const tableEl = table.refs.el\r\n\r\n            e.preventDefault()\r\n            e.stopPropagation()\r\n\r\n            window.addEventListener('mousemove', handler.mousemove)\r\n            window.addEventListener('mouseup', handler.mouseup)\r\n            disabledUserSelect()\r\n            state.startX = e.clientX\r\n\r\n            state.indicatorEl = document.createElement('div')\r\n\r\n            const cell = e.currentTarget as HTMLElement\r\n\r\n            const {left, width} = cell.getBoundingClientRect()\r\n            const {top, height} = tableEl.getBoundingClientRect()\r\n\r\n            Object.assign(state.indicatorEl.style, {\r\n                display: 'inline-block',\r\n                zIndex: 9999,\r\n                position: 'fixed',\r\n\r\n                width: `${width}px`,\r\n                backgroundColor: '#ddd',\r\n                height: `${height}px`,\r\n                top: `${top}px`,\r\n                left: `${left}px`,\r\n            })\r\n\r\n            document.body.appendChild(state.indicatorEl)\r\n        },\r\n        mousemove: (e: MouseEvent) => {\r\n            state.indicatorEl!.style.left = `${e.clientX}px`\r\n        },\r\n        mouseup: (e: MouseEvent) => {\r\n            window.removeEventListener('mousemove', handler.mousemove)\r\n            window.removeEventListener('mouseup', handler.mouseup)\r\n            enableUserSelect()\r\n            document.body.removeChild(state.indicatorEl!)\r\n            state.endX = e.clientX\r\n            let durWidth = state.endX - state.startX!\r\n            plc.setDurWidth(durWidth)\r\n        }\r\n    }\r\n\r\n    return {\r\n        resizeHandler: handler,\r\n    }\r\n}","import {Plc, TablePlc, TableRenderScope} from \"./plc.type\";\r\nimport {TableNode} from \"../../core/useTableNode\";\r\nimport {VNodeChild} from \"../../../../shims\";\r\n\r\nexport function renderHeadCell(plc: TablePlc) {\r\n    // 如果存在 head作用域插槽，渲染head作用域插槽\r\n    if (plc.scopedSlots.head.isExist()) {\r\n        return plc.scopedSlots.head({plc: plc as any})\r\n    }\r\n    // 如果存在 props.head 渲染函数，则渲染 props.head\r\n    if (!plc.group && !!plc.props.head) {\r\n        return plc.props.head({plc})\r\n    }\r\n    return plc.props.title\r\n}\r\n\r\nexport function renderBodyCell(\r\n    {\r\n        node,\r\n        plc,\r\n    }: {\r\n        node: TableNode,\r\n        plc: Plc,\r\n    }\r\n) {\r\n    const editable = getEditable(plc, node)\r\n    const body = getBodyCell({node, plc, editable})\r\n    return {\r\n        editable,\r\n        body,\r\n    }\r\n}\r\n\r\n/**\r\n * 判断当前是否可编辑\r\n * 1. 如果当前行非编辑状态，则不可编辑\r\n * 2. 如果列没有edit作用域插槽以及渲染函数，则不可编辑\r\n * 3. 如果列的editable属性为函数，则计算这个函数的值来定性是否可编辑\r\n *\r\n * 这个【是否可编辑】值用来设置 body-cell 的样式，以便body-cell清楚地知道当前是否处于可编辑状态，并且设置padding\r\n *\r\n * @author  韦胜健\r\n * @date    2020/7/21 21:16\r\n */\r\nfunction getEditable(plc: Plc, node: TableNode) {\r\n    // 行非编辑状态下，定性为不可编辑\r\n    if (!node.edit) {\r\n        return false\r\n    }\r\n    // 如果没有edit渲染函数以及作用域插槽，那么直接定性为不可编辑\r\n    if (!plc.props.edit && !plc.scopedSlots.edit.isExist()) {\r\n        return false\r\n    }\r\n    return typeof plc.props.editable === \"function\" ? plc.props.editable(node) : (plc.props.editable !== false)\r\n}\r\n\r\nfunction getBodyCell(\r\n    {\r\n        node,\r\n        plc,\r\n        editable,\r\n    }: {\r\n        node: TableNode,\r\n        plc: Plc,\r\n        editable: boolean,\r\n    }\r\n): VNodeChild {\r\n    let renderScope: TableRenderScope\r\n    if (node.isSummary) {\r\n        // 合计行中的row一直是原始的row对象\r\n        renderScope = {node, plc, row: node.data}\r\n        // 合计行，使用作用域插槽 summary渲染，没有则使用渲染函数summary渲染，么有则使用 default作用域插槽渲染，没有\r\n        // 则使用渲染函数default渲染，没有则直接渲染field对应的值\r\n        if (plc.scopedSlots.summary.isExist()) {\r\n            return plc.scopedSlots.summary(renderScope)\r\n        }\r\n        if (!!plc.props.summary) {\r\n            return plc.props.summary(renderScope)\r\n        }\r\n        if (plc.scopedSlots.default.isExist()) {\r\n            return plc.scopedSlots.default(renderScope)\r\n        }\r\n        if (!!plc.props.default) {\r\n            return plc.props.default(renderScope)\r\n        }\r\n        return !!plc.props.field ? renderScope.row[plc.props.field] : null\r\n    } else {\r\n        // 如果当前行处于可编辑状态，则渲染的行数据对象为 rowData.editRow，否则为 rowData.data\r\n        let row = node.edit ? node.editRow : node.data\r\n        renderScope = {node, plc, row}\r\n\r\n        if (editable) {\r\n            // 当前一定存在 plc.scopedSlots.edit 或者 plc.props.edit，否则 editable不可能为true\r\n            if (plc.scopedSlots.edit.isExist()) {\r\n                return plc.scopedSlots.edit(renderScope)\r\n            }\r\n            if (!!plc.props.edit) {\r\n                return plc.props.edit(renderScope)\r\n            }\r\n        } else {\r\n            // 当前单元格不可编辑，如果当前行处于编辑状态，则渲染的行数据为 tableNode.editRow，否则为 tableNode.data\r\n            // 使用作用域插槽default渲染，没有则使用渲染函数default渲染，没有则直接显示field对应的值\r\n            if (plc.scopedSlots.default.isExist()) {\r\n                return plc.scopedSlots.default(renderScope)\r\n            }\r\n            if (!!plc.props.default) {\r\n                return plc.props.default(renderScope)\r\n            }\r\n            return !!plc.props.field ? renderScope.row[plc.props.field] : null\r\n        }\r\n    }\r\n}","import {Plc, TablePlc} from \"../../plc/core/plc.type\";\r\nimport Table from \"../../table\";\r\nimport {useAutoScroll} from \"../../../../use/useAutoScroll\";\r\nimport {StyleProperties} from \"../../../../shims\";\r\nimport {addClass} from \"plain-utils/dom/addClass\";\r\nimport {nextIndex} from \"../../../../utils/nextIndex\";\r\nimport {disabledUserSelect} from \"plain-utils/dom/disabledUserSelect\";\r\nimport {enableUserSelect} from \"plain-utils/dom/enableUserSelect\";\r\nimport {PlainScroll} from \"../../../scroll/scroll\";\r\n\r\ninterface DragData {\r\n    left: number\r\n    width: number\r\n    plc: TablePlc\r\n    droppable: boolean\r\n}\r\n\r\nenum HoverPart {\r\n    left = 'left',\r\n    right = 'right',\r\n}\r\n\r\n/**\r\n * 获取可以滚动的父组件\r\n * @author  韦胜健\r\n * @date    2020/8/19 23:50\r\n */\r\nexport function getHorizontalScrollParent(el: HTMLElement): HTMLElement {\r\n    while (!!el && el.scrollWidth <= el.offsetWidth) {\r\n        el = el.parentElement!\r\n    }\r\n    return el\r\n}\r\n\r\n/**\r\n * 递归遍历plc数组数据\r\n * @author  韦胜健\r\n * @date    2020/9/6 11:24\r\n */\r\nfunction iteratePlc(plcList: TablePlc[], handler: (plc: TablePlc) => 'stop' | void): void {\r\n\r\n    for (let i = 0; i < plcList.length; i++) {\r\n        const item = plcList[i]\r\n        const flag = handler(item)\r\n        if (flag === 'stop') {\r\n            return\r\n        } else {\r\n            if (item.group) {\r\n                iteratePlc(item.children, handler)\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\n/**\r\n * 或者plc对象的兄弟节点\r\n * @author  韦胜健\r\n * @date    2020/9/6 11:24\r\n */\r\nfunction getBroPlcList(plcList: TablePlc[], plc: TablePlc): TablePlc[] {\r\n\r\n    let broPlcList: TablePlc[] = []\r\n\r\n    if (plcList.indexOf(plc) > -1) {\r\n        broPlcList = plcList\r\n    } else {\r\n        iteratePlc(plcList, itarPlc => {\r\n            if (itarPlc.group) {\r\n                if (itarPlc.children.indexOf(plc) > -1) {\r\n                    broPlcList = itarPlc.children\r\n                    return 'stop'\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    if (broPlcList.length === 0) {\r\n        /*内部错误，找不到兄弟节点*/\r\n        throw new Error('Internal error! sibling node not found.')\r\n    }\r\n\r\n    return broPlcList\r\n}\r\n\r\n/**\r\n * 获取plc的宽度\r\n * @author  韦胜健\r\n * @date    2020/9/6 12:09\r\n */\r\nfunction getPlcWidth(plc: TablePlc) {\r\n    if (!plc.group) {\r\n        return Number(plc.props.width)\r\n    } else {\r\n        return plc.children.reduce((ret: number, item: TablePlc) => {\r\n            ret += getPlcWidth(item)\r\n            return ret\r\n        }, 0)\r\n    }\r\n}\r\n\r\n/**\r\n * 获取plc的高度，如果是plc，则高度为currentTarget的高度，如果是plcGroup，则高度等于所有后代层数乘以currentTarget的高度\r\n * @author  韦胜健\r\n * @date    2020/9/6 11:29\r\n */\r\nfunction getIndicatorHeight(\r\n    plc: TablePlc,\r\n    table: typeof Table.use.class,\r\n) {\r\n    if (plc.group) {\r\n        return (table.plcData.value!.maxLevel - plc.level!) * table.numberState.headRowHeight\r\n    } else {\r\n        return plc.rowspan! * table.numberState.headRowHeight\r\n    }\r\n\r\n}\r\n\r\n/**\r\n * 获取plcList中最底层的plc\r\n * @author  韦胜健\r\n * @date    2020/9/6 20:27\r\n */\r\nfunction getLowestPlcList(plcList: TablePlc[]): Plc[] {\r\n\r\n    return plcList.reduce((ret: Plc[], plc: TablePlc) => {\r\n        if (plc.group) {\r\n            ret.push(...getLowestPlcList(plc.children))\r\n        } else {\r\n            ret.push(plc)\r\n        }\r\n        return ret\r\n    }, [] as Plc[])\r\n\r\n}\r\n\r\n/**\r\n * 获取拖拽所需要的数据\r\n * @author  韦胜健\r\n * @date    2020/9/6 20:41\r\n */\r\nfunction getDragData(table: typeof Table.use.class, plc: TablePlc): {\r\n    broData: DragData[],\r\n    broList: TablePlc[]\r\n} {\r\n\r\n    const plcList = table.plcData.value!.plcList\r\n    const broList = getBroPlcList(plcList, plc)\r\n\r\n    const broLowestList = getLowestPlcList(broList)\r\n    const allLowestList = getLowestPlcList(plcList) as TablePlc[]\r\n\r\n    allLowestList.splice(allLowestList.indexOf(broLowestList[0]), broLowestList.length, ...broList)\r\n\r\n    const broData: DragData[] = []\r\n    let left = 0\r\n\r\n    allLowestList.forEach(plc => {\r\n        const item = {\r\n            left,\r\n            width: getPlcWidth(plc),\r\n            plc,\r\n            droppable: broList.indexOf(plc) > -1\r\n        }\r\n        left += item.width\r\n        broData.push(item)\r\n    })\r\n\r\n    // broData.forEach(bro => console.log(bro.plc.props.title, bro.left, bro.droppable))\r\n\r\n    return {\r\n        broList,\r\n        broData,\r\n    }\r\n\r\n}\r\n\r\nexport function useColDraggier(config: () => {\r\n    plc: TablePlc,\r\n    table: typeof Table.use.class,\r\n    scrollRefer: () => PlainScroll,\r\n}) {\r\n    const {plc, table, scrollRefer} = config()\r\n    const isDraggable = !!table.props.colDraggable && plc.props.colDraggable !== false\r\n    if (!isDraggable) {return {tdAttrs: {}}}\r\n    const autoScroller = useAutoScroll({\r\n        vertical: false,\r\n        getScroll: scrollRefer\r\n    })\r\n    const indicatorSize = 3\r\n    const state = {\r\n        startClientX: 0,\r\n        moveClientX: 0,\r\n\r\n        startScrollLeft: 0,\r\n        moveScrollLeft: 0,\r\n\r\n        scrollParent: null as null | HTMLElement,\r\n        currentRect: {\r\n            top: 0,\r\n            left: 0,\r\n            height: 0,\r\n            width: 0,\r\n        },\r\n        scrollRect: {\r\n            top: 0,\r\n            left: 0,\r\n            height: 0,\r\n            width: 0,\r\n        },\r\n        indicator: null as null | HTMLElement,\r\n        dragData: null as null | DragData[],\r\n        broList: null as null | TablePlc[],\r\n        refreshData: null as null | {\r\n            index: number,\r\n            dragData: DragData,\r\n            hover: HoverPart,\r\n        }\r\n    }\r\n\r\n    const utils = {\r\n        getDragData: (left: number): { index: number, dragData: DragData, hover: HoverPart } => {\r\n            for (let i = 0; i < state.dragData!.length; i++) {\r\n                const dd = state.dragData![i];\r\n                if (left >= dd.left && left <= dd.left + dd.width) {\r\n                    return {\r\n                        index: i,\r\n                        dragData: dd,\r\n                        hover: left - dd.left > dd.width / 2 ? HoverPart.right : HoverPart.left\r\n                    }\r\n                }\r\n            }\r\n            throw new Error(`Can not get dragData by left:${left}`)\r\n        },\r\n        refresh() {\r\n            const left = (state.moveClientX - state.scrollRect.left) + (state.moveScrollLeft)\r\n            state.refreshData = utils.getDragData(left)\r\n            const {dragData, hover} = state.refreshData\r\n\r\n            let indicatorLeft = (hover === HoverPart.left ? dragData.left : dragData.left + dragData.width - indicatorSize) + state.scrollRect.left - state.moveScrollLeft\r\n            indicatorLeft = Math.min(Math.max(state.scrollRect.left, indicatorLeft), state.scrollRect.left + state.scrollRect.width - indicatorSize)\r\n\r\n            Object.assign(state.indicator!.style, {\r\n                left: `${indicatorLeft}px`,\r\n            } as StyleProperties)\r\n\r\n            state.indicator!.setAttribute('droppable', dragData.droppable ? 'true' : 'false')\r\n        },\r\n    }\r\n\r\n    const handler = {\r\n        mousedown: (e: MouseEvent) => {\r\n\r\n            const {broList, broData} = getDragData(table, plc)\r\n            state.dragData = broData\r\n            state.broList = broList\r\n\r\n            const currentTarget = e.currentTarget as HTMLElement\r\n            state.currentRect = currentTarget.getBoundingClientRect()!\r\n            const indicatorHeight = getIndicatorHeight(plc, table)\r\n\r\n            state.startClientX = state.moveClientX = e.clientX\r\n            state.scrollParent = getHorizontalScrollParent(currentTarget)\r\n            state.scrollRect = state.scrollParent.parentElement!.getBoundingClientRect()\r\n            state.startScrollLeft = state.moveScrollLeft = state.scrollParent.scrollLeft\r\n\r\n            state.indicator = document.createElement('div')\r\n            addClass(state.indicator, 'plt-col-draggier-indicator')\r\n            Object.assign(state.indicator.style, {\r\n                top: `${state.currentRect.top}px`,\r\n                left: `${state.currentRect.left}px`,\r\n                height: `${indicatorHeight}px`,\r\n                width: `${indicatorSize}px`,\r\n                position: 'fixed',\r\n                zIndex: `${nextIndex() + 100}`,  // 加100是为了不被 autoScroller 遮住；\r\n                pointerEvents: 'none',                  // indicator只是一个指示的作用，这里设置none为了不挡住autoScroller的鼠标事件\r\n            } as StyleProperties)\r\n            document.body.appendChild(state.indicator)\r\n\r\n            disabledUserSelect()\r\n            document.addEventListener('mouseup', handler.mouseup)\r\n            state.scrollParent!.addEventListener('mousemove', handler.mousemove)\r\n            state.scrollParent!.addEventListener('scroll', handler.scroll)\r\n\r\n            utils.refresh()\r\n            autoScroller.showHover()\r\n        },\r\n        mousemove: (e: MouseEvent) => {\r\n            state.moveClientX = e.clientX\r\n            utils.refresh()\r\n        },\r\n        scroll: () => {\r\n            state.moveScrollLeft = state.scrollParent!.scrollLeft\r\n            utils.refresh()\r\n        },\r\n        mouseup: () => {\r\n\r\n            (() => {\r\n                if (!state.refreshData) {\r\n                    return\r\n                }\r\n                const {dragData, hover} = state.refreshData\r\n\r\n                if (!dragData.droppable) {\r\n                    return;\r\n                }\r\n\r\n                const startPlc = plc\r\n                const endPlc = dragData.plc\r\n                const broList = state.broList!\r\n\r\n                const startIndex = broList.indexOf(startPlc)\r\n                let endIndex = broList.indexOf(endPlc)\r\n                if (startIndex === endIndex) {\r\n                    return;\r\n                }\r\n\r\n                if (startPlc.props.fixed != endPlc.props.fixed) {\r\n                    startPlc.state.fixed = endPlc.props.fixed\r\n                }\r\n\r\n                broList.splice(startIndex, 1)\r\n                endIndex = broList.indexOf(endPlc)\r\n                endIndex = hover === HoverPart.right ? endIndex + 1 : endIndex\r\n                broList.splice(endIndex, 0, startPlc)\r\n\r\n                broList.forEach((plc, index) => plc.state.order = index)\r\n            })();\r\n\r\n            enableUserSelect()\r\n            document.removeEventListener('mouseup', handler.mouseup)\r\n            state.scrollParent!.removeEventListener('mousemove', handler.mousemove)\r\n            state.scrollParent!.removeEventListener('scroll', handler.scroll)\r\n            if (!!state.indicator) {\r\n                state.indicator.parentNode!.removeChild(state.indicator)\r\n                state.indicator = null\r\n            }\r\n            autoScroller.hideHover()\r\n        }\r\n    }\r\n\r\n    return {\r\n        tdAttrs: {onMousedown: handler.mousedown,}\r\n    }\r\n}","import {designComponent} from \"../../../../use/designComponent\";\r\nimport {PlainTable} from \"../../table\";\r\nimport {PropType} from 'vue';\r\nimport {TablePlc} from \"../../plc/core/plc.type\";\r\nimport {useHeadCellResize} from \"./useHeadCellResize\";\r\nimport {renderHeadCell} from \"../../plc/core/render\";\r\nimport {useColDraggier} from \"./useColDraggier\";\r\nimport {PlainScroll} from \"../../../scroll/scroll\";\r\n\r\nexport const PltHeadCell = designComponent({\r\n    name: 'plt-head-cell',\r\n    props: {\r\n        table: {type: PlainTable, required: true},\r\n        tablePlc: {type: Object as PropType<TablePlc>, required: true},\r\n        scroll: {type: Function as PropType<() => PlainScroll>, required: true},\r\n    },\r\n    setup({props}) {\r\n\r\n        const {resizeHandler} = useHeadCellResize(props.table, props.tablePlc)\r\n        const {tdAttrs} = useColDraggier(() => ({\r\n            table: props.table,\r\n            plc: props.tablePlc,\r\n            scrollRefer: props.scroll,\r\n        }))\r\n\r\n        return {\r\n            render: () => {\r\n                const content = renderHeadCell(props.tablePlc)\r\n                return (\r\n                    <td\r\n                        class={[\r\n                            props.tablePlc.classes.head,\r\n                            props.tablePlc.props.headCls,\r\n                            !!props.table.props.headCellClassFunc ? props.table.props.headCellClassFunc(props.tablePlc) : null\r\n                        ]}\r\n                        style={{\r\n                            ...props.tablePlc.styles.head as any,\r\n                            ...(!!props.table.props.headCellStyleFunc ? props.table.props.headCellStyleFunc(props.tablePlc) : {})\r\n                        }}\r\n                        rowspan={props.tablePlc.rowspan}\r\n                        colspan={props.tablePlc.colspan}\r\n                        {...tdAttrs}\r\n                    >\r\n                        {content}\r\n                        <span class=\"plt-head-cell-indicator\" onMousedown={resizeHandler.mousedown}/>\r\n                    </td>\r\n                )\r\n            }\r\n        }\r\n    },\r\n})","import {StyleProps} from \"../../../use/useStyle\";\r\nimport {SimpleObject, StyleProperties} from \"../../../shims\";\r\nimport {PropType} from 'vue';\r\nimport {Plc, TablePlc} from \"../plc/core/plc.type\";\r\nimport {TableNode} from \"./useTableNode\";\r\nimport {MultipleClass} from \"../../../use/useClasses\";\r\nimport {FormComponentRules} from \"../../form/form.validate\";\r\nimport {useTree} from \"../../tree/core/useTree\";\r\n\r\nexport type TablePropsConfig = (plcList: TablePlc[]) => Record<string, any>\r\n\r\nexport type TablePropsRowClassFunc = (node: TableNode) => MultipleClass\r\nexport type TablePropsCellClassFunc = (node: TableNode, plc: Plc) => MultipleClass\r\nexport type TablePropsCellStyleFunc = (node: TableNode, plc: Plc) => StyleProperties\r\nexport type TablePropsHeadCellClassFunc = (plc: TablePlc) => MultipleClass\r\nexport type TablePropsHeadCellStyleFunc = (plc: TablePlc) => StyleProperties\r\n\r\nexport type TablePropsSpanMethod = (socpe: { node: TableNode, plc: Plc }) => { rowspan: number, colspan: number }\r\n\r\nexport enum TablePlcAlign {\r\n    left = 'left',\r\n    center = 'center',\r\n    right = 'right',\r\n}\r\n\r\nexport enum TablePlcFixedType {\r\n    left = 'left',\r\n    center = 'center',\r\n    right = 'right',\r\n}\r\n\r\nexport const enum TableHoverPart {\r\n    body = 'body',\r\n    head = 'head'\r\n}\r\n\r\nexport const TableProps = {\r\n\r\n    /*---------------------------------------basic-------------------------------------------*/\r\n\r\n    ...StyleProps,\r\n\r\n    loading: {type: Boolean, default: null},                    // 是否开启表格的加载状态\r\n    virtual: {type: Boolean, default: false},                   // 虚拟滚动\r\n    summaryData: {type: Array as PropType<SimpleObject[]>},     // 表尾合计行数据\r\n    config: {type: Function as PropType<TablePropsConfig>},     // 配置列信息函数\r\n\r\n    rules: {type: Object as PropType<FormComponentRules>},      // 校验规则\r\n    colDraggable: {type: Boolean},                              // 列是否可以拖拽排序\r\n    spanMethod: {type: Function as PropType<TablePropsSpanMethod>},// 合并表体单元格的方法\r\n\r\n    /*---------------------------------------style-------------------------------------------*/\r\n\r\n    border: {type: Boolean},                                    // 是否带纵向边框\r\n    stripe: {type: Boolean},                                    // 是否为斑马纹table\r\n    hideHeader: {type: Boolean},                                // 是否隐藏表头\r\n    disabledStickyCompatible: {type: Boolean},                  // 是否禁用在ie下的sticky兼容\r\n    headRowHeight: {type: [String, Number], default: 45},       // 表头行高\r\n    bodyRowHeight: {type: [String, Number], default: 40},       // 表体行高\r\n    showRows: {type: Number, default: 10},                      // 表格显示的行数，当表体的行数超过这个值时，将会出现表体内部滚动，这个属性实际上就是用来设值表格高度\r\n\r\n    rowClassFunc: {type: Function as PropType<TablePropsRowClassFunc>},// 行 className 的计算函数\r\n    cellClassFunc: {type: Function as PropType<TablePropsCellClassFunc>},// 单元格 className 的计算函数\r\n    cellStyleFunc: {type: Function as PropType<TablePropsCellStyleFunc>},// 单元格 style 内联样式的计算函数\r\n    headCellClassFunc: {type: Function as PropType<TablePropsHeadCellClassFunc>},// 表头单元格的 className 的计算函数\r\n    headCellStyleFunc: {type: Function as PropType<TablePropsHeadCellStyleFunc>},// 表头单元格 style 内联样式计算函数\r\n\r\n    /*---------------------------------------tree-------------------------------------------*/\r\n    ...useTree.createProps<TableNode>(),\r\n    childrenField: {type: String, default: 'children'},         // 树节点对应子节点数据对应字段\r\n}","import {designComponent} from \"../../../../use/designComponent\";\r\nimport {PlainTable} from \"../../table\";\r\nimport Scroll from '../../../scroll'\r\nimport {renderColgroup} from \"../../plc/core/renderColgroup\";\r\nimport {PltHeadCell} from \"./head-cell\";\r\nimport {useStyles} from \"../../../../use/useStyles\";\r\nimport {TableHoverPart} from \"../table.utils\";\r\nimport {useRefs} from \"../../../../use/useRefs\";\r\n\r\nexport const PltHead = designComponent({\r\n    name: 'plt-head',\r\n    props: {\r\n        table: {type: PlainTable, required: true},\r\n    },\r\n    setup({props}) {\r\n\r\n        const {refs} = useRefs({\r\n            scroll: Scroll,\r\n        })\r\n        /*Scroll的父节点需要固定高度*/\r\n        const styles = useStyles(style => {\r\n            style.height = `${props.table.plcData.value!.headPlcListArray.length * (props.table.numberState.headRowHeight + 1)}px`\r\n        })\r\n        /*当总的列宽度大于表格宽度时，设置宽度*/\r\n        const tableStyles = useStyles(style => {\r\n            const {targetTableWidth} = props.table.plcData.value!\r\n            if (!!targetTableWidth) {\r\n                style.width = `${targetTableWidth}px`\r\n            }\r\n        })\r\n        /*表头表体联动滚动*/\r\n        const bindScroll = props.table.bindScroll(\r\n            TableHoverPart.head,\r\n            (scrollLeft, part) => part !== TableHoverPart.head && refs.scroll!.methods.scroll({x: scrollLeft}, {noEmitScroll: true})\r\n        )\r\n        /*表头支持鼠标滚动横向滚动*/\r\n        const onMousewheel = (e: WheelEvent) => {\r\n            const {deltaX, deltaY} = e\r\n            if (Math.abs(deltaY) > Math.abs(deltaX)) {\r\n                e.preventDefault()\r\n                e.stopPropagation()\r\n                refs.scroll!.refs.wrapper.scrollLeft = refs.scroll!.refs.wrapper.scrollLeft + deltaY / 3\r\n            }\r\n        }\r\n        const scrollRef = () => refs.scroll!\r\n\r\n        return {\r\n            render: () => (\r\n                <div class=\"plt-head\" style={styles.value} onMouseenter={bindScroll.onMouseenter}>\r\n                    <Scroll hideScrollbar scrollX refreshState={props.table.plcData.value!.targetTableWidth} onScroll={bindScroll.onScroll} ref=\"scroll\">\r\n                        <table {...{\r\n                            cellspacing: 0,\r\n                            cellpadding: 0,\r\n                            border: 0,\r\n                            style: tableStyles.value,\r\n                            onMousewheel: onMousewheel,\r\n                            key: props.table.plcData.value!.plcKeyString,\r\n                        }}>\r\n                            {renderColgroup(props.table.plcData.value!.flatPlcList)}\r\n                            {props.table.plcData.value!.headPlcListArray.map((array, arrayIndex) => (\r\n                                <tr style={`height:${props.table.numberState.headRowHeight}px`} key={arrayIndex}>\r\n                                    {array.map((plc) => <PltHeadCell table={props.table} tablePlc={plc} scroll={scrollRef}/>)}\r\n                                </tr>\r\n                            ))}\r\n                        </table>\r\n                    </Scroll>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../../../use/designComponent\";\r\nimport {PlainTable} from \"../../table\";\r\nimport {ComputedRef, PropType} from 'vue';\r\nimport {Plc} from \"../../plc/core/plc.type\";\r\nimport {TableNode} from \"../useTableNode\";\r\nimport {renderBodyCell} from \"../../plc/core/render\";\r\nimport {useEdit} from \"../../../../use/useEdit\";\r\nimport {StyleStatus, useStyle} from \"../../../../use/useStyle\";\r\nimport {FormValidate, FormValidateTrigger} from \"../../../form/form.validate\";\r\nimport {useClass} from \"../../../../use/useClasses\";\r\nimport {useStyles} from \"../../../../use/useStyles\";\r\n\r\nfunction useCellFormItemValidate(props: { plc: Plc, node: TableNode }, validate: ComputedRef<FormValidate>) {\r\n    const handler = {\r\n        onEditChange: async () => {\r\n            let {plc: {props: {field}}, node: {edit, data, editRow, validateResultMap}} = props\r\n            if (!validateResultMap) {props.node.validateResultMap = validateResultMap = {}}\r\n            if (!field) {return}\r\n            await validate.value.methods.validateField({\r\n                field,\r\n                formData: edit ? editRow : data,\r\n                trigger: FormValidateTrigger.change,\r\n                formValidateResultMap: validateResultMap,\r\n            })\r\n        },\r\n        onEditBlur: async () => {\r\n            let {plc: {props: {field}}, node: {edit, data, editRow, validateResultMap}} = props\r\n            if (!validateResultMap) {props.node.validateResultMap = validateResultMap = {}}\r\n            if (!field) {return}\r\n            await validate.value.methods.validateField({\r\n                field,\r\n                formData: edit ? editRow : data,\r\n                trigger: FormValidateTrigger.blur,\r\n                formValidateResultMap: validateResultMap,\r\n            })\r\n        },\r\n    }\r\n    useEdit({\r\n        adjust: ret => {\r\n            ret.disabled = null\r\n            ret.readonly = null\r\n            ret.loading = null\r\n            ret.onChange = handler.onEditChange\r\n            ret.onBlur = handler.onEditBlur\r\n        }\r\n    })\r\n    useStyle({\r\n        adjust: (ret) => {\r\n            const {node: {validateResultMap}, plc: {props: {field}}} = props\r\n            const {status} = ret\r\n            ret.status = status || ((!!field && validateResultMap && !!validateResultMap[field]) ? StyleStatus.error : undefined)\r\n            return ret\r\n        }\r\n    })\r\n}\r\n\r\nexport const PltCell = designComponent({\r\n    name: 'plt-cell',\r\n    props: {\r\n        table: {type: PlainTable, required: true},\r\n        node: {type: Object as PropType<TableNode>, required: true},\r\n        plc: {type: Object as PropType<Plc>, required: true},\r\n    },\r\n    setup({props}) {\r\n\r\n        useCellFormItemValidate(props, props.table.formValidate)\r\n\r\n        return {\r\n            render: () => {\r\n                const {node, plc} = props\r\n                const {body, editable} = renderBodyCell({node, plc})\r\n                const span = !!props.table.props.spanMethod ? props.table.props.spanMethod({node, plc}) : {rowspan: 1, colspan: 1}\r\n\r\n                if (span.rowspan === 0 || span.colspan === 0) {\r\n                    /*rowspan为0时，不会正确合并单元格，如果要合并单元格得不渲染这个td*/\r\n                    return null\r\n                }\r\n                const classes = useClass(() => {\r\n                    const ret = [\r\n                        props.plc.classes.body,\r\n                        props.plc.props.bodyCls,\r\n                        {'plt-cell-editing': editable,}\r\n                    ] as any[]\r\n                    if (!!props.table.props.cellClassFunc) {\r\n                        ret.push(props.table.props.cellClassFunc(node, plc))\r\n                    }\r\n                    return ret\r\n                })\r\n                const styles = useStyles(style => {\r\n                    Object.assign(style, plc.styles.body)\r\n                    if (!!props.table.props.cellStyleFunc) {\r\n                        Object.assign(style, props.table.props.cellStyleFunc(node, plc))\r\n                    }\r\n                })\r\n\r\n                return (\r\n                    <td{...span} class={classes.value} style={styles.value}>\r\n                        {body}\r\n                    </td>\r\n                )\r\n            }\r\n        }\r\n    },\r\n})","/**\r\n * 在遍历plc的时候，操作类型，remove意思是遍历完这一次之删除这个plc或者plc组\r\n * @author  韦胜健\r\n * @date    2020/8/14 17:26\r\n */\r\nimport {Plc, PlcGroup, TablePlc} from \"../../core/plc.type\";\r\n\r\nexport const enum IteratePlcHandleType {\r\n    remove = 'remove',                      // 移除当前节点\r\n    nothing = 'nothing'                     // 什么事也不做\r\n}\r\n\r\nexport function iteratePlcList(\r\n    {\r\n        plcList,\r\n        onPlc,\r\n        onGroup,\r\n    }: {\r\n        plcList: TablePlc[],\r\n        onPlc: (plc: Plc) => IteratePlcHandleType,\r\n        onGroup: (group: PlcGroup) => IteratePlcHandleType,\r\n    }\r\n) {\r\n\r\n    for (let i = 0; i < plcList.length; i++) {\r\n        const plc = plcList[i];\r\n        if (!plc.group) {\r\n            const handleType = onPlc(plc)\r\n            if (handleType === IteratePlcHandleType.remove) {\r\n                plcList.splice(i, 1)\r\n                i--\r\n            }\r\n        } else {\r\n            const handleType = onGroup(plc)\r\n            if (handleType === IteratePlcHandleType.remove) {\r\n                plcList.splice(i, 1)\r\n                i--\r\n            } else {\r\n                iteratePlcList({plcList: plc.children, onPlc, onGroup,})\r\n                // 当这个分组没有列的时候（可能都隐藏了），自动删除这个分组\r\n                if (plc.children.length === 0) {\r\n                    plcList.splice(i, 1)\r\n                    i--\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n}","import {designComponent} from \"../../../../use/designComponent\";\r\nimport {PlainTable} from \"../../table\";\r\nimport {PropType} from 'vue';\r\nimport {PltCell} from \"./cell\";\r\nimport {TableNode} from \"../useTableNode\";\r\nimport {useClass} from \"../../../../use/useClasses\";\r\n\r\nexport const PltRow = designComponent({\r\n    name: 'plt-row',\r\n    props: {\r\n        table: {type: PlainTable, required: true},\r\n        node: {type: Object as PropType<TableNode>, required: true},\r\n        vid: {type: [String, Number]},\r\n    },\r\n    setup({props}) {\r\n\r\n        const handler = {\r\n            onClick: (e: MouseEvent) => props.table.handler.onClickRow(e, props.node),\r\n            onDblclick: (e: MouseEvent) => props.table.handler.onDblclickRow(e, props.node),\r\n            vid: props.vid,\r\n        }\r\n\r\n        const classes = useClass(() => {\r\n            const ret = [\r\n                'plt-row',\r\n                {\r\n                    'plt-row-current': props.table.current.value === props.node.key\r\n                }\r\n            ] as any[]\r\n            if (!!props.table.props.rowClassFunc) {\r\n                ret.push(props.table.props.rowClassFunc(props.node))\r\n            }\r\n            return ret\r\n        })\r\n\r\n        return {\r\n            render: () => {\r\n                const content = [\r\n                    (\r\n                        <tr class={classes.value} style={`height:${props.table.numberState.bodyRowHeight}px`} {...handler}>\r\n                            {props.table.plcData.value!.flatPlcList.map(plc => <PltCell table={props.table} node={props.node} plc={plc}/>)}\r\n                        </tr>\r\n                    ),\r\n                ]\r\n                if (props.table.plcData.value!.plcListHasRenderAfterRow) {\r\n                    content.push(...props.table.plcData.value!.plcListHasRenderAfterRow.map(plc => plc.props.renderAfterRow!({\r\n                        node: props.node,\r\n                        plc,\r\n                        row: props.node.data,\r\n                    }) as Element))\r\n                }\r\n\r\n                return content.filter(Boolean)\r\n            }\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport Scroll from '../scroll'\r\nimport {PropType} from 'vue';\r\nimport {SimpleObject} from \"../../shims\";\r\nimport {useScopedSlots} from \"../../use/useScopedSlots\";\r\nimport {useVirtualList} from \"../virutal-list/useVirtualList\";\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {unit} from \"plain-utils/string/unit\";\r\n\r\nexport const VirtualTable = designComponent({\r\n    name: 'pl-virtual-table',\r\n    props: {\r\n        data: {type: Array as PropType<SimpleObject[]>, require: true, default: []},// 要渲染的长数据\r\n        size: {type: Number, require: true, default: 40},           // 每一行高度\r\n        dynamicSize: {type: Boolean},                               // 标识列表中的每一行高度不是固定的，但是还是需要提供 size 属性，而且size属性不能与每一行的高度差距太多；\r\n        disabled: {type: Boolean},                                  // 禁用虚拟滚动\r\n\r\n        summaryData: {type: Array as PropType<SimpleObject[]>},     // 合计行数据\r\n        width: {type: Number},                                      // 宽度\r\n        height: {type: Number},                                     // 高度\r\n    },\r\n    emits: {\r\n        onScroll: (e: Event) => true\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const {slots} = useSlots(['colgroup'])\r\n        const {scopedSlots} = useScopedSlots({default: {item: Object, index: Number}})\r\n        const {refs} = useRefs({\r\n            scroll: Scroll,\r\n            content: HTMLDivElement,\r\n            summary: HTMLDivElement,\r\n        })\r\n\r\n        const {virtual} = useVirtualList({props, refs, emit,})\r\n\r\n        /*---------------------------------------computed-------------------------------------------*/\r\n        const styles = useStyles(style => {\r\n            style.height = unit(props.height)\r\n        })\r\n        const tableStyles = useStyles((style) => {\r\n            !!props.width && (style.width = unit(props.width))\r\n        })\r\n\r\n        const summaryTableStyles = useStyles((styles) => {\r\n            Object.assign(styles, tableStyles.value)\r\n            styles.height = `${!props.summaryData ? 0 : props.summaryData.length * props.size}px`\r\n            styles.bottom = '6px'\r\n        })\r\n\r\n        const strutStyles = useStyles(style => {\r\n            Object.assign(style, virtual.strutStyles.value)\r\n            !!props.width && (style.width = unit(props.width));\r\n            style.paddingBottom = `${(props.summaryData || []).length * props.size}px`\r\n        })\r\n\r\n        const handler = {\r\n            onScroll: (e: any) => {\r\n                virtual.handler.onScroll(e)\r\n                !!refs.summary && (refs.summary.scrollLeft = e.target.scrollLeft)\r\n            }\r\n        }\r\n\r\n        return {\r\n            refer: {\r\n                refs\r\n            },\r\n            render: () => {\r\n\r\n                const {list} = virtual.offsetData.value\r\n\r\n                return (\r\n                    <div style={styles.value} class=\"pl-virtual-table\">\r\n                        <Scroll\r\n                            refreshState={props.width}\r\n                            ref=\"scroll\"\r\n                            disableListTransition\r\n                            onScroll={handler.onScroll}\r\n                            scrollX\r\n                            class={virtual.classes.value}\r\n                            horizontalScrollbarTooltip={'推荐【表头使用鼠标滚轮】，或者【表体Alt键+鼠标滚轮】横向滚动'}\r\n                            v-slots={{\r\n                                default: () => (<div class=\"pl-virtual-list-strut\" style={strutStyles.value}>\r\n                                    <div class=\"pl-virtual-list-content\" ref=\"content\" style={virtual.contentStyles.value}>\r\n                                        <table {...{cellpadding: 0, cellspacing: 0, border: 0, style: tableStyles.value}}>\r\n                                            {slots.colgroup()}\r\n                                            {list.map((node) => scopedSlots.default(node))}\r\n                                        </table>\r\n                                    </div>\r\n                                </div>),\r\n                                content: !props.summaryData || props.summaryData.length === 0 ? null : () => (\r\n                                    <div class=\"pl-virtual-table-summary-table-wrapper\" ref=\"summary\">\r\n                                        <table {...{cellpadding: 0, cellspacing: 0, border: 0, style: summaryTableStyles.value}}\r\n                                               class=\"pl-virtual-table-summary-table\">\r\n                                            {slots.colgroup()}\r\n                                            {!props.summaryData ? null : props.summaryData.map((item, index) => scopedSlots.default({item, index}))}\r\n                                        </table>\r\n                                    </div>\r\n                                ),\r\n                            }}/>\r\n                    </div>\r\n                )\r\n            }\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../../../use/designComponent\";\r\nimport {PlainTable} from \"../../table\";\r\nimport {PltRow} from \"./row\";\r\nimport {VirtualTable} from \"../../virtual-table\";\r\nimport {renderColgroup} from \"../../plc/core/renderColgroup\";\r\nimport {useRefs} from \"../../../../use/useRefs\";\r\nimport {TableHoverPart} from \"../table.utils\";\r\nimport {TableNode} from \"../useTableNode\";\r\nimport {PlainScroll} from \"../../../scroll/scroll\";\r\n\r\nexport const PltBody = designComponent({\r\n    name: 'plt-head',\r\n    props: {\r\n        table: {type: PlainTable, required: true},\r\n    },\r\n    setup({props}) {\r\n\r\n        const {refs} = useRefs({\r\n            virtual: VirtualTable,\r\n        })\r\n        /*表头表体联动滚动*/\r\n        const bindScroll = props.table.bindScroll(\r\n            TableHoverPart.body,\r\n            (scrollLeft, part) => part !== TableHoverPart.body && refs.virtual!.refs.scroll!.methods.scroll({x: scrollLeft}, {noEmitScroll: true})\r\n        );\r\n\r\n        const handler = {\r\n            /*表体支持alt+鼠标滚动联动滚动*/\r\n            onMousewheel: (e: MouseWheelEvent) => {\r\n                const {deltaX, deltaY} = e\r\n                if (e.altKey && Math.abs(deltaY) > Math.abs(deltaX)) {\r\n                    e.preventDefault()\r\n                    e.stopPropagation()\r\n                    refs.virtual!.refs.scroll!.refs.wrapper.scrollLeft = refs.virtual!.refs.scroll!.refs.wrapper.scrollLeft + deltaY / 3\r\n                }\r\n            },\r\n            onVnodeMounted: () => {\r\n                props.table.event.emit.onVirtualMounted({scroll: refs.virtual!.refs.scroll as PlainScroll})\r\n            }\r\n        }\r\n\r\n        return {\r\n            render: () => (\r\n                <VirtualTable\r\n                    class=\"plt-body\"\r\n                    ref=\"virtual\"\r\n                    key={props.table.plcData.value!.plcKeyString}\r\n                    width={props.table.plcData.value!.targetTableWidth!}\r\n                    size={props.table.numberState.bodyRowHeight}\r\n                    data={props.table.flatNodes.value}\r\n                    summaryData={props.table.summaryNodes.value || undefined}\r\n                    height={props.table.props.showRows * props.table.numberState.bodyRowHeight + 12}\r\n                    disabled={props.table.disabledVirtual.value}\r\n                    {...bindScroll}\r\n                    {...handler}\r\n                    v-slots={{\r\n                        default: ({item, index}: { item: TableNode, index: number }) => (\r\n                            <PltRow\r\n                                {...{vid: index}}\r\n                                key={index}\r\n                                table={props.table}\r\n                                node={item}\r\n                            />\r\n                        ),\r\n                        colgroup: () => renderColgroup(props.table.plcData.value!.flatPlcList)\r\n                    }}\r\n                />\r\n            )\r\n        }\r\n    },\r\n})","import {StyleProperties, VNodeChild} from \"../../../../shims\";\r\nimport {TablePlc, TableRenderScope} from \"./plc.type\";\r\nimport {TablePlcAlign, TablePlcFixedType} from \"../../core/table.utils\";\r\nimport {PropType} from 'vue';\r\nimport {TableNode} from \"../../core/useTableNode\";\r\nimport {MultipleClass} from \"../../../../use/useClasses\";\r\nimport {FormRule} from \"../../../form/form.validate\";\r\n\r\nexport type PlcRenderFunction = (scope: TableRenderScope) => VNodeChild\r\nexport type PlcPropsHead = (scope: { plc: TablePlc }) => VNodeChild\r\nexport type PlcPropsDefault = PlcRenderFunction\r\nexport type PlcPropsSummary = PlcRenderFunction\r\nexport type PlcPropsEdit = PlcRenderFunction\r\nexport type PlcPropsRenderAfterRow = PlcRenderFunction\r\nexport type PlcPropsEditable = boolean | ((node: TableNode) => boolean)\r\n\r\nexport const PlcGroupProps = {\r\n    title: {type: String},                                                  // 列标题\r\n    align: {type: String as PropType<TablePlcAlign>},                       // 非编辑状态下文本对其方式\r\n    noPadding: {type: Boolean},                                             // 是否不兼容表格的虚拟滚动功能\r\n    colDraggable: {type: Boolean, default: null},                           // 列是否可以拖拽排序\r\n\r\n    hide: {type: Boolean},                                                  // 是否隐藏\r\n    order: {type: [String, Number]},                                        // 列排序\r\n    fixed: {type: String as PropType<TablePlcFixedType>, default: TablePlcFixedType.center},// 冻结列位置：left、right、undefined\r\n    autoFixedLeft: {type: Boolean},                                         // 当出现左固定列的时候，是否自动设置为左固定列\r\n    autoFixedRight: {type: Boolean},                                        // 当出现右固定列的时候，是否自动设置为右固定列\r\n\r\n    headCls: {},                                                            // 给表头添加的class\r\n    bodyCls: {},                                                            // 给表体添加的class\r\n}\r\n\r\nexport const PlcProps = {\r\n    ...PlcGroupProps,\r\n    field: {type: String},                                                  // 列绑定字段\r\n    width: {type: [String, Number], default: 120},                          // 列宽度\r\n    fit: {type: Boolean},                                                   // 列宽自适应(只有一个列能够自适应)\r\n    notFitVirtual: {type: Boolean},                                         // 是否不兼容表格的虚拟滚动功能\r\n\r\n    // 渲染函数\r\n    head: {type: Function as PropType<PlcPropsHead>},                       // 列标题渲染函数\r\n    default: {type: Function as PropType<PlcPropsDefault>},                 // 列内容默认渲染函数\r\n    summary: {type: Function as PropType<PlcPropsSummary>},                 // 列内容在合计行上的渲染函数\r\n    edit: {type: Function as PropType<PlcPropsEdit>},                       // 列内容在编辑状态下的渲染函数\r\n    renderAfterRow: {type: Function as PropType<PlcPropsRenderAfterRow>},   // 行之后需要额外渲染的内容\r\n\r\n    // 编辑相关\r\n    required: {type: Boolean},                                              // 是否必填\r\n    rules: {type: [Object, Array] as PropType<FormRule | FormRule[]>},      // 校验规则\r\n    editable: {type: [Boolean, Function] as PropType<PlcPropsEditable>, default: true},// 是否可编辑\r\n    addEditPadding: {type: Boolean},                                        // 处于编辑状态的时候，是否添加内编辑，只有当行状态为编辑状态，并且列有edit渲染函数或者作用域插槽时，才符合“处于编辑状态”的条件\r\n}\r\n\r\nexport type PlcPublicAttrsType = {\r\n    level: number,                      // 分组表头层级\r\n    rowspan: number,                    // 表头td的rowspan\r\n    colspan: number,                    // 表头td的colspan\r\n    isLastFixedLeft: boolean,           // 是否为最后一个左固定列\r\n    isFirstFixedRight: boolean,         // 是否为第一个右固定列\r\n    fixedPosition: {                    // 固定列的sticky位置\r\n        left: number,\r\n        right: number,\r\n    },\r\n    // 列style公共内联样式\r\n    styles: {\r\n        head: StyleProperties,\r\n        body: StyleProperties,\r\n    },\r\n    // 列公共class样式\r\n    classes: {\r\n        head: MultipleClass,\r\n        body: MultipleClass,\r\n    },\r\n}\r\n\r\n/**\r\n * Plc以及PlcGroup公共的一些属性\r\n * @author  韦胜健\r\n * @date    2020/12/18 14:41\r\n */\r\nexport const PlcPublicAttrs: PlcPublicAttrsType = {\r\n    level: 0,\r\n    rowspan: 1,\r\n    colspan: 1,\r\n    isLastFixedLeft: false,\r\n    isFirstFixedRight: false,\r\n    fixedPosition: {\r\n        left: 0,\r\n        right: 0,\r\n    },\r\n    styles: {\r\n        head: {},\r\n        body: {},\r\n    },\r\n    classes: {\r\n        head: [],\r\n        body: [],\r\n    },\r\n}","import {TablePlc} from \"../../core/plc.type\";\r\nimport {deepcopy} from \"plain-utils/object/deepcopy\";\r\nimport {PlcPublicAttrs} from \"../../core/plc.utils\";\r\n\r\n/**\r\n * 浅复制一份plc数据，复制plc最外层对象以及plc.props数据，props数据是需要动态计算修改的。\r\n * state不能复制，因为需要其响应式属性。\r\n * @author  韦胜健\r\n * @date    2020/12/18 10:06\r\n */\r\nexport function copyPlcList(plcList: TablePlc[]) {\r\n    return plcList.map(plc => {\r\n        const refer = plc.refer()\r\n        const newPlc: TablePlc = {\r\n            ...refer,\r\n            ...deepcopy(PlcPublicAttrs),\r\n        }\r\n        newPlc.props = {...newPlc.props}\r\n        if (newPlc.group) {\r\n            newPlc.children = copyPlcList(newPlc.children)\r\n        }\r\n        return newPlc\r\n    })\r\n}","import {TablePlc} from \"../../core/plc.type\";\r\nimport {TablePlcFixedType, TablePropsConfig} from \"../../../core/table.utils\";\r\nimport {IteratePlcHandleType, iteratePlcList} from \"../utils/iteratePlcList\";\r\n\r\n/**\r\n * 处理Plc以及PlcGroup公共的，逻辑\r\n * @author  韦胜健\r\n * @date    2020/12/18 11:18\r\n */\r\nfunction handleTablePlc(plc: TablePlc, configData: { [k: string]: any } | null) {\r\n    const props = plc.props as any\r\n    const state = plc.state as any\r\n    // 如果有config，将config中的属性覆盖props\r\n    const configPlc = !configData ? null : configData[`${!plc.group ? plc.props.field : 'group'}_${plc.props.title}`]\r\n    if (!!configPlc) {\r\n        Object.keys(configPlc).forEach(key => {\r\n            if (configPlc[key] != null) props[key] = configPlc[key]\r\n        })\r\n    }\r\n    // 如果有state，将state中的属性覆盖props\r\n    Object.keys(plc.state).forEach(key => {\r\n        if (state[key] != null) props[key] = state[key]\r\n    })\r\n}\r\n\r\n/**\r\n * 处理plc的数据，以state、config、props为顺序，优先级依次递减，\r\n * 得到一个最终的plc.props 对象\r\n * @author  韦胜健\r\n * @date    2020/12/18 11:08\r\n */\r\nexport function processStateConfigAndProps(\r\n    {\r\n        plcList,\r\n        config,\r\n    }: {\r\n        plcList: TablePlc[],\r\n        config?: TablePropsConfig,\r\n    }\r\n) {\r\n    const configData = !config ? null : config(plcList)\r\n\r\n    const configState = {\r\n        notFitVirtual: [] as TablePlc[],                        // 不能使用虚拟滚动的列\r\n        fixedLeft: [] as TablePlc[],                            // 左固定的列\r\n        fixedRight: [] as TablePlc[],                           // 右固定的列\r\n        autoFixedLeft: [] as TablePlc[],                        // 需要自动左固定的列\r\n        autoFixedRight: [] as TablePlc[],                       // 需要自动右固定的列\r\n    }\r\n\r\n    /**\r\n     * - 根基plc的config，计算plc的属性。\r\n     * - 计算出需要自动左固定的plc，自动右固定的plc，左固定的plc，右固定的plc；以及计算出不兼容虚拟滚动的plc；\r\n     * - 如果group设置了自动左右固定或者左右固定，那么他的子组件plc或者group也要改成和父group一致的值；\r\n     * - 将隐藏的plc从group的子节点数据中移除\r\n     * @author  韦胜健\r\n     * @date    2020/8/12 10:24\r\n     */\r\n    iteratePlcList({\r\n        plcList,\r\n        onPlc: plc => {\r\n            handleTablePlc(plc, configData)\r\n            // 如果是隐藏的列，则删除这一列\r\n            if (plc.props.hide) {\r\n                return IteratePlcHandleType.remove\r\n            }\r\n            if (plc.props.notFitVirtual) configState.notFitVirtual.push(plc)\r\n            if (plc.props.autoFixedLeft) configState.autoFixedLeft.push(plc)\r\n            if (plc.props.autoFixedRight) configState.autoFixedRight.push(plc)\r\n            if (plc.props.fixed === TablePlcFixedType.left) configState.fixedLeft.push(plc)\r\n            if (plc.props.fixed === TablePlcFixedType.right) configState.fixedRight.push(plc)\r\n            return IteratePlcHandleType.nothing\r\n        },\r\n        onGroup: group => {\r\n            handleTablePlc(group, configData)\r\n            if (group.props.hide) {\r\n                return IteratePlcHandleType.remove\r\n            }\r\n            // 表头分组，子节点的固定方式，以及左固定、右固定随父节点控制\r\n            group.children.forEach(plc => {\r\n                plc.props.fixed = group.props.fixed\r\n                plc.props.autoFixedLeft = group.props.autoFixedLeft\r\n                plc.props.autoFixedRight = group.props.autoFixedRight\r\n            })\r\n            return IteratePlcHandleType.nothing\r\n        },\r\n    })\r\n\r\n    /**\r\n     * 在最终排序的时候，要求fixed是正确的，而跟autoFixedLeft，autoFixedRight的值无关\r\n     * @author  韦胜健\r\n     * @date    2020/12/18 11:26\r\n     */\r\n\r\n    /*如果存在左固定列，则设置autoFixedLeft为左固定*/\r\n    if (configState.fixedLeft.length > 0) {configState.autoFixedLeft.forEach(plc => plc.props.fixed = TablePlcFixedType.left)}\r\n\r\n    /*如果存在右固定列，则设置autoFixedRight为右固定*/\r\n    if (configState.fixedRight.length > 0) {configState.autoFixedRight.forEach(plc => plc.props.fixed = TablePlcFixedType.right)}\r\n\r\n    return configState\r\n}","import {Plc, TablePlc} from \"../../core/plc.type\";\r\nimport {IteratePlcHandleType, iteratePlcList} from \"../utils/iteratePlcList\";\r\nimport {insertSort} from \"plain-utils/object/insertSort\";\r\nimport {TablePlcFixedType} from \"../../../core/table.utils\";\r\n\r\n/**\r\n * 获取plc的排序索引\r\n * @author  韦胜健\r\n * @date    2020/12/18 14:23\r\n */\r\nfunction getPlcOrder(item: TablePlc): number {\r\n    let order = item.props.order || 0\r\n    if (item.props.fixed === TablePlcFixedType.left) {\r\n        order -= 9999\r\n    } else if (item.props.fixed === TablePlcFixedType.right) {\r\n        order += 9999\r\n    }\r\n    return Number(order)\r\n}\r\n\r\n/**\r\n * 对plc进行排序\r\n * @author  韦胜健\r\n * @date    2020/8/15 19:18\r\n */\r\nexport function processPlcSort(\r\n    {\r\n        plcList,\r\n        tableWidth,\r\n    }: {\r\n        plcList: TablePlc[],\r\n        tableWidth: number,\r\n    }\r\n) {\r\n    insertSort(plcList, (a, b) => getPlcOrder(a) > getPlcOrder(b))\r\n    /*计算 flatPlcList 自己 targetTableWidth*/\r\n    const flatPlcList = [] as Plc[]\r\n    iteratePlcList({\r\n        plcList,\r\n        onPlc: plc => {\r\n            flatPlcList.push(plc)\r\n            return IteratePlcHandleType.nothing\r\n        },\r\n        onGroup: group => {\r\n            group.children = insertSort(group.children, (a, b) => getPlcOrder(a) > getPlcOrder(b))\r\n            return IteratePlcHandleType.nothing\r\n        }\r\n    })\r\n\r\n    /*计算表格需要固定的宽度*/\r\n    const {targetTableWidth, plcKeyString} = (() => {\r\n        let totalPlcWidth = 0;                                          // 总的plc宽度\r\n        let fitPlc = null as null | Plc                                 // 需要自适应宽度的plc\r\n        const plcKeyString = [] as string[]\r\n        flatPlcList.forEach(plc => {\r\n            totalPlcWidth += plc.props.width\r\n            if (plc.props.fit) {\r\n                fitPlc = plc\r\n            } else if ((!fitPlc || !fitPlc.props.fit) && plc.props.fixed === TablePlcFixedType.center) {\r\n                fitPlc = plc\r\n            }\r\n            plcKeyString.push(plc.props.field || 'empty')\r\n        })\r\n        /**\r\n         * 目标table宽度，当总宽度小于tableWidth时，table不设置width宽度。因为table设置了min-width为100%，此时fit的列会自适应宽度。\r\n         * 当总宽度大于tableWidth时，table需要设置width宽度，否则会导致列被压缩\r\n         * @author  韦胜健\r\n         * @date    2020/12/18 15:28\r\n         */\r\n        let targetTableWidth = totalPlcWidth > tableWidth ? totalPlcWidth : null\r\n        if (!targetTableWidth && !!fitPlc) {\r\n            fitPlc.props.width = 0\r\n        }\r\n        return {targetTableWidth, plcKeyString: plcKeyString.join('_')}\r\n    })();\r\n\r\n    return {\r\n        targetTableWidth,\r\n        flatPlcList,\r\n        plcKeyString,\r\n    }\r\n}","import {TablePlc} from \"../../core/plc.type\";\r\nimport {TablePlcFixedType} from \"../../../core/table.utils\";\r\n\r\n/**\r\n * 计算渲染表头所需要的二维数组以及层数\r\n * @author  韦胜健\r\n * @date    2020/12/18 14:38\r\n */\r\nexport function processHeadPlcList({plcList}: { plcList: TablePlc[] }) {\r\n    // 最大表头层数\r\n    let maxLevel = 1\r\n    // 计算最大层数\r\n    const calculateLevel = (list: TablePlc[] | null, level: number) => {\r\n        if (!!list && list.length > 0) {\r\n            if (level > maxLevel) maxLevel = level\r\n            list.forEach((item) => {\r\n                item.level = level - 1\r\n                if (item.group) {\r\n                    calculateLevel((item).children, level + 1)\r\n                }\r\n            })\r\n        }\r\n    }\r\n    calculateLevel(plcList, 1)\r\n\r\n    // 计算多级表头每个单元格所占行数以及列数\r\n    const calculateSpan = (item: TablePlc) => {\r\n        if (item.group) {\r\n            const group = item\r\n            group.children.forEach(calculateSpan)\r\n            group.rowspan = 1\r\n            group.colspan = 0\r\n            group.children.forEach(i => group.colspan += i.colspan)\r\n        } else {\r\n            const plc = item\r\n            plc.rowspan = maxLevel - plc.level\r\n            plc.colspan = 1\r\n        }\r\n    }\r\n    plcList.forEach(plc => calculateSpan(plc))\r\n\r\n    // 计算结果\r\n    const headPlcListArray: TablePlc[][] = []\r\n\r\n    for (let j = 0; j < maxLevel; j++) headPlcListArray.push([])\r\n    // 收集多级表头渲染数据\r\n    const calculateHeadColumns = (list: TablePlc[]) => {\r\n        if (!!list && list.length > 0) {\r\n            list.forEach((item) => {\r\n                headPlcListArray[item.level!].push(item)\r\n                if (item.group) {\r\n                    calculateHeadColumns((item).children)\r\n                }\r\n            })\r\n        }\r\n    }\r\n    calculateHeadColumns(plcList)\r\n    setFixedFlag(headPlcListArray[0])\r\n\r\n    return {\r\n        headPlcListArray,\r\n        maxLevel,\r\n    }\r\n}\r\n\r\n/**\r\n * 对plc设置标记，是否为最后一个左固定列，是否为第一个右固定列\r\n * @author  韦胜健\r\n * @date    2020/8/15 23:06\r\n */\r\nfunction setFixedFlag(plcList: TablePlc[]) {\r\n    let lastFixedLeft: TablePlc | undefined;\r\n    let firstFixedRight: TablePlc | undefined;\r\n\r\n    plcList.forEach(plc => {\r\n        if (plc.props.fixed === TablePlcFixedType.left) {\r\n            lastFixedLeft = plc\r\n        }\r\n        if (!firstFixedRight && plc.props.fixed === TablePlcFixedType.right) {\r\n            firstFixedRight = plc\r\n        }\r\n    })\r\n\r\n    /**\r\n     * 递归设置，每一层的lastFixedLeft\r\n     * @author  韦胜健\r\n     * @date    2020/12/18 14:46\r\n     */\r\n    function setLastFixedLeft(plc: TablePlc) {\r\n        plc.isLastFixedLeft = true\r\n        if (plc.group) {\r\n            setLastFixedLeft(plc.children[plc.children.length - 1])\r\n        }\r\n    }\r\n\r\n    !!lastFixedLeft && setLastFixedLeft(lastFixedLeft);\r\n\r\n    /**\r\n     * 递归设置每一层的firstFixedRight\r\n     * @author  韦胜健\r\n     * @date    2020/12/18 14:46\r\n     */\r\n    function setFirstFixedRight(plc: TablePlc) {\r\n        plc.isFirstFixedRight = true\r\n        if (plc.group) {\r\n            setFirstFixedRight(plc.children[0])\r\n        }\r\n    }\r\n\r\n    !!firstFixedRight && setFirstFixedRight(firstFixedRight)\r\n}","import {Plc, TablePlc} from \"../../core/plc.type\";\r\nimport {TablePlcFixedType} from \"../../../core/table.utils\";\r\nimport {StyleProperties} from \"../../../../../shims\";\r\n\r\n/**\r\n * 处理plc的fixed定位\r\n * @author  韦胜健\r\n * @date    2020/12/19 16:50\r\n */\r\nexport function processPlcFixed(flatPlcList: Plc[]) {\r\n    const collect = (() => {\r\n        const left = [] as Plc[]\r\n        const right = [] as Plc[]\r\n        flatPlcList.forEach(plc => {\r\n            switch (plc.props.fixed) {\r\n                case TablePlcFixedType.left:\r\n                    left.push(plc)\r\n                    break\r\n                case TablePlcFixedType.right:\r\n                    right.push(plc)\r\n                    break\r\n            }\r\n        })\r\n        return {\r\n            left,\r\n            right,\r\n        }\r\n    })();\r\n    const width = {\r\n        left: 0,\r\n        right: 0,\r\n    };\r\n    Object.keys(collect).forEach((item) => {\r\n        const key = item as 'left' | 'right'\r\n        let list = collect[key]!\r\n        if (key === 'right') {list = list.reverse()}\r\n\r\n        for (let i = 0; i < list.length; i++) {\r\n            const element = list[i];\r\n            width[key] += element.props.width\r\n            if (i === 0) {\r\n                element.fixedPosition[key] = 0\r\n            } else {\r\n                const {props: {width: prevWidth}, fixedPosition: {[key]: prevValue}} = list[i - 1]!\r\n                element.fixedPosition[key] = Number(prevWidth) + prevValue\r\n            }\r\n        }\r\n    })\r\n}\r\n\r\n/**\r\n * 获取plcFixed样式\r\n * @author  韦胜健\r\n * @date    2020/12/19 16:55\r\n */\r\nexport function getPlcFixedStyle(plc: TablePlc) {\r\n    const {props: {fixed}} = plc\r\n    const styles = {} as StyleProperties\r\n    if (fixed === TablePlcFixedType.center) {\r\n        return styles\r\n    }\r\n    styles.position = 'sticky'\r\n    styles.zIndex = 3\r\n\r\n    if (!plc.group) {\r\n        styles[fixed] = plc.fixedPosition[fixed] + 'px'\r\n    } else {\r\n        let count = 10\r\n        const isFixedLeft = fixed === TablePlcFixedType.left\r\n        while (!!plc && plc.group && count > 0) {\r\n            plc = plc.children[isFixedLeft ? 0 : plc.children.length - 1]\r\n            count--\r\n        }\r\n        if (count === 0 && !!plc) {\r\n            throw new Error('解析异常')\r\n        }\r\n        if (!!plc) {\r\n            styles[fixed] = plc.fixedPosition[fixed] + 'px'\r\n        }\r\n    }\r\n    return styles\r\n}","import {TablePlc} from \"../../core/plc.type\";\r\n\r\nexport function getPltCellClass(plc: TablePlc) {\r\n    return {\r\n        // 'pl-cell-group': plc.group,\r\n        [`plt-cell-align-${plc.props.align}`]: !!plc.props.align,\r\n    }\r\n}","import {TablePlc} from \"../../core/plc.type\";\r\nimport {getPlcFixedStyle} from \"./processPlcFixed\";\r\nimport {getPltCellClass} from \"./getPltCellClass\";\r\n\r\nexport function processPlcClassAndStyle(\r\n    {\r\n        headPlcListArray,\r\n    }: {\r\n        headPlcListArray: TablePlc[][],\r\n    }\r\n) {\r\n    headPlcListArray.forEach((list) => {\r\n        list.forEach((plc) => {\r\n            /*---------------------------------------head-------------------------------------------*/\r\n            plc.styles.head = getPlcFixedStyle(plc)\r\n            plc.classes.head = [\r\n                'plt-cell',\r\n                'plt-head-cell',\r\n                {\r\n                    ...getPltCellClass(plc),\r\n                    'plt-cell-last-fixed-left': plc.isLastFixedLeft,\r\n                    'plt-cell-first-fixed-right': plc.isFirstFixedRight,\r\n                    'plt-cell-no-padding': plc.props.noPadding,\r\n                }\r\n            ]\r\n            /*---------------------------------------body-------------------------------------------*/\r\n            if (!plc.group) {\r\n                plc.styles.body = getPlcFixedStyle(plc)\r\n                plc.classes.body = [\r\n                    'plt-cell',\r\n                    'plt-body-cell',\r\n                    {\r\n                        ...getPltCellClass(plc),\r\n                        'plt-cell-add-edit-padding': plc.props.addEditPadding,\r\n                        'plt-cell-last-fixed-left': plc.isLastFixedLeft,\r\n                        'plt-cell-first-fixed-right': plc.isFirstFixedRight,\r\n                        'plt-cell-no-padding': plc.props.noPadding,\r\n                    },\r\n                ]\r\n            }\r\n        })\r\n    })\r\n}","import {Plc, TablePlc} from \"../core/plc.type\";\r\nimport {copyPlcList} from \"./process/copyPlcList\";\r\nimport {processStateConfigAndProps} from \"./process/processStateConfigAndProps\";\r\nimport {ExtractPropTypes} from 'vue';\r\nimport {TableProps} from \"../../core/table.utils\";\r\nimport {processPlcSort} from \"./process/processPlcSort\";\r\nimport {processHeadPlcList} from \"./process/processHeadPlcList\";\r\nimport {processPlcFixed} from \"./process/processPlcFixed\";\r\nimport {processPlcClassAndStyle} from \"./process/processPlcClassAndStyle\";\r\n\r\nexport function formatPlcList(\r\n    {\r\n        plcList,\r\n        props,\r\n        tableWidth,\r\n    }: {\r\n        plcList: TablePlc[],\r\n        props: ExtractPropTypes<typeof TableProps>,\r\n        tableWidth: number,\r\n    }\r\n) {\r\n    /*复制一份plc数据*/\r\n    plcList = copyPlcList(plcList)\r\n    /*处理state、config以及props*/\r\n    const {notFitVirtual} = processStateConfigAndProps({plcList, config: props.config})\r\n    /*对plc进行排序*/\r\n    const {flatPlcList, targetTableWidth, plcKeyString} = processPlcSort({plcList, tableWidth})\r\n    /*计算表头渲染需要的数据*/\r\n    const {headPlcListArray, maxLevel} = processHeadPlcList({plcList})\r\n    /*计算固定列所需要的left，right值*/\r\n    processPlcFixed(flatPlcList)\r\n    /*计算plc的class以及style*/\r\n    processPlcClassAndStyle({headPlcListArray})\r\n\r\n    /*需要在行之后渲染其他内容的plcList*/\r\n    let plcListHasRenderAfterRow = flatPlcList.filter(plc => plc.props.renderAfterRow) as (Plc[] | null)\r\n    if (!!plcListHasRenderAfterRow && plcListHasRenderAfterRow.length === 0) {plcListHasRenderAfterRow = null}\r\n\r\n    return {\r\n        plcList,                                                // 列数组数据，树形结构的数据\r\n        flatPlcList,                                            // 展开之后最底层的列数组\r\n        targetTableWidth,                                       // 表格宽度\r\n        notFitVirtual,                                          // 不兼容虚拟列表的列数组\r\n        headPlcListArray,                                       // 表头渲染的二维数组\r\n        plcKeyString,                                           // 当列排序或者其他属性变化之后，需要刷新body，否则会出现部分节点没有更新的问题\r\n        maxLevel,                                               // 表头层级\r\n        plcListHasRenderAfterRow,                               // 列需要在行之后多渲染的数据\r\n    }\r\n}","import {computed, ExtractPropTypes, onMounted, reactive} from 'vue';\r\nimport {useRefs} from \"../../../../use/useRefs\";\r\nimport {TableProps} from \"../../core/table.utils\";\r\nimport {useNumber} from \"../../../../use/useNumber\";\r\nimport PlcCollector from \"../core/plc-collector\";\r\nimport {formatPlcList} from \"./formatPlcList\";\r\n\r\nexport function usePlcList(\r\n    {\r\n        props,\r\n    }: {\r\n        props: ExtractPropTypes<typeof TableProps>\r\n    }\r\n) {\r\n\r\n    const {refs} = useRefs({\r\n        collector: PlcCollector,\r\n        el: HTMLDivElement,\r\n    })\r\n\r\n    /*---------------------------------------state-------------------------------------------*/\r\n\r\n    const state = reactive({\r\n        /*表格宽度*/\r\n        tableWidth: null as null | number,\r\n    })\r\n    const {numberState} = useNumber(props, ['bodyRowHeight', 'headRowHeight'])\r\n\r\n    /*---------------------------------------computed-------------------------------------------*/\r\n\r\n    const plcData = computed(() => {\r\n        if (!state.tableWidth) {\r\n            return null\r\n        }\r\n        const {children} = refs.collector!\r\n        return formatPlcList({\r\n            plcList: children,\r\n            props,\r\n            tableWidth: state.tableWidth,\r\n        })\r\n    })\r\n\r\n    onMounted(() => {\r\n        state.tableWidth = refs.el.offsetWidth\r\n    })\r\n\r\n    return {\r\n        numberState,\r\n        plcData,\r\n    }\r\n}","import {TableHoverPart} from \"./table.utils\";\r\nimport {ref} from 'vue';\r\n\r\n/**\r\n * 绑定表头表体联动滚动\r\n * @author  韦胜健\r\n * @date    2020/12/18 16:27\r\n */\r\nexport function useBindScroll(\r\n    event: {\r\n        emit: {\r\n            onScrollLeft: (scrollLeft: number, part: TableHoverPart) => void,\r\n        },\r\n        on: {\r\n            onScrollLeft: (cb: (scrollLeft: number, part: TableHoverPart) => void) => void,\r\n        },\r\n    }\r\n) {\r\n    const hoverPart = ref(null as null | TableHoverPart)\r\n    return {\r\n        bindScroll: (part: TableHoverPart, updateLeft: (left: number, part: TableHoverPart) => void) => {\r\n            event.on.onScrollLeft((left, part) => updateLeft(left, part))\r\n            return {\r\n                onMouseenter: () => hoverPart.value = part,\r\n                onScroll: (e: Event) => hoverPart.value === part && event.emit.onScrollLeft((e as any).target.scrollLeft, part)\r\n            }\r\n        }\r\n    }\r\n}","import {SimpleObject} from \"../../../shims\";\r\nimport {TreeNodeCheckStatus} from \"../../tree/utils/tree-constant\";\r\nimport {FormValidate, FormValidateResultMap, FormValidateReturn} from \"../../form/form.validate\";\r\nimport {computed, ExtractPropTypes} from 'vue';\r\nimport {TableProps} from \"./table.utils\";\r\nimport {createKeyHandler} from \"../../../utils/createKeyHandler\";\r\nimport {deepcopy} from \"plain-utils/object/deepcopy\";\r\nimport {useTree} from \"../../tree/core/useTree\";\r\n\r\nexport function useTableNode(\r\n    {\r\n        props,\r\n        emit,\r\n        getValidate,\r\n    }: {\r\n        props: ExtractPropTypes<typeof TableProps>,\r\n        getValidate: () => FormValidate,\r\n        emit: {\r\n            onExpand: (node: TableNode) => void,\r\n            onExpandChange: (keys: string[]) => void,\r\n            onCollapse: (node: TableNode) => void,\r\n            onCheck: (node: TableNode) => void,\r\n            onUncheck: (node: TableNode) => void,\r\n            onCheckChange: (keys: string[]) => void,\r\n            onClickNode: (node: TableNode) => void,\r\n            onUpdateData: (data?: SimpleObject[]) => void,\r\n            onUpdateCurrent: (key?: string) => void,\r\n        },\r\n    }\r\n) {\r\n    const {state, dataModel, utils, methods, current, handler} = useTree<TableNode>({\r\n        props,\r\n        keyManager: createKeyHandler('table'),\r\n        emit,\r\n        getTreeNodeByDataAdjust: node => {\r\n            node.isSummary = false\r\n            node.edit = false\r\n            node.editRow = node.data\r\n            node.validateResultMap = null\r\n            node.openEdit = function () {this.edit = true}\r\n            node.closeEdit = function () {this.edit = false}\r\n            node.enableEdit = function () {\r\n                if (this.edit) return\r\n                this.editRow = deepcopy(this.data)\r\n                this.openEdit()\r\n                this.validate()\r\n            }\r\n            node.cancelEdit = function () {this.edit && this.closeEdit()}\r\n            node.validate = async function () {\r\n                const {methods: {validate}} = getValidate()\r\n                const {validateMessage, validateResult, validateResultMap} = await validate(this.editRow)\r\n                this.validateResultMap = validateResultMap || null\r\n                return !validateMessage ? null : {\r\n                    validateMessage,\r\n                    validateResult,\r\n                    validateResultMap,\r\n                    node: this,\r\n                }\r\n            }\r\n            node.saveEdit = async function (newRow) {\r\n                if (!this.edit) return\r\n                let {data, editRow} = this\r\n                newRow = newRow || this.editRow\r\n                Object.keys({...data, ...editRow, ...newRow}).forEach(k => this.data[k] = newRow[k])\r\n            }\r\n        }\r\n    })\r\n    /*拍平的数组*/\r\n    const flatNodes = computed(() => {\r\n        let list: TableNode[] = []\r\n        if (!state.root) {\r\n            return []\r\n        }\r\n        utils.iterate({\r\n            nodes: state.root.children,\r\n            iterateChildren: (treeNode) => treeNode.expand,\r\n            handler: (treeNode) => list.push(treeNode),\r\n        },)\r\n        list = list.filter((treeNode) => !!treeNode.isVisible)\r\n        list.forEach((node, index) => node.index = index)\r\n        return list\r\n    })\r\n    const summaryNodes = computed(() => !props.summaryData ? null : props.summaryData.map((data) => utils.getTreeNodeByData({data, level: 1, parentRef: null as any, adjust: node => node.isSummary = true})))\r\n    return {state, dataModel, flatNodes, summaryNodes, methods, current, handler, utils}\r\n}\r\n\r\nexport type TableNode = {\r\n\r\n    key: string,                                        // 节点唯一标识\r\n    data: SimpleObject,                                 // 节点数据\r\n    level: number,                                      // 节点层级\r\n    parentRef: () => TableNode | null,                  // 父节点引用\r\n    selfRef: () => TableNode,                           // 自身引用\r\n    index: number,                                      // 节点索引\r\n    children?: TableNode[],                             // 子节点数组\r\n\r\n    expand: boolean,                                    // 节点是否已经展开\r\n    check: boolean,                                     // 节点是够已经选中\r\n    loading: boolean,                                   // 节点是否处于加载状态\r\n    loaded: boolean,                                    // 节点是否已经加载完毕\r\n\r\n    readonly childrenData?: SimpleObject[]              // 子节点数据数组\r\n    readonly checkStatus: TreeNodeCheckStatus,          // 节点选中状态\r\n    readonly isCheckable: boolean,                      // 节点是否可以选择\r\n    readonly isLeaf: boolean,                           // 节点是否为叶子节点\r\n    readonly isVisible: boolean,                        // 节点是否可见\r\n\r\n    /*---------------------------------------edit-------------------------------------------*/\r\n\r\n    isSummary: boolean,                                 // 当前是否为合计行数据\r\n    edit: boolean,                                      // 当前是否处于可编辑状态\r\n    editRow: SimpleObject,                              // 编辑行对象\r\n    validateResultMap: FormValidateResultMap | null,    // 当前行的校验结果\r\n\r\n    openEdit: () => void,                               // 开启编辑状态（不做任何处理）\r\n    closeEdit: () => void,                              // 关闭编辑状态（不做任何处理）\r\n    enableEdit: () => void,                             // 开启编辑状态（先判断当前是否可编辑，深度赋值一份data赋值给editRow，并且立即执行校验）\r\n    cancelEdit: () => void,                             // 取消编辑状态\r\n    validate: () => Promise<(FormValidateReturn & { node: TableNode }) | null>, // 校验数据\r\n    saveEdit: (newRow: SimpleObject) => Promise<void>,  // 保存编辑，将editRow以及newRow（请求得到的新对象）覆盖data\r\n\r\n}","import {PlainScroll} from \"../../scroll/scroll\";\r\n\r\nexport function useTableGetScroll(onVirtualMounted: (cb: (data: { scroll: PlainScroll }) => void) => void, onChange?: (scroll: PlainScroll) => void) {\r\n    let val: PlainScroll\r\n    onVirtualMounted(({scroll}) => {\r\n        val = scroll;\r\n        !!onChange && onChange(scroll)\r\n    })\r\n    return {\r\n        getScroll: () => val!\r\n    }\r\n}","import {PlainScroll} from \"../../scroll/scroll\";\r\nimport {computed, reactive} from 'vue';\r\nimport {useTableGetScroll} from \"./useTableGetScroll\";\r\n\r\nexport function useFixedShadow(event: {\r\n    on: {\r\n        onVirtualMounted: (cb: (data: { scroll: PlainScroll }) => void) => void,\r\n    }\r\n}) {\r\n    const state = reactive({\r\n        showFixedLeft: false,\r\n        showFixedRight: false,\r\n    })\r\n    const freeState = {\r\n        scroll: null as null | PlainScroll,\r\n        onScroll: () => {\r\n            const {freezeState: {wrapperScrollLeft}, state: {hostWidth, contentWidth}} = freeState.scroll!\r\n            state.showFixedLeft = contentWidth > hostWidth && wrapperScrollLeft > 0\r\n            state.showFixedRight = contentWidth > hostWidth && Math.abs(wrapperScrollLeft + hostWidth - contentWidth) > 5\r\n        }\r\n    }\r\n    useTableGetScroll(event.on.onVirtualMounted, (scroll) => {\r\n        if (!!freeState.scroll) {freeState.scroll.off.onScroll(freeState.onScroll)}\r\n        freeState.scroll = scroll\r\n        scroll.on.onScroll(freeState.onScroll)\r\n        freeState.onScroll()\r\n    })\r\n    const classes = computed(() => [\r\n        {\r\n            'plt-table-hide-fixed-left': !state.showFixedLeft,\r\n            'plt-table-hide-fixed-right': !state.showFixedRight,\r\n        }\r\n    ])\r\n    return {\r\n        fixedShadowClass: classes,\r\n    }\r\n}","import {designComponent} from \"../../use/designComponent\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport PlcCollector from './plc/core/plc-collector'\r\nimport {PltHead} from \"./core/head/head\";\r\nimport {PltBody} from \"./core/body/body\";\r\nimport './table.scss'\r\nimport {TableHoverPart, TableProps} from './core/table.utils';\r\nimport {usePlcList} from \"./plc/format/usePlcList\";\r\nimport {computed, ComputedRef, inject, onMounted, PropType} from 'vue';\r\nimport {useBindScroll} from \"./core/useBindScroll\";\r\nimport {TableNode, useTableNode} from \"./core/useTableNode\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport {PlainScroll} from \"../scroll/scroll\";\r\nimport {useFixedShadow} from \"./core/useFixedShadow\";\r\nimport {StyleShape, StyleSize, useStyle} from \"../../use/useStyle\";\r\nimport {formatFormRules, FormValidate} from \"../form/form.validate\";\r\nimport {useTree} from \"../tree/core/useTree\";\r\nimport {hasClass} from \"plain-utils/dom/hasClass\";\r\n\r\nconst Table = designComponent({\r\n    name: 'pl-table',\r\n    props: {\r\n        ...TableProps,\r\n    },\r\n    provideRefer: true,\r\n    emits: {\r\n        ...useTree.createEvent<TableNode>(),\r\n        onScrollLeft: (scrollLeft: number, part: TableHoverPart) => true,\r\n        onVirtualMounted: (data: { scroll: PlainScroll }) => true,\r\n\r\n        onClickRow: (node: TableNode, e: MouseEvent) => true,\r\n        onDblclickRow: (node: TableNode, e: MouseEvent) => true,\r\n        onClickCell: (node: TableNode, e: MouseEvent) => true,\r\n        onDblclickCell: (node: TableNode, e: MouseEvent) => true,\r\n    },\r\n    setup({props, event}) {\r\n\r\n        const {refs} = useRefs({\r\n            el: HTMLDivElement,\r\n        })\r\n\r\n        const {styleComputed} = useStyle({\r\n            adjust: config => {\r\n                config.shape = props.shape || StyleShape.square\r\n                config.size = props.size || StyleSize.normal\r\n                config.status = props.status\r\n            }\r\n        })\r\n        const {emit} = event\r\n        const {slots} = useSlots()\r\n        const {numberState, plcData} = usePlcList({props})\r\n        const {bindScroll} = useBindScroll(event)\r\n        const {state, flatNodes, summaryNodes, dataModel, methods, current, handler, utils} = useTableNode({props, emit, getValidate: () => formValidate.value})\r\n        const {fixedShadowClass} = useFixedShadow(event)\r\n        const formValidate = computed(() => formatFormRules(\r\n            props.rules,\r\n            !plcData.value ? undefined : plcData.value.flatPlcList.map(plc => ({\r\n                label: plc.props.title,\r\n                field: plc.props.field,\r\n                required: plc.props.required,\r\n                rules: plc.props.rules,\r\n            })))) as ComputedRef<FormValidate>\r\n\r\n        /*是否可以启用虚拟滚动*/\r\n        const disabledVirtual = computed(() => props.virtual == false || (!!plcData.value && plcData.value.notFitVirtual.length > 0))\r\n\r\n        const classes = computed(() => [\r\n            'pl-table',\r\n            `pl-table-size-${styleComputed.value.size}`,\r\n            `pl-table-shape-${styleComputed.value.shape}`,\r\n            {\r\n                'pl-table-border': props.border,\r\n            },\r\n            ...fixedShadowClass.value,\r\n        ])\r\n\r\n        const exposeHandler = {\r\n            ...handler,\r\n            onClickRow: (e: MouseEvent, node: TableNode) => {\r\n                methods.setCurrent(node.key);\r\n                emit.onClickRow(node, e);\r\n                hasClass(e.target as HTMLElement, 'plt-cell') && emit.onClickCell(node, e);\r\n            },\r\n            onDblclickRow: (e: MouseEvent, node: TableNode) => {\r\n                emit.onDblclickRow(node, e)\r\n                hasClass(e.target as HTMLElement, 'plt-cell') && emit.onDblclickCell(node, e);\r\n            }\r\n        }\r\n\r\n        const refer = {\r\n            refs,\r\n            props,\r\n            numberState,\r\n            plcData,\r\n            bindScroll,\r\n            event,\r\n            dataModel,\r\n            state, flatNodes, summaryNodes,\r\n            disabledVirtual,\r\n            handler: exposeHandler,\r\n            ...methods,\r\n            formValidate,\r\n            current,\r\n            utils,\r\n        }\r\n\r\n        onMounted(() => {\r\n            // console.log(refer.nodeState)\r\n        })\r\n\r\n        return {\r\n            refer,\r\n            render: () => (\r\n                <div class={classes.value} ref=\"el\" v-loading={props.loading || state.root.loading}>\r\n                    <PlcCollector ref=\"collector\">{slots.default()}</PlcCollector>\r\n                    {!!plcData.value && <>\r\n                        <PltHead table={refer}/>\r\n                        <PltBody table={refer}/>\r\n                    </>}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})\r\n\r\nexport const PlainTable = Object as PropType<typeof Table.use.class>\r\n\r\nexport function injectPlainTable() {return inject('@@pl-table') as typeof Table.use.class}\r\n\r\nexport default Table","import {designComponent} from \"../../../../use/designComponent\";\r\nimport {PlcProps, PlcPublicAttrs} from \"./plc.utils\";\r\nimport {TablePlcCollector} from './plc-collector';\r\nimport {Plc, TablePlc} from \"./plc.type\";\r\nimport {useNumber} from \"../../../../use/useNumber\";\r\nimport {computed, ExtractPropTypes, PropType, reactive} from 'vue';\r\nimport {useScopedSlots} from \"../../../../use/useScopedSlots\";\r\nimport {TableNode} from \"../../core/useTableNode\";\r\n\r\nexport function usePlc(props: ExtractPropTypes<typeof PlcProps>) {\r\n\r\n    const {scopedSlots} = useScopedSlots({\r\n        head: {plc: Object as PropType<TablePlc>},\r\n        default: {node: Object as PropType<TableNode>, plc: Object as PropType<Plc>},\r\n        edit: {node: Object as PropType<TableNode>, plc: Object as PropType<Plc>},\r\n        summary: {node: Object as PropType<TableNode>, plc: Object as PropType<Plc>},\r\n    }, true)\r\n    /*collector收集列信息*/\r\n    TablePlcCollector.useChild()\r\n    /*格式化props*/\r\n    const {numberState} = useNumber(props, ['order', 'width'])\r\n    /*目标props*/\r\n    const formatProps = computed(() => ({\r\n        ...props,\r\n        ...numberState,\r\n    }) as Omit<typeof props, 'order' | 'width'> & typeof numberState)\r\n    /*props的一个副本，不过如果有值的情况下，优先级比props中的值高（比config值也高）*/\r\n    const propsState = reactive(Object.keys(PlcProps).reduce((ret: any, key: string) => {\r\n        ret[key] = null\r\n        return ret\r\n    }, {}) as { [k in keyof typeof formatProps.value]: typeof formatProps.value[k] | null })\r\n\r\n    const plc: Plc = reactive({\r\n        /*PlcPublicAttrs 在 copyPlc中会深度复制一遍，这里适配类型即可*/\r\n        ...PlcPublicAttrs,\r\n        group: false,\r\n        props: formatProps,\r\n        state: propsState,\r\n        refer: () => plc,\r\n        setDurWidth: (durWidth: number) => propsState.width = Number((formatProps.value.width)) + durWidth,\r\n        scopedSlots,\r\n    })\r\n\r\n    return {\r\n        refer: plc,\r\n        render: () => (<i {...{title: props.title, field: props.field}}/>)\r\n    }\r\n}\r\n\r\nexport default designComponent({\r\n    name: 'plc',\r\n    props: {\r\n        ...PlcProps,\r\n    },\r\n    setup({props}) {\r\n        return usePlc(props)\r\n    },\r\n})","import {designComponent} from \"../../../../use/designComponent\";\r\nimport {PlcGroupProps, PlcPublicAttrs} from \"./plc.utils\";\r\nimport {TablePlcCollector} from './plc-collector';\r\nimport {useSlots} from \"../../../../use/useSlots\";\r\nimport {PlcGroup} from \"./plc.type\";\r\nimport {useNumber} from \"../../../../use/useNumber\";\r\nimport {computed, PropType, reactive} from 'vue';\r\nimport {useScopedSlots} from \"../../../../use/useScopedSlots\";\r\n\r\nexport default designComponent({\r\n    name: 'plc-group',\r\n    props: {\r\n        ...PlcGroupProps,\r\n    },\r\n    setup({props}) {\r\n        /*插槽*/\r\n        const {slots} = useSlots()\r\n        const {scopedSlots} = useScopedSlots({\r\n            head: {plc: Object as PropType<PlcGroup>},\r\n        }, true)\r\n        /*collector收集列信息*/\r\n        TablePlcCollector.useChild()\r\n        /*子列信息*/\r\n        const {children} = TablePlcCollector.useParent()\r\n        /*格式化props*/\r\n        const {numberState} = useNumber(props, ['order'])\r\n        /*目标props*/\r\n        const formatProps = computed(() => ({\r\n            ...props,\r\n            ...numberState,\r\n        }) as Omit<typeof props, 'order'> & typeof numberState)\r\n        /*props的一个副本，不过如果有值的情况下，优先级比props中的值高（比config值也高）*/\r\n        const propsState = reactive(Object.keys(PlcGroupProps).reduce((ret: any, key: string) => {\r\n            ret[key] = null\r\n            return ret\r\n        }, {}) as { [k in keyof typeof formatProps.value]: typeof formatProps.value[k] | null })\r\n\r\n        /*核心暴露对象*/\r\n        const group: PlcGroup = reactive({\r\n            /*PlcPublicAttrs 在 copyPlc中会深度复制一遍，这里适配类型即可*/\r\n            ...PlcPublicAttrs,\r\n            group: true,\r\n            children,\r\n            props: formatProps,\r\n            state: propsState,\r\n            refer: () => group,\r\n            setDurWidth: (durWidth: number) => {\r\n                const itemDurWidth = Math.floor(durWidth / (children.length))\r\n                children.forEach(item => item.setDurWidth(itemDurWidth))\r\n            },\r\n            scopedSlots,\r\n        })\r\n\r\n        return {\r\n            refer: group,\r\n            render: () => (\r\n                <div>\r\n                    {slots.default()}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../../../use/designComponent\";\r\nimport {PlcProps} from \"./plc.utils\";\r\nimport {usePlc} from \"./plc\";\r\nimport {deepcopy} from \"plain-utils/object/deepcopy\";\r\nimport {ComponentInternalInstance, ComponentPropsOptions, ExtractPropTypes} from 'vue';\r\nimport {VNodeChild} from \"../../../../shims\";\r\nimport {Plc} from \"./plc.type\";\r\nimport {TableNode} from \"../../core/useTableNode\";\r\n\r\nexport function designPlc<_,\r\n    ExternalProps extends Readonly<ComponentPropsOptions> = {},\r\n    TargetProps = ExtractPropTypes<typeof PlcProps & ExternalProps>,\r\n    ExternalRefer = {},\r\n    >(\r\n    {\r\n        name,\r\n        standardProps,\r\n        externalProps,\r\n        setup,\r\n    }: {\r\n        name: string,\r\n        standardProps?: Partial<{ [k in keyof typeof PlcProps]: any }>,\r\n        externalProps?: ExternalProps,\r\n        setup?: (props: TargetProps, ctx: ComponentInternalInstance) => ExternalRefer,\r\n    },\r\n    render?: {\r\n        head?: (scope: { plc: Plc, props: TargetProps, refer: ExternalRefer }) => VNodeChild,\r\n        default?: (scope: { node: TableNode, plc: Plc, row: any, props: TargetProps, refer: ExternalRefer }) => VNodeChild,\r\n        summary?: (scope: { node: TableNode, plc: Plc, row: any, props: TargetProps, refer: ExternalRefer }) => VNodeChild,\r\n        edit?: (scope: { node: TableNode, plc: Plc, row: any, props: TargetProps, refer: ExternalRefer }) => VNodeChild,\r\n    },\r\n) {\r\n    const OptionProps = deepcopy(PlcProps)\r\n\r\n    Object.entries(OptionProps).map(([key, value]) => {\r\n        if (!!standardProps && !!(standardProps as any)[key]) {\r\n            Object.assign(value, (standardProps as any)[key])\r\n        }\r\n        if (!!(render as any)[key]) {\r\n            (value as any).default = function (scope: any) {\r\n                return (render as any)[key]({\r\n                    ...scope,\r\n                    refer: !scope.plc.externalRefer ? null : scope.plc.externalRefer(),\r\n                    props: scope.plc.props\r\n                })\r\n            }\r\n        }\r\n    })\r\n\r\n    return designComponent({\r\n        name,\r\n        props: {\r\n            ...OptionProps,\r\n            ...(externalProps || {}),\r\n        },\r\n        setup({props, ctx}) {\r\n            const {render, refer} = usePlc(props)\r\n            if (!!setup) {\r\n                const externalRefer = setup(props as any, ctx!)\r\n                Object.assign(refer, {externalRefer: () => externalRefer})\r\n            }\r\n            return {\r\n                refer,\r\n                render,\r\n            }\r\n        },\r\n    })\r\n}","import {designPlc} from \"../core/designPlc\";\r\n\r\nexport default designPlc({\r\n    name: 'plc-index',\r\n    standardProps: {\r\n        autoFixedLeft: {default: true},\r\n        order: {default: -9999},\r\n        width: {default: 45},\r\n        align: {default: 'center'},\r\n        noPadding: {default: true},\r\n    },\r\n    externalProps: {\r\n        summaryText: {type: String, default: '合计'},\r\n    },\r\n}, {\r\n    head: () => '#',\r\n    default: ({node}) => node.index + 1,\r\n    summary: ({props}) => <span class=\"plc-index-summary-text\">{props.summaryText}</span>,\r\n})","import {designPlc} from \"../core/designPlc\";\r\nimport {reactive, computed, ComputedRef, PropType, onBeforeUnmount} from 'vue';\r\nimport {injectPlainTable} from \"../../table\";\r\nimport {TableNode} from \"../../core/useTableNode\";\r\nimport {SimpleObject, VNodeChild} from \"../../../../shims\";\r\nimport {Plc, TableRenderScope} from \"../core/plc.type\";\r\nimport {useScopedSlots} from \"../../../../use/useScopedSlots\";\r\n\r\ninterface ExpandRefer {\r\n    isExpand: (node: TableNode) => boolean,\r\n    totalSpan: ComputedRef<number>,\r\n    state: { expandKeys: Record<string, boolean> },\r\n    toggle: (node: TableNode) => void,\r\n    scopedSlots: {\r\n        expand: ((scope: TableRenderScope, vnode: VNodeChild) => VNodeChild)\r\n    },\r\n}\r\n\r\nexport default designPlc(\r\n    {\r\n        name: 'plc-expand',\r\n        standardProps: {\r\n            autoFixedLeft: {default: true},\r\n            order: {default: -9997},\r\n            width: {default: 60},\r\n            align: {default: 'center'},\r\n            notFitVirtual: {default: true},\r\n            noPadding: {default: true},\r\n            renderAfterRow: {\r\n                default: ({plc, node, row}: { plc: Plc & { externalRefer: () => ExpandRefer }, node: TableNode, row: SimpleObject }) => {\r\n                    const refer = plc.externalRefer()\r\n                    if (!refer.isExpand(node)) {return null}\r\n                    return (\r\n                        <tr class=\"plt-row plt-expand-row\">\r\n                            <td class=\"plt-cell\" rowspan={1} colspan={refer.totalSpan.value}>\r\n                                {refer.scopedSlots.expand({node, plc, row})}\r\n                            </td>\r\n                        </tr>\r\n                    )\r\n                }\r\n            },\r\n        },\r\n        externalProps: {\r\n            toggleOnClickRow: {type: Boolean},                      // 是否在点击行的时候触发点击动作\r\n            summaryExpand: {type: Boolean},                         // 合计行是否可以展开\r\n        },\r\n        setup: (props) => {\r\n            const table = injectPlainTable()\r\n            const {scopedSlots} = useScopedSlots({\r\n                expand: {node: Object as PropType<TableNode>, plc: Object as PropType<Plc>, row: Object as PropType<SimpleObject>},\r\n            })\r\n            const state = reactive({\r\n                expandKeys: {} as Record<string, boolean>,\r\n            })\r\n            const totalSpan = computed(() => !table.plcData.value ? 1 : table.plcData.value.flatPlcList.length)\r\n            const isExpand = (node: TableNode) => state.expandKeys[node.key]\r\n            const toggle = (node: TableNode) => isExpand(node) ? close(node) : expand(node)\r\n            const expand = (node: TableNode) => state.expandKeys[node.key] = true\r\n            const close = (node: TableNode) => state.expandKeys[node.key] = false\r\n            if (props.toggleOnClickRow) {\r\n                table.event.on.onClickCell(toggle)\r\n                onBeforeUnmount(() => table.event.off.onClickRow(toggle))\r\n            }\r\n            const refer: ExpandRefer = {\r\n                state,\r\n                totalSpan,\r\n                isExpand,\r\n                toggle,\r\n                scopedSlots,\r\n            }\r\n            return refer\r\n        }\r\n    },\r\n    {\r\n        head: () => '',\r\n        default: ({refer, node, props}) => {\r\n            return (!node.isSummary || props.summaryExpand) && (<pl-button{...{\r\n                icon: 'el-icon-arrow-down',\r\n                mode: 'text',\r\n                class: [\r\n                    'plc-expand-icon',\r\n                    {'plc-expand-icon-active': refer.isExpand(node)},\r\n                ],\r\n                onClick: (e: MouseEvent) => refer.toggle(node)\r\n            }}/>)\r\n        }\r\n    },\r\n)","import {designPlc} from \"../core/designPlc\";\r\nimport {computed, onBeforeUnmount, PropType, reactive} from 'vue';\r\nimport {TableNode} from \"../../core/useTableNode\";\r\nimport {injectPlainTable} from \"../../table\";\r\nimport {CheckboxStatus} from \"../../../../utils/constant\";\r\nimport {toArray} from \"../../../../utils/toArray\";\r\n\r\nexport default designPlc({\r\n    name: 'plc-check',\r\n    standardProps: {\r\n        autoFixedLeft: {default: true},\r\n        order: {default: -9998},\r\n        width: {default: 40},\r\n        align: {default: 'center'},\r\n        noPadding: {default: true},\r\n    },\r\n    externalProps: {\r\n        toggleOnClickRow: {type: Boolean},                      // 是否在点击行的时候触发点击动作\r\n        isCheckable: Function as PropType<(node: TableNode) => boolean>,// 是否可选\r\n    },\r\n    setup(props, ctx) {\r\n        const table = injectPlainTable()\r\n        const proxy = ctx.proxy!\r\n        const state = reactive({\r\n            selected: [] as TableNode[],\r\n        })\r\n        const selectedKeys = computed(() => {\r\n            return state.selected.map(item => item.key)\r\n        })\r\n        const status = computed(() => {\r\n            if (state.selected.length === 0) return CheckboxStatus.uncheck\r\n            if (table.flatNodes.value.every((item) => selectedKeys.value.indexOf(item.key) > -1)) {\r\n                return CheckboxStatus.check\r\n            } else {\r\n                return CheckboxStatus.minus\r\n            }\r\n        })\r\n        const isCheckable = (node: TableNode) => !props.isCheckable || (props.isCheckable(node) !== false)\r\n        const isCheck = (node: TableNode) => selectedKeys.value.indexOf(node.key) > -1\r\n        const toggle = (node: TableNode) => {\r\n            const index = selectedKeys.value.indexOf(node.key)\r\n            index > -1 ? state.selected.splice(index, 1) : state.selected.push(node)\r\n        }\r\n        const handler = {\r\n            onClickCheckbox: (node: TableNode) => isCheckable(node) && toggle(node),\r\n            onClickHeadCheckbox: () => {\r\n                if (status.value === CheckboxStatus.check) {\r\n                    state.selected = []\r\n                } else {\r\n                    const availableSelectItems = table.flatNodes.value\r\n                        .filter(isCheckable)\r\n                        .map((item: TableNode) => item)\r\n                    if (state.selected.length === availableSelectItems.length) {\r\n                        state.selected = []\r\n                    } else {\r\n                        state.selected = availableSelectItems\r\n                    }\r\n                }\r\n            },\r\n        }\r\n        const methods = {\r\n            getSelected: () => state.selected,\r\n            clearSelected: () => state.selected = [],\r\n            addSelected: (key: string | string[]) => {\r\n                const keys = toArray(key)\r\n                const nodes = keys.map(k => table.state.nodeMap[k]).filter(Boolean)\r\n                state.selected = [...state.selected, ...nodes]\r\n            },\r\n            removeSelected: (key: string | string[]) => {\r\n                const keys = toArray(key)\r\n                state.selected = state.selected.filter(node => keys.indexOf(node.key) === -1)\r\n            },\r\n        }\r\n        if (props.toggleOnClickRow) {\r\n            table.event.on.onClickCell(handler.onClickCheckbox)\r\n            onBeforeUnmount(() => table.event.off.onClickRow(handler.onClickCheckbox))\r\n        }\r\n        Object.assign(proxy, methods)\r\n        return {\r\n            state,\r\n            selectedKeys,\r\n            status,\r\n            handler,\r\n            isCheck,\r\n            isCheckable,\r\n        }\r\n    },\r\n}, {\r\n    summary: () => null,\r\n    default: ({refer, node}) => <pl-checkbox\r\n        customReadonly\r\n        modelValue={refer.isCheck(node)}\r\n        onClick={() => refer.handler.onClickCheckbox(node)}\r\n        disabled={!refer.isCheckable(node)}\r\n    />,\r\n    head: ({refer}) => <pl-checkbox\r\n        checkStatus={refer.status.value}\r\n        onClick={refer.handler.onClickHeadCheckbox}\r\n    />\r\n})","/**\r\n * 获取拖拽的rowEl对象\r\n * @author  韦胜健\r\n * @date    2020/8/19 23:55\r\n */\r\nimport {hasClass} from \"plain-utils/dom/hasClass\";\r\n\r\nexport function getRowEl(e: MouseEvent, rowClass: string): HTMLElement {\r\n    let rowEl = e.target as HTMLElement\r\n    while (!!rowEl && !hasClass(rowEl, rowClass)) {\r\n        rowEl = rowEl.parentNode as HTMLElement\r\n    }\r\n    if (!rowEl) {\r\n        throw new Error(`can't find item element!`)\r\n    }\r\n    return rowEl\r\n}\r\n\r\n/**\r\n * 获取可以滚动的父组件\r\n * @author  韦胜健\r\n * @date    2020/8/19 23:50\r\n */\r\nexport function getScrollParent(el: HTMLElement): HTMLElement {\r\n    while (!!el && el.scrollHeight <= el.offsetHeight) {\r\n        el = el.parentNode as HTMLElement\r\n    }\r\n    return el\r\n}\r\n\r\n/**\r\n * 获取行el对象的所有兄弟节点\r\n * @author  韦胜健\r\n * @date    2020/8/19 23:57\r\n */\r\nexport function getRowElList(el: HTMLElement, rowClass: string): HTMLElement[] {\r\n    return Array.from(el.parentNode!.querySelectorAll(`.${rowClass}`))\r\n}","/**\r\n * 拖拽排序实现（非虚拟滚动）\r\n * @author  韦胜健\r\n * @date    2020/8/21 10:07\r\n */\r\nimport {UseListDraggierType} from \"./index\";\r\nimport {getRowEl, getRowElList, getScrollParent} from \"./utils\";\r\nimport {disabledUserSelect} from \"plain-utils/dom/disabledUserSelect\";\r\nimport {nextTick} from 'vue';\r\nimport {enableUserSelect} from \"plain-utils/dom/enableUserSelect\";\r\nimport {useAutoScroll} from \"../../../../../../use/useAutoScroll\";\r\n\r\nexport const useListDraggierNotVirtual: UseListDraggierType = ({rowClass, onChange, getScroll}) => {\r\n\r\n    const autoScroll = useAutoScroll({vertical: true, getScroll,})\r\n\r\n    const state = {\r\n        startIndex: 0,                              // 拖拽的dragEl在数组中的索引\r\n        endIndex: 0,                                // 拖拽结束的时候，dragEl应该所在的索引位置\r\n        startClientY: 0,                            // 拖拽dragEl起始的时候，e.clientY，与mousemove的时候的e.clientY做差值，以便得到dragEl的偏移距离\r\n        moveClientY: 0,                             // 拖拽move的时候，e.clientY\r\n        dragEl: null as null | HTMLElement,         // 拖拽的时候的dragEl的dom对象\r\n        dragHeight: 0,                              // 拖拽的时候的dragEl高度，当在下方移动时，下方需要移动的rowEl都应该往上偏移 dragHeight距离，在上方移动时，上方需要移动的rowEl需要往下偏移 dragHeight距离\r\n        dragOffsetTop: 0,                           // dragEl拖拽开始的时候，距离滚动顶部距离\r\n        scrollParent: null as null | HTMLElement,   // 可以滚动的父元素\r\n        dragStartScrollTop: 0,                      // 拖拽开始的时候，scrollParent 的scrollTop位置\r\n        dragScrollTop: 0,                           // scrollParent 的 scroll偏移距离\r\n        rowList: [] as HTMLElement[],               // dragEl的兄弟节点，包含dragEl\r\n    }\r\n    const utils = {\r\n        /**\r\n         * 根据startIndex以及endIndex，设置这个index范围内的row的dom对象进行上下平移；\r\n         * 如果startIndex大于endIndex，则范围内的row对象，除了startIndex，其他的应该向上平移；\r\n         * 反之，如果startIndex小于endIndex，则范围内的row对象，除了startIndex，其他的应该向下平移；\r\n         *\r\n         * @author  韦胜健\r\n         * @date    2020/8/19 21:09\r\n         */\r\n        refresh() {\r\n            const {dragHeight, startIndex, endIndex} = state\r\n            // 是否为向下移动\r\n            const movedown = startIndex < endIndex\r\n            const [start, end] = movedown ? [startIndex, endIndex] : [endIndex, startIndex]\r\n\r\n            state.rowList.forEach((el, index) => {\r\n                if (index < start || index > end) {\r\n                    el.style.transform = ``\r\n                    return;\r\n                }\r\n                if (el === state.dragEl) {\r\n                    return\r\n                }\r\n                el.style.transform = `translateY(${movedown ? '-' : ''}${dragHeight}px)`\r\n            })\r\n        },\r\n        /**\r\n         * 刷新dragEl的位置，同时刷新兄弟节点的位置\r\n         * @author  韦胜健\r\n         * @date    2020/8/20 23:29\r\n         */\r\n        refreshDragElPosition() {\r\n            state.dragEl!.style.transform = `translateY(${state.moveClientY - state.startClientY + state.dragScrollTop}px)`\r\n            const top = (state.moveClientY - state.startClientY) + state.dragScrollTop + state.dragOffsetTop\r\n            state.endIndex = Math.ceil(Math.max(0, top / state.dragHeight - 0.5))\r\n\r\n            utils.refresh()\r\n        },\r\n    }\r\n    const handler = {\r\n        mousedown: (e: MouseEvent) => {\r\n            disabledUserSelect()\r\n\r\n            state.startClientY = e.clientY\r\n            state.dragEl = getRowEl(e, rowClass)\r\n            state.dragHeight = state.dragEl.offsetHeight\r\n            state.dragOffsetTop = state.dragEl.offsetTop\r\n            state.rowList = getRowElList(state.dragEl!, rowClass)\r\n            state.startIndex = state.rowList.indexOf(state.dragEl)\r\n            state.scrollParent = getScrollParent(state.dragEl)\r\n            state.dragStartScrollTop = state.scrollParent!.scrollTop\r\n\r\n            state.scrollParent!.addEventListener('scroll', handler.parentScroll)\r\n            document.addEventListener('mousemove', handler.mousemove)\r\n            document.addEventListener('mouseup', handler.mouseup)\r\n\r\n            state.rowList.forEach((rowEl: any) => {\r\n                // 如果是当前拖拽的el，则不监听事件，不做任何处理\r\n                if (rowEl === state.dragEl) {\r\n                    return\r\n                }\r\n                // 兄弟节点自动进行上下平移\r\n                rowEl.style.transition = `transform 300ms cubic-bezier(0.23, 1, 0.32, 1)`\r\n            })\r\n\r\n            autoScroll.showHover()\r\n        },\r\n        mousemove: (e: MouseEvent) => {\r\n            state.moveClientY = e.clientY\r\n            utils.refreshDragElPosition()\r\n        },\r\n        mouseup: async () => {\r\n\r\n            autoScroll.hideHover()\r\n\r\n            await nextTick()\r\n            enableUserSelect()\r\n\r\n            state.dragEl!.style.transform = ''\r\n            document.removeEventListener('mousemove', handler.mousemove)\r\n            document.removeEventListener('mouseup', handler.mouseup)\r\n            state.scrollParent!.removeEventListener('scroll', handler.parentScroll)\r\n\r\n            state.rowList.forEach((rowEl: any) => {\r\n                if (rowEl === state.dragEl) {\r\n                    return\r\n                }\r\n                rowEl.style.transition = ''\r\n                rowEl.style.transform = ''\r\n            })\r\n\r\n            state.startClientY = 0\r\n            state.moveClientY = 0\r\n            state.dragEl = null\r\n            state.dragHeight = 0\r\n            state.dragOffsetTop = 0\r\n            state.scrollParent = null\r\n            state.dragStartScrollTop = 0\r\n            state.dragScrollTop = 0\r\n            state.rowList = []\r\n            await onChange(state.startIndex, state.endIndex)\r\n            state.startIndex = 0\r\n            state.endIndex = 0\r\n        },\r\n        parentScroll: () => {\r\n            state.dragScrollTop = state.scrollParent!.scrollTop - state.dragStartScrollTop\r\n            utils.refreshDragElPosition()\r\n        }\r\n    }\r\n\r\n    return {\r\n        handler,\r\n    }\r\n}","/**\r\n * 拖拽排序组合函数，适用于虚拟滚动版本的\r\n * @author  韦胜健\r\n * @date    2020/8/21 10:27\r\n */\r\nimport {UseListDraggierType} from \"./index\";\r\nimport {getRowEl, getScrollParent} from \"./utils\";\r\nimport {useAutoScroll} from \"../../../../../../use/useAutoScroll\";\r\n\r\nexport const useListDraggierWithVirtual: UseListDraggierType = (\r\n    {\r\n        rowClass,\r\n        onChange,\r\n        getScroll,\r\n    }) => {\r\n\r\n    const dragElHeight = 3\r\n\r\n    const state = {\r\n        startDragIndex: 0,                                              // 开始拖拽的时候，的行索引\r\n        endDragIndex: 0,                                                // 拖拽结束的时候，应该移动到的索引位置\r\n\r\n        startDragOffsetTop: 0,                                          // 开始拖拽的时候，dragEl距离top值（距离可以滚动的父组件的顶部距离）\r\n        startDragHeight: 0,                                             // 拖拽开始的时候，dragEl的高度，虚拟滚动情况下，认为所有row的高度都是一致的，所以这个相当于行高\r\n\r\n        startClientY: 0,                                                // 拖拽开始的时候鼠标位置\r\n        moveClientY: 0,                                                 // 拖拽移动的时候鼠标的位置\r\n\r\n        scrollParent: null as null | HTMLElement,                       // 可以滚动的父元素\r\n        startScrollTopOfScrollParent: 0,                                // 拖拽开始的时候，滚动父元素的滚动距离 \r\n        scrollTopOfScrollParent: 0,                              // 拖拽开始的时候，滚动父元素的滚动差值\r\n        scrollParentBoundingRect: {\r\n            top: 0,                                                     // 滚动父元素在页面上的top值\r\n            left: 0,                                                    // 滚动父元素在页面上的left值\r\n            width: 0,                                                   // 滚动父元素在页面上的显示宽度\r\n            height: 0,                                                  // 滚动父元素在页面上的显示高度\r\n        },\r\n\r\n        dragEl: null as null | HTMLElement,                             // 拖拽的时候，显示的标志元素\r\n    }\r\n\r\n    const autoScroll = useAutoScroll({getScroll, vertical: true,})\r\n\r\n    const utils = {\r\n        refresh() {\r\n            /*拖拽元素在scrollParent中的top值*/\r\n            const top = state.startDragOffsetTop + (state.moveClientY - state.startClientY) + (state.scrollTopOfScrollParent - state.startScrollTopOfScrollParent) + state.startDragHeight / 2\r\n\r\n            /*如果top处于目标index的上方，则index为目标index，在下方则为index+1*/\r\n            let endDragIndex = top / state.startDragHeight\r\n            const external = endDragIndex % 1\r\n            if (external > 0.5) {\r\n                endDragIndex = Math.ceil(endDragIndex)\r\n            } else {\r\n                endDragIndex = Math.floor(endDragIndex)\r\n            }\r\n\r\n            /*刷新指示器的位置*/\r\n            state.dragEl!.style.transform = `translateY(${(endDragIndex) * state.startDragHeight - dragElHeight - state.scrollTopOfScrollParent + state.scrollParentBoundingRect.top}px)`\r\n\r\n            if (endDragIndex === state.startDragIndex || endDragIndex === state.startDragIndex + 1) {\r\n                state.endDragIndex = state.startDragIndex\r\n            } else if (endDragIndex > state.startDragIndex) {\r\n                state.endDragIndex = endDragIndex - 1\r\n            } else {\r\n                state.endDragIndex = endDragIndex\r\n            }\r\n        },\r\n    }\r\n\r\n    const handler = {\r\n        mousedown: (e: MouseEvent) => {\r\n            const dragEl = getRowEl(e, rowClass)\r\n            // 每一行dom对象应该加上一个vid属性，表示这一行为第几个行，否则虚拟滚动情况下，无法知道是哪一行\r\n            const vid = Number(dragEl.getAttribute('vid'))\r\n\r\n            // 虚拟滚动下，每一行的行高一致\r\n            const {offsetHeight} = dragEl\r\n\r\n            state.startDragIndex = vid\r\n            state.startDragHeight = offsetHeight\r\n            state.startDragOffsetTop = state.startDragIndex * offsetHeight\r\n            state.startClientY = e.clientY\r\n            state.moveClientY = e.clientY\r\n\r\n            // 初始化scrollParent\r\n            const scrollParent = getScrollParent(dragEl)\r\n            state.scrollParent = scrollParent\r\n            state.startScrollTopOfScrollParent = scrollParent!.scrollTop\r\n            state.scrollTopOfScrollParent = scrollParent!.scrollTop\r\n            const {top, left, height, width} = state.scrollParent!.parentElement!.getBoundingClientRect()\r\n            state.scrollParentBoundingRect = {top, left, height, width}\r\n\r\n            // 初始化监听事件\r\n            scrollParent!.addEventListener('scroll', handler.scroll)\r\n            document.addEventListener('mousemove', handler.mousemove)\r\n            document.addEventListener('mouseup', handler.mouseup)\r\n\r\n            //\r\n            state.dragEl = document.createElement('div')\r\n            document.body.appendChild(state.dragEl)\r\n            state.dragEl.style.position = 'fixed'\r\n            state.dragEl.style.left = `${state.scrollParentBoundingRect.left}px`\r\n            state.dragEl.style.height = `${dragElHeight}px`\r\n            state.dragEl.style.width = `0`\r\n            state.dragEl.style.top = '0'\r\n            state.dragEl.style.backgroundColor = '#12b4a5'\r\n            utils.refresh()\r\n\r\n            setTimeout(() => {\r\n                state.dragEl!.style.width = `${state.scrollParentBoundingRect.width}px`\r\n                autoScroll.showHover()\r\n            }, 23)\r\n        },\r\n        scroll: () => {\r\n            state.scrollTopOfScrollParent = state.scrollParent!.scrollTop\r\n            utils.refresh()\r\n        },\r\n        mousemove: (e: MouseEvent) => {\r\n            if (e.clientY < state.scrollParentBoundingRect.top) {\r\n                return\r\n            }\r\n            if (e.clientY > state.scrollParentBoundingRect.top + state.scrollParentBoundingRect.height - 10) {\r\n                return\r\n            }\r\n            state.moveClientY = e.clientY\r\n            utils.refresh()\r\n        },\r\n        mouseup: (e: MouseEvent) => {\r\n\r\n            autoScroll.hideHover()\r\n\r\n            document.removeEventListener('mousemove', handler.mousemove)\r\n            document.removeEventListener('mouseup', handler.mouseup)\r\n            state.scrollParent!.removeEventListener('scroll', handler.scroll)\r\n\r\n            const {startDragIndex, endDragIndex} = state\r\n\r\n            onChange(startDragIndex, endDragIndex)\r\n\r\n            state.startDragIndex = 0\r\n            state.endDragIndex = 0\r\n            state.startDragOffsetTop = 0\r\n            state.startDragHeight = 0\r\n            state.startClientY = 0\r\n            state.moveClientY = 0\r\n            state.scrollParent = null\r\n            state.startScrollTopOfScrollParent = 0\r\n            state.scrollTopOfScrollParent = 0\r\n            state.scrollParentBoundingRect = {\r\n                top: 0,\r\n                left: 0,\r\n                width: 0,\r\n                height: 0,\r\n            }\r\n            state.dragEl!.parentNode!.removeChild(state.dragEl!)\r\n            state.dragEl = null\r\n\r\n        }\r\n    }\r\n\r\n    return {\r\n        handler\r\n    }\r\n\r\n}","/**\r\n * 拖拽排序实现函数的类型\r\n * @author  韦胜健\r\n * @date    2020/8/21 10:07\r\n */\r\nimport {useListDraggierNotVirtual} from \"./use-list-draggier\";\r\nimport {useListDraggierWithVirtual} from \"./use-list-draggier.virtual\";\r\nimport {PlainScroll} from \"../../../../../scroll/scroll\";\r\n\r\nexport interface UseListDraggierType {\r\n    (option: {\r\n        rowClass: string,                                                               // 行的class，要确保只有行所在的dom对象有这个class，其子节点是没有这个class的\r\n        onChange: (start: number, end: number) => void | Promise<void>,                 // 拖拽导致排序变化动作\r\n        virtual?: boolean,                                                              // 是否为虚拟滚动\r\n        getScroll: () => PlainScroll,\r\n    }): {\r\n        handler: {\r\n            mousedown: (e: MouseEvent) => void,\r\n        }\r\n    }\r\n}\r\n\r\nexport const useListDraggier: UseListDraggierType = (option) => {\r\n    if (option.virtual) {\r\n        return useListDraggierWithVirtual(option)\r\n    } else {\r\n        return useListDraggierNotVirtual(option)\r\n    }\r\n}","import {designPlc} from \"../../core/designPlc\";\r\nimport {injectPlainTable} from \"../../../table\";\r\nimport {computed} from 'vue';\r\nimport {useListDraggier} from \"./core\";\r\nimport {ie} from \"plain-utils/utils/ie\";\r\nimport {useTableGetScroll} from \"../../../core/useTableGetScroll\";\r\n\r\nexport default designPlc({\r\n    name: 'plc-draggier',\r\n    standardProps: {\r\n        autoFixedLeft: {default: true},\r\n        order: {default: -9998},\r\n        width: {default: 40},\r\n        align: {default: 'center'},\r\n        noPadding: {type: Boolean, default: true},\r\n    },\r\n    setup: (props) => {\r\n        const {disabledVirtual, dataModel, event} = injectPlainTable()\r\n        const {getScroll} = useTableGetScroll(event.on.onVirtualMounted)\r\n        const handler = computed(() => useListDraggier({\r\n            virtual: !disabledVirtual.value && !ie,\r\n            // virtual: true,\r\n            rowClass: 'plt-row',\r\n            getScroll,\r\n            onChange: async (start, end) => {\r\n                dataModel.value!.splice(end, 0, dataModel.value!.splice(start, 1)[0])\r\n            },\r\n        }))\r\n        return {\r\n            onMousedown: handler.value.handler.mousedown,\r\n            onClick: (e: MouseEvent) => {\r\n                e.stopPropagation()\r\n                e.preventDefault()\r\n            },\r\n        }\r\n    }\r\n}, {\r\n    default: ({refer}) => <pl-button\r\n        icon=\"el-icon-list\"\r\n        mode=\"text\"\r\n        class=\"plc-draggier-handler\"\r\n        {...refer}\r\n    />\r\n})","import {TableNode} from \"../../../core/useTableNode\";\r\nimport {TreeDropType} from \"../../../../tree/utils/tree-constant\";\r\nimport {useAutoScroll} from \"../../../../../use/useAutoScroll\";\r\nimport {PlainScroll} from \"../../../../scroll/scroll\";\r\nimport {StyleProperties} from \"../../../../../shims\";\r\nimport {getRowEl, getScrollParent} from '../draggier/core/utils';\r\n\r\nconst indicatorSize = 3;\r\n\r\nexport function usePlcTreeDraggier(\r\n    {\r\n        rowClass,\r\n        dragClass,\r\n        flatDataList,\r\n        levelPadding,\r\n        props,\r\n        methods,\r\n        getScroll,\r\n        getParents,\r\n    }: {\r\n        rowClass: string,                                                           // 行class\r\n        dragClass?: string,                                                         // 拖拽元素的class\r\n        flatDataList: { value: TableNode[] },                                       // 拍平的数据\r\n        levelPadding: number,\r\n        props: {\r\n            rowDraggable?: boolean,\r\n            allowRowDraggable?: (node: TableNode) => boolean,\r\n            allowRowDroppable?: (start: TableNode, move: TableNode, type: TreeDropType) => boolean,\r\n        },\r\n        methods: {\r\n            expand: (node: TableNode) => void,                      // 展开某个元素\r\n            refreshCheckStatus: () => void,                 // 刷新所有元素的选中状态\r\n            removeSelf: (node: TableNode) => void,\r\n            previousSibling: (self: TableNode, target: TableNode) => void,\r\n            nextSibling: (self: TableNode, target: TableNode) => void,\r\n            unshiftChild: (self: TableNode, target: TableNode) => void,\r\n        },\r\n        getScroll: () => PlainScroll,\r\n        getParents: (node: TableNode) => TableNode[]\r\n    }\r\n) {\r\n\r\n    const state = {\r\n\r\n        startNode: null as null | TableNode,\r\n        moveNode: null as null | TableNode,\r\n\r\n        startScrollTop: 0,\r\n        moveScrollTop: 0,\r\n\r\n        startClientY: 0,\r\n        moveClientY: 0,\r\n\r\n        rowHeight: 0,\r\n        scrollParent: null as null | HTMLElement,\r\n        rowEl: null as null | HTMLElement,\r\n        scrollParentRect: {\r\n            top: 0,\r\n            left: 0,\r\n            width: 0,\r\n            height: 0,\r\n        },\r\n        indicator: null as null | HTMLElement,\r\n        dragNodeBaseLeft: 0,\r\n\r\n        dropType: TreeDropType.inner,\r\n        droppable: false,\r\n    }\r\n\r\n    const autoScroll = useAutoScroll({vertical: true, getScroll,})\r\n\r\n    const utils = {\r\n        allowDrag: (node: TableNode) => {\r\n            return !props.allowRowDraggable || props.allowRowDraggable(node) !== false\r\n        },\r\n        allowDrop: (startNode: TableNode, moveNode: TableNode, dropType: TreeDropType) => {\r\n            return !props.allowRowDroppable || props.allowRowDroppable(startNode, moveNode, dropType) !== false\r\n        },\r\n        getIndicatorStyles(moveNode: TableNode, droppable: boolean, dropType: TreeDropType) {\r\n\r\n            const styles: StyleProperties = {}\r\n\r\n            let top = moveNode.index * state.rowHeight + state.scrollParentRect.top - (state.moveScrollTop)\r\n            let paddingLeft = (moveNode.level - state.startNode!.level) * levelPadding\r\n\r\n            styles.top = `${dropType === TreeDropType.next ? top + state.rowHeight - indicatorSize : top}px`\r\n            styles.left = `${state.dragNodeBaseLeft + paddingLeft}px`\r\n            styles.width = `${state.scrollParentRect.width - (state.dragNodeBaseLeft - state.scrollParentRect.left) - paddingLeft}px`\r\n            styles.height = `${dropType === TreeDropType.inner ? state.rowHeight : indicatorSize}px`\r\n            styles.backgroundColor = droppable ? '#12b4a5' : '#F38585'\r\n            styles.opacity = dropType === TreeDropType.inner ? '0.15' : ''\r\n\r\n            return styles\r\n        },\r\n        refresh() {\r\n            const top = state.startClientY - state.scrollParentRect.top + (state.moveScrollTop) + (state.moveClientY - state.startClientY)\r\n            let targetIndex = top / state.rowHeight\r\n            const external = targetIndex % 1\r\n            targetIndex = Math.floor(targetIndex)\r\n            let dropType: TreeDropType = external < 0.3 ? TreeDropType.prev : external > 0.7 ? TreeDropType.next : TreeDropType.inner\r\n            const moveNode = flatDataList.value[targetIndex]\r\n            if (!moveNode) {\r\n                return\r\n            }\r\n\r\n            let droppable = true\r\n\r\n            state.moveNode = moveNode\r\n            const parents = getParents(state.moveNode)\r\n            parents.push(state.moveNode)\r\n            if (parents.indexOf(state.startNode!) > -1) {\r\n                droppable = false\r\n            }\r\n            if (!utils.allowDrop(state.startNode!, moveNode, dropType)) {\r\n                droppable = false\r\n            }\r\n\r\n            state.dropType = dropType\r\n            state.droppable = droppable\r\n\r\n            Object.assign(state.indicator!.style, utils.getIndicatorStyles(moveNode, droppable, dropType))\r\n        },\r\n    }\r\n\r\n    const handler = {\r\n        mousedown: (e: DragEvent) => {\r\n            state.startClientY = state.moveClientY = e.clientY\r\n\r\n            state.rowEl = getRowEl(e, rowClass)\r\n            state.rowHeight = state.rowEl.offsetHeight\r\n            const vid = Number(state.rowEl.getAttribute('vid'))\r\n            state.moveNode = state.startNode = flatDataList.value[vid]\r\n\r\n            if (!utils.allowDrag(state.startNode)) {\r\n                return\r\n            }\r\n\r\n            const dragNode = state.rowEl.querySelector(`.${dragClass}`)!\r\n            state.dragNodeBaseLeft = Math.ceil(dragNode.getBoundingClientRect()!.left)\r\n\r\n            state.scrollParent = getScrollParent(state.rowEl)\r\n            state.startScrollTop = state.moveScrollTop = state.scrollParent.scrollTop\r\n            const {top, left, height, width} = (state.scrollParent.parentNode as HTMLElement).getBoundingClientRect()\r\n            state.scrollParentRect = {top, left, height, width}\r\n\r\n            state.indicator = document.createElement('div')\r\n            state.indicator.style.position = 'fixed'\r\n            state.indicator.style.pointerEvents = 'none'\r\n            state.indicator.style.height = `${indicatorSize}px`\r\n            state.indicator.style.width = `${state.scrollParentRect.width}px`\r\n            state.indicator.style.left = `${state.scrollParentRect.left}px`\r\n            state.indicator.style.backgroundColor = '#12b4a5'\r\n            document.body.appendChild(state.indicator)\r\n\r\n            state.scrollParent.addEventListener('scroll', handler.scroll)\r\n            document.addEventListener('mousemove', handler.mousemove)\r\n            document.addEventListener('mouseup', handler.mouseup)\r\n\r\n            utils.refresh()\r\n            autoScroll.showHover()\r\n        },\r\n        scroll() {\r\n            state.moveScrollTop = state.scrollParent!.scrollTop\r\n            utils.refresh()\r\n        },\r\n        /**\r\n         * 在dragover中判断clientX以及clientY，如果这两个值没有变化，就不往下执行，节省性能\r\n         * @author  韦胜健\r\n         * @date    2020/8/25 22:22\r\n         */\r\n        mousemove: (e: MouseEvent) => {\r\n            const {top, height} = state.scrollParentRect\r\n            if (e.clientY < top || e.clientY > top + height) {\r\n                return;\r\n            }\r\n            state.moveClientY = e.clientY\r\n            utils.refresh()\r\n        },\r\n        mouseup: () => {\r\n\r\n            autoScroll.hideHover()\r\n\r\n            const {startNode, moveNode, dropType, droppable} = state\r\n\r\n            state.scrollParent!.removeEventListener('scroll', handler.scroll)\r\n            document.removeEventListener('mousemove', handler.mousemove)\r\n            document.removeEventListener('mouseup', handler.mouseup)\r\n\r\n            state.indicator!.parentNode!.removeChild(state.indicator!)\r\n            state.startClientY = state.moveClientY = 0\r\n            state.rowEl = null\r\n            state.rowHeight = 0\r\n            state.moveNode = null\r\n            state.dragNodeBaseLeft = 0\r\n            state.scrollParent = null\r\n            state.startScrollTop = 0\r\n            state.scrollParentRect = {top: 0, left: 0, height: 0, width: 0}\r\n\r\n            if (!droppable) {\r\n                return\r\n            }\r\n\r\n            methods.removeSelf(startNode!)\r\n\r\n            switch (dropType) {\r\n                case TreeDropType.prev:\r\n                    methods.previousSibling(moveNode!, startNode!)\r\n                    break\r\n                case TreeDropType.inner:\r\n                    methods.unshiftChild(moveNode!, startNode!)\r\n                    methods.expand(moveNode!)\r\n                    break\r\n                case TreeDropType.next:\r\n                    methods.nextSibling(moveNode!, startNode!)\r\n                    break\r\n            }\r\n            methods.refreshCheckStatus()\r\n        }\r\n    }\r\n\r\n    return {\r\n        utils,\r\n        handler: {onMousedown: handler.mousedown}\r\n    }\r\n}","import {designPlc} from \"../../core/designPlc\";\r\nimport {computed, onBeforeUnmount, onMounted, PropType, watch} from 'vue';\r\nimport {TableNode} from \"../../../core/useTableNode\";\r\nimport {TreeDropType} from \"../../../../tree/utils/tree-constant\";\r\nimport {useScopedSlots} from \"../../../../../use/useScopedSlots\";\r\nimport {Plc} from \"../../core/plc.type\";\r\nimport {SimpleFunction, SimpleObject} from \"../../../../../shims\";\r\nimport {injectPlainTable} from \"../../../table\";\r\nimport {unit} from \"plain-utils/string/unit\";\r\nimport {useTableGetScroll} from \"../../../core/useTableGetScroll\";\r\nimport {usePlcTreeDraggier} from \"./plc-tree.draggier\";\r\nimport {delay} from \"plain-utils/utils/delay\";\r\n\r\n/*只显示展开收起按钮的时候的基本宽度，不算content宽度*/\r\nconst size = 30\r\n\r\nexport default designPlc({\r\n    name: 'plc-tree',\r\n    standardProps: {\r\n        autoFixedLeft: {default: true},\r\n        order: {default: -9996},\r\n        width: {default: size},\r\n        bodyCls: {default: 'plc-tree-node'},\r\n    },\r\n    externalProps: {\r\n        contentWidth: {type: Number, default: 100},                         // 显示的内容宽度\r\n        rowDraggable: {type: Boolean},                                      // 行是否可以拖拽排序\r\n        allowRowDraggable: {type: Function as PropType<(node: TableNode) => boolean>},// 行是否可以被拖拽放置到其他位置\r\n        allowRowDroppable: {type: Function as PropType<(startNode: TableNode, moveNode: TableNode, dropType: TreeDropType) => boolean>},// 行是否可以被放置（放到子节点中，放到前面，放到后面）\r\n\r\n        folderCollapseIcon: {type: String, default: 'el-icon-folder-s'},\r\n        folderExpandIcon: {type: String, default: 'el-icon-folder-opened'},\r\n        leafIcon: {type: String, default: 'el-icon-document'},\r\n    },\r\n    setup(props, ctx) {\r\n\r\n        const plc = ctx.proxy as any as Plc;\r\n        const table = injectPlainTable()\r\n        const {getScroll} = useTableGetScroll(table.event.on.onVirtualMounted)\r\n\r\n        const {scopedSlots} = useScopedSlots({content: {node: Object as PropType<TableNode>, plc: Object as PropType<Plc>, row: Object as PropType<SimpleObject>},}, true)\r\n\r\n        const maxShowLevel = computed(() => {\r\n            let ret = 0\r\n            table.flatNodes.value.forEach(node => node.level > ret ? (ret = node.level) : null)\r\n            return ret\r\n        })\r\n        /**\r\n         * 动态列宽，当展开收起的时候，自动更新列宽\r\n         * @author  韦胜健\r\n         * @date    2020/8/24 9:35\r\n         */\r\n        const width = computed(() => {\r\n            // 展开按钮的基本宽度\r\n            let expand = size\r\n            // 内容宽度，如果有content插槽，则加上props.contentWidth\r\n            let content = scopedSlots.content.isExist() ? props.contentWidth : 0\r\n            // 如果显示复选框，则宽度再加上size\r\n            let check = table.props.showCheckbox ? size : 0\r\n            // 如果显示拖拽排序按钮，则宽度再加上size\r\n            let draggable = props.rowDraggable ? size : 0\r\n\r\n            // 每一层都增加一个左边距 (expand + check) * level，所以每一层都加上这个宽度\r\n            const level = maxShowLevel.value\r\n            // 最后最大层的宽度\r\n            return expand * (level - 1) + (content + expand + check + draggable)\r\n        })\r\n\r\n        const methods = {\r\n            ...table.expandMethods,\r\n            ...table.checkMethods,\r\n            ...table.treeNodeMethods,\r\n        }\r\n\r\n        const handler = {\r\n            ...table.handler,\r\n        }\r\n\r\n        const draggier = usePlcTreeDraggier({\r\n            rowClass: 'plt-row',\r\n            dragClass: 'plc-tree-node-drag-btn',\r\n            levelPadding: size,\r\n            flatDataList: table.flatNodes,\r\n            props,\r\n            getScroll,\r\n            getParents: table.utils.getParents,\r\n            methods: {\r\n                ...methods,\r\n                refreshCheckStatus: async () => {\r\n                    await delay(120)\r\n                    table.flatNodes.value.forEach(methods.refreshCheckStatus)\r\n                },\r\n            },\r\n        })\r\n\r\n        const utils = {\r\n            getExpanderAttrs: (node: TableNode) => {\r\n                return {\r\n                    style: {marginLeft: unit((node.level - 1) * size)} as any,\r\n                }\r\n            },\r\n        }\r\n\r\n        onMounted(() => {\r\n            watch(() => maxShowLevel.value, () => {\r\n                plc.state.width = width.value\r\n            }, {immediate: true})\r\n        })\r\n\r\n        Object.assign(ctx.proxy, methods)\r\n\r\n        let unmountListener = [] as SimpleFunction[]\r\n        if (table.props.expandOnClickNode) {\r\n            const listener = (node: TableNode) => methods.toggleExpand(node)\r\n            table.event.on.onClickCell(listener)\r\n            unmountListener.push(listener)\r\n        }\r\n        if (table.props.checkOnClickNode) {\r\n            const listener = (node: TableNode) => methods.toggleCheck(node)\r\n            table.event.on.onClickCell(listener)\r\n            unmountListener.push(listener)\r\n        }\r\n        if (unmountListener.length > 0) {\r\n            onBeforeUnmount(() => unmountListener.forEach(listener => table.event.off.onClickCell(listener)))\r\n        }\r\n\r\n        return {\r\n            tableProps: table.props,\r\n            props,\r\n            scopedSlots,\r\n            handler,\r\n            utils,\r\n            draggier,\r\n        }\r\n    },\r\n}, {\r\n    summary: () => null,\r\n    default: ({refer, node, plc, row}) => {\r\n        return (\r\n            <>\r\n                <div class=\"plc-tree-node-expander\" {...refer.utils.getExpanderAttrs(node)}>\r\n                    <pl-button\r\n                        loading={node.loading}\r\n                        mode=\"text\"\r\n                        size=\"normal\"\r\n                        icon={node.isLeaf ? refer.props.leafIcon : node.expand ? refer.props.folderExpandIcon : refer.props.folderCollapseIcon}\r\n                        onClick={(e: MouseEvent) => !node.isLeaf && refer.handler.onClickExpandIcon(e, node)}/>\r\n                </div>\r\n                {refer.tableProps.showCheckbox && (\r\n                    <div class=\"plc-tree-node-check\">\r\n                        <pl-checkbox\r\n                            key={node.key}\r\n                            size={'normal'}\r\n                            modelValue={node.check}\r\n                            customReadonlny\r\n                            checkStatus={node.checkStatus}\r\n                            disabled={!node.isCheckable}\r\n                            onClick={(e: MouseEvent) => refer.handler.onClickCheckbox(e, node)}\r\n                        />\r\n                    </div>\r\n                )}\r\n                {refer.props.rowDraggable && (\r\n                    <pl-button mode=\"text\"\r\n                               icon=\"el-icon-list\"\r\n                               class=\"plc-tree-node-drag-btn\"\r\n                               disabled={!refer.draggier.utils.allowDrag(node)}\r\n                               onMousedown={refer.draggier.handler.onMousedown}/>\r\n                )}\r\n                {refer.scopedSlots.content.isExist() && (\r\n                    <div class=\"plc-tree-node-content\" style={`width:${unit(refer.props.contentWidth)}`}>\r\n                        {refer.scopedSlots.content({node, row, plc}, !plc.props.field ? null : row[plc.props.field])}\r\n                    </div>\r\n                )}\r\n            </>\r\n        )\r\n    }\r\n})","import {App} from 'vue'\r\nimport PlcIndex from './plc-index'\r\nimport PlcExpand from './plc-expand'\r\nimport PlcCheck from './plc-check'\r\nimport PlcDraggier from './draggier/plc-draggier'\r\nimport PlcTree from './tree/plc-tree'\r\n\r\nconst components = [\r\n    PlcIndex,\r\n    PlcExpand,\r\n    PlcCheck,\r\n    PlcDraggier,\r\n    PlcTree,\r\n]\r\n\r\nexport const PlcStandard = {\r\n    install: (app: App) => {\r\n        components.forEach(c => app.component(c.name, c))\r\n    }\r\n}\r\n\r\nexport {\r\n    PlcIndex,\r\n    PlcExpand,\r\n    PlcCheck,\r\n    PlcDraggier,\r\n    PlcTree,\r\n}\r\n","import {designPlc} from \"../core/designPlc\";\r\n\r\nexport default designPlc({\r\n    name: 'plc-input',\r\n}, {\r\n    edit: ({row, plc}) => !plc.props.field ? null : <pl-input v-model={row[plc.props.field]}/>\r\n},)","import {designPlc} from \"../core/designPlc\";\r\n\r\nexport default designPlc({\r\n    name: 'plc-number',\r\n}, {\r\n    edit: ({row, plc}) => !plc.props.field ? null : <pl-number v-model={row[plc.props.field]}/>\r\n},)","import {designPlc} from \"../core/designPlc\";\r\n\r\nexport default designPlc({\r\n    name: 'plc-date',\r\n}, {\r\n    edit: ({row, plc}) => !plc.props.field ? null : <pl-date v-model={row[plc.props.field]}/>\r\n},)","import {designPlc} from \"../core/designPlc\";\r\n\r\nexport default designPlc({\r\n    name: 'plc-color-picker',\r\n}, {\r\n    edit: ({row, plc}) => !plc.props.field ? null : <pl-color-picker v-model={row[plc.props.field]}/>\r\n},)","import {designPlc} from \"../core/designPlc\";\r\n\r\nexport default designPlc({\r\n    name: 'plc-toggle',\r\n    standardProps: {\r\n        addEditPadding: {default: true},\r\n    },\r\n}, {\r\n    summary: () => null,\r\n    default: ({row, plc}) => !plc.props.field ? null : <pl-toggle disabled v-model={row[plc.props.field]} trueValue=\"Y\" falseValue=\"N\"/>,\r\n    edit: ({row, plc}) => !plc.props.field ? null : <pl-toggle v-model={row[plc.props.field]} trueValue=\"Y\" falseValue=\"N\"/>,\r\n})","import {designPlc} from \"../core/designPlc\";\r\n\r\nexport default designPlc({\r\n    name: 'plc-rate',\r\n    standardProps: {\r\n        addEditPadding: {default: true},\r\n    },\r\n}, {\r\n    default: ({row, plc}) => !plc.props.field ? null : <pl-rate disabled v-model={row[plc.props.field]}/>,\r\n    edit: ({row, plc}) => !plc.props.field ? null : <pl-rate v-model={row[plc.props.field]}/>,\r\n})","import {App} from 'vue'\r\nimport PlcInput from './plc-input'\r\nimport PlcNumber from './plc-number'\r\nimport PlcDate from './plc-date'\r\nimport PlcColorPicker from './plc-color-picker'\r\nimport PlcToggle from './plc-toggle'\r\nimport PlcRate from './plc-rate'\r\n\r\nconst components = [\r\n    PlcInput,\r\n    PlcNumber,\r\n    PlcDate,\r\n    PlcColorPicker,\r\n    PlcToggle,\r\n    PlcRate,\r\n]\r\n\r\nexport const PlcEdit = {\r\n    install: (app: App) => {\r\n        components.forEach(c => app.component(c.name, c))\r\n    }\r\n}\r\n\r\nexport {\r\n    PlcInput,\r\n    PlcNumber,\r\n    PlcDate,\r\n    PlcColorPicker,\r\n    PlcToggle,\r\n    PlcRate,\r\n}\r\n","import {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\nimport table from './table'\r\nimport {VirtualTable} from \"./virtual-table\";\r\n\r\nimport Plc from './plc/core/plc'\r\nimport PlcGroup from './plc/core/plc-group'\r\nimport {PlcStandard} from \"./plc/standard\";\r\nimport {PlcEdit} from \"./plc/edit\";\r\n\r\nexport default createComponentPlugin(table, {\r\n    exposeComponents: {\r\n        VirtualTable,\r\n        Plc,\r\n        PlcGroup,\r\n    },\r\n    plugins: [\r\n        PlcStandard,\r\n        PlcEdit,\r\n    ]\r\n})","import {App} from \"vue\"\r\nimport {ComponentPlugin} from \"./shims\";\r\nimport {installPlugin} from \"./utils/installPlugin\";\r\n\r\nimport Root from './packages/root'\r\nimport Button from \"./packages/button\";\r\nimport ButtonGroup from './packages/button-group'\r\nimport Input from \"./packages/input\";\r\nimport Icon from './packages/icon';\r\nimport Loading from './packages/loading'\r\nimport LoadingMask from './packages/loading-mask'\r\nimport Checkbox from './packages/checkbox'\r\nimport CheckboxGroup from './packages/checkbox-group'\r\nimport MessageService from './packages/message'\r\nimport List from './packages/list'\r\nimport Item from './packages/item'\r\nimport Grid from './packages/grid'\r\nimport Radio from './packages/radio'\r\nimport RadioGroup from './packages/radio-group'\r\nimport Dialog from './packages/dialog'\r\nimport DialogService from './packages/dialog-service'\r\nimport Scroll from './packages/scroll'\r\nimport NoticeService from './packages/notice-service'\r\nimport LoadingService from './packages/loading-service'\r\nimport Number from './packages/number'\r\nimport Toggle from './packages/toggle'\r\nimport Slider from './packages/slider'\r\nimport Tag from './packages/tag'\r\nimport TagInput from './packages/tag-input'\r\nimport Rate from './packages/rate'\r\nimport VirtualList from './packages/virutal-list'\r\nimport Progress from './packages/progress'\r\nimport Pagination from './packages/pagination'\r\nimport Badge from './packages/badge'\r\nimport Step from './packages/step'\r\nimport Popper from './packages/popper'\r\nimport Dropdown from './packages/dropdown'\r\nimport Tooltip from './packages/tooltip'\r\nimport Alert from './packages/alert'\r\nimport Collapse from './packages/collapse'\r\nimport Card from './packages/card'\r\nimport Carousel from './packages/carousel'\r\nimport ColorPicker from './packages/color-picker'\r\nimport Cascade from './packages/cascade'\r\nimport Tree from './packages/tree'\r\nimport Select from './packages/select'\r\nimport DateTimeInput from './packages/date-time-input'\r\nimport Time from './packages/time'\r\nimport Date from './packages/date'\r\nimport Form from './packages/form'\r\nimport Table from './packages/table'\r\n\r\nfunction install(app: App) {\r\n    installPlugin(app, plugins)\r\n}\r\n\r\nconst plugins: ComponentPlugin[] = [\r\n    Root,\r\n\r\n    Button, ButtonGroup, Icon, Loading, LoadingMask,\r\n    List, Item, Grid, Dialog, Scroll, VirtualList, Progress, Pagination, Badge,\r\n    Step, Popper, Dropdown, Tooltip, Alert, Collapse, Card, Carousel, Table,\r\n\r\n    Input, Checkbox, CheckboxGroup, Radio, RadioGroup, Number, Toggle, Slider,\r\n    Tag, TagInput, Rate, ColorPicker, Cascade, Tree, Select, Time, DateTimeInput, Date,\r\n    Form,\r\n\r\n    MessageService, DialogService, NoticeService, LoadingService,\r\n]\r\n\r\nexport {\r\n    install,\r\n\r\n    Root,\r\n\r\n    Button, ButtonGroup, Icon, Loading, LoadingMask,\r\n    List, Item, Grid, Dialog, Scroll, VirtualList, Progress, Pagination, Badge,\r\n    Step, Popper, Dropdown, Tooltip, Alert, Collapse, Card, Carousel, Table,\r\n\r\n    Input, Checkbox, CheckboxGroup, Radio, RadioGroup, Number, Toggle, Slider,\r\n    Tag, TagInput, Rate, ColorPicker, Cascade, Tree, Select, Time, DateTimeInput, Date,\r\n    Form,\r\n\r\n    MessageService, DialogService, NoticeService, LoadingService,\r\n}\r\n\r\nexport default {\r\n    install,\r\n}"],"sourceRoot":""}