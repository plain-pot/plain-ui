{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/utils/PlainDate.ts","webpack:///./src/packages/time/servce/time-service.tsx","webpack:///./src/packages/popper/refershPopperReference.tsx","webpack:///./src/packages/button/button.tsx","webpack:///./src/packages/button/index.ts","webpack:///./story/pages lazy ^\\.\\/.*\\.vue$ namespace object","webpack:///./src/use/useStyle.ts","webpack:///./src/use/useEdit.ts","webpack:///./src/utils/createEventListener.ts","webpack:///./src/packages/form/form.validate.tsx","webpack:///./src/utils/nextIndex.ts","webpack:///./src/use/useModel.ts","webpack:///./story/app.vue?4d35","webpack:///./src/packages/notice-service/notice.tsx","webpack:///./src/packages/notice-service/notice-container.tsx","webpack:///./src/packages/notice-service/index.ts","webpack:///./src/packages/notice-service/notice-manager.tsx","webpack:///./src/packages/popper/edit/createPopperServiceComponent.tsx","webpack:///./src/packages/popper/edit/createAgentGetter.tsx","webpack:///./src/utils/installPlugin.ts","webpack:///./src/packages/icon/icon.tsx","webpack:///./src/packages/icon/index.ts","webpack:///./src/packages/button-group/button-group.tsx","webpack:///./src/utils/getServiceWithoutContext.tsx","webpack:///./src/use/useNumber.ts","webpack:///./src/packages/color-picker/sub/opacity.png","webpack:///./src/use/useRefs.ts","webpack:///./src/packages/list/list.tsx","webpack:///./src/packages/list/index.ts","webpack:///./story/app.vue","webpack:///./story/app/app-menu.vue","webpack:///./story/menu.ts","webpack:///./story/app/app-navigator.tsx","webpack:///./story/app/app-menu.vue?b487","webpack:///./story/components/demo-row.tsx","webpack:///./story/components/demo-row-controller.tsx","webpack:///./story/app/app-navigator-page.tsx","webpack:///./story/app.vue?c937","webpack:///./story/components/demo-line.tsx","webpack:///./story/components/demo-child.vue","webpack:///./story/components/demo-child.vue?d459","webpack:///./story/components/index.ts","webpack:///./story/main.tsx","webpack:///./src/use/useFunctionWrapper.ts","webpack:///./story/app/app-menu.vue?58ee","webpack:///./src/utils/getSlotExists.ts","webpack:///./src/packages/root/createDefaultManager.tsx","webpack:///./src/use/useEvent.ts","webpack:///./src/utils/renderNothing.ts","webpack:///./src/use/designComponent.ts","webpack:///./src/packages/item/item.tsx","webpack:///./src/packages/item/index.ts","webpack:///./src/packages/root/root.tsx","webpack:///./src/packages/root/index.ts","webpack:///./src/utils/constant.ts","webpack:///./src/use/useSlots.ts","webpack:///./src/utils/createComponentPlugin.ts","webpack:///./src/packages/root/createDefaultService.tsx","webpack:///./src/packages/form/form.utils.tsx","webpack:///./src/packages/form/form.tsx","webpack:///./src/utils/createCounter.ts","webpack:///./src/packages/date/date.utils.tsx","webpack:///./src/use/useCollect.ts","webpack:///./src/utils/createError.ts","webpack:///./src/use/useRefList.ts","webpack:///./src/use/useProps.ts","webpack:///./src/plugins/Event.ts","webpack:///./src/use/useStyles.ts","webpack:///./src/utils/toArray.ts","webpack:///./src/packages/root/registryRootService.ts","webpack:///./src/packages/form/form-item.tsx","webpack:///./src/packages/icon/icons lazy ^\\.\\/.*\\.json$ namespace object","webpack:///./src/packages/click-wave/click-wave-directive.tsx","webpack:///./src/use/useScopedSlots.ts","webpack:///./src/use/useClasses.ts","webpack:///./src/packages/keyboard/index.ts","webpack:///./src/packages/button-group/index.ts","webpack:///./src/packages/input/input.tsx","webpack:///./src/packages/input/input-inner-tags.tsx","webpack:///./src/packages/input/index.ts","webpack:///./src/packages/loading/loading.tsx","webpack:///./src/packages/loading/index.ts","webpack:///./src/packages/loading-mask/loading-mask.tsx","webpack:///./src/packages/loading-mask/index.tsx","webpack:///./src/packages/checkbox-inner/checkbox-inner.tsx","webpack:///./src/packages/checkbox-inner/index.ts","webpack:///./src/packages/checkbox-group/checkbox-group.tsx","webpack:///./src/packages/checkbox/checkbox.tsx","webpack:///./src/packages/checkbox/index.ts","webpack:///./src/packages/checkbox-group/index.ts","webpack:///./src/packages/message/message.tsx","webpack:///./src/packages/message/message-container.tsx","webpack:///./src/packages/message/index.ts","webpack:///./src/packages/message/message-manager.tsx","webpack:///./src/packages/grid/row.tsx","webpack:///./src/packages/grid/col.tsx","webpack:///./src/packages/grid/index.ts","webpack:///./src/packages/radio-inner/radio-inner.tsx","webpack:///./src/packages/radio-inner/index.ts","webpack:///./src/packages/radio-group/radio-group.tsx","webpack:///./src/packages/radio-group/index.ts","webpack:///./src/packages/radio/radio.tsx","webpack:///./src/packages/radio/index.ts","webpack:///./src/packages/dialog/dialog.tsx","webpack:///./src/packages/dialog-service/index.ts","webpack:///./src/packages/dialog/index.ts","webpack:///./src/packages/dialog-service/dialog-service.tsx","webpack:///./src/use/useMounted.ts","webpack:///./src/plugins/ResizeDetector.ts","webpack:///./src/utils/getElement.ts","webpack:///./src/packages/popper/trigger/BaseTrigger.ts","webpack:///./src/packages/popper/trigger/PopperTrigger.ts","webpack:///./src/packages/popper/popper.tsx","webpack:///./src/packages/popper/service/popper-service.tsx","webpack:///./src/packages/popper/service/index.tsx","webpack:///./src/packages/popper/index.ts","webpack:///./src/packages/scroll/vertical-scrollbar.tsx","webpack:///./src/packages/scroll/horizontal-scrollbar.tsx","webpack:///./src/packages/scroll/scroll.tsx","webpack:///./src/packages/scroll/index.ts","webpack:///./src/utils/newInstance.tsx","webpack:///./src/packages/loading-service/mask/loading-mask-directive.tsx","webpack:///./src/packages/loading-service/bar/index.ts","webpack:///./src/packages/loading-service/mask/loading-mask-service.tsx","webpack:///./src/packages/loading-service/mask/index.ts","webpack:///./src/packages/loading-service/bar/loading-bar-service.tsx","webpack:///./src/packages/loading-service/index.ts","webpack:///./src/packages/number/number.tsx","webpack:///./src/packages/number/index.ts","webpack:///./src/packages/toggle/toggle.tsx","webpack:///./src/packages/toggle/index.ts","webpack:///./src/packages/slider/slider.tsx","webpack:///./src/packages/slider/index.ts","webpack:///./src/packages/tag/tag.tsx","webpack:///./src/packages/tag/index.ts","webpack:///./src/packages/tag-input/tag-input.tsx","webpack:///./src/packages/tag-input/index.ts","webpack:///./src/packages/rate/rate.tsx","webpack:///./src/packages/rate/index.ts","webpack:///./src/packages/virutal-list/useVirtualList.tsx","webpack:///./src/packages/virutal-list/virtual-list.tsx","webpack:///./src/packages/virutal-list/index.ts","webpack:///./src/packages/progress/progress.utils.ts","webpack:///./src/packages/progress/progress-bar.tsx","webpack:///./src/utils/createAnimate.ts","webpack:///./src/packages/progress/progress-circle.tsx","webpack:///./src/packages/progress/progress-mini.tsx","webpack:///./src/packages/progress/index.ts","webpack:///./src/packages/pagination/pagination.tsx","webpack:///./src/packages/step/step.utils.ts","webpack:///./src/packages/pagination/index.ts","webpack:///./src/packages/badge/badge.tsx","webpack:///./src/packages/badge/index.ts","webpack:///./src/packages/step/step/step.tsx","webpack:///./src/packages/step/step/step-group.tsx","webpack:///./src/packages/step/arrow-step/arrow-step.tsx","webpack:///./src/packages/step/arrow-step/arrow-step-group.tsx","webpack:///./src/packages/triangle/triangle.tsx","webpack:///./src/packages/triangle/index.ts","webpack:///./src/packages/step/index.ts","webpack:///./src/packages/dropdown/dropdown.tsx","webpack:///./src/packages/dropdown/dropdown-menu.tsx","webpack:///./src/packages/dropdown/dropdown-group.tsx","webpack:///./src/packages/dropdown/dropdown-option.tsx","webpack:///./src/packages/dropdown/index.ts","webpack:///./src/packages/tooltip/tooltip.tsx","webpack:///./src/packages/tooltip/tooltip-directive.tsx","webpack:///./src/packages/tooltip/index.ts","webpack:///./src/packages/collapse/collapse-group.tsx","webpack:///./src/packages/collapse/collapse.tsx","webpack:///./src/packages/collapse/collapse-transition.tsx","webpack:///./src/packages/collapse/index.ts","webpack:///./src/packages/alert/alert.tsx","webpack:///./src/packages/alert/index.ts","webpack:///./src/packages/card/card.tsx","webpack:///./src/packages/card/index.ts","webpack:///./src/packages/carousel/carousel-item.tsx","webpack:///./src/packages/carousel/carousel.tsx","webpack:///./src/packages/carousel/index.ts","webpack:///./src/packages/popper/edit/useEditPopperAgent.tsx","webpack:///./src/packages/color-picker/service/color-picker.service.tsx","webpack:///./src/packages/color-picker/utils/ColorUtils.ts","webpack:///./src/packages/color-picker/color-picker.tsx","webpack:///./src/packages/color-picker/color-button.tsx","webpack:///./src/packages/color-picker/utils/Color.ts","webpack:///./src/packages/color-picker/sub/color-alpha-slider.tsx","webpack:///./src/packages/color-picker/sub/color-hue-slider.tsx","webpack:///./src/packages/color-picker/sub/color-sv-panel.tsx","webpack:///./src/packages/color-picker/color-panel.tsx","webpack:///./src/packages/color-picker/index.ts","webpack:///./src/packages/cascade/utils/CascadeNode.ts","webpack:///./src/utils/createKeyHandler.ts","webpack:///./src/utils/createFlagManager.ts","webpack:///./src/packages/cascade/utils/CascadMark.ts","webpack:///./src/packages/cascade/panel/cascade-panel.tsx","webpack:///./src/packages/tree/utils/tree-constant.ts","webpack:///./src/packages/cascade/service/cascade-service.tsx","webpack:///./src/packages/cascade/cascade.tsx","webpack:///./src/packages/cascade/index.ts","webpack:///./src/packages/tree/core/useTreeNode.ts","webpack:///./src/packages/tree/core/useTree.ts","webpack:///./src/packages/tree/utils/props.ts","webpack:///./src/packages/tree/utils/tree.utils.ts","webpack:///./src/use/useAutoScroll.ts","webpack:///./src/utils/getRowEl.ts","webpack:///./src/utils/getScrollParent.ts","webpack:///./src/packages/tree/core/useTreeDraggier.ts","webpack:///./src/packages/tree/tree.tsx","webpack:///./src/packages/tree/index.ts","webpack:///./src/packages/select/select-panel.tsx","webpack:///./src/packages/select/select-group.tsx","webpack:///./src/packages/select/select-option.tsx","webpack:///./src/packages/select/select-service.tsx","webpack:///./src/packages/select/select.tsx","webpack:///./src/packages/select/index.ts","webpack:///./src/packages/date-time-input/date-time-input.tsx","webpack:///./src/packages/date-time-input/useDateTime.ts","webpack:///./src/packages/date-time-input/index.ts","webpack:///./src/packages/time/panel/time-range-panel.tsx","webpack:///./src/packages/time/panel/time-panel.utils.ts","webpack:///./src/packages/time/panel/time-panel.tsx","webpack:///./src/packages/time/time.tsx","webpack:///./src/packages/time/panel/time-base-column.tsx","webpack:///./src/packages/time/panel/time-base-panel.tsx","webpack:///./src/packages/date/useDate.ts","webpack:///./src/packages/time/index.ts","webpack:///./src/packages/date/panel/date-base-panel-year.tsx","webpack:///./src/packages/date/panel/date-panel.tsx","webpack:///./src/packages/date/service/date-service.tsx","webpack:///./src/packages/date/date.tsx","webpack:///./src/packages/date/panel/date-base-panel-month.tsx","webpack:///./src/packages/date/panel/date-base-panel-date.tsx","webpack:///./src/packages/date/panel/date-panel-date-range.tsx","webpack:///./src/packages/date/panel/date-panel-dates.tsx","webpack:///./src/packages/date/panel/date-panel.week.tsx","webpack:///./src/packages/date/index.ts","webpack:///./src/packages/form/index.ts","webpack:///./src/packages/table/plc/core/plc-collector.tsx","webpack:///./src/packages/table/plc/core/renderColgroup.tsx","webpack:///./src/packages/table/core/head/useHeadCellResize.ts","webpack:///./src/packages/table/plc/core/render.tsx","webpack:///./src/packages/table/core/head/useColDraggier.tsx","webpack:///./src/packages/table/core/head/head-cell.tsx","webpack:///./src/packages/table/core/table.utils.ts","webpack:///./src/packages/table/core/head/head.tsx","webpack:///./src/packages/table/core/body/cell.tsx","webpack:///./src/packages/table/plc/format/utils/iteratePlcList.tsx","webpack:///./src/packages/table/core/body/row.tsx","webpack:///./src/packages/table/virtual-table.tsx","webpack:///./src/packages/table/core/body/body.tsx","webpack:///./src/packages/table/plc/core/plc.utils.tsx","webpack:///./src/packages/table/plc/format/process/copyPlcList.ts","webpack:///./src/packages/table/plc/format/process/processStateConfigAndProps.ts","webpack:///./src/packages/table/plc/format/process/processPlcSort.ts","webpack:///./src/packages/table/plc/format/process/processHeadPlcList.ts","webpack:///./src/packages/table/plc/format/process/processPlcFixed.ts","webpack:///./src/packages/table/plc/format/process/getPltCellClass.ts","webpack:///./src/packages/table/plc/format/process/processPlcClassAndStyle.ts","webpack:///./src/packages/table/plc/format/formatPlcList.tsx","webpack:///./src/packages/table/plc/format/usePlcList.tsx","webpack:///./src/packages/table/core/useBindScroll.ts","webpack:///./src/packages/table/core/useTableNode.ts","webpack:///./src/packages/table/core/useTableGetScroll.tsx","webpack:///./src/packages/table/core/useFixedShadow.ts","webpack:///./src/packages/table/table.tsx","webpack:///./src/packages/table/plc/core/plc.tsx","webpack:///./src/packages/table/plc/core/plc-group.tsx","webpack:///./src/packages/table/plc/core/designPlc.tsx","webpack:///./src/packages/table/plc/standard/plc-index.tsx","webpack:///./src/packages/table/plc/standard/plc-expand.tsx","webpack:///./src/packages/table/plc/standard/plc-check.tsx","webpack:///./src/packages/table/plc/standard/draggier/core/utils.ts","webpack:///./src/packages/table/plc/standard/draggier/core/use-list-draggier.ts","webpack:///./src/packages/table/plc/standard/draggier/core/use-list-draggier.virtual.ts","webpack:///./src/packages/table/plc/standard/draggier/core/index.tsx","webpack:///./src/packages/table/plc/standard/draggier/plc-draggier.tsx","webpack:///./src/packages/table/plc/standard/tree/plc-tree.draggier.tsx","webpack:///./src/packages/table/plc/standard/tree/plc-tree.tsx","webpack:///./src/packages/table/plc/standard/index.ts","webpack:///./src/packages/table/plc/edit/plc-input.tsx","webpack:///./src/packages/table/plc/edit/plc-number.tsx","webpack:///./src/packages/table/plc/edit/plc-date.tsx","webpack:///./src/packages/table/plc/edit/plc-color-picker.tsx","webpack:///./src/packages/table/plc/edit/plc-toggle.tsx","webpack:///./src/packages/table/plc/edit/plc-rate.tsx","webpack:///./src/packages/table/plc/edit/index.ts","webpack:///./src/packages/table/index.ts","webpack:///./src/index.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","CompareMode","WrapDate","displayFormat","valueFormat","dateObject","this","setValue","parse","String","year","isNull","defaultDate","setFullYear","month","date","setMonth","hour","setHours","minute","setMinutes","second","setSeconds","time","setTime","setHour","setMinute","setSecond","pd","setYear","Y","setMonthDate","format","displayString","valueString","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getDay","getTime","Number","dateString","timeString","Date","formatString","today","PlainDate","TimeServiceGetter","render","attrs","defaultPopperAttrs","transition","REFRESH_POPPER_REFERENCE","refreshPopperReference","provide","refresh","inject","defaultValue","freshPopperReference","log","designComponent","directives","ClickWave","props","default","label","width","icon","active","Boolean","noPadding","block","throttleClick","asyncHandler","Function","nativeAttrs","emits","onClick","setup","emit","useSlots","slots","useProps","NUMBER","PROMISE","propsState","useStyle","status","styleComputed","useEdit","editState","editComputed","buttonGroup","otherComputed","state","handleClick","handleClickInner","stopPropagation","editable","loading","val","throttle","trailing","immediate","classes","shape","size","disabled","styles","useStyles","style","unit","createComponentPlugin","map","webpackAsyncContext","req","ids","id","keys","StyleMode","StyleShape","StyleSize","StyleStatus","StyleProps","USE_STYLE_PROVIDER","ctx","option","parent","defaultData","assign","fillet","normal","parentData","adjust","EDIT_PROVIDER","EditProps","readonly","placeholder","customReadonly","parentEditComputed","_event","onBlur","on","off","onChange","createEventListener","config","FormValidateTrigger","FormValueType","FormValidateUtils","getValueByField","field","formData","transform","indexOf","fields","split","index","len","getMaxMessage","max","Array","isArray","getMinMessage","min","getListValue","checkRule","rule","fieldToLabel","required","options","pattern","validator","validList","f","invalidValues","filter","trim","optionList","find","v","isExist","test","toString","validateResultList","formatFormRules","formComponentRules","formItems","resultRules","forEach","formItem","rules","item","formItemRules","formComponentRulesList","validateField","trigger","formValidateResultMap","associateFields","matchField","change","validateResult","validate","validateResultMap","reduce","prev","next","validateMessage","fieldToRequired","methods","nextIndex","useModel","emitter","autoWatch","autoEmit","onClose","zIndex","close","handler","onClickCloseIcon","onMouseenter","closeTimer","onMouseleave","renderHead","title","noClose","renderContent","renderFoot","NoticeServiceDirection","horizontal","vertical","duration","refs","useRefList","padding","utils","refer","getNotice","messages","start","proxy","containers","end","getContainer","ref","container","formatOption","idCount","getNoticeService","registryRootService","getManager","service","fo","manager","$$notice","getServiceWithoutContext","install","app","mixin","beforeCreate","counter","createCounter","mergeAttrs","LISTENER_MATCH_REG","agent","defaultAttrs","args","createPopperServiceComponent","createDefaultService","isShow","isOpen","renderKey","getService","getRefer","show","hide","popperAttrs","defaultOption","serviceOption","renderAttrs","defaultRenderAttrs","onClickBody","hideOnClickBody","noContentPadding","reference","popper","createAgentGetter","scope","root","ins","popperServiceGetter","createDefaultManager","toggle","destroy","cacheMap","WeakMap","cacheKey","$root","set","installMap","installPlugin","plugins","installedPlugins","plugin","use","registry","icons","prefix","unshift","getIconVNode","iconName","registryIcon","reset","Icon","BUTTON_GROUP_PROVIDER","ButtonModeProvider","fill","parentGroup","getIns","body","mount","serviceGetter","toNumber","replace","useNumber","ret","numberState","useRefs","refName","direction","Component","class","defaultPath","menuSize","headSize","fixHeight","menus","menuGroup","children","menu","handleClickMenu","currentPath","page","complete","MENUS","getRoute","uri","decodeURIComponent","location","hash","charAt","substring","path","AppNavigator","provideRefer","pathChangeListener","setupContext","hashChangeListener","pageReadyListener","nav","route","go","encodeURIComponent","pathChange","listener","hashChange","pageReady","addEventListener","navigator","DEMO_ROW_STORAGE_KEY","DemoRowCache","str","localStorage","getItem","cache","JSON","flag","setItem","stringify","setAll","DemoRow","group","DemoRowCollector","child","demoRow","join","clickTitle","DemoRowController","changeAll","useCollect","AppNavigatorPage","Page","onPathChange","eject","components","AppMenu","watch","computed","DemoLine","labelWidth","mounted","beforeUnmount","installDemoComponent","component","warnHandler","msg","vm","trace","startsWith","warn","MockData","data1","data2","treeData","address","useFunctionWrapper","func","_use","getSlotExist","prevState","slotNames","slotName","managerName","serviceComponent","ServiceComponent","opt","getComponentEmit","emitObject","match","kebabCaseName","kebabCase","updateName","toLowerCase","useEvent","once","onUpdateModelValue","fn","clear","renderNothing","createError","expose","leftOptions","duplicateKey","Tag","managers","getManagerInstance","managerComponent","managerInstance","$attrs","attrName","attrComponent","RenderComponent","rootRef","initRoot","CheckboxStatus","DEFAULT_STATUS","primary","STATUS","white","black","success","info","names","makeReactive","exist","vnode","slot","exposeComponents","wrapExposeComponents","componentList","values","comp","FormLabelAlign","FormContentAlign","FormValidateMode","Form","disabledFields","readonlyFields","modelValue","validateMode","form","hideRequiredAsterisk","hideValidateMessage","validateOnRulesChange","column","contentWidth","labelAlign","contentAlign","left","centerWhenSingleColumn","colon","columnGutter","inline","onFieldValueChange","newVal","oldVal","items","FormCollector","maxLabelWidth","Math","align","right","content","col","bodyStyles","formValidate","formItemComponentRules","childState","validateMethods","autoLoading","autoAlert","clearValidate","showError","freezeState","oldFormData","validateHandler","onEditChange","onBlurChange","blur","onFieldChange","onFormDataChange","debounce","newFormData","deep","prefixString","count","DateView","SlideTransitionDirection","DateEmitRangeType","DatePublicProps","range","view","selectDate","datetime","firstWeekDay","defaultTime","defaultStartTime","defaultEndTime","DefaultDateFormatString","week","dates","DatePublicEmits","rangeType","onUpdateStart","onUpdateEnd","onUpdateView","DatePanelWrapper","center","DatePanelItemWrapper","Node","clickable","now","hoverStart","hover","hoverEnd","DateViewSeq","WeekUtils","getLastPdOfWeek","copy","weekDayDuration","day","offsetDay","getWeekNumber","vpd","valueLastWeekPd","setYMD","yearFirstDayLastWeekPd","num","getWeekZhcnString","useCollectInParentInner","indexMap","addItem","sort","el","from","childNodes","nodeName","display","a","b","removeItem","parentName","provideString","injectDefaultValue","isLog","reactive","FormatPropType","usePropsFormatter","types","formatTypes","FUNCTION","lastIndexOf","usePropsInner","configKeys","formatConfig","configKey","createPlainEvent","getListenMap","events","Map","hasListener","listenName","listenMap","listeners","toArray","RootServiceScope","RootController","getRoot","createService","mapKey","HTMLDivElement","invalidate","onEditBlur","staticWidth","hasLabel","isRequired","isBlock","paddingRight","labelStyles","scrollWidth","invalidField","suffix","ClickWaveData","wavingTimer","removeAttribute","updateOption","removeEventListener","binding","updated","unbind","useScopedSlots","scopedSlots","useClass","KEY","KeyBoardMap","16","17","18","8","9","13","27","32","46","37","38","39","40","189","187","48","49","50","51","52","53","54","55","56","57","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","112","113","114","115","116","117","118","119","120","121","122","123","getKey","keyCode","KeyboardService","listen","unbindListener","cancelActiveElement","activeElement","_onkeydown","currentTarget","ctrlKey","shiftKey","altKey","compositionKeyName","preventDefault","handleKeyboard","placeValue","minHeight","maxHeight","textarea","suffixIcon","prefixIcon","clearIcon","clearHandler","autoHeight","isFocus","inputReadonly","throttleEnter","inputInnerTabindex","onFocus","onKeydown","onEnter","onEsc","onClickInput","onClickPrefixIcon","onClickSuffixIcon","onClickClearIcon","input","HTMLInputElement","hiddenInput","HTMLTextAreaElement","handlerEnter","handleEnterInner","model","enter","clickPrefixIcon","clickSuffixIcon","clickClearIcon","clearValue","height","publicProps","onInput","esc","focus","resetTextAreaHeight","scrollHeight","hidden","prepend","append","collapseTags","InputInnerTags","HTMLElement","innerHTML","delay","outerHTML","loadingType","background","unlock","fixedPosition","inDirective","isMounted","resetParentPosition","getComputedStyle","position","checkStatus","check","minus","CheckboxGroup","itemWidth","CheckboxGroupCollector","activeChildren","innerState","checkboxForAll","allKeys","hasCheck","hasUncheck","uncheck","getCheckStatus","checkbox","exceed","changeValue","add","delete","clickCheckbox","trueValue","falseValue","checkboxGroup","checked","click","targetWidth","clickEl","MessageServiceDirection","closeMessage","getMessage","getMessageService","Row","justify","gutter","marginLeft","marginRight","Col","span","order","offset","pull","className","xs","sm","md","lg","row","classList","sizeProps","obj","prop","paddingLeft","onClickRadio","keydown","space","DialogServiceEditType","minWidth","maxWidth","fullHeight","fullWidth","wrapperPadding","contentPadding","showHead","fullscreen","mask","dialogClass","serviceClass","cancelOnClickMask","showClose","beforeClose","destroyOnClose","confirmButton","cancelButton","closeOnConfirm","closeOnCancel","confirmButtonText","cancelButtonText","confirmOnEnter","cancelOnEsc","disabledCancel","disabledConfirm","onConfirm","onCancel","isLoading","wrapperStyles","alignItems","justifyContent","wrapperClasses","bodyClasses","hasHead","hasFoot","foot","contentStyle","keyboardEventOption","confirm","cancel","clickWrapper","contains","clickClose","open","Wrapper","OptionKeys","editValue","targetOption","editType","editReadonly","getDialogService","useMounted","callback","detect","oldWidth","oldHeight","runCallback","observer","MutationObserver","observe","childList","subtree","ceil","disconnect","ResizeDetectorDirective","__resizedetextor__","getElement","$el","nodeType","nextElementSibling","getBaseTrigger","triggerName","openModel","hoverOpenDelay","hoverCloseDelay","PopperTriggerType","getHoverTrigger","getClickTrigger","getFocusTrigger","manual","getManualTrigger","openTimer","onEnterReference","leave","onLeaveReference","onEnterPopper","onLeavePopper","onClickReference","oldTabIndex","onReferenceFocus","onReferenceBlur","init","getPopperTrigger","cb","onClickPopper","popperClass","Element","placement","arrow","boundary","sizeEqual","scrollAttrs","onUpdateOpen","onInit","onDestroy","onOpen","onShow","onHide","onMousedownPopper","comment","referenceEl","onTransitionend","referenceVNode","popperClasses","popperStyles","sizeStyles","offsetWidth","offsetHeight","fitHostWidth","onPopperContentTransitionend","bindEvents","unbindEvents","initPopper","arrowSize","shouldUpdate","shouldEmit","refreshReference","setPlacement","popperConfigChangeHandler","isUnmounted","Comment","ReferenceVNode","PopperService","getPopperService","UnmountListener","EVENT_NAME","_","uid","VerticalScrollbar","tooltip","scroll","dragState","top","clientY","scrollTop","contentHeight","hostHeight","targetScrollbarSize","backgroundColor","scrollbarColor","onScroll","onMousedown","isDragging","onMousemove","onMouseup","disabledUserSelect","deltaY","scrollAfterDragEnd","wrapper","enableUserSelect","TooltipDirective","PLAIN_SCROLL_VERTICAL_POSITION","HorizontalScrollbar","clientX","scrollLeft","hostWidth","deltaX","Scroll","resize","refreshState","scrollbarSize","scrollX","scrollY","hideScrollbar","alwaysShowScrollbar","fitContentWidth","fitContentHeight","fitHostHeight","topThreshold","bottomThreshold","autoScrollSpeed","disableListTransition","horizontalScrollbarTooltip","verticalScrollbarTooltip","onVerticalScrollTop","onVerticalScrollBottom","onVerticalScrollCenter","host","verticalPosition","cancelAnimate","wrapperScrollTop","wrapperScrollLeft","emitScroll","_isDragging","hostStyles","contentStyles","overflowX","overflowY","width1","height1","contentResize","width2","height2","hostResize","point","configOrTime","noEmitScroll","done","x","y","cancelAnimationFrame","ny","nx","ky","kx","startTime","run","nowTime","delta","requestAnimationFrame","scrollEnd","autoScrollTop","autoScrollBottom","autoScrollLeft","autoScrollRight","stopAutoScroll","disabledQueueAnimation","windowResize","popperOpen","popperShow","wrapperMousewheel","wrapperScroll","bottom","onMousewheel","newInstance","LoadingBarStatus","Mask","update","unmount","directive","loadingMask","inactive","LoadingMaskDirective","getLoadingMaskService","wait","interval","autoLoadingStep","startDelayer","color","process","doneColor","fail","failColor","percent","opacity","startAutoLoading","setInterval","stopAutoLoading","clearInterval","autoProcess","autoStart","getLoadingBarService","bar","NAN","step","stepStrictly","precision","hideButton","inputProps","getValue","isNaN","getEffectiveValue","formatModelValue","formatValue","checkValue","toFixed","intervalAdd","intervalMinus","up","down","isActive","isChecked","mousedown","mouseup","total","alignEnd","full","showSteps","tooltipFormatter","dragStart","touching","tempStart","tempEnd","startX","startY","totalLength","transferValueToLength","transferLengthToValue","setStart","setEnd","startPosition","endPosition","progressStyles","startTooltip","endTooltip","steps","stepItemStyles","removeUnit","dragstart","mousemove","durX","durY","temp","dur","stepLength","divisor","beforeAdd","beforeRemove","noInput","isEditing","inputValue","clickWindow","clickEditButton","inputEnter","tagClose","activeIcon","inactiveIcon","totalWidth","elLeft","activeStyles","getBoundingClientRect","half","useVirtualList","current","pageIndex","nodes","pageSize","offsetData","list","startPageIndex","getPageIndex","strutStyles","dynamicSize","getIndex","middle","floor","middleBottom","scrollIndex","resetData","elNodes","node","vid","prevNode","prevHeight","deltaHeight","virtual","require","virtualIndex","PROGRESS_DEFAULT_PROPS","outerColor","innerColor","speed","successColor","errorColor","ProgressBar","inlineText","iconColor","outerStyles","borderRadius","innerStyles","createAnimate","initValue","action","k","deltaTime","stop","ProgressCircle","lineSize","startAngle","antiClockwise","animate","radius","pathD","degrees","PI","sin","cos","pathStroke","circleStroke","pathStyles","ProgressMini","round","StepStatus","SizesWidth","large","mini","totalPage","pagerCount","currentPage","layout","pageSizes","prevText","nextText","jumperNumberWidth","onJump","onPrev","onNext","onCurrentChange","onSizeChange","jumperValue","totalPageData","pageInfo","midPagerCount","showPrevMore","showNextMore","pagers","array","startPage","getPagerButtonClass","changeCurrent","sizes","jumper","pager","blank","parts","part","dot","contentClass","showValue","badge","StepUtils","getCurrentIndex","getStepStatus","currentStatus","currentIndex","finish","Step","stepGroup","StepCollector","isLast","isTitleAlignBottom","dotIcon","StepGroup","titleAlignBottom","ArrowStep","hideIndex","ArrowStepCollector","isFirst","ArrowStepGroup","DirectionMap","uppercaseFirstLetter","toUpperCase","targetStyles","border","disabledHideOnClickOption","clickDropdownOption","onClickOption","dropdown","clickOption","DropdownMenu","DropdownGroup","DropdownOption","showWidth","theme","HTMLSpanElement","oldOption","deepEqual","Tooltip","DEFAULT_OPTION","unmounted","limit","clickCollapseTitle","valCounter","detail","noArrow","selfVal","isDisabled","onClickTitle","onAfterLeave","beforeEnter","addClass","dataset","oldPaddingTop","paddingTop","oldPaddingBottom","paddingBottom","oldOverflow","overflow","afterEnter","removeClass","beforeLeave","transitionProperty","afterLeave","onBeforeEnter","onAfterEnter","onBeforeLeave","onLeave","CollapseTransition","CollapseGroup","desc","isClosed","onClickClosed","shadow","poster","operator","carousel","CarouselCollector","itemVal","getItemStyles","isAnimating","Carousel","autoplay","disabledOperator","disabledIndicator","indicatorTrigger","card","cardScale","indicator","autoplayTimer","prevActiveIndex","vals","activeVal","activeIndex","sortVals","valArray","abs","pop","sortIndex","activeSortIndex","resetAutoplayTimer","leading","onIndicator","cover","CarouselItem","useEditPopperAgent","focusCounter","inputHandler","ColorPickerServiceGetter","INT_HEX_MAP","10","11","12","14","15","hexOne","high","low","rgb2hex","g","isOnePointZero","parseFloat","isPercentage","bound01","processPercent","parseInt","rgb2hsv","h","hsv2rgb","hue","saturation","q","mod","HEX_INT_MAP","A","B","C","D","E","F","parseHexChannel","hex","isEffectiveColorString","ColorPickerType","opacityBg","backgroundImage","ColorFormat","ColorPicker","enableAlpha","button","agentState","scopedSlotsOnClick","emitValue","variable","bg","ColorAlphaSlider","thumbSize","tempTop","shadowStyles","thumbStyles","setTop","offsetY","ColorHueSlider","tempLeft","setLeft","offsetX","ColorSvPanel","onDblclick","tempSaturation","tempValue","updatePosition","isMouseDown","dblclick","red","green","blue","alpha","updateByString","needInitializedEnableAlpha","_value","setRgb","setHex","currentColor","setHsv","rgbColor","getDefaultColor","ColorPanel","onBblclickSvPanel","defaultColor","svChange","updateByHsv","hueChange","alphaChange","updateByAlpha","dblclickSvPanel","inputChange","formatVal","inputBlur","updateByHex","updateByRgb","ColorButton","ColorPickerService","level","parentRef","markRef","ctxState","selfGetter","childrenField","loaded","labelField","childrenData","isLeaf","expandKeys","selfExpandKeys","nodeDisabled","filterData","filterText","filterMethod","some","createKeyHandler","keyField","createFlagManager","getActiveKeys","generator","getList","TreeDropType","TreeNodeCheckStatus","CascadePanelProps","hoverDebounce","emptyText","selectBranch","lazy","getChildren","expandNodes","onClickItem","onGetChildren","onUpdateData","cascadeMark","formatData","cascadeData","checkProps","iterateAll","iterateChildren","getChildrenAsync","initLazy","isPassFilter","mouseenterItem","expand","clickItem","isExpand","isLoaded","setChildren","empty","filterList","cascadeList","listIndex","nodeIndex","isEmpty","CascadeServiceGetter","showLast","separator","filterable","showFormat","inputAttrs","cacheData","onServiceChange","sourceKey","onInputChange","ie","CascadePanel","CascadeService","iteratorTreeData","useTreeNode","keyManager","getTreeNodeByDataAdjust","dataModel","showCheckbox","iterate","iterateChildrenFirst","checkStrictly","every","getTreeNodeByData","selfRef","isCheckable","filterNodeMethod","isVisible","nodeMap","iterator","stopWatchEffect","onTrigger","getReactiveChildrenData","removeSelf","parentChildrenData","previousSibling","self","nextSibling","unshiftChild","treeNodeUtils","treeNodeMethods","currentKey","onUpdateCurrent","handleKeyOrNode","keyOrNode","baseMethods","getNode","results","getParents","parents","defaultExpandAll","expandMethods","expandAll","checkNodes","checkKeys","setChildrenData","setCurrent","getCurrent","according","collapse","onExpand","onExpandChange","autoExpandParent","onCollapse","toggleExpand","collapseAll","checkMethods","onCheck","onCheckChange","onUncheck","toggleCheck","checkAll","uncheckAll","getCheckedData","refreshCheckStatus","reverse","onClickExpandIcon","onClickCheckbox","onClickCell","onClickNode","expandOnClickNode","checkOnClickNode","useTree","createProps","createEvent","TreeProps","nodeIcon","nodeHeight","expandIcon","intent","draggable","allowDrag","allowDrop","folderCollapseIcon","folderExpandIcon","leafIcon","basePadding","TreeUtils","getPaddingLeft","getTreeNodeStyles","getTreeNodeClasses","createIndicator","hostEl","indicatorSize","publicStyles","bottomIndicatorTop","rightIndicatorLeft","useAutoScroll","getScroll","showHover","enterStart","enterEnd","hideHover","getRowEl","rowClass","rowEl","hasClass","getScrollParent","useTreeDraggier","dragClass","flatList","startNode","moveNode","startScrollTop","moveScrollTop","startClientY","moveClientY","rowHeight","scrollParent","scrollParentRect","dragNodeBaseLeft","dropType","inner","droppable","autoScroll","allowRowDraggable","allowRowDroppable","getIndicatorStyles","targetIndex","external","dragNode","querySelector","pointerEvents","treeNode","exposeMethods","draggier","emptyNode","Panel","multiple","multipleMaxLimit","multipleMinLimit","noMatchText","noDataText","showDebug","SelectPanelCollector","showOptions","isSelected","optionProps","newValue","highlightPrev","offsetTop","highlightNext","selectHighlight","Group","SelectGroupCollector","panel","Option","SelectCollector","SelectServiceGetter","Props","Select","onSpace","onUp","onDown","popperHeight","displayValue","strings","placeholderValue","inputBinding","onInputClear","onInputKeydown","multipleTags","onClickItemCloseIcon","SelectOption","SelectGroup","SelectPanel","SelectService","regexp","RegExp","useDateTime","valueInput","startInput","endInput","plInput","clickInput","customInputFocus","customInputBlur","TimeRangePanelType","TimePublicProps","custom","checkDisabled","onMousedownStartPanel","onMousedownEndPanel","onStartChange","endPd","startPd","Hms","onEndChange","publicBinding","disableChangeOnScroll","TimePanelProps","onMousedownBasePanel","onBaseChange","onRangeChange","base","startModel","endModel","serviceHandler","customHandler","valuePd","parseDisplayString","setDisplayValue","TimePanelLayout","liList","resetPosition","zeroize","findOne","UseDateJudgementView","maxmin","maxpd","minpd","Infinity","columnChange","TimeBaseColumn","TimeBasePanel","TimeRangePanel","TimePanel","DATE_PANEL_PROVIDER","getFormatString","useDate","judgementForChild","useModelConfig","jdView","topState","hoverRange","valueRange","tempPd","viewModel","slide","ipd","provideData","setSelectDate","getStatus","DatePanelType","selectYear","prevYearList","nextYearList","onMouseenterItem","mid","DateServiceGetter","customWeekString","valuePds","datesString","isDates","YMDHms","YMD","months","setSelectYear","YM","prevYear","nextYear","monthList","onMouseEnterItem","midPd","onSelectYearChange","Month","onSelectTime","onSelectDateChange","onMouseleaveDateList","weekList","weeks","concat","dateList","currentMonthFirstDate","firstDateTime","isSelectMonth","defaultTimePd","setHms","monthAttrs","onSelectMonthChange","timeAttrs","timePd","tempDefaultTime","showTimePd","prevMonth","nextMonth","changeView","oldSeq","newSeq","DefaultTime","pdStart","pdEnd","pdStartTime","pdEndTime","endSelectDate","valueModel","hoverPd","WeekGetData","isHover","getWeekPdByPlainDate","weekPd","dateAttrs","itemStart","itemStartPd","DateBasePanelYear","DateBasePanelMonth","DateBasePanelDate","DatePanelDateRange","DatePanelDates","DatePanelWeek","DatePanel","FormItem","TablePlcCollector","ProvideString","useParent","parentElement","remove","useChild","renderColgroup","flatPlcList","plc","useHeadCellResize","table","indicatorEl","endX","tableEl","cell","durWidth","setDurWidth","resizeHandler","renderHeadCell","renderBodyCell","getEditable","getBodyCell","edit","renderScope","isSummary","summary","editRow","HoverPart","getHorizontalScrollParent","iteratePlc","plcList","getBroPlcList","broPlcList","itarPlc","getPlcWidth","getIndicatorHeight","plcData","maxLevel","headRowHeight","rowspan","getLowestPlcList","getDragData","broList","broLowestList","allLowestList","broData","useColDraggier","scrollRefer","isDraggable","colDraggable","tdAttrs","autoScroller","startClientX","moveClientX","startScrollLeft","moveScrollLeft","currentRect","scrollRect","dragData","refreshData","dd","indicatorLeft","indicatorHeight","startPlc","endPlc","startIndex","endIndex","fixed","TablePlcAlign","TablePlcFixedType","TableHoverPart","PltHeadCell","PlainTable","tablePlc","headCls","headCellClassFunc","headCellStyleFunc","colspan","TableProps","summaryData","spanMethod","stripe","hideHeader","disabledStickyCompatible","bodyRowHeight","showRows","rowClassFunc","cellClassFunc","cellStyleFunc","PltHead","headPlcListArray","tableStyles","targetTableWidth","bindScroll","scrollRef","cellspacing","cellpadding","plcKeyString","arrayIndex","useCellFormItemValidate","IteratePlcHandleType","PltCell","bodyCls","PltRow","onClickRow","onDblclickRow","plcListHasRenderAfterRow","renderAfterRow","VirtualTable","summaryTableStyles","colgroup","PltBody","onVnodeMounted","onVirtualMounted","flatNodes","summaryNodes","disabledVirtual","PlcGroupProps","autoFixedLeft","autoFixedRight","PlcProps","fit","notFitVirtual","addEditPadding","PlcPublicAttrs","isLastFixedLeft","isFirstFixedRight","copyPlcList","newPlc","deepcopy","iteratePlcList","onPlc","onGroup","handleType","handleTablePlc","configData","configPlc","processStateConfigAndProps","configState","fixedLeft","fixedRight","nothing","getPlcOrder","processPlcSort","tableWidth","insertSort","totalPlcWidth","fitPlc","processHeadPlcList","calculateLevel","calculateSpan","calculateHeadColumns","setFixedFlag","lastFixedLeft","firstFixedRight","setLastFixedLeft","setFirstFixedRight","processPlcFixed","collect","element","prevWidth","prevValue","getPlcFixedStyle","isFixedLeft","getPltCellClass","processPlcClassAndStyle","formatPlcList","usePlcList","collector","useBindScroll","hoverPart","updateLeft","onScrollLeft","useTableNode","getValidate","openEdit","closeEdit","enableEdit","cancelEdit","saveEdit","newRow","useTableGetScroll","useFixedShadow","showFixedLeft","showFixedRight","freeState","fixedShadowClass","Table","onDblclickCell","square","exposeHandler","injectPlainTable","usePlc","formatProps","itemDurWidth","designPlc","standardProps","externalProps","OptionProps","entries","externalRefer","summaryText","totalSpan","toggleOnClickRow","summaryExpand","selected","selectedKeys","isCheck","onClickHeadCheckbox","availableSelectItems","getSelected","clearSelected","addSelected","removeSelected","getRowElList","querySelectorAll","dragEl","dragHeight","dragOffsetTop","dragStartScrollTop","dragScrollTop","rowList","movedown","refreshDragElPosition","parentScroll","dragElHeight","startDragIndex","endDragIndex","startDragOffsetTop","startDragHeight","startScrollTopOfScrollParent","scrollTopOfScrollParent","scrollParentBoundingRect","usePlcTreeDraggier","flatDataList","levelPadding","rowDraggable","maxShowLevel","getExpanderAttrs","unmountListener","tableProps","PlcStandard","PlcEdit","Plc","PlcGroup"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAGnBC,EAAqB,CACxB,MAAS,GAMNjB,EAAkB,CACrB,MAAS,GAGNK,EAAkB,GAGtB,SAASa,EAAe7B,GACvB,OAAOyB,EAAoBK,EAAI,OAAS,GAAG9B,IAAUA,GAAW,IAAM,CAAC,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,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BAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,i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BAED,wBAAyB,CACxB,OACA,kBAED,wBAAyB,CACxB,OACA,kBAED,4BAA6B,CAC5B,OACA,kBAED,qBAAsB,CACrB,OACA,kBAED,oBAAqB,CACpB,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,wBAAyB,CACxB,OACA,kBAED,oBAAqB,CACpB,OACA,kBAED,oBAAqB,CACpB,OACA,kBAED,qBAAsB,CACrB,OACA,kBAED,oBAAqB,CACpB,OACA,kBAED,uBAAwB,CACvB,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,0BAA2B,CAC1B,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,wBAAyB,CACxB,OACA,kBAED,qBAAsB,CACrB,OACA,kBAED,oBAAqB,CACpB,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,oBAAqB,CACpB,OACA,kBAED,mBAAoB,CACnB,OACA,kBAED,oBAAqB,CACpB,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,uBAAwB,CACvB,OACA,kBAED,oBAAqB,CACpB,OACA,iBACA,kBAED,4BAA6B,CAC5B,OACA,iBACA,iBACA,kBAED,mCAAoC,CACnC,OACA,kBAED,+BAAgC,CAC/B,OACA,kBAED,gCAAiC,CAChC,OACA,kBAED,+BAAgC,CAC/B,OACA,kBAED,+BAAgC,CAC/B,OACA,kBAED,iCAAkC,CACjC,OACA,kBAED,iCAAkC,CACjC,OACA,kBAED,8BAA+B,CAC9B,OACA,kBAED,8BAA+B,CAC9B,OACA,kBAED,0BAA2B,CAC1B,OACA,kBAED,gCAAiC,CAChC,OACA,kBAED,kCAAmC,CAClC,OACA,kBAED,4BAA6B,CAC5B,QACA,kBAED,2BAA4B,CAC3B,OACA,kBAED,2BAA4B,CAC3B,OACA,kBAED,0BAA2B,CAC1B,OACA,kBAED,iCAAkC,CACjC,OACA,kBAED,oCAAqC,CACpC,OACA,kBAED,kCAAmC,CAClC,OACA,kBAED,8BAA+B,CAC9B,OACA,kBAED,gDAAiD,CAChD,OACA,kBAED,s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UACNiB,EAAM4hB,OAAOxb,WACV,4BAAW,uBAAX,CACKpG,EAAM4hB,aAGZV,EAAWtnB,QAAUmf,EAAKja,MAAMma,qBAAwB,4BAAW,wBAAX,CACtDiI,EAAWtnB,MAAMhB,oB,qBCpN9C,IAAIoJ,EAAM,CACT,6BAA8B,CAC7B,OACA,kBAED,4BAA6B,CAC5B,OACA,kBAED,4BAA6B,CAC5B,OACA,kBAED,6BAA8B,CAC7B,OACA,kBAED,0BAA2B,CAC1B,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,6BAA8B,CAC7B,OACA,kBAED,8BAA+B,CAC9B,OACA,kBAED,wBAAyB,CACxB,OACA,kBAED,uBAAwB,CACvB,OACA,kBAED,8BAA+B,CAC9B,OACA,kBAED,wBAAyB,CACxB,OACA,kBAED,8BAA+B,CAC9B,OACA,kBAED,4BAA6B,CAC5B,OACA,kBAED,6BAA8B,CAC7B,OACA,kBAED,2BAA4B,CAC3B,OACA,kBAED,gCAAiC,CAChC,OACA,kBAED,iCAAkC,CACjC,QACA,kBAED,iCAAkC,CACjC,OACA,kBAED,kCAAmC,CAClC,OACA,kBAED,4BAA6B,CAC5B,OACA,kBAED,6BAA8B,CAC7B,OACA,kBAED,4BAA6B,CAC5B,OACA,kBAED,uBAAwB,CACvB,OACA,kBAED,8BAA+B,CAC9B,OACA,kBAED,8BAA+B,CAC9B,OACA,kBAED,qCAAsC,CACrC,OACA,kBAED,6BAA8B,CAC7B,OACA,kBAED,4BAA6B,CAC5B,OACA,kBAED,oCAAqC,CACpC,OACA,kBAED,uBAAwB,CACvB,OACA,kBAED,wBAAyB,CACxB,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,4BAA6B,CAC5B,OACA,kBAED,gCAAiC,CAChC,OACA,kBAED,4BAA6B,CAC5B,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,8BAA+B,CAC9B,OACA,kBAED,+BAAgC,CAC/B,QACA,kBAED,sBAAuB,CACtB,OACA,kBAED,yBAA0B,CACzB,OACA,kBAED,uBAAwB,CACvB,OACA,kBAED,iCAAkC,CACjC,OACA,kBAED,8BAA+B,CAC9B,OACA,kBAED,wBAAyB,CACxB,OACA,kBAED,8BAA+B,CAC9B,OACA,kBAED,kCAAmC,CAClC,OACA,kBAED,+BAAgC,CAC/B,OACA,kBAED,iCAAkC,CACjC,OACA,kBAED,iCAAkC,CACjC,OACA,kBAED,0BAA2B,CAC1B,OACA,kBAED,0BAA2B,CAC1B,OACA,kBAED,8BAA+B,CAC9B,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,uBAAwB,CACvB,OACA,kBAED,wBAAyB,CACxB,OACA,kBAED,+BAAgC,CAC/B,OACA,kBAED,4BAA6B,CAC5B,OACA,kBAED,gCAAiC,CAChC,OACA,kBAED,+BAAgC,CAC/B,OACA,kBAED,+BAAgC,CAC/B,OACA,kBAED,+BAAgC,CAC/B,OACA,kBAED,0BAA2B,CAC1B,OACA,kBAED,wBAAyB,CACxB,OACA,kBAED,6BAA8B,CAC7B,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,wBAAyB,CACxB,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,sCAAuC,CACtC,OACA,kBAED,kCAAmC,CAClC,OACA,kBAED,0BAA2B,CAC1B,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,+BAAgC,CAC/B,OACA,kBAED,yBAA0B,CACzB,OACA,kBAED,4BAA6B,CAC5B,OACA,kBAED,uBAAwB,CACvB,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,wBAAyB,CACxB,OACA,kBAED,2BAA4B,CAC3B,OACA,kBAED,iCAAkC,CACjC,OACA,kBAED,yBAA0B,CACzB,OACA,kBAED,uBAAwB,CACvB,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,0BAA2B,CAC1B,OACA,kBAED,0BAA2B,CAC1B,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,+BAAgC,CAC/B,OACA,kBAED,yBAA0B,CACzB,OACA,kBAED,gCAAiC,CAChC,QACA,kBAED,wBAAyB,CACxB,OACA,kBAED,uBAAwB,CACvB,OACA,kBAED,2BAA4B,CAC3B,OACA,kBAED,0BAA2B,CAC1B,OACA,kBAED,wBAAyB,CACxB,OACA,kBAED,wBAAyB,CACxB,OACA,kBAED,+BAAgC,CAC/B,OACA,kBAED,yBAA0B,CACzB,OACA,kBAED,6BAA8B,CAC7B,OACA,kBAED,wBAAyB,CACxB,OACA,kBAED,0BAA2B,CAC1B,OACA,kBAED,yBAA0B,CACzB,OACA,kBAED,0BAA2B,CAC1B,OACA,kBAED,wBAAyB,CACxB,OACA,kBAED,yBAA0B,CACzB,OACA,kBAED,uBAAwB,CACvB,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,0BAA2B,CAC1B,OACA,kBAED,yBAA0B,CACzB,OACA,kBAED,yBAA0B,CACzB,OACA,kBAED,+BAAgC,CAC/B,OACA,kBAED,uBAAwB,CACvB,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,uBAAwB,CACvB,OACA,kBAED,0BAA2B,CAC1B,OACA,kBAED,2BAA4B,CAC3B,OACA,kBAED,qBAAsB,CACrB,OACA,kBAED,qCAAsC,CACrC,OACA,kBAED,wBAAyB,CACxB,OACA,kBAED,wBAAyB,CACxB,OACA,kBAED,yBAA0B,CACzB,OACA,kBAED,6BAA8B,CAC7B,OACA,kBAED,4BAA6B,CAC5B,OACA,kBAED,4BAA6B,CAC5B,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,iCAAkC,CACjC,OACA,kBAED,yBAA0B,CACzB,OACA,kBAED,2BAA4B,CAC3B,OACA,kBAED,yBAA0B,CACzB,OACA,kBAED,0BAA2B,CAC1B,OACA,kBAED,4BAA6B,CAC5B,OACA,kBAED,eAAgB,CACf,OACA,mBAGF,SAASC,EAAoBC,GAC5B,IAAI7M,EAAoBgE,EAAE2I,EAAKE,GAC9B,OAAOjM,QAAQC,UAAU4B,MAAK,WAC7B,IAAIhC,EAAI,IAAI0B,MAAM,uBAAyB0K,EAAM,KAEjD,MADApM,EAAE2B,KAAO,mBACH3B,KAIR,IAAIqM,EAAMH,EAAIE,GAAME,EAAKD,EAAI,GAC7B,OAAO9M,EAAoBS,EAAEqM,EAAI,IAAIrK,MAAK,WACzC,OAAOzC,EAAoBwE,EAAEuI,EAAI,MAGnCH,EAAoBI,KAAO,WAC1B,OAAOlO,OAAOkO,KAAKL,IAEpBC,EAAoBG,GAAK,OACzBxM,EAAOD,QAAUsM,G,+JC7iBXD,G,UAAM,IAAIsL,SAEVuU,E,WAQF,WAAYjD,EAAiB/b,GAAW,kCAJxC,KAAAif,YAA6B,KAKzB5mB,KAAK2H,OAAS,GACd3H,KAAK2I,GAAK,YAEuB,IAAzB,EAAKhB,OAAOnB,WACV,EAAKogB,cAEX,EAAKlD,GAAGtmB,aAAa,0BAA2B,UAChD,EAAKwpB,YAAc/oB,YAAW,WAC1B,EAAK6lB,GAAGmD,gBAAgB,2BACxB,EAAKD,YAAc,OACpB,QAEP5mB,KAAK8mB,aAAe,SAACnf,GACjBA,EAASA,GAAU,GACG,kBAAXA,IACPA,EAAS,CACLpB,KAAMoB,IAGdA,EAAOpB,KAAOoB,EAAOpB,MAAQ,SAC7B,EAAKoB,OAASA,GAElB3H,KAAK8mB,aAAanf,GAClB3H,KAAK0jB,GAAKA,EACV1jB,KAAK0jB,GAAGtmB,aAAR,2BAAyC4C,KAAK2H,OAAOpB,MAAQ,UAE7Dmd,EAAG9M,iBAAiB,QAAS5W,KAAK2I,IAAI,G,wDAItC3I,KAAK0jB,GAAGqD,oBAAoB,QAAS/mB,KAAK2I,IAAI,O,KAIzChF,EAAuB,CAChCkV,QADgC,SACxB6K,EAAIsD,GACRlgB,EAAIyL,IAAImR,EAAI,IAAIiD,EAAcjD,EAAIsD,EAAQtoB,SAE9CuoB,QAJgC,SAIxBvD,EAAIsD,GACR,IAAMxuB,EAAOsO,EAAIxI,IAAIolB,GACflrB,GACFA,EAAKsuB,aAAaE,EAAQtoB,QAGlCoa,cAVgC,SAUlB4K,GACV,IAAMlrB,EAAOsO,EAAIxI,IAAIolB,GACflrB,GACFA,EAAK0uB,Y,oHCnCJC,EAAiC,SAAkC5c,EAAYqS,GAExF,IAAMlV,EAAM,iBACNuS,EAAYhhB,OAAOkO,KAAKoD,GAExB5E,EAAQ,eAAS,CAACkX,MAAO,eAAa,KAAM5C,EAAWvS,KAEzDkV,GACA,gBAAe,WACX,eAAajX,EAAMkX,MAAO5C,EAAWvS,MAI7C,IAAM0f,EAAcnN,EAAUxN,QAAO,SAACC,EAAWwN,GAS7C,OARAxN,EAAKwN,GAAYjhB,OAAO6O,QAAO,SAAC8J,EAAYkL,GACxC,IAAMC,EAAOrV,EAAI5C,MAAMoV,GACvB,OAAS6C,EAAOA,EAAKnL,GAASkL,IAC/B,CACC5R,QADD,WAEK,OAAOvF,EAAMkX,MAAM3C,MAGpBxN,IACR,IAEH,MAAO,CACH0a,iB,gFCpDR,kDAKM,SAAUC,EAAwCpM,GACpD,OAAO,eAASA,K,sICJRqM,E,4DCEG,SAAAzgB,EAAA,MAAsB,OAAa,CAAC6L,QAAS,CAAC,U,6ODF7D,SAAY4U,GACR,mBACA,iBACA,eACA,2BACA,eACA,mBACA,eACA,mBACA,eACA,iBACA,aACA,mBACA,iBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,eACA,eACA,gBA/DJ,CAAYA,MAAG,KAkER,IAAMC,EAAc,CACvBC,GAAI,QACJC,GAAI,OACJC,GAAI,MAEJC,EAAG,YACHC,EAAG,MACHC,GAAI,QACJC,GAAI,MACJC,GAAI,QACJC,GAAI,MAEJC,GAAI,OACJC,GAAI,KACJC,GAAI,QACJC,GAAI,OAEJC,IAAK,QACLC,IAAK,QAELC,GAAI,QACJC,GAAI,QACJC,GAAI,QACJC,GAAI,QACJC,GAAI,QACJC,GAAI,QACJC,GAAI,QACJC,GAAI,QACJC,GAAI,QACJC,GAAI,QAEJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IAEJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IA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","file":"js/index.1a360140.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"index\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"index\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-073442f3\":\"30f12e84\",\"chunk-07561cca\":\"18ca4117\",\"chunk-0882dea0\":\"a73099b4\",\"chunk-09a3a414\":\"2dec1fe3\",\"chunk-0c898c56\":\"315b5199\",\"chunk-1743c69e\":\"ce018aa9\",\"chunk-1b57f3ae\":\"524ab969\",\"chunk-1fd5276b\":\"82b77adc\",\"chunk-22e0a968\":\"a0fbad3e\",\"chunk-244df15e\":\"494d22c0\",\"chunk-25ff62c2\":\"622a6977\",\"chunk-2c2ee53a\":\"378f3c98\",\"chunk-2ca059b2\":\"3b5490b3\",\"chunk-2d0a30ba\":\"6d607ae1\",\"chunk-2d0a3107\":\"95867734\",\"chunk-2d0a3317\":\"fff2a28f\",\"chunk-2d0a3744\":\"42717f9a\",\"chunk-2d0a5111\":\"39eb52f5\",\"chunk-2d0aa593\":\"801a3971\",\"chunk-2d0ab7dd\":\"b046b1c6\",\"chunk-2d0abbdc\":\"0427db5f\",\"chunk-2d0abe0e\":\"17f07508\",\"chunk-2d0ac18d\":\"6b5e6c4c\",\"chunk-2d0ac344\":\"b9e0f336\",\"chunk-2d0ae5b3\":\"e4026de2\",\"chunk-2d0aeeeb\":\"6c21c44f\",\"chunk-2d0aeefa\":\"a4a12c88\",\"chunk-2d0aef0a\":\"b675bdbc\",\"chunk-2d0af289\":\"a517bab4\",\"chunk-2d0af509\":\"e90e14da\",\"chunk-2d0af63a\":\"d1f0fea2\",\"chunk-2d0afe38\":\"2d1f1e1a\",\"chunk-2d0b250c\":\"37c02e84\",\"chunk-2d0b2cc8\":\"bb9e1442\",\"chunk-2d0b3059\":\"552aa851\",\"chunk-2d0b324e\":\"1b15379b\",\"chunk-2d0b5d85\":\"ac0b5ac6\",\"chunk-2d0b670a\":\"50f88997\",\"chunk-2d0b6890\":\"c80c6f8c\",\"chunk-2d0b6916\":\"76bc79e5\",\"chunk-2d0b6ab8\":\"ba641eeb\",\"chunk-2d0b8eef\":\"750e3fbd\",\"chunk-2d0b9995\":\"3bd83e45\",\"chunk-2d0b9b77\":\"fc8890af\",\"chunk-2d0ba4a0\":\"dea9161f\",\"chunk-2d0ba6ad\":\"2c6f740f\",\"chunk-2d0baa7a\":\"d5f5c594\",\"chunk-2d0bd225\":\"cd1b61aa\",\"chunk-2d0bd407\":\"6146df4b\",\"chunk-2d0bd52d\":\"83a4c15d\",\"chunk-2d0bd7c7\":\"c976bfaa\",\"chunk-2d0bd9a8\":\"9602cded\",\"chunk-2d0bfe73\":\"6fac4115\",\"chunk-2d0bfe97\":\"b82f9846\",\"chunk-2d0c0651\":\"f2b46e6e\",\"chunk-2d0c08d2\":\"cbe394f7\",\"chunk-2d0c09d5\":\"1e3c76b7\",\"chunk-2d0c116a\":\"b5184fe2\",\"chunk-2d0c1642\":\"561842bd\",\"chunk-2d0c1909\":\"32d47f0e\",\"chunk-2d0c26a6\":\"424a8044\",\"chunk-2d0c4a15\":\"4f771f30\",\"chunk-2d0c4a46\":\"e556ecf7\",\"chunk-2d0c551b\":\"ba1afea3\",\"chunk-2d0c55ab\":\"6c02588b\",\"chunk-2d0c72d1\":\"6cf5c8b2\",\"chunk-2d0c76f2\":\"12b1d515\",\"chunk-2d0c7ce5\":\"890b1efe\",\"chunk-2d0c80d0\":\"7b991112\",\"chunk-2d0c8816\":\"54dcfa1b\",\"chunk-2d0c8a74\":\"2b0b160a\",\"chunk-2d0c9aef\":\"3f64cae5\",\"chunk-2d0cb6f6\":\"61ee0dd1\",\"chunk-2d0cbce3\":\"d5fd7e63\",\"chunk-2d0cc56a\":\"8a6827dd\",\"chunk-2d0cc604\":\"bd59100c\",\"chunk-2d0ccc03\":\"e384b8a3\",\"chunk-2d0cebdf\":\"8952132f\",\"chunk-2d0d040b\":\"80de28af\",\"chunk-2d0d058c\":\"562def69\",\"chunk-2d0d09d8\":\"1f1785ed\",\"chunk-2d0d2ea6\":\"71116be6\",\"chunk-2d0d2f82\":\"6edb7f10\",\"chunk-2d0d36d1\":\"62710599\",\"chunk-2d0d3834\":\"2f064352\",\"chunk-2d0d3d87\":\"6ae732a9\",\"chunk-2d0d5bc4\":\"dc50c930\",\"chunk-2d0d5bdf\":\"573986f8\",\"chunk-2d0d5fa5\":\"868020ab\",\"chunk-2d0d620d\":\"c92ad69e\",\"chunk-2d0d72c6\":\"36695982\",\"chunk-2d0d74c2\":\"3d71c9d7\",\"chunk-2d0d7848\":\"67d35e02\",\"chunk-2d0d9fb2\":\"53d3c0ef\",\"chunk-2d0da720\":\"f2dd5b9c\",\"chunk-2d0da94d\":\"ad0bdebe\",\"chunk-2d0db435\":\"593df03b\",\"chunk-2d0db852\":\"5a5e25a4\",\"chunk-2d0dd0f8\":\"3ef3aa16\",\"chunk-2d0dd679\":\"c6d35e02\",\"chunk-2d0ddb81\":\"62bf3d08\",\"chunk-2d0de03a\":\"ff476949\",\"chunk-2d0de333\":\"ab582120\",\"chunk-2d0de540\":\"bc241e7f\",\"chunk-2d0de553\":\"82ded6ae\",\"chunk-2d0de72f\":\"1e6a4696\",\"chunk-2d0ded30\":\"881a90da\",\"chunk-2d0e1b7e\":\"94bf6e2b\",\"chunk-2d0e2123\":\"68fb2875\",\"chunk-2d0e450c\":\"38fbd97a\",\"chunk-2d0e4a71\":\"57be5c04\",\"chunk-2d0e4b0d\":\"1f0fc0c7\",\"chunk-2d0e5622\":\"6e80cb62\",\"chunk-2d0e59df\":\"5e0cb1a6\",\"chunk-2d0e59ed\":\"0b08b53c\",\"chunk-2d0e5afa\":\"2a6fb932\",\"chunk-2d0e667a\":\"ef299062\",\"chunk-2d0e6733\":\"05b6e50e\",\"chunk-2d0e8c02\":\"9754026b\",\"chunk-2d0e9737\":\"474d983f\",\"chunk-2d0e9da1\":\"82747454\",\"chunk-2d0ea0f2\":\"69ade8cf\",\"chunk-2d0efcfb\":\"9a86743b\",\"chunk-2d0f0262\":\"268ae257\",\"chunk-2d207945\":\"2e8ef016\",\"chunk-2d208357\":\"a444fdfe\",\"chunk-2d2085ea\":\"af586270\",\"chunk-c9def9e2\":\"0fcca291\",\"chunk-2d20867a\":\"381a6bdf\",\"chunk-2d20977b\":\"0117a846\",\"chunk-2d20f17b\":\"ba8dbb7d\",\"chunk-2d2100b5\":\"43d85b0c\",\"chunk-2d210267\":\"385b3186\",\"chunk-2d2105b4\":\"c5205ecb\",\"chunk-2d2107f9\":\"f34b0c21\",\"chunk-2d2107fa\":\"df6f1803\",\"chunk-2d210c0b\":\"cd34cc72\",\"chunk-2d213529\":\"a240d15b\",\"chunk-2d21388f\":\"73dbed49\",\"chunk-2d2138eb\":\"95614e92\",\"chunk-2d213c67\":\"30d0c050\",\"chunk-2d213e2d\":\"1d363829\",\"chunk-2d213f08\":\"f7ca9cd7\",\"chunk-2d21442a\":\"2a98ac23\",\"chunk-2d215c44\":\"acf33d33\",\"chunk-2d216b18\":\"fe48f2dc\",\"chunk-2d216d19\":\"b77f34a1\",\"chunk-2d21770b\":\"fe6ac291\",\"chunk-2d21785d\":\"b17f59f2\",\"chunk-2d217c79\":\"20b65ed5\",\"chunk-2d219f97\":\"187c5d25\",\"chunk-2d21aef8\":\"14a3b162\",\"chunk-2d21e5e6\":\"eaf5bf16\",\"chunk-2d21eea8\":\"c6e5a295\",\"chunk-2d21ef4b\":\"c88b2b02\",\"chunk-2d21f49e\":\"82646ae9\",\"chunk-2d221472\":\"720f6c4f\",\"chunk-2d2217f7\":\"b7c9d5d7\",\"chunk-2d2223a6\":\"50a70660\",\"chunk-2d222cae\":\"6e8bef8f\",\"chunk-2d224ad1\":\"f69c20fa\",\"chunk-2d224cf2\":\"7cbe3540\",\"chunk-2d225440\":\"5d7c6194\",\"chunk-2d22578d\":\"15acf9df\",\"chunk-2d225c07\":\"99b17e9e\",\"chunk-2d225c33\":\"d7c518de\",\"chunk-2d225f85\":\"2b677d92\",\"chunk-2d226691\":\"0faa4e58\",\"chunk-2d226917\":\"e5f2f7a1\",\"chunk-2d228940\":\"b34c76f2\",\"chunk-2d229247\":\"dbd7fd59\",\"chunk-2d2293bc\":\"e80978c7\",\"chunk-2d229670\":\"ef64ef21\",\"chunk-2d2299c6\":\"2ec4406b\",\"chunk-2d22c0b6\":\"cfdae232\",\"chunk-2d22c86a\":\"b1b06755\",\"chunk-2d22c94f\":\"67ceb489\",\"chunk-2d22d611\":\"80ca2bfe\",\"chunk-2d22d9e3\":\"9c739af4\",\"chunk-2d22dbf7\":\"7d582805\",\"chunk-2d22dd73\":\"dfada9db\",\"chunk-2d22e0be\":\"e86d6923\",\"chunk-2d2300f7\":\"6b770259\",\"chunk-1b31a082\":\"9c13f2f0\",\"chunk-2d230514\":\"6879b8cf\",\"chunk-2d2307f6\":\"d66fb82c\",\"chunk-2d230863\":\"14f52a70\",\"chunk-2d230895\":\"56bcc9d3\",\"chunk-2d237591\":\"a0298c75\",\"chunk-2d238074\":\"c2bdfe93\",\"chunk-2e73eeec\":\"497034e9\",\"chunk-349f5122\":\"b9d4302c\",\"chunk-38aa7b52\":\"24999bcf\",\"chunk-3a1bf136\":\"d2997d21\",\"chunk-3dbb8cf4\":\"1d5cf00f\",\"chunk-3e5f5a95\":\"62a4394b\",\"chunk-43085bb4\":\"4d1c520c\",\"chunk-4b009cb4\":\"f54b23da\",\"chunk-4b0d0451\":\"92f2ec00\",\"chunk-4e35c49f\":\"3f6c4b67\",\"chunk-606d5805\":\"3a2505e9\",\"chunk-638ade38\":\"a26465b7\",\"chunk-6467466e\":\"e6891adc\",\"chunk-67de4bec\":\"89645964\",\"chunk-6aeaee92\":\"d2d08949\",\"chunk-74856f3b\":\"d3066ba6\",\"chunk-74cc218d\":\"c4320586\",\"chunk-770d975c\":\"d8c1fc74\",\"chunk-772aaef6\":\"c4df017c\",\"chunk-7ca781f0\":\"27c171a0\",\"chunk-809184f6\":\"05a6c825\",\"chunk-87bc0906\":\"3e66680d\",\"chunk-89a68be8\":\"81a21edd\",\"chunk-8c528a7e\":\"20a2cf62\",\"chunk-c4256c3a\":\"2388ecaf\",\"chunk-d0623118\":\"e3821338\",\"chunk-da7485a8\":\"3573e852\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-07561cca\":1,\"chunk-0882dea0\":1,\"chunk-09a3a414\":1,\"chunk-0c898c56\":1,\"chunk-1b57f3ae\":1,\"chunk-1fd5276b\":1,\"chunk-22e0a968\":1,\"chunk-25ff62c2\":1,\"chunk-2c2ee53a\":1,\"chunk-2ca059b2\":1,\"chunk-c9def9e2\":1,\"chunk-2e73eeec\":1,\"chunk-349f5122\":1,\"chunk-38aa7b52\":1,\"chunk-3a1bf136\":1,\"chunk-3dbb8cf4\":1,\"chunk-3e5f5a95\":1,\"chunk-43085bb4\":1,\"chunk-4b009cb4\":1,\"chunk-4b0d0451\":1,\"chunk-606d5805\":1,\"chunk-67de4bec\":1,\"chunk-74cc218d\":1,\"chunk-7ca781f0\":1,\"chunk-809184f6\":1,\"chunk-87bc0906\":1,\"chunk-89a68be8\":1,\"chunk-8c528a7e\":1,\"chunk-c4256c3a\":1,\"chunk-d0623118\":1,\"chunk-da7485a8\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-073442f3\":\"31d6cfe0\",\"chunk-07561cca\":\"0e433876\",\"chunk-0882dea0\":\"0e433876\",\"chunk-09a3a414\":\"202b3aa2\",\"chunk-0c898c56\":\"20814276\",\"chunk-1743c69e\":\"31d6cfe0\",\"chunk-1b57f3ae\":\"2b4ab55a\",\"chunk-1fd5276b\":\"507188ed\",\"chunk-22e0a968\":\"dbf56bd8\",\"chunk-244df15e\":\"31d6cfe0\",\"chunk-25ff62c2\":\"03f82299\",\"chunk-2c2ee53a\":\"08cc2a99\",\"chunk-2ca059b2\":\"17e609ed\",\"chunk-2d0a30ba\":\"31d6cfe0\",\"chunk-2d0a3107\":\"31d6cfe0\",\"chunk-2d0a3317\":\"31d6cfe0\",\"chunk-2d0a3744\":\"31d6cfe0\",\"chunk-2d0a5111\":\"31d6cfe0\",\"chunk-2d0aa593\":\"31d6cfe0\",\"chunk-2d0ab7dd\":\"31d6cfe0\",\"chunk-2d0abbdc\":\"31d6cfe0\",\"chunk-2d0abe0e\":\"31d6cfe0\",\"chunk-2d0ac18d\":\"31d6cfe0\",\"chunk-2d0ac344\":\"31d6cfe0\",\"chunk-2d0ae5b3\":\"31d6cfe0\",\"chunk-2d0aeeeb\":\"31d6cfe0\",\"chunk-2d0aeefa\":\"31d6cfe0\",\"chunk-2d0aef0a\":\"31d6cfe0\",\"chunk-2d0af289\":\"31d6cfe0\",\"chunk-2d0af509\":\"31d6cfe0\",\"chunk-2d0af63a\":\"31d6cfe0\",\"chunk-2d0afe38\":\"31d6cfe0\",\"chunk-2d0b250c\":\"31d6cfe0\",\"chunk-2d0b2cc8\":\"31d6cfe0\",\"chunk-2d0b3059\":\"31d6cfe0\",\"chunk-2d0b324e\":\"31d6cfe0\",\"chunk-2d0b5d85\":\"31d6cfe0\",\"chunk-2d0b670a\":\"31d6cfe0\",\"chunk-2d0b6890\":\"31d6cfe0\",\"chunk-2d0b6916\":\"31d6cfe0\",\"chunk-2d0b6ab8\":\"31d6cfe0\",\"chunk-2d0b8eef\":\"31d6cfe0\",\"chunk-2d0b9995\":\"31d6cfe0\",\"chunk-2d0b9b77\":\"31d6cfe0\",\"chunk-2d0ba4a0\":\"31d6cfe0\",\"chunk-2d0ba6ad\":\"31d6cfe0\",\"chunk-2d0baa7a\":\"31d6cfe0\",\"chunk-2d0bd225\":\"31d6cfe0\",\"chunk-2d0bd407\":\"31d6cfe0\",\"chunk-2d0bd52d\":\"31d6cfe0\",\"chunk-2d0bd7c7\":\"31d6cfe0\",\"chunk-2d0bd9a8\":\"31d6cfe0\",\"chunk-2d0bfe73\":\"31d6cfe0\",\"chunk-2d0bfe97\":\"31d6cfe0\",\"chunk-2d0c0651\":\"31d6cfe0\",\"chunk-2d0c08d2\":\"31d6cfe0\",\"chunk-2d0c09d5\":\"31d6cfe0\",\"chunk-2d0c116a\":\"31d6cfe0\",\"chunk-2d0c1642\":\"31d6cfe0\",\"chunk-2d0c1909\":\"31d6cfe0\",\"chunk-2d0c26a6\":\"31d6cfe0\",\"chunk-2d0c4a15\":\"31d6cfe0\",\"chunk-2d0c4a46\":\"31d6cfe0\",\"chunk-2d0c551b\":\"31d6cfe0\",\"chunk-2d0c55ab\":\"31d6cfe0\",\"chunk-2d0c72d1\":\"31d6cfe0\",\"chunk-2d0c76f2\":\"31d6cfe0\",\"chunk-2d0c7ce5\":\"31d6cfe0\",\"chunk-2d0c80d0\":\"31d6cfe0\",\"chunk-2d0c8816\":\"31d6cfe0\",\"chunk-2d0c8a74\":\"31d6cfe0\",\"chunk-2d0c9aef\":\"31d6cfe0\",\"chunk-2d0cb6f6\":\"31d6cfe0\",\"chunk-2d0cbce3\":\"31d6cfe0\",\"chunk-2d0cc56a\":\"31d6cfe0\",\"chunk-2d0cc604\":\"31d6cfe0\",\"chunk-2d0ccc03\":\"31d6cfe0\",\"chunk-2d0cebdf\":\"31d6cfe0\",\"chunk-2d0d040b\":\"31d6cfe0\",\"chunk-2d0d058c\":\"31d6cfe0\",\"chunk-2d0d09d8\":\"31d6cfe0\",\"chunk-2d0d2ea6\":\"31d6cfe0\",\"chunk-2d0d2f82\":\"31d6cfe0\",\"chunk-2d0d36d1\":\"31d6cfe0\",\"chunk-2d0d3834\":\"31d6cfe0\",\"chunk-2d0d3d87\":\"31d6cfe0\",\"chunk-2d0d5bc4\":\"31d6cfe0\",\"chunk-2d0d5bdf\":\"31d6cfe0\",\"chunk-2d0d5fa5\":\"31d6cfe0\",\"chunk-2d0d620d\":\"31d6cfe0\",\"chunk-2d0d72c6\":\"31d6cfe0\",\"chunk-2d0d74c2\":\"31d6cfe0\",\"chunk-2d0d7848\":\"31d6cfe0\",\"chunk-2d0d9fb2\":\"31d6cfe0\",\"chunk-2d0da720\":\"31d6cfe0\",\"chunk-2d0da94d\":\"31d6cfe0\",\"chunk-2d0db435\":\"31d6cfe0\",\"chunk-2d0db852\":\"31d6cfe0\",\"chunk-2d0dd0f8\":\"31d6cfe0\",\"chunk-2d0dd679\":\"31d6cfe0\",\"chunk-2d0ddb81\":\"31d6cfe0\",\"chunk-2d0de03a\":\"31d6cfe0\",\"chunk-2d0de333\":\"31d6cfe0\",\"chunk-2d0de540\":\"31d6cfe0\",\"chunk-2d0de553\":\"31d6cfe0\",\"chunk-2d0de72f\":\"31d6cfe0\",\"chunk-2d0ded30\":\"31d6cfe0\",\"chunk-2d0e1b7e\":\"31d6cfe0\",\"chunk-2d0e2123\":\"31d6cfe0\",\"chunk-2d0e450c\":\"31d6cfe0\",\"chunk-2d0e4a71\":\"31d6cfe0\",\"chunk-2d0e4b0d\":\"31d6cfe0\",\"chunk-2d0e5622\":\"31d6cfe0\",\"chunk-2d0e59df\":\"31d6cfe0\",\"chunk-2d0e59ed\":\"31d6cfe0\",\"chunk-2d0e5afa\":\"31d6cfe0\",\"chunk-2d0e667a\":\"31d6cfe0\",\"chunk-2d0e6733\":\"31d6cfe0\",\"chunk-2d0e8c02\":\"31d6cfe0\",\"chunk-2d0e9737\":\"31d6cfe0\",\"chunk-2d0e9da1\":\"31d6cfe0\",\"chunk-2d0ea0f2\":\"31d6cfe0\",\"chunk-2d0efcfb\":\"31d6cfe0\",\"chunk-2d0f0262\":\"31d6cfe0\",\"chunk-2d207945\":\"31d6cfe0\",\"chunk-2d208357\":\"31d6cfe0\",\"chunk-2d2085ea\":\"31d6cfe0\",\"chunk-c9def9e2\":\"4a93efdd\",\"chunk-2d20867a\":\"31d6cfe0\",\"chunk-2d20977b\":\"31d6cfe0\",\"chunk-2d20f17b\":\"31d6cfe0\",\"chunk-2d2100b5\":\"31d6cfe0\",\"chunk-2d210267\":\"31d6cfe0\",\"chunk-2d2105b4\":\"31d6cfe0\",\"chunk-2d2107f9\":\"31d6cfe0\",\"chunk-2d2107fa\":\"31d6cfe0\",\"chunk-2d210c0b\":\"31d6cfe0\",\"chunk-2d213529\":\"31d6cfe0\",\"chunk-2d21388f\":\"31d6cfe0\",\"chunk-2d2138eb\":\"31d6cfe0\",\"chunk-2d213c67\":\"31d6cfe0\",\"chunk-2d213e2d\":\"31d6cfe0\",\"chunk-2d213f08\":\"31d6cfe0\",\"chunk-2d21442a\":\"31d6cfe0\",\"chunk-2d215c44\":\"31d6cfe0\",\"chunk-2d216b18\":\"31d6cfe0\",\"chunk-2d216d19\":\"31d6cfe0\",\"chunk-2d21770b\":\"31d6cfe0\",\"chunk-2d21785d\":\"31d6cfe0\",\"chunk-2d217c79\":\"31d6cfe0\",\"chunk-2d219f97\":\"31d6cfe0\",\"chunk-2d21aef8\":\"31d6cfe0\",\"chunk-2d21e5e6\":\"31d6cfe0\",\"chunk-2d21eea8\":\"31d6cfe0\",\"chunk-2d21ef4b\":\"31d6cfe0\",\"chunk-2d21f49e\":\"31d6cfe0\",\"chunk-2d221472\":\"31d6cfe0\",\"chunk-2d2217f7\":\"31d6cfe0\",\"chunk-2d2223a6\":\"31d6cfe0\",\"chunk-2d222cae\":\"31d6cfe0\",\"chunk-2d224ad1\":\"31d6cfe0\",\"chunk-2d224cf2\":\"31d6cfe0\",\"chunk-2d225440\":\"31d6cfe0\",\"chunk-2d22578d\":\"31d6cfe0\",\"chunk-2d225c07\":\"31d6cfe0\",\"chunk-2d225c33\":\"31d6cfe0\",\"chunk-2d225f85\":\"31d6cfe0\",\"chunk-2d226691\":\"31d6cfe0\",\"chunk-2d226917\":\"31d6cfe0\",\"chunk-2d228940\":\"31d6cfe0\",\"chunk-2d229247\":\"31d6cfe0\",\"chunk-2d2293bc\":\"31d6cfe0\",\"chunk-2d229670\":\"31d6cfe0\",\"chunk-2d2299c6\":\"31d6cfe0\",\"chunk-2d22c0b6\":\"31d6cfe0\",\"chunk-2d22c86a\":\"31d6cfe0\",\"chunk-2d22c94f\":\"31d6cfe0\",\"chunk-2d22d611\":\"31d6cfe0\",\"chunk-2d22d9e3\":\"31d6cfe0\",\"chunk-2d22dbf7\":\"31d6cfe0\",\"chunk-2d22dd73\":\"31d6cfe0\",\"chunk-2d22e0be\":\"31d6cfe0\",\"chunk-2d2300f7\":\"31d6cfe0\",\"chunk-1b31a082\":\"31d6cfe0\",\"chunk-2d230514\":\"31d6cfe0\",\"chunk-2d2307f6\":\"31d6cfe0\",\"chunk-2d230863\":\"31d6cfe0\",\"chunk-2d230895\":\"31d6cfe0\",\"chunk-2d237591\":\"31d6cfe0\",\"chunk-2d238074\":\"31d6cfe0\",\"chunk-2e73eeec\":\"0e433876\",\"chunk-349f5122\":\"52e2ce16\",\"chunk-38aa7b52\":\"1c71ea5e\",\"chunk-3a1bf136\":\"0eb0e6c6\",\"chunk-3dbb8cf4\":\"f39ea38e\",\"chunk-3e5f5a95\":\"4c5da243\",\"chunk-43085bb4\":\"7d23fe26\",\"chunk-4b009cb4\":\"792b3f5c\",\"chunk-4b0d0451\":\"9a60d5e7\",\"chunk-4e35c49f\":\"31d6cfe0\",\"chunk-606d5805\":\"90b67df1\",\"chunk-638ade38\":\"31d6cfe0\",\"chunk-6467466e\":\"31d6cfe0\",\"chunk-67de4bec\":\"5c70898f\",\"chunk-6aeaee92\":\"31d6cfe0\",\"chunk-74856f3b\":\"31d6cfe0\",\"chunk-74cc218d\":\"0e433876\",\"chunk-770d975c\":\"31d6cfe0\",\"chunk-772aaef6\":\"31d6cfe0\",\"chunk-7ca781f0\":\"e9e0dbd8\",\"chunk-809184f6\":\"0e433876\",\"chunk-87bc0906\":\"836e32ad\",\"chunk-89a68be8\":\"0e433876\",\"chunk-8c528a7e\":\"7a5fcb04\",\"chunk-c4256c3a\":\"5debb9db\",\"chunk-d0623118\":\"4a682b73\",\"chunk-da7485a8\":\"0e433876\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/plain-ui/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import fecha from 'fecha'\r\nimport {zeroize} from \"plain-utils/string/zeroize\";\r\n\r\nenum CompareMode {\r\n    time = 'time',\r\n    date = 'date',\r\n    datetime = 'datetime',\r\n    yearmonth = 'yearmonth',\r\n}\r\n\r\ntype Pub = {\r\n    displayFormat: string\r\n    valueFormat: string\r\n\r\n    setValue(value: string | undefined): void,\r\n    setDisplayValue(value: string): void,\r\n    setYear(year: number): void,\r\n    setMonthDate(month: number, date: number): void,\r\n    setHour(hour: number): void,\r\n    setMinute(minute: number): void,\r\n    setSecond(second: number): void,\r\n    setTime(time: number): void,\r\n    setHms(hour: number | PlainDateType, minute?: number, second?: number): void,\r\n    setYMD(year: number | PlainDateType, month?: number, date?: number): void,\r\n\r\n    format(dateObject: Date | null): string | null,\r\n    parseDisplayString(displayString: string | null): Date | null,\r\n    parseValueString(valueString: string | null): Date | null,\r\n    copy(): PlainDateType,\r\n}\r\n\r\ntype Diff =\r\n    {\r\n        dateObject: Date\r\n        isNull: false\r\n        year: number\r\n        month: number\r\n        date: number\r\n        hour: number\r\n        minute: number\r\n        second: number\r\n        day: number\r\n        time: number\r\n        displayString: string\r\n        valueString: string\r\n        timeString: string\r\n        dateString: string\r\n        Y: number\r\n        YM: number\r\n        YMD: number\r\n        YMDHms: number\r\n        Hms: number\r\n    } |\r\n    {\r\n        dateObject: null\r\n        isNull: true\r\n        year: null\r\n        month: null\r\n        date: null\r\n        hour: null\r\n        minute: null\r\n        second: null\r\n        day: null\r\n        time: null\r\n        displayString: null\r\n        valueString: null\r\n        timeString: null\r\n        dateString: null\r\n        Y: null\r\n        YM: null\r\n        YMD: null\r\n        YMDHms: null\r\n        Hms: null\r\n    };\r\n\r\nexport type PlainDateType = Diff & Pub\r\n\r\nclass WrapDate {\r\n\r\n    displayFormat: string                                                       // 显示值格式字符串\r\n    valueFormat: string                                                         // 实际值格式字符串\r\n    dateObject: Date | null = null                                              // 日期对象\r\n\r\n    constructor(value: string | undefined | null, displayFormat: string, valueFormat: string) {\r\n        this.displayFormat = displayFormat\r\n        this.valueFormat = valueFormat\r\n\r\n        if (value != null) {\r\n            this.setValue(value)\r\n        }\r\n    }\r\n\r\n    /*---------------------------------------attrs-------------------------------------------*/\r\n\r\n    get isNull(): boolean {return !this.dateObject}\r\n\r\n    get year() {return this.isNull ? null : this.dateObject!.getFullYear()}\r\n\r\n    get month() {return this.isNull ? null : this.dateObject!.getMonth()}\r\n\r\n    get date() {return this.isNull ? null : this.dateObject!.getDate()}\r\n\r\n    get hour() {return this.isNull ? null : this.dateObject!.getHours()}\r\n\r\n    get minute() {return this.isNull ? null : this.dateObject!.getMinutes()}\r\n\r\n    get second() {return this.isNull ? null : this.dateObject!.getSeconds()}\r\n\r\n    get day() {return this.isNull ? null : this.dateObject!.getDay()}\r\n\r\n    get time() {return this.isNull ? null : this.dateObject!.getTime()}\r\n\r\n    get displayString() {return this.isNull ? null : fecha.format(this.dateObject!, this.displayFormat)}\r\n\r\n    get valueString() {return this.isNull ? null : fecha.format(this.dateObject!, this.valueFormat)}\r\n\r\n    get timeString() {return this.isNull ? null : `${zeroize(this.hour!)}${zeroize(this.minute!)}${zeroize(this.second!)}`}\r\n\r\n    get dateString() {return this.isNull ? null : `${zeroize(this.year!)}${zeroize(this.month! + 1)}${zeroize(this.date!)}`}\r\n\r\n    get Y() {return this.isNull ? null : this.year}\r\n\r\n    get YM() {return this.isNull ? null : Number(`${this.year}${zeroize(this.month! + 1)}`)}\r\n\r\n    get YMD() {return this.isNull ? null : Number(this.dateString)}\r\n\r\n    get YMDHms() {return this.isNull ? null : Number(this.dateString! + this.timeString!)}\r\n\r\n    get Hms() {return this.isNull ? null : Number(this.timeString)}\r\n\r\n    /*---------------------------------------methods-------------------------------------------*/\r\n\r\n    setValue(value: string | undefined) {this.dateObject = !value ? null : WrapDate.parse(String(value), this.valueFormat)}\r\n\r\n    setDisplayValue(value: string) {this.dateObject = !value ? null : this.dateObject = WrapDate.parse(String(value), this.displayFormat)}\r\n\r\n    setYear(year: number): void {\r\n        if (this.isNull) this.dateObject = WrapDate.defaultDate()\r\n        this.dateObject!.setFullYear(year)\r\n    }\r\n\r\n    setMonthDate(month: number, date: number): void {\r\n        if (this.isNull) this.dateObject = WrapDate.defaultDate()\r\n        this.dateObject!.setMonth(month, date)\r\n    }\r\n\r\n    setHour(hour: number): void {\r\n        if (this.isNull) this.dateObject = WrapDate.defaultDate()\r\n        this.dateObject!.setHours(hour)\r\n    }\r\n\r\n    setMinute(minute: number): void {\r\n        if (this.isNull) this.dateObject = WrapDate.defaultDate()\r\n        this.dateObject!.setMinutes(minute)\r\n    }\r\n\r\n    setSecond(second: number): void {\r\n        if (this.isNull) this.dateObject = WrapDate.defaultDate()\r\n        this.dateObject!.setSeconds(second)\r\n    }\r\n\r\n    setTime(time: number): void {\r\n        if (this.isNull) this.dateObject = WrapDate.defaultDate()\r\n        this.dateObject!.setTime(time)\r\n    }\r\n\r\n    setHms(hour: number | WrapDate, minute?: number, second?: number): void {\r\n        if (typeof hour === \"number\") {\r\n            this.setHour(hour)\r\n            if (minute != null) this.setMinute(minute)\r\n            if (second != null) this.setSecond(second)\r\n        } else {\r\n            const pd = hour as WrapDate\r\n            this.setHour(pd.hour!)\r\n            this.setMinute(pd.minute!)\r\n            this.setSecond(pd.second!)\r\n        }\r\n    }\r\n\r\n    setYMD(year: number | WrapDate, month?: number, date?: number) {\r\n        if (typeof year == \"object\") {\r\n            this.setYear(year.Y!)\r\n            this.setMonthDate(year.month!, year.date!)\r\n        } else {\r\n            this.setYear(year)\r\n            if (month != null && date != null) this.setMonthDate(month, date)\r\n        }\r\n    }\r\n\r\n    format(dateObject: Date | null): string | null {\r\n        if (!dateObject) return null\r\n        return WrapDate.format(dateObject, this.displayFormat)\r\n    }\r\n\r\n    parseDisplayString(displayString: string | null): Date | null {\r\n        if (!displayString) return null\r\n        return WrapDate.parse(displayString, this.displayFormat)\r\n    }\r\n\r\n    parseValueString(valueString: string | null): Date | null {\r\n        if (!valueString) return null\r\n        return WrapDate.parse(valueString, this.valueFormat)\r\n    }\r\n\r\n    copy(): WrapDate {\r\n        return new WrapDate(this.valueString, this.displayFormat, this.valueFormat)\r\n    }\r\n\r\n    /*---------------------------------------static-------------------------------------------*/\r\n\r\n    static defaultDate(): Date {\r\n        const date = new Date()\r\n        date.setMonth(0, 1)\r\n        date.setHours(0, 0, 0)\r\n        return date\r\n    }\r\n\r\n    static format(dateObject: Date, formatString: string) {\r\n        if (!dateObject) return null\r\n        return fecha.format(dateObject, formatString)\r\n    }\r\n\r\n    static parse(dateString: string, formatString: string) {\r\n        if (!dateString) return null\r\n        return fecha.parse(dateString, formatString)\r\n    }\r\n\r\n    static today(displayFormat: string, valueFormat: string): PlainDateType {\r\n        let today = new WrapDate(null, displayFormat, valueFormat)\r\n        today.setTime(new Date().getTime())\r\n        return today as PlainDateType\r\n    }\r\n\r\n    static CompareMode = CompareMode\r\n}\r\n\r\nexport const PlainDate = WrapDate as any as (new(...args: ConstructorParameters<typeof WrapDate>) => PlainDateType) & {\r\n    defaultDate(): Date,\r\n    format(dateObject: Date, formatString: string): string,\r\n    parse(dateString: string, formatString: string): Date | null,\r\n    today(displayFormat: string, valueFormat: string): PlainDateType,\r\n    CompareMode: typeof CompareMode,\r\n}\r\n","import {createAgentGetter} from \"../../popper/edit/createAgentGetter\";\r\n\r\nexport const TimeServiceGetter = createAgentGetter({\r\n    name: 'time',\r\n    render: (attrs) => <pl-time-panel {...attrs}/>,\r\n    defaultPopperAttrs: {\r\n        transition: 'pl-transition-popper-drop',\r\n    },\r\n})","import {provide, inject} from 'vue'\r\nimport {SimpleFunction} from \"../../shims\";\r\n\r\nconst REFRESH_POPPER_REFERENCE = '@@REFRESH_POPPER_REFERENCE'\r\n\r\n/**\r\n * 因为 Popper 是无根节点，所以比较难检测到reference节点变化的情况。为了优化这一块的内容\r\n * 有两种方式，一种是在使用Popper组件的时候，reference包裹一层不变的节点，缺点是会破坏无根\r\n * 节点的结构。另一种是，提供一个 refreshPopperReference 函数，子组件可以注入这个函数，当子组件\r\n * 知道自己的reference节点变化之后调用这个函数通知Popper重新reference。\r\n *\r\n * @author  韦胜健\r\n * @date    2020/11/19 11:00\r\n */\r\nexport const refreshPopperReference = {\r\n    provide: (refresh: () => void) => {\r\n        provide(REFRESH_POPPER_REFERENCE, refresh)\r\n    },\r\n    inject: (defaultValue = null) => {\r\n        const refresh = inject(REFRESH_POPPER_REFERENCE, defaultValue) as null | SimpleFunction\r\n        return {\r\n            freshPopperReference: () => !!refresh && refresh()\r\n        }\r\n    },\r\n}","import {computed, PropType, reactive, watch} from \"vue\";\r\nimport {designComponent} from \"../../use/designComponent\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport './button.scss'\r\nimport {ClickWave} from \"../click-wave/click-wave-directive\";\r\nimport {EditProps, useEdit} from \"../../use/useEdit\";\r\nimport {StyleProps, useStyle} from \"../../use/useStyle\";\r\nimport {useProps} from \"../../use/useProps\";\r\nimport {ButtonModeProvider} from \"../button-group/button-group\";\r\nimport {SimpleFunction} from \"../../shims\";\r\nimport {throttle} from 'plain-utils/utils/throttle'\r\nimport {unit} from 'plain-utils/string/unit'\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {DEFAULT_STATUS} from \"../../utils/constant\";\r\nimport Icon from '../icon'\r\n\r\nconsole.log('load button component')\r\n\r\nexport default designComponent({\r\n    name: 'pl-button',\r\n    directives: {ClickWave},\r\n    props: {\r\n        mode: {type: String, default: 'fill'},                  // fill,stroke,text\r\n        label: {type: [String, Object]},                        // 按钮文本\r\n        width: {type: [String, Number]},                        // 按钮宽度\r\n        icon: {type: String},                                   // 按钮图标\r\n        active: {type: Boolean},                                // 按钮是否高亮\r\n        noPadding: {type: Boolean},                             // 按钮是否无边距\r\n        block: {type: Boolean},                                 // 块级元素\r\n        throttleClick: {type: [Boolean, Number]},               // click节流\r\n        asyncHandler: {type: Function as PropType<(e: MouseEvent) => void>},    // 异步处理函数，会自动开启关闭loading状态\r\n\r\n        ...EditProps,\r\n        ...StyleProps,\r\n\r\n        /*native*/\r\n        type: {type: String, default: 'button'},\r\n        nativeAttrs: {type: Object},\r\n    },\r\n    emits: {\r\n        onClick: (e: MouseEvent) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const {slots} = useSlots()\r\n        const {propsState} = useProps(props, {\r\n            width: useProps.NUMBER,\r\n            label: useProps.PROMISE,\r\n        })\r\n        const {styleComputed} = useStyle({status: DEFAULT_STATUS})\r\n        const {editState, editComputed} = useEdit()\r\n        const buttonGroup = ButtonModeProvider.inject()\r\n        const otherComputed = computed(() => ({\r\n            mode: !!buttonGroup ? buttonGroup.value.mode : props.mode\r\n        }))\r\n        const state = reactive({\r\n            handleClick: null as SimpleFunction | null,\r\n            handleClickInner: async (e: MouseEvent) => {\r\n                e.stopPropagation()\r\n                if (!editComputed.value.editable) {\r\n                    return\r\n                }\r\n                if (!props.asyncHandler) {\r\n                    return emit.onClick(e)\r\n                }\r\n                editState.loading = true\r\n                try {\r\n                    await props.asyncHandler(e)\r\n                } catch (e) {\r\n                    console.error(e)\r\n                } finally {\r\n                    editState.loading = null\r\n                }\r\n            },\r\n        })\r\n\r\n        watch(\r\n            () => props.throttleClick,\r\n            (val) => {\r\n                if (!val) {\r\n                    return state.handleClick = state.handleClickInner\r\n                }\r\n                if (val === true) {\r\n                    val = 1000\r\n                }\r\n                state.handleClick = throttle(state.handleClickInner, val, {trailing: false})\r\n            },\r\n            {immediate: true}\r\n        )\r\n\r\n        const classes = computed(() => ([\r\n            'pl-button',\r\n            'plain-click-node',\r\n\r\n            `pl-button-mode-${otherComputed.value.mode}`,\r\n            `pl-button-status-${styleComputed.value.status}`,\r\n            `pl-button-shape-${styleComputed.value.shape}`,\r\n            `pl-button-size-${styleComputed.value.size}`,\r\n\r\n            {\r\n                'pl-button-icon': !!props.icon,\r\n                'pl-button-active': !!props.active,\r\n                'pl-button-noPadding': !!props.noPadding,\r\n\r\n                'pl-button-loading': !!editComputed.value.loading,\r\n                'pl-button-has-icon': !!props.icon,\r\n                'pl-button-block': !!props.block,\r\n                'pl-button-disabled': !!editComputed.value.disabled,\r\n                'pl-button-icon-only': !!props.icon && !propsState.label,\r\n            },\r\n        ]))\r\n\r\n        const styles = useStyles(style => {\r\n            style.width = unit(propsState.width)\r\n        })\r\n\r\n        return {\r\n            render: () => {\r\n                return (\r\n                    <button\r\n                        style={styles.value}\r\n                        class={classes.value}\r\n                        type={props.type as any}\r\n                        disabled={editComputed.value.disabled!}\r\n                        v-click-wave={\"large\"}\r\n                        {...{\r\n                            ...(props.nativeAttrs || {}),\r\n                            onClick: state.handleClick!,\r\n                        }}\r\n                    >\r\n                        {!!editComputed.value.loading && <pl-loading type=\"gamma\"/>}\r\n                        {\r\n                            slots.default(<>\r\n                                {(!!props.icon && !editComputed.value.loading) ? <Icon icon={props.icon}/> : null}\r\n                                {propsState.label ? <span>{propsState.label}</span> : null}\r\n                            </>)\r\n                        }\r\n                    </button>\r\n                )\r\n            }\r\n        }\r\n    },\r\n})","import Button from './button'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(Button)","var map = {\n\t\"./form/form-associate-fields.vue\": [\n\t\t\"c778\",\n\t\t\"chunk-2d21770b\"\n\t],\n\t\"./form/form-basic.vue\": [\n\t\t\"c40a\",\n\t\t\"chunk-2d216b18\"\n\t],\n\t\"./form/form-blur.vue\": [\n\t\t\"7cab\",\n\t\t\"chunk-2d0e2123\"\n\t],\n\t\"./form/form-dynamic-items.vue\": [\n\t\t\"a0aa\",\n\t\t\"chunk-2d207945\"\n\t],\n\t\"./form/form-edit-control.vue\": [\n\t\t\"0e97\",\n\t\t\"chunk-2d0af509\"\n\t],\n\t\"./form/form-elements.vue\": [\n\t\t\"5000\",\n\t\t\"chunk-2d0c72d1\"\n\t],\n\t\"./form/form-grid.vue\": [\n\t\t\"f156\",\n\t\t\"chunk-3dbb8cf4\"\n\t],\n\t\"./form/form-size.vue\": [\n\t\t\"1b42\",\n\t\t\"chunk-2d0b5d85\"\n\t],\n\t\"./form/form-validate-mode.vue\": [\n\t\t\"530a\",\n\t\t\"chunk-1fd5276b\"\n\t],\n\t\"./form/form-validate.vue\": [\n\t\t\"4eea\",\n\t\t\"chunk-2d0ccc03\"\n\t],\n\t\"./normal/alert.vue\": [\n\t\t\"7f6e\",\n\t\t\"chunk-1b57f3ae\"\n\t],\n\t\"./normal/badge.vue\": [\n\t\t\"f485\",\n\t\t\"chunk-0882dea0\"\n\t],\n\t\"./normal/button.vue\": [\n\t\t\"1e5a\",\n\t\t\"chunk-2d0b6916\"\n\t],\n\t\"./normal/card.vue\": [\n\t\t\"ed3a\",\n\t\t\"chunk-2d230863\"\n\t],\n\t\"./normal/carousel.vue\": [\n\t\t\"1cbd\",\n\t\t\"chunk-2d0b670a\"\n\t],\n\t\"./normal/cascade.vue\": [\n\t\t\"e8e3\",\n\t\t\"chunk-2d226917\"\n\t],\n\t\"./normal/checkbox.vue\": [\n\t\t\"ecd1\",\n\t\t\"chunk-8c528a7e\"\n\t],\n\t\"./normal/collapse.vue\": [\n\t\t\"5583\",\n\t\t\"chunk-d0623118\"\n\t],\n\t\"./normal/color-picker.vue\": [\n\t\t\"7c40\",\n\t\t\"chunk-2d0e1b7e\"\n\t],\n\t\"./normal/color.vue\": [\n\t\t\"a642\",\n\t\t\"chunk-67de4bec\"\n\t],\n\t\"./normal/date.vue\": [\n\t\t\"9996\",\n\t\t\"chunk-2d0e6733\"\n\t],\n\t\"./normal/dialog.vue\": [\n\t\t\"8ae9\",\n\t\t\"chunk-3a1bf136\"\n\t],\n\t\"./normal/dropdown.vue\": [\n\t\t\"86fb\",\n\t\t\"chunk-2d0ded30\"\n\t],\n\t\"./normal/grid.vue\": [\n\t\t\"9c0b\",\n\t\t\"chunk-22e0a968\"\n\t],\n\t\"./normal/icon.vue\": [\n\t\t\"5dee\",\n\t\t\"chunk-4b009cb4\"\n\t],\n\t\"./normal/input.vue\": [\n\t\t\"2ace\",\n\t\t\"chunk-2d0bd407\"\n\t],\n\t\"./normal/list.vue\": [\n\t\t\"be7d\",\n\t\t\"chunk-09a3a414\"\n\t],\n\t\"./normal/loading.vue\": [\n\t\t\"2c06\",\n\t\t\"chunk-2d0bd52d\"\n\t],\n\t\"./normal/number.vue\": [\n\t\t\"8447\",\n\t\t\"chunk-89a68be8\"\n\t],\n\t\"./normal/pagination.vue\": [\n\t\t\"f7cd\",\n\t\t\"chunk-38aa7b52\"\n\t],\n\t\"./normal/popper.vue\": [\n\t\t\"a97d\",\n\t\t\"chunk-25ff62c2\"\n\t],\n\t\"./normal/progress.vue\": [\n\t\t\"807a\",\n\t\t\"chunk-2d0dd0f8\"\n\t],\n\t\"./normal/radio.vue\": [\n\t\t\"f0bd\",\n\t\t\"chunk-43085bb4\"\n\t],\n\t\"./normal/rate.vue\": [\n\t\t\"1dc2\",\n\t\t\"chunk-2d0b6ab8\"\n\t],\n\t\"./normal/scroll.vue\": [\n\t\t\"6e4f\",\n\t\t\"chunk-349f5122\"\n\t],\n\t\"./normal/select.vue\": [\n\t\t\"8fd2\",\n\t\t\"chunk-2d0ea0f2\"\n\t],\n\t\"./normal/slider.vue\": [\n\t\t\"3f1c\",\n\t\t\"chunk-2d0c551b\"\n\t],\n\t\"./normal/step.vue\": [\n\t\t\"1956\",\n\t\t\"chunk-87bc0906\"\n\t],\n\t\"./normal/tag.vue\": [\n\t\t\"701a\",\n\t\t\"chunk-2d0d5bdf\"\n\t],\n\t\"./normal/time.vue\": [\n\t\t\"f6f1\",\n\t\t\"chunk-2d22d611\"\n\t],\n\t\"./normal/toggle.vue\": [\n\t\t\"17a2\",\n\t\t\"chunk-2d0ac18d\"\n\t],\n\t\"./normal/tooltip.vue\": [\n\t\t\"52da\",\n\t\t\"chunk-2d0c80d0\"\n\t],\n\t\"./normal/tree.vue\": [\n\t\t\"ef4f\",\n\t\t\"chunk-2d2300f7\",\n\t\t\"chunk-1b31a082\"\n\t],\n\t\"./normal/virtual-list.vue\": [\n\t\t\"823d\",\n\t\t\"chunk-2d2085ea\",\n\t\t\"chunk-2d0d3d87\",\n\t\t\"chunk-c9def9e2\"\n\t],\n\t\"./service/demo-before-create.vue\": [\n\t\t\"41ed\",\n\t\t\"chunk-2d0c08d2\"\n\t],\n\t\"./service/dialog-service.vue\": [\n\t\t\"00ab\",\n\t\t\"chunk-2d0a3317\"\n\t],\n\t\"./service/message-service.vue\": [\n\t\t\"b751\",\n\t\t\"chunk-2d210267\"\n\t],\n\t\"./service/notice-service.vue\": [\n\t\t\"700e\",\n\t\t\"chunk-2d0d5bc4\"\n\t],\n\t\"./service/popper-service.vue\": [\n\t\t\"c1f6\",\n\t\t\"chunk-4b0d0451\"\n\t],\n\t\"./table/span/table-colspan.vue\": [\n\t\t\"5b14\",\n\t\t\"chunk-2d0d2ea6\"\n\t],\n\t\"./table/span/table-rowspan.vue\": [\n\t\t\"51d7\",\n\t\t\"chunk-2d0c7ce5\"\n\t],\n\t\"./table/span/table-span.vue\": [\n\t\t\"20ea\",\n\t\t\"chunk-244df15e\"\n\t],\n\t\"./table/table-base-test.vue\": [\n\t\t\"5baa\",\n\t\t\"chunk-07561cca\"\n\t],\n\t\"./table/table-basic.vue\": [\n\t\t\"33df\",\n\t\t\"chunk-74cc218d\"\n\t],\n\t\"./table/table-class-style.vue\": [\n\t\t\"605e\",\n\t\t\"chunk-606d5805\"\n\t],\n\t\"./table/table-col-draggable.vue\": [\n\t\t\"ff85\",\n\t\t\"chunk-073442f3\"\n\t],\n\t\"./table/table-columns.vue\": [\n\t\t\"dcf41\",\n\t\t\"chunk-638ade38\"\n\t],\n\t\"./table/table-config.vue\": [\n\t\t\"2c13\",\n\t\t\"chunk-2ca059b2\"\n\t],\n\t\"./table/table-expand.vue\": [\n\t\t\"10c5\",\n\t\t\"chunk-4e35c49f\"\n\t],\n\t\"./table/table-fixed.vue\": [\n\t\t\"ed5f\",\n\t\t\"chunk-da7485a8\"\n\t],\n\t\"./table/table-plc-editable.vue\": [\n\t\t\"4858\",\n\t\t\"chunk-6467466e\"\n\t],\n\t\"./table/table-plc-scoped-slot.vue\": [\n\t\t\"d753\",\n\t\t\"chunk-809184f6\"\n\t],\n\t\"./table/table-row-draggable.vue\": [\n\t\t\"bea7\",\n\t\t\"chunk-6aeaee92\"\n\t],\n\t\"./table/tree/table-tree.vue\": [\n\t\t\"62ce\",\n\t\t\"chunk-2e73eeec\"\n\t],\n\t\"./table/tree/tree-table-virtual-draggable.vue\": [\n\t\t\"4311\",\n\t\t\"chunk-2d0c09d5\"\n\t],\n\t\"./table/tree/tree-table-virtual.vue\": [\n\t\t\"263a\",\n\t\t\"chunk-2d0b2cc8\"\n\t],\n\t\"./table/virtual-table.vue\": [\n\t\t\"42bc\",\n\t\t\"chunk-1743c69e\"\n\t],\n\t\"./test/test-pass-attrs-hot-reload/test-pass-attrs-hot-reload.vue\": [\n\t\t\"8544\",\n\t\t\"chunk-2d0de333\"\n\t],\n\t\"./test/test.vue\": [\n\t\t\"abd6\",\n\t\t\"chunk-2d213529\"\n\t],\n\t\"./use/useCollect/demo-use-collect.vue\": [\n\t\t\"a108\",\n\t\t\"chunk-c4256c3a\"\n\t],\n\t\"./use/useEvent/demo-use-event.vue\": [\n\t\t\"6ef1\",\n\t\t\"chunk-2c2ee53a\"\n\t],\n\t\"./use/useModel/demo-use-model.vue\": [\n\t\t\"ba13\",\n\t\t\"chunk-2d219f97\"\n\t],\n\t\"./use/useProps/demo-use-props.vue\": [\n\t\t\"fb76\",\n\t\t\"chunk-2d237591\"\n\t],\n\t\"./use/useRefs/demo-use-refs.vue\": [\n\t\t\"90ae\",\n\t\t\"chunk-2d0e4a71\"\n\t],\n\t\"./use/useScopedSlots/demo-use-scoped-slots.vue\": [\n\t\t\"017a\",\n\t\t\"chunk-7ca781f0\"\n\t],\n\t\"./use/useSlots/demo-use-slots.vue\": [\n\t\t\"f6df\",\n\t\t\"chunk-0c898c56\"\n\t],\n\t\"./use/useStyle/demo-use-style.vue\": [\n\t\t\"f9a4\",\n\t\t\"chunk-3e5f5a95\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"10f1\";\nmodule.exports = webpackAsyncContext;","import {useFunctionWrapper} from \"./useFunctionWrapper\";\r\nimport {computed, inject, PropType, provide} from 'vue';\r\n\r\nexport enum StyleMode {\r\n    fill = 'fill',\r\n    stroke = 'stroke',\r\n    text = 'text',\r\n}\r\n\r\nexport enum StyleShape {\r\n    fillet = 'fillet',\r\n    round = 'round',\r\n    square = 'square',\r\n}\r\n\r\nexport enum StyleSize {\r\n    normal = 'normal',\r\n    large = 'large',\r\n    mini = 'mini',\r\n}\r\n\r\nexport enum StyleStatus {\r\n    primary = 'primary',\r\n    success = 'success',\r\n    error = 'error',\r\n    warn = 'warn',\r\n    info = 'info',\r\n}\r\n\r\nexport const StyleProps = {\r\n    shape: {type: String as PropType<StyleShape>},                      // fillet,round,square\r\n    size: {type: String as PropType<StyleSize>},                       // normal,large,mini\r\n    status: {type: String as PropType<StyleStatus>},                     // primary,success,error,warn,info\r\n}\r\n\r\ninterface UseStyleProvideData {\r\n    shape: StyleShape,\r\n    size: StyleSize,\r\n    status?: StyleStatus,\r\n}\r\n\r\ninterface UseStyleOption {\r\n    shape?: StyleShape,\r\n    size?: StyleSize,\r\n    status?: StyleStatus,\r\n    adjust?: (data: UseStyleProvideData) => void | UseStyleProvideData\r\n}\r\n\r\nconst USE_STYLE_PROVIDER = '@@USE_STYLE_PROVIDER'\r\n\r\nexport const useStyle = useFunctionWrapper('style', (ctx, option: UseStyleOption = {}): { styleComputed: { value: UseStyleProvideData } } => {\r\n\r\n    const parent = inject(USE_STYLE_PROVIDER, null) as null | { value: UseStyleProvideData }\r\n    const defaultData = Object.assign({shape: StyleShape.fillet, size: StyleSize.normal}, option)\r\n\r\n    const styleComputed = computed(() => {\r\n        const {shape, size, status} = ctx.props\r\n        const parentData = !!parent ? parent.value : {} as any\r\n        let data: UseStyleProvideData = {\r\n            shape: shape || parentData.shape || defaultData.shape,\r\n            size: size || parentData.size || defaultData.size,\r\n            status: status || parentData.status || defaultData.status,\r\n        }\r\n        if (!!defaultData.adjust) {\r\n            data = defaultData.adjust(data) || data\r\n        }\r\n        (data as any).ctx = ctx;\r\n        (data as any).parent = parent\r\n        return data\r\n    })\r\n\r\n    provide(USE_STYLE_PROVIDER, styleComputed)\r\n\r\n    return {styleComputed}\r\n})","import {useFunctionWrapper} from \"./useFunctionWrapper\";\r\nimport {computed, inject, onBeforeUnmount, provide, reactive} from 'vue';\r\nimport {ComponentEvent} from \"./useEvent\";\r\n\r\nexport const EDIT_PROVIDER = '@@EDIT_PROVIDER'\r\n\r\nexport const EditProps = {\r\n    disabled: {type: Boolean, default: null},\r\n    readonly: {type: Boolean, default: null},\r\n    loading: {type: Boolean, default: null},\r\n    placeholder: {type: String, default: null},\r\n    customReadonly: {type: Boolean, default: null},\r\n}\r\n\r\ninterface EditProvideData {\r\n    disabled: boolean | null,\r\n    readonly: boolean | null,\r\n    loading: boolean | null,\r\n    placeholder: string | null,\r\n\r\n    onBlur?: (...args: any[]) => void,\r\n    onChange?: (...args: any[]) => void,\r\n}\r\n\r\nexport const useEdit = useFunctionWrapper(\r\n    'edit',\r\n    (ctx, option: { adjust?: (data: EditProvideData) => void | EditProvideData } = {}) => {\r\n\r\n        const parentEditComputed = inject(EDIT_PROVIDER, null) as null | { value: EditProvideData }\r\n\r\n        const editState = reactive({loading: null as null | boolean})\r\n\r\n        const editComputed = computed(() => {\r\n            const {\r\n                disabled,\r\n                readonly,\r\n                loading,\r\n                placeholder\r\n            } = ctx.props as any as EditProvideData\r\n\r\n            let data = {disabled, readonly, loading, placeholder}\r\n\r\n            if (data.disabled == null) data.disabled = !!parentEditComputed ? parentEditComputed.value.disabled : false\r\n            if (data.readonly == null) data.readonly = !!parentEditComputed ? parentEditComputed.value.readonly : false\r\n            if (data.placeholder == null) data.placeholder = !!parentEditComputed ? parentEditComputed.value.placeholder : null\r\n            if (editState.loading == null) {\r\n                data.loading = data.loading != null ? data.loading : (!!parentEditComputed ? parentEditComputed.value.loading : false)\r\n            } else {\r\n                data.loading = editState.loading\r\n            }\r\n\r\n            if (!!option.adjust) data = option.adjust(data) || data\r\n\r\n            return {\r\n                ...data,\r\n                editable: !data.disabled && !data.readonly && !data.loading\r\n            }\r\n        });\r\n\r\n        provide(EDIT_PROVIDER, editComputed)\r\n\r\n        const event = (ctx as any)._event as ComponentEvent<any> | undefined\r\n\r\n        if (!!parentEditComputed) {\r\n            if (!!parentEditComputed.value.onBlur && !!event && !!event.on.onBlur) {\r\n                event.on.onBlur(parentEditComputed.value.onBlur)\r\n                onBeforeUnmount(() => event.off.onBlur(parentEditComputed.value.onBlur!))\r\n            }\r\n            if (!!parentEditComputed.value.onChange && !!event && !!event.on.onChange) {\r\n                event.on.onChange(parentEditComputed.value.onChange)\r\n                onBeforeUnmount(() => event.off.onChange(parentEditComputed.value.onChange!))\r\n            }\r\n        }\r\n\r\n        return {\r\n            editState,\r\n            editComputed,\r\n        }\r\n    })","import {Events} from 'vue'\r\n\r\n/**\r\n * 方便创建监听原生事件的监听函数\r\n * @author  韦胜健\r\n * @date    2020/12/14 17:47\r\n */\r\nexport function createEventListener<Config extends Partial<{ [k in keyof Events]: (e: Events[k]) => void }>>(config: Config): Config {\r\n    return config\r\n}","/**\r\n * 校验触发动作类型\r\n * @author  韦胜健\r\n * @date    2020/12/12 15:41\r\n */\r\n\r\n/**\r\n * 校验触发器类型\r\n * @author  韦胜健\r\n * @date    2020/12/12 22:02\r\n */\r\nimport {toArray} from \"../../utils/toArray\";\r\n\r\nexport enum FormValidateTrigger {\r\n    change = 'change',\r\n    blur = 'blur',\r\n    all = 'all',\r\n}\r\n\r\n/**\r\n * 校验的值类型\r\n * @author  韦胜健\r\n * @date    2020/12/12 22:02\r\n */\r\nexport enum FormValueType {\r\n    string = 'string',\r\n    number = 'number',\r\n    boolean = 'boolean',\r\n    array = 'array',\r\n}\r\n\r\n/**\r\n * form以及formItem的rules属性类型\r\n * @author  韦胜健\r\n * @date    2020/7/18 12:39\r\n */\r\nexport interface FormRule {\r\n\r\n    field?: string | string[]                                                               // 绑定的字段\r\n    label?: string                                                                          // form item 的文本\r\n    options?: any | any[]                                                                   // 选项值校验\r\n\r\n    max?: number,                                                                           // 最大长度（字符串），最大值（数字），最大长度（数组）\r\n    min?: number,                                                                           // 最小长度（字符串），最小值（数字），最小长度（数组）\r\n    message?: string,                                                                       // 检验事变提示信息\r\n    pattern?: RegExp,                                                                       // 校验的正则表达式\r\n    required?: boolean,                                                                     // 是否必填\r\n    transform?: (val?: any) => any,                                                         // 将字段值转换成目标值之后校验\r\n    type?: FormValueType,                                                                   // 数据的类型\r\n    trigger?: FormValidateTrigger,                                                          // 触发器\r\n    validator?: (rule: FormRule, value: any, formData: object) => void | string | Promise<void | string>,// 自定义校验器\r\n\r\n}\r\n\r\n/**\r\n * pl-form组件 rules 属性对象类型\r\n * @author  韦胜健\r\n * @date    2020/12/12 15:59\r\n */\r\nexport type FormComponentRules = FormRule[] | ({ [field: string]: FormRule | FormRule[] })\r\n\r\n/**\r\n * 关联校验字段\r\n * @author  韦胜健\r\n * @date    2020/12/28 12:07\r\n */\r\nexport type FormAssociateFields = Record<string, string | string[]>\r\n\r\n/**\r\n * pl-form-item 组件rules属性对象类型\r\n * @author  韦胜健\r\n * @date    2020/12/12 15:59\r\n */\r\nexport interface FormComponentItemRules {\r\n    label?: string,\r\n    field?: string | string[]\r\n    required?: boolean,\r\n    rules?: FormRule | FormRule[]\r\n}\r\n\r\n/**\r\n * 校验单个字段的结果\r\n * @author  韦胜健\r\n * @date    2020/12/12 22:24\r\n */\r\nexport interface FormValidateResult {\r\n    label?: string,\r\n    message: string,\r\n    rule: FormRule,\r\n    value: any,\r\n}\r\n\r\n/**\r\n * 校验结果\r\n * @author  韦胜健\r\n * @date    2020/12/12 22:24\r\n */\r\nexport interface FormValidateResultMap {[k: string]: FormValidateResult | undefined}\r\n\r\n/**\r\n * 表单校验工具对象\r\n * @author  韦胜健\r\n * @date    2020/12/13 14:53\r\n */\r\nexport const FormValidateUtils = {\r\n    getValueByField(field: string, formData: Record<string, any> | undefined | null, transform?: (val: any) => any) {\r\n        if (!formData) {\r\n            return null\r\n        }\r\n        let val: any;\r\n        if (field.indexOf('.') === -1) {\r\n            val = formData[field]\r\n        } else {\r\n            const fields = field.split('.')\r\n            let index = 0, len = fields.length\r\n            let value = formData[fields[index]]\r\n\r\n            while (index < len - 1 && value != null) {\r\n                value = value[fields[++index]]\r\n            }\r\n            val = index == len - 1 ? value : null\r\n        }\r\n        return !transform ? val : transform(val)\r\n    },\r\n    /**\r\n     * 获取max校验失败信息\r\n     * @author  韦胜健\r\n     * @date    2020/12/13 14:54\r\n     */\r\n    getMaxMessage({value, max, type,}: { value: any, max: number, type?: FormValueType, }) {\r\n        if (Array.isArray(value)) {\r\n            return `最多选择 ${max} 个选项`\r\n        }\r\n        if (type == \"number\") {\r\n            return `最大值 ${max}`\r\n        }\r\n        return `最大文本长度 ${max} 个字符`\r\n    },\r\n    /**\r\n     * 获取min校验失败信息\r\n     * @author  韦胜健\r\n     * @date    2020/12/13 14:54\r\n     */\r\n    getMinMessage({value, min, type,}: { value: any, min: number, type?: FormValueType, }) {\r\n        if (Array.isArray(value)) {\r\n            return `最少选择 ${min} 个选项`\r\n        }\r\n        if (type == \"number\") {\r\n            return `最小值 ${min}`\r\n        }\r\n        return `最小文本长度 ${min} 个字符`\r\n    },\r\n    /**\r\n     * 获取有效值列表。如果值不存在则返回null\r\n     * @author  韦胜健\r\n     * @date    2020/12/13 14:55\r\n     */\r\n    getListValue<T>(val: T | T[] | null | undefined): T[] | null {\r\n        if (!val) {\r\n            return null\r\n        }\r\n        return Array.isArray(val) ? val : [val]\r\n    },\r\n    /**\r\n     * 执行校验规则，如果函数参数中有field，则只校验一个字段,否则校验rule中所有的字段\r\n     * @author  韦胜健\r\n     * @date    2020/12/13 14:56\r\n     * @param   rule                要校验的FormRule\r\n     * @param   formData            表单数据对象\r\n     * @param   fieldToLabel        字段映射label的对象\r\n     * @param   field               校验的字段\r\n     */\r\n    async checkRule({rule, formData, fieldToLabel, field}: { formData: Record<string, any> | null, rule: FormRule, fieldToLabel: Record<string, string>, field?: string }): Promise<null | FormValidateResult> {\r\n        const {\r\n            transform, type,\r\n            label, message,\r\n            required, options, max, min, pattern, validator\r\n        } = rule\r\n\r\n        let validList: { field: string, value: any }[] | null = null;\r\n\r\n        /*如果函数参数中有field，则只校验一个字段,否则校验rule中所有的字段*/\r\n        if (!!field) {\r\n            /*校验一个字段*/\r\n            validList = [{field, value: FormValidateUtils.getValueByField(field, formData, transform)}]\r\n        } else {\r\n            /*校验rule中所有的字段*/\r\n            const fields = FormValidateUtils.getListValue(rule.field)\r\n            if (!!fields) {\r\n                validList = fields.map(f => ({field: f, value: FormValidateUtils.getValueByField(f, formData, transform)}))\r\n            }\r\n        }\r\n        if (!validList || validList.length === 0) {\r\n            return null\r\n        }\r\n\r\n        /*---------------------------------------required 必填校验-------------------------------------------*/\r\n\r\n        if (required) {\r\n            const invalidValues = validList.filter(({value}) => {\r\n\r\n                //校验不通过才返回true\r\n\r\n                if (value == null) {\r\n                    return true\r\n                }\r\n                if (Array.isArray(value) && value.length === 0) {\r\n                    return true\r\n                }\r\n                if (typeof value === 'string') {\r\n                    return !value.trim()\r\n                } else {\r\n                    return false\r\n                }\r\n            })\r\n            if (invalidValues.length > 0) {\r\n                const {field, value} = invalidValues[0]!\r\n                return {\r\n                    rule,\r\n                    value,\r\n                    label: label || fieldToLabel[field],\r\n                    message: message || '必填，不能为空！',\r\n                }\r\n            }\r\n        }\r\n\r\n        /*---------------------------------------options 选项值校验-------------------------------------------*/\r\n\r\n        if (options != null) {\r\n            const optionList = Array.isArray(options) ? options : [options]\r\n            const invalidValues = validList.filter(({value}) => {\r\n\r\n                //校验不通过才返回true\r\n\r\n                if (value == null) {\r\n                    /*没有值，不校验*/\r\n                    return false\r\n                }\r\n                if (!Array.isArray(value)) {\r\n                    /*不是数组，判断值是否存在数组中*/\r\n                    const isExist = optionList.indexOf(value) > -1\r\n                    if (!isExist) {\r\n                        return true\r\n                    }\r\n                } else {\r\n                    /*是数组，判断value数组中是否存在值，不符合options*/\r\n                    return !!(value as any[]).find(v => optionList.indexOf(v) === -1)\r\n                }\r\n            })\r\n            if (invalidValues.length > 0) {\r\n                const {field, value} = invalidValues[0]!\r\n                return {\r\n                    rule,\r\n                    value,\r\n                    label: label || fieldToLabel[field],\r\n                    message: message || '不符合特定选项！',\r\n                }\r\n            }\r\n        }\r\n\r\n        /*---------------------------------------max-------------------------------------------*/\r\n\r\n        if (max != null) {\r\n            const invalidValues = validList.filter(({value, field}) => {\r\n\r\n                //校验不通过才返回true\r\n\r\n                if (value == null) {\r\n                    /*没有值，不校验*/\r\n                    return false\r\n                }\r\n                if (Array.isArray(value)) {\r\n                    return value.length > max\r\n                }\r\n                if (type == \"number\" || typeof value === \"number\") {\r\n                    value = typeof value === \"number\" ? value : Number(value)\r\n                    return value > max\r\n                }\r\n                // string\r\n                return String(value).length > max\r\n            })\r\n            if (invalidValues.length > 0) {\r\n                const {field, value} = invalidValues[0]!\r\n                return {\r\n                    rule,\r\n                    value,\r\n                    label: label || fieldToLabel[field],\r\n                    message: message || FormValidateUtils.getMaxMessage({value, max, type}),\r\n                }\r\n            }\r\n        }\r\n\r\n        /*---------------------------------------min-------------------------------------------*/\r\n\r\n        if (min != null) {\r\n            const invalidValues = validList.filter(({value}) => {\r\n\r\n                //校验不通过才返回true\r\n\r\n                if (value == null) {\r\n                    /*没有值，不校验*/\r\n                    return false\r\n                }\r\n                if (Array.isArray(value)) {\r\n                    return value.length < min\r\n                }\r\n                if (type == \"number\" || typeof value === \"number\") {\r\n                    value = typeof value === \"number\" ? value : Number(value)\r\n                    return value < min\r\n                }\r\n                // string\r\n                return String(value).length < min\r\n            })\r\n            if (invalidValues.length > 0) {\r\n                const {field, value} = invalidValues[0]!\r\n                return {\r\n                    rule,\r\n                    value,\r\n                    label: label || fieldToLabel[field],\r\n                    message: message || FormValidateUtils.getMinMessage({value, min, type}),\r\n                }\r\n            }\r\n        }\r\n\r\n        /*---------------------------------------pattern-------------------------------------------*/\r\n\r\n        if (!!pattern) {\r\n            const invalidValues = validList.filter(({value}) => {\r\n                if (value == null) {\r\n                    /*没有值，不校验*/\r\n                    return false\r\n                }\r\n                return !pattern.test(value)\r\n            })\r\n            if (invalidValues.length > 0) {\r\n                const {field, value} = invalidValues[0]!\r\n                return {\r\n                    rule,\r\n                    value,\r\n                    label: label || fieldToLabel[field],\r\n                    message: message || '不符合特定模式',\r\n                }\r\n            }\r\n        }\r\n\r\n        /*---------------------------------------validator-------------------------------------------*/\r\n\r\n        if (!!validator) {\r\n            const validateResultList = (await Promise.all(validList.map(async ({field, value}) => {\r\n                let message: string | void;\r\n                try {\r\n                    message = await validator(rule, value, formData || {})\r\n                } catch (e) {\r\n                    message = !!e.toString ? e.toString() : e\r\n                }\r\n                if (!message) {\r\n                    return null\r\n                }\r\n                return {\r\n                    rule,\r\n                    message,\r\n                    value,\r\n                    label: label || fieldToLabel[field],\r\n                }\r\n            }))).filter(Boolean) as FormValidateResult[]\r\n            if (validateResultList.length > 0) {\r\n                return validateResultList[0]!\r\n            }\r\n        }\r\n\r\n        return null\r\n    }\r\n}\r\n\r\n/**\r\n * validateField校验返回结果\r\n * @author  韦胜健\r\n * @date    2020/12/16 11:49\r\n */\r\nexport type FormValidateFieldReturn = FormValidateResult | undefined\r\n/**\r\n * validate校验返回结果\r\n * @author  韦胜健\r\n * @date    2020/12/16 11:49\r\n */\r\nexport type FormValidateReturn = { validateResultMap: FormValidateResultMap, validateMessage: string | undefined, validateResult?: FormValidateResult }\r\n\r\n/**\r\n * 获取总的FormRules数组\r\n * @author  韦胜健\r\n * @date    2020/12/12 21:45\r\n */\r\nexport function formatFormRules(\r\n    formComponentRules?: FormComponentRules,\r\n    formItems?: FormComponentItemRules[]\r\n) {\r\n\r\n    /*field 转化为 label的映射*/\r\n    let fieldToLabel = {} as Record<string, string>\r\n    /*返回值，总的校验规则数组*/\r\n    let resultRules: FormRule[] = []\r\n\r\n    if (!!formItems && formItems.length > 0) {\r\n        formItems.forEach(formItem => {\r\n            const {label, field, required, rules} = formItem\r\n            const fields = FormValidateUtils.getListValue(field)\r\n            if (!!fields) {\r\n                !!label && (fields.forEach(item => fieldToLabel[item] = label));\r\n                required && (resultRules.push({field, label, required: true,}))\r\n            } else {\r\n                if (required) {\r\n                    /*如果 form-item设置了required，但是没有设置field，这里给出警告！*/\r\n                    console.error(\"form-item's props.field is required when props.required is true!\")\r\n                }\r\n            }\r\n            const formItemRules = FormValidateUtils.getListValue(rules)\r\n            if (!!formItemRules && formItemRules.length > 0) {\r\n                formItemRules.forEach(r => {resultRules.push({...r, label: r.label || label, field: r.field || field,})})\r\n            }\r\n        })\r\n    }\r\n\r\n    if (!!formComponentRules) {\r\n        let formComponentRulesList: FormRule[] = []\r\n        if (Array.isArray(formComponentRules)) {\r\n            formComponentRulesList = formComponentRules\r\n        } else {\r\n            Object.keys(formComponentRules).forEach(f => {\r\n                const value = FormValidateUtils.getListValue(formComponentRules[f])\r\n                !!value && value.forEach(r => formComponentRulesList.push({...r, field: r.field || f}))\r\n            })\r\n        }\r\n        resultRules.push(...formComponentRulesList)\r\n    }\r\n\r\n    async function validateField(\r\n        {\r\n            field,\r\n            formData,\r\n            trigger,\r\n            formValidateResultMap,\r\n            associateFields,\r\n        }: {\r\n            field: string,\r\n            formData: Record<string, any> | null,\r\n            trigger: FormValidateTrigger,\r\n            formValidateResultMap: FormValidateResultMap,\r\n            associateFields?: FormAssociateFields,\r\n        }): Promise<FormValidateFieldReturn> {\r\n\r\n        if (!!associateFields && !!associateFields[field]) {\r\n            toArray(associateFields[field]).forEach(f => validateField({\r\n                field: f,\r\n                formData,\r\n                trigger: FormValidateTrigger.all,\r\n                formValidateResultMap,\r\n            }))\r\n        }\r\n\r\n        const rules = resultRules.filter(r => {\r\n            const matchField = Array.isArray(r.field) ? r.field.indexOf(field) > -1 : r.field == field\r\n            if (!matchField) {\r\n                return false\r\n            }\r\n            if (trigger === FormValidateTrigger.all) {\r\n                return trigger\r\n            }\r\n            return (r.trigger || FormValidateTrigger.change) === trigger\r\n        })\r\n\r\n        if (rules.length > 0) {\r\n            const validateResult = (await Promise.all(rules.map(r => FormValidateUtils.checkRule({rule: r, formData, fieldToLabel, field}))))\r\n                .filter(Boolean) as FormValidateResult[];\r\n            formValidateResultMap[field] = validateResult[0]\r\n            return formValidateResultMap[field]\r\n        } else {\r\n            /*\r\n            *   如果没有可用的校验规则，则什么事也不做，不能清理掉现有的校验结果，比如\r\n            *   比如 没有change校验，但是只有blur校验。如果blur先执行。在校验change的时候会把blur的检验结果覆盖掉\r\n            */\r\n            return\r\n        }\r\n    }\r\n\r\n    async function validate(formData: Record<string, any> | null): Promise<FormValidateReturn> {\r\n        const validateResultList = (await Promise.all(resultRules.map(r => FormValidateUtils.checkRule({rule: r, formData, fieldToLabel}))))\r\n            .filter(Boolean) as FormValidateResult[];\r\n        const validateResultMap = validateResultList.reduce((prev, next) => {\r\n            const {rule: {field}} = next\r\n            const fields = FormValidateUtils.getListValue(field)\r\n            if (!!fields) {\r\n                fields.forEach(f => prev[f] = next)\r\n            }\r\n            return prev\r\n        }, {} as FormValidateResultMap)\r\n        let validateMessage: string | undefined;\r\n        let validateResult: FormValidateResult | undefined;\r\n        if (validateResultList.length > 0) {\r\n            const {label, message} = validateResultList[0]!\r\n            validateMessage = `“${label}” 校验不通过，${message}`\r\n            validateResult = validateResultList[0]\r\n        }\r\n        return {\r\n            validateResultMap,\r\n            validateResult,\r\n            validateMessage,\r\n        }\r\n    }\r\n\r\n    const fieldToRequired = resultRules.reduce((prev, next) => {\r\n        if (!!next.required) {\r\n            const fields = FormValidateUtils.getListValue(next.field)!\r\n            fields.forEach(f => prev[f] = true)\r\n        }\r\n        return prev\r\n    }, {} as Record<string, boolean>)\r\n\r\n    return {\r\n        /*通过field映射label文本*/\r\n        fieldToLabel,\r\n        /*所有的校验规则*/\r\n        resultRules,\r\n        /*通过field映射required*/\r\n        fieldToRequired,\r\n        methods: {\r\n            /*校验单个字段*/\r\n            validateField,\r\n            /*校验所有规则*/\r\n            validate,\r\n        },\r\n    }\r\n}\r\n\r\nexport type FormValidate = ReturnType<typeof formatFormRules>","export const nextIndex = (() => {\r\n    let index = 1500\r\n    return () => index++\r\n})()","import {ref, watch} from 'vue';\r\n\r\nexport type UseModelConfig<T = any> = {\r\n    autoEmit?: boolean | undefined,\r\n    autoWatch?: boolean | undefined,\r\n    onChange?: (newVal: T, oldVal: T) => void,\r\n}\r\n\r\n/**\r\n * 双向绑定组合函数\r\n * @author  韦胜健\r\n * @date    2020/10/19 9:21\r\n */\r\nexport function useModel<T>(\r\n    getter: () => T,\r\n    emitter: (val: T) => void,\r\n    config?: UseModelConfig<T>\r\n) {\r\n\r\n    const state = ref(getter()) as { value: T }\r\n    config = config || {}\r\n\r\n    if (config.autoWatch !== false) {\r\n        watch(getter, (val: T) => {\r\n            if (val != state.value) {\r\n                if (config!.onChange) {\r\n                    config!.onChange(val, state.value)\r\n                }\r\n                state.value = val\r\n            }\r\n        })\r\n    }\r\n\r\n    return {\r\n        get value() {\r\n            return state.value\r\n        },\r\n        set value(val: T) {\r\n            state.value = val\r\n            if (config!.autoEmit !== false) {\r\n                emitter((val))\r\n            }\r\n        }\r\n    }\r\n}","export * from \"-!../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./app.vue?vue&type=style&index=0&id=51f216de&lang=scss\"","import {designComponent} from \"../../use/designComponent\";\r\nimport {NoticeServiceFormatOption} from \"./index\";\r\nimport {useClass} from \"../../use/useClasses\";\r\nimport {nextIndex} from \"../../utils/nextIndex\";\r\nimport './notice-service.scss'\r\nimport {PropType} from 'vue';\r\nimport Icon from '../icon'\r\nimport Button from '../button'\r\n\r\nexport default designComponent({\r\n    name: 'pl-notice',\r\n    props: {\r\n        option: {type: Object as PropType<NoticeServiceFormatOption>, required: true}\r\n    },\r\n    emits: {\r\n        onClose: () => true\r\n    },\r\n    setup({props, event: {emit}}) {\r\n        const classes = useClass(() => [\r\n            'pl-notice',\r\n            `pl-notice-status-${props.option.status}`\r\n        ])\r\n        const styles = {zIndex: nextIndex()}\r\n        const close = () => {\r\n            emit.onClose()\r\n            !!props.option.onClose && props.option.onClose()\r\n        }\r\n        props.option.close = close\r\n        const handler = {\r\n            onClick: (e: MouseEvent) => {\r\n                !!props.option.onClick && props.option.onClick(e)\r\n            },\r\n            onClickCloseIcon: (e: MouseEvent) => {\r\n                close()\r\n            },\r\n            onMouseenter: () => {\r\n                if (!!closeTimer) {\r\n                    clearTimeout(closeTimer)\r\n                }\r\n            },\r\n            onMouseleave: () => {\r\n                !!props.option.time && (closeTimer = setTimeout(close, props.option.time))\r\n            }\r\n        }\r\n        let closeTimer: number | null = null\r\n        !!props.option.time && (closeTimer = setTimeout(close, props.option.time))\r\n\r\n        return {\r\n            render: () => (\r\n                <div class={classes.value}\r\n                     style={styles}\r\n                     onMouseenter={handler.onMouseenter}\r\n                     onMouseleave={handler.onMouseleave}\r\n                     onClick={handler.onClick}>\r\n                    <div class=\"pl-notice-head\">\r\n                        {!!props.option.icon && <Icon class=\"pl-notice-head-icon\" icon={props.option.icon}/>}\r\n                        {(!!props.option.renderHead || !!props.option.title) && (\r\n                            <div class=\"pl-notice-title\">\r\n                                {!!props.option.renderHead ? props.option.renderHead() : props.option.title}\r\n                            </div>\r\n                        )}\r\n                        {!props.option.noClose && (\r\n                            <Button mode=\"text\" icon=\"el-icon-close\" class=\"pl-notice-close\" onClick={handler.onClickCloseIcon}/>\r\n                        )}\r\n                    </div>\r\n                    {(!!props.option.renderContent || !!props.option.message) && (\r\n                        <div class=\"pl-notice-content\">\r\n                            {!!props.option.renderContent ? props.option.renderContent() : props.option.message}\r\n                        </div>\r\n                    )}\r\n                    {!!props.option.renderFoot && (\r\n                        <div class=\"pl-notice-foot\">\r\n                            {props.option.renderFoot()}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {useClass} from \"../../use/useClasses\";\r\nimport {NoticeServiceDirection, NoticeServiceFormatOption} from \"./index\";\r\nimport {useRefList} from \"../../use/useRefList\";\r\nimport {nextTick, reactive} from 'vue';\r\nimport Notice from \"./notice\";\r\nimport List from '../list'\r\nimport Item from '../item'\r\n\r\nexport default designComponent({\r\n    name: 'pl-notice-container',\r\n    props: {\r\n        horizontal: {type: String, required: true},\r\n        vertical: {type: String, required: true},\r\n        duration: {type: String, default: \"30px\"},\r\n    },\r\n    setup({props}) {\r\n        const classes = useClass(() => [\r\n            'pl-notice-container',\r\n            `pl-notice-container-${props.horizontal}-${props.vertical}`\r\n        ])\r\n        const state = reactive({\r\n            options: [] as NoticeServiceFormatOption[]\r\n        })\r\n        const refs = useRefList<{ option: NoticeServiceFormatOption }>()\r\n        const styles = {padding: props.duration}\r\n        const utils = {\r\n            close: (i: number) => {\r\n                state.options.splice(i, 1)\r\n            }\r\n        }\r\n        return {\r\n            refer: {\r\n                props,\r\n                getNotice: async (option: NoticeServiceFormatOption) => {\r\n                    state.options.push(option)\r\n                    await nextTick()\r\n                    const messages = refs.filter(Boolean)\r\n                    for (let i = 0; i < messages.length; i++) {\r\n                        const message = messages[i];\r\n                        if (message.option === option) {\r\n                            return message\r\n                        }\r\n                    }\r\n                    return null\r\n                },\r\n            },\r\n            render: () => (\r\n                <div class={classes.value} style={styles}>\r\n                    <List direction={props.horizontal === NoticeServiceDirection.start ? 'left' : 'right'}>\r\n                        <Item key=\"placeholder\"/>\r\n                        {state.options.map((option, index) =>\r\n                            <Item key={option.id}>\r\n                                <Notice option={option}\r\n                                        ref={(proxy: any) => refs[index] = proxy}\r\n                                        onClose={() => utils.close(index)}\r\n                                />\r\n                            </Item>\r\n                        )}\r\n                    </List>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {StyleStatus} from \"../../use/useStyle\";\r\nimport {registryRootService} from \"../root/registryRootService\";\r\nimport {RequireFormat, SimpleFunction, VNodeChild} from \"../../shims\";\r\nimport ManagerComponent from './notice-manager'\r\nimport {App} from 'vue';\r\nimport {STATUS} from \"../../utils/constant\";\r\nimport {getServiceWithoutContext} from \"../../utils/getServiceWithoutContext\";\r\n\r\nexport enum NoticeServiceDirection {\r\n    start = 'start',\r\n    end = 'end',\r\n}\r\n\r\nexport interface NoticeServiceOption {\r\n    title?: string | null,                              // 标题\r\n    message?: string,                                   // 通知消息\r\n    time?: number | null,                               // 停留时间\r\n    status?: StyleStatus,                               // 状态\r\n    icon?: string,                                      // 显示图标\r\n    noClose?: boolean,                                  // 不显示关闭按钮\r\n    renderHead?: () => VNodeChild,                      // 自定义头部内容\r\n    renderContent?: () => VNodeChild,                   // 自定义内容\r\n    renderFoot?: () => VNodeChild,                      // 自定义底部内容\r\n    onClick?: SimpleFunction,                           // 点击事件处理函数\r\n    onClose?: SimpleFunction,                           // 关闭处理函数\r\n    vertical?: NoticeServiceDirection,                  // 纵向位置\r\n    horizontal?: NoticeServiceDirection,                // 横向位置\r\n}\r\n\r\nexport type NoticeServiceFormatOption = RequireFormat<NoticeServiceOption, 'time' | 'status' | 'vertical' | 'horizontal'> & {\r\n    id: string,\r\n    close: () => void,\r\n}\r\n\r\n/**\r\n * 格式化消息配置参数\r\n * @author  韦胜健\r\n * @date    2020/11/7 18:21\r\n */\r\nconst formatOption = (() => {\r\n    let idCount = 0\r\n    return (option: NoticeServiceOption): NoticeServiceFormatOption => {\r\n\r\n        const status = option.status === null ? null : (option.status || 'primary')\r\n\r\n        return Object.assign(option as NoticeServiceFormatOption, {\r\n            title: option.title === null ? null : (option.title || '消息提示'),\r\n            id: `message_${idCount++}`,\r\n            time: option.time === null ? null : (option.time || 3 * 1000),\r\n            status,\r\n            icon: option.icon || (!status ? null : STATUS[status].icon),\r\n            horizontal: option.horizontal || NoticeServiceDirection.end,\r\n            vertical: option.vertical || NoticeServiceDirection.start,\r\n            close: () => undefined,\r\n        })\r\n    }\r\n})()\r\n\r\nexport interface NoticeServiceFunction {\r\n    (message: string | NoticeServiceOption, option?: NoticeServiceOption): void\r\n}\r\n\r\nexport type NoticeService = NoticeServiceFunction & { [k in 'primary' | 'success' | 'warn' | 'error' | 'info']: NoticeServiceFunction }\r\n\r\nconst getNoticeService = registryRootService(\r\n    'notice',\r\n    ManagerComponent,\r\n    (getManager) => {\r\n        const service: NoticeServiceFunction = (message: string | NoticeServiceOption, option?: NoticeServiceOption): NoticeServiceFormatOption => {\r\n            let o = typeof message === \"object\" ? message : {message}\r\n            if (!!option) {\r\n                Object.assign(o, option)\r\n            }\r\n            const fo = formatOption(o);\r\n            getManager().then(manager => manager.getContainer(fo).then(container => container.getNotice(fo)))\r\n            return fo\r\n        };\r\n\r\n        return Object.assign(service, [\r\n            'lite',\r\n            'dark',\r\n            'primary',\r\n            'success',\r\n            'warn',\r\n            'error',\r\n            'info',\r\n        ].reduce((prev: any, status: any) => {\r\n            prev[status] = function (message: string | NoticeServiceOption, option?: NoticeServiceOption) {\r\n                const o = typeof message === \"object\" ? message : {message}\r\n                if (!!option) {\r\n                    Object.assign(o, option)\r\n                }\r\n                o.status = status\r\n                return service(o)\r\n            }\r\n            return prev\r\n        }, {})) as NoticeService\r\n    }\r\n)\r\n\r\nexport const $$notice = getServiceWithoutContext(getNoticeService)\r\n\r\nexport default {\r\n    install(app: App) {\r\n        app.mixin({\r\n            beforeCreate(): void {\r\n                Object.defineProperty(this, '$notice', {\r\n                    get() {\r\n                        return getNoticeService(this)\r\n                    },\r\n                })\r\n            }\r\n        })\r\n    },\r\n}","import {designComponent} from \"../../use/designComponent\";\r\nimport {NoticeServiceDirection} from \"./index\";\r\nimport {nextTick, reactive} from 'vue';\r\nimport {useRefList} from \"../../use/useRefList\";\r\nimport Container from \"./notice-container\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-notice-manager',\r\n    setup() {\r\n\r\n        const state = reactive({\r\n            containers: [\r\n                {\r\n                    horizontal: NoticeServiceDirection.end,\r\n                    vertical: NoticeServiceDirection.start,\r\n                }] as { horizontal: NoticeServiceDirection, vertical: NoticeServiceDirection }[]\r\n        })\r\n\r\n        const refs = useRefList<typeof Container.use.class>()\r\n\r\n        const getContainer = async (config: { horizontal: NoticeServiceDirection, vertical: NoticeServiceDirection }): Promise<typeof Container.use.class> => {\r\n            for (let i = 0; i < refs.length; i++) {\r\n                const ref = refs[i];\r\n                if (ref.props.horizontal === config.horizontal && ref.props.vertical === config.vertical) {\r\n                    return ref\r\n                }\r\n            }\r\n            state.containers.push(config);\r\n            await nextTick()\r\n            return getContainer(config)\r\n        }\r\n\r\n        return {\r\n            refer: {\r\n                name: 'I am notice controller',\r\n                getContainer,\r\n            },\r\n            render: () => (\r\n                <div class=\"pl-notice-manager\">\r\n                    {state.containers.map((container, index) =>\r\n                        <Container horizontal={container.horizontal}\r\n                                   vertical={container.vertical}\r\n                                   ref={(proxy: any) => refs[index] = proxy}/>)}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {createDefaultService} from \"../../root/createDefaultService\";\r\nimport {nextTick, reactive, ref, computed} from 'vue';\r\nimport {PopperServiceComponentOption} from \"./utils\";\r\nimport {createCounter} from \"../../../utils/createCounter\";\r\n\r\n/**\r\n * 生成id的计数器，每次show的时候获取一个新的计数器，一遍令render重新渲染\r\n * @author  韦胜健\r\n * @date    2020/11/27 9:31\r\n */\r\nconst counter = createCounter('popper-service-component')\r\n\r\n/**\r\n * 合并attrs\r\n * @author  韦胜健\r\n * @date    2020/11/27 9:31\r\n */\r\nconst mergeAttrs = (() => {\r\n    const LISTENER_MATCH_REG = /on[A-Z]/\r\n    return (config: { attrs: any, defaultAttrs: any, agent: any }) => {\r\n        const {agent} = config\r\n        let attrs = config.attrs || {}\r\n        let defaultAttrs = config.defaultAttrs || {}\r\n        if (typeof attrs === \"function\") {attrs = attrs()}\r\n        if (typeof defaultAttrs === \"function\") {defaultAttrs = defaultAttrs()}\r\n\r\n        const result = {} as any\r\n        Object.keys({...attrs, ...defaultAttrs}).forEach(key => {\r\n            if (LISTENER_MATCH_REG.test(key)) {\r\n                result[key] = (...args: any[]) => {\r\n                    !!(attrs as any)[key] && (attrs as any)[key].apply(agent, args);\r\n                    !!(defaultAttrs as any)[key] && (defaultAttrs as any)[key].apply(agent, args);\r\n                }\r\n            } else {\r\n                if (key in attrs) {\r\n                    result[key] = attrs[key]\r\n                } else {\r\n                    result[key] = defaultAttrs[key]\r\n                }\r\n            }\r\n        })\r\n        return result\r\n    }\r\n})();\r\n\r\n/**\r\n * 创建一个基于 pl-popper 的service 组件\r\n * @author  韦胜健\r\n * @date    2020/11/27 9:31\r\n */\r\nexport function createPopperServiceComponent(name: string) {\r\n    return createDefaultService({\r\n        name,\r\n        setup(option: PopperServiceComponentOption) {\r\n\r\n            /*当前是否显示/隐藏*/\r\n            const isShow = ref(false)\r\n            /*当前是否已经显示/隐藏*/\r\n            const isOpen = ref(false)\r\n\r\n            const state = reactive({\r\n                option,                                 // 当前服务的option\r\n                renderKey: counter(),                   // 用于刷新render的key\r\n            })\r\n\r\n            /**\r\n             * 开始服务\r\n             * @author  韦胜健\r\n             * @date    2020/11/27 9:32\r\n             */\r\n            async function service(option: PopperServiceComponentOption) {\r\n                if (!option.getService || option.getService !== getRefer) {\r\n                    /*clear*/\r\n                    state.option.getService = undefined\r\n                    /*init*/\r\n                    state.option = option\r\n                    state.option.getService = getRefer\r\n                    await nextTick()\r\n                }\r\n                await show()\r\n            }\r\n\r\n            /**\r\n             * 显示服务\r\n             * @author  韦胜健\r\n             * @date    2020/11/27 9:33\r\n             */\r\n            async function show() {\r\n                state.renderKey = counter()\r\n                await nextTick()\r\n                isShow.value = true\r\n            }\r\n\r\n            /**\r\n             * 隐藏服务\r\n             * @author  韦胜健\r\n             * @date    2020/11/27 9:33\r\n             */\r\n            function hide() {isShow.value = false}\r\n\r\n            /**\r\n             * service本身暴露的对象\r\n             * @author  韦胜健\r\n             * @date    2020/11/27 9:39\r\n             */\r\n            const refer = {state, isShow, isOpen, service, show, hide,}\r\n\r\n            /**\r\n             * service本身暴露对象的引用，保存在option.getService中，用于标记service与option的绑定关系\r\n             * @author  韦胜健\r\n             * @date    2020/11/27 9:39\r\n             */\r\n            const getRefer = () => refer\r\n\r\n            /**\r\n             * 合并后的popper属性\r\n             * @author  韦胜健\r\n             * @date    2020/11/27 9:40\r\n             */\r\n            const popperAttrs = computed(() => {\r\n                let {defaultOption: {defaultPopperAttrs}, serviceOption: {popperAttrs}} = state.option\r\n                return mergeAttrs({agent: refer, attrs: popperAttrs, defaultAttrs: defaultPopperAttrs,})\r\n            })\r\n\r\n            /**\r\n             * 合并之后的render属性\r\n             * @author  韦胜健\r\n             * @date    2020/11/27 9:40\r\n             */\r\n            const renderAttrs = computed(() => {\r\n                let {defaultOption: {defaultRenderAttrs}, serviceOption: {renderAttrs}} = state.option\r\n                return {\r\n                    ...mergeAttrs({agent: refer, attrs: renderAttrs, defaultAttrs: defaultRenderAttrs,}),\r\n                    key: state.renderKey,\r\n                }\r\n            })\r\n\r\n            const handler = {\r\n                onClickBody: () => {\r\n                    if (state.option.serviceOption.hideOnClickBody !== false) {\r\n                        refer.hide()\r\n                    }\r\n                },\r\n            }\r\n\r\n            return {\r\n                refer,\r\n                render: () => (\r\n                    <pl-popper\r\n                        v-model={isShow.value}\r\n                        onClickBody={handler.onClickBody}\r\n                        popperAttrs={{['service-name']: name}}\r\n                        {...{\r\n                            transition: 'pl-transition-scale',\r\n                            noContentPadding: true,\r\n                            trigger: 'manual',\r\n                            reference: state.option.serviceOption.reference,\r\n                            'onUpdate:open': (val: boolean) => isOpen.value = val,\r\n                            ...popperAttrs.value,\r\n                        }}\r\n                        v-slots={{\r\n                            popper: () => state.option.defaultOption.render(renderAttrs.value),\r\n                        }}\r\n                    />\r\n                )\r\n            }\r\n        },\r\n    })\r\n}","import {ComponentPublicInstance, computed, reactive} from 'vue';\r\nimport {registryRootService, RootServiceScope} from \"../../root/registryRootService\";\r\nimport {createDefaultManager} from \"../../root/createDefaultManager\";\r\nimport {createPopperServiceComponent} from \"./createPopperServiceComponent\";\r\nimport {CreateAgentGetterOption, PopperAgent, PopperServiceComponentOption, SpecificPopperServiceOption} from './utils';\r\n\r\n/**\r\n * 创建一个获取popper agent的函数\r\n * @author  韦胜健\r\n * @date    2020/11/26 21:15\r\n */\r\nexport function createAgentGetter(defaultOption: CreateAgentGetterOption, scope = RootServiceScope.root) {\r\n\r\n    /**\r\n     * 创建一个生成service的函数\r\n     * @author  韦胜健\r\n     * @date    2020/11/27 9:30\r\n     */\r\n    function create(ins: ComponentPublicInstance) {\r\n        const name = defaultOption.name\r\n        /*---------------------------------------Specific Popper Service-------------------------------------------*/\r\n        const popperServiceGetter = registryRootService(\r\n            name,\r\n            createDefaultManager(\r\n                `pl-popper-service-${name}-manager`,\r\n                createPopperServiceComponent(`pl-popper-service-${name}`)\r\n            ),\r\n            (getManager) => {\r\n                return (serviceOption: SpecificPopperServiceOption): PopperAgent => {\r\n\r\n                    const option: PopperServiceComponentOption = {\r\n                        defaultOption,\r\n                        serviceOption,\r\n                        getService: undefined,\r\n                    }\r\n\r\n                    /*---------------------------------------create popper agent-------------------------------------------*/\r\n                    const state = reactive({option})\r\n                    const service = computed(() => !state.option.getService ? null : state.option.getService())\r\n                    const isShow = computed(() => !!service.value && service.value.isShow.value)\r\n                    const isOpen = computed(() => !!service.value && service.value.isShow.value)\r\n                    const agent = reactive({\r\n                        state,\r\n                        isShow,\r\n                        isOpen,\r\n                        service,\r\n                        show: () => {!!agent.service ? agent.service.show() : getManager().then(manager => manager.service(option))},\r\n                        hide: () => {!!agent.service && agent.service.hide()},\r\n                        toggle: () => isShow.value ? agent.hide() : agent.show(),\r\n                        destroy: () => {\r\n                            agent.hide()\r\n                            state.option.getService = undefined\r\n                        }\r\n                    })\r\n                    return agent\r\n                }\r\n            },\r\n        )\r\n\r\n        return popperServiceGetter(ins)\r\n    }\r\n\r\n    /*缓存 service，scope为缓存的作用域*/\r\n    const cacheMap = new WeakMap<ComponentPublicInstance, ReturnType<typeof create>>()\r\n\r\n    return (ins: ComponentPublicInstance) => {\r\n        const cacheKey = scope === RootServiceScope.ins ? ins : ins.$root!\r\n        let service = cacheMap.get(cacheKey)\r\n        if (!!service) {\r\n            return service\r\n        }\r\n        service = create(ins)\r\n        cacheMap.set(cacheKey, service)\r\n        return service\r\n    }\r\n}","import {ComponentPlugin} from \"../shims\";\r\nimport {App} from 'vue';\r\n\r\nconst installMap = new WeakMap<App, ComponentPlugin[]>()\r\n\r\nexport function installPlugin(app: App, plugins: ComponentPlugin | ComponentPlugin[]) {\r\n    /*已经安装过的插件*/\r\n    let installedPlugins = installMap.get(app)\r\n    if (!installedPlugins) {\r\n        /*这个app第一次注册*/\r\n        installedPlugins = []\r\n        installMap.set(app, installedPlugins)\r\n    }\r\n    (Array.isArray(plugins) ? plugins : [plugins]).forEach(plugin => {\r\n        if (installedPlugins!.indexOf(plugin) === -1) {\r\n            installedPlugins!.push(plugin)// 这句代码一定要在app.use面前\r\n            app.use(plugin)\r\n        }\r\n    });\r\n}","import {designComponent} from \"../../use/designComponent\";\r\nimport {markRaw, ref, watch, computed} from 'vue';\r\nimport './icon.scss'\r\nimport {VNodeChild} from \"../../shims\";\r\nimport {refreshPopperReference} from \"../popper/refershPopperReference\";\r\n\r\ninterface IconGetter {\r\n    (icon: string): VNodeChild | Promise<VNodeChild>\r\n}\r\n\r\n/**\r\n * prefix必须为全小写，可以有横杠下划线\r\n * @author  韦胜健\r\n * @date    2020/11/1 12:59\r\n */\r\nconst registry = (() => {\r\n    const icons: { prefix: string, getter: IconGetter }[] = []\r\n    return Object.assign((prefix: string, getter: IconGetter) => {\r\n        icons.unshift({prefix, getter})\r\n    }, {\r\n        icons,\r\n    })\r\n})()\r\n\r\nregistry('el-icon-', async (icon) => {\r\n    try {\r\n        const module = await import('./icons/' + icon + '.json')\r\n        // console.log(module)\r\n        return (\r\n            <svg\r\n                class={`el-svg-icon ${icon}`}\r\n                viewBox=\"0 0 1024 1024\"\r\n                version=\"1.1\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                innerHTML={module.default[0]}\r\n            />\r\n        )\r\n    } catch (e) {\r\n        console.error(e)\r\n        throw e\r\n    }\r\n})\r\n\r\nexport default designComponent({\r\n    name: 'pl-icon',\r\n    props: {\r\n        icon: {type: String},                       // 图标名称\r\n        status: {type: String},                     // 图标状态\r\n    },\r\n    setup({props}) {\r\n\r\n        const {freshPopperReference} = refreshPopperReference.inject()\r\n\r\n        const icon = ref(null as any)\r\n\r\n        const classes = computed(() => [\r\n            'pl-icon',\r\n            {\r\n                [`pl-icon-status-${props.status}`]: !!props.status\r\n            }\r\n        ])\r\n\r\n        const utils = {\r\n            getIconVNode: async (iconName: string) => {\r\n                for (let i = 0; i < registry.icons.length; i++) {\r\n                    const registryIcon = registry.icons[i];\r\n                    if (iconName.indexOf(registryIcon.prefix) === 0) {\r\n                        return await registryIcon.getter(iconName)\r\n                    }\r\n                }\r\n                return null\r\n            },\r\n            reset: async (iconName: string) => {\r\n                const Icon = await utils.getIconVNode(iconName)\r\n                icon.value = !!Icon ? markRaw(Icon) : null\r\n                freshPopperReference()\r\n            }\r\n        }\r\n\r\n        watch(() => props.icon, val => !!val && utils.reset(val), {immediate: true})\r\n\r\n        return {\r\n            render: () => {\r\n                const {value: Icon} = icon\r\n                return !!Icon ? <Icon class={classes.value}/> : <i class=\"pl-icon\"/>\r\n            }\r\n        }\r\n    },\r\n}, {registry})","import Icon from './icon'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(Icon)","import {designComponent} from \"../../use/designComponent\";\r\nimport {EditProps, useEdit} from \"../../use/useEdit\";\r\nimport {StyleMode, StyleProps, StyleStatus, useStyle} from \"../../use/useStyle\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {computed, provide, inject} from 'vue';\r\nimport './button-group.scss'\r\nimport {DEFAULT_STATUS} from \"../../utils/constant\";\r\n\r\ninterface ButtonModeProviderValue {\r\n    value: { mode: string }\r\n}\r\n\r\nexport const BUTTON_GROUP_PROVIDER = '@@BUTTON_GROUP_PROVIDER'\r\n\r\nexport const ButtonModeProvider = (() => {\r\n    return {\r\n        provide: (data: ButtonModeProviderValue) => {\r\n            provide(BUTTON_GROUP_PROVIDER, data)\r\n        },\r\n        inject: () => {\r\n            return inject(BUTTON_GROUP_PROVIDER, null) as ButtonModeProviderValue | null\r\n        }\r\n    }\r\n})()\r\n\r\nexport default designComponent({\r\n    name: 'pl-button-group',\r\n    props: {\r\n        mode: {type: String, default: StyleMode.fill},                  // fill,stroke,text\r\n        vertical: {type: Boolean},                                      // 是否为纵向按钮组\r\n\r\n        ...EditProps,\r\n        ...StyleProps,\r\n    },\r\n    setup({props}) {\r\n        const {slots} = useSlots()\r\n        const {styleComputed} = useStyle({status: DEFAULT_STATUS})\r\n        const {editComputed} = useEdit()\r\n\r\n        const parentGroup = ButtonModeProvider.inject()\r\n        const otherComputed = computed(() => ({mode: !!parentGroup ? parentGroup.value.mode : props.mode}))\r\n        ButtonModeProvider.provide(otherComputed)\r\n\r\n        const classes = computed(() => ([\r\n            `pl-button-group`,\r\n            `pl-button-group-status-${styleComputed.value.status}`,\r\n            `pl-button-group-mode-${otherComputed.value.mode}`,\r\n            `pl-button-group-shape-${styleComputed.value.shape}`,\r\n            `pl-button-group-size-${styleComputed.value.size}`,\r\n            `pl-button-group-direction-${props.vertical ? 'vertical' : 'horizontal'}`,\r\n            {\r\n                'pl-button-group-disabled': !!editComputed.value.disabled,\r\n            },\r\n        ]))\r\n\r\n        return {\r\n            render: () => (\r\n                <div class={classes.value}>\r\n                    {slots.default()}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {ComponentPublicInstance, createApp} from 'vue';\r\nimport Root from '../packages/root'\r\nimport {installPlugin} from \"./installPlugin\";\r\n\r\nconst getIns = (() => {\r\n    let ins: ComponentPublicInstance | undefined;\r\n    return () => {\r\n        if (!ins) {\r\n            const container = document.createElement('div')\r\n            document.body.appendChild(container)\r\n            const app = createApp({render() {return <pl-root/>}})\r\n            installPlugin(app, Root)\r\n            ins = app.mount(container)\r\n        }\r\n        return ins\r\n    }\r\n})();\r\n\r\nexport function getServiceWithoutContext<Service>(serviceGetter: (ins: ComponentPublicInstance) => Service) {\r\n    return serviceGetter(getIns())\r\n}","import {reactive, watch} from 'vue'\r\n\r\nfunction toNumber(val: null | string | number) {\r\n    if (val == null) {\r\n        return\r\n    }\r\n    if (typeof val === \"string\") {\r\n        return Number(val.replace('px', ''))\r\n    }\r\n    return val\r\n}\r\n\r\nexport function useNumber<Props extends { [k: string]: any },\r\n    K extends string,\r\n    >(\r\n    props: Props,\r\n    keys: K[]\r\n): { numberState: { [k in K]: Exclude<Props[k], string> } } {\r\n\r\n    const state = reactive((() => {\r\n        const ret = {} as Record<string, number | undefined>\r\n        keys.forEach(key => {\r\n            ret[key] = toNumber(props[key])\r\n        })\r\n        return ret\r\n    })())\r\n\r\n    keys.forEach(key => {\r\n        watch(() => props[key], val => state[key] = toNumber(val))\r\n    })\r\n\r\n    return {\r\n        numberState: state as any,\r\n    }\r\n}\r\n\r\n/*const {numberState} = useNumber({\r\n    noField: 11,\r\n    level: 1,\r\n    age: 2 as number | undefined,\r\n    limit: '2' as string | number | undefined,\r\n}, [\r\n    'level',\r\n    'age',\r\n    'limit',\r\n])\r\n\r\nnumberState.level.toFixed(0)\r\nnumberState.age.toFixed(0)\r\nnumberState.limit.toFixed(0)*/\r\n\r\n\r\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAWElEQVRIiWM8fubkfwYygKWJOSM5+mCAhRLNoxaPWjxq8ajFoxbTyeL/DAfJ0Xjs3Cl7Siwmu4Yht1aDgZEYx6MWj1o8avGoxaMWD3qLya5X//4nqx6HAQC7RBGFzolqTAAAAABJRU5ErkJggg==\"","import {getCurrentInstance} from 'vue';\r\n\r\nexport function useRefs<T extends { [k: string]: any }>(config: T): {\r\n    refs: {\r\n        [k in keyof T]: T[k] extends { use: { ref: (refName: string) => { value: infer Refer } } } ? Refer :\r\n            T[k] extends new (...args: any[]) => infer Refer ? Refer : T\r\n    }\r\n} {\r\n    const ctx = getCurrentInstance() as any\r\n    return {\r\n        refs: Object.keys(config).reduce((prev, refName) => {\r\n            Object.defineProperty(prev, refName, {\r\n                get(): any {\r\n                    return ctx.refs[refName]\r\n                }\r\n            })\r\n            return prev\r\n        }, {} as any)\r\n    }\r\n}\r\n","import './list.scss'\r\nimport {designComponent} from \"../../use/designComponent\";\r\nimport {TransitionGroup} from 'vue'\r\nimport {useSlots} from \"../../use/useSlots\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-list',\r\n    props: {\r\n        direction: {                            //item入场出场动画 'left', 'right', 'top', 'bottom', 'left-top', 'top-left', 'right-top', 'top-right', 'left-bottom', 'bottom-left', 'right-bottom', 'bottom-right'\r\n            type: String,\r\n            default: 'bottom-right',\r\n        },\r\n        tag: {type: String, default: 'div'},\r\n        disabled: {type: Boolean},\r\n    },\r\n    setup({props}) {\r\n        const {slots} = useSlots()\r\n        return {\r\n            render: () => {\r\n                const Component = (props.disabled ? props.tag : TransitionGroup) as any\r\n                return (\r\n                    <Component {...{\r\n                        class: \"pl-list\",\r\n                        name: `pl-list-move-${props.direction}`,\r\n                        tag: props.tag,\r\n                    }}>\r\n                        {slots.default()}\r\n                    </Component>\r\n                )\r\n            }\r\n        }\r\n    }\r\n})","import list from './list'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(list)","<template>\r\n    <pl-root>\r\n        <app-navigator defaultPath=\"normal/button\">\r\n            <article :class=\"classes\" :style=\"{paddingLeft:`${config.menuSize}px`,paddingTop:`${config.headSize}px`}\">\r\n                <section class=\"app-head\" :style=\"{height:config.headSize+'px'}\">\r\n                    <span>{{title}}</span>\r\n                    <pl-toggle v-model=\"fixHeight\" v-tooltip=\"{content:'固定应用高度',placement:'bottom'}\"/>\r\n                </section>\r\n                <app-menu :style=\"{width:`${config.menuSize}px`,top:`${config.headSize}px`}\"/>\r\n                <section class=\"app-content\" :style=\"{minHeight:`calc(100vh - ${config.headSize}px)`}\">\r\n                    <AppNavigatorPage/>\r\n                </section>\r\n            </article>\r\n        </app-navigator>\r\n    </pl-root>\r\n</template>\r\n\r\n<script>\r\n    import {defineComponent} from 'vue';\r\n    import AppMenu from './app/app-menu'\r\n    import {AppNavigator} from './app/app-navigator'\r\n    import {AppNavigatorPage} from \"./app/app-navigator-page\";\r\n\r\n    const config = {\r\n        menuSize: 240,\r\n        headSize: 60,\r\n    }\r\n\r\n    export default defineComponent({\r\n        name: 'App',\r\n        components: {\r\n            AppMenu,\r\n            AppNavigator,\r\n            AppNavigatorPage,\r\n        },\r\n        watch: {\r\n            fixHeight(val) {\r\n                localStorage.setItem('fixHeight', JSON.stringify(val))\r\n            },\r\n        },\r\n        data() {\r\n            return {\r\n                config,\r\n                title: 'plain-ui',\r\n                fixHeight: JSON.parse(localStorage.getItem('fixHeight') || 'false')\r\n            }\r\n        },\r\n        computed: {\r\n            classes() {\r\n                return [\r\n                    'app',\r\n                    {'app-fix-height': this.fixHeight},\r\n                ]\r\n            },\r\n        },\r\n    });\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n    .app {\r\n\r\n        &.app-fix-height {\r\n            height: 100vh;\r\n            overflow: auto;\r\n            box-sizing: border-box;\r\n        }\r\n\r\n        .app-head {\r\n            z-index: 10;\r\n            position: fixed;\r\n            top: 0;\r\n            left: 0;\r\n            right: 0;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: space-between;\r\n            padding: 0 80px 0 40px;\r\n            box-shadow: $boxshadow;\r\n            box-sizing: border-box;\r\n        }\r\n\r\n        .app-menu {\r\n            position: fixed;\r\n            left: 0;\r\n            bottom: 0;\r\n            box-shadow: $boxshadow;\r\n            padding: 20px 0;\r\n            box-sizing: border-box;\r\n            overflow-y: auto;\r\n            overflow-x: hidden;\r\n        }\r\n\r\n        .app-content {\r\n            box-sizing: border-box;\r\n            padding: 20px;\r\n            background-color: #f7f8fa;\r\n        }\r\n    }\r\n\r\n    @include theme {\r\n        .app .app-head {\r\n            background-color: white;\r\n            color: $colorPrimary;\r\n            font-size: 24px;\r\n            font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;\r\n            font-style: italic;\r\n            font-weight: bold;\r\n        }\r\n    }\r\n</style>\r\n","<template>\r\n    <section class=\"app-menu\">\r\n        <pl-scroll>\r\n            <div class=\"app-menu-list\">\r\n                <ul>\r\n                    <li v-for=\"menuGroup in menus\" :key=\"menuGroup.name\">\r\n                        <div class=\"app-menu-group-name\">\r\n                            <span>{{menuGroup.name}}</span>\r\n                        </div>\r\n                        <ul>\r\n                            <li v-for=\"menu in menuGroup.children\" :key=\"menu.title\" @click=\"handleClickMenu(menu)\" :class=\"{'app-menu-active':currentPath === menu.page}\">\r\n                                <div class=\"app-menu-name\">\r\n                                    <span>{{menu.name}}</span>\r\n                                    <span>{{menu.title}}</span>\r\n                                    <div class=\"app-menu-is-done\" v-if=\"!!menu.complete\">\r\n                                        <pl-icon icon=\"el-icon-star-on\" status=\"warn\"/>\r\n                                    </div>\r\n                                </div>\r\n                            </li>\r\n                        </ul>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </pl-scroll>\r\n    </section>\r\n</template>\r\n\r\n<script>\r\n    import {MENUS} from \"../menu\";\r\n    import {AppNavigator} from \"./app-navigator\";\r\n\r\n    export default {\r\n        name: \"app-menu\",\r\n        props: {\r\n            currentPath: {type: String},\r\n        },\r\n        setup() {\r\n\r\n            const navigator = AppNavigator.use.inject()\r\n\r\n            return {\r\n                menus: MENUS,\r\n                handleClickMenu(menu) {\r\n                    navigator.nav.go(menu.page)\r\n                },\r\n            }\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    @include theme {\r\n        .app-menu {\r\n            position: fixed;\r\n            left: 0;\r\n            bottom: 16px;\r\n\r\n            ul {\r\n                list-style: none;\r\n                margin: 0;\r\n                padding: 0;\r\n\r\n                .app-menu-name {\r\n\r\n                    display: block;\r\n                    margin: 8px 0;\r\n                    padding: 8px 0 8px 24px;\r\n                    color: #455a64;\r\n                    font-size: 14px;\r\n                    line-height: 20px;\r\n                    transition: color 0.2s;\r\n                    cursor: pointer;\r\n                    position: relative;\r\n\r\n                    &:hover {\r\n                        background-color: rgba($colorPrimary, 0.1);\r\n                        color: $colorPrimary;\r\n                    }\r\n\r\n                    .app-menu-is-done {\r\n                        position: absolute;\r\n                        top: 0;\r\n                        bottom: 0;\r\n                        right: 0;\r\n                        display: flex;\r\n                        align-items: center;\r\n                    }\r\n                }\r\n\r\n                .app-menu-name {\r\n                    position: relative;\r\n\r\n                    & > span {\r\n                        &:nth-child(2) {\r\n                            font-size: 12px;\r\n                            margin-left: 0.5em;\r\n                            color: #ccc;\r\n                        }\r\n                    }\r\n\r\n                    .pl-icon {\r\n                        position: absolute;\r\n                        right: 16px;\r\n                        line-height: 40px;\r\n                    }\r\n                }\r\n\r\n                .app-menu-group-name {\r\n                    padding: 8px 0 8px 24px;\r\n                    color: #455a64;\r\n                    font-weight: 600;\r\n                    font-size: 15px;\r\n                    line-height: 28px;\r\n                }\r\n            }\r\n\r\n            &:after {\r\n                position: absolute;\r\n                top: 0;\r\n                bottom: 0;\r\n                right: -30px;\r\n                width: 30px;\r\n                content: '';\r\n                box-shadow: inset 10px 0 8px -8px #f0f1f2;\r\n            }\r\n        }\r\n    }\r\n</style>","export interface Menu {\r\n    name: string,\r\n    title?: string,\r\n    page: string,\r\n    complete?: boolean,\r\n}\r\n\r\ninterface MenuGroup {\r\n    name: string,\r\n    children: Menu[],\r\n}\r\n\r\nexport const MENUS: MenuGroup[] = [\r\n    {\r\n        name: '组合函数', children: [\r\n            {name: 'useSlots', page: '/use/useSlots/demo-use-slots', complete: true},\r\n            {name: 'useScopedSlots', page: '/use/useScopedSlots/demo-use-scoped-slots', complete: true},\r\n            {name: 'useModel', page: '/use/useModel/demo-use-model', complete: true},\r\n            {name: 'useStyle', page: '/use/useStyle/demo-use-style', complete: true},\r\n            {name: 'useRefs', page: '/use/useRefs/demo-use-refs', complete: true},\r\n            {name: 'useEvent', page: '/use/useEvent/demo-use-event', complete: true},\r\n            {name: 'useProps', page: '/use/useProps/demo-use-props', complete: true},\r\n            {name: 'useCollect', page: '/use/useCollect/demo-use-collect', complete: true},\r\n        ]\r\n    },\r\n    {\r\n        name: '基础', children: [\r\n            {name: 'Color', title: '颜色', page: '/normal/color', complete: true},\r\n            {name: 'Icon', title: '图标', page: '/normal/icon', complete: true},\r\n            {name: 'Button', title: '按钮', page: '/normal/button', complete: true},\r\n            {name: 'Grid', title: '栅格', page: '/normal/grid', complete: true},\r\n        ]\r\n    },\r\n    {\r\n        name: '表单元素', children: [\r\n            {name: 'Input', title: '输入框', page: '/normal/input', complete: true},\r\n            {name: 'Radio', title: '单选框', page: '/normal/radio', complete: true},\r\n            {name: 'Checkbox', title: '复选框', page: '/normal/checkbox', complete: true},\r\n            {name: 'Number', title: '数字输入', page: '/normal/number', complete: true},\r\n            {name: 'Loading', title: '加载', page: '/normal/loading', complete: true},\r\n            {name: 'Select', title: '下拉选择', page: '/normal/select', complete: true},\r\n            {name: 'Toggle', title: '开关切换', page: '/normal/toggle', complete: true},\r\n            {name: 'Slider', title: '滑块', page: '/normal/slider', complete: true},\r\n            {name: 'Tag', title: '标签', page: '/normal/tag', complete: true},\r\n            {name: 'Rate', title: '评分', page: '/normal/rate', complete: true},\r\n            {name: 'ColorPicker', title: '颜色选择', page: '/normal/color-picker', complete: true},\r\n\r\n            {name: 'Cascade', title: '级联选择', page: '/normal/cascade', complete: true},\r\n            {name: 'Time', title: '时间选择', page: '/normal/time', complete: true},\r\n            {name: 'Date', title: '日期选择', page: '/normal/date', complete: true},\r\n            {name: 'Upload', title: '文件上传', page: '/normal/upload', complete: false},\r\n            {name: 'Img', title: '图片上传', page: '/normal/img', complete: false},\r\n        ]\r\n    },\r\n    {\r\n        name: '表单示例', children: [\r\n            {name: 'Form', title: '表单基础', page: '/form/form-basic', complete: true},\r\n            {name: 'Form', title: '表单多列', page: '/form/form-grid', complete: true},\r\n            {name: 'Form', title: '表单尺寸', page: '/form/form-size', complete: true},\r\n            {name: 'Form', title: '表单控制', page: '/form/form-edit-control', complete: true},\r\n            {name: 'Form', title: '校验blur', page: '/form/form-blur', complete: true},\r\n            {name: 'Form', title: '表单组件', page: '/form/form-elements', complete: true},\r\n            {name: 'Form', title: '表单校验', page: '/form/form-validate', complete: true},\r\n            {name: 'Form', title: '关联字段', page: '/form/form-associate-fields', complete: true},\r\n            {name: 'Form', title: '校验模式', page: '/form/form-validate-mode', complete: true},\r\n            {name: 'Form', title: '动态表单项', page: '/form/form-dynamic-items', complete: true},\r\n        ]\r\n    },\r\n    {\r\n        name: '视图', children: [\r\n            {name: 'List', title: '列表', page: '/normal/list', complete: true},\r\n            {name: 'VirtualList', title: '虚拟列表', page: '/normal/virtual-list', complete: true},\r\n            {name: 'Progress', title: '进度条', page: '/normal/progress', complete: true},\r\n            {name: 'Tree', title: '树形组件', page: '/normal/tree', complete: true},\r\n            // {name: 'Virtual Tree', title: '虚拟树', page: '/normal/virtual-tree', complete: false},\r\n            {name: 'Pagination', title: '分页', page: '/normal/pagination', complete: true},\r\n            {name: 'Badge', title: '标记', page: '/normal/badge', complete: true},\r\n            {name: 'Step', title: '步骤条', page: '/normal/step', complete: true},\r\n            {name: 'Tab', title: '页签', page: '/normal/tab', complete: false},\r\n        ]\r\n    },\r\n    {\r\n        name: '导航', children: [\r\n            {name: 'NavTab', title: '页签导航', page: '/nav/nav-tab', complete: false},\r\n            {name: 'NavPages', title: '页面导航', page: '/nav/nav-page', complete: false},\r\n            {name: 'Nav', title: '应用导航', page: '/nav/nav', complete: false},\r\n        ]\r\n    },\r\n    {\r\n        name: '其他', children: [\r\n            {name: 'Scroll', title: '滚动条', page: '/normal/scroll', complete: true},\r\n            {name: 'Dialog', title: '对话框', page: '/normal/dialog', complete: true},\r\n            {name: 'Tooltip', title: '文字提示', page: '/normal/tooltip', complete: true},\r\n            {name: 'Dropdown', title: '下拉菜单', page: '/normal/dropdown', complete: true},\r\n            // {name: 'Popover', title: '弹出框', page: '/normal/popover', complete: false},\r\n            {name: 'Popper', title: '悬浮框', page: '/normal/popper', complete: true},\r\n            {name: 'Card', title: '卡片', page: '/normal/card', complete: true},\r\n            {name: 'Carousel', title: '轮播', page: '/normal/carousel', complete: true},\r\n            {name: 'Collapse', title: '折叠面板', page: '/normal/collapse', complete: true},\r\n            {name: 'Alert', title: '提示信息', page: '/normal/alert', complete: true},\r\n            // {name: 'Triangle', title: '三角形元素', page: '/normal/triangle', complete: false},\r\n            // {name: 'FilletCorner', title: '圆角', page: '/normal/fillet-corner', complete: false},\r\n            {name: 'TabHeader', title: '页签头组件', page: '/normal/tab-header', complete: false},\r\n        ]\r\n    },\r\n    {\r\n        name: '服务', children: [\r\n            {name: '$message', title: '消息服务', page: '/service/message-service', complete: true},\r\n            {name: '$popper', title: '浮层服务', page: '/service/popper-service', complete: true},\r\n            // {name: '$select', title: '选择服务', page: '/service/select-service', complete: false},\r\n            {name: '$dialog', title: '对话框服务', page: '/service/dialog-service', complete: true},\r\n            {name: '$notice', title: '通知', page: '/service/notice-service', complete: true},\r\n            {name: '$file', title: '文件服务', page: '/service/file', complete: false},\r\n        ]\r\n    },\r\n    {\r\n        name: '表格', children: [\r\n            {name: 'Virtual', title: 'pl-virtual-table', page: '/table/virtual-table', complete: true},\r\n            {name: 'Basic', title: '基础表格', page: '/table/table-basic', complete: true},\r\n            {name: 'Test', title: '基础测试', page: '/table/table-base-test', complete: true},\r\n            {name: 'Config', title: '自定义配置', page: '/table/table-config', complete: true},\r\n            {name: 'Fixed', title: '固定列', page: '/table/table-fixed', complete: true},\r\n            {name: 'ScopedSlot', title: '列作用域插槽', page: '/table/table-plc-scoped-slot', complete: true},\r\n\r\n            {name: 'Edit Control', title: '编辑控制', page: '/table/table-plc-editable', complete: true},\r\n            {name: 'Plc', title: '列组件', page: '/table/table-columns', complete: true},\r\n            {name: 'Expand', title: '展开列', page: '/table/table-expand', complete: true},\r\n            {name: 'Span', title: '合并单元格', page: '/table/span/table-span', complete: true},\r\n            {name: 'Tree', title: '树形表格', page: '/table/tree/table-tree', complete: true},\r\n            {name: 'Row Draggable', title: '行拖拽排序', page: '/table/table-row-draggable', complete: true},\r\n            {name: 'Col Draggable', title: '列拖拽排序', page: '/table/table-col-draggable', complete: true},\r\n            {name: 'Table class-style', title: '行列样式', page: '/table/table-class-style', complete: true},\r\n        ]\r\n    },\r\n    /*{\r\n        name: 'Sticky Table',\r\n        children: [\r\n            {name: 'Sticky Table', title: '另一种形式的表格', page: '/sticky-table/demo-sticky-table', complete: false},\r\n            {name: 'Sticky', title: '粘粘组件', page: '/sticky-table/demo-sticky', complete: false},\r\n        ]\r\n    },\r\n    {\r\n        name: '测试', children: [\r\n            {name: 'Test', title: '测试手动渲染实例', page: '/test/test', complete: false},\r\n            {name: 'Drag', title: '测试拖拽节点', page: '/test/test-drag', complete: false},\r\n            {name: 'Svg', title: '测试svg', page: '/test/test-svg', complete: false},\r\n            {name: 'Canvas', title: '测试canvas', page: '/test/test-canvas', complete: false},\r\n            {name: 'High', title: '测试高阶组件', page: '/test/test-high', complete: false},\r\n            {name: 'Listener', title: '测试事件', page: '/test/test-listener', complete: false},\r\n            {name: 'Filter', title: '异步过滤器', page: '/test/test-filter', complete: false},\r\n            {name: 'List Draggier', title: '列表拖拽排序', page: '/test/test-list-draggier', complete: false},\r\n            {name: '传递属性给根节点组件热更新报错', title: '列表拖拽排序', page: '/test/test-pass-attrs-hot-reload/test-pass-attrs-hot-reload', complete: true},\r\n        ]\r\n    },*/\r\n\r\n]","import {reactive, onMounted, getCurrentInstance} from 'vue';\r\nimport {designComponent} from \"../../src/use/designComponent\";\r\n\r\nexport type AppRoute = {\r\n    path: string,\r\n    hash: string,\r\n}\r\n\r\nexport function getRoute(): AppRoute {\r\n    let uri = decodeURIComponent(window.location.hash || '')\r\n    if (uri.charAt(0) === '#' && uri.length > 0) {\r\n        uri = uri.substring(1)\r\n    }\r\n    let [path, hash] = uri.split('#')\r\n    if (!!path && path.charAt(0) === '/') {\r\n        path = path.slice(1)\r\n    }\r\n    return {\r\n        path,\r\n        hash,\r\n    }\r\n}\r\n\r\nexport const AppNavigator = designComponent({\r\n    name: 'app-navigator',\r\n    provideRefer: true,\r\n    props: {\r\n        defaultPath: {type: String,},\r\n    },\r\n    setup({props, setupContext}) {\r\n\r\n        const pathChangeListener = [] as ((route: AppRoute) => void)[]\r\n        const hashChangeListener = [] as ((route: AppRoute) => void)[]\r\n        const pageReadyListener = [] as ((route: AppRoute) => void)[]\r\n\r\n        const ctx = getCurrentInstance()!\r\n\r\n        const nav = reactive({\r\n            route: getRoute(),\r\n            go: (path: string, hash?: string) => {\r\n                window.location.hash = encodeURIComponent(`${path}${!!hash ? '#' + hash : ''}`)\r\n            },\r\n            on: {\r\n                /**\r\n                 * 监听path变化动作\r\n                 * @author  韦胜健\r\n                 * @date    2020/9/17 11:25\r\n                 */\r\n                pathChange: (listener: (route: AppRoute) => void) => {\r\n                    pathChangeListener.push(listener)\r\n                    return () => {\r\n                        pathChangeListener.splice(pathChangeListener.indexOf(listener), 1)\r\n                    }\r\n                },\r\n                /**\r\n                 * 监听hash变化动作\r\n                 * @author  韦胜健\r\n                 * @date    2020/9/17 11:25\r\n                 */\r\n                hashChange: (listener: (route: AppRoute) => void) => {\r\n                    hashChangeListener.push(listener)\r\n                    return () => {\r\n                        hashChangeListener.splice(hashChangeListener.indexOf(listener), 1)\r\n                    }\r\n                },\r\n                /**\r\n                 * 页面加载完毕动作\r\n                 * @author  韦胜健\r\n                 * @date    2020/10/10 10:18\r\n                 */\r\n                pageReady: (listener: (route: AppRoute) => void) => {\r\n                    pageReadyListener.push(listener)\r\n                    return () => {\r\n                        pageReadyListener.splice(pageReadyListener.indexOf(listener), 1)\r\n                    }\r\n                },\r\n            },\r\n            emit: {\r\n                hashChange: () => {\r\n                    hashChangeListener.forEach(item => item(getRoute()))\r\n                },\r\n                pathChange: () => {\r\n                    pathChangeListener.forEach(item => item(getRoute()))\r\n                },\r\n                pageReady: () => {\r\n                    pageReadyListener.forEach(item => item(getRoute()))\r\n                }\r\n            }\r\n        })\r\n\r\n        onMounted(() => {\r\n            if (!nav.route.path) {\r\n                if (!!props.defaultPath) {\r\n                    nav.route = {\r\n                        path: props.defaultPath,\r\n                        hash: '',\r\n                    }\r\n                    pathChangeListener.forEach(item => item(nav.route))\r\n                }\r\n            }\r\n            window.addEventListener('hashchange', () => {\r\n                const route = getRoute()\r\n                const {path, hash} = route\r\n                if (path !== nav.route.path) {\r\n                    nav.emit.pathChange()\r\n                } else if (hash !== nav.route.hash) {\r\n                    nav.emit.hashChange()\r\n                }\r\n                nav.route = route\r\n            })\r\n        })\r\n\r\n        return {\r\n            refer: {\r\n                nav,\r\n            },\r\n            render() {\r\n                return (\r\n                    !!ctx.slots.default ? ctx.slots.default() : null\r\n                )\r\n            },\r\n        }\r\n    },\r\n})","import { render } from \"./app-menu.vue?vue&type=template&id=11343ef6\"\nimport script from \"./app-menu.vue?vue&type=script&lang=js\"\nexport * from \"./app-menu.vue?vue&type=script&lang=js\"\n\nimport \"./app-menu.vue?vue&type=style&index=0&id=11343ef6&lang=scss\"\nscript.render = render\n\nexport default script","import {designComponent} from \"../../src/use/designComponent\";\r\nimport {reactive} from 'vue';\r\nimport {useSlots} from \"../../src/use/useSlots\";\r\nimport './demo-row.scss'\r\nimport {AppNavigator} from \"../app/app-navigator\";\r\nimport {DemoRowCollector} from \"./demo-row-controller\";\r\n\r\nconst DEMO_ROW_STORAGE_KEY = 'DEMO_ROW'\r\n\r\nexport const DemoRowCache = (() => {\r\n    let str = localStorage.getItem(DEMO_ROW_STORAGE_KEY)\r\n    const cache: Record<string, boolean> = !!str ? JSON.parse(str) : {}\r\n\r\n    return {\r\n        get: (id: string) => {\r\n            const flag = cache[id]\r\n            return flag == null ? true : flag\r\n        },\r\n        set: (id: string, flag: boolean) => {\r\n            cache[id] = flag\r\n            localStorage.setItem(DEMO_ROW_STORAGE_KEY, JSON.stringify(cache))\r\n        },\r\n        setAll: (flag: boolean) => {\r\n            for (const key in cache) {\r\n                cache[key] = flag\r\n            }\r\n            localStorage.setItem(DEMO_ROW_STORAGE_KEY, JSON.stringify(cache))\r\n        },\r\n    }\r\n})()\r\n\r\nexport const DemoRow = designComponent({\r\n    name: 'demo-row',\r\n    props: {\r\n        title: {type: String},\r\n        group: {type: Boolean},\r\n    },\r\n    emits: {\r\n        change: (val: boolean) => true\r\n    },\r\n    provideRefer: true,\r\n    setup({props, event}) {\r\n\r\n        DemoRowCollector.child()\r\n\r\n        const navigator = AppNavigator.use.inject()\r\n\r\n        const demoRow = DemoRow.use.inject(null) as { props: { title?: string } } | null\r\n\r\n        const id = [navigator.nav.route.path, !!demoRow ? demoRow.props.title : '', props.title].filter(Boolean).join(' >> ')\r\n\r\n        const state = reactive({\r\n            show: DemoRowCache.get(id),\r\n        })\r\n\r\n        const {slots} = useSlots()\r\n\r\n        const methods = {\r\n            set(val: boolean) {\r\n                state.show = val\r\n                DemoRowCache.set(id, state.show)\r\n                event.emit.change(state.show)\r\n            },\r\n        }\r\n\r\n        const handler = {\r\n            clickTitle: () => {\r\n                methods.set(!state.show)\r\n            }\r\n        }\r\n\r\n        return {\r\n            refer: {\r\n                id,\r\n                state,\r\n                methods,\r\n                props,\r\n            },\r\n            render: () => (\r\n                <div class={['demo-row', {'demo-row-show': state.show, 'demo-row-group': props.group}]}>\r\n                    {!!props.title && (\r\n                        <div class=\"demo-row-title\">\r\n                            <span onClick={handler.clickTitle}>{props.title}</span>\r\n                            <pl-icon icon=\"el-icon-d-arrow-right\" class=\"demo-row-icon-expand\"/>\r\n                        </div>\r\n                    )}\r\n                    {state.show && (\r\n                        <div class=\"demo-row-content\">\r\n                            {slots.default()}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../src/use/designComponent\";\r\nimport {useSlots} from \"../../src/use/useSlots\";\r\nimport {useCollect} from \"../../src/use/useCollect\";\r\nimport {DemoRow, DemoRowCache} from \"./demo-row\";\r\n\r\nexport const DemoRowController = designComponent({\r\n    name: 'demo-row-controller',\r\n    setup() {\r\n        const {slots} = useSlots()\r\n\r\n        const children = DemoRowCollector.parent()\r\n\r\n        const methods = {\r\n            changeAll: (flag: boolean) => {\r\n                children.forEach(child => child.methods.set(flag))\r\n                DemoRowCache.setAll(flag)\r\n            }\r\n        }\r\n\r\n        return {\r\n            render: () => (\r\n                <>\r\n                    {slots.default()}\r\n                    <div class=\"demo-row-collector-operator\">\r\n                        <div onClick={() => methods.changeAll(false)}>\r\n                            <span>全部收起</span>\r\n                            <pl-icon icon=\"el-icon-d-arrow-left\" style=\"transform: rotate(-90deg)\"/>\r\n                        </div>\r\n                        <div onClick={() => methods.changeAll(true)}>\r\n                            <span>全部展开</span>\r\n                            <pl-icon icon=\"el-icon-d-arrow-left\" style=\"transform: rotate(90deg)\"/>\r\n                        </div>\r\n                    </div>\r\n                </>\r\n            )\r\n        }\r\n    },\r\n})\r\n\r\nexport const DemoRowCollector = useCollect(() => ({\r\n    parent: DemoRowController,\r\n    child: DemoRow,\r\n}))","import {reactive, onMounted, onBeforeUnmount, markRaw} from 'vue';\r\nimport {AppNavigator, AppRoute} from \"./app-navigator\";\r\nimport {designComponent} from \"../../src/use/designComponent\";\r\nimport {DemoRowController} from \"../components/demo-row-controller\";\r\n\r\nexport const AppNavigatorPage = designComponent({\r\n    name: 'app-navigator-page',\r\n    setup() {\r\n\r\n        const state = reactive({\r\n            Page: null as any,\r\n        })\r\n\r\n        const navigator = AppNavigator.use.inject()\r\n\r\n        async function onPathChange({path}: AppRoute) {\r\n\r\n            if (!path) {\r\n                return\r\n            }\r\n\r\n            try {\r\n                state.Page = markRaw((await import('story/pages/' + path + '.vue')).default)\r\n                return navigator.nav.emit.pageReady()\r\n            } catch (e) {\r\n                console.log(`找不到页面:${'story/pages/' + path + '.vue'}`)\r\n                console.error(e)\r\n                state.Page = null\r\n            }\r\n        }\r\n\r\n        const eject = navigator.nav.on.pathChange(onPathChange)\r\n\r\n        onMounted(async () => {\r\n            await onPathChange(navigator.nav.route)\r\n        })\r\n\r\n        onBeforeUnmount(eject)\r\n\r\n        return {\r\n            render() {\r\n                const {Page} = state\r\n                return (\r\n                    <div>\r\n                        {!!Page && (\r\n                            <DemoRowController>\r\n                                <Page/>\r\n                            </DemoRowController>\r\n                        )}\r\n                    </div>\r\n                )\r\n            },\r\n        }\r\n    },\r\n})","import { render } from \"./app.vue?vue&type=template&id=51f216de\"\nimport script from \"./app.vue?vue&type=script&lang=js\"\nexport * from \"./app.vue?vue&type=script&lang=js\"\n\nimport \"./app.vue?vue&type=style&index=0&id=51f216de&lang=scss\"\nscript.render = render\n\nexport default script","import {designComponent} from \"../../src/use/designComponent\";\r\nimport {useSlots} from \"../../src/use/useSlots\";\r\n\r\nexport const DemoLine = designComponent({\r\n    name: 'demo-line',\r\n    props: {\r\n        title: {type: String},\r\n        labelWidth: {type: String},\r\n    },\r\n    setup({props}) {\r\n\r\n        const {slots} = useSlots()\r\n\r\n        return {\r\n            render: () => (\r\n                <div class=\"demo-line\">\r\n                    {!!props.title && <div class=\"demo-line-title\"><span>{props.title}</span></div>}\r\n                    <div class=\"demo-line-content\">\r\n                        {slots.default()}\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","<template>\r\n    <span>\r\n        {{title}}\r\n    </span>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"demo-child\",\r\n        props: {\r\n            title: {type: String},\r\n        },\r\n        mounted() {\r\n            console.log(`demo child ${this.title} mounted`)\r\n        },\r\n        beforeUnmount() {\r\n            console.log(`demo child ${this.title} beforeUnmount`)\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n</style>","import { render } from \"./demo-child.vue?vue&type=template&id=2550eca6\"\nimport script from \"./demo-child.vue?vue&type=script&lang=js\"\nexport * from \"./demo-child.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import {App} from 'vue';\r\nimport {DemoRow} from \"./demo-row\";\r\nimport {DemoLine} from \"./demo-line\";\r\nimport DemoChild from './demo-child.vue'\r\n\r\nexport function installDemoComponent(app: App) {\r\n    app.component(DemoRow.name, DemoRow)\r\n    app.component(DemoLine.name, DemoLine)\r\n    app.component(DemoChild.name, DemoChild)\r\n}","import {createApp} from 'vue'\r\nimport App from './app.vue'\r\nimport PlainUi, {Icon} from \"../src/index\";\r\nimport {installDemoComponent} from \"./components\";\r\n\r\nconst app = createApp(App)\r\napp.use(PlainUi)\r\n\r\nIcon.registry('my-icon-', (icon) => {\r\n    return <i class={`my-icon-${icon}`}>{icon}</i>\r\n})\r\n\r\ninstallDemoComponent(app)\r\n\r\napp.config.warnHandler = function (msg, vm, trace) {\r\n    // `trace` 是组件的继承关系追踪\r\n    // todo, 监听驼峰命名的事件会有警告，这里忽略\r\n    if (msg.startsWith('Extraneous non-emits event listeners')) {\r\n        return\r\n    }\r\n    console.warn(msg, {vm, trace})\r\n};\r\n\r\n(window as any).MockData = {\r\n    data: async () => (await import('./pages/data/data.json')).default,\r\n    data1: async () => (await import('./pages/data/data-1.json')).default,\r\n    data2: async () => (await import('./pages/data/data-2.json')).default,\r\n    treeData: async () => (await import('./pages/data/tree.data.json')).default,\r\n    address: async () => (await import('./pages/data/address.json')).default,\r\n}\r\n\r\napp.mount('#app')\r\n","import {getCurrentInstance, ComponentInternalInstance} from 'vue'\r\n\r\nexport function useFunctionWrapper<P extends any[],\r\n    T extends (ctx: ComponentInternalInstance, ...args: P) => any>(\r\n    key: string,\r\n    func: T,\r\n): (...args: P) => ReturnType<T> {\r\n    return (...args) => {\r\n        const ctx = getCurrentInstance() as any\r\n        if (!ctx._use) ctx._use = {}\r\n\r\n        if (!!ctx._use[key]) {\r\n            throw new Error(`use ${key} can only be executed once!`)\r\n        }\r\n\r\n        return (ctx._use[key] = func(ctx, ...args))\r\n    }\r\n}\r\n\r\n/*const func = useFunctionWrapper('', (ctx, name: string, age: number) => {\r\n    return {\r\n        sayHello: () => {},\r\n    }\r\n})\r\n\r\nconst data = func('111', 111)\r\ndata.sayHello()*/\r\n\r\n","export * from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./app-menu.vue?vue&type=style&index=0&id=11343ef6&lang=scss\"","import {ComponentInternalInstance} from \"vue\"\r\n\r\nexport function getSlotExist(prevState: { [k: string]: boolean } | null, slotNames: string[], ctx: ComponentInternalInstance) {\r\n    if (!prevState) {\r\n        prevState = {}\r\n    }\r\n    slotNames.forEach((slotName) => {\r\n        prevState![slotName] = !!ctx.slots[slotName]\r\n    })\r\n    return prevState\r\n}","import {designComponent} from \"../../use/designComponent\";\r\nimport {nextTick, ref} from 'vue';\r\nimport {useRefList} from \"../../use/useRefList\";\r\n\r\n/**\r\n * 创建一个默认的 root service manager组件\r\n * @author  韦胜健\r\n * @date    2020/11/26 9:20\r\n */\r\nexport function createDefaultManager<Option>(\r\n    managerName: string,\r\n    serviceComponent: {\r\n        use: {\r\n            class: {\r\n                isShow: { value: boolean },\r\n                isOpen: { value: boolean },\r\n                service: (option: Option) => any,\r\n            }\r\n        }\r\n    }) {\r\n    return designComponent({\r\n        name: managerName,\r\n        setup() {\r\n\r\n            const options = ref([] as Option[])\r\n            const refs = useRefList<typeof serviceComponent[\"use\"][\"class\"]>()\r\n\r\n            /**\r\n             * 获取一个 非show以及open的 service提供服务，如果存在\r\n             * 符合这个条件的service，直接调用service函数，否则创建\r\n             * 一个service，这个service在setup末尾需要调用一次service\r\n             * 函数；\r\n             * @author  韦胜健\r\n             * @date    2020/11/26 9:23\r\n             */\r\n            const service = async (option: Option): Promise<void> => {\r\n                for (let i = 0; i < refs.length; i++) {\r\n                    const item = refs[i];\r\n                    const {isShow, isOpen} = item\r\n                    if (!isShow.value && !isOpen.value) {\r\n                        return item.service(option)\r\n                    }\r\n                }\r\n                options.value.push(option as any)\r\n                await nextTick()\r\n            }\r\n\r\n            return {\r\n                refer: {\r\n                    managerName,\r\n                    service,\r\n                },\r\n                render: () => {\r\n                    const ServiceComponent = serviceComponent as any\r\n                    return (\r\n                        <div class={managerName}>\r\n                            {options.value.map((opt, i) => <ServiceComponent\r\n                                key={i}\r\n                                option={opt}\r\n                                ref={(proxy: any) => refs[i] = proxy}\r\n                            />)}\r\n                        </div>\r\n                    )\r\n                }\r\n            }\r\n        },\r\n    })\r\n}","import {getCurrentInstance, onBeforeUnmount} from 'vue'\r\nimport {createPlainEvent, PlainEvent} from \"../plugins/Event\";\r\nimport {SimpleFunction} from \"../shims\";\r\nimport {kebabCase} from 'plain-utils/string/kebabCase'\r\n\r\ntype EventListener<EmitsValue> = EmitsValue extends (...args: any[]) => any ? Parameters<EmitsValue> : never\r\n\r\nexport type ComponentEvent<Emit> = {\r\n    emit: { [key in keyof Emit]: (...args: EventListener<Emit[key]>) => void },\r\n    on: { [key in keyof Emit]: (cb: (...args: EventListener<Emit[key]>) => void) => void },\r\n    once: { [key in keyof Emit]: (cb: (...args: EventListener<Emit[key]>) => void) => void },\r\n    off: { [key in keyof Emit]: (cb: (...args: EventListener<Emit[key]>) => void) => void },\r\n}\r\n\r\nexport function getComponentEmit<T>(emitObject: T): T {\r\n    return Object.keys(emitObject || {}).reduce((prev, key) => {\r\n        const emitter = (emitObject as any)[key];\r\n        const match = key.match(/onUpdate([A-Z])(.*)/)\r\n        const kebabCaseName = kebabCase(key).replace('on-', '')\r\n        if (!!match) {\r\n            const updateName = `update:${match[1].toLowerCase()}${match[2]}`\r\n            prev[updateName] = emitter\r\n            if (key === 'onUpdateModelValue') {\r\n                prev['change'] = emitter\r\n            }\r\n        }\r\n        prev[kebabCaseName] = emitter\r\n        return prev\r\n    }, {} as any)\r\n}\r\n\r\nexport function useEvent<T>(emitObject: T): ComponentEvent<T> {\r\n\r\n    const ctx = getCurrentInstance()!\r\n    const event = createPlainEvent()\r\n\r\n    const emit = {} as any;\r\n    const on = {} as any;\r\n    const once = {} as any;\r\n    const off = {} as any;\r\n\r\n    const keys = Object.keys(emitObject || {})\r\n    if (!!emitObject && !!(emitObject as any).onUpdateModelValue) {keys.push('onChange')}\r\n\r\n    keys.forEach(key => {\r\n        /*派发事件名称，横杠命名*/\r\n        const match = key.match(/onUpdate([A-Z])(.*)/)\r\n        const kebabCaseName = kebabCase(key).replace('on-', '')\r\n        if (!!match) {\r\n            const updateName = `update:${match[1].toLowerCase()}${match[2]}`\r\n            emit[key] = (...args: any[]) => {\r\n                ctx.emit(kebabCaseName, ...args)\r\n                event.emit(kebabCaseName, ...args)\r\n                ctx.emit(updateName, ...args)\r\n                event.emit(updateName, ...args)\r\n                if (key === 'onUpdateModelValue') {\r\n                    ctx.emit('change', ...args)\r\n                    event.emit('change', ...args)\r\n                }\r\n            }\r\n        } else {\r\n            emit[key] = (...args: any[]) => {\r\n                ctx.emit(kebabCaseName, ...args)\r\n                event.emit(kebabCaseName, ...args)\r\n            }\r\n        }\r\n        on[key] = (fn: SimpleFunction) => event.on(kebabCaseName, fn)\r\n        once[key] = (fn: SimpleFunction) => event.once(kebabCaseName, fn)\r\n        off[key] = (fn: SimpleFunction) => event.off(kebabCaseName, fn)\r\n    })\r\n\r\n    onBeforeUnmount(event.clear)\r\n\r\n    return {\r\n        emit, on, once, off,\r\n    }\r\n}","export const renderNothing = () => null","import {Component, ComponentInternalInstance, ComponentOptionsMixin, ComponentPropsOptions, ComputedOptions, defineComponent, DefineComponent, Directive, EmitsOptions, ExtractPropTypes, getCurrentInstance, inject, MethodOptions, PropType, provide, Ref, ref, SetupContext,} from 'vue'\r\nimport {ComponentEvent, getComponentEmit, useEvent} from \"./useEvent\";\r\nimport {createError} from \"../utils/createError\";\r\nimport {renderNothing} from \"../utils/renderNothing\";\r\n\r\nconst error = createError('designComponent')\r\n\r\ninterface RefValue<T> {\r\n    (): Ref<null | T>\r\n\r\n    (refName?: string): Readonly<{ value: null | T }>\r\n}\r\n\r\ninterface InjectValue<Refer> {\r\n    (): Refer,\r\n\r\n    <DefaultValue>(defaultValue?: DefaultValue): Refer | DefaultValue\r\n}\r\n\r\ninterface UseType<Refer, Props> {\r\n    ref: RefValue<Refer>,\r\n    inject: InjectValue<Refer>\r\n    class: Refer,\r\n    props: Props,\r\n}\r\n\r\ntype EmitToProp<E extends Record<string, any>> = {\r\n    [k in keyof E]: { type: PropType<E[k] extends ((...args: any[]) => any) ? (...args: Parameters<E[k]>) => void : E[k]>, }\r\n}\r\n\r\nexport function designComponent<RawBindings,\r\n    D,\r\n    Refer,\r\n    Expose extends object,\r\n    Props extends Readonly<ExtractPropTypes<PropsOptions>>,\r\n    PropsOptions extends Readonly<ComponentPropsOptions> = {},\r\n    C extends ComputedOptions = {},\r\n    M extends MethodOptions = {},\r\n    Mixin extends ComponentOptionsMixin = ComponentOptionsMixin,\r\n    Extends extends ComponentOptionsMixin = ComponentOptionsMixin,\r\n    E extends EmitsOptions = {},\r\n    EE extends string = string,\r\n    >(\r\n    options: {\r\n        provideRefer?: boolean,\r\n        emits?: E,\r\n        setup?: (parameter: { props: Props, event: ComponentEvent<E>, setupContext: SetupContext<E>, ctx: ComponentInternalInstance }) => {\r\n            refer?: Refer\r\n            render: () => any,\r\n        },\r\n\r\n        name?: string,\r\n        props?: PropsOptions,\r\n        mixins?: any[],\r\n        components?: Record<string, Component>;\r\n        directives?: Record<string, Directive>;\r\n    },\r\n    expose?: Expose,\r\n): DefineComponent<PropsOptions & EmitToProp<E>, RawBindings, D, C, M, Mixin, Extends, E, EE> & {\r\n    use: UseType<Refer, Props>\r\n} & Expose {\r\n\r\n    const {provideRefer, emits, setup, ...leftOptions} = options\r\n\r\n    const use: UseType<Refer, Props> = {\r\n        inject: (defaultValue?: any) => {\r\n            return inject(`@@${options.name}`, defaultValue) as Refer\r\n        },\r\n        class: Object as any as Refer,\r\n        ref: (refName?: string) => {\r\n            if (!!refName) {\r\n                const ctx = getCurrentInstance()!\r\n                return {\r\n                    get value() {\r\n                        return ctx.refs[refName!]\r\n                    }\r\n                } as any\r\n            } else {\r\n                return ref(null)\r\n            }\r\n        },\r\n        props: Object as any as Props,\r\n    }\r\n\r\n    /*if (leftOptions.name === 'pl-popper') {\r\n        console.log(leftOptions.name, getComponentEmit(emits), emits)\r\n    }*/\r\n\r\n    return Object.assign(\r\n        defineComponent({\r\n            ...(leftOptions as any || {}),\r\n            props: leftOptions.props as PropsOptions,\r\n            emits: getComponentEmit(emits),\r\n            setup(props: any, setupContext: any) {\r\n                if (!setup) {\r\n                    error('setup is necessary!')\r\n                    return renderNothing\r\n                }\r\n                const ctx = getCurrentInstance()!\r\n                const event = useEvent<E>(emits!);\r\n                (ctx as any)._event = event;\r\n\r\n                const {refer, render} = setup({\r\n                    ctx,\r\n                    props,\r\n                    event,\r\n                    setupContext,\r\n                })\r\n\r\n                if (!!refer) {\r\n                    const duplicateKey = Object.keys(refer || {}).find(i => i in ctx.proxy!)\r\n                    if (!!duplicateKey) {\r\n                        console.error(`designComponent:${leftOptions.name} key '${duplicateKey}' in refer is not allow here!`)\r\n                    } else {\r\n                        Object.assign(ctx.proxy, refer)\r\n                    }\r\n                }\r\n\r\n                if (provideRefer) {\r\n                    if (!options.name) {\r\n                        error('component name is necessary when provideRefer is true!')\r\n                    } else {\r\n                        provide(`@@${options.name}`, refer)\r\n                    }\r\n                }\r\n                return render\r\n            },\r\n        }),\r\n        {use, ...(expose || {})}\r\n    ) as any\r\n}","import {designComponent} from \"../../use/designComponent\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-item',\r\n    props: {\r\n        block: {type: Boolean},\r\n        tag: {type: String, default: 'div'},\r\n    },\r\n    setup({props}) {\r\n        const {slots} = useSlots()\r\n        return {\r\n            render: () => {\r\n                const {tag: Tag} = props as any\r\n                return (\r\n                    <Tag {...{class: `pl-item ${!!props.block ? 'pl-item-block' : ''}`}}>\r\n                        {slots.default()}\r\n                    </Tag>\r\n                )\r\n            }\r\n        }\r\n    },\r\n})","import item from './item'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(item)","import {designComponent} from \"../../use/designComponent\";\r\nimport {StyleProps, useStyle} from \"../../use/useStyle\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {ComponentPublicInstance, getCurrentInstance, markRaw, nextTick, reactive, Teleport} from 'vue';\r\nimport {RootController} from \"./registryRootService\";\r\nimport {useRefList} from \"../../use/useRefList\";\r\nimport './root.scss'\r\n\r\nexport default designComponent({\r\n    name: 'pl-root',\r\n    props: {\r\n        ...StyleProps,\r\n    },\r\n    setup() {\r\n\r\n        /*全局样式定义*/\r\n        useStyle()\r\n        /*默认插槽*/\r\n        const {slots} = useSlots()\r\n        /*controller代理对象引用*/\r\n        let refs = useRefList<ComponentPublicInstance>()\r\n        /*当前状态*/\r\n        const state = reactive({\r\n            managers: [] as {\r\n                name: string,\r\n                Component: { use: { class: any } },\r\n                RenderComponent: any,\r\n            }[],\r\n        })\r\n\r\n        /**\r\n         * 获取一个Controller实例\r\n         * @author  韦胜健\r\n         * @date    2020/11/5 10:19\r\n         */\r\n        async function getManagerInstance<ManagerComponent extends { use: { class: any } }>(\r\n            name: string,\r\n            managerComponent: ManagerComponent\r\n        ): Promise<ManagerComponent[\"use\"][\"class\"]> {\r\n            if (!!refs) {\r\n                for (let i = 0; i < refs.length; i++) {\r\n                    const managerInstance = refs[i];\r\n                    if (!!managerInstance) {\r\n                        const {name: attrName, Component: attrComponent} = managerInstance.$attrs\r\n                        if (name === attrName && managerComponent === attrComponent) {\r\n                            return managerInstance as any\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            /*当前引用中没有该实例，手动创建一个*/\r\n            state.managers.push({\r\n                name,\r\n                Component: managerComponent,\r\n                RenderComponent: markRaw(managerComponent),\r\n            })\r\n            await nextTick()\r\n            return getManagerInstance(name, managerComponent)\r\n        }\r\n\r\n        const ctx = getCurrentInstance()!\r\n        const refer = {\r\n            rootRef: () => ctx.proxy!.$root!,\r\n            getManagerInstance,\r\n        }\r\n        RootController.initRoot(refer)\r\n\r\n        return {\r\n            refer,\r\n            render: () => [\r\n                slots.default(),\r\n                <Teleport to=\"body\">\r\n                    <div class=\"pl-root-service-container\">\r\n                        {state.managers.map(({name, Component, RenderComponent}, index) => (\r\n                            <RenderComponent key={index} {...{name, Component}} ref={proxy => refs[index] = proxy as any}/>\r\n                        ))}\r\n                    </div>\r\n                </Teleport>\r\n            ]\r\n        }\r\n    },\r\n})","import Root from './root'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(Root)","import {StyleStatus} from \"../use/useStyle\";\r\n\r\nexport enum CheckboxStatus {\r\n    uncheck = 'uncheck',\r\n    check = 'check',\r\n    minus = 'minus',\r\n}\r\n\r\nexport const DEFAULT_STATUS = StyleStatus.primary\r\n\r\nexport const STATUS = {\r\n    white: {icon: 'el-icon-info', status: 'white'},\r\n    black: {icon: 'el-icon-info', status: 'black'},\r\n    primary: {icon: 'el-icon-info', status: 'primary'},\r\n    success: {icon: 'el-icon-success', status: 'success'},\r\n    warn: {icon: 'el-icon-warning', status: 'warn'},\r\n    error: {icon: 'el-icon-error', status: 'error'},\r\n    info: {icon: 'el-icon-info', status: 'info'},\r\n} as { [k: string]: { icon: string, status: string } }","import {getCurrentInstance, onBeforeUpdate, reactive} from 'vue'\r\nimport {VNodeChild} from \"../shims\";\r\nimport {getSlotExist} from \"../utils/getSlotExists\";\r\n\r\ntype SlotFunction = ((vnode?: VNodeChild) => VNodeChild)\r\ntype SlotObject = { isExist: () => boolean }\r\n\r\ninterface UseSlots {\r\n    <T extends string>(names?: T[]): {\r\n        slots: { default: SlotFunction } & { [k in T]: SlotFunction }\r\n    }\r\n\r\n    <T extends string>(names?: T[], makeReactive?: boolean): {\r\n        slots: { default: SlotFunction & SlotObject } & { [k in T]: SlotFunction & SlotObject }\r\n    }\r\n}\r\n\r\n/**\r\n * 规范插槽用法\r\n * @author  韦胜健\r\n * @date    2020/11/18 17:48\r\n * @param   names                   插槽名称\r\n * @param   makeReactive            是否需要 isExist具备响应式的能力，以便在computed、watch以及render中判断\r\n */\r\nexport const useSlots: UseSlots = (names?: string[], makeReactive?: boolean) => {\r\n\r\n    const ctx = getCurrentInstance()!\r\n    const slotNames = [...(names || []), 'default']\r\n\r\n    /**\r\n     * 因为ctx.slots,ctx.ctx.$slots都不是响应式属性，无法触发computed以及watch中的变化，这里做一个手动更新处理\r\n     * 每次beforeUpdate打补丁之前，先更新ctxSlots响应式变量，render函数只会触发一次；\r\n     * @author  韦胜健\r\n     * @date    2020/10/19 11:36\r\n     */\r\n    const state = reactive({exist: getSlotExist(null, slotNames, ctx)})\r\n\r\n    /*如果需要响应式，则需要设置 makeReactive，会自动在updated之后更新slots的isExist值*/\r\n    if (makeReactive) {\r\n        onBeforeUpdate(() => {\r\n            getSlotExist(state.exist, slotNames, ctx)\r\n        })\r\n    }\r\n\r\n    /*slots.***是一个函数，参数是插槽后备内容。当插槽不存在时，渲染后备内容，否则渲染插槽内容*/\r\n    let slots = slotNames.reduce((prev: any, slotName: string) => {\r\n        prev[slotName] = Object.assign((vnode: VNodeChild) => {\r\n            const slot = ctx.slots[slotName]\r\n            return !!slot ? slot() : vnode\r\n        }, {\r\n            isExist() {\r\n                return state.exist[slotName]\r\n            }\r\n        })\r\n        return prev\r\n    }, {} as any)\r\n\r\n    return {\r\n        slots,\r\n    }\r\n}","import {App} from 'vue'\r\nimport {ComponentPlugin} from \"../shims\";\r\nimport {installPlugin} from \"./installPlugin\";\r\nimport Root from '../packages/root'\r\n\r\ninterface InstallComponent {\r\n    name: string\r\n}\r\n\r\nexport function createComponentPlugin<Component extends InstallComponent,\r\n    Expose extends Record<string, any>,\r\n    ExposeComponents extends { [k: string]: InstallComponent },\r\n    >(\r\n    component: Component,                               // 导出的主组件\r\n    option?: {\r\n        exposeComponents?: ExposeComponents,            // 额外需要安装的组件（一并导出挂载的component组件上）\r\n        plugins?: ComponentPlugin[],                    // 依赖的其他插件\r\n        expose?: Expose                                 // 需要导出的额外内容\r\n    },\r\n) {\r\n    const {exposeComponents, plugins, expose} = option || {}\r\n    const wrapExposeComponents: { [k in keyof ExposeComponents]: ExposeComponents[k] & ComponentPlugin } = !exposeComponents ?\r\n        {} :\r\n        Object.keys(exposeComponents || {})\r\n            .reduce((prev, next) => {\r\n                prev[next] = createComponentPlugin(exposeComponents[next])\r\n                return prev\r\n            }, {} as any)\r\n\r\n    return Object.assign(component, {\r\n        install(app: App) {\r\n            installPlugin(app, Root)\r\n            const componentList = [component] as InstallComponent[]\r\n            if (!!exposeComponents) {componentList.push(...Object.values(exposeComponents))}\r\n            componentList.forEach(comp => app.component(comp.name, comp))\r\n            !!plugins && (installPlugin(app, plugins))\r\n        },\r\n        ...wrapExposeComponents,\r\n        ...expose,\r\n    })\r\n}","import {designComponent} from \"../../use/designComponent\";\r\nimport {VNodeChild} from \"../../shims\";\r\n\r\n/**\r\n * 创建一个默认的root service组件\r\n * 这个组件最后返回的refer，必须含有isShow、isOpen、service三个属性。\r\n * isShow：当前是否已经显示，因为存在过渡动画，所以如果值为true，但是此时在页面可能没有完全显示。值为false，可能在页面上没有完全隐藏；\r\n * isOpen：当前是否已经在页面上完全打开或者消失。值为true，表示当前已经完全显示，但是此时isShow可能为false。因为隐藏过渡动画没有结束的时候就是这种情况、同理isOpen为true的时候也是这样。\r\n * 只有当isShow以及isOpen都是false的情况下，这个service才是处于闲置可以服用的状态。\r\n *\r\n * @author  韦胜健\r\n * @date    2020/11/26 9:24\r\n */\r\nexport function createDefaultService<Option extends object, Refer extends {\r\n    isShow: { value: boolean },\r\n    isOpen: { value: boolean },\r\n    service: (optoin: Option) => void\r\n}>\r\n(\r\n    {\r\n        name,\r\n        setup,\r\n    }: {\r\n        name: string,\r\n        setup: (option: Option) => {\r\n            refer: Refer,\r\n            render: () => VNodeChild,\r\n        },\r\n    }\r\n) {\r\n    return designComponent({\r\n        name: `pl-${name}-service`,\r\n        props: {\r\n            option: {type: Object, required: true}\r\n        },\r\n        setup({props}) {\r\n            const option = props.option as Option\r\n            const {render, refer} = setup(option)\r\n            refer.service(option)\r\n            return {\r\n                render, refer\r\n            }\r\n        },\r\n    })\r\n}","export const enum FormLabelAlign {\r\n    left = 'left',\r\n    center = 'center',\r\n    right = 'right',\r\n}\r\n\r\nexport const enum FormContentAlign {\r\n    'flex-start' = 'flex-start',\r\n    'flex-end' = 'flex-end',\r\n    'center' = 'center',\r\n    'space-around' = 'space-around',\r\n    'space-between' = 'space-between',\r\n    'space-evenly' = 'space-evenly',\r\n}\r\n\r\nexport const enum FormValidateMode {\r\n    form = 'form',\r\n    table = 'table',\r\n}","import './form.scss'\r\nimport {computed, ComputedRef, onMounted, PropType, reactive, watch} from 'vue'\r\nimport {designComponent} from \"../../use/designComponent\";\r\nimport {StyleProps, useStyle} from \"../../use/useStyle\";\r\nimport {EditProps, useEdit} from \"../../use/useEdit\";\r\nimport {FormContentAlign, FormLabelAlign, FormValidateMode} from \"./form.utils\";\r\nimport {useNumber} from \"../../use/useNumber\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {unit} from \"plain-utils/string/unit\";\r\nimport {useCollect} from \"../../use/useCollect\";\r\nimport FormItem from './form-item'\r\nimport {FormAssociateFields, formatFormRules, FormComponentRules, FormValidate, FormValidateResultMap, FormValidateTrigger, FormValidateUtils} from \"./form.validate\";\r\nimport {debounce} from \"plain-utils/utils/debounce\";\r\nimport {$$notice} from \"../notice-service\";\r\n\r\nconst Form = designComponent({\r\n    name: 'pl-form',\r\n    props: {\r\n        ...EditProps,\r\n        ...StyleProps,\r\n        disabledFields: {type: Object as PropType<Record<string, boolean>>},// 禁用的字段\r\n        readonlyFields: {type: Object as PropType<Record<string, boolean>>},// 只读的字段\r\n\r\n        modelValue: {type: Object},                                         // model绑定表单对象\r\n        rules: {type: Object as PropType<FormComponentRules>},              // 表单验证规则\r\n        validateResult: {type: Object},                                     // 校验结果信息\r\n        validateMode: {type: String as PropType<FormValidateMode>, default: FormValidateMode.form},// 校验模式\r\n        associateFields: {type: Object as PropType<FormAssociateFields>},   // 校验关联字段，一个对象，key为字段名，value为字段字符串或者字符串数组。当key变化时，会自动校验value中所列的字段\r\n\r\n        hideRequiredAsterisk: {type: Boolean, default: null},               // 是否隐藏文本旁边的红色必填星号\r\n        hideValidateMessage: {type: Boolean, default: null},                // 是否隐藏校验失败的信息\r\n        validateOnRulesChange: {type: Boolean, default: null},              // 是否当rules属性改变之后立即触发一次验证\r\n\r\n        column: {type: [String, Number], default: 1},                       // 多列表单的列数\r\n        labelWidth: {type: [String, Number]},                               // formItem 文本宽度\r\n        contentWidth: {type: [String, Number]},                             // formItem 内容宽度\r\n\r\n        labelAlign: {type: String as PropType<FormLabelAlign>},             // 文本对其方式\r\n        contentAlign: {type: String as PropType<FormContentAlign>, default: FormLabelAlign.left},// content 对齐方式\r\n        width: {type: [String, Number], default: '100%'},                   // 表单宽度\r\n        centerWhenSingleColumn: {type: Boolean},                            // 单列的时候会使得表单内容居中，表单文本标题不计宽度，设置该属性为true则使得文本宽度参与计算居中\r\n        colon: {type: Boolean, default: true},                              // label的冒号\r\n        columnGutter: {type: [Number, String], default: 16},                // 列之间的间距\r\n        inline: {type: Boolean},                                            // 行内表单\r\n    },\r\n    emits: {\r\n        /*字段值变化事件*/\r\n        onFieldValueChange: (field: string, newVal: any, oldVal: any) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const {slots} = useSlots()\r\n\r\n        /*---------------------------------------state-------------------------------------------*/\r\n\r\n        /*收集的子组件*/\r\n        const items = FormCollector.parent()\r\n\r\n        useStyle();\r\n        useEdit({adjust: data => {data.loading = false}});\r\n        const {numberState} = useNumber(props, ['labelWidth', 'contentWidth', 'column', 'width', 'columnGutter'])\r\n\r\n        /*---------------------------------------compute-------------------------------------------*/\r\n\r\n        /*form-item中最大的label节点宽度*/\r\n        const maxLabelWidth = computed(() => items.reduce((prev: number, next) => Math.max(next.state.labelWidth, prev), 0)) as ComputedRef<number>\r\n\r\n        /*form-item所需要的对齐方式信息*/\r\n        const align = computed(() => {\r\n            return {\r\n                label: props.labelAlign || (numberState.column === 1 ? FormLabelAlign.right : FormLabelAlign.left),\r\n                content: props.contentAlign,\r\n            }\r\n        })\r\n\r\n        /*form-item所需要的宽度信息*/\r\n        const width = computed(() => {\r\n            /*\r\n            *  如果没有设置contentWidth\r\n            *  如果是单列，默认contentWidth是400\r\n            *  多了则是220\r\n            */\r\n            const content = !!numberState.contentWidth ? numberState.contentWidth : numberState.column === 1 ? 400 : 220\r\n            const label = numberState.labelWidth || maxLabelWidth.value\r\n\r\n            if (!!label) {\r\n                return {\r\n                    col: label + content,\r\n                    label,\r\n                    content,\r\n                }\r\n            } else {\r\n                return {\r\n                    content,\r\n                }\r\n            }\r\n        })\r\n\r\n        const classes = computed(() => [\r\n            'pl-form',\r\n            `pl-form-column-${numberState.column}`,\r\n            {\r\n                'pl-form-inline': props.inline,\r\n            }\r\n        ])\r\n\r\n        /*设置form宽度*/\r\n        const styles = useStyles((style) => {\r\n            if (props.inline) {\r\n                return style\r\n            }\r\n            style.width = unit(props.width)\r\n        })\r\n\r\n        /*body节点宽度。如果是单列，则左偏移 label/2 个像素，确保content在屏幕中间*/\r\n        const bodyStyles = useStyles(style => {\r\n            if (props.inline) {\r\n                return style\r\n            }\r\n            const {label, col} = width.value\r\n            if (!label) {return}\r\n            const {column, columnGutter} = numberState\r\n            style.width = unit((col! + columnGutter) * column)\r\n            style.left = `${(!props.centerWhenSingleColumn && column === 1) ? -label! / 2 : 0}px`\r\n        })\r\n        /*---------------------------------------validate-------------------------------------------*/\r\n\r\n        const formValidate = computed(() => formatFormRules(props.rules, items.map(item => item.formItemComponentRules.value))) as ComputedRef<FormValidate>\r\n\r\n        const loading = (() => {\r\n            let time: null | number;\r\n            return {\r\n                show: () => {\r\n                    time = setTimeout(() => {\r\n                        childState.loading = true\r\n                        time = null\r\n                    }, 500)\r\n                },\r\n                hide: () => {\r\n                    if (!!time) {\r\n                        clearTimeout(time)\r\n                    } else {\r\n                        childState.loading = false\r\n                    }\r\n                },\r\n            }\r\n        })();\r\n\r\n        const validateMethods = {\r\n            validate: async (config?: { autoLoading?: boolean, autoAlert?: boolean, }) => {\r\n                config = config || {}\r\n                if (config.autoLoading != false) {\r\n                    loading.show()\r\n                }\r\n                const {validateMessage, validateResultMap, validateResult} = await formValidate.value.methods.validate(props.modelValue!)\r\n                loading.hide()\r\n\r\n                childState.validateResultMap = validateResultMap\r\n                if (!!validateMessage) {\r\n                    if (config.autoAlert !== false) {\r\n                        $$notice.warn(validateMessage)\r\n                    }\r\n                    throw {\r\n                        validate: validateResult,\r\n                        message: validateMessage,\r\n                    }\r\n                } else {\r\n                    return null\r\n                }\r\n            },\r\n            clearValidate: () => {\r\n                childState.validateResultMap = {}\r\n            },\r\n            showError: (error: any) => {\r\n                if (!!error.message) {\r\n                    $$notice.warn(error.message)\r\n                } else {\r\n                    $$notice.warn(String(error))\r\n                }\r\n            },\r\n        }\r\n\r\n        /*---------------------------------------end-------------------------------------------*/\r\n\r\n        onMounted(() => {\r\n            // console.log('formValidate.value', formValidate.value)\r\n        })\r\n\r\n        const childState = reactive({\r\n            align,\r\n            width,\r\n            formValidate,\r\n            validateResultMap: {} as FormValidateResultMap,\r\n            loading: false,\r\n        })\r\n\r\n        const freezeState = {\r\n            oldFormData: {...(props.modelValue || {})},\r\n        }\r\n\r\n        const validateHandler = {\r\n            onEditChange: async (field?: string | string[]) => {\r\n                if (props.validateMode === FormValidateMode.form) {\r\n                    return\r\n                }\r\n                const fields = FormValidateUtils.getListValue(field)\r\n                if (!fields) {return}\r\n                await Promise.all(fields.map(f => formValidate.value.methods.validateField({\r\n                    field: f,\r\n                    trigger: FormValidateTrigger.change,\r\n                    formValidateResultMap: childState.validateResultMap,\r\n                    formData: props.modelValue || {},\r\n                    associateFields: props.associateFields,\r\n                })))\r\n            },\r\n            onBlurChange: async (field?: string | string[]) => {\r\n                const fields = FormValidateUtils.getListValue(field)\r\n                if (!fields) {return}\r\n                await Promise.all(fields.map(f => formValidate.value.methods.validateField({\r\n                    field: f,\r\n                    trigger: FormValidateTrigger.blur,\r\n                    formValidateResultMap: childState.validateResultMap,\r\n                    formData: props.modelValue || {},\r\n                    associateFields: props.associateFields,\r\n                })))\r\n            },\r\n            onFieldChange: async (field: string) => {\r\n                await formValidate.value.methods.validateField({\r\n                    field,\r\n                    trigger: FormValidateTrigger.change,\r\n                    formValidateResultMap: childState.validateResultMap,\r\n                    formData: props.modelValue || {},\r\n                    associateFields: props.associateFields,\r\n                })\r\n            },\r\n            onFormDataChange: debounce((val: any) => {\r\n                const newFormData = val || {}\r\n                const oldFormData = freezeState.oldFormData || {}\r\n                const fields = Object.keys({...newFormData, ...oldFormData})\r\n\r\n                fields.forEach(field => {\r\n                    let newVal = newFormData[field]\r\n                    let oldVal = oldFormData[field]\r\n                    if (newVal !== oldVal) {\r\n                        emit.onFieldValueChange(field, newVal, oldVal)\r\n                        validateHandler.onFieldChange(field)\r\n                    }\r\n                })\r\n                freezeState.oldFormData = {...val || {}}\r\n            }, 150, false)\r\n        }\r\n\r\n        if (props.validateMode === FormValidateMode.form) {\r\n            watch(() => props.modelValue, validateHandler.onFormDataChange, {deep: true})\r\n        }\r\n\r\n        return {\r\n            refer: {\r\n                props,\r\n                childState,\r\n                numberState,\r\n                validateHandler,\r\n                ...validateMethods,\r\n            },\r\n            render: () => {\r\n                return (<div class={classes.value} style={styles.value} v-loading={childState.loading || !!props.loading}>\r\n                    <div class=\"pl-form-body\" style={bodyStyles.value}>\r\n                        {slots.default()}\r\n                    </div>\r\n                </div>)\r\n            }\r\n        }\r\n    },\r\n})\r\n\r\nexport default Form\r\n\r\nexport const FormCollector = useCollect(() => ({\r\n    parent: Form,\r\n    child: FormItem,\r\n}))","export function createCounter(prefixString?: string) {\r\n    let count = 0\r\n    return () => (!!prefixString ? `${prefixString}_` : '') + count++\r\n}","/**\r\n * 基础视图类型\r\n * @author  韦胜健\r\n * @date    2020/12/7 20:34\r\n */\r\nimport {PlainDate, PlainDateType} from \"../../utils/PlainDate\";\r\nimport {ExtractPropTypes} from 'vue';\r\nimport {VNodeChild} from \"../../shims\";\r\n\r\nexport const enum DateView {\r\n    year = 'year',\r\n    month = 'month',\r\n    date = 'date',\r\n    time = 'time',\r\n}\r\n\r\nexport const enum SlideTransitionDirection {\r\n    next = 'next',\r\n    prev = 'prev'\r\n}\r\n\r\nexport const DatePublicProps = {\r\n    modelValue: {type: String},\r\n    start: {type: String},\r\n    end: {type: String},\r\n\r\n    displayFormat: {type: String},\r\n    valueFormat: {type: String},\r\n    max: {type: String},\r\n    min: {type: String},\r\n    range: {type: Boolean},\r\n\r\n    direction: {type: String, default: 'horizontal'},                                   // 根节点在 pl-transition-slide 动画下的动画方向，是horizontal还是vertical\r\n    view: {type: String, default: DateView.month},                                      // 当前视图\r\n    selectDate: {type: PlainDate},                                                      // 当前面板的年月日期对象\r\n\r\n    /* base panel date 专用*/\r\n    datetime: {type: Boolean},                                                          // 是否为日期时间视图\r\n    firstWeekDay: {type: Number, default: 1},                                           // 一周的第一个是星期几，0是星期天，1是星期一\r\n    defaultTime: {type: String},                                                        // 默认时间，如果没有初始值，选择日期的时候时间会取这里的默认时间\r\n    /* date range 专用*/\r\n    defaultStartTime: {type: String},                                                   // 日期范围选择起始选择框日期面板，默认时间，如果没有初始值，选择日期的时候时间会取这里的默认时间\r\n    defaultEndTime: {type: String},                                                     // 日期范围选择截止选择框日期面板，默认时间，如果没有初始值，选择日期的时候时间会取这里的默认时间\r\n}\r\n\r\n/**\r\n * 日期公共属性解析后的类型\r\n * @author  韦胜健\r\n * @date    2020/12/7 20:37\r\n */\r\nexport type DatePublicPropsType = ExtractPropTypes<typeof DatePublicProps>;\r\n\r\nexport const DefaultDateFormatString = {\r\n    year: 'YYYY',\r\n    month: 'YYYY-MM',\r\n    date: 'YYYY-MM-DD',\r\n    datetime: 'YYYY-MM-DD HH:mm:ss',\r\n    week: 'YYYY-MM-DD',\r\n    dates: 'YYYY-MM-DD',\r\n}\r\n\r\nexport const DatePublicEmits = {\r\n    onUpdateModelValue: (val?: string, rangeType?: DateEmitRangeType) => true,\r\n    onUpdateStart: (val?: string) => true,\r\n    onUpdateEnd: (val?: string) => true,\r\n    onUpdateView: (view: DateView) => true,\r\n}\r\n\r\n/*DateBasePanelItemData*/\r\nexport interface Dbpid {\r\n    label: string | number\r\n    active: boolean\r\n    now: boolean\r\n    disabled: boolean\r\n    hoverStart: boolean\r\n    hover: boolean\r\n    hoverEnd: boolean\r\n    clickable: boolean\r\n    ipd: PlainDateType\r\n\r\n    range: boolean\r\n\r\n    [key: string]: any\r\n}\r\n\r\nexport const enum DateEmitRangeType {\r\n    start = 'start',\r\n    end = 'end',\r\n}\r\n\r\nexport function DatePanelWrapper(slots: {\r\n    left?: VNodeChild,\r\n    center: VNodeChild,\r\n    right?: VNodeChild,\r\n    content: VNodeChild,\r\n}) {\r\n    return (\r\n        <div class=\"pl-date-base-panel\">\r\n            <div class=\"pl-date-base-panel-header\">\r\n                <div>{slots.left}</div>\r\n                <div>{slots.center}</div>\r\n                <div>{slots.right}</div>\r\n            </div>\r\n            <div class=\"pl-date-base-panel-body\">\r\n                {slots.content}\r\n            </div>\r\n        </div>\r\n    ) as any\r\n}\r\n\r\nexport function DatePanelItemWrapper(\r\n    {\r\n        Node,\r\n        item,\r\n        onClick,\r\n        onMouseenter,\r\n    }: {\r\n        Node: any,                              // 容器节点\r\n        item: Dbpid,                            // item 数据\r\n        onClick: (item: Dbpid) => void,         // 点击item事件处理句柄\r\n        onMouseenter: (item: Dbpid) => void,    // 进入item事件处理句柄\r\n    }) {\r\n\r\n    let listener = {} as any;\r\n    item.clickable && (listener.onClick = () => onClick(item));\r\n    !item.disabled && (listener.onMouseenter = () => onMouseenter(item));\r\n\r\n    return (\r\n        <Node\r\n            {...listener}\r\n            class={[\r\n                'pl-date-base-panel-item',\r\n                {\r\n                    'pl-date-base-panel-item-active': item.active,\r\n                    'pl-date-base-panel-item-now': item.now,\r\n                    'pl-date-base-panel-item-disabled': item.disabled,\r\n                    'pl-date-base-panel-item-hover-start': item.hoverStart,\r\n                    'pl-date-base-panel-item-hover': item.hover,\r\n                    'pl-date-base-panel-item-hover-end': item.hoverEnd,\r\n                }\r\n            ]}>\r\n            <div>\r\n                <span>{item.label}</span>\r\n            </div>\r\n        </Node>\r\n    )\r\n\r\n}\r\n\r\nexport const DateViewSeq = {\r\n    year: 1,\r\n    month: 2,\r\n    date: 3,\r\n    time: 4,\r\n}\r\n\r\nexport const WeekUtils = {\r\n    /**\r\n     * 获取特定日期，在一周中的最后一天\r\n     * @author  韦胜健\r\n     * @date    2020/12/10 9:42\r\n     */\r\n    getLastPdOfWeek: (pd: PlainDateType, firstWeekDay?: number) => {\r\n        if (pd.isNull) {\r\n            return null\r\n        }\r\n        pd = pd.copy()\r\n        firstWeekDay = firstWeekDay == null ? 1 : firstWeekDay\r\n        const weekDayDuration = pd.day! - firstWeekDay\r\n        let offsetDay = weekDayDuration === 0 ? 0 : weekDayDuration > 0 ? weekDayDuration : 7 + weekDayDuration\r\n        pd.setMonthDate(pd.month!, pd.date! - offsetDay + 6)\r\n        return pd\r\n    },\r\n    /**\r\n     * 获取日期在第几周\r\n     * @author  韦胜健\r\n     * @date    2020/12/10 10:19\r\n     */\r\n    getWeekNumber: (value?: string, config?: { valueFormat?: string, firstWeekDay?: number }) => {\r\n        let ret = {\r\n            year: null as null | number,\r\n            week: null as null | number,\r\n        }\r\n        if (!value) {return ret}\r\n\r\n        config = config || {}\r\n        const valueFormat = config.valueFormat || DefaultDateFormatString.date\r\n        const firstWeekDay = config.firstWeekDay == null ? 1 : config.firstWeekDay\r\n        let vpd = new PlainDate(value, valueFormat, valueFormat)\r\n        if (vpd.isNull) {return ret}\r\n\r\n        const valueLastWeekPd = WeekUtils.getLastPdOfWeek(vpd, firstWeekDay)!\r\n        vpd = valueLastWeekPd.copy()\r\n        vpd.setYMD(valueLastWeekPd.Y!, 0, 1)\r\n        const yearFirstDayLastWeekPd = WeekUtils.getLastPdOfWeek(vpd, firstWeekDay)\r\n\r\n        if (!!yearFirstDayLastWeekPd && !yearFirstDayLastWeekPd.isNull && !!valueLastWeekPd && !valueLastWeekPd.isNull) {\r\n            const num = (valueLastWeekPd.time - yearFirstDayLastWeekPd.time) / (24 * 60 * 60 * 1000 * 7)\r\n            ret.year = yearFirstDayLastWeekPd.year\r\n            ret.week = num + 1\r\n        }\r\n\r\n        return ret\r\n    },\r\n    /**\r\n     * 获取周字符串\r\n     * @author  韦胜健\r\n     * @date    2020/12/10 17:03\r\n     */\r\n    getWeekZhcnString: (value?: string, config?: { valueFormat?: string, firstWeekDay?: number }) => {\r\n        const {year, week} = WeekUtils.getWeekNumber(value, config)\r\n        if (!!year) {\r\n            return `${year}年 第${week}周`\r\n        } else {\r\n            return null\r\n        }\r\n    },\r\n}","import {ref, getCurrentInstance, provide, inject, onMounted, onBeforeUnmount, markRaw, Ref} from 'vue';\r\nimport {createCounter} from \"../utils/createCounter\";\r\n\r\ntype UseCollectComponent = { name?: string, use: { class: any } }\r\ntype UseCollectSort = (() => HTMLElement) | number\r\n\r\nconst counter = createCounter('use_collector')\r\n\r\nfunction useCollectInParentInner() {\r\n\r\n    const indexMap = new WeakMap<any, number>()\r\n\r\n    const items = ref([] as any[])\r\n    const utils = {\r\n        addItem: (item: any, sort?: UseCollectSort) => {\r\n            if (!!sort) {\r\n                if (typeof sort !== \"number\") {\r\n                    const el = sort()\r\n                    sort = Array\r\n                        .from(el!.parentNode!.childNodes)\r\n                        .filter((item: any) => item.nodeName !== '#comment' && (!item.style || item.style.display !== 'none'))\r\n                        .indexOf(el)\r\n                    // console.log(el, sort)\r\n                }\r\n                indexMap.set(item, sort as number)\r\n\r\n                items.value.splice(\r\n                    0,\r\n                    items.value.length,\r\n                    ...[...items.value, item]\r\n                        .sort((a, b) => indexMap.get(a)! - indexMap.get(b)!))\r\n            } else {\r\n                items.value.push(item)\r\n            }\r\n        },\r\n        removeItem: (item: any) => {\r\n            const index = items.value.indexOf(item)\r\n            if (index > -1) items.value.splice(index, 1)\r\n        }\r\n    }\r\n    return {\r\n        parent: {} as any,  // 类型提示，实际上无用处\r\n        items,\r\n        utils,\r\n    }\r\n}\r\n\r\nexport function useCollect<Parent extends UseCollectComponent, Child extends UseCollectComponent>\r\n(config: () => {\r\n    parent: Parent,\r\n    child: Child,\r\n}) {\r\n\r\n    const {parent} = config()\r\n    const parentName = parent.name || counter()\r\n    const provideString = `@@Collector_${parentName}`\r\n\r\n    return {\r\n        parent: (): (Child['use']['class'])[] => {\r\n            const ctx = getCurrentInstance()!\r\n            const {items, utils} = useCollectInParentInner()\r\n            const data: ReturnType<typeof useCollectInParentInner> = {\r\n                items,\r\n                utils,\r\n                parent: ctx.proxy,\r\n            }\r\n            provide(provideString, data)\r\n            return items.value\r\n        },\r\n        child: (\r\n            {\r\n                injectDefaultValue,\r\n                sort,\r\n            }: {\r\n                injectDefaultValue?: any,\r\n                sort?: UseCollectSort,\r\n            } = {}): Parent['use']['class'] => {\r\n            const data = inject(provideString, injectDefaultValue) as ReturnType<typeof useCollectInParentInner>\r\n            if (!!data) {\r\n                const ctx = getCurrentInstance()!\r\n                const child = markRaw(ctx.proxy as any)\r\n                onMounted(() => data.utils.addItem(child, sort))\r\n                onBeforeUnmount(() => data.utils.removeItem(child))\r\n                return data.parent\r\n            } else {\r\n                return null\r\n            }\r\n        }\r\n    }\r\n}","/**\r\n * 创建一个报错对象\r\n * @author  韦胜健\r\n * @date    2020/10/15 10:33\r\n */\r\nexport function createError(tag: string) {\r\n    return (msg: string, isLog?: boolean) => {\r\n        const message = `${tag}:${msg}`\r\n        const log = isLog == null ? true : isLog\r\n        if (log) {\r\n            console.error(message)\r\n        } else {\r\n            throw new Error(message)\r\n        }\r\n    }\r\n}","import {ref, onBeforeUpdate, Ref} from 'vue';\r\n\r\ninterface UseRefList {\r\n    <T = any>(reactive: true): Ref<T[]>\r\n\r\n    <T = any>(): T[]\r\n}\r\n\r\nexport const useRefList: UseRefList = <T>(reactive?: boolean) => {\r\n    if (reactive) {\r\n        const refs = ref([] as T[])\r\n        onBeforeUpdate(() => refs.value = [])\r\n        return refs\r\n    } else {\r\n        const refs = [] as any\r\n        onBeforeUpdate(() => refs.splice(0, refs.length))\r\n        return refs\r\n    }\r\n}\r\n","import {reactive, watch} from 'vue'\r\nimport {toArray} from \"../utils/toArray\";\r\n\r\nexport enum FormatPropType {\r\n    PROMISE = 'PROMISE',\r\n    FUNCTION = 'FUNCTION',\r\n    NUMBER = 'NUMBER',\r\n}\r\n\r\n/**\r\n * ignorePromise:第一次获取值的时候，忽略Promise格式化，而是通过 watch immediate 来实现赋值\r\n * @author  韦胜健\r\n * @date    2020/10/30 15:29\r\n */\r\nasync function usePropsFormatter(state: any, key: string, val: any, types: FormatPropType | FormatPropType[]): Promise<void> {\r\n\r\n    if (val == null) {\r\n        state[key] = val\r\n        return\r\n    }\r\n\r\n    const formatTypes = toArray(types)\r\n\r\n    if (formatTypes.indexOf(FormatPropType.PROMISE) > -1 && !!val.then && typeof val.then === 'function') {\r\n        val = await val\r\n    }\r\n\r\n    if (formatTypes.indexOf(FormatPropType.FUNCTION) > -1 && typeof val === \"function\") {\r\n        val = val()\r\n    }\r\n\r\n    if (formatTypes.indexOf(FormatPropType.NUMBER) > -1 && typeof val === \"string\") {\r\n        if (/^[\\d]+$/.test(val)) {\r\n            val = Number(val)\r\n        } else {\r\n            if (val.lastIndexOf('px') === val.length - 2) {\r\n                val = Number(val.replace('px', ''))\r\n            }\r\n        }\r\n    }\r\n\r\n    state[key] = val\r\n}\r\n\r\nfunction usePropsInner<Props extends { [k: string]: any },\r\n    Config extends Partial<{ [k in keyof Props]: FormatPropType | FormatPropType[] }>>\r\n(\r\n    props: Props,\r\n    config: Config\r\n) {\r\n\r\n    const configKeys = Object.keys(config)\r\n\r\n    const formatConfig: { [k in keyof Props]: FormatPropType[] } = configKeys.reduce((prev, key) => {\r\n        prev[key] = toArray(config[key])\r\n        return prev\r\n    }, {} as any)\r\n\r\n    const state = reactive((() =>\r\n        configKeys.reduce((prev: any, configKey) => {\r\n            prev[configKey] = null\r\n            const formatTypes = formatConfig[configKey]\r\n            /**\r\n             * 如果是Promise，则跳过处理，在watch immediate中初始化\r\n             * @author  韦胜健\r\n             * @date    2020/11/3 20:10\r\n             */\r\n            if (formatTypes.indexOf(FormatPropType.PROMISE) === -1) {\r\n                usePropsFormatter(prev, configKey, props[configKey], formatTypes)\r\n            }\r\n            return prev\r\n        }, {}) as { [k in Exclude<keyof Props, Exclude<keyof Props, keyof Config>>]: Props[k] })\r\n    ())\r\n\r\n    configKeys.forEach(configKey => {\r\n        watch(() => props[configKey], val => {\r\n            // @ts-ignore\r\n            usePropsFormatter(state, configKey, val, config[configKey])\r\n        }, {immediate: formatConfig[configKey].indexOf(FormatPropType.PROMISE) > -1})\r\n    })\r\n\r\n    return {\r\n        propsState: state,\r\n    }\r\n}\r\n\r\nexport const useProps = Object.assign(usePropsInner, FormatPropType)","import {SimpleFunction} from \"../shims\";\r\n\r\ntype Listener = (SimpleFunction & { fn?: any })\r\ntype ListenName = string | symbol\r\nexport type PlainEvent = ReturnType<typeof createPlainEvent>\r\n\r\nexport function createPlainEvent() {\r\n\r\n    /**\r\n     * 第一次调用getEvents的时候才创建map对象\r\n     * @author  韦胜健\r\n     * @date    2020/10/17 11:27\r\n     */\r\n    const getListenMap = (() => {\r\n        let events: Map<ListenName, Listener[]>;\r\n        return () => {\r\n            if (!events) {\r\n                events = new Map<ListenName, Listener[]>()\r\n            }\r\n            return events\r\n        }\r\n    })()\r\n\r\n    let hasListener = false\r\n\r\n    const event = {\r\n        on: (listenName: ListenName, fn: SimpleFunction) => {\r\n\r\n            hasListener = true\r\n\r\n            const listenMap = getListenMap()\r\n            const map = listenMap.get(listenName)\r\n            if (!!map) {\r\n                map.push(fn)\r\n            } else {\r\n                listenMap.set(listenName, [fn])\r\n            }\r\n            return () => event.off(listenName, fn)\r\n        },\r\n        once: (listenName: ListenName, fn: SimpleFunction) => {\r\n\r\n            hasListener = true\r\n\r\n            const on: Listener = (...args: any[]) => {\r\n                event.off(listenName, fn)\r\n                fn(...args)\r\n            }\r\n            on.fn = fn\r\n            event.on(listenName, on)\r\n            return () => event.off(listenName, on)\r\n        },\r\n        off: (listenName: ListenName, fn?: SimpleFunction) => {\r\n            const listenMap = getListenMap()\r\n\r\n            const listeners = listenMap.get(listenName)\r\n            if (!listeners) {\r\n                return;\r\n            }\r\n\r\n            /*移除listenName的所有监听器*/\r\n            if (!fn) {\r\n                listenMap.set(listenName, [])\r\n                return\r\n            }\r\n\r\n            for (let i = 0; i < listeners.length; i++) {\r\n                const listener = listeners[i];\r\n                if (fn === listener || (!!listener.fn && fn === listener.fn)) {\r\n                    listeners.splice(i, 1)\r\n                    break\r\n                }\r\n            }\r\n        },\r\n        emit: (listenName: ListenName, ...args: any[]) => {\r\n            const listeners = getListenMap().get(listenName)\r\n            if (!!listeners) {\r\n                listeners.forEach(listener => listener(...args))\r\n            }\r\n        },\r\n        clear: () => {\r\n            if (hasListener) {\r\n                getListenMap().clear()\r\n            }\r\n        }\r\n    }\r\n\r\n    return event\r\n}","import {StyleProperties} from '../shims';\r\nimport {computed} from 'vue';\r\n\r\nexport function useStyles(\r\n    getter: (styles: StyleProperties) => StyleProperties | void\r\n) {\r\n    return computed(() => {\r\n        const style = {}\r\n        return getter(style) || style\r\n    })\r\n}","export function toArray<T>(data: T | T[]): T[] {\r\n    return Array.isArray(data) ? data : [data]\r\n}","import Root from \"./root\";\r\nimport {ComponentPublicInstance} from 'vue';\r\n\r\n/**\r\n * 用来注册root组件，建立 root 与 app中的 $root根实例的唯一对应关系\r\n * @author  韦胜健\r\n * @date    2020/11/26 9:32\r\n */\r\nexport const RootController = (() => {\r\n    const map = new WeakMap<ComponentPublicInstance, typeof Root.use.class>()\r\n    return {\r\n        initRoot: (root: typeof Root.use.class) => {\r\n            const $root = root.rootRef()\r\n            map.set($root, root)\r\n        },\r\n        getRoot: (ins: ComponentPublicInstance) => {\r\n            const root = map.get(ins.$root!)\r\n            if (!root) {\r\n                throw new Error(`pl-root is not found, you have to wrap the entire application with <pl-root/>!`)\r\n            }\r\n            return root\r\n        }\r\n    }\r\n})()\r\n\r\nexport enum RootServiceScope {\r\n    root = 'root',\r\n    ins = 'ins',\r\n}\r\n\r\n/**\r\n * 注册一个应用服务\r\n * @author  韦胜健\r\n * @date    2020/11/26 9:34\r\n * @param   name                        服务名称\r\n * @param   managerComponent            Manager组件，由root实例创建，Manager负责创建Service组件实例\r\n * @param   createService               负责通过得到的manager实例，获取service实例，调用service实例的service方法提供服务\r\n * @param   scope                       应用服务的作用范围，root表示整个应用只有一个服务，ins表示每个组件都有自己的服务。\r\n */\r\nexport function registryRootService<\r\n    ManagerComponent extends { use: { class: any } },\r\n    CreateService extends (getManager: () => Promise<ManagerComponent[\"use\"][\"class\"]>, ins: ComponentPublicInstance) => any>\r\n(\r\n    name: string,\r\n    managerComponent: ManagerComponent,\r\n    createService: CreateService,\r\n    scope = RootServiceScope.root\r\n) {\r\n    let map = new WeakMap<ComponentPublicInstance, ReturnType<CreateService>>()\r\n\r\n    return (ins: ComponentPublicInstance): ReturnType<CreateService> => {\r\n        const mapKey = scope === RootServiceScope.root ? ins.$root! : ins\r\n        let service = map.get(mapKey)\r\n        /*如果在作用域范围内存在已经创建的服务，则直接返回这个服务函数*/\r\n        if (!!service) {\r\n            return service\r\n        }\r\n        /*否则调用创建服务函数，创建一个新的服务函数提供服务*/\r\n        service = createService(async () => {\r\n            const root = RootController.getRoot(mapKey)\r\n            /*获取一个 Controller 实例，没有就给我创建一个*/\r\n            return await root.getManagerInstance(name, managerComponent)\r\n        }, ins)\r\n        map.set(mapKey, service!)\r\n        return service!\r\n    }\r\n}","import {designComponent} from \"../../use/designComponent\";\r\nimport {EditProps, useEdit} from \"../../use/useEdit\";\r\nimport {StyleProps, StyleStatus, useStyle} from \"../../use/useStyle\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport {useNumber} from \"../../use/useNumber\";\r\nimport {FormCollector} from \"./form\";\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {unit} from \"plain-utils/string/unit\";\r\nimport {reactive, onMounted, computed, PropType, ComputedRef} from 'vue';\r\nimport {useClass} from \"../../use/useClasses\";\r\nimport {FormContentAlign, FormLabelAlign} from \"./form.utils\";\r\nimport {FormComponentItemRules, FormRule, FormValidateUtils} from \"./form.validate\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-form-item',\r\n    props: {\r\n        ...EditProps,\r\n        ...StyleProps,\r\n\r\n        field: {type: [String, Array] as PropType<string | string[]>},      // 绑定的属性字段名\r\n        rules: {type: [Array, Object] as PropType<FormRule | FormRule[]>},  // 校验规则\r\n        required: {type: Boolean},                                          // 不能为空\r\n\r\n        label: {type: String, default: ' '},                                // 显示文本\r\n        labelWidth: {type: [String, Number]},                               // 显示文本宽度\r\n        column: {type: [String, Number], default: 1},                       // 多列表单的列数\r\n        block: {type: Boolean},                                             // 占用一行\r\n        colon: {type: Boolean, default: null},                              // label的冒号\r\n        labelAlign: {type: String as PropType<FormLabelAlign>},             // label 对齐方式\r\n        contentAlign: {type: String as PropType<FormContentAlign>},         // content 对齐方式\r\n    },\r\n    emits: {\r\n        onBlur: () => true,\r\n        onChange: () => true,\r\n    },\r\n    provideRefer: true,\r\n    setup({props, event: {emit}}) {\r\n\r\n        const form = FormCollector.child()\r\n        const {slots} = useSlots(['label', 'suffix'], true)\r\n        const {refs} = useRefs({label: HTMLDivElement,})\r\n        const {styleComputed} = useStyle({adjust: ret => {!!invalidate.value && (ret.status = StyleStatus.error)}})\r\n\r\n        const handler = {\r\n            onEditChange: () => form.validateHandler.onEditChange(props.field),\r\n            onEditBlur: () => form.validateHandler.onBlurChange(props.field),\r\n        }\r\n        useEdit({\r\n            adjust: ret => {\r\n                ret.onChange = handler.onEditChange\r\n                ret.onBlur = handler.onEditBlur\r\n\r\n                if (!!form.props.disabledFields && !!props.field) {\r\n                    const fields = FormValidateUtils.getListValue(props.field)\r\n                    if (!!fields && !!fields.find(f => form.props.disabledFields![f])) {\r\n                        ret.disabled = true\r\n                    }\r\n                }\r\n                if (!!form.props.readonlyFields && !!props.field) {\r\n                    const fields = FormValidateUtils.getListValue(props.field)\r\n                    if (!!fields && !!fields.find(f => form.props.disabledFields![f])) {\r\n                        ret.readonly = true\r\n                    }\r\n                }\r\n            }\r\n        })\r\n\r\n        /*---------------------------------------state-------------------------------------------*/\r\n\r\n        const {numberState} = useNumber(props, ['labelWidth', 'column'])\r\n        const state = reactive({\r\n            /*当前 form item的label宽度*/\r\n            labelWidth: 0,\r\n        })\r\n\r\n        /*---------------------------------------computed-------------------------------------------*/\r\n\r\n        /*是否显示冒号*/\r\n        const colon = computed(() => props.colon == null ? form.props.colon : props.colon)\r\n        /*label的目标宽度*/\r\n        const labelWidth = computed(() => numberState.labelWidth || form.numberState.labelWidth)\r\n        /*是否设置了label宽度*/\r\n        const staticWidth = computed(() => !!labelWidth.value)\r\n        /*是否存在label节点*/\r\n        const hasLabel = computed(() => !!props.label || slots.label.isExist())\r\n\r\n        const classes = useClass(() => [\r\n            'pl-form-item',\r\n            `pl-form-item-size-${styleComputed.value.size}`,\r\n            `pl-form-item-label-align-${props.labelAlign || form.childState.align.label}`,\r\n            `pl-form-item-content-align-${props.contentAlign || form.childState.align.content}`,\r\n            {\r\n                'pl-form-item-static-width': staticWidth.value,\r\n                'pl-form-item-required': isRequired.value && !form.props.hideRequiredAsterisk,\r\n                'pl-form-item-invalidate': !!invalidate.value && !form.props.hideValidateMessage,\r\n            }\r\n        ])\r\n        const isBlock = computed(() => {\r\n            const flag = !!props.block || numberState.column === form.numberState.column\r\n            return {\r\n                flag,\r\n                column: flag ? form.numberState.column : numberState.column\r\n            }\r\n        })\r\n\r\n        /*form-item的宽度，与下一个form-item的gutter*/\r\n        const styles = useStyles(style => {\r\n            if (form.props.inline) {\r\n                return style\r\n            }\r\n            const {col} = form.childState.width\r\n            const {column} = isBlock.value\r\n            const {columnGutter} = form.numberState\r\n            if (!!col) {\r\n                style.width = unit((col + columnGutter) * column)\r\n            }\r\n            if (form.numberState.column > 1) {\r\n                style.paddingRight = unit(form.numberState.columnGutter)\r\n            }\r\n        })\r\n\r\n        /*label节点宽度，如果有设置labelWidth的话*/\r\n        const labelStyles = useStyles(style => {\r\n            if (form.props.inline) {\r\n                return style\r\n            }\r\n            if (!!labelWidth.value) {\r\n                style.width = unit(labelWidth.value)\r\n            }\r\n        })\r\n\r\n        /*如果没有label的话，body应该占用百分百宽度，否则宽度为占用列数x列宽 - label宽度*/\r\n        const bodyStyles = useStyles(style => {\r\n            if (form.props.inline) {\r\n                return style\r\n            }\r\n            if (!hasLabel.value) {\r\n                style.width = '100%'\r\n            } else {\r\n                const {label, col} = form.childState.width\r\n                if (!!label) {\r\n                    const {columnGutter} = form.numberState\r\n                    const {column} = isBlock.value\r\n                    style.width = unit(col! * column + (column - 1) * columnGutter - label)\r\n                }\r\n            }\r\n        })\r\n\r\n        /*---------------------------------------hook-------------------------------------------*/\r\n\r\n        /**\r\n         * 如果没有写死labelWidth，这mounted的时候计算label节点宽度\r\n         * @author  韦胜健\r\n         * @date    2020/12/11 21:32\r\n         */\r\n        if (!staticWidth.value && hasLabel.value) {\r\n            onMounted(() => {\r\n                state.labelWidth = refs.label.scrollWidth\r\n            })\r\n        }\r\n\r\n        /*---------------------------------------validate-------------------------------------------*/\r\n\r\n        const formItemComponentRules = computed((): FormComponentItemRules => ({\r\n            label: props.label,\r\n            field: props.field,\r\n            required: props.required,\r\n            rules: props.rules,\r\n        }))\r\n\r\n        /*当前是否必填校验*/\r\n        const isRequired = computed(() => {\r\n            const {fieldToRequired} = form.childState.formValidate\r\n            const fields = FormValidateUtils.getListValue(props.field)\r\n            if (!fields) {\r\n                return false\r\n            }\r\n            return !!fields.find(f => !!fieldToRequired[f])\r\n        }) as ComputedRef<boolean>\r\n\r\n        /*当前是否校验不通过*/\r\n        const invalidate = computed(() => {\r\n            const {validateResultMap} = form.childState\r\n            const fields = FormValidateUtils.getListValue(props.field)\r\n            if (!fields) {\r\n                return null\r\n            }\r\n            const invalidField = fields.find(f => !!validateResultMap[f])\r\n            return !invalidField ? null : validateResultMap[invalidField]!\r\n        })\r\n\r\n        return {\r\n            refer: {\r\n                state,\r\n                formItemComponentRules,\r\n            },\r\n            render: () => (\r\n                <div class={classes.value} style={styles.value}>\r\n                    {(!!props.label || slots.label.isExist()) && (\r\n                        <div class=\"pl-form-item-label\" style={labelStyles.value} ref=\"label\">\r\n                            {slots.label(props.label)} {!!props.label && !!props.label.trim() && !!colon.value && ':'}\r\n                        </div>\r\n                    )}\r\n                    <div class=\"pl-form-item-body\" style={bodyStyles.value}>\r\n                        {slots.default()}\r\n                        {slots.suffix.isExist() && (\r\n                            <div class=\"pl-form-item-suffix\">\r\n                                {slots.suffix()}\r\n                            </div>\r\n                        )}\r\n                        {!!invalidate.value && !form.props.hideValidateMessage && (<div class=\"pl-form-item-message\">\r\n                            {invalidate.value.message}\r\n                        </div>)}\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","var map = {\n\t\"./el-icon-alarm-clock.json\": [\n\t\t\"cb35\",\n\t\t\"chunk-2d2217f7\"\n\t],\n\t\"./el-icon-arrow-down.json\": [\n\t\t\"6c41\",\n\t\t\"chunk-2d0da720\"\n\t],\n\t\"./el-icon-arrow-left.json\": [\n\t\t\"cfb7\",\n\t\t\"chunk-2d222cae\"\n\t],\n\t\"./el-icon-arrow-right.json\": [\n\t\t\"adb0\",\n\t\t\"chunk-2d213c67\"\n\t],\n\t\"./el-icon-arrow-up.json\": [\n\t\t\"94ea\",\n\t\t\"chunk-2d0e59ed\"\n\t],\n\t\"./el-icon-back.json\": [\n\t\t\"3c66\",\n\t\t\"chunk-2d0c4a46\"\n\t],\n\t\"./el-icon-bell.json\": [\n\t\t\"e25d\",\n\t\t\"chunk-2d224cf2\"\n\t],\n\t\"./el-icon-bottom-left.json\": [\n\t\t\"4a3f\",\n\t\t\"chunk-2d0cb6f6\"\n\t],\n\t\"./el-icon-bottom-right.json\": [\n\t\t\"1917\",\n\t\t\"chunk-2d0ac344\"\n\t],\n\t\"./el-icon-bottom.json\": [\n\t\t\"6976\",\n\t\t\"chunk-2d0d09d8\"\n\t],\n\t\"./el-icon-brush.json\": [\n\t\t\"5133\",\n\t\t\"chunk-2d0c76f2\"\n\t],\n\t\"./el-icon-camera-solid.json\": [\n\t\t\"b8dc\",\n\t\t\"chunk-2d210c0b\"\n\t],\n\t\"./el-icon-camera.json\": [\n\t\t\"6fe1\",\n\t\t\"chunk-2d0db852\"\n\t],\n\t\"./el-icon-caret-bottom.json\": [\n\t\t\"3442\",\n\t\t\"chunk-2d0b9995\"\n\t],\n\t\"./el-icon-caret-left.json\": [\n\t\t\"e67c\",\n\t\t\"chunk-2d225c33\"\n\t],\n\t\"./el-icon-caret-right.json\": [\n\t\t\"54bc\",\n\t\t\"chunk-2d0c8816\"\n\t],\n\t\"./el-icon-caret-top.json\": [\n\t\t\"afd3\",\n\t\t\"chunk-2d21442a\"\n\t],\n\t\"./el-icon-chat-dot-round.json\": [\n\t\t\"76c6\",\n\t\t\"chunk-2d0d7848\"\n\t],\n\t\"./el-icon-chat-dot-square.json\": [\n\t\t\"e8b52\",\n\t\t\"chunk-772aaef6\"\n\t],\n\t\"./el-icon-chat-line-round.json\": [\n\t\t\"f439\",\n\t\t\"chunk-2d22c86a\"\n\t],\n\t\"./el-icon-chat-line-square.json\": [\n\t\t\"ec88\",\n\t\t\"chunk-2d230514\"\n\t],\n\t\"./el-icon-chat-round.json\": [\n\t\t\"be43\",\n\t\t\"chunk-2d21aef8\"\n\t],\n\t\"./el-icon-chat-square.json\": [\n\t\t\"fe43\",\n\t\t\"chunk-2d238074\"\n\t],\n\t\"./el-icon-check-bold.json\": [\n\t\t\"f9a6\",\n\t\t\"chunk-2d22e0be\"\n\t],\n\t\"./el-icon-check.json\": [\n\t\t\"4e52\",\n\t\t\"chunk-2d0cc604\"\n\t],\n\t\"./el-icon-circle-check.json\": [\n\t\t\"3c3b\",\n\t\t\"chunk-2d0c4a15\"\n\t],\n\t\"./el-icon-circle-close.json\": [\n\t\t\"3728\",\n\t\t\"chunk-2d0ba4a0\"\n\t],\n\t\"./el-icon-circle-plus-outline.json\": [\n\t\t\"5b87\",\n\t\t\"chunk-2d0d2f82\"\n\t],\n\t\"./el-icon-circle-plus.json\": [\n\t\t\"2bcd\",\n\t\t\"chunk-2d0bd7c7\"\n\t],\n\t\"./el-icon-close-bold.json\": [\n\t\t\"8b35\",\n\t\t\"chunk-2d0e8c02\"\n\t],\n\t\"./el-icon-close-notification.json\": [\n\t\t\"84d2\",\n\t\t\"chunk-2d0de540\"\n\t],\n\t\"./el-icon-close.json\": [\n\t\t\"b7c2\",\n\t\t\"chunk-2d2107fa\"\n\t],\n\t\"./el-icon-cloudy.json\": [\n\t\t\"4230\",\n\t\t\"chunk-2d0c0651\"\n\t],\n\t\"./el-icon-code.json\": [\n\t\t\"711f\",\n\t\t\"chunk-2d0d5fa5\"\n\t],\n\t\"./el-icon-coffee-cup.json\": [\n\t\t\"831a\",\n\t\t\"chunk-2d0ddb81\"\n\t],\n\t\"./el-icon-collection-tag.json\": [\n\t\t\"0ff2\",\n\t\t\"chunk-2d0afe38\"\n\t],\n\t\"./el-icon-connection.json\": [\n\t\t\"6a3d\",\n\t\t\"chunk-2d0d9fb2\"\n\t],\n\t\"./el-icon-crop.json\": [\n\t\t\"94f4\",\n\t\t\"chunk-2d0e59df\"\n\t],\n\t\"./el-icon-d-arrow-left.json\": [\n\t\t\"3194\",\n\t\t\"chunk-2d0b8eef\"\n\t],\n\t\"./el-icon-d-arrow-right.json\": [\n\t\t\"56ef3\",\n\t\t\"chunk-74856f3b\"\n\t],\n\t\"./el-icon-date.json\": [\n\t\t\"ca53\",\n\t\t\"chunk-2d221472\"\n\t],\n\t\"./el-icon-debug-s.json\": [\n\t\t\"241e\",\n\t\t\"chunk-2d0b250c\"\n\t],\n\t\"./el-icon-debug.json\": [\n\t\t\"5696\",\n\t\t\"chunk-2d0c8a74\"\n\t],\n\t\"./el-icon-delete-location.json\": [\n\t\t\"e918\",\n\t\t\"chunk-2d226691\"\n\t],\n\t\"./el-icon-delete-solid.json\": [\n\t\t\"ed66\",\n\t\t\"chunk-2d230895\"\n\t],\n\t\"./el-icon-delete.json\": [\n\t\t\"4add\",\n\t\t\"chunk-2d0cbce3\"\n\t],\n\t\"./el-icon-document-add.json\": [\n\t\t\"b7c1\",\n\t\t\"chunk-2d2107f9\"\n\t],\n\t\"./el-icon-document-checked.json\": [\n\t\t\"af1c\",\n\t\t\"chunk-2d213e2d\"\n\t],\n\t\"./el-icon-document-copy.json\": [\n\t\t\"764e\",\n\t\t\"chunk-2d0d72c6\"\n\t],\n\t\"./el-icon-document-delete.json\": [\n\t\t\"a8d2\",\n\t\t\"chunk-2d20977b\"\n\t],\n\t\"./el-icon-document-remove.json\": [\n\t\t\"dd28\",\n\t\t\"chunk-2d2293bc\"\n\t],\n\t\"./el-icon-document.json\": [\n\t\t\"2b65\",\n\t\t\"chunk-2d0bd225\"\n\t],\n\t\"./el-icon-download.json\": [\n\t\t\"9065\",\n\t\t\"chunk-2d0e450c\"\n\t],\n\t\"./el-icon-edit-outline.json\": [\n\t\t\"f8e0\",\n\t\t\"chunk-2d22dd73\"\n\t],\n\t\"./el-icon-edit.json\": [\n\t\t\"0caa\",\n\t\t\"chunk-2d0af289\"\n\t],\n\t\"./el-icon-error.json\": [\n\t\t\"16c6\",\n\t\t\"chunk-2d0abe0e\"\n\t],\n\t\"./el-icon-female.json\": [\n\t\t\"9937\",\n\t\t\"chunk-2d0e667a\"\n\t],\n\t\"./el-icon-first-aid-kit.json\": [\n\t\t\"9a63\",\n\t\t\"chunk-2d0efcfb\"\n\t],\n\t\"./el-icon-folder-add.json\": [\n\t\t\"e0c3\",\n\t\t\"chunk-2d224ad1\"\n\t],\n\t\"./el-icon-folder-checked.json\": [\n\t\t\"6eb2\",\n\t\t\"chunk-2d0db435\"\n\t],\n\t\"./el-icon-folder-delete.json\": [\n\t\t\"5ca1\",\n\t\t\"chunk-2d0d3834\"\n\t],\n\t\"./el-icon-folder-opened.json\": [\n\t\t\"08b5\",\n\t\t\"chunk-2d0a5111\"\n\t],\n\t\"./el-icon-folder-remove.json\": [\n\t\t\"dcfa\",\n\t\t\"chunk-2d229670\"\n\t],\n\t\"./el-icon-folder-s.json\": [\n\t\t\"59d9\",\n\t\t\"chunk-2d0c9aef\"\n\t],\n\t\"./el-icon-folder.json\": [\n\t\t\"f98f\",\n\t\t\"chunk-2d22dbf7\"\n\t],\n\t\"./el-icon-full-screen.json\": [\n\t\t\"5d5a\",\n\t\t\"chunk-2d0d36d1\"\n\t],\n\t\"./el-icon-info.json\": [\n\t\t\"36b6\",\n\t\t\"chunk-2d0ba6ad\"\n\t],\n\t\"./el-icon-jiahao.json\": [\n\t\t\"da7d\",\n\t\t\"chunk-2d228940\"\n\t],\n\t\"./el-icon-link.json\": [\n\t\t\"90ff\",\n\t\t\"chunk-2d0e4b0d\"\n\t],\n\t\"./el-icon-list.json\": [\n\t\t\"66d9\",\n\t\t\"chunk-2d0d040b\"\n\t],\n\t\"./el-icon-location-information.json\": [\n\t\t\"e752\",\n\t\t\"chunk-2d225f85\"\n\t],\n\t\"./el-icon-location-outline.json\": [\n\t\t\"e518\",\n\t\t\"chunk-2d22578d\"\n\t],\n\t\"./el-icon-location.json\": [\n\t\t\"c034\",\n\t\t\"chunk-2d215c44\"\n\t],\n\t\"./el-icon-lock.json\": [\n\t\t\"4e03\",\n\t\t\"chunk-2d0cc56a\"\n\t],\n\t\"./el-icon-male.json\": [\n\t\t\"469c\",\n\t\t\"chunk-2d0c1642\"\n\t],\n\t\"./el-icon-menu.json\": [\n\t\t\"0a5a\",\n\t\t\"chunk-2d0ae5b3\"\n\t],\n\t\"./el-icon-message-solid.json\": [\n\t\t\"b1c9\",\n\t\t\"chunk-2d20f17b\"\n\t],\n\t\"./el-icon-message.json\": [\n\t\t\"d4ee\",\n\t\t\"chunk-2d21e5e6\"\n\t],\n\t\"./el-icon-microphone.json\": [\n\t\t\"1722\",\n\t\t\"chunk-2d0abbdc\"\n\t],\n\t\"./el-icon-minus.json\": [\n\t\t\"a53c\",\n\t\t\"chunk-2d20867a\"\n\t],\n\t\"./el-icon-more.json\": [\n\t\t\"af8e\",\n\t\t\"chunk-2d213f08\"\n\t],\n\t\"./el-icon-nodata.json\": [\n\t\t\"1e28\",\n\t\t\"chunk-2d0b6890\"\n\t],\n\t\"./el-icon-paperclip.json\": [\n\t\t\"011a\",\n\t\t\"chunk-2d0a3107\"\n\t],\n\t\"./el-icon-picture-outline.json\": [\n\t\t\"9618\",\n\t\t\"chunk-2d0e5afa\"\n\t],\n\t\"./el-icon-picture.json\": [\n\t\t\"dbd7\",\n\t\t\"chunk-2d229247\"\n\t],\n\t\"./el-icon-place.json\": [\n\t\t\"f20d\",\n\t\t\"chunk-2d22c0b6\"\n\t],\n\t\"./el-icon-plus.json\": [\n\t\t\"26b6\",\n\t\t\"chunk-2d0b324e\"\n\t],\n\t\"./el-icon-position.json\": [\n\t\t\"0bbe\",\n\t\t\"chunk-2d0aeeeb\"\n\t],\n\t\"./el-icon-question.json\": [\n\t\t\"84cd\",\n\t\t\"chunk-2d0de553\"\n\t],\n\t\"./el-icon-rank.json\": [\n\t\t\"8661\",\n\t\t\"chunk-2d0de72f\"\n\t],\n\t\"./el-icon-refresh-right.json\": [\n\t\t\"ed12\",\n\t\t\"chunk-2d2307f6\"\n\t],\n\t\"./el-icon-refresh.json\": [\n\t\t\"33ab\",\n\t\t\"chunk-2d0b9b77\"\n\t],\n\t\"./el-icon-remove-outline.json\": [\n\t\t\"c6b69\",\n\t\t\"chunk-770d975c\"\n\t],\n\t\"./el-icon-remove.json\": [\n\t\t\"0103\",\n\t\t\"chunk-2d0a30ba\"\n\t],\n\t\"./el-icon-right.json\": [\n\t\t\"6be0\",\n\t\t\"chunk-2d0da94d\"\n\t],\n\t\"./el-icon-s-comment.json\": [\n\t\t\"849a\",\n\t\t\"chunk-2d0de03a\"\n\t],\n\t\"./el-icon-s-custom.json\": [\n\t\t\"4001\",\n\t\t\"chunk-2d0bfe73\"\n\t],\n\t\"./el-icon-s-fold.json\": [\n\t\t\"01f3\",\n\t\t\"chunk-2d0a3744\"\n\t],\n\t\"./el-icon-s-grid.json\": [\n\t\t\"8efd\",\n\t\t\"chunk-2d0e9da1\"\n\t],\n\t\"./el-icon-s-opportunity.json\": [\n\t\t\"acd7\",\n\t\t\"chunk-2d2138eb\"\n\t],\n\t\"./el-icon-s-order.json\": [\n\t\t\"b5e1\",\n\t\t\"chunk-2d2100b5\"\n\t],\n\t\"./el-icon-s-promotion.json\": [\n\t\t\"8e1e\",\n\t\t\"chunk-2d0e9737\"\n\t],\n\t\"./el-icon-s-shop.json\": [\n\t\t\"a48f\",\n\t\t\"chunk-2d208357\"\n\t],\n\t\"./el-icon-s-ticket.json\": [\n\t\t\"471a\",\n\t\t\"chunk-2d0c1909\"\n\t],\n\t\"./el-icon-s-tools.json\": [\n\t\t\"49e0\",\n\t\t\"chunk-2d0c26a6\"\n\t],\n\t\"./el-icon-s-unfold.json\": [\n\t\t\"2d66\",\n\t\t\"chunk-2d0bd9a8\"\n\t],\n\t\"./el-icon-search.json\": [\n\t\t\"37aa\",\n\t\t\"chunk-2d0baa7a\"\n\t],\n\t\"./el-icon-setting.json\": [\n\t\t\"70db\",\n\t\t\"chunk-2d0d620d\"\n\t],\n\t\"./el-icon-share.json\": [\n\t\t\"75e3\",\n\t\t\"chunk-2d0d74c2\"\n\t],\n\t\"./el-icon-sort.json\": [\n\t\t\"e450\",\n\t\t\"chunk-2d225440\"\n\t],\n\t\"./el-icon-star-off.json\": [\n\t\t\"c7d3\",\n\t\t\"chunk-2d217c79\"\n\t],\n\t\"./el-icon-star-on.json\": [\n\t\t\"ce5c\",\n\t\t\"chunk-2d2223a6\"\n\t],\n\t\"./el-icon-success.json\": [\n\t\t\"b819\",\n\t\t\"chunk-2d2105b4\"\n\t],\n\t\"./el-icon-switch-button.json\": [\n\t\t\"e677\",\n\t\t\"chunk-2d225c07\"\n\t],\n\t\"./el-icon-thumb.json\": [\n\t\t\"681e\",\n\t\t\"chunk-2d0d058c\"\n\t],\n\t\"./el-icon-time.json\": [\n\t\t\"d831\",\n\t\t\"chunk-2d21eea8\"\n\t],\n\t\"./el-icon-tools.json\": [\n\t\t\"3f79\",\n\t\t\"chunk-2d0c55ab\"\n\t],\n\t\"./el-icon-top-left.json\": [\n\t\t\"d8d8\",\n\t\t\"chunk-2d21f49e\"\n\t],\n\t\"./el-icon-top-right.json\": [\n\t\t\"ddd4\",\n\t\t\"chunk-2d2299c6\"\n\t],\n\t\"./el-icon-top.json\": [\n\t\t\"aca8\",\n\t\t\"chunk-2d21388f\"\n\t],\n\t\"./el-icon-turn-off-microphone.json\": [\n\t\t\"0bd6\",\n\t\t\"chunk-2d0aeefa\"\n\t],\n\t\"./el-icon-unlock.json\": [\n\t\t\"f7ea\",\n\t\t\"chunk-2d22d9e3\"\n\t],\n\t\"./el-icon-upload.json\": [\n\t\t\"0bce\",\n\t\t\"chunk-2d0aef0a\"\n\t],\n\t\"./el-icon-upload1.json\": [\n\t\t\"d889\",\n\t\t\"chunk-2d21ef4b\"\n\t],\n\t\"./el-icon-video-pause.json\": [\n\t\t\"c6a5\",\n\t\t\"chunk-2d21785d\"\n\t],\n\t\"./el-icon-video-play.json\": [\n\t\t\"4016\",\n\t\t\"chunk-2d0bfe97\"\n\t],\n\t\"./el-icon-view-not-s.json\": [\n\t\t\"f49d\",\n\t\t\"chunk-2d22c94f\"\n\t],\n\t\"./el-icon-view.json\": [\n\t\t\"c3a4\",\n\t\t\"chunk-2d216d19\"\n\t],\n\t\"./el-icon-warning-outline.json\": [\n\t\t\"93f8\",\n\t\t\"chunk-2d0e5622\"\n\t],\n\t\"./el-icon-warning.json\": [\n\t\t\"80f1\",\n\t\t\"chunk-2d0dd679\"\n\t],\n\t\"./el-icon-zoom-full.json\": [\n\t\t\"450c\",\n\t\t\"chunk-2d0c116a\"\n\t],\n\t\"./el-icon-zoom-in.json\": [\n\t\t\"2731\",\n\t\t\"chunk-2d0b3059\"\n\t],\n\t\"./el-icon-zoom-out.json\": [\n\t\t\"1141\",\n\t\t\"chunk-2d0aa593\"\n\t],\n\t\"./el-icon-zoom-scale.json\": [\n\t\t\"616d\",\n\t\t\"chunk-2d0cebdf\"\n\t],\n\t\"./index.json\": [\n\t\t\"9aae\",\n\t\t\"chunk-2d0f0262\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__.t(id, 3);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"e51c\";\nmodule.exports = webpackAsyncContext;","import {Directive} from 'vue'\r\nimport './click-wave.scss'\r\n\r\nconst map = new WeakMap()\r\n\r\nclass ClickWaveData {\r\n\r\n    option: any\r\n    on: () => void\r\n    wavingTimer: number | null = null\r\n    el: HTMLElement\r\n    updateOption: (option: any) => void\r\n\r\n    constructor(el: HTMLElement, option: any) {\r\n        this.option = {}\r\n        this.on = () => {\r\n            // console.log(this.option,this.option.disabled === true)\r\n            if (this.option.disabled === true) return;\r\n            if (!!this.wavingTimer) return\r\n\r\n            this.el.setAttribute('plain-click-node-waving', 'active')\r\n            this.wavingTimer = setTimeout(() => {\r\n                this.el.removeAttribute('plain-click-node-waving')\r\n                this.wavingTimer = null\r\n            }, 500) as any as number\r\n        }\r\n        this.updateOption = (option) => {\r\n            option = option || {}\r\n            if (typeof option === \"string\") {\r\n                option = {\r\n                    size: option\r\n                }\r\n            }\r\n            option.size = option.size || 'normal'\r\n            this.option = option\r\n        }\r\n        this.updateOption(option)\r\n        this.el = el\r\n        this.el.setAttribute(`plain-click-node-${this.option.size}`, 'active')\r\n\r\n        el.addEventListener('click', this.on, true)\r\n    }\r\n\r\n    unbind() {\r\n        this.el.removeEventListener('click', this.on, true)\r\n    }\r\n}\r\n\r\nexport const ClickWave: Directive = {\r\n    mounted(el, binding) {\r\n        map.set(el, new ClickWaveData(el, binding.value))\r\n    },\r\n    updated(el, binding) {\r\n        const data = map.get(el)\r\n        if (!!data) {\r\n            data.updateOption(binding.value)\r\n        }\r\n    },\r\n    beforeUnmount(el) {\r\n        const data = map.get(el)\r\n        if (!!data) {\r\n            data.unbind()\r\n        }\r\n    },\r\n}","import {VNodeChild} from \"../shims\";\r\nimport {getCurrentInstance, onBeforeUpdate, reactive} from 'vue';\r\nimport {getSlotExist} from \"../utils/getSlotExists\";\r\n\r\ntype ScopedSlotsOptionType = { [SlotName: string]: { [ScopeKey: string]: any } }\r\n\r\ntype ExtractScopedSlotsDataValue<ScopeValue> = ScopeValue extends new (...args: any[]) => infer R ? R : ScopeValue;\r\n\r\ntype ExtractScopedSlotsData<Scope extends { [ScopeKey: string]: any }> = {\r\n    [k in keyof Scope]: ExtractScopedSlotsDataValue<Scope[k]>\r\n}\r\n\r\ninterface UseScopedSlots {\r\n    <T extends ScopedSlotsOptionType>(options: T): {\r\n        scopedSlots: {\r\n            [k in keyof T]: ((scope: ExtractScopedSlotsData<T[k]>, vnode: VNodeChild) => void)\r\n        }\r\n    }\r\n\r\n    <T extends ScopedSlotsOptionType>(options: T, makeReactive?: boolean): {\r\n        scopedSlots: {\r\n            [k in keyof T]: ((scope: ExtractScopedSlotsData<T[k]>, vnode: VNodeChild) => void) & { isExist: () => boolean }\r\n        }\r\n    }\r\n}\r\n\r\nexport const useScopedSlots: UseScopedSlots = <T extends ScopedSlotsOptionType>(options: T, makeReactive?: boolean) => {\r\n\r\n    const ctx = getCurrentInstance()!\r\n    const slotNames = Object.keys(options)\r\n\r\n    const state = reactive({exist: getSlotExist(null, slotNames, ctx)})\r\n    /*如果需要响应式，则需要设置 makeReactive，会自动在updated之后更新slots的isExist值*/\r\n    if (makeReactive) {\r\n        onBeforeUpdate(() => {\r\n            getSlotExist(state.exist, slotNames, ctx)\r\n        })\r\n    }\r\n\r\n    const scopedSlots = slotNames.reduce((prev: any, slotName: string) => {\r\n        prev[slotName] = Object.assign((scope: any, vnode: VNodeChild) => {\r\n            const slot = ctx.slots[slotName]\r\n            return !!slot ? slot(scope) : vnode\r\n        }, {\r\n            isExist() {\r\n                return state.exist[slotName]\r\n            },\r\n        })\r\n        return prev\r\n    }, {} as any)\r\n\r\n    return {\r\n        scopedSlots,\r\n    }\r\n}\r\n","import {computed} from 'vue'\r\n\r\nexport type SingleClass = null | undefined | string | { [k: string]: boolean | null | undefined }\r\nexport type MultipleClass = SingleClass | SingleClass[]\r\n\r\nexport function useClass<T extends () => MultipleClass>(fn: T) {\r\n    return computed(fn)\r\n}","import {App} from 'vue'\r\n\r\nexport enum KEY {\r\n    'shift' = 'shift',\r\n    'ctrl' = 'ctrl',\r\n    'alt' = 'alt',\r\n    'backspace' = 'backspace',\r\n    'tab' = 'tab',\r\n    'enter' = 'enter',\r\n    'esc' = 'esc',\r\n    'space' = 'space',\r\n    'del' = 'del',\r\n    'left' = 'left',\r\n    'up' = 'up',\r\n    'right' = 'right',\r\n    'down' = 'down',\r\n    'minus' = 'minus',\r\n    'equal' = 'equal',\r\n    'num_0' = 'num_0',\r\n    'num_1' = 'num_1',\r\n    'num_2' = 'num_2',\r\n    'num_3' = 'num_3',\r\n    'num_4' = 'num_4',\r\n    'num_5' = 'num_5',\r\n    'num_6' = 'num_6',\r\n    'num_7' = 'num_7',\r\n    'num_8' = 'num_8',\r\n    'num_9' = 'num_9',\r\n    'a' = 'a',\r\n    'b' = 'b',\r\n    'c' = 'c',\r\n    'd' = 'd',\r\n    'e' = 'e',\r\n    'f' = 'f',\r\n    'g' = 'g',\r\n    'h' = 'h',\r\n    'i' = 'i',\r\n    'j' = 'j',\r\n    'k' = 'k',\r\n    'l' = 'l',\r\n    'm' = 'm',\r\n    'n' = 'n',\r\n    'o' = 'o',\r\n    'p' = 'p',\r\n    'q' = 'q',\r\n    'r' = 'r',\r\n    's' = 's',\r\n    't' = 't',\r\n    'u' = 'u',\r\n    'v' = 'v',\r\n    'w' = 'w',\r\n    'x' = 'x',\r\n    'y' = 'y',\r\n    'z' = 'z',\r\n    'F1' = 'F1',\r\n    'F2' = 'F2',\r\n    'F3' = 'F3',\r\n    'F4' = 'F4',\r\n    'F5' = 'F5',\r\n    'F6' = 'F6',\r\n    'F7' = 'F7',\r\n    'F8' = 'F8',\r\n    'F9' = 'F9',\r\n    'F10' = 'F10',\r\n    'F11' = 'F11',\r\n    'F12' = 'F12',\r\n}\r\n\r\nexport const KeyBoardMap = {\r\n    16: 'shift',\r\n    17: 'ctrl',\r\n    18: 'alt',\r\n\r\n    8: 'backspace',\r\n    9: 'tab',\r\n    13: 'enter',\r\n    27: 'esc',\r\n    32: 'space',\r\n    46: 'del',\r\n\r\n    37: 'left',\r\n    38: 'up',\r\n    39: 'right',\r\n    40: 'down',\r\n\r\n    189: 'minus',\r\n    187: 'equal',\r\n\r\n    48: 'num_0',\r\n    49: 'num_1',\r\n    50: 'num_2',\r\n    51: 'num_3',\r\n    52: 'num_4',\r\n    53: 'num_5',\r\n    54: 'num_6',\r\n    55: 'num_7',\r\n    56: 'num_8',\r\n    57: 'num_9',\r\n\r\n    65: 'a',\r\n    66: 'b',\r\n    67: 'c',\r\n    68: 'd',\r\n    69: 'e',\r\n    70: 'f',\r\n    71: 'g',\r\n    72: 'h',\r\n    73: 'i',\r\n    74: 'j',\r\n    75: 'k',\r\n\r\n    76: 'l',\r\n    77: 'm',\r\n    78: 'n',\r\n    79: 'o',\r\n    80: 'p',\r\n    81: 'q',\r\n    82: 'r',\r\n    83: 's',\r\n    84: 't',\r\n    85: 'u',\r\n    86: 'v',\r\n    87: 'w',\r\n    88: 'x',\r\n    89: 'y',\r\n    90: 'z',\r\n\r\n    112: 'F1',\r\n    113: 'F2',\r\n    114: 'F3',\r\n    115: 'F4',\r\n    116: 'F5',\r\n    117: 'F6',\r\n    118: 'F7',\r\n    119: 'F8',\r\n    120: 'F9',\r\n    121: 'F10',\r\n    122: 'F11',\r\n    123: 'F12',\r\n}\r\n\r\nexport function getKey(e: KeyboardEvent): KEY | null {\r\n    // @ts-ignore\r\n    let key = KeyBoardMap[e.keyCode] as KEY\r\n    if (!!KEY[key]) {\r\n        return KEY[key]\r\n    } else {\r\n        /*if (e.keyCode !== 229) {\r\n            console.warn(`Can't recognise key`, e)\r\n        }*/\r\n        return null\r\n    }\r\n}\r\n\r\nexport class KeyboardServiceOption {\r\n    [key: string]: (e?: KeyboardEvent) => (void | undefined | boolean)\r\n}\r\n\r\nexport const KeyboardService = {\r\n    options: [] as KeyboardServiceOption[],\r\n    /*订阅点击事件*/\r\n    listen(option: KeyboardServiceOption) {\r\n        if (!option) return\r\n        this.options.push(option)\r\n    },\r\n    /*取消订阅事件*/\r\n    unbindListener(option: KeyboardServiceOption) {\r\n        let index = this.options.indexOf(option)\r\n        if (index > -1) {\r\n            this.options.splice(index, 1)\r\n        }\r\n    },\r\n    /*取消当前激活的元素*/\r\n    cancelActiveElement() {\r\n        const activeElement = document.activeElement as HTMLElement\r\n        if (!!activeElement) activeElement.blur()\r\n        return activeElement\r\n    },\r\n    /*处理window的点击事件*/\r\n    _onkeydown(e: KeyboardEvent) {\r\n        if (e.currentTarget !== e.target) return\r\n        const names = [] as string[];\r\n        e.ctrlKey && names.push('ctrl')\r\n        e.shiftKey && names.push('shift')\r\n        e.altKey && names.push('alt')\r\n        // @ts-ignore\r\n        names.push(KeyBoardMap[e.keyCode])\r\n        const compositionKeyName = names.join('+')\r\n\r\n        const option = this.options[this.options.length - 1]\r\n        if (!!option && !!option[compositionKeyName]) {\r\n            const flag = option[compositionKeyName](e)\r\n            /*默认阻止事件冒泡*/\r\n            if (flag !== false) {\r\n                e.stopPropagation()\r\n                e.preventDefault()\r\n            }\r\n        }\r\n    },\r\n}\r\n\r\nexport function handleKeyboard(option: { [key in KEY]?: (e: KeyboardEvent) => any }) {\r\n    return (e: KeyboardEvent) => {\r\n        const key = getKey(e)\r\n        if (!!key && !!option[key]) {\r\n            return option[key]!(e)\r\n        }\r\n    }\r\n}\r\n\r\ndocument.body.addEventListener('keydown', e => KeyboardService._onkeydown(e))\r\n\r\nexport default {\r\n    install(app: App) {\r\n        app.config.globalProperties.$keyboard = KeyboardService\r\n    },\r\n}","import Button from '../button'\r\nimport ButtonGroup from '../button-group/button-group'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(ButtonGroup, {plugins: [Button]})","import {computed, onMounted, reactive, watch} from 'vue';\r\nimport './input.scss'\r\nimport {designComponent} from \"../../use/designComponent\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {EditProps, useEdit} from \"../../use/useEdit\";\r\nimport {StyleProps, useStyle} from \"../../use/useStyle\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport {useProps} from \"../../use/useProps\";\r\nimport {useClass} from \"../../use/useClasses\";\r\nimport {StyleProperties} from \"../../shims\";\r\nimport {unit} from 'plain-utils/string/unit';\r\nimport {getKey, KEY} from \"../keyboard\";\r\nimport {throttle} from 'plain-utils/utils/throttle';\r\n\r\nconsole.log('load input component')\r\n\r\nexport default designComponent({\r\n    name: 'pl-input',\r\n    props: {\r\n        ...EditProps,\r\n        ...StyleProps,\r\n\r\n        modelValue: {type: [String, Number]},\r\n        placeValue: {type: [String, Number]},\r\n\r\n        width: {type: [Number, String, Object, Function], default: null,},        // 输入框默认宽度\r\n        minHeight: {type: [Number, String], default: 100},      // 文本域最小高度\r\n        maxHeight: {type: [Number, String], default: 156},      // 文本域最大高度\r\n        block: {type: Boolean},                                 // 块级元素\r\n        textarea: {type: Boolean},                              // 当前是否为文本域输入框\r\n        suffixIcon: {type: [String, Function]},                 // 右侧图标\r\n        prefixIcon: {type: String},                             // 左侧图标\r\n        clearIcon: {type: Boolean},                             // 清除图标\r\n        clearHandler: Function,                         // 点击清除图标处理逻辑\r\n\r\n        autoHeight: {type: Boolean},                            // 自适应高度\r\n        isFocus: {type: Boolean},                               // 当前是否处于激活状态\r\n        inputReadonly: {type: Boolean},                         // 输入框只读\r\n        throttleEnter: {type: [Boolean, Number]},               // enter按键事件节流\r\n        asyncHandler: {type: Function},                         // 异步处理函数，会自动开启关闭loading状态\r\n\r\n        /*---------------------------------------原生属性-------------------------------------------*/\r\n        inputInnerTabindex: {type: Number, default: 0},\r\n        type: {type: String, default: 'text'},\r\n        placeholder: {type: String},\r\n        nativeAttrs: {type: Object, default: () => ({})},\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: any) => true,\r\n        onFocus: (e: FocusEvent) => true,\r\n        onBlur: (e: Event) => true,\r\n        onKeydown: (e: KeyboardEvent) => true,\r\n        onEnter: (e: KeyboardEvent) => true,\r\n        onEsc: (e: KeyboardEvent) => true,\r\n\r\n        onClickInput: (e: MouseEvent) => true,\r\n        onClickPrefixIcon: (e: MouseEvent) => true,\r\n        onClickSuffixIcon: (e: MouseEvent) => true,\r\n        onClickClearIcon: (e: MouseEvent) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const {slots} = useSlots([\r\n            'prepend', 'append', 'hidden'\r\n        ], true)\r\n        const {refs} = useRefs({\r\n            input: HTMLInputElement,\r\n            hiddenInput: HTMLTextAreaElement,\r\n        })\r\n        const {propsState} = useProps(props, {\r\n            width: [useProps.NUMBER, useProps.PROMISE, useProps.FUNCTION],\r\n            minHeight: useProps.NUMBER,\r\n            maxHeight: useProps.NUMBER,\r\n        })\r\n        const {styleComputed} = useStyle({status: undefined})\r\n        const {editComputed, editState} = useEdit()\r\n        const state = reactive({\r\n            autoHeight: null as null | number,\r\n            handlerEnter: null as null | Function,\r\n            handleEnterInner: async (e: KeyboardEvent) => {\r\n                if (editComputed.value.editable) {\r\n                    if (!!props.asyncHandler) {\r\n                        editState.loading = true\r\n                        try {\r\n                            await props.asyncHandler()\r\n                        } catch (e) {\r\n                            console.error(e)\r\n                        } finally {\r\n                            editState.loading = null\r\n                        }\r\n                    } else {\r\n                        emit.onEnter(e)\r\n                    }\r\n                }\r\n            },\r\n        })\r\n        const model = useModel(() => props.modelValue, emit.onUpdateModelValue)\r\n\r\n        /*---------------------------------------handler-------------------------------------------*/\r\n\r\n        const handler = {\r\n            input: (e: Event) => {\r\n                model.value = (e.target as HTMLInputElement).value\r\n            },\r\n            enter: (e: KeyboardEvent) => {\r\n                state.handlerEnter!(e)\r\n            },\r\n            clickPrefixIcon: (e: MouseEvent) => {\r\n                if (!editComputed.value.editable) {\r\n                    return\r\n                }\r\n                e.stopPropagation()\r\n                e.preventDefault()\r\n                emit.onClickPrefixIcon(e)\r\n            },\r\n            clickSuffixIcon: (e: MouseEvent) => {\r\n                if (!editComputed.value.editable) {\r\n                    return\r\n                }\r\n                e.stopPropagation()\r\n                e.preventDefault()\r\n                emit.onClickSuffixIcon(e)\r\n            },\r\n            clickClearIcon: (e: MouseEvent) => {\r\n                if (!editComputed.value.editable) {\r\n                    return\r\n                }\r\n                e.stopPropagation()\r\n                e.preventDefault()\r\n                emit.onClickClearIcon(e)\r\n                if (!!props.clearHandler) {\r\n                    props.clearHandler(e)\r\n                } else {\r\n                    methods.clearValue()\r\n                }\r\n            }\r\n        }\r\n\r\n        /*---------------------------------------computed-------------------------------------------*/\r\n\r\n        const classes = useClass(() => [\r\n            `pl-input-shape-${styleComputed.value.shape}`,\r\n            `pl-input-size-${styleComputed.value.size}`,\r\n            {\r\n                [`pl-input-status-${styleComputed.value.status}`]: !!styleComputed.value.status,\r\n                'pl-input-block': props.block,\r\n                'pl-input-disabled': !!editComputed.value.disabled,\r\n                'pl-input-prefix-padding': !!props.prefixIcon,\r\n                'pl-input-suffix-padding': !!props.suffixIcon || !!props.clearIcon || editComputed.value.loading,\r\n                'pl-input-prefix': !!props.prefixIcon,\r\n                'pl-input-suffix': !!props.suffixIcon || editComputed.value.loading,\r\n                'pl-input-clear': !!props.clearIcon,\r\n                'pl-input-empty': !model.value && !props.placeValue,\r\n                'pl-input-focus': props.isFocus,\r\n                'pl-input-not-editable': !editComputed.value.editable,\r\n            }\r\n        ])\r\n\r\n        const styles = computed(() => {\r\n            const styles: StyleProperties = {}\r\n            /*没有前置以及后置插槽以及非块级元素的情况下，设置宽度*/\r\n            if (propsState.width !== null && !props.block) {\r\n                styles.width = unit(propsState.width)\r\n            }\r\n            /*textarea自动高度的时候，取最大高度最小高度以及滚动高度*/\r\n            if (!!props.textarea) {\r\n                if (!props.autoHeight || state.autoHeight == null) {\r\n                    styles.height = unit(state.autoHeight)\r\n                } else {\r\n                    if (propsState.maxHeight != null && state.autoHeight > propsState.maxHeight) {\r\n                        styles.height = unit(propsState.maxHeight)\r\n                    } else if (state.autoHeight < propsState.minHeight) {\r\n                        styles.height = unit(propsState.minHeight)\r\n                    } else {\r\n                        styles.height = unit(state.autoHeight)\r\n                    }\r\n                }\r\n            }\r\n            return styles\r\n        })\r\n\r\n        const publicProps = computed(() => ({\r\n            style: styles.value,\r\n            disabled: editComputed.value.disabled,\r\n            readonly: props.inputReadonly || editComputed.value.readonly || editComputed.value.loading,\r\n            value: model.value,\r\n            placeholder: props.placeholder,\r\n            ...(props.nativeAttrs || {}),\r\n\r\n            // 发现一个非常奇怪的现象，div.pl-input-inner 里面的input、派发的input事件，居然也能够在 div.pl-input-inner这个div节点上监听到。神奇\r\n            ...(!slots.default.isExist() ? {\r\n                onInput: (e: Event) => {\r\n                    /*ie 下不知道为什么页面初始化的之后这里默认就执行了一次，这里判断绕过这个问题*/\r\n                    if (e.target === document.activeElement) {\r\n                        handler.input(e)\r\n                    }\r\n                },\r\n            } : {}),\r\n\r\n            onClick: emit.onClickInput,\r\n            onFocus: emit.onFocus,\r\n            onBlur: emit.onBlur,\r\n            onKeydown: (e: KeyboardEvent) => {\r\n                emit.onKeydown(e)\r\n                switch (getKey(e)) {\r\n                    case KEY.enter:\r\n                        return handler.enter(e)\r\n                    case KEY.esc:\r\n                        return emit.onEsc(e)\r\n                }\r\n            },\r\n            ref: \"input\",\r\n        } as any))\r\n\r\n        /*---------------------------------------methods-------------------------------------------*/\r\n\r\n        const methods = {\r\n            clearValue: () => {\r\n                model.value = undefined\r\n            },\r\n            focus: () => {\r\n                if (!!refs.input && !!refs.input.focus) {\r\n                    refs.input.focus()\r\n                }\r\n            },\r\n            blur: () => {\r\n                if (!!refs.input && !!refs.input.blur) {\r\n                    refs.input.blur()\r\n                }\r\n            },\r\n            /*重置文本域高度*/\r\n            resetTextAreaHeight: throttle(() => {\r\n                if (!!props.autoHeight && !!props.textarea) {\r\n                    setTimeout(() => state.autoHeight = refs.hiddenInput!.scrollHeight + 12, 0)\r\n                }\r\n            }, 300),\r\n        }\r\n\r\n        /*---------------------------------------watcher-------------------------------------------*/\r\n\r\n        watch(() => model.value, () => {\r\n            methods.resetTextAreaHeight()\r\n        })\r\n        watch(() => props.throttleEnter, (val) => {\r\n            if (!val) {\r\n                state.handlerEnter = state.handleEnterInner\r\n            }\r\n            if (val === true) {\r\n                val = 1000\r\n            }\r\n            state.handlerEnter = throttle(state.handleEnterInner, val as number, {trailing: true})\r\n        }, {immediate: true})\r\n\r\n        onMounted(() => {\r\n            if (props.textarea) {\r\n                methods.resetTextAreaHeight()\r\n            }\r\n        })\r\n\r\n        return {\r\n            refer: {\r\n                refs,\r\n                state,\r\n                propsState,\r\n                methods,\r\n                model,\r\n            },\r\n            render: () => {\r\n\r\n                if (props.textarea) {\r\n                    /*渲染文本域*/\r\n                    return (\r\n                        <div class={['pl-textarea', classes.value]}>\r\n                            <textarea class=\"pl-textarea-inner\" {...publicProps.value}/>\r\n                            <textarea class=\"pl-textarea-inner pl-textarea-hidden\" ref=\"hiddenInput\" value={model.value}/>\r\n                        </div>\r\n                    )\r\n                } else {\r\n                    /*普通输入框*/\r\n                    const input = (\r\n                        <div class={['pl-input', classes.value]}>\r\n                            {!!props.prefixIcon && <span class=\"pl-input-prefix-icon\" onClick={handler.clickPrefixIcon}><pl-icon icon={props.prefixIcon}/></span>}\r\n\r\n                            {slots.default.isExist() ?\r\n                                <div tabIndex={props.inputInnerTabindex} class=\"pl-input-inner\" {...publicProps.value}>\r\n                                    {slots.default()}\r\n                                </div>\r\n                                :\r\n                                <input class=\"pl-input-inner\" {...publicProps.value}/>}\r\n\r\n                            {!!props.suffixIcon && <span class=\"pl-input-suffix-icon\">\r\n                                {typeof props.suffixIcon === 'function' ? (props.suffixIcon as any)() : <pl-icon onMousedown={handler.clickSuffixIcon} icon={props.suffixIcon}/>}\r\n                            </span>}\r\n                            {!!props.clearIcon && (<span class=\"pl-input-suffix-icon pl-input-clear-icon\"><pl-icon onMousedown={handler.clickClearIcon} icon=\"el-icon-error\"/></span>)}\r\n                            {!!editComputed.value.loading && <pl-loading class=\"pl-input-suffix-icon\"/>}\r\n                            {slots.hidden.isExist() && <div class=\"pl-input-inner-hidden\">{slots.hidden()}</div>}\r\n                        </div>\r\n                    )\r\n\r\n                    if (!slots.prepend.isExist() && !slots.append.isExist()) {\r\n                        return input\r\n                    } else {\r\n                        /*输入框组*/\r\n                        return (\r\n                            <div class=\"pl-input-group\">\r\n                                {slots.prepend.isExist() && <div class=\"pl-input-prepend\">{slots.prepend()}</div>}\r\n                                {input}\r\n                                {slots.append.isExist() && <div class=\"pl-input-append\">{slots.append()}</div>}\r\n                            </div>\r\n                        )\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {useScopedSlots} from \"../../use/useScopedSlots\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-input-inner-tags',\r\n    props: {\r\n        data: {type: Array},\r\n        collapseTags: {type: Boolean, default: true},\r\n    },\r\n    setup({props}) {\r\n        const {scopedSlots} = useScopedSlots({\r\n            default: {item: Object, index: Number},\r\n        })\r\n        return {\r\n            render: () => (\r\n                <div class=\"pl-input-inner-tags\">\r\n                    <span class=\"pl-input-inner-tag-item pl-input-inner-tag-item-takeover\">&nbsp;</span>\r\n                    {\r\n                        (props.collapseTags ? props.data!.slice(0, 3) : props.data!).map((item: any, index) => (\r\n                            <span key={index} class=\"pl-input-inner-tag-item\">\r\n                            {scopedSlots.default({item, index}, null)}\r\n                        </span>\r\n                        ))\r\n                    }\r\n                    {props.collapseTags && props.data!.length > 3 && <span class=\"pl-input-inner-tag-item\">+{props.data!.length - 3}</span>}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import Input from \"./input\";\r\nimport Icon from '../icon'\r\nimport InputInnerTags from './input-inner-tags'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(\r\n    Input,\r\n    {\r\n        plugins: [Icon],\r\n        exposeComponents: {InputInnerTags}\r\n    },\r\n)","import {PlainLoading} from 'plain-loading/src/index'\r\nimport {designComponent} from \"../../use/designComponent\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport {computed, nextTick, watch} from 'vue';\r\nimport './loading.scss'\r\nimport {delay} from \"plain-utils/utils/delay\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-loading',\r\n    props: {\r\n        type: {type: String, default: 'alpha'},\r\n        status: {type: String, default: null},\r\n    },\r\n    setup({props}) {\r\n\r\n        const {refs} = useRefs({\r\n            el: HTMLElement,\r\n        })\r\n\r\n        const classes = computed(() => [\r\n            'pl-loading',\r\n            !!props.status ? `pl-loading-status-${props.status}` : null,\r\n        ])\r\n\r\n        watch(() => props.type, async val => {\r\n            if (!val) {\r\n                return refs.el.innerHTML = ''\r\n            }\r\n            await delay(23)\r\n            if (!(PlainLoading as any)[val]) {\r\n                throw new Error(`pl-loading: un recognise type:${val}`)\r\n            }\r\n            !!refs.el && (refs.el.innerHTML = (PlainLoading as any)[val]().outerHTML)\r\n        }, {immediate: true})\r\n\r\n        return {\r\n            render: () => {\r\n                return <i class={classes.value} ref=\"el\"/>\r\n            }\r\n        }\r\n    },\r\n})","import Loading from './loading'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(Loading)","import './loading-mask.scss'\r\nimport {designComponent} from \"../../use/designComponent\";\r\nimport {nextIndex} from \"../../utils/nextIndex\";\r\nimport {computed, nextTick, reactive, watch, Transition, onMounted} from 'vue';\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-loading-mask',\r\n    props: {\r\n        modelValue: {type: Boolean},                                    // 是否打开loading遮罩\r\n        message: {type: String},                                        // 提示信息\r\n        loadingType: {type: String, default: 'delta'},                  // loading类型\r\n        background: {type: String, default: 'rgba(255,255,255,0.85)'},  // 遮罩背景色\r\n        unlock: {type: Boolean},                                        // 取消阻止点击事件\r\n        fixedPosition: {type: Boolean},                                 // 是否为根节点的加载遮罩\r\n        inDirective: {type: Boolean},                                   // 是否为遮罩指令服务的实例\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: boolean | undefined) => true,\r\n    },\r\n    setup({props, event}) {\r\n\r\n        const {refs} = useRefs({\r\n            el: HTMLElement\r\n        })\r\n\r\n        const modelValue = useModel(() => props.modelValue, event.emit.onUpdateModelValue)\r\n\r\n        const state = reactive({\r\n            isMounted: false,\r\n            zIndex: nextIndex() + (!props.fixedPosition ? -1500 : 0) + 1,\r\n        })\r\n\r\n        const classes = computed(() => [\r\n            'pl-loading-mask',\r\n            {\r\n                'pl-loading-mask-unlock': props.unlock,\r\n                'pl-loading-mask-fixed-position': props.fixedPosition\r\n            }\r\n        ])\r\n\r\n        const styles = useStyles(style => {\r\n            style.background = props.background\r\n            style.zIndex = state.zIndex\r\n        })\r\n\r\n        const utils = {\r\n            /**\r\n             * 检查父节点的position是否为 absolute，relative或者fixed，不是的话，设置为 relative\r\n             * @author  韦胜健\r\n             * @date    2020/11/3 16:42\r\n             */\r\n            resetParentPosition: async () => {\r\n                if (props.fixedPosition) {\r\n                    return\r\n                }\r\n                await nextTick()\r\n                const el = refs.el\r\n                if (el) {\r\n                    let parentNode = el.parentNode as HTMLElement\r\n                    if (props.inDirective) {\r\n                        parentNode = parentNode.parentNode as HTMLElement\r\n                    }\r\n                    if (!!parentNode) {\r\n                        const styles = window.getComputedStyle(parentNode)\r\n                        const position = styles.position\r\n                        if (['absolute', 'relative', 'fixed'].indexOf(position) === -1) {\r\n                            parentNode.style.position = 'relative'\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        watch(() => modelValue.value && state.isMounted, async val => {\r\n            !!val && (state.zIndex = nextIndex() + (!props.fixedPosition ? -1500 : 0) + 1);\r\n            await utils.resetParentPosition()\r\n        })\r\n\r\n        onMounted(() => {\r\n            utils.resetParentPosition()\r\n            setTimeout(() => {\r\n                state.isMounted = true\r\n            }, 23)\r\n        })\r\n\r\n        return {\r\n            render: () => (\r\n                <Transition name=\"pl-transition-loading-mask\">\r\n                    {!!modelValue.value && state.isMounted && (\r\n                        <div style={styles.value} class={classes.value} ref=\"el\">\r\n                            <pl-loading type={props.loadingType}/>\r\n                            {!!props.message && <span>{props.message}</span>}\r\n                        </div>\r\n                    )}\r\n                </Transition>\r\n            )\r\n        }\r\n    },\r\n})","import Loading from '../loading'\r\nimport LoadingMask from './loading-mask'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(LoadingMask, {\r\n    plugins: [\r\n        Loading,\r\n    ]\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {useClass} from \"../../use/useClasses\";\r\nimport './checkbox-inner.scss'\r\nimport {CheckboxStatus} from \"../../utils/constant\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-checkbox-inner',\r\n    props: {\r\n        disabled: {type: Boolean},\r\n        checkStatus: {type: String},\r\n    },\r\n    setup({props}) {\r\n\r\n        const classes = useClass(() => [\r\n            'pl-checkbox-inner',\r\n            `pl-checkbox-inner-status-${props.checkStatus}`,\r\n            {\r\n                'pl-checkbox-inner-disabled': props.disabled,\r\n            }\r\n        ])\r\n\r\n        return {\r\n            render: () => (\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\" class={classes.value}>\r\n                    {props.checkStatus === CheckboxStatus.check && <polyline points=\"22,50 45,75 75,25\" class=\"pl-checkbox-inner-check-polyline\"/>}\r\n                    {props.checkStatus === CheckboxStatus.minus && <rect x=\"15\" y=\"15\" width=\"70\" height=\"70\" class=\"pl-checkbox-inner-minus-polyline\"/>}\r\n                </svg>\r\n            )\r\n        }\r\n    },\r\n})","import inner from './checkbox-inner'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(inner)","import {designComponent} from \"../../use/designComponent\";\r\nimport {EditProps, useEdit} from '../../use/useEdit';\r\nimport {StyleProps, useStyle} from '../../use/useStyle';\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {useProps} from \"../../use/useProps\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {useCollect} from \"../../use/useCollect\";\r\nimport Checkbox from '../checkbox/checkbox'\r\nimport {CheckboxStatus, DEFAULT_STATUS} from \"../../utils/constant\";\r\nimport {computed, inject, PropType} from 'vue';\r\nimport {$$notice} from \"../notice-service\";\r\n\r\nconst CheckboxGroup = designComponent({\r\n    name: 'pl-checkbox-group',\r\n    props: {\r\n        ...EditProps,\r\n        ...StyleProps,\r\n\r\n        modelValue: {type: Array as PropType<(string | number)[]>},\r\n\r\n        min: {type: Number},                                        // 最大勾选个数\r\n        max: {type: Number},                                        // 最小勾选个数\r\n        itemWidth: {type: [String, Number]},                        // 文本宽度\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: (string | number)[] | undefined) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const formItem = inject('@@pl-form-item', null)\r\n\r\n        /*插槽*/\r\n        const {slots} = useSlots()\r\n        /*可编辑控制*/\r\n        const {editComputed} = useEdit()\r\n        /*样式控制*/\r\n        useStyle({status: DEFAULT_STATUS})\r\n        /*格式化属性*/\r\n        const {propsState} = useProps(props, {\r\n            min: useProps.NUMBER,\r\n            max: useProps.NUMBER,\r\n            itemWidth: useProps.NUMBER,\r\n        })\r\n        /*绑定值*/\r\n        const modelValue = useModel(() => props.modelValue, emit.onUpdateModelValue)\r\n        /*子组件Checkbox*/\r\n        const children = CheckboxGroupCollector.parent()\r\n        /*可用子组件*/\r\n        const activeChildren = computed(() => children.filter(({innerState: {props: {checkboxForAll, customReadonly}}}) => !checkboxForAll && !customReadonly))\r\n\r\n        /*可用子组件keys*/\r\n        const allKeys = computed((() => activeChildren.value.map(({innerState: {props: {val}}}) => val)))\r\n\r\n        /*当前选择状态*/\r\n        const checkStatus = computed(() => {\r\n            let hasCheck = false\r\n            let hasUncheck = false\r\n            if (!modelValue.value) {\r\n                return CheckboxStatus.uncheck\r\n            }\r\n            activeChildren\r\n                .value\r\n                .forEach(child => modelValue.value!\r\n                    .indexOf(child.innerState.props.val!) > -1 ? hasCheck = true : hasUncheck = true)\r\n\r\n            if (hasCheck && !hasUncheck) {\r\n                return CheckboxStatus.check\r\n            }\r\n            if (!hasCheck && hasUncheck) {\r\n                return CheckboxStatus.uncheck\r\n            }\r\n            return CheckboxStatus.minus\r\n        })\r\n\r\n        const utils = {\r\n            /**\r\n             * 子组件用来获取状态工具函数\r\n             * @author  韦胜健\r\n             * @date    2020/11/4 11:26\r\n             */\r\n            getCheckStatus: (checkbox: typeof Checkbox.use.class): CheckboxStatus => {\r\n                const {innerState: {props: {checkboxForAll, val}}} = checkbox\r\n                if (checkboxForAll) {\r\n                    return checkStatus.value\r\n                } else {\r\n                    return !!modelValue.value && modelValue.value.indexOf(val!) > -1 ? CheckboxStatus.check : CheckboxStatus.uncheck\r\n                }\r\n            },\r\n            exceed: {\r\n                /**\r\n                 * 是否已经超出了max\r\n                 * @author  韦胜健\r\n                 * @date    2020/11/4 11:26\r\n                 */\r\n                max: (val: (string | number)[] | undefined) => {\r\n                    if (propsState.max == null) {\r\n                        return false\r\n                    }\r\n                    return !!val && val.length > propsState.max\r\n                },\r\n                /**\r\n                 * 是否已经超出了min\r\n                 * @author  韦胜健\r\n                 * @date    2020/11/4 11:26\r\n                 */\r\n                min: (val: (string | number)[] | undefined) => {\r\n                    if (propsState.min == null) {\r\n                        return false\r\n                    }\r\n                    return !val || val.length < propsState.min\r\n                }\r\n            },\r\n            changeValue: {\r\n                /**\r\n                 * 添加选项赋值\r\n                 * @author  韦胜健\r\n                 * @date    2020/11/4 11:26\r\n                 */\r\n                add: (val: (string | number)[]) => {\r\n                    if (utils.exceed.max(val)) {\r\n                        $$notice.warn(`最多可选 ${propsState.max} 个选项！`)\r\n                    } else {\r\n                        modelValue.value = val\r\n                    }\r\n                },\r\n                /**\r\n                 * 删除选项赋值\r\n                 * @author  韦胜健\r\n                 * @date    2020/11/4 11:26\r\n                 */\r\n                delete: (val: (string | number)[]) => {\r\n                    if (utils.exceed.min(val)) {\r\n                        $$notice.warn(`最少选择 ${propsState.min} 个选项！`)\r\n                    } else {\r\n                        modelValue.value = val\r\n                    }\r\n                }\r\n            },\r\n        }\r\n\r\n        const handler = {\r\n            /**\r\n             * 处理点击按钮事件\r\n             * @author  韦胜健\r\n             * @date    2020/11/4 11:27\r\n             */\r\n            clickCheckbox: (checkbox: typeof Checkbox.use.class) => {\r\n                if (!editComputed.value.editable) {\r\n                    return\r\n                }\r\n                const {innerState: {props: {val, checkboxForAll}}} = checkbox\r\n\r\n                /*全选按钮*/\r\n                if (checkboxForAll) {\r\n                    if (checkStatus.value !== CheckboxStatus.check) {\r\n                        /*全选*/\r\n                        utils.changeValue.add([...allKeys.value as string[]])\r\n                    } else {\r\n                        /*取消全选*/\r\n                        utils.changeValue.delete([])\r\n                    }\r\n                    return\r\n                }\r\n\r\n                /*单个按钮*/\r\n                if (!val) {\r\n                    throw new Error('Checkbox: val is necessary when Checkbox in CheckboxGroup')\r\n                }\r\n                if (!modelValue.value) {\r\n                    return utils.changeValue.add([val])\r\n                }\r\n                const value = [...modelValue.value]\r\n                const index = value.indexOf(val)\r\n                if (index > -1) {\r\n                    /*删除*/\r\n                    value.splice(index, 1)\r\n                    utils.changeValue.delete(value)\r\n                } else {\r\n                    /*添加*/\r\n                    utils.changeValue.add([...value, val])\r\n                }\r\n            }\r\n        }\r\n\r\n        return {\r\n            refer: {\r\n                utils,\r\n                handler,\r\n                propsState,\r\n            },\r\n            render: () => !formItem ? slots.default() : (\r\n                <div class=\"pl-checkbox-group\">\r\n                    {slots.default()}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})\r\n\r\nexport const CheckboxGroupCollector = useCollect(() => ({\r\n    parent: CheckboxGroup,\r\n    child: Checkbox,\r\n}))\r\n\r\nexport default CheckboxGroup","import {designComponent} from \"../../use/designComponent\";\r\nimport {EditProps, useEdit} from \"../../use/useEdit\";\r\nimport {StyleProps, useStyle} from \"../../use/useStyle\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {useProps} from \"../../use/useProps\";\r\nimport {useScopedSlots} from \"../../use/useScopedSlots\";\r\nimport {useClass} from \"../../use/useClasses\";\r\nimport {computed, Transition} from 'vue';\r\nimport {CheckboxStatus, DEFAULT_STATUS} from \"../../utils/constant\";\r\nimport {ClickWave} from \"../click-wave/click-wave-directive\";\r\nimport {CheckboxGroupCollector} from \"../checkbox-group/checkbox-group\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {unit} from 'plain-utils/string/unit';\r\nimport {useStyles} from \"../../use/useStyles\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-checkbox',\r\n    directives: {ClickWave},\r\n    props: {\r\n        ...EditProps,\r\n        ...StyleProps,\r\n\r\n        modelValue: {},\r\n        val: {type: [String, Number]},                              // 多选时选中值\r\n        label: {type: String},                                      // 显示文本\r\n        width: {type: [String, Number]},                            // 宽度\r\n        trueValue: {default: true},                                 // 选中实际值\r\n        falseValue: {default: false},                               // 非选中值\r\n\r\n        checkboxForAll: {type: Boolean},                            // 是否为 checkbox 全选按钮\r\n        checkStatus: {type: String},                                // checkbox 自定义状态\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: any) => true,\r\n        onClick: (e?: MouseEvent) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        /*group父组件*/\r\n        const checkboxGroup = CheckboxGroupCollector.child({injectDefaultValue: null})\r\n        /*绑定值*/\r\n        const modelValue = useModel(() => props.modelValue, emit.onUpdateModelValue)\r\n        /*格式化属性值*/\r\n        const {propsState} = useProps(props, {\r\n            label: useProps.PROMISE,\r\n            width: useProps.NUMBER,\r\n        })\r\n        /*插槽*/\r\n        const {slots} = useSlots(['label'])\r\n        /*作用域插槽*/\r\n        const {scopedSlots} = useScopedSlots({\r\n            default: {checked: Boolean, status: String, click: Function},\r\n        })\r\n        /*可编辑控制*/\r\n        const {editComputed} = useEdit()\r\n        /*样式控制*/\r\n        const {styleComputed} = useStyle({status: DEFAULT_STATUS})\r\n        /*当前组件内部变量引用*/\r\n        const refer = {innerState: {props, editComputed}}\r\n        /*当前选中状态*/\r\n        const checkStatus = computed((): CheckboxStatus => {\r\n            if (!!props.checkStatus) {\r\n                return props.checkStatus as CheckboxStatus\r\n            }\r\n            if (!!checkboxGroup) {\r\n                return checkboxGroup.utils.getCheckStatus(refer)\r\n            } else {\r\n                return modelValue.value === props.trueValue ? CheckboxStatus.check : CheckboxStatus.uncheck\r\n            }\r\n        })\r\n\r\n        const classes = useClass(() => [\r\n            'pl-checkbox',\r\n            `pl-checkbox-status-${styleComputed.value.status}`,\r\n            `pl-checkbox-size-${styleComputed.value.size}`,\r\n            `pl-checkbox-check-status-${checkStatus.value}`,\r\n            {'pl-checkbox-disabled': editComputed.value.disabled},\r\n        ])\r\n\r\n        /*当前选项宽度*/\r\n        const targetWidth = computed(() => {\r\n            if (!!propsState.width) return propsState.width\r\n            if (!!checkboxGroup && !!checkboxGroup.propsState.itemWidth) return checkboxGroup.propsState.itemWidth\r\n            return null\r\n        })\r\n\r\n        const styles = useStyles(style => {\r\n            style.width = unit(targetWidth.value)\r\n        })\r\n\r\n        const handler = {\r\n            clickEl: (e?: MouseEvent) => {\r\n                if (!!e) {\r\n                    e.stopPropagation()\r\n                }\r\n                emit.onClick(e)\r\n                if (!editComputed.value.editable || props.customReadonly) {\r\n                    return\r\n                }\r\n                if (!!checkboxGroup) {\r\n                    return checkboxGroup.handler.clickCheckbox(refer)\r\n                }\r\n                modelValue.value = checkStatus.value === CheckboxStatus.check ? props.falseValue : props.trueValue\r\n\r\n                if (!!e) {\r\n                    e.stopPropagation()\r\n                    e.preventDefault()\r\n                }\r\n            }\r\n        }\r\n\r\n        return {\r\n            refer,\r\n            render: () => scopedSlots.default(\r\n                {\r\n                    checked: checkStatus.value === CheckboxStatus.check,\r\n                    status: checkStatus.value,\r\n                    click: handler.clickEl,\r\n                },\r\n                (\r\n                    <div class={classes.value}\r\n                         style={styles.value}\r\n                         onClick={handler.clickEl}\r\n                         v-click-wave={{disabled: !editComputed.value.editable}}>\r\n                        <span class=\"plain-click-node\">\r\n                            <Transition name=\"pl-transition-scale\" mode=\"out-in\">\r\n                                <pl-checkbox-inner\r\n                                    checkStatus={checkStatus.value}\r\n                                    key={checkStatus.value}\r\n                                    disabled={editComputed.value.disabled}/>\r\n                            </Transition>\r\n                        </span>\r\n                        {slots.label(!!propsState.label ? <span class=\"pl-checkbox-label\">{propsState.label}</span> : null)}\r\n                    </div>\r\n                ))\r\n        }\r\n    },\r\n})","import inner from '../checkbox-inner'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\nimport checkbox from './checkbox'\r\nimport './checkbox.scss'\r\n\r\nexport default createComponentPlugin(checkbox, {\r\n    plugins: [inner]\r\n})","import checkbox from '../checkbox'\r\nimport group from './checkbox-group'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(group, {plugins: [checkbox]})","import {designComponent} from \"../../use/designComponent\";\r\nimport {MessageServiceFormatOption} from \"./index\";\r\nimport {useClass} from \"../../use/useClasses\";\r\nimport {nextIndex} from \"../../utils/nextIndex\";\r\nimport {PropType} from 'vue';\r\nimport Icon from '../icon'\r\nimport {createEventListener} from \"../../utils/createEventListener\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-message',\r\n    props: {\r\n        option: {type: Object as PropType<MessageServiceFormatOption>, required: true}\r\n    },\r\n    emits: {\r\n        onClose: () => true\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const classes = useClass(() => [\r\n            'pl-message',\r\n            `pl-message-status-${props.option.status}`\r\n        ])\r\n        const styles = {zIndex: nextIndex()}\r\n\r\n        const close = () => {\r\n            emit.onClose()\r\n            !!props.option.onClose && props.option.onClose()\r\n        }\r\n\r\n        props.option.close = close\r\n\r\n        const handler = {\r\n            onClick: (e: MouseEvent) => {\r\n                !!props.option.onClick && props.option.onClick(e)\r\n            },\r\n            onClickCloseIcon: (e: MouseEvent) => {\r\n                close()\r\n            },\r\n            onMouseenter: () => {\r\n                if (!!closeTimer) {\r\n                    clearTimeout(closeTimer)\r\n                }\r\n            },\r\n            onMouseleave: () => {\r\n                !!props.option.time && (closeTimer = setTimeout(close, props.option.time))\r\n            }\r\n        }\r\n\r\n        let closeTimer: number | null = null\r\n        !!props.option.time && (closeTimer = setTimeout(close, props.option.time))\r\n\r\n        return {\r\n            render: () => (\r\n                <div class={classes.value}\r\n                     style={styles}\r\n                     onMouseenter={handler.onMouseenter}\r\n                     onMouseleave={handler.onMouseleave}\r\n                     onClick={handler.onClick}>\r\n                    {!!props.option.icon && <pl-icon icon={props.option.icon}/>}\r\n                    <div class=\"pl-message-content\">{!!props.option.render ? props.option.render() : props.option.message}</div>\r\n                    <Icon icon=\"el-icon-close\" class=\"pl-message-close\" {...createEventListener({onClick: handler.onClickCloseIcon})}/>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n    ,\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {useClass} from \"../../use/useClasses\";\r\nimport {MessageServiceFormatOption} from \"./index\";\r\nimport {useRefList} from \"../../use/useRefList\";\r\nimport {nextTick, reactive} from 'vue';\r\nimport Message from \"./message\";\r\nimport List from '../list'\r\nimport Item from '../item'\r\n\r\nexport default designComponent({\r\n    name: 'pl-message-container',\r\n    props: {\r\n        horizontal: {type: String, required: true},\r\n        vertical: {type: String, required: true},\r\n        duration: {type: String, default: \"30px\"},\r\n    },\r\n    setup({props}) {\r\n        const classes = useClass(() => [\r\n            'pl-message-container',\r\n            `pl-message-container-${props.horizontal}-${props.vertical}`\r\n        ])\r\n        const state = reactive({\r\n            options: [] as MessageServiceFormatOption[]\r\n        })\r\n        const refs = useRefList<{ option: MessageServiceFormatOption }>()\r\n        const styles = {padding: props.duration}\r\n\r\n        const utils = {\r\n            closeMessage: (i: number) => {\r\n                state.options.splice(i, 1)\r\n            }\r\n        }\r\n\r\n        return {\r\n            refer: {\r\n                props,\r\n                getMessage: async (option: MessageServiceFormatOption) => {\r\n                    state.options.push(option)\r\n                    await nextTick()\r\n                    const messages = refs.filter(Boolean)\r\n                    for (let i = 0; i < messages.length; i++) {\r\n                        const message = messages[i];\r\n                        if (message.option === option) {\r\n                            return message\r\n                        }\r\n                    }\r\n                    return null\r\n                },\r\n            },\r\n            render: () => (\r\n                <div class={classes.value} style={styles}>\r\n                    <List direction=\"top\">\r\n                        <Item key=\"placeholder\"/>\r\n                        {state.options.map((option, index) =>\r\n                            <Item key={option.id}>\r\n                                <Message option={option}\r\n                                         ref={(proxy: any) => refs[index] = proxy}\r\n                                         {...{onClose: () => utils.closeMessage(index)}}\r\n                                />\r\n                            </Item>\r\n                        )}\r\n                    </List>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {App} from \"vue\";\r\nimport {RequireFormat, VNodeChild} from \"../../shims\";\r\nimport {registryRootService} from \"../root/registryRootService\";\r\nimport ManagerComponent from './message-manager'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\nimport './message.scss'\r\nimport Icon from '../icon'\r\nimport List from '../list'\r\nimport Item from '../item'\r\nimport {getServiceWithoutContext} from \"../../utils/getServiceWithoutContext\";\r\n\r\n/**\r\n * 消息位置\r\n * @author  韦胜健\r\n * @date    2020/11/7 18:20\r\n */\r\nexport enum MessageServiceDirection {\r\n    start = 'start',\r\n    center = 'center',\r\n    end = 'end',\r\n}\r\n\r\n/**\r\n * 消息状态\r\n * @author  韦胜健\r\n * @date    2020/11/7 18:20\r\n */\r\nexport type MessageServiceStatus = \"lite\" | \"dark\" | \"primary\" | \"success\" | \"warn\" | \"error\" | \"info\"\r\n\r\n/**\r\n * 消息配置对象类型\r\n * @author  韦胜健\r\n * @date    2020/11/7 18:20\r\n */\r\nexport interface MessageServiceOption {\r\n    message?: string,                                                                               // 消息文本\r\n\r\n    horizontal?: MessageServiceDirection,                                                           // 横向位置\r\n    vertical?: MessageServiceDirection,                                                             // 纵向位置\r\n    time?: number | null,                                                                           // 显示的时间\r\n    status?: MessageServiceStatus,                                                                  // 消息状态\r\n    render?: () => VNodeChild,                                                                      // 自定义内容渲染函数\r\n    icon?: string | null,                                                                           // 显示的图标\r\n    onClick?: (e: MouseEvent) => void,                                                              // 自定义点击处理动作\r\n    onClose?: () => void,                                                                           // 处理消息关闭之后的动作\r\n}\r\n\r\n/**\r\n * 消息配置对象类型格式化后的类型\r\n * @author  韦胜健\r\n * @date    2020/11/7 18:20\r\n */\r\nexport type MessageServiceFormatOption = RequireFormat<MessageServiceOption, 'horizontal' | 'vertical' | 'time' | 'status'> & {\r\n    id: string,\r\n    close: () => void,\r\n}\r\n\r\n/**\r\n * 格式化消息配置参数\r\n * @author  韦胜健\r\n * @date    2020/11/7 18:21\r\n */\r\nconst formatOption = (() => {\r\n    let idCount = 0\r\n    return (option: MessageServiceOption): MessageServiceFormatOption => {\r\n        return Object.assign(option as MessageServiceFormatOption, {\r\n            id: `message_${idCount++}`,\r\n            close: () => null,\r\n            horizontal: option.horizontal || MessageServiceDirection.center,\r\n            vertical: option.vertical || MessageServiceDirection.start,\r\n            time: option.time === null ? null : (option.time || 3 * 1000),\r\n            status: option.status || 'dark'\r\n        })\r\n    }\r\n})()\r\n\r\n/**\r\n * 消息服务函数类型\r\n * @author  韦胜健\r\n * @date    2020/11/7 18:21\r\n */\r\ninterface MessageServiceFunction {\r\n    (message: string | MessageServiceOption, option?: MessageServiceOption): void\r\n}\r\n\r\n/**\r\n * 消息服务对象类型\r\n * @author  韦胜健\r\n * @date    2020/11/7 18:21\r\n */\r\nexport type MessageService = MessageServiceFunction & {\r\n    [k in MessageServiceStatus]: MessageServiceFunction\r\n}\r\n\r\n/**\r\n * 通过应用实例获取消息服务对象函数\r\n * @author  韦胜健\r\n * @date    2020/11/7 18:22\r\n */\r\nconst getMessageService = registryRootService(\r\n    'message',\r\n    ManagerComponent,\r\n    (getManager) => {\r\n        const service: MessageServiceFunction = (message: string | MessageServiceOption, option?: MessageServiceOption) => {\r\n            let o = typeof message === \"object\" ? message : {message}\r\n            if (!!option) {\r\n                Object.assign(o, option)\r\n            }\r\n            const fo = formatOption(o)\r\n            fo.horizontal.charAt(0)\r\n            getManager().then(manager => manager.getContainer(fo).then(container => container.getMessage(fo)))\r\n            return fo\r\n        };\r\n\r\n        return Object.assign(service, [\r\n            'lite',\r\n            'dark',\r\n            'primary',\r\n            'success',\r\n            'warn',\r\n            'error',\r\n            'info',\r\n        ].reduce((prev: any, status: any) => {\r\n            prev[status] = function (message: string | MessageServiceOption, option?: MessageServiceOption) {\r\n                const o = typeof message === \"object\" ? message : {message}\r\n                if (!!option) {\r\n                    Object.assign(o, option)\r\n                }\r\n                o.status = status\r\n                return service(o)\r\n            }\r\n            return prev\r\n        }, {})) as MessageService\r\n    }\r\n)\r\n\r\nexport const $$message = getServiceWithoutContext(getMessageService)\r\n\r\nexport default createComponentPlugin({\r\n    ...ManagerComponent,\r\n    getMessageService,\r\n}, {\r\n    plugins: [\r\n        Icon, List, Item,\r\n        {\r\n            install: (app: App) => {\r\n                app.mixin({\r\n                    beforeCreate() {\r\n                        /*第一次调用 $message 的时候才调用 getMessageService*/\r\n                        Object.defineProperty(this, '$message', {\r\n                            get() {\r\n                                return getMessageService(this)\r\n                            },\r\n                        })\r\n                    },\r\n                })\r\n            }\r\n        }\r\n    ]\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {nextTick, reactive} from 'vue';\r\nimport {MessageServiceDirection} from \"./index\";\r\nimport {useRefList} from \"../../use/useRefList\";\r\nimport Container from './message-container'\r\n\r\nexport default designComponent({\r\n    name: 'pl-message-manager',\r\n    setup() {\r\n\r\n        const state = reactive({\r\n            containers: [\r\n                {\r\n                    horizontal: MessageServiceDirection.center,\r\n                    vertical: MessageServiceDirection.start,\r\n                }] as { horizontal: MessageServiceDirection, vertical: MessageServiceDirection }[]\r\n        })\r\n        const refs = useRefList<typeof Container.use.class>()\r\n\r\n        const getContainer = async (config: { horizontal: MessageServiceDirection, vertical: MessageServiceDirection }): Promise<typeof Container.use.class> => {\r\n            for (let i = 0; i < refs.length; i++) {\r\n                const ref = refs[i];\r\n                if (ref.props.horizontal === config.horizontal && ref.props.vertical === config.vertical) {\r\n                    return ref\r\n                }\r\n            }\r\n            state.containers.push(config);\r\n            await nextTick()\r\n            return getContainer(config)\r\n        }\r\n        return {\r\n            refer: {\r\n                name: 'I am message controller',\r\n                getContainer,\r\n            },\r\n            render: () => (\r\n                <div class=\"pl-message-manager\">\r\n                    {state.containers.map((container, index) =>\r\n                        <Container horizontal={container.horizontal}\r\n                                   vertical={container.vertical}\r\n                                   ref={(proxy: any) => refs[index] = proxy}/>)}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {useClass} from \"../../use/useClasses\";\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {unit} from 'plain-utils/string/unit';\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\nimport './grid.scss'\r\n\r\nexport const Row = designComponent({\r\n    name: 'pl-row',\r\n    props: {\r\n        type: {type: String},                               //类型,type\r\n        align: {type: String},                              //对其方式,left|center|right\r\n        justify: {type: String},                            //内容弹性布局方式,start,end,center,space-around,space-between\r\n        gutter: {type: [Number, String], default: 0},       //间隔\r\n    },\r\n    provideRefer: true,\r\n    setup({props}) {\r\n\r\n        const {slots} = useSlots()\r\n        const classes = useClass(() => [\r\n            'pl-row',\r\n            {\r\n                [`pl-row-${props.type}`]: !!props.type,\r\n                [`pl-row-${props.type}-${props.align}`]: !!props.align,\r\n                [`pl-row-${props.type}-${props.justify}`]: !!props.justify,\r\n            }\r\n        ])\r\n        const styles = useStyles(style => {\r\n            const gutter = Number(props.gutter)\r\n            if (gutter !== 0) {\r\n                style = {\r\n                    marginLeft: unit(gutter / -2),\r\n                    marginRight: unit(gutter / -2)\r\n                };\r\n            }\r\n            return style\r\n        })\r\n\r\n        return {\r\n            refer: {\r\n                props,\r\n            },\r\n            render: () => (\r\n                <div class={classes.value} style={styles.value}>\r\n                    {slots.default()}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})\r\n\r\nexport default createComponentPlugin(Row)","import {designComponent} from \"../../use/designComponent\";\r\nimport {Row} from './row'\r\nimport {SingleClass, useClass} from \"../../use/useClasses\";\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport const Col = designComponent({\r\n    name: 'pl-col',\r\n    props: {\r\n        span: [Number, String],\r\n        order: [Number, String],\r\n        offset: [Number, String],\r\n        push: [Number, String],\r\n        pull: [Number, String],\r\n        className: String,\r\n        xs: [Number, Object],\r\n        sm: [Number, Object],\r\n        md: [Number, Object],\r\n        lg: [Number, Object]\r\n    },\r\n    setup({props}) {\r\n        const {slots} = useSlots()\r\n        const row = Row.use.inject()\r\n        const classes = useClass(() => {\r\n            let classList = [\r\n                'pl-col',\r\n                {\r\n                    [`pl-col-span-${props.span}`]: props.span,\r\n                    [`pl-col-order-${props.order}`]: props.order,\r\n                    [`pl-col-offset-${props.offset}`]: props.offset,\r\n                    [`pl-col-push-${props.push}`]: props.push,\r\n                    [`pl-col-pull-${props.pull}`]: props.pull,\r\n                    [`${props.className}`]: !!props.className\r\n                }\r\n            ] as SingleClass[];\r\n\r\n            const sizeProps = props as any\r\n            ['xs', 'sm', 'md', 'lg'].forEach(size => {\r\n                if (typeof sizeProps[size] === 'number') {\r\n                    classList.push(`pl-col-${size}-${sizeProps[size]}`);\r\n                } else if (typeof sizeProps[size] === 'object') {\r\n                    let obj = sizeProps[size];\r\n                    Object.keys(obj).forEach(prop => {\r\n                        classList.push(\r\n                            prop !== 'span'\r\n                                ? `pl-col-${size}-${prop}-${obj[prop]}`\r\n                                : `pl-col-span-${size}-${obj[prop]}`\r\n                        );\r\n                    });\r\n                }\r\n            });\r\n            return classList;\r\n        })\r\n        const styles = useStyles(style => {\r\n            if ((Number(row.props.gutter)) !== 0) {\r\n                style = {\r\n                    paddingLeft: (Number(row.props.gutter)) / 2 + 'px',\r\n                    paddingRight: (Number(row.props.gutter)) / 2 + 'px'\r\n                };\r\n            }\r\n            return style;\r\n        })\r\n\r\n        return {\r\n            render: () => (\r\n                <div class={classes.value} style={styles.value}>\r\n                    {slots.default()}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})\r\n\r\nexport default createComponentPlugin(Col)","import Row from \"./row\";\r\nimport Col from './col'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(Row, {exposeComponents: {Col}})","import {designComponent} from \"../../use/designComponent\";\r\nimport {useClass} from \"../../use/useClasses\";\r\nimport './radio-inner.scss'\r\n\r\nexport default designComponent({\r\n    name: 'pl-radio-inner',\r\n    props: {\r\n        checkStatus: {type: String},                // check,uncheck\r\n    },\r\n    setup({props}) {\r\n\r\n        const classes = useClass(() => [\r\n            'pl-radio-inner',\r\n            `pl-radio-inner-${props.checkStatus}`,\r\n        ])\r\n\r\n        return {\r\n            render: () => (\r\n                <svg class={classes.value} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\">\r\n                    {props.checkStatus === 'check' && <circle cx=\"50\" cy=\"50\" r=\"30\"/>}\r\n                </svg>\r\n            )\r\n        }\r\n    },\r\n})","import {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\nimport inner from './radio-inner'\r\n\r\nexport default createComponentPlugin(inner)","import {designComponent} from \"../../use/designComponent\";\r\nimport {EditProps, useEdit} from \"../../use/useEdit\";\r\nimport {StyleProps, useStyle} from \"../../use/useStyle\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {CheckboxStatus, DEFAULT_STATUS} from \"../../utils/constant\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {useProps} from \"../../use/useProps\";\r\nimport {inject} from 'vue';\r\n\r\nexport default designComponent({\r\n    name: 'pl-radio-group',\r\n    props: {\r\n        ...EditProps,\r\n        ...StyleProps,\r\n\r\n        modelValue: {},\r\n        itemWidth: {type: [String, Number]},                       // 每一个单选框的宽度\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: any) => true\r\n    },\r\n    provideRefer: true,\r\n    setup({props, event: {emit}}) {\r\n\r\n        const formItem = inject('@@pl-form-item', null)\r\n\r\n        const {slots} = useSlots()\r\n        useEdit()\r\n        useStyle({status: DEFAULT_STATUS})\r\n        const model = useModel(() => props.modelValue, emit.onUpdateModelValue)\r\n        const {propsState} = useProps(props, {\r\n            itemWidth: useProps.NUMBER,\r\n        })\r\n\r\n        const handler = {\r\n            onClickRadio: (val: any) => {\r\n                model.value = val\r\n            },\r\n        }\r\n        const utils = {\r\n            getCheckStatus: (val: any) => {\r\n                return val === model.value ? CheckboxStatus.check : CheckboxStatus.uncheck\r\n            }\r\n        }\r\n        return {\r\n            refer: {\r\n                propsState,\r\n                handler,\r\n                utils,\r\n            },\r\n            render: () => !formItem ? slots.default() : (\r\n                <div class=\"pl-radio-group\">\r\n                    {slots.default()}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import group from './radio-group'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(group)","import {designComponent} from \"../../use/designComponent\";\r\nimport {EditProps, useEdit} from \"../../use/useEdit\";\r\nimport {StyleProps, StyleStatus, useStyle} from \"../../use/useStyle\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {useProps} from \"../../use/useProps\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {computed, Transition} from 'vue';\r\nimport {CheckboxStatus, DEFAULT_STATUS} from \"../../utils/constant\";\r\nimport {useClass} from \"../../use/useClasses\";\r\nimport {getKey, KEY} from \"../keyboard\";\r\nimport {ClickWave} from \"../click-wave/click-wave-directive\";\r\nimport {useScopedSlots} from \"../../use/useScopedSlots\";\r\nimport './radio.scss'\r\nimport Group from '../radio-group'\r\nimport {unit} from \"plain-utils/string/unit\";\r\nimport {useStyles} from \"../../use/useStyles\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-radio',\r\n    directives: {ClickWave},\r\n    props: {\r\n        ...EditProps,\r\n        ...StyleProps,\r\n\r\n        modelValue: {},                                             // 双向绑定值\r\n        val: {type: [String, Number]},                              // 在group中的唯一标识\r\n        label: {type: String},                                      // 显示文本\r\n        width: {type: [String, Number]},                            // 宽度\r\n        trueValue: {default: true},                                 // 真值\r\n        falseValue: {default: false},                               // 假值\r\n        checkStatus: {type: String},                                // 自定义选中状态\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: any) => true,\r\n        onClick: (e?: MouseEvent) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const group = Group.use.inject(null)\r\n        const {scopedSlots} = useScopedSlots({\r\n            default: {checked: Boolean, status: String, click: Function},\r\n        })\r\n        const {slots} = useSlots(['label'])\r\n        const {editComputed} = useEdit()\r\n        const {styleComputed} = useStyle({status: DEFAULT_STATUS})\r\n        const {propsState} = useProps(props, {\r\n            width: useProps.NUMBER,\r\n        })\r\n        const model = useModel(() => props.modelValue, emit.onUpdateModelValue)\r\n        const checkStatus = computed(() => {\r\n            if (!!props.checkStatus) {\r\n                return props.checkStatus as CheckboxStatus\r\n            }\r\n            if (!!group) {\r\n                return group.utils.getCheckStatus(props.val)\r\n            } else {\r\n                return model.value === props.trueValue ? CheckboxStatus.check : CheckboxStatus.uncheck\r\n            }\r\n        })\r\n\r\n        const classes = useClass(() => [\r\n            'pl-radio',\r\n            `pl-radio-status-${styleComputed.value.status}`,\r\n            `pl-radio-size-${styleComputed.value.size}`,\r\n            {\r\n                'pl-radio-checked': checkStatus.value === CheckboxStatus.check,\r\n                'pl-radio-disabled': editComputed.value.disabled,\r\n            },\r\n        ])\r\n\r\n        const styles = useStyles(style => {\r\n            let width: number | null = null;\r\n            if (!!propsState.width) {\r\n                width = propsState.width as number\r\n            }\r\n            if (!!group && !!group.propsState.itemWidth) {\r\n                width = group.propsState.itemWidth as number\r\n            }\r\n            if (width != null) {\r\n                style.width = unit(width)\r\n            }\r\n        })\r\n\r\n        const handler = {\r\n            click: (e?: MouseEvent) => {\r\n                if (!!e) {\r\n                    e.stopPropagation()\r\n                }\r\n                emit.onClick(e)\r\n                if (!editComputed.value.editable || props.customReadonly) {\r\n                    return\r\n                }\r\n                if (!!group) {\r\n                    group.handler.onClickRadio(props.val)\r\n                } else {\r\n                    model.value = checkStatus.value === CheckboxStatus.check ? props.falseValue : props.trueValue\r\n                }\r\n\r\n                if (!!e) {\r\n                    e.stopPropagation()\r\n                    e.preventDefault()\r\n                }\r\n            },\r\n            keydown: (e: KeyboardEvent) => {\r\n                if (getKey(e) === KEY.space) {\r\n                    e.preventDefault()\r\n                    e.stopPropagation()\r\n                    handler.click(e as any)\r\n                }\r\n            },\r\n        }\r\n\r\n        return {\r\n            render: () => {\r\n                return scopedSlots.default({\r\n                    checked: checkStatus.value === CheckboxStatus.check,\r\n                    status: checkStatus.value,\r\n                    click: handler.click,\r\n                }, (\r\n                    <div\r\n                        class={classes.value}\r\n                        style={styles.value}\r\n                        tabindex={0}\r\n                        v-click-wave={{disabled: !editComputed.value.editable}}\r\n                        onClick={handler.click}\r\n                        onKeydown={handler.keydown}\r\n                    >\r\n                        <span class=\"plain-click-node\">\r\n                            <Transition name=\"pl-transition-fade\" mode=\"out-in\">\r\n                                <pl-radio-inner checkStatus={checkStatus.value}\r\n                                                key={checkStatus.value}\r\n                                                disabled={editComputed.value.disabled}/>\r\n                            </Transition>\r\n                        </span>\r\n                        {slots.label(<span class=\"pl-radio-label\">{props.label}</span>)}\r\n                    </div>\r\n                ))\r\n            }\r\n        }\r\n    },\r\n})","import inner from '../radio-inner'\r\nimport radio from './radio'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(radio, {plugins: [inner]})","import {designComponent} from \"../../use/designComponent\";\r\nimport {StyleProps, useStyle} from \"../../use/useStyle\";\r\nimport {EditProps} from \"../../use/useEdit\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport {computed, onBeforeUnmount, reactive, ref, Teleport, Transition, watch} from 'vue';\r\nimport {nextIndex} from \"../../utils/nextIndex\";\r\nimport {useProps} from \"../../use/useProps\";\r\nimport {unit} from \"plain-utils/string/unit\";\r\nimport {KeyboardService, KeyboardServiceOption} from \"../keyboard\";\r\nimport './dialog.scss'\r\nimport {useClass} from \"../../use/useClasses\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-dialog',\r\n    props: {\r\n        ...StyleProps,\r\n        ...EditProps,\r\n\r\n        modelValue: {type: Boolean},                                            // model绑定是否打开对话框\r\n\r\n        height: {type: [String, Number]},                                       // 对话框高度\r\n        width: {type: [String, Number]},                                        // 对话框宽度\r\n        minHeight: {type: [String, Number]},                                    // 最小高度\r\n        minWidth: {type: [String, Number]},                                     // 最小宽度\r\n        maxHeight: {type: [String, Number]},                                    // 最大高度\r\n        maxWidth: {type: [String, Number]},                                     // 最大宽度\r\n        fullHeight: {type: Boolean},                                            // 撑满高度\r\n        fullWidth: {type: Boolean},                                             // 撑满宽度\r\n\r\n        wrapperPadding: {type: [String, Boolean], default: '15vh 5vw'},         // body的内边距\r\n        contentPadding: {type: Boolean, default: true},                         // 内容内边距\r\n        showHead: {type: Boolean, default: true},                               // 是否展示对话框标题栏\r\n        transition: {type: String, default: 'pl-transition-dialog'},            // 弹框动画, pl-transition-dialog，pl-transition-dialog-top,pl-transition-dialog-left,pl-transition-dialog-right,pl-transition-dialog-bottom\r\n\r\n        title: {type: [String, Object], default: '提示'},                        // 对话框标题\r\n        fullscreen: {type: Boolean},                                            // 是否全屏\r\n        mask: {type: Boolean, default: true},                                   // 是否需要遮罩\r\n        dialogClass: {type: String},                                            // 对话框内容自定义类名\r\n        serviceClass: {type: String},                                           // 对话框服务内容自定义类名\r\n        cancelOnClickMask: {type: Boolean, default: true},                      // 是否在点击遮罩的时候关闭对话框\r\n        showClose: {type: Boolean, default: true},                              // 是否展示关闭按钮\r\n        beforeClose: Function,                                                  // 关闭之前的回调\r\n        center: {type: Boolean},                                                // 是否纵向居中对其\r\n        destroyOnClose: {type: Boolean, default: true},                         // 关闭的时候是否销毁内容\r\n\r\n        confirmButton: {type: Boolean},                                         // 是否显示确认按钮\r\n        cancelButton: {type: Boolean},                                          // 是否显示取消按钮\r\n        closeOnConfirm: {type: Boolean, default: true},                         // 是否点击确认按钮之后自动关闭\r\n        closeOnCancel: {type: Boolean, default: true},                          // 是否点击取消按钮之后自动关闭\r\n        confirmButtonText: {type: [String, Object], default: '确认'},            // 确认按钮文本\r\n        cancelButtonText: {type: [String, Object], default: '取消'},             // 取消按钮文本\r\n        confirmOnEnter: {type: Boolean, default: true},                         // 是否在点击 enter 按键的时候触发 confirm 事件\r\n        cancelOnEsc: {type: Boolean, default: true},                            // 是否在点击 esc 按键的时候出发 cancel事件\r\n        disabledCancel: {type: Boolean},                                        // 禁用cancel，当任何动作触发cancel时，不做任何处理，适用于开发者完全控制对话框的情况，对话框内置的按钮以及键盘事件不做任何处理\r\n        disabledConfirm: {type: Boolean},                                       // 禁用confirm，当任何动作触发confirm时，不做任何处理,适用于开发者完全控制对话框的情况,对话框内置的按钮以及键盘事件不做任何处理\r\n\r\n        vertical: {type: String, default: 'start'},                             // 纵向对其方式：start,center,end\r\n        horizontal: {type: String, default: 'center'},                          // 横向对其方式：start,center,end\r\n        loading: {type: Boolean},                                               // 弹出框添加 加载中的遮罩\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: boolean) => true,\r\n        onConfirm: () => true,\r\n        onCancel: () => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n        const {slots} = useSlots(['head', 'foot'], true)\r\n        const {refs} = useRefs({\r\n            body: HTMLDivElement,\r\n        })\r\n        const state = reactive({\r\n            zIndex: nextIndex(),\r\n            loading: false,\r\n        })\r\n        const isLoading = computed(() => state.loading || props.loading)\r\n        const {styleComputed} = useStyle({status: undefined})\r\n        const model = ref(false)\r\n        const {propsState} = useProps(props, {\r\n            height: useProps.NUMBER,\r\n            width: useProps.NUMBER,\r\n            minHeight: useProps.NUMBER,\r\n            minWidth: useProps.NUMBER,\r\n            maxHeight: useProps.NUMBER,\r\n            maxWidth: useProps.NUMBER,\r\n            title: useProps.PROMISE,\r\n        }) as {\r\n            propsState: {\r\n                height: number,\r\n                width: number,\r\n                minHeight: number,\r\n                minWidth: number,\r\n                maxHeight: number,\r\n                maxWidth: number,\r\n                title: string,\r\n            }\r\n        }\r\n\r\n        /*---------------------------------------computer-------------------------------------------*/\r\n        const wrapperStyles = computed(() => ({\r\n            alignItems: props.center ? null : `flex-${props.vertical}`.replace('flex-center', 'center'),\r\n            justifyContent: `flex-${props.horizontal}`.replace('flex-center', 'center'),\r\n            zIndex: state.zIndex,\r\n            padding: !!props.center ? null : props.wrapperPadding,\r\n        }))\r\n\r\n        const wrapperClasses = useClass(() => [\r\n            'pl-dialog',\r\n            props.transition,\r\n            props.dialogClass,\r\n            props.serviceClass,\r\n            {\r\n                'pl-dialog-fullscreen': props.fullscreen,\r\n                'pl-dialog-no-mask': !props.mask,\r\n                'pl-dialog-vertical-center': props.center,\r\n                'pl-dialog-no-content-padding': !props.contentPadding,\r\n            }\r\n        ])\r\n\r\n        const bodyClasses = computed(() => [\r\n            'pl-dialog-body',\r\n            `pl-dialog-body-shape-${styleComputed.value.shape}`,\r\n        ])\r\n\r\n        const hasHead = computed(() => {\r\n            return props.showHead\r\n        })\r\n        const hasFoot = computed(() => {\r\n            return slots.foot.isExist() || props.confirmButton || props.cancelButton\r\n        })\r\n\r\n        const contentStyle = computed(() => {\r\n            let height = props.fullHeight ? `calc(100vh - ${(!!hasHead.value ? 40 : 0) + (hasFoot.value ? 60 : 0)}px)` : propsState.height\r\n            let width = props.fullWidth ? '100vw' : propsState.width\r\n\r\n            let minHeight = propsState.minHeight !== undefined ? propsState.minHeight : height !== undefined ? null : '15vh'\r\n            let minWidth = propsState.minWidth !== undefined ? propsState.minWidth : width !== undefined ? null : '30vw'\r\n            let maxHeight = propsState.maxHeight !== undefined ? propsState.maxHeight : height !== undefined ? null : '80vh'\r\n            let maxWidth = propsState.maxWidth !== undefined ? propsState.maxWidth : width !== undefined ? null : '60vw'\r\n\r\n            return {\r\n                height: unit(height),\r\n                width: unit(width),\r\n                minHeight: unit(minHeight),\r\n                minWidth: unit(minWidth),\r\n                maxHeight: unit(maxHeight),\r\n                maxWidth: unit(maxWidth),\r\n            }\r\n        })\r\n\r\n        /*---------------------------------------handler-------------------------------------------*/\r\n        const handler = {\r\n            keyboardEventOption: {\r\n                \"enter\": () => {\r\n                    if (isLoading.value) return\r\n                    if (!!props.confirmOnEnter) {\r\n                        methods.confirm()\r\n                    }\r\n                },\r\n                \"esc\": () => {\r\n                    if (isLoading.value) return\r\n                    if (!!props.cancelOnEsc) {\r\n                        methods.cancel()\r\n                    }\r\n                }\r\n            } as KeyboardServiceOption,\r\n            clickWrapper: (e: MouseEvent) => {\r\n                if (isLoading.value) {\r\n                    return\r\n                }\r\n                if (!!props.cancelOnClickMask) {\r\n                    if (!!refs.body && !refs.body.contains(e.target as HTMLElement)) {\r\n                        methods.cancel()\r\n                    }\r\n                }\r\n            },\r\n            clickClose: () => {\r\n                if (isLoading.value) {\r\n                    return\r\n                }\r\n                methods.cancel()\r\n            }\r\n        }\r\n        /*---------------------------------------methods-------------------------------------------*/\r\n        const methods = {\r\n            show: async () => {\r\n                if (model.value) return\r\n                KeyboardService.listen(handler.keyboardEventOption)\r\n                KeyboardService.cancelActiveElement()\r\n                state.zIndex = nextIndex()\r\n                await methods.open()\r\n            },\r\n            async hide() {\r\n                if (!model.value) return\r\n                KeyboardService.unbindListener(handler.keyboardEventOption)\r\n                await this.close()\r\n            },\r\n            confirm() {\r\n                if (props.disabledConfirm) {\r\n                    return\r\n                }\r\n                if (props.closeOnConfirm) {\r\n                    methods.hide()\r\n                }\r\n                emit.onConfirm()\r\n            },\r\n            cancel() {\r\n                if (props.disabledCancel) {\r\n                    return\r\n                }\r\n                if (props.closeOnCancel) {\r\n                    methods.hide()\r\n                }\r\n                emit.onCancel()\r\n            },\r\n            open() {\r\n                model.value = true\r\n                emit.onUpdateModelValue(model.value)\r\n            },\r\n            async close() {\r\n                try {\r\n                    if (!!props.beforeClose) {\r\n                        state.loading = true\r\n                        let flag = await props.beforeClose!()\r\n                        if (flag === false) return\r\n                    }\r\n                    model.value = false\r\n                    emit.onUpdateModelValue(model.value)\r\n                } catch (e) {\r\n                    console.error(e)\r\n                } finally {\r\n                    state.loading = false\r\n                }\r\n            },\r\n        }\r\n        /*---------------------------------------watch-------------------------------------------*/\r\n\r\n        watch(() => props.modelValue, (val) => {\r\n            val ? setTimeout(methods.show, 100) : methods.hide()\r\n        }, {immediate: true})\r\n\r\n        onBeforeUnmount(() => {\r\n            KeyboardService.unbindListener(handler.keyboardEventOption)\r\n            if (model.value) {\r\n                methods.hide()\r\n            }\r\n        })\r\n\r\n        return {\r\n            render: () => {\r\n\r\n                const Wrapper: any = props.destroyOnClose ? <div/> : <div v-show={model.value}/>\r\n\r\n                return (\r\n                    <Teleport to=\".pl-root-service-container\">\r\n                        <Transition name={props.transition}>\r\n                            {(!props.destroyOnClose ? true : model.value) && <Wrapper onClick={handler.clickWrapper} style={wrapperStyles.value as any} class={wrapperClasses.value}>\r\n                                <div class={bodyClasses.value} ref=\"body\">\r\n                                    {hasHead.value && <div class=\"pl-dialog-head\">\r\n                                        {slots.head(<span class=\"pl-dialog-head-title\">{propsState.title}</span>)}\r\n                                        {!!props.showClose && (\r\n                                            <div class=\"pl-dialog-head-close\">\r\n                                                <pl-button icon=\"el-icon-close\"\r\n                                                           shape=\"round\"\r\n                                                           mode=\"text\"\r\n                                                           size=\"large\"\r\n                                                           onClick={handler.clickClose}/>\r\n                                            </div>\r\n                                        )}\r\n                                    </div>}\r\n                                    <div class=\"pl-dialog-content\" style={contentStyle.value as any}>\r\n                                        {slots.default()}\r\n                                    </div>\r\n                                    {hasFoot.value && <div class=\"pl-dialog-foot\">\r\n                                        {slots.foot()}\r\n\r\n                                        {!!props.cancelButton && <pl-button label={props.cancelButtonText} mode=\"stroke\" onClick={methods.cancel}/>}\r\n                                        {!!props.confirmButton && <pl-button label={props.confirmButtonText} onClick={methods.confirm}/>}\r\n                                    </div>}\r\n                                    <pl-loading-mask v-model={isLoading.value}/>\r\n                                </div>\r\n                            </Wrapper>}\r\n                        </Transition>\r\n                    </Teleport>\r\n                )\r\n            }\r\n        }\r\n    }\r\n})","import {StyleStatus} from \"../../use/useStyle\";\r\nimport {RequireFormat, VNodeChild} from \"../../shims\";\r\nimport Dialog from '../dialog'\r\nimport {registryRootService} from \"../root/registryRootService\";\r\nimport {createDefaultManager} from \"../root/createDefaultManager\";\r\nimport Service from './dialog-service'\r\nimport {App} from 'vue';\r\nimport {DialogService} from \"../../index\";\r\nimport {installPlugin} from \"../../utils/installPlugin\";\r\n\r\nexport enum DialogServiceEditType {\r\n    input = 'input',\r\n    textarea = 'textarea'\r\n}\r\n\r\nexport interface DialogServiceOption {\r\n    title?: string,                                                 // 标题\r\n    message?: string,                                               // 提示的消息\r\n    editType?: DialogServiceEditType,                               // 输入类型\r\n    editValue?: string | number,                                    // 输入初始内容\r\n    editReadonly?: boolean,                                         // 输入框只读\r\n    status?: StyleStatus | null,                                    // 对话框状态\r\n    render?: () => VNodeChild,                                      // 自定义对话框内容\r\n    renderHead?: () => VNodeChild,                                  // 自定义对话框标题内容\r\n    renderFoot?: () => VNodeChild,                                  // 自定义对话框底部内容\r\n    confirmButton?: boolean,                                        // 是否显示确认按钮\r\n    confirmButtonText?: string,                                     // 确认按钮文本\r\n    onConfirm?: (editValue?: string) => void | Promise<void>,       // 确认按钮处理函数\r\n    cancelButton?: boolean,                                         // 是否显示删除按钮\r\n    cancelButtonText?: string,                                      // 删除按钮文本\r\n    onCancel?: () => void | Promise<void>,                          // 删除按钮文本\r\n    dialogProps?: Partial<typeof Dialog.use.props>,                 // 对话框属性\r\n}\r\n\r\nexport type DialogServiceFormatOption = RequireFormat<DialogServiceOption, 'status'> & {\r\n    close: () => void\r\n}\r\n\r\ntype DialogServiceFunction = (message: string | DialogServiceOption, option?: DialogServiceOption) => void\r\ntype DialogService = {\r\n    [k in StyleStatus]: DialogServiceFunction\r\n}\r\n\r\nfunction formatOption(o: DialogServiceOption): DialogServiceFormatOption {\r\n    return Object.assign(o, {\r\n        status: o.status === null ? null : (o.status || 'primary'),\r\n    }) as DialogServiceFormatOption\r\n}\r\n\r\nconst getDialogService = registryRootService(\r\n    'dialog',\r\n    createDefaultManager('pl-dialog-manager', Service),\r\n    (getManager) => {\r\n        const service = (message: string | DialogServiceOption, option?: DialogServiceOption) => {\r\n            const o: DialogServiceOption = typeof message === \"string\" ? {message} : message\r\n            if (!!option) {\r\n                Object.assign(o, option)\r\n            }\r\n            const fo = formatOption(o)\r\n            getManager().then(manager => manager.service(fo))\r\n            return fo\r\n        }\r\n\r\n        return Object.assign(service, Object.keys(StyleStatus).reduce((prev: any, status: any) => {\r\n            prev[status] = function (message: string | DialogServiceOption, option?: DialogServiceOption) {\r\n                const o = typeof message === \"object\" ? message : {message}\r\n                if (!!option) {\r\n                    Object.assign(o, option)\r\n                }\r\n                o.status = status\r\n                return service(o)\r\n            }\r\n            return prev\r\n        }, {})) as DialogService\r\n    }\r\n)\r\n\r\nexport default {\r\n    install(app: App) {\r\n        installPlugin(app, Dialog)\r\n        app.mixin({\r\n            beforeCreate() {\r\n                Object.defineProperty(this, '$dialog', {\r\n                    get() {\r\n                        return getDialogService(this)\r\n                    },\r\n                })\r\n            },\r\n        })\r\n    },\r\n}","import button from '../button'\r\nimport icon from '../icon'\r\nimport mask from '../loading-mask'\r\n\r\nimport dialog from './dialog'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(dialog, {\r\n    plugins: [\r\n        button,\r\n        icon,\r\n        mask,\r\n    ]\r\n})","import {computed, reactive, ref} from 'vue';\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport {DialogServiceFormatOption} from \"./index\";\r\nimport Input from '../input'\r\nimport Dialog from '../dialog'\r\nimport {STATUS} from \"../../utils/constant\";\r\nimport {delay} from \"plain-utils/utils/delay\";\r\nimport './dialog-service.scss'\r\nimport {VNodeChild} from \"../../shims\";\r\nimport {createDefaultService} from \"../root/createDefaultService\";\r\n\r\n/**\r\n * 用来区分 DialogServiceOption中的选项与pl-dialog组件的属性\r\n * @author  韦胜健\r\n * @date    2020/11/7 20:04\r\n */\r\nconst OptionKeys = [\r\n    'message',\r\n    'editType',\r\n    'editValue',\r\n    'editReadonly',\r\n    'status',\r\n    'render.tsx',\r\n    'onConfirm',\r\n    'onCancel',\r\n    'close',\r\n]\r\n\r\nexport default createDefaultService({\r\n    name: 'pl-dialog-service',\r\n    setup(option: DialogServiceFormatOption) {\r\n        const {refs} = useRefs({\r\n            input: Input,\r\n        })\r\n\r\n        const isShow = ref(false)\r\n\r\n        const state = reactive({\r\n            key: 0,\r\n            option,\r\n            editValue: null as null | string,\r\n        })\r\n\r\n        const targetOption = computed(() => {\r\n            let option = {} as DialogServiceFormatOption\r\n            let binding = {} as Partial<typeof Dialog.use.props>\r\n\r\n            Object.keys(state.option).forEach((key) => {\r\n                if (OptionKeys.indexOf(key) > -1) {\r\n                    (option as any)[key] = (state.option as any)[key]\r\n                } else {\r\n                    (binding as any)[key] = (state.option as any)[key]\r\n                }\r\n            })\r\n\r\n            return {\r\n                option,\r\n                binding,\r\n            }\r\n        })\r\n\r\n        const handler = {\r\n            confirm: () => {\r\n                if (!!targetOption.value.option.onConfirm) {\r\n                    targetOption.value.option.onConfirm(!targetOption.value.option.editType ? undefined : state.editValue as string)\r\n                }\r\n            },\r\n            cancel: () => {\r\n                if (!!targetOption.value.option.onCancel) {\r\n                    targetOption.value.option.onCancel()\r\n                }\r\n            },\r\n        }\r\n\r\n        async function service(option: DialogServiceFormatOption) {\r\n            option.close = hide\r\n            state.option = option\r\n            state.key++\r\n            isShow.value = true\r\n            if (!!option.editType) {\r\n                state.editValue = option.editValue as string\r\n                await delay(300)\r\n                refs.input!.methods.focus()\r\n            }\r\n            return hide\r\n        }\r\n\r\n        function hide() {\r\n            isShow.value = false\r\n        }\r\n\r\n        return {\r\n            refer: {\r\n                service,\r\n                hide,\r\n                isShow,\r\n                isOpen: isShow,\r\n            },\r\n            render: () => {\r\n                let {option, binding} = targetOption.value\r\n                let status = option.status\r\n                let serviceClass = 'pl-dialog-service';\r\n\r\n                if (!!status) {\r\n                    serviceClass += ` pl-dialog-service-status-${status}`\r\n                }\r\n\r\n                /*---------------------------------------head-------------------------------------------*/\r\n                let head = <div class=\"pl-dialog-service-head\">\r\n                    {!!status && STATUS[status] && <pl-icon class=\"pl-dialog-service-status-icon\" icon={STATUS[status].icon}/>}\r\n                    {!!option.renderHead ? option.renderHead() : (option.title || '提示')}\r\n                </div>\r\n                /*---------------------------------------content-------------------------------------------*/\r\n                let content: VNodeChild;\r\n                if (!!option.editType) {\r\n                    binding = {...binding}\r\n                    if (option.editType !== 'input') {\r\n                        (binding as any).height = binding.height || '500px'\r\n                    } else {\r\n                        (binding as any).minHeight = null\r\n                    }\r\n                    serviceClass += ` pl-dialog-service-edit`\r\n                    content = <pl-input ref=\"input\"\r\n                                        block\r\n                                        minHeight={null}\r\n                                        maxHeight={null}\r\n                                        autoHeight={false}\r\n                                        v-model={state.editValue}\r\n                                        readonly={option.editReadonly}\r\n                                        textarea={option.editType === 'textarea'}/>\r\n                } else if (!!option.message) {\r\n                    content = (\r\n                        <div class=\"pl-dialog-service-item-message\">\r\n                            {option.message}\r\n                        </div>\r\n                    )\r\n                } else if (!!option.render) {\r\n                    content = option.render()\r\n                }\r\n                /*---------------------------------------foot-------------------------------------------*/\r\n                let foot = !option.renderFoot ? null : option.renderFoot()\r\n\r\n                return (\r\n                    <pl-dialog\r\n                        serviceClass={serviceClass}\r\n                        v-model={isShow.value}\r\n                        key={state.key}\r\n\r\n                        onConfirm={handler.confirm}\r\n                        onCancel={handler.cancel}\r\n\r\n                        {...binding}\r\n                        v-slots={{\r\n                            default: !!content ? () => content : null,\r\n                            head: !!head ? () => head : null,\r\n                            foot: !!foot ? () => foot : null,\r\n                        }}\r\n                    />\r\n                )\r\n            }\r\n        }\r\n    },\r\n})\r\n","import {ref, onMounted, onBeforeUnmount} from 'vue';\r\n\r\nexport function useMounted() {\r\n    const isMounted = ref(false)\r\n    onMounted(() => isMounted.value = true)\r\n    onBeforeUnmount(() => isMounted.value = false)\r\n    return isMounted\r\n}","import {Directive} from 'vue'\r\n\r\nexport interface ResizeDetectFuncParam {\r\n    width?: number\r\n    height?: number\r\n    oldWidth?: number\r\n    oldHeight?: number\r\n    el?: HTMLElement\r\n\r\n    [key: string]: any\r\n}\r\n\r\nexport interface ResizeDetectFunc {\r\n    (option: ResizeDetectFuncParam): void\r\n}\r\n\r\nexport default class ResizeDetector {\r\n\r\n    observer?: MutationObserver\r\n    width?: number\r\n    height?: number\r\n\r\n    constructor(public el: HTMLElement, public callback: ResizeDetectFunc) {\r\n\r\n        if (!el) {\r\n            console.error(`el is ${typeof el}`)\r\n            return\r\n        }\r\n\r\n        this.observer = new MutationObserver(this.detect)\r\n\r\n        this.observer.observe(el, {\r\n            childList: true,\r\n            subtree: true\r\n        })\r\n\r\n        // const {width, height} = el.getBoundingClientRect()\r\n        const {scrollHeight: height, scrollWidth: width} = el\r\n        this.width = width\r\n        this.height = height\r\n        this.runCallback({\r\n            width,\r\n            height,\r\n            el\r\n        })\r\n    }\r\n\r\n    detect = () => {\r\n        // const {width, height} = this.el.getBoundingClientRect()\r\n        const {scrollHeight: height, scrollWidth: width} = this.el\r\n        if (width === this.width && height === this.height) return\r\n        const ret = {} as ResizeDetectFuncParam\r\n        if (width !== this.width) {\r\n            ret.width = width\r\n            ret.oldWidth = this.width\r\n            this.width = width\r\n        }\r\n        if (height !== this.height) {\r\n            ret.height = height\r\n            ret.oldHeight = this.height\r\n            this.height = height\r\n        }\r\n        this.runCallback(ret)\r\n    }\r\n\r\n    runCallback(data: ResizeDetectFuncParam) {\r\n        Object.keys(data).forEach(key => {\r\n            if (data[key] != null && typeof data[key] === 'number') data[key] = Math.ceil(data[key])\r\n        })\r\n        this.callback(data)\r\n    }\r\n\r\n    destroy() {\r\n        if (!!this.observer) {\r\n            this.observer.disconnect();\r\n            this.observer = undefined\r\n        }\r\n    }\r\n}\r\n\r\nexport const ResizeDetectorDirective: Directive = {\r\n    mounted(el: any, binding: any, vnode: any) {\r\n        el.__resizedetextor__ = new ResizeDetector(el, (data) => binding.value(data))\r\n    },\r\n    beforeUnmount(el: any) {\r\n        (el.__resizedetextor__ as ResizeDetector).destroy()\r\n        delete el.__resizedetextor__\r\n    },\r\n}\r\n\r\n","export function getElement(ref: any): HTMLElement | null {\r\n\r\n    if (!ref) {\r\n        return null\r\n    }\r\n\r\n    if (!!ref.$el) {\r\n        return getElement(ref.$el)\r\n    }\r\n\r\n    if (ref.nodeType !== 3) {\r\n        return ref\r\n    }\r\n\r\n    return !!ref.data ? ref : ref.nextElementSibling\r\n\r\n}","import {PopperTrigger, PopperTriggerType} from \"./PopperTrigger\";\r\nimport {SimpleFunction} from \"../../../shims\";\r\n\r\nexport function getBaseTrigger(\r\n    triggerName: PopperTriggerType,\r\n    {\r\n        model,\r\n        openModel,\r\n\r\n        show,\r\n        hide,\r\n\r\n        hoverOpenDelay,\r\n        hoverCloseDelay,\r\n        reference,\r\n\r\n        on,\r\n        off,\r\n        emit,\r\n    }: {\r\n        model: { value: boolean | undefined },\r\n        openModel: { value: boolean | undefined },\r\n\r\n        show: SimpleFunction,\r\n        hide: SimpleFunction,\r\n\r\n        hoverOpenDelay: number,\r\n        hoverCloseDelay: number,\r\n        reference: HTMLElement,\r\n\r\n        on: {\r\n            onEnterReference: SimpleFunction,\r\n            onLeaveReference: SimpleFunction,\r\n\r\n            onEnterPopper: SimpleFunction,\r\n            onLeavePopper: SimpleFunction,\r\n\r\n            onReferenceFocus: SimpleFunction,\r\n            onReferenceBlur: SimpleFunction,\r\n\r\n            onClickReference: SimpleFunction,\r\n            onClickBody: SimpleFunction,\r\n            onClickPopper: SimpleFunction,\r\n        },\r\n        off: {\r\n            onEnterReference: SimpleFunction,\r\n            onLeaveReference: SimpleFunction,\r\n\r\n            onEnterPopper: SimpleFunction,\r\n            onLeavePopper: SimpleFunction,\r\n\r\n            onReferenceFocus: SimpleFunction,\r\n            onReferenceBlur: SimpleFunction,\r\n\r\n            onClickReference: SimpleFunction,\r\n            onClickBody: SimpleFunction,\r\n            onClickPopper: SimpleFunction,\r\n        },\r\n        emit: {\r\n            onReferenceFocus: SimpleFunction,\r\n            onReferenceBlur: SimpleFunction,\r\n\r\n            onEnterReference: SimpleFunction,\r\n            onLeaveReference: SimpleFunction,\r\n\r\n            onEnterPopper: SimpleFunction,\r\n            onLeavePopper: SimpleFunction,\r\n        },\r\n    },\r\n) {\r\n    switch (triggerName) {\r\n        case PopperTriggerType.hover:\r\n            return getHoverTrigger({\r\n                model,\r\n                show,\r\n                hide,\r\n                hoverOpenDelay,\r\n                hoverCloseDelay,\r\n                on,\r\n                off,\r\n                emit,\r\n            })\r\n        case PopperTriggerType.click:\r\n            return getClickTrigger({\r\n                model,\r\n                show,\r\n                hide,\r\n                openModel,\r\n                on,\r\n                off,\r\n            })\r\n        case PopperTriggerType.focus:\r\n            return getFocusTrigger({\r\n                show,\r\n                hide,\r\n                reference,\r\n                on,\r\n                off,\r\n                emit,\r\n            })\r\n        case PopperTriggerType.manual:\r\n            return getManualTrigger()\r\n    }\r\n}\r\n\r\nfunction getHoverTrigger({\r\n                             model,\r\n                             show,\r\n                             hide,\r\n                             hoverOpenDelay,\r\n                             hoverCloseDelay,\r\n\r\n                             on,\r\n                             off,\r\n                             emit,\r\n                         }: {\r\n    model: { value: boolean | undefined },\r\n    show: Function,\r\n    hide: Function,\r\n    hoverOpenDelay: number,\r\n    hoverCloseDelay: number,\r\n\r\n    on: {\r\n        onEnterReference: Function,\r\n        onLeaveReference: Function,\r\n\r\n        onEnterPopper: Function,\r\n        onLeavePopper: Function,\r\n\r\n        onReferenceFocus: Function,\r\n        onReferenceBlur: Function,\r\n\r\n        onClickReference: Function,\r\n        onClickPopper: Function,\r\n    },\r\n    off: {\r\n        onEnterReference: Function,\r\n        onLeaveReference: Function,\r\n\r\n        onEnterPopper: Function,\r\n        onLeavePopper: Function,\r\n\r\n        onReferenceFocus: Function,\r\n        onReferenceBlur: Function,\r\n\r\n        onClickReference: Function,\r\n        onClickPopper: Function,\r\n    },\r\n    emit: {\r\n        onReferenceFocus: Function,\r\n        onReferenceBlur: Function,\r\n\r\n        onEnterReference: Function,\r\n        onLeaveReference: Function,\r\n\r\n        onEnterPopper: Function,\r\n        onLeavePopper: Function,\r\n    },\r\n}) {\r\n    let closeTimer: number | undefined;\r\n    let openTimer: number | undefined;\r\n\r\n    const handler = {\r\n        reference: {\r\n            enter: () => {\r\n                if (!!closeTimer) {\r\n                    clearTimeout(closeTimer)\r\n                    closeTimer = undefined\r\n                }\r\n                openTimer = setTimeout(() => {\r\n                    show()\r\n                    openTimer = undefined\r\n                    emit.onEnterReference(model.value)\r\n                }, hoverOpenDelay)\r\n            },\r\n            leave: () => {\r\n                if (!!openTimer) {\r\n                    clearTimeout(openTimer)\r\n                    openTimer = undefined\r\n                }\r\n                closeTimer = setTimeout(() => {\r\n                    hide()\r\n                    closeTimer = undefined\r\n                    emit.onLeaveReference(model.value)\r\n                }, hoverCloseDelay)\r\n            },\r\n        },\r\n        popper: {\r\n            enter: () => {\r\n                if (!!closeTimer) {\r\n                    clearTimeout(closeTimer)\r\n                    closeTimer = undefined\r\n                }\r\n                openTimer = setTimeout(() => {\r\n                    show()\r\n                    openTimer = undefined\r\n                    emit.onEnterPopper(model.value)\r\n                }, hoverOpenDelay)\r\n            },\r\n            leave: () => {\r\n                if (!!openTimer) {\r\n                    clearTimeout(openTimer)\r\n                    openTimer = undefined\r\n                }\r\n                closeTimer = setTimeout(() => {\r\n                    hide()\r\n                    closeTimer = undefined\r\n                    emit.onLeavePopper(model.value)\r\n                }, hoverCloseDelay)\r\n            },\r\n        },\r\n    }\r\n\r\n    return new PopperTrigger(\r\n        PopperTriggerType.hover,\r\n        () => {\r\n            on.onEnterReference(handler.reference.enter)\r\n            on.onLeaveReference(handler.reference.leave)\r\n\r\n            on.onEnterPopper(handler.popper.enter)\r\n            on.onLeavePopper(handler.popper.leave)\r\n        },\r\n        () => {\r\n            off.onEnterReference(handler.reference.enter)\r\n            off.onLeaveReference(handler.reference.leave)\r\n\r\n            off.onEnterPopper(handler.popper.enter)\r\n            off.onLeavePopper(handler.popper.leave)\r\n        }\r\n    )\r\n}\r\n\r\nfunction getClickTrigger({\r\n                             model,\r\n                             show,\r\n                             hide,\r\n                             openModel,\r\n                             on,\r\n                             off,\r\n                         }: {\r\n    model: { value: boolean | undefined },\r\n    show: Function,\r\n    hide: Function,\r\n    openModel: { value: boolean | undefined },\r\n\r\n    on: {\r\n        onClickReference: Function,\r\n        onClickBody: Function,\r\n    },\r\n    off: {\r\n        onClickReference: Function,\r\n        onClickBody: Function,\r\n    },\r\n\r\n}) {\r\n\r\n    const handler = {\r\n        onClickReference: () => {\r\n            if (model.value) {\r\n                hide()\r\n            } else {\r\n                show()\r\n            }\r\n        },\r\n        onClickBody: () => {\r\n            if (openModel.value) {\r\n                hide()\r\n            }\r\n        },\r\n    }\r\n\r\n    return new PopperTrigger(\r\n        PopperTriggerType.click,\r\n        () => {\r\n            on.onClickReference(handler.onClickReference)\r\n            on.onClickBody(handler.onClickBody)\r\n        },\r\n        () => {\r\n            off.onClickReference(handler.onClickReference)\r\n            off.onClickBody(handler.onClickBody)\r\n        },\r\n    )\r\n}\r\n\r\nfunction getFocusTrigger(\r\n    {\r\n        show,\r\n        hide,\r\n        reference,\r\n        on,\r\n        off,\r\n        emit,\r\n    }: {\r\n        show: Function,\r\n        hide: Function,\r\n        reference: HTMLElement,\r\n\r\n        on: {\r\n            onReferenceFocus: Function,\r\n            onReferenceBlur: Function,\r\n        },\r\n        off: {\r\n            onReferenceFocus: Function,\r\n            onReferenceBlur: Function,\r\n        },\r\n        emit: {\r\n            onReferenceFocus: Function,\r\n            onReferenceBlur: Function,\r\n        },\r\n    }\r\n) {\r\n\r\n    let oldTabIndex: string | null;\r\n    const handler = {\r\n        focus: (e: FocusEvent) => {\r\n            emit.onReferenceFocus(e)\r\n            show()\r\n        },\r\n        blur: (e: Event) => {\r\n            emit.onReferenceBlur(e)\r\n            hide()\r\n        },\r\n    }\r\n\r\n    return new PopperTrigger(PopperTriggerType.focus,\r\n        () => {\r\n            oldTabIndex = reference.getAttribute('tabindex')\r\n            if (oldTabIndex == null) {\r\n                reference.setAttribute('tabindex', '0')\r\n            }\r\n            on.onReferenceFocus(handler.focus)\r\n            on.onReferenceBlur(handler.blur)\r\n        },\r\n        () => {\r\n            if (oldTabIndex == null) {\r\n                reference.removeAttribute('tabindex')\r\n            } else {\r\n                reference.setAttribute('tabindex', oldTabIndex)\r\n            }\r\n            off.onReferenceFocus(handler.focus)\r\n            off.onReferenceBlur(handler.blur)\r\n        },\r\n    )\r\n}\r\n\r\nfunction getManualTrigger() {\r\n    return new PopperTrigger(PopperTriggerType.manual,\r\n        () => undefined,\r\n        () => undefined,\r\n    )\r\n}","import {getBaseTrigger} from \"./BaseTrigger\";\r\nimport {SimpleFunction} from \"../../../shims\";\r\n\r\nexport class PopperTrigger {\r\n    data: any\r\n\r\n    constructor(\r\n        public name: PopperTriggerType,     // 触发器名称\r\n        public init: Function,              // 触发器初始化的时候执行函数\r\n        public destroy: Function            // 触发器销毁的时候执行函数\r\n    ) {\r\n    }\r\n}\r\n\r\nexport enum PopperTriggerType {\r\n    hover = 'hover',\r\n    click = 'click',\r\n    focus = 'focus',\r\n    manual = 'manual'\r\n}\r\n\r\nexport function getPopperTrigger(triggerName: PopperTriggerType, {\r\n    model,\r\n    openModel,\r\n\r\n    show,\r\n    hide,\r\n\r\n    hoverOpenDelay,\r\n    hoverCloseDelay,\r\n    reference,\r\n\r\n    on,\r\n    off,\r\n    emit,\r\n}: {\r\n    model: { value: boolean | undefined },\r\n    openModel: { value: boolean | undefined },\r\n\r\n    show: SimpleFunction,\r\n    hide: SimpleFunction,\r\n\r\n    hoverOpenDelay: number,\r\n    hoverCloseDelay: number,\r\n    reference: HTMLElement,\r\n\r\n    on: {\r\n        onClickReference: SimpleFunction,\r\n        onClickBody: SimpleFunction,\r\n        onClickPopper: SimpleFunction,\r\n        onEnterPopper: SimpleFunction,\r\n        onLeavePopper: SimpleFunction,\r\n    },\r\n    off: {\r\n        onClickReference: SimpleFunction,\r\n        onClickBody: SimpleFunction,\r\n        onClickPopper: SimpleFunction,\r\n        onEnterPopper: SimpleFunction,\r\n        onLeavePopper: SimpleFunction,\r\n    },\r\n    emit: {\r\n        onReferenceFocus: SimpleFunction,\r\n        onReferenceBlur: SimpleFunction,\r\n        onEnterReference: SimpleFunction,\r\n        onLeaveReference: SimpleFunction,\r\n        onEnterPopper: SimpleFunction,\r\n        onLeavePopper: SimpleFunction,\r\n    },\r\n\r\n}) {\r\n    return getBaseTrigger(triggerName, {\r\n        model,\r\n        openModel,\r\n        show,\r\n        hide,\r\n\r\n        hoverOpenDelay,\r\n        hoverCloseDelay,\r\n        reference,\r\n\r\n        on: {\r\n            onEnterReference: (cb) => reference.addEventListener('mouseenter', cb),\r\n            onLeaveReference: (cb) => reference.addEventListener('mouseleave', cb),\r\n            onReferenceFocus: (cb) => reference.addEventListener('focus', cb),\r\n            onReferenceBlur: (cb) => reference.addEventListener('blur', cb),\r\n\r\n            onEnterPopper: on.onEnterPopper,\r\n            onLeavePopper: on.onLeavePopper,\r\n            onClickReference: on.onClickReference,\r\n            onClickBody: on.onClickBody,\r\n            onClickPopper: on.onClickPopper,\r\n        },\r\n        off: {\r\n            onEnterReference: (cb) => reference.removeEventListener('mouseenter', cb),\r\n            onLeaveReference: (cb) => reference.removeEventListener('mouseleave', cb),\r\n            onReferenceFocus: (cb) => reference.removeEventListener('focus', cb),\r\n            onReferenceBlur: (cb) => reference.removeEventListener('blur', cb),\r\n\r\n            onEnterPopper: off.onEnterPopper,\r\n            onLeavePopper: off.onLeavePopper,\r\n            onClickReference: off.onClickReference,\r\n            onClickBody: off.onClickBody,\r\n            onClickPopper: off.onClickPopper,\r\n        },\r\n        emit: emit,\r\n    })\r\n}","import {designComponent} from \"../../use/designComponent\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {computed, onMounted, createCommentVNode, Teleport, reactive, markRaw, nextTick, watch, getCurrentInstance, onBeforeUnmount} from 'vue';\r\nimport {createError} from \"../../utils/createError\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport {getElement} from \"../../utils/getElement\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {nextIndex} from \"../../utils/nextIndex\";\r\nimport {PlainPopper} from 'plain-popper'\r\nimport {SimpleFunction} from \"../../shims\";\r\nimport {getPopperTrigger, PopperTrigger, PopperTriggerType} from \"./trigger/PopperTrigger\";\r\nimport {useProps} from \"../../use/useProps\";\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {debounce} from \"plain-utils/utils/debounce\";\r\nimport './popper.scss'\r\nimport {refreshPopperReference} from \"./refershPopperReference\";\r\nimport {delay} from \"plain-utils/utils/delay\";\r\n\r\nconst error = createError('pl-popper')\r\n\r\nexport default designComponent({\r\n    name: 'pl-popper',\r\n    props: {\r\n        modelValue: {type: Boolean},                                // 双向绑定值，当前是否打开\r\n        open: {type: Boolean},                                      // 双向绑定值，当前是否已经打开\r\n        trigger: {type: String, default: 'hover'},                  // 触发动作， hover,click,focus,manual,always\r\n\r\n        title: {type: String},                                      // 标题文本\r\n        message: {type: String},                                    // 内容文本\r\n        disabled: {type: Boolean},                                  // 禁用\r\n        transition: {type: String, default: 'pl-transition-fade'},  // 动画名称：pl-transition-fade, pl-transition-scale, pl-transition-scale-y, pl-transition-popper-drop\r\n        popperClass: {type: [String, Array, Object]},               // popper容器节点样式\r\n        offset: {type: [Number, String]},                           // 偏移量\r\n        width: {type: [Number, String]},                            // 宽度\r\n        height: {type: [Number, String]},                           // 高度\r\n        hoverOpenDelay: {type: [Number, String], default: 0},       // hover触发条件下，打开延迟时间\r\n        hoverCloseDelay: {type: [Number, String], default: 200},    // hover触发条件下，关闭延迟时间\r\n        noContentPadding: {type: Boolean},                          // 去掉默认内容内边距\r\n\r\n        reference: {type: [Function, Element]},                     // 目标dom元素\r\n        placement: {type: String, default: 'bottom-start'},         // 位置\r\n        arrow: {type: Boolean, default: true},                      // 是否需要箭头\r\n\r\n        boundary: {default: 'window'},                              // 边界元素\r\n        sizeEqual: {type: Boolean},                                 // 与reference在方向上大小相等\r\n        scrollAttrs: {type: Object},                                // pl-scroll 属性配置\r\n        popperAttrs: {type: Object},                                // 给popper dom节点传递的属性\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: boolean) => true,\r\n        onUpdateOpen: (val: boolean) => true,\r\n        onInit: () => true,\r\n        onDestroy: () => true,\r\n        onOpen: () => true,\r\n        onClose: () => true,\r\n        onShow: () => true,\r\n        onHide: () => true,\r\n\r\n        onClickReference: (e: MouseEvent) => true,\r\n        onClickPopper: (e: MouseEvent) => true,\r\n        onClickBody: (e: MouseEvent) => true,\r\n        onMousedownPopper: (e: MouseEvent) => true,\r\n\r\n        onEnterReference: (e: MouseEvent) => true,\r\n        onLeaveReference: (e: MouseEvent) => true,\r\n        onEnterPopper: (e: MouseEvent) => true,\r\n        onLeavePopper: (e: MouseEvent) => true,\r\n        onReferenceFocus: (e: FocusEvent) => true,\r\n        onReferenceBlur: (e: Event) => true,\r\n    },\r\n    setup({props, event}) {\r\n\r\n        const {emit, on, off} = event\r\n\r\n        const {slots} = useSlots([\r\n            'popper',\r\n            'title',\r\n        ], true)\r\n\r\n        const {refs} = useRefs({\r\n            comment: HTMLElement,                                               // 注释节点，用来查找reference的第一个节点\r\n            popper: HTMLDivElement,                                             // popper div 节点\r\n            content: HTMLDivElement,                                            // popper content 节点\r\n        });\r\n\r\n        /*---------------------------------------state-------------------------------------------*/\r\n\r\n        const {propsState} = useProps(props, {\r\n            hoverOpenDelay: useProps.NUMBER,\r\n            hoverCloseDelay: useProps.NUMBER,\r\n            offset: useProps.NUMBER,\r\n            width: useProps.NUMBER,\r\n            height: useProps.NUMBER,\r\n        })\r\n\r\n        const model = useModel(() => props.modelValue, emit.onUpdateModelValue, {autoEmit: false, autoWatch: false})\r\n        const openModel = useModel(() => props.open, emit.onUpdateOpen, {autoEmit: false, autoWatch: false})\r\n\r\n        const state = reactive({\r\n            el: {\r\n                popper: null as null | HTMLElement,                             // popper 节点\r\n                comment: null as null | HTMLElement,                            // comment 节点\r\n                reference: null as null | HTMLElement,                          // comment.nextElementSibling，也就是 reference 的第一个节点\r\n            },\r\n            referenceEl: null as null | HTMLElement,                            // 真正的 reference 对象获取方法\r\n            zIndex: nextIndex(),                                                // popper zIndex值\r\n            onTransitionend: null as null | ((e: Event) => void),               // 当show或者hide，需要监听一次 transitionend事件，所以这里有可能是null\r\n            init: false,                                                        // 当前是否已经初始化popper content及其Popper对象\r\n            popper: null as null | PlainPopper,                                 // PlainPopper 对象\r\n            trigger: null as null | PopperTrigger,                              // 触发类型\r\n        })\r\n\r\n        /**\r\n         * 检查默认插槽中是否存在多个节点，如果是则发出警告\r\n         * @author  韦胜健\r\n         * @date    2020/11/17 9:45\r\n         */\r\n        const referenceVNode = computed(() => {\r\n            const slot = slots.default() as any\r\n            if (!slot) {\r\n                return null\r\n            }\r\n            if (slot.length > 1) {\r\n                error('allows only one child node!')\r\n            }\r\n            return slot[0]\r\n        })\r\n\r\n        /*---------------------------------------computed-------------------------------------------*/\r\n\r\n        /**\r\n         * 当前方向，用来配置sizeEqual使用\r\n         * @author  韦胜健\r\n         * @date    2020/11/17 10:49\r\n         */\r\n        const direction = computed(() => {\r\n            const [direction] = props.placement.split('-')\r\n            return direction as 'top' | 'bottom' | 'left' | 'right'\r\n        })\r\n\r\n        const popperClasses = computed(() => [\r\n            'pl-popper',\r\n            'plain-popper',\r\n            props.transition,\r\n            props.popperClass,\r\n            {\r\n                'pl-popper-show': model.value,\r\n                'pl-popper-open': openModel.value,\r\n                // 'pl-popper-ready': state.ready,\r\n                'pl-popper-show-arrow': props.arrow,\r\n                'pl-popper-no-content-padding': props.noContentPadding,\r\n            }\r\n        ])\r\n\r\n        const popperStyles = useStyles(style => {\r\n            style.zIndex = state.zIndex\r\n        })\r\n\r\n        const sizeStyles = useStyles(styles => {\r\n            propsState.height != null && (styles.height = `${propsState.height}px`);\r\n            propsState.width != null && (styles.width = `${propsState.width}px`);\r\n            if (!!props.sizeEqual && !!state.referenceEl) {\r\n                if (['top', 'bottom'].indexOf(direction.value) > -1) {\r\n                    styles.width = (state.referenceEl as HTMLElement).offsetWidth + 'px'\r\n                } else if (['left', 'right'].indexOf(direction.value) > -1) {\r\n                    styles.height = (state.referenceEl as HTMLElement).offsetHeight + 'px'\r\n                }\r\n            }\r\n            return styles\r\n        })\r\n\r\n        const scrollAttrs = computed(() => {\r\n            if (!propsState.height) {\r\n                return null\r\n            } else {\r\n                return Object.assign({\r\n                    fitHostWidth: true,\r\n                }, props.scrollAttrs)\r\n            }\r\n        })\r\n\r\n        /*---------------------------------------handler-------------------------------------------*/\r\n\r\n        const handler = {\r\n            onPopperContentTransitionend: (e: Event) => !!state.onTransitionend && state.onTransitionend(e),\r\n            onClickReference: (e: MouseEvent) => {\r\n                emit.onClickReference(e)\r\n            },\r\n            onClickPopper: (e: MouseEvent) => {\r\n                emit.onClickPopper(e)\r\n            },\r\n            onClickBody: (e: MouseEvent) => {\r\n                if (!model.value && !openModel.value) {\r\n                    return;\r\n                }\r\n                if (state.referenceEl!.contains(e.target as Node)) {\r\n                    /*点击了reference*/\r\n                    return\r\n                }\r\n                if (!!refs.content && refs.content!.contains(e.target as Node)) {\r\n                    /*点击了content*/\r\n                    return\r\n                }\r\n                emit.onClickBody(e)\r\n            },\r\n        }\r\n\r\n        /*---------------------------------------utils-------------------------------------------*/\r\n\r\n        const utils = {\r\n            init: (): boolean => {\r\n                let {comment, reference} = state.el\r\n                if (!!comment && !!reference) {\r\n                    state.referenceEl = reference\r\n                } else if (!!props.reference) {\r\n                    state.referenceEl = getElement(typeof props.reference === \"function\" ? (props.reference as SimpleFunction)() : props.reference)\r\n                } else {\r\n                    /*没有reference，等待reference初始化在初始化popper*/\r\n                    return false\r\n                }\r\n                utils.bindEvents()\r\n\r\n                state.trigger = getPopperTrigger(props.trigger as PopperTriggerType, {\r\n                    model,\r\n                    openModel: openModel,\r\n                    show: methods.show,\r\n                    hide: methods.hide,\r\n\r\n                    hoverOpenDelay: propsState.hoverOpenDelay as number,\r\n                    hoverCloseDelay: propsState.hoverCloseDelay as number,\r\n\r\n                    reference: state.referenceEl as HTMLElement,\r\n\r\n                    on,\r\n                    off,\r\n                    emit,\r\n                })\r\n\r\n                state.trigger.init()\r\n                emit.onInit()\r\n\r\n                return true\r\n            },\r\n            destroy: () => {\r\n                utils.unbindEvents()\r\n                if (!!state.trigger) {\r\n                    state.trigger.destroy()\r\n                }\r\n                if (!!state.popper) {\r\n                    state.popper.destroy()\r\n                }\r\n                emit.onDestroy()\r\n            },\r\n            bindEvents: () => {\r\n                if (!!state.referenceEl) {\r\n                    state.referenceEl.addEventListener('click', handler.onClickReference)\r\n                }\r\n                document.body.addEventListener('click', handler.onClickBody, true)\r\n            },\r\n            unbindEvents: () => {\r\n                if (!!state.referenceEl) {\r\n                    state.referenceEl.removeEventListener('click', handler.onClickReference)\r\n                }\r\n                document.body.removeEventListener('click', handler.onClickBody, true)\r\n            },\r\n            initPopper: () => {\r\n                state.popper = new PlainPopper({\r\n                    popper: refs.popper,\r\n                    reference: state.referenceEl!,\r\n                    padding: 50,\r\n                    placement: props.placement as any,\r\n                    offset: Number(props.offset || (!!props.arrow ? 0 : 2)),\r\n                    boundary: props.boundary,\r\n                    arrowSize: !props.arrow ? 0 : undefined,\r\n                    shouldUpdate: () => !!model.value\r\n                })\r\n            }\r\n        }\r\n\r\n        /*---------------------------------------methods-------------------------------------------*/\r\n\r\n        const methods = {\r\n            show: async (shouldEmit = true) => {\r\n                if (props.disabled) {\r\n                    return\r\n                }\r\n                if (!state.init) {\r\n                    state.init = true\r\n                    await nextTick()\r\n                    await utils.initPopper()\r\n                }\r\n                state.popper!.refresh()\r\n\r\n                /*这里要有一定的延迟，否则popper的属性 direction以及align更新没有结束，导致动画的方向不对*/\r\n                await nextTick()\r\n                await delay(50)\r\n\r\n                state.zIndex = nextIndex()\r\n                model.value = true\r\n                emit.onShow()\r\n                if (shouldEmit) {\r\n                    emit.onUpdateModelValue(model.value)\r\n                }\r\n                state.onTransitionend = () => {\r\n                    openModel.value = true\r\n                    state.onTransitionend = null\r\n                }\r\n            },\r\n            hide: (shouldEmit = true) => {\r\n                model.value = false\r\n                emit.onHide()\r\n                if (shouldEmit) {\r\n                    emit.onUpdateModelValue(model.value)\r\n                }\r\n                state.onTransitionend = () => {\r\n                    openModel.value = false\r\n                    state.onTransitionend = null\r\n                }\r\n            },\r\n            toggle: async () => {\r\n                model.value ? await methods.hide() : await methods.show()\r\n            },\r\n            refresh: () => {\r\n                if (!state.referenceEl) return\r\n                state.popper!.refresh()\r\n            },\r\n            refreshReference: async () => {\r\n                await nextTick()\r\n                const comment = getElement(refs.comment)\r\n                const reference = !!comment ? comment!.nextElementSibling as HTMLElement : null\r\n                // console.log(reference, state.el.reference)\r\n                if (!!reference && reference !== state.el.reference) {\r\n                    await utils.destroy()\r\n                    state.el.reference = markRaw(reference)\r\n                    await utils.init()\r\n                }\r\n            }\r\n        }\r\n\r\n        onMounted(async () => {\r\n\r\n            const popper = getElement(refs.popper)\r\n            const comment = getElement(refs.comment)\r\n            const reference = !!comment ? comment!.nextElementSibling as HTMLElement : null\r\n            // console.log({popper, comment, reference})\r\n\r\n            state.el = markRaw({popper, comment, reference})\r\n\r\n            await utils.init()\r\n            if (model.value) {\r\n                await methods.show(false)\r\n            }\r\n        })\r\n\r\n        onBeforeUnmount(() => utils.destroy())\r\n        refreshPopperReference.provide(methods.refreshReference)\r\n\r\n        /*---------------------------------------watch-------------------------------------------*/\r\n        watch(() => props.modelValue, (val) => {\r\n            if (val === model.value) {\r\n                return\r\n            }\r\n            if (val) {\r\n                methods.show(false)\r\n            } else {\r\n                methods.hide(false)\r\n            }\r\n        })\r\n        // watch(() => model.value, (val) => {})\r\n        watch(() => openModel.value, (val) => {\r\n            if (!!val) {\r\n                emit.onUpdateOpen(true)\r\n                emit.onOpen()\r\n            } else {\r\n                emit.onUpdateOpen(false)\r\n                emit.onClose()\r\n            }\r\n        })\r\n        watch(() => props.placement, (val) => {\r\n            if (!!state.popper) {\r\n                state.popper.setPlacement(val as any)\r\n            }\r\n        })\r\n\r\n        const ctx = getCurrentInstance()!\r\n        const popperConfigChangeHandler = debounce(async () => {\r\n            // console.log('popperConfigChangeHandler')\r\n            await nextTick()\r\n            if (ctx.isUnmounted) {\r\n                return\r\n            }\r\n            await utils.destroy()\r\n            await utils.init()\r\n            if (!state.referenceEl) {\r\n                if (!!state.popper) {\r\n                    state.popper.destroy()\r\n                    state.popper = null\r\n                }\r\n                return\r\n            }\r\n            if (!!state.popper) {\r\n                await utils.initPopper()\r\n            }\r\n        }, 50)\r\n        watch(() => props.reference, popperConfigChangeHandler)\r\n        watch(() => props.arrow, popperConfigChangeHandler)\r\n        watch(() => props.trigger, popperConfigChangeHandler)\r\n\r\n        /*---------------------------------------render-------------------------------------------*/\r\n\r\n        const Comment = createCommentVNode('') as any\r\n\r\n        return {\r\n            refer: {\r\n                event,\r\n                state,\r\n                ...methods,\r\n            },\r\n            render: () => {\r\n                const {value: ReferenceVNode} = referenceVNode\r\n                return (\r\n                    <>\r\n                        {/*如果没有reference，则不渲染comment节点*/}\r\n                        {!!ReferenceVNode && <>\r\n                            <Comment ref=\"comment\"/>\r\n                            <ReferenceVNode/>\r\n                        </>}\r\n\r\n                        {state.init && <Teleport to=\".pl-root-service-container\">\r\n                            <div class={popperClasses.value}\r\n                                 style={popperStyles.value}\r\n                                 {...(props.popperAttrs || {})}\r\n                                 ref=\"popper\">\r\n                                <div class=\"plain-popper-content\"\r\n                                     ref=\"content\"\r\n\r\n                                     onClick={emit.onClickPopper}\r\n                                     onTransitionend={handler.onPopperContentTransitionend}\r\n                                     onMousedown={emit.onMousedownPopper}\r\n                                     {...(props.trigger === 'hover' ? {\r\n                                         onMouseenter: emit.onEnterPopper,\r\n                                         onMouseleave: emit.onLeavePopper,\r\n                                     } : {})}\r\n                                >\r\n                                    <div class=\"plain-popper-arrow\"/>\r\n                                    {(props.title || slots.title.isExist()) && <div class=\"pl-popper-title\">\r\n                                        {props.title || slots.title()}\r\n                                    </div>}\r\n                                    {(props.message || slots.popper.isExist()) && <div class=\"pl-popper-content-inner\" style={sizeStyles.value}>\r\n                                        {!!scrollAttrs.value ? (\r\n                                            <pl-scroll {...scrollAttrs.value}>\r\n                                                {props.message || slots.popper()}\r\n                                            </pl-scroll>\r\n                                        ) : (props.message || slots.popper())}\r\n                                    </div>}\r\n                                </div>\r\n                            </div>\r\n                        </Teleport>}\r\n                    </>\r\n                )\r\n            }\r\n        }\r\n    },\r\n}, {\r\n    refreshPopperReference,\r\n})","import {createDefaultService} from \"../../root/createDefaultService\";\r\nimport {PopperServiceOption} from \"./index\";\r\nimport {nextTick, reactive, ref} from 'vue';\r\n\r\nexport const PopperService = createDefaultService({\r\n    name: 'pl-popper-service',\r\n    setup(option: PopperServiceOption) {\r\n\r\n        const isShow = ref(false)\r\n        const isOpen = ref(false)\r\n\r\n        const state = reactive({\r\n            option,\r\n        })\r\n\r\n        async function service(option: PopperServiceOption) {\r\n            if (!option.getService || option.getService !== getRefer) {\r\n                /*clear*/\r\n                state.option.getService = undefined\r\n                /*init*/\r\n                state.option = option\r\n                state.option.getService = getRefer\r\n                await nextTick()\r\n            }\r\n            show()\r\n        }\r\n\r\n        function show() {\r\n            isShow.value = true\r\n        }\r\n\r\n        function hide() {\r\n            isShow.value = false\r\n        }\r\n\r\n        const refer = {\r\n            state,\r\n            isShow,\r\n            isOpen,\r\n            service,\r\n            show,\r\n            hide,\r\n        }\r\n\r\n        const getRefer = () => refer\r\n\r\n        /*---------------------------------------handler-------------------------------------------*/\r\n\r\n        const handler = {\r\n            onClickBody: (e: MouseEvent) => {\r\n                if (state.option.hideOnClickBody !== false) {\r\n                    hide()\r\n                }\r\n            }\r\n        }\r\n\r\n        return {\r\n            refer,\r\n            render: () => (\r\n                <pl-popper\r\n                    v-model={isShow.value}\r\n                    {...{\r\n                        trigger: 'manual',\r\n                        reference: state.option.reference,\r\n                        'onUpdate:open': (val: boolean) => isOpen.value = val,\r\n                        ...handler,\r\n                        ...(state.option.popperAttrs || {}),\r\n                    }}\r\n                    v-slots={{\r\n                        popper: state.option.render,\r\n                    }}\r\n                />\r\n            )\r\n        }\r\n    },\r\n})","import {SimpleFunction, VNodeChild} from \"../../../shims\";\r\nimport {registryRootService, RootServiceScope} from \"../../root/registryRootService\";\r\nimport {createDefaultManager} from \"../../root/createDefaultManager\";\r\nimport {PopperService} from \"./popper-service\";\r\nimport {App, computed, reactive} from 'vue';\r\nimport {createPlainEvent, PlainEvent} from \"../../../plugins/Event\";\r\n\r\nexport interface PopperServiceOption {\r\n    reference: () => any,                                                   // popper reference 目标元素\r\n    render: () => VNodeChild,                                               // popper content 内容\r\n    popperAttrs: () => any,                                                 // pl-popper 属性或者监听的事件\r\n    getService?: () => typeof PopperService.use.class,                      // option被提供服务之后，service与option绑定关系\r\n    hideOnClickBody?: boolean,                                              // 是否点击外部body的时候自动关闭\r\n}\r\n\r\nconst getPopperService = registryRootService(\r\n    'popper',\r\n    createDefaultManager('pl-popper-manager', PopperService),\r\n    (getManager, ins) => {\r\n\r\n        return (option: PopperServiceOption) => {\r\n\r\n            /*---------------------------------------create popper agent-------------------------------------------*/\r\n            const state = reactive({option})\r\n            const service = computed(() => !state.option.getService ? null : state.option.getService())\r\n            const isShow = computed(() => !!service.value && service.value.isShow.value)\r\n            const isOpen = computed(() => !!service.value && service.value.isShow.value)\r\n            const agent = reactive({\r\n                isShow,\r\n                isOpen,\r\n                service,\r\n                show: () => !!agent.service ? agent.service.show() : getManager().then(manager => manager.service(state.option)),\r\n                hide: () => !!agent.service && agent.service.hide(),\r\n                toggle: () => isShow.value ? agent.hide() : agent.show(),\r\n                destroy: () => {\r\n                    agent.hide()\r\n                    state.option.getService = undefined\r\n                }\r\n            })\r\n\r\n            UnmountListener.on(ins, () => {\r\n                agent.hide()\r\n                state.option.getService = undefined\r\n            })\r\n\r\n            return agent\r\n        }\r\n    },\r\n    RootServiceScope.ins,\r\n)\r\n\r\nconst UnmountListener = (() => {\r\n\r\n    const map = new Map<string, PlainEvent>()\r\n    const EVENT_NAME = 'UnmountListener'\r\n\r\n    return {\r\n        /**\r\n         * 派发了beforeUnmount事件之后，组件已经销毁，所以event已经没有必要了，这里也要销毁event\r\n         * @author  韦胜健\r\n         * @date    2020/11/25 21:28\r\n         */\r\n        emit: (ctx: any) => {\r\n            const event = map.get(ctx._.uid)\r\n            if (!!event) {\r\n                event.emit(EVENT_NAME)\r\n                event.clear()\r\n                map.delete(ctx)\r\n            }\r\n        },\r\n        on: (ctx: any, handler: SimpleFunction) => {\r\n            let event = map.get(ctx._.uid)\r\n            if (!event) {\r\n                event = createPlainEvent()\r\n                map.set(ctx._.uid, event)\r\n            }\r\n            event.on(EVENT_NAME, handler)\r\n        },\r\n    }\r\n})();\r\n\r\nexport default {\r\n    install(app: App) {\r\n        app.mixin({\r\n            beforeCreate() {\r\n                Object.defineProperty(this, '$popper', {\r\n                    get() {\r\n                        return getPopperService(this)\r\n                    },\r\n                })\r\n            },\r\n            beforeUnmount() {\r\n                UnmountListener.emit(this)\r\n            }\r\n        })\r\n    },\r\n}","import Popper from './popper'\r\nimport PopperService from './service'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(Popper, {expose: {PopperService}, plugins: [PopperService]})","import {designComponent} from \"../../use/designComponent\";\r\nimport Scroll from './scroll'\r\nimport {reactive, computed, resolveDirective, withDirectives} from 'vue';\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {disabledUserSelect} from \"plain-utils/dom/disabledUserSelect\";\r\nimport {enableUserSelect} from \"plain-utils/dom/enableUserSelect\";\r\n\r\nexport const VerticalScrollbar = designComponent({\r\n    props: {\r\n        tooltip: {type: String},\r\n    },\r\n    setup({props}) {\r\n\r\n        const scroll = Scroll.use.inject()\r\n\r\n        const dragState = {\r\n            top: 0,\r\n            clientY: 0,\r\n        }\r\n\r\n        const state = reactive({\r\n            scrollTop: 0,\r\n        })\r\n\r\n        const height = computed(() => {\r\n            return scroll.state.contentHeight > scroll.state.hostHeight ?\r\n                (scroll.state.hostHeight * scroll.state.hostHeight / scroll.state.contentHeight)\r\n                : 0\r\n        })\r\n        const top = computed(() => {\r\n            return (scroll.state.hostHeight - height.value) * state.scrollTop / (scroll.state.contentHeight - scroll.state.hostHeight)\r\n        })\r\n\r\n        const styles = useStyles(() => {\r\n            return {\r\n                height: `${height.value}px`,\r\n                width: `${scroll.targetScrollbarSize.value}px`,\r\n                top: `${top.value}px`,\r\n                backgroundColor: scroll.props.scrollbarColor,\r\n            }\r\n        })\r\n\r\n        const handler = {\r\n            onScroll: (e: Event) => {\r\n                state.scrollTop = (e.target as HTMLElement).scrollTop\r\n            },\r\n            onMousedown: (e: MouseEvent) => {\r\n                scroll.freezeState.isDragging = true\r\n                dragState.top = top.value\r\n                dragState.clientY = e.clientY\r\n                document.addEventListener('mousemove', handler.onMousemove)\r\n                document.addEventListener('mouseup', handler.onMouseup)\r\n                disabledUserSelect()\r\n            },\r\n            onMousemove: (e: MouseEvent) => {\r\n                let deltaY = e.clientY - dragState.clientY\r\n                let top = dragState.top + deltaY\r\n                let scrollTop = top * (scroll.state.contentHeight - scroll.state.hostHeight) / (scroll.state.hostHeight - height.value)\r\n                scrollTop = Math.max(0, Math.min(scrollTop, scroll.state.contentHeight - scroll.state.hostHeight))\r\n                if (!scroll.props.scrollAfterDragEnd) {\r\n                    scroll.refs.wrapper.scrollTop = scrollTop\r\n                } else {\r\n                    /*滚动条发生位移，但是内容scrollTop暂时不变*/\r\n                    state.scrollTop = scrollTop\r\n                }\r\n            },\r\n            onMouseup: (e: MouseEvent) => {\r\n                scroll.freezeState.isDragging = false\r\n                document.removeEventListener('mousemove', handler.onMousemove)\r\n                document.removeEventListener('mouseup', handler.onMouseup)\r\n                enableUserSelect()\r\n\r\n                if (scroll.props.scrollAfterDragEnd) {\r\n                    let deltaY = e.clientY - dragState.clientY\r\n                    let top = dragState.top + deltaY\r\n                    scroll.refs.wrapper.scrollTop = top * (scroll.state.contentHeight - scroll.state.hostHeight) / (scroll.state.hostHeight - height.value)\r\n                }\r\n            },\r\n        }\r\n\r\n        scroll.on.onScroll(handler.onScroll)\r\n\r\n        return {\r\n            render: () => {\r\n\r\n                let content = <div class=\"pl-vertical-scrollbar\" style={styles.value} onMousedown={handler.onMousedown}/> as any\r\n                if (!!props.tooltip) {\r\n                    const TooltipDirective = resolveDirective('tooltip')\r\n                    if (!!TooltipDirective) {\r\n                        content = withDirectives(content, [[TooltipDirective, props.tooltip]])\r\n                    }\r\n                }\r\n\r\n                return (\r\n                    <div class=\"pl-vertical-scrollbar-wrapper\">\r\n                        {content}\r\n                    </div>\r\n                )\r\n            }\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport Scroll from \"./scroll\";\r\nimport {reactive, computed, withDirectives, resolveDirective} from 'vue';\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {disabledUserSelect} from \"plain-utils/dom/disabledUserSelect\";\r\nimport {enableUserSelect} from \"plain-utils/dom/enableUserSelect\";\r\n\r\nexport const HorizontalScrollbar = designComponent({\r\n    props: {\r\n        tooltip: {type: String},\r\n    },\r\n    setup({props}) {\r\n\r\n        const dragState = {\r\n            left: 0,\r\n            clientX: 0,\r\n        }\r\n\r\n        const scroll = Scroll.use.inject()\r\n\r\n        const state = reactive({\r\n            scrollLeft: 0,\r\n        })\r\n\r\n        const width = computed(() => {\r\n            return scroll.state.contentWidth > scroll.state.hostWidth ? (scroll.state.hostWidth * scroll.state.hostWidth) / scroll.state.contentWidth : 0\r\n        })\r\n        const left = computed(() => {\r\n            return (scroll.state.hostWidth - width.value) * state.scrollLeft / (scroll.state.contentWidth - scroll.state.hostWidth)\r\n        })\r\n        const styles = useStyles(() => ({\r\n            height: `${scroll.targetScrollbarSize.value}px`,\r\n            width: `${width.value}px`,\r\n            left: `${left.value}px`,\r\n            backgroundColor: scroll.props.scrollbarColor,\r\n        }))\r\n\r\n        const handler = {\r\n            onScroll: (e: Event) => {\r\n                state.scrollLeft = (e.target as HTMLElement).scrollLeft\r\n            },\r\n            onMousedown: (e: MouseEvent) => {\r\n                scroll.freezeState.isDragging = true\r\n                dragState.left = left.value\r\n                dragState.clientX = e.clientX\r\n                document.addEventListener('mousemove', handler.onMousemove)\r\n                document.addEventListener('mouseup', handler.onMouseup)\r\n                disabledUserSelect()\r\n            },\r\n            onMousemove: (e: MouseEvent) => {\r\n                let deltaX = e.clientX - dragState.clientX\r\n                const left = dragState.left + deltaX\r\n                let scrollLeft = left * (scroll.state.contentWidth - scroll.state.hostWidth) / (scroll.state.hostWidth - width.value)\r\n                scrollLeft = Math.max(0, Math.min(scrollLeft, scroll.state.contentWidth - scroll.state.hostWidth))\r\n                if (!scroll.props.scrollAfterDragEnd) {\r\n                    scroll.refs.wrapper.scrollLeft = scrollLeft\r\n                } else {\r\n                    state.scrollLeft = scrollLeft\r\n                }\r\n            },\r\n            onMouseup: (e: MouseEvent) => {\r\n                scroll.freezeState.isDragging = false\r\n                document.removeEventListener('mousemove', handler.onMousemove)\r\n                document.removeEventListener('mouseup', handler.onMouseup)\r\n                enableUserSelect()\r\n\r\n                if (scroll.props.scrollAfterDragEnd) {\r\n                    let deltaX = e.clientX - dragState.clientX\r\n                    const left = dragState.left + deltaX\r\n                    scroll.refs.wrapper.scrollLeft = left * (scroll.state.contentWidth - scroll.state.hostWidth) / (scroll.state.hostWidth - width.value)\r\n                }\r\n            },\r\n        }\r\n\r\n        scroll.on.onScroll(handler.onScroll)\r\n\r\n        return {\r\n            render: () => {\r\n                let content = <div class=\"pl-horizontal-scrollbar\" style={styles.value} onMousedown={handler.onMousedown}/> as any\r\n                if (!!props.tooltip) {\r\n                    const TooltipDirective = resolveDirective('tooltip')\r\n                    if (!!TooltipDirective) {\r\n                        content = withDirectives(content, [[TooltipDirective, props.tooltip]])\r\n                    }\r\n                }\r\n                return (\r\n                    <div class=\"pl-horizontal-scrollbar-wrapper\">\r\n                        {content}\r\n                    </div>\r\n                )\r\n            }\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport {useMounted} from \"../../use/useMounted\";\r\nimport {computed, nextTick, onBeforeUnmount, onMounted, reactive, watch} from 'vue';\r\nimport {throttle} from 'plain-utils/utils/throttle';\r\nimport {ResizeDetectFuncParam, ResizeDetectorDirective} from \"../../plugins/ResizeDetector\";\r\nimport Popper from '../popper'\r\nimport './scroll.scss'\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {VerticalScrollbar} from \"./vertical-scrollbar\";\r\nimport {HorizontalScrollbar} from \"./horizontal-scrollbar\";\r\nimport {delay} from \"plain-utils/utils/delay\";\r\nimport {debounce} from \"plain-utils/utils/debounce\";\r\n\r\nexport const enum PLAIN_SCROLL_VERTICAL_POSITION {\r\n    top = 'top',\r\n    center = 'center',\r\n    bottom = 'bottom'\r\n}\r\n\r\nconst Scroll = designComponent({\r\n    name: 'pl-scroll',\r\n    directives: {resize: ResizeDetectorDirective},\r\n    props: {\r\n        refreshState: {},                                                                               // 监听改属性，以便自动执行refresh刷新\r\n        scrollbarSize: {type: Number},                                                                  // 滚动条大小\r\n        scrollbarColor: {type: String, default: 'rgba(144,147,153,.3)'},                                // 滚动条颜色\r\n        scrollX: {type: Boolean},                                                                       // 可以横向滚动\r\n        scrollY: {type: Boolean, default: true},                                                        // 可以纵向滚动\r\n        hideScrollbar: {type: Boolean},                                                                 // 隐藏滚动条\r\n        alwaysShowScrollbar: {type: Boolean},                                                           // 一直显示滚动条\r\n        fitContentWidth: {type: Boolean},                                                               // 适配内容宽度\r\n        fitContentHeight: {type: Boolean},                                                              // 适配内容高度\r\n        fitHostWidth: {type: Boolean},                                                                  // 适配容器宽度\r\n        fitHostHeight: {type: Boolean},                                                                 // 适配容器高度\r\n        topThreshold: {type: Number, default: 20},                                                      // 距离顶部多少距离派发滚动到顶部事件\r\n        bottomThreshold: {type: Number, default: 20},                                                   // 距离底部多少距离派发滚动到底部事件\r\n        autoScrollSpeed: {type: Number, default: 400},                                                  // 自动滚动的时候的速度，每秒钟滚动的距离\r\n        scrollAfterDragEnd: {type: Boolean,},                                                           // 是否拖拽结束后才刷新滚动位置\r\n        disableListTransition: {type: Boolean,},                                                        // 是否股弄懂的时候禁用pl-list的队列动画\r\n        horizontalScrollbarTooltip: {type: String},                                                     // 横向滚动条tooltip显示文本\r\n        verticalScrollbarTooltip: {type: String},                                                       // 纵向滚动条tooltip显示文本\r\n    },\r\n    emits: {\r\n        onScroll: (e: Event) => true,\r\n        onVerticalScrollTop: (e: Event) => true,\r\n        onVerticalScrollBottom: (e: Event) => true,\r\n        onVerticalScrollCenter: (e: Event) => true,\r\n    },\r\n    provideRefer: true,\r\n    setup({props, event: {emit, on, off}}) {\r\n\r\n        const {slots} = useSlots(['content'])\r\n\r\n        /*---------------------------------------ref-------------------------------------------*/\r\n\r\n        const {refs} = useRefs({\r\n            host: HTMLDivElement,\r\n            wrapper: HTMLDivElement,\r\n            content: HTMLDivElement,\r\n        })\r\n\r\n        /*---------------------------------------state-------------------------------------------*/\r\n\r\n        const mounted = useMounted()\r\n        const popper = Popper.use.inject(null)\r\n        /*非响应式状态*/\r\n        const freezeState = {\r\n            verticalPosition: PLAIN_SCROLL_VERTICAL_POSITION.top,               // 当前滚动纵向位置，top，center，right\r\n            cancelAnimate: null as null | number,                               // 自动滚动动画计时器\r\n            wrapperScrollTop: 0,                                                // 容器 scrollTop\r\n            wrapperScrollLeft: 0,                                               // 容器 scrollLeft\r\n            emitScroll: true,                                                   // 当前是否派发scroll事件\r\n\r\n            _isDragging: false,\r\n            get isDragging() {\r\n                return this._isDragging\r\n            },\r\n            set isDragging(val: boolean) {\r\n                this._isDragging = val\r\n                if (val) {\r\n                    refs.host.setAttribute('is-dragging', '')\r\n                } else {\r\n                    refs.host.removeAttribute('is-dragging')\r\n                }\r\n            },\r\n        }\r\n        const state = reactive({\r\n            contentWidth: 0,                                                    // 内容宽度\r\n            contentHeight: 0,                                                   // 内容高度\r\n            hostWidth: 0,                                                       // 容器宽度\r\n            hostHeight: 0,                                                      // 容器高度\r\n        })\r\n\r\n        /*---------------------------------------computed-------------------------------------------*/\r\n\r\n        const targetScrollbarSize = computed(() => {\r\n            if (!props.scrollX) {\r\n                return props.scrollbarSize || 6\r\n            } else {\r\n                return props.scrollbarSize || 9\r\n            }\r\n        })\r\n\r\n        const classes = computed(() => [\r\n            `pl-scroll`,\r\n            {\r\n                'pl-scroll-always-show-scroll-bar': props.alwaysShowScrollbar,\r\n            }\r\n        ])\r\n\r\n        const hostStyles = useStyles(style => {\r\n            if (!mounted.value) return style\r\n            if (props.fitContentHeight) {\r\n                style.height = `${state.contentHeight}px`\r\n            }\r\n            return style\r\n        })\r\n\r\n        const wrapperStyles = useStyles(style => {\r\n            if (!mounted.value) return style\r\n            if (props.fitContentHeight) {\r\n                style.height = `${state.contentHeight + 17}px`\r\n            }\r\n            return style\r\n        })\r\n\r\n        const contentStyles = useStyles(style => {\r\n            if (!mounted.value) return style\r\n            if (!props.scrollX) {\r\n                style.width = props.fitContentWidth && state.contentWidth > 0 ? `${state.contentWidth}px` : `100%`;\r\n                style.overflowX = 'hidden'\r\n            }\r\n\r\n            if (!props.scrollY) {\r\n                style.height = props.fitContentHeight && state.contentHeight > 0 ? `${state.contentHeight}px` : `100%`;\r\n                style.overflowY = 'hidden'\r\n            }\r\n\r\n            if (props.fitHostHeight) {\r\n                style.height = '100%'\r\n            }\r\n            if (props.fitHostWidth) {\r\n                style.width = '100%'\r\n            }\r\n            if (props.fitContentWidth) {\r\n                style.width = `${state.contentWidth}px`\r\n            }\r\n            if (props.fitContentHeight) {\r\n                style.height = `${state.contentHeight}px`\r\n            }\r\n\r\n            return style\r\n        })\r\n\r\n        /*---------------------------------------methods-------------------------------------------*/\r\n\r\n\r\n        const methods = {\r\n            refresh: async () => {\r\n                await nextTick()\r\n\r\n                const {scrollWidth: width1, scrollHeight: height1} = refs.content\r\n                handler.contentResize({\r\n                    width: Math.ceil(width1),\r\n                    height: Math.ceil(height1),\r\n                })\r\n\r\n                const {scrollWidth: width2, scrollHeight: height2} = refs.host\r\n                handler.hostResize({\r\n                    width: Math.ceil(width2),\r\n                    height: Math.ceil(height2),\r\n                })\r\n            },\r\n            /**\r\n             * 滚动到指定位置\r\n             * @author  韦胜健\r\n             * @date    2020/12/7 12:20\r\n             * @param   point\r\n             * @param   point.x             // 滚动scrollLeft值\r\n             * @param   point.y             // 滚动scrollTop值\r\n             * @param   configOrTime        // number|{ time?: number, noEmitScroll?: boolean }\r\n             * @param   configOrTime.time   // 滚动的时间\r\n             * @param   configOrTime.noEmitScroll //滚动期间不派发scroll事件\r\n             */\r\n            async scroll(point: { x?: number, y?: number }, configOrTime?: number | { time?: number, noEmitScroll?: boolean }) {\r\n\r\n                if (!refs.wrapper) return\r\n\r\n                const config = typeof configOrTime === \"number\" ? {time: configOrTime} : configOrTime\r\n                const {time, noEmitScroll} = (config || {})\r\n\r\n                // if (point.x != null) this.wrapper!.scrollLeft = point.x\r\n                // if (point.y != null) this.wrapper!.scrollTop = point.y\r\n\r\n                if (noEmitScroll) {\r\n                    freezeState.emitScroll = false\r\n                }\r\n                const done = () => noEmitScroll && (freezeState.emitScroll = true)\r\n\r\n                if (!time) {\r\n                    if (point.x != null) refs.wrapper!.scrollLeft = point.x\r\n                    if (point.y != null) refs.wrapper!.scrollTop = point.y\r\n                    await delay(23)\r\n                    done()\r\n                } else {\r\n\r\n                    if (!!freezeState.cancelAnimate) {\r\n                        cancelAnimationFrame(freezeState.cancelAnimate)\r\n                        freezeState.cancelAnimate = null\r\n                    }\r\n\r\n                    let ny = refs.wrapper!.scrollTop\r\n                    let nx = refs.wrapper!.scrollLeft\r\n\r\n                    let ky = (point.y! - ny) / time\r\n                    let kx = (point.x! - nx) / time\r\n\r\n                    let startTime = Date.now()\r\n                    const run = async () => {\r\n                        let nowTime = Date.now()\r\n                        let delta = nowTime - startTime\r\n                        let top;\r\n                        let left;\r\n\r\n                        if (delta >= time) {\r\n                            freezeState.cancelAnimate = null\r\n                            top = time * ky + ny\r\n                            left = time * kx + nx\r\n\r\n                            if (!!refs.wrapper) {\r\n                                refs.wrapper.scrollTop = top\r\n                                refs.wrapper.scrollLeft = left\r\n                                await delay(23)\r\n                                done()\r\n                            }\r\n                        } else {\r\n                            top = delta * ky + ny\r\n                            left = delta * kx + nx\r\n\r\n                            if (!!refs.wrapper) {\r\n                                refs.wrapper.scrollTop = top\r\n                                refs.wrapper.scrollLeft = left\r\n                            }\r\n                            freezeState.cancelAnimate = requestAnimationFrame(run)\r\n                        }\r\n                    }\r\n                    run()\r\n                }\r\n            },\r\n            scrollTop(scrollTop: number, time?: number) {\r\n                methods.scroll({y: scrollTop}, {time})\r\n            },\r\n            scrollLeft(scrollLeft: number, time?: number) {\r\n                methods.scroll({x: scrollLeft}, {time})\r\n            },\r\n            scrollEnd(point: { x: boolean, y?: boolean } = {x: true, y: true}) {\r\n                methods.scroll({\r\n                    x: point.x ? refs.wrapper!.scrollWidth : undefined,\r\n                    y: point.y ? refs.wrapper!.scrollHeight : undefined,\r\n                })\r\n            },\r\n            autoScrollTop() {\r\n                const {hostHeight, contentHeight} = state\r\n                const {wrapperScrollTop} = freezeState\r\n                const scrollHeight = contentHeight - hostHeight\r\n                if (scrollHeight <= 0) {\r\n                    return\r\n                }\r\n                const height = wrapperScrollTop\r\n                if (height <= 0) {\r\n                    return\r\n                }\r\n                const duration = (height / props.autoScrollSpeed) * 1000\r\n                methods.scrollTop(0, duration)\r\n            },\r\n            autoScrollBottom() {\r\n                const {hostHeight, contentHeight} = state\r\n                const {wrapperScrollTop} = freezeState\r\n                const scrollHeight = contentHeight - hostHeight\r\n                if (scrollHeight <= 0) {\r\n                    return\r\n                }\r\n                const height = scrollHeight - wrapperScrollTop\r\n                if (height <= 0) {\r\n                    return\r\n                }\r\n                const duration = (height / props.autoScrollSpeed) * 1000\r\n                methods.scrollTop(scrollHeight, duration)\r\n            },\r\n            autoScrollLeft() {\r\n                const {hostWidth, contentWidth} = state\r\n                const {wrapperScrollLeft} = freezeState\r\n                const scrollWidth = contentWidth - hostWidth\r\n                if (scrollWidth <= 0) {\r\n                    return\r\n                }\r\n                const width = wrapperScrollLeft\r\n                if (width <= 0) {\r\n                    return\r\n                }\r\n                const duration = (width / props.autoScrollSpeed) * 1000\r\n                methods.scrollLeft(0, duration)\r\n            },\r\n            autoScrollRight() {\r\n                const {hostWidth, contentWidth} = state\r\n                const {wrapperScrollLeft} = freezeState\r\n                const scrollWidth = contentWidth - hostWidth\r\n                if (scrollWidth <= 0) {\r\n                    return\r\n                }\r\n                const width = scrollWidth - wrapperScrollLeft\r\n                if (width <= 0) {\r\n                    return\r\n                }\r\n                const duration = (width / props.autoScrollSpeed) * 1000\r\n                methods.scrollLeft(scrollWidth, duration)\r\n            },\r\n            stopAutoScroll() {\r\n                if (!!freezeState.cancelAnimate) {\r\n                    cancelAnimationFrame(freezeState.cancelAnimate)\r\n                    freezeState.cancelAnimate = null\r\n                }\r\n            },\r\n            /**\r\n             * 禁用pl-list的队列动画，300ms后恢复正常\r\n             * @author  韦胜健\r\n             * @date    2020/12/15 10:16\r\n             */\r\n            disableListTransition: (() => {\r\n                const disabledQueueAnimation = debounce(() => refs.host.removeAttribute('virtual-scrolling'), 300, true)\r\n                return () => {\r\n                    refs.host.setAttribute('virtual-scrolling', '')\r\n                    disabledQueueAnimation();\r\n                }\r\n            })(),\r\n        }\r\n\r\n\r\n        /*---------------------------------------handler-------------------------------------------*/\r\n\r\n        const handler = {\r\n            windowResize: throttle(() => methods.refresh(), 500),\r\n            popperOpen: () => methods.refresh(),\r\n            popperShow: async () => {\r\n                await nextTick()\r\n                methods.scroll({y: 0})\r\n            },\r\n            contentResize: (data: ResizeDetectFuncParam) => {\r\n                if (data.width != null) state.contentWidth = data.width\r\n                if (data.height != null) state.contentHeight = data.height\r\n            },\r\n            hostResize: (data: ResizeDetectFuncParam) => {\r\n                if (data.width != null) state.hostWidth = data.width - 16\r\n                if (data.height != null) state.hostHeight = data.height - 16\r\n            },\r\n            wrapperMousewheel: (e: WheelEvent) => {\r\n                if (!!freezeState.cancelAnimate) {\r\n                    cancelAnimationFrame(freezeState.cancelAnimate)\r\n                    freezeState.cancelAnimate = null\r\n                }\r\n            },\r\n            wrapperScroll: (e: Event) => {\r\n                const target = e.target as HTMLElement\r\n                freezeState.wrapperScrollTop = target.scrollTop\r\n                freezeState.wrapperScrollLeft = target.scrollLeft\r\n\r\n                if (freezeState.emitScroll) {\r\n                    emit.onScroll(e)\r\n                }\r\n\r\n                if (freezeState.verticalPosition === PLAIN_SCROLL_VERTICAL_POSITION.top && freezeState.wrapperScrollTop > props.topThreshold!) {\r\n                    /*进入center*/\r\n                    emit.onVerticalScrollCenter(e)\r\n                    freezeState.verticalPosition = PLAIN_SCROLL_VERTICAL_POSITION.center\r\n                } else if (freezeState.verticalPosition === PLAIN_SCROLL_VERTICAL_POSITION.center) {\r\n                    // console.log(this.contentHeight - this.hostHeight - this.contentWrapperScrollTop, this.bottomScrollDuration)\r\n                    if (freezeState.wrapperScrollTop < props.topThreshold!) {\r\n                        /*进入top*/\r\n                        emit.onVerticalScrollTop(e)\r\n                        freezeState.verticalPosition = PLAIN_SCROLL_VERTICAL_POSITION.top\r\n                    } else if (state.contentHeight - state.hostHeight - freezeState.wrapperScrollTop < props.bottomThreshold!) {\r\n                        /*进入bottom*/\r\n                        emit.onVerticalScrollBottom(e)\r\n                        freezeState.verticalPosition = PLAIN_SCROLL_VERTICAL_POSITION.bottom\r\n                    }\r\n\r\n                } else if (freezeState.verticalPosition === PLAIN_SCROLL_VERTICAL_POSITION.bottom) {\r\n                    if (state.contentHeight - state.hostHeight - freezeState.wrapperScrollTop > props.bottomThreshold!) {\r\n                        /*进入center*/\r\n                        emit.onVerticalScrollCenter(e)\r\n                        freezeState.verticalPosition = PLAIN_SCROLL_VERTICAL_POSITION.center\r\n                    }\r\n                }\r\n\r\n                if (props.disableListTransition) {\r\n                    methods.disableListTransition()\r\n                }\r\n            },\r\n        }\r\n\r\n        /*---------------------------------------lifecycle-------------------------------------------*/\r\n\r\n        onMounted(() => {\r\n            window.addEventListener('resize', handler.windowResize)\r\n            if (!!popper) {\r\n                popper.event.on.onOpen(handler.popperOpen)\r\n                popper.event.on.onShow(handler.popperShow)\r\n            }\r\n        })\r\n\r\n        onBeforeUnmount(() => {\r\n            window.removeEventListener('resize', handler.windowResize)\r\n            if (!!popper) {\r\n                popper.event.off.onOpen(handler.popperOpen)\r\n                popper.event.off.onShow(handler.popperShow)\r\n            }\r\n        })\r\n\r\n        watch(() => props.refreshState, methods.refresh)\r\n\r\n        return {\r\n            refer: {\r\n                props,\r\n                on, off,\r\n                targetScrollbarSize,\r\n                refs,\r\n                slots,\r\n                handler,\r\n                methods,\r\n                state,\r\n                freezeState,\r\n            },\r\n            render: () => (\r\n                <div ref=\"host\"\r\n                     class={classes.value}\r\n                     v-resize={handler.hostResize}\r\n                     style={hostStyles.value as any}>\r\n                    <div ref=\"wrapper\"\r\n                         class=\"pl-scroll-wrapper\"\r\n                         style={wrapperStyles.value as any}\r\n                         onScroll={handler.wrapperScroll}\r\n                         {...{onMousewheel: handler.wrapperMousewheel}}>\r\n                        <div ref=\"content\"\r\n                             class=\"pl-scroll-content\"\r\n                             style={contentStyles.value as any}\r\n                             v-resize={handler.contentResize}>\r\n                            {slots.default()}\r\n                        </div>\r\n                        {slots.content()}\r\n                    </div>\r\n\r\n                    {\r\n                        !props.hideScrollbar && props.scrollY && (\r\n                            <div class=\"pl-vertical-scrollbar-wrapper\">\r\n                                {<VerticalScrollbar tooltip={props.verticalScrollbarTooltip}/>}\r\n                            </div>\r\n                        )\r\n                    }\r\n                    {\r\n                        !props.hideScrollbar && props.scrollX && (\r\n                            <div class=\"pl-horizontal-scrollbar-wrapper\">\r\n                                {<HorizontalScrollbar tooltip={props.horizontalScrollbarTooltip}/>}\r\n                            </div>\r\n                        )\r\n                    }\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})\r\n\r\nexport type PlainScroll = typeof Scroll.use.class\r\n\r\nexport default Scroll","import scroll from './scroll'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(scroll)","import {createApp} from 'vue'\r\nimport {ComponentPlugin} from \"../shims\";\r\nimport {installPlugin} from \"./installPlugin\";\r\n\r\nexport function newInstance<Component>(component: Component, config: {\r\n    el?: HTMLElement,\r\n    parentNode?: HTMLElement,\r\n    plugins?: ComponentPlugin[],\r\n} = {}) {\r\n    let {el, parentNode} = config\r\n    if (!el) {\r\n        el = document.createElement('div')\r\n        if (!!parentNode) {\r\n            parentNode.appendChild(el)\r\n        } else {\r\n            document.body.appendChild(el)\r\n        }\r\n    }\r\n    const app = createApp(component)\r\n    if (!!config.plugins) {\r\n        config.plugins.forEach(plugin => installPlugin(app, plugin))\r\n    }\r\n    const ins = app.mount(el) as Component extends { use: { class: infer C } } ? C : any\r\n    return {\r\n        app,\r\n        ins,\r\n        el,\r\n    }\r\n}","import {Directive, reactive, App} from 'vue';\r\nimport {designComponent} from \"../../../use/designComponent\";\r\nimport {newInstance} from \"../../../utils/newInstance\";\r\nimport LoadingMaskPlugin from '../../loading-mask'\r\nimport LoadingPlugin from '../../loading'\r\n\r\ntype LoadingMaskBinding = boolean | {\r\n    modelValue?: boolean,\r\n    message?: boolean,\r\n    loadingType?: 'alpha' | 'beta' | 'gamma' | 'delta',\r\n    background?: string,\r\n    unlock?: boolean,\r\n}\r\n\r\nconst Mask = designComponent({\r\n    setup() {\r\n        const state = reactive({\r\n            option: null as null | LoadingMaskBinding & { modelValue?: boolean }\r\n        })\r\n        return {\r\n            refer: {\r\n                update: (option: LoadingMaskBinding) => {\r\n                    state.option = typeof option === \"object\" ?\r\n                        {\r\n                            ...option,\r\n                            modelValue: option.modelValue === undefined ? true : option.modelValue\r\n                        }\r\n                        : {modelValue: option}\r\n                }\r\n            },\r\n            render: () => (\r\n                !!state.option ? <pl-loading-mask {...state.option} inDirective/> : null\r\n            )\r\n        }\r\n    },\r\n})\r\n\r\nclass LoadingMask {\r\n\r\n    mask?: {\r\n        app: App,\r\n        ins: typeof Mask.use.class,\r\n        el: HTMLElement\r\n    }\r\n\r\n    constructor(private el: HTMLElement) {}\r\n\r\n    update(binding: LoadingMaskBinding) {\r\n        const flag = typeof binding === \"object\" ? true : binding\r\n        flag ? this.show(binding) : this.hide()\r\n    }\r\n\r\n    show(binding: LoadingMaskBinding) {\r\n        if (!this.mask) {\r\n            this.mask = newInstance(Mask, {\r\n                parentNode: this.el,\r\n                plugins: [\r\n                    LoadingPlugin,\r\n                    LoadingMaskPlugin\r\n                ]\r\n            })\r\n        }\r\n        this.mask.ins.update(binding)\r\n    }\r\n\r\n    hide() {\r\n        if (!!this.mask) {\r\n            this.mask.ins.update(false)\r\n        }\r\n    }\r\n\r\n    destroy() {\r\n        if (!!this.mask) {\r\n            this.mask.app.unmount(this.mask.el)\r\n        }\r\n    }\r\n}\r\n\r\nconst directive = (() => {\r\n    let map = new WeakMap<HTMLElement, LoadingMask>()\r\n    return {\r\n        active: (el: HTMLElement, binding: { value: LoadingMaskBinding }) => {\r\n            // console.log('active', binding.value);\r\n            const flag = typeof binding.value === \"object\" ? true : binding.value\r\n            let loadingMask = map.get(el)\r\n            if (flag) {\r\n                /*第一次显示的时候才创建实例*/\r\n                if (!loadingMask) {\r\n                    loadingMask = new LoadingMask(el)\r\n                    map.set(el, loadingMask)\r\n                }\r\n                loadingMask.update(binding.value)\r\n            } else {\r\n                if (!!loadingMask) {\r\n                    loadingMask.update(binding.value)\r\n                }\r\n            }\r\n        },\r\n        inactive: (el: HTMLElement) => {\r\n            // console.log('inactive');\r\n            const loadingMask = map.get(el)\r\n            if (!!loadingMask) {\r\n                loadingMask.destroy()\r\n            }\r\n        }\r\n    }\r\n})()\r\n\r\nexport const LoadingMaskDirective: Directive = {\r\n    mounted: directive.active,\r\n    updated: directive.active,\r\n    beforeUnmount: directive.inactive,\r\n}","import Service from './loading-bar-service'\r\nimport {createDefaultManager} from \"../../root/createDefaultManager\";\r\nimport {registryRootService} from \"../../root/registryRootService\";\r\nimport {RequireFormat} from \"../../../shims\";\r\n\r\nexport interface LoadingBarOption {\r\n    color?: string,\r\n    doneColor?: string,\r\n    failColor?: string,\r\n    height?: number,\r\n    percent?: number,\r\n    autoStart?: boolean,\r\n    autoProcess?: boolean,\r\n}\r\n\r\nexport type LoadingBarFormatOption = RequireFormat<LoadingBarOption,\r\n    \"color\" | \"doneColor\" | \"failColor\" | \"height\" | \"percent\" | \"autoStart\" | \"autoProcess\">\r\n\r\nexport interface LoadingBarHandler {\r\n    init: (option: LoadingBarOption) => void,\r\n    update: (option: LoadingBarOption) => void,\r\n    start: () => void,\r\n    done: () => void,\r\n    fail: () => void,\r\n}\r\n\r\nexport enum LoadingBarStatus {\r\n    wait = 'wait',\r\n    process = 'process',\r\n    done = 'done',\r\n    fail = 'fail',\r\n}\r\n\r\nfunction formatOption(option: LoadingBarOption): LoadingBarFormatOption {\r\n    return Object.assign(option, {\r\n        color: option.color || 'primary',\r\n        doneColor: option.doneColor || 'primary',\r\n        failColor: option.failColor || 'error',\r\n        percent: option.percent || 0,\r\n        height: option.height || 4,\r\n        autoStart: option.autoStart == null ? true : option.autoStart,\r\n        autoProcess: option.autoProcess == null ? true : option.autoProcess,\r\n    }) as LoadingBarFormatOption\r\n}\r\n\r\nexport const getLoadingBarService = registryRootService(\r\n    'loading-bar',\r\n    createDefaultManager('pl-loading-bar-manager', Service),\r\n    getManager => {\r\n        return (option?: LoadingBarOption): LoadingBarFormatOption & LoadingBarHandler => {\r\n            const fo = formatOption(option || {})\r\n            getManager().then(manager => manager.service(fo))\r\n            return fo as any\r\n        }\r\n    }\r\n)","import {LoadingMaskServiceFormatOption} from \"./index\";\r\nimport {reactive, ref} from 'vue';\r\nimport {createDefaultService} from \"../../root/createDefaultService\";\r\n\r\nexport default createDefaultService({\r\n    name: 'loading-mask-service',\r\n    setup: (option: LoadingMaskServiceFormatOption) => {\r\n        const isShow = ref(false)\r\n\r\n        const state = reactive({\r\n            option,\r\n            key: 0,\r\n        })\r\n\r\n        const hide = () => isShow.value = false\r\n\r\n        const service = (option: LoadingMaskServiceFormatOption) => {\r\n            option.close = hide\r\n            state.option = option\r\n            state.key++\r\n            isShow.value = true\r\n            return hide\r\n        }\r\n\r\n        return {\r\n            refer: {\r\n                isShow,\r\n                isOpen: isShow,\r\n                service,\r\n            },\r\n            render: () => {\r\n                return (\r\n                    <pl-loading-mask\r\n                        key={state.key}\r\n                        v-model={isShow.value}\r\n                        message={state.option.message}\r\n                        loadingType={state.option.loadingType}\r\n                        background={state.option.background}\r\n                        unlock={state.option.unlock}\r\n                        fixedPosition\r\n                    />\r\n                )\r\n            }\r\n        }\r\n    }\r\n})","import Service from './loading-mask-service'\r\nimport {registryRootService} from \"../../root/registryRootService\";\r\nimport {createDefaultManager} from \"../../root/createDefaultManager\";\r\n\r\nexport interface LoadingMaskServiceOption {\r\n    message?: string,\r\n    loadingType?: string,\r\n    background?: string,\r\n    unlock?: boolean,\r\n}\r\n\r\nexport interface LoadingMaskServiceFormatOption extends LoadingMaskServiceOption {\r\n    close: () => void\r\n}\r\n\r\nexport const getLoadingMaskService = registryRootService(\r\n    'loading',\r\n    createDefaultManager('pl-loading-mask-manager', Service),\r\n    (getManager) => {\r\n        return (option: LoadingMaskServiceOption): LoadingMaskServiceFormatOption => {\r\n            option = option || {};\r\n            getManager().then(manager => manager.service(option as LoadingMaskServiceFormatOption));\r\n            return option as LoadingMaskServiceFormatOption\r\n        }\r\n    }\r\n)","import {createDefaultService} from \"../../root/createDefaultService\";\r\nimport {computed, reactive, ref} from 'vue';\r\nimport {LoadingBarFormatOption, LoadingBarStatus} from \"./index\";\r\nimport {StyleProperties} from \"../../../shims\";\r\nimport {nextIndex} from \"../../../utils/nextIndex\";\r\nimport {delay} from \"plain-utils/utils/delay\";\r\n\r\nexport default createDefaultService({\r\n    name: 'pl-loading-bar-service',\r\n    setup(option: LoadingBarFormatOption) {\r\n\r\n        const isShow = ref(false)\r\n\r\n        const state = reactive({\r\n            status: LoadingBarStatus.wait,\r\n            option: option as LoadingBarFormatOption | null,\r\n            zIndex: 0,\r\n            interval: null as null | number,\r\n            autoLoadingStep: 5,\r\n            startDelayer: null as null | number,\r\n        })\r\n\r\n        const color = computed(() => {\r\n            switch (state.status) {\r\n                case LoadingBarStatus.wait:\r\n                    return null\r\n                case LoadingBarStatus.process:\r\n                    return state.option!.color\r\n                case LoadingBarStatus.done:\r\n                    return state.option!.doneColor\r\n                case LoadingBarStatus.fail:\r\n                    return state.option!.failColor\r\n            }\r\n        })\r\n\r\n        const status = ['primary', 'success', 'warn', 'error', 'info']\r\n\r\n        const classes = computed(() => [\r\n            'pl-loading-bar-service',\r\n            {\r\n                [`pl-loading-bar-service-status-${color.value}`]: !!color.value && status.indexOf(color.value) > -1\r\n            }\r\n        ])\r\n\r\n        const styles = computed(() => {\r\n            if (!state.option) return {} as StyleProperties\r\n            return {\r\n                height: `${state.option.height}px`,\r\n                width: `${state.option!.percent}%`,\r\n                backgroundColor: (!!color.value && status.indexOf(color.value) === -1) ? color.value : '',\r\n                opacity: state.status === LoadingBarStatus.wait ? '0' : '1',\r\n                zIndex: String(state.zIndex),\r\n            } as StyleProperties\r\n        })\r\n\r\n        const methods = {\r\n            /**\r\n             * 开始自动播放进度\r\n             * @author  韦胜健\r\n             * @date    2020/9/25 21:16\r\n             */\r\n            startAutoLoading: () => {\r\n                state.autoLoadingStep = 10\r\n                state.interval = setInterval(() => {\r\n                    if (!!state.option) {\r\n                        if (state.option.percent == null) {\r\n                            state.option.percent = 0\r\n                        }\r\n                        state.option.percent += state.autoLoadingStep\r\n                        state.autoLoadingStep -= 0.5\r\n                        if (state.option.percent + 20 > 100 || state.autoLoadingStep < 0) {\r\n                            methods.stopAutoLoading()\r\n                        }\r\n                    } else {\r\n                        methods.stopAutoLoading()\r\n                    }\r\n                }, 250)\r\n            },\r\n            /**\r\n             * 停止自动播放进度\r\n             * @author  韦胜健\r\n             * @date    2020/9/25 21:16\r\n             */\r\n            stopAutoLoading: () => {\r\n                if (!!state.interval) {\r\n                    clearInterval(state.interval)\r\n                    state.interval = null\r\n                }\r\n            },\r\n            /**\r\n             * 初始化option\r\n             * @author  韦胜健\r\n             * @date    2020/9/25 21:16\r\n             */\r\n            init: (option: LoadingBarFormatOption) => {\r\n                state.option = option\r\n                Object.assign(option, methods)\r\n                return methods\r\n            },\r\n            /**\r\n             * 更新option\r\n             * @author  韦胜健\r\n             * @date    2020/9/25 21:16\r\n             */\r\n            update: (option: LoadingBarFormatOption) => {\r\n                if (!!state.option) {\r\n                    Object.assign(state.option, option)\r\n                }\r\n                methods.stopAutoLoading()\r\n            },\r\n            /**\r\n             * 开始loading\r\n             * @author  韦胜健\r\n             * @date    2020/9/25 21:16\r\n             */\r\n            start: async () => {\r\n                state.startDelayer = setTimeout(async () => {\r\n                    if (!state.option) {\r\n                        return\r\n                    }\r\n\r\n                    const percent = state.option.percent\r\n                    isShow.value = true\r\n                    state.option.percent = 0\r\n\r\n                    state.status = LoadingBarStatus.process\r\n                    state.zIndex = nextIndex()\r\n\r\n                    await delay(23)\r\n                    state.option.percent = percent\r\n\r\n                    if (state.option!.autoProcess) {\r\n                        methods.startAutoLoading()\r\n                    }\r\n                }, 100)\r\n            },\r\n            /**\r\n             * 加载完成\r\n             * @author  韦胜健\r\n             * @date    2020/9/25 21:16\r\n             */\r\n            done: async () => {\r\n                state.status = LoadingBarStatus.done\r\n                await methods.complete()\r\n            },\r\n            /**\r\n             * 加载失败\r\n             * @author  韦胜健\r\n             * @date    2020/9/25 21:16\r\n             */\r\n            fail: async () => {\r\n                state.status = LoadingBarStatus.fail\r\n                await methods.complete()\r\n            },\r\n            complete: async () => {\r\n                if (!state.option) {\r\n                    return\r\n                }\r\n                if (state.startDelayer != null) {\r\n                    clearTimeout(state.startDelayer)\r\n                    state.startDelayer = null\r\n                }\r\n                methods.stopAutoLoading()\r\n                state.option!.percent = 100\r\n                await delay(300)\r\n                state.status = LoadingBarStatus.wait\r\n                await delay(300)\r\n                isShow.value = false\r\n                state.option = null\r\n            },\r\n        };\r\n\r\n\r\n        const service = (option: LoadingBarFormatOption) => {\r\n            methods.init(option)\r\n            if (!!option.autoStart) {\r\n                methods.start()\r\n            }\r\n        }\r\n\r\n        return {\r\n            refer: {\r\n                isShow,\r\n                isOpen: isShow,\r\n                service,\r\n            },\r\n            render: () => isShow.value && (\r\n                <div class={classes.value} style={styles.value as any}/>\r\n            )\r\n        }\r\n    },\r\n})","import Loading from '../loading'\r\nimport LoadingMask from '../loading-mask'\r\nimport {App} from 'vue';\r\nimport {installPlugin} from \"../../utils/installPlugin\";\r\nimport {LoadingMaskDirective} from \"./mask/loading-mask-directive\";\r\nimport {getLoadingMaskService} from \"./mask\";\r\nimport {getLoadingBarService} from \"./bar\";\r\nimport './loading-service.scss'\r\n\r\nexport default {\r\n    install(app: App) {\r\n        installPlugin(app, Loading)\r\n        installPlugin(app, LoadingMask)\r\n        app.directive('loading', LoadingMaskDirective)\r\n        app.mixin({\r\n            beforeCreate() {\r\n                Object.defineProperty(this, '$loading', {\r\n                    get() {\r\n                        return {\r\n                            mask: getLoadingMaskService(this),\r\n                            bar: getLoadingBarService(this),\r\n                        }\r\n                    },\r\n                })\r\n            },\r\n        })\r\n    },\r\n}","import {designComponent} from \"../../use/designComponent\";\r\nimport {StyleProps, useStyle} from \"../../use/useStyle\";\r\nimport {EditProps, useEdit} from \"../../use/useEdit\";\r\nimport {ClickWave} from \"../click-wave/click-wave-directive\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {reactive, computed} from 'vue';\r\nimport {useProps} from \"../../use/useProps\";\r\nimport {HTMLInputEvent} from \"../../shims\";\r\nimport {getKey, KEY} from \"../keyboard\";\r\nimport './number.scss'\r\n\r\nconst NAN = 'NAN'\r\n\r\nexport default designComponent({\r\n    name: 'pl-number',\r\n    directives: {\r\n        ClickWave,\r\n    },\r\n    props: {\r\n        ...StyleProps,\r\n        ...EditProps,\r\n\r\n        modelValue: {type: [String, Number]},                       // 双向绑定值\r\n        min: {type: [String, Number]},                              // 最小值\r\n        max: {type: [String, Number]},                              // 最大值\r\n        step: {type: [String, Number], default: 1},                 // 计数器步长\r\n        stepStrictly: {type: Boolean},                              // 是否只能输入 step 的倍数\r\n        precision: {type: [Number, String]},                        // 数值精度\r\n        hideButton: {type: Boolean},                                // 隐藏操作按钮\r\n\r\n        /*---------------------------------------input-------------------------------------------*/\r\n        inputProps: {type: Object},                                 // pl-input属性配置对象\r\n    },\r\n    emits: {\r\n        onFocus: (e: Event) => true,\r\n        onBlur: (e: Event) => true,\r\n        onUpdateModelValue: (val: string | number | undefined) => true,\r\n        onEnter: (e: KeyboardEvent) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const model = useModel(() => props.modelValue, emit.onUpdateModelValue, {autoEmit: false})\r\n        useStyle({status: undefined})\r\n        const {editComputed} = useEdit()\r\n        const state = reactive({\r\n            isFocus: false,                                         // 当前是否获取焦点\r\n            interval: null as null | number,                        // 进步器长摁定时器\r\n        })\r\n\r\n        const {propsState} = useProps(props, {\r\n            min: useProps.NUMBER,\r\n            max: useProps.NUMBER,\r\n            step: useProps.NUMBER,\r\n            precision: useProps.NUMBER,\r\n        }) as {\r\n            propsState: {\r\n                min: number | null,\r\n                max: number | null,\r\n                step: number,\r\n                precision: number | null,\r\n            }\r\n        }\r\n\r\n        /*---------------------------------------utils-------------------------------------------*/\r\n\r\n        const utils = {\r\n            getValue: (val: any): undefined | number | 'NAN' => {\r\n                if (val == null) return undefined\r\n                val = String(val).trim()\r\n                if (val === '') return undefined\r\n                val = Number(val)\r\n                if (isNaN(val)) {\r\n                    return NAN\r\n                } else {\r\n                    return val\r\n                }\r\n            },\r\n            getEffectiveValue: (): number | undefined => {\r\n                let value = formatModelValue.value\r\n                if (value === NAN) {\r\n                    value = formatValue.value\r\n                    if (value === NAN) {\r\n                        if (propsState.min != null) return propsState.min\r\n                        else if (propsState.max != null) return propsState.max\r\n                        else if (props.stepStrictly) return propsState.step\r\n                        else return 0\r\n                    }\r\n                }\r\n                return value\r\n            },\r\n            checkValue: (value: number | undefined): number | undefined => {\r\n                if (value != null) {\r\n                    // min\r\n                    if (propsState.min != null && value < propsState.min) {\r\n                        value = propsState.min\r\n                    }\r\n                    // max\r\n                    if (propsState.max != null && value! > propsState.max) {\r\n                        value = propsState.max\r\n                    }\r\n                    // stepStrictly\r\n                    if (props.stepStrictly && value! % propsState.step! !== 0) {\r\n                        // console.log('props.value', props.modelValue)\r\n                        value = props.modelValue == undefined ? undefined : Number(props.modelValue)\r\n                    }\r\n                    // precision\r\n                    if (propsState.precision != null) {\r\n                        value = Number(value!.toFixed(propsState.precision))\r\n                    }\r\n                }\r\n                return value\r\n            }\r\n        }\r\n\r\n        /*---------------------------------------computer-------------------------------------------*/\r\n\r\n        const classes = computed(() => ([\r\n            `pl-number`,\r\n            {\r\n                'pl-number-hide-button': props.hideButton,\r\n                'pl-number-disabled': editComputed.value.disabled,\r\n            }\r\n        ]))\r\n        const formatModelValue = computed(() => utils.getValue(model.value))\r\n        const formatValue = computed(() => utils.getValue(props.modelValue))\r\n\r\n        /*---------------------------------------methods-------------------------------------------*/\r\n\r\n        const methods = {\r\n            add: () => {\r\n                if (!editComputed.value.editable) {\r\n                    return\r\n                }\r\n                let value = utils.getEffectiveValue()\r\n                if (value == null) {\r\n                    value = 0\r\n                }\r\n                value += propsState.step\r\n                value = utils.checkValue(value)\r\n                model.value = value\r\n                emit.onUpdateModelValue(model.value)\r\n            },\r\n            minus: () => {\r\n                if (!editComputed.value.editable) {\r\n                    return\r\n                }\r\n                let value = utils.getEffectiveValue()\r\n                if (value == null) {\r\n                    value = 0\r\n                }\r\n                value -= propsState.step\r\n                value = utils.checkValue(value)\r\n                model.value = value\r\n                emit.onUpdateModelValue(model.value)\r\n            },\r\n            clearInterval: () => {              // 清除定时器\r\n                if (state.interval != null) {\r\n                    clearInterval(state.interval)\r\n                }\r\n                window.removeEventListener('mouseup', methods.clearInterval)\r\n            }\r\n        }\r\n\r\n        /*---------------------------------------handler-------------------------------------------*/\r\n\r\n        const handler = {\r\n            focus: (e: Event) => {\r\n                state.isFocus = true\r\n                emit.onFocus(e)\r\n            },\r\n            blur: (e: Event) => {\r\n                model.value = utils.checkValue(utils.getEffectiveValue())\r\n                emit.onUpdateModelValue(model.value)\r\n                state.isFocus = false\r\n                emit.onBlur(e)\r\n            },\r\n            input: (e: HTMLInputEvent) => {\r\n                model.value = e.target.value\r\n            },\r\n            enter: (e: KeyboardEvent) => {\r\n                model.value = utils.checkValue(utils.getEffectiveValue())\r\n                emit.onUpdateModelValue(model.value)\r\n                emit.onEnter(e)\r\n            },\r\n            intervalAdd: () => {\r\n                methods.add()\r\n                state.interval = setInterval(methods.add, 100)\r\n                window.addEventListener('mouseup', methods.clearInterval)\r\n            },\r\n            intervalMinus: () => {\r\n                methods.minus()\r\n                state.interval = setInterval(() => methods.minus(), 100)\r\n                window.addEventListener('mouseup', methods.clearInterval)\r\n            },\r\n            clearHandler: () => {\r\n                model.value = undefined\r\n                emit.onUpdateModelValue(model.value)\r\n            },\r\n            keydown: (e: KeyboardEvent) => {\r\n                const key = getKey(e)\r\n                switch (key) {\r\n                    case KEY.up:\r\n                        e.preventDefault()\r\n                        e.stopPropagation()\r\n                        methods.add()\r\n                        break\r\n                    case KEY.down:\r\n                        e.preventDefault()\r\n                        e.stopPropagation()\r\n                        methods.minus()\r\n                        break\r\n                    case KEY.enter:\r\n                        handler.enter(e)\r\n                        break\r\n                }\r\n            },\r\n        }\r\n\r\n        return {\r\n            refer: {\r\n                ...methods,\r\n            },\r\n            render: () => (\r\n                <pl-input class={classes.value}\r\n                          isFocus={state.isFocus}\r\n                          inputInnerTabindex={null}\r\n                          {...(props.inputProps || {})}\r\n                >\r\n                    {!props.hideButton && (\r\n                        <div class=\"pl-number-prepend-button plain-click-node\" onMousedown={handler.intervalMinus} v-click-wave>\r\n                            <pl-icon icon=\"el-icon-minus\"/>\r\n                        </div>\r\n                    )}\r\n                    <input type=\"text\"\r\n                           value={model.value}\r\n                           disabled={editComputed.value.disabled!}\r\n                           readonly={editComputed.value.readonly!}\r\n                           onFocus={handler.focus}\r\n                           onBlur={handler.blur}\r\n                           onInput={handler.input as any}\r\n                           onKeydown={handler.keydown}/>\r\n                    {!props.hideButton && (\r\n                        <div class=\"pl-number-append-button plain-click-node\" onMousedown={handler.intervalAdd} v-click-wave>\r\n                            <pl-icon icon=\"el-icon-plus\"/>\r\n                        </div>\r\n                    )}\r\n                </pl-input>\r\n            )\r\n        }\r\n    },\r\n})","import Input from '../input'\r\nimport Number from './number'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(Number, {\r\n    plugins: [\r\n        Input,\r\n    ]\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {EditProps, useEdit} from \"../../use/useEdit\";\r\nimport {ClickWave} from \"../click-wave/click-wave-directive\";\r\nimport {StyleProps, useStyle} from \"../../use/useStyle\";\r\nimport {DEFAULT_STATUS} from \"../../utils/constant\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {reactive, computed} from 'vue';\r\nimport {getKey, KEY} from \"../keyboard\";\r\nimport './toggle.scss'\r\n\r\nexport default designComponent({\r\n    name: 'pl-toggle',\r\n    directives: {ClickWave},\r\n    props: {\r\n        ...EditProps,\r\n        ...StyleProps,\r\n\r\n        modelValue: {},                                                              // 双向绑定值\r\n        trueValue: {default: true},                                             // 选中时绑定的值\r\n        falseValue: {default: false},                                           // 未选中时绑定的值\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: any) => true,\r\n        onMousedown: (e: MouseEvent) => true,\r\n        onMouseup: (e: MouseEvent) => true,\r\n        onClick: (e: MouseEvent) => true,\r\n        onFocus: (e: Event) => true,\r\n        onBlur: (e: Event) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        /*---------------------------------------state-------------------------------------------*/\r\n\r\n        const {editComputed} = useEdit()\r\n        const {styleComputed} = useStyle({status: DEFAULT_STATUS})\r\n\r\n        const model = useModel(() => props.modelValue, emit.onUpdateModelValue)\r\n        const state = reactive({\r\n            isActive: false,\r\n        })\r\n\r\n        /*---------------------------------------computer-------------------------------------------*/\r\n\r\n        const isChecked = computed(() => model.value === props.trueValue)\r\n\r\n        const classes = computed(() => ([\r\n            `pl-toggle`,\r\n            `plain-click-node`,\r\n            `pl-toggle-status-${styleComputed.value.status}`,\r\n            `pl-toggle-size-${styleComputed.value.size}`,\r\n            {\r\n                'pl-toggle-on': isChecked.value,\r\n                'pl-toggle-active': state.isActive,\r\n                'pl-toggle-disabled': editComputed.value.disabled,\r\n            },\r\n        ]))\r\n\r\n        /*---------------------------------------handler-------------------------------------------*/\r\n\r\n        const handler = {\r\n            mousedown: (e: MouseEvent) => {\r\n                state.isActive = true\r\n                window.addEventListener('mouseup', handler.mouseup)\r\n                emit.onMousedown(e)\r\n            },\r\n            mouseup: (e: MouseEvent) => {\r\n                state.isActive = false\r\n                window.removeEventListener('mouseup', handler.mouseup)\r\n                emit.onMouseup(e)\r\n            },\r\n            click: (e: MouseEvent) => {\r\n                if (!editComputed.value.editable) {\r\n                    return\r\n                }\r\n                model.value = isChecked.value ? props.falseValue : props.trueValue\r\n                emit.onClick(e)\r\n            },\r\n            keydown: (e: KeyboardEvent) => {\r\n                const key = getKey(e)\r\n                if (key === KEY.space || key === KEY.enter) {\r\n                    e.preventDefault()\r\n                    e.stopPropagation()\r\n                    handler.click(e as any)\r\n                }\r\n            },\r\n            focus: emit.onFocus,\r\n            blur: emit.onBlur,\r\n        }\r\n        return {\r\n            render: () => (\r\n                <div class={classes.value}\r\n                     tabindex={0}\r\n                     onMousedown={handler.mousedown}\r\n                     onClick={handler.click}\r\n                     onKeydown={handler.keydown}\r\n                     onFocus={handler.focus}\r\n                     onBlur={handler.blur}\r\n                     v-click-wave={'large'}\r\n                >\r\n                    <div class=\"pl-toggle-inner\"/>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import Toggle from './toggle'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(Toggle)","import {designComponent} from \"../../use/designComponent\";\r\nimport {StyleProps, useStyle} from \"../../use/useStyle\";\r\nimport {EditProps, useEdit} from \"../../use/useEdit\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport {useMounted} from \"../../use/useMounted\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {reactive, computed} from 'vue';\r\nimport {DEFAULT_STATUS} from \"../../utils/constant\";\r\nimport {unit} from \"plain-utils/string/unit\";\r\nimport {removeUnit} from \"plain-utils/string/removeUnit\";\r\nimport {disabledUserSelect} from \"plain-utils/dom/disabledUserSelect\";\r\nimport {enableUserSelect} from \"plain-utils/dom/enableUserSelect\";\r\nimport './slider.scss'\r\n\r\nexport default designComponent({\r\n    name: 'pl-slider',\r\n    props: {\r\n        ...EditProps,\r\n        ...StyleProps,\r\n\r\n        modelValue: {type: Number, default: 0},                          //非范围选择时，双向绑定值\r\n        start: {type: Number, default: 0},                          //范围选择时，起始绑定值\r\n        end: {type: Number, default: 0},                            //范围选择时，末尾绑定值\r\n        total: {type: Number, default: 100},                        //总数，value,start以及end不应该超过total\r\n        alignEnd: {type: Boolean},                                  //是否末尾对其\r\n        full: {type: Boolean},                                      //是否占满父元素大小\r\n        length: {type: [Number, String], default: '156px'},         //滑动条长度\r\n        size: {type: [Number, String], default: '6px'},             //滑动条宽度\r\n        vertical: {type: Boolean},                                  //是否纵向\r\n        step: {type: Number, default: 1},                           //滑条分块的个数，默认是不分块\r\n        min: {type: Number},                                        //最小值\r\n        max: {type: Number},                                        //最大值\r\n\r\n        showSteps: {type: Boolean, default: true},                  //是否显示步骤点\r\n        tooltip: {type: Boolean, default: true},                    //是否tooltip显示值\r\n        tooltipFormatter: Function,                                 //tooltip显示格式化函数\r\n        range: {type: Boolean},                                     //是否为范围选择\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: number) => true,\r\n        onUpdateStart: (val: number) => true,\r\n        onUpdateEnd: (val: number) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const {refs} = useRefs({\r\n            el: HTMLDivElement,\r\n        })\r\n\r\n        /*---------------------------------------state-------------------------------------------*/\r\n\r\n        const {editComputed} = useEdit()\r\n        const {styleComputed} = useStyle({status: DEFAULT_STATUS})\r\n\r\n        const model = useModel(() => props.modelValue, emit.onUpdateModelValue)\r\n        const start = useModel(() => props.start, emit.onUpdateStart)\r\n        const end = useModel(() => props.end, emit.onUpdateEnd)\r\n\r\n        const isMounted = useMounted()\r\n\r\n        const state = reactive({\r\n            dragStart: null as null | boolean,\r\n            touching: false,\r\n            tempStart: null as null | number,\r\n            tempEnd: null as null | number,\r\n            startX: null as null | number,\r\n            startY: null as null | number,\r\n            totalLength: null as null | number,\r\n            position: {\r\n                'vertical-start': 'bottom',\r\n                'vertical-end': 'top',\r\n                'horizontal-start': 'right',\r\n                'horizontal-end': 'left',\r\n            },\r\n        })\r\n\r\n        /*---------------------------------------utils-------------------------------------------*/\r\n\r\n        const utils = {\r\n            transferValueToLength(value: number) {\r\n                return totalLength.value * value / props.total\r\n            },\r\n            transferLengthToValue(length: number) {\r\n                return props.total * length / totalLength.value\r\n            },\r\n            setValue(val: number) {\r\n                model.value = val\r\n            },\r\n            setStart(val: number) {\r\n                start.value = val\r\n            },\r\n            setEnd(val: number) {\r\n                end.value = val\r\n            },\r\n        }\r\n\r\n        /*---------------------------------------computer-------------------------------------------*/\r\n\r\n        const styles = computed(() => ({\r\n            [props.vertical ? 'height' : 'width']: !!props.full ? '100%' : unit(props.length),\r\n            [props.vertical ? 'width' : 'height']: unit(props.size),\r\n        }))\r\n\r\n        const classes = computed(() => ([\r\n            'pl-slider',\r\n            {\r\n                'pl-slider-full': !!props.full,\r\n                'pl-slider-touching': state.touching,\r\n                'pl-slider-range': props.range,\r\n                'pl-slider-place-end': start.value === end.value && start.value === props.total\r\n            },\r\n            `pl-slider-${!!props.vertical ? 'vertical' : 'horizontal'}`,\r\n            `pl-slider-align-${!!props.alignEnd ? 'end' : 'start'}`,\r\n            `pl-slider-status-${!!editComputed.value.disabled ? 'info' : (styleComputed.value.status)}`,\r\n        ]))\r\n\r\n        const totalLength = computed(() => {\r\n            if (!isMounted.value) return 0\r\n            if (state.totalLength == null) state.totalLength = refs.el![!!props.vertical ? 'offsetHeight' : 'offsetWidth']\r\n            return state.totalLength\r\n        })\r\n\r\n        const startPosition = computed(() => {\r\n            return !!props.range ? utils.transferValueToLength(start.value) : props.alignEnd ? (totalLength.value - utils.transferValueToLength(model.value)) : 0\r\n        })\r\n\r\n        const endPosition = computed(() => {\r\n            return !!props.range ? totalLength.value - utils.transferValueToLength(end.value) : props.alignEnd ? 0 : (totalLength.value - utils.transferValueToLength(model.value))\r\n        })\r\n\r\n        const progressStyles = computed(() => {\r\n            const ret = {} as any\r\n            ret[props.vertical ? 'top' : 'left'] = `${startPosition.value}px`\r\n            ret[props.vertical ? 'bottom' : 'right'] = `${endPosition.value}px`\r\n            return ret\r\n        })\r\n\r\n        const startTooltip = computed(() => {\r\n            let ret = !!props.range ? start.value : model.value\r\n            return !!props.tooltipFormatter ? props.tooltipFormatter(ret) : ret\r\n        })\r\n\r\n        const endTooltip = computed(() => {\r\n            let ret = !!props.range ? end.value : model.value\r\n            return !!props.tooltipFormatter ? props.tooltipFormatter(ret) : ret\r\n        })\r\n\r\n        const steps = computed(() => {\r\n            const ret: number[] = []\r\n            let i = 0\r\n            while (i < props.step - 1) {\r\n                ret.push(i)\r\n                i++\r\n            }\r\n            return ret\r\n        })\r\n\r\n        const stepItemStyles = computed(() => {\r\n            return {\r\n                ['height']: unit(removeUnit(props.size) as any / 2),\r\n                ['width']: unit(removeUnit(props.size) as any / 2),\r\n            }\r\n        })\r\n\r\n        const handler = {\r\n            dragstart: (e: MouseEvent, dragStart: boolean) => {\r\n                if ((!!props.alignEnd !== dragStart && !props.range) || !editComputed.value.editable) return\r\n                document.addEventListener('mousemove', handler.mousemove)\r\n                document.addEventListener('mouseup', handler.mouseup)\r\n                state.dragStart = dragStart\r\n                state.touching = true\r\n                state.startX = e.clientX\r\n                state.startY = e.clientY\r\n                state.tempStart = startPosition.value\r\n                state.tempEnd = endPosition.value\r\n                disabledUserSelect()\r\n            },\r\n            mousemove: (e: MouseEvent) => {\r\n                if (!state.touching) return\r\n                const durX = e.clientX - state.startX!\r\n                const durY = e.clientY - state.startY!\r\n                let temp = !!state.dragStart ? state.tempStart : state.tempEnd\r\n                let dur = (!!props.vertical ? durY : durX) * (!!state.dragStart ? 1 : -1)\r\n                let ret = Math.min(Math.max(temp! + dur, 0), totalLength.value)\r\n\r\n                if (props.step > 1) {\r\n                    const stepLength = totalLength.value / props.step\r\n                    const divisor = Number((ret / stepLength).toFixed(0)) + 1\r\n                    if (ret > stepLength * divisor) ret = stepLength * divisor\r\n                    else ret = stepLength * (divisor - 1)\r\n                }\r\n\r\n                if (!!state.dragStart) {\r\n                    start.value = utils.transferLengthToValue(ret)\r\n                } else {\r\n                    end.value = utils.transferLengthToValue(ret)\r\n                }\r\n\r\n                if (!props.range) {\r\n                    ret = Number(utils.transferLengthToValue(totalLength.value - ret).toFixed(2))\r\n                    props.max != null && ret > props.max && (ret = props.max)\r\n                    props.min != null && ret < props.min && (ret = props.min)\r\n                    utils.setValue(ret)\r\n                } else {\r\n                    ret = Number(utils.transferLengthToValue(state.dragStart ? ret : totalLength.value - ret).toFixed(2))\r\n                    props.max != null && ret > props.max && (ret = props.max)\r\n                    props.min != null && ret < props.min && (ret = props.min)\r\n                    if (!!state.dragStart) {\r\n                        if (ret > end.value) ret = end.value\r\n                    } else {\r\n                        if (ret < start.value) ret = start.value\r\n                    }\r\n                    state.dragStart ? utils.setStart(ret) : utils.setEnd(ret)\r\n                }\r\n            },\r\n            mouseup: (e: MouseEvent) => {\r\n                if (!state.touching) return\r\n                state.touching = false\r\n                document.removeEventListener('mousemove', handler.mousemove)\r\n                document.removeEventListener('mouseup', handler.mouseup)\r\n                enableUserSelect()\r\n            }\r\n        }\r\n\r\n        return {\r\n            render: () => (\r\n                <div class={classes.value} style={styles.value} ref={'el'}>\r\n                    {\r\n                        props.showSteps && props.step > 1 && (\r\n                            <div class=\"pl-slider-step\">\r\n                                {\r\n                                    steps.value.map((item) => (\r\n                                        <span class=\"pl-slider-step-item-wrapper\" key={item}>\r\n                                        <div class=\"pl-slider-step-item\" style={stepItemStyles.value as any}/>\r\n                                    </span>\r\n                                    ))\r\n                                }\r\n                            </div>\r\n                        )\r\n                    }\r\n                    <div class=\"pl-slider-progress\" style={progressStyles.value}>\r\n                <span class=\"pl-slider-dot-wrapper pl-slider-dot-wrapper-start\" onMousedown={(e: MouseEvent) => handler.dragstart(e, true)}><span class=\"pl-slider-dot\"><span class=\"pl-slider-dot-inner\">\r\n                    {!!props.tooltip && <span class=\"pl-slider-dot-tooltip\">{startTooltip.value}</span>}\r\n                </span></span></span>\r\n                        <span class=\"pl-slider-dot-wrapper pl-slider-dot-wrapper-end\" onMousedown={e => handler.dragstart(e, false)}><span class=\"pl-slider-dot\"><span class=\"pl-slider-dot-inner\">\r\n                    {!!props.tooltip && <span class=\"pl-slider-dot-tooltip\">{endTooltip.value}</span>}\r\n                </span></span></span>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import Slider from './slider'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(Slider)","import {designComponent} from \"../../use/designComponent\";\r\nimport {StyleProps, useStyle} from \"../../use/useStyle\";\r\nimport {EditProps, useEdit} from \"../../use/useEdit\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {DEFAULT_STATUS} from \"../../utils/constant\";\r\nimport {computed} from 'vue';\r\nimport './tag.scss'\r\n\r\nexport default designComponent({\r\n    name: 'pl-tag',\r\n    props: {\r\n        ...EditProps,\r\n        ...StyleProps,\r\n        mode: {type: String, default: 'stroke'},\r\n        label: {type: String},\r\n        close: {type: Boolean},\r\n    },\r\n    emits: {\r\n        onClick: (e: MouseEvent) => true,\r\n        onClose: (e: MouseEvent) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n        const {slots} = useSlots()\r\n        const {editComputed} = useEdit()\r\n        const {styleComputed} = useStyle({status: DEFAULT_STATUS})\r\n        const classes = computed(() => ([\r\n            `pl-tag`,\r\n            `pl-tag-mode-${props.mode}`,\r\n            `pl-tag-status-${styleComputed.value.status}`,\r\n            `pl-tag-shape-${styleComputed.value.shape}`,\r\n            `pl-tag-size-${styleComputed.value.size}`,\r\n            {\r\n                'pl-tag-disabled': !!editComputed.value.disabled,\r\n            },\r\n        ]))\r\n\r\n        const handler = {\r\n            click: (e: MouseEvent) => {\r\n                if (!editComputed.value.editable) {\r\n                    return\r\n                }\r\n                emit.onClick(e)\r\n            },\r\n            clickClose: (e: MouseEvent) => {\r\n                e.stopPropagation()\r\n                if (!editComputed.value.editable) {\r\n                    return\r\n                }\r\n                emit.onClose(e)\r\n            }\r\n        }\r\n\r\n        return {\r\n            render: () => (\r\n                <div class={classes.value} onClick={handler.click}>\r\n                    {slots.default(props.label)}\r\n                    {!!props.close && <pl-icon icon=\"el-icon-close\" class=\"pl-tag-close\" onClick={handler.clickClose}/>}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import Tag from './tag'\r\nimport Icon from '../icon'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(Tag, {plugins: [Icon]})","import {designComponent} from \"../../use/designComponent\";\r\nimport {EditProps, useEdit} from \"../../use/useEdit\";\r\nimport {StyleProps, useStyle} from \"../../use/useStyle\";\r\nimport Input from '../input'\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {computed, nextTick, onBeforeUnmount, reactive} from 'vue';\r\nimport {delay} from \"plain-utils/utils/delay\";\r\nimport {getKey, KEY} from \"../keyboard\";\r\nimport {useScopedSlots} from \"../../use/useScopedSlots\";\r\nimport './tag-input.scss'\r\n\r\nexport default designComponent({\r\n    name: 'pl-tag-input',\r\n    props: {\r\n        ...EditProps,\r\n        ...StyleProps,\r\n\r\n        modelValue: {type: Array},                                              // 数组，双向绑定值\r\n        close: {type: Boolean, default: true},                                  // 是否可删除\r\n        beforeAdd: Function,                                                    // 添加前校验\r\n        beforeRemove: Function,                                                 // 删除前校验\r\n        formatValue: Function,                                                  // 格式化输入值，返回一个值，或者对象\r\n        noInput: Function,                                                      // 是否显示输入框\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: any[] | undefined) => true\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n\r\n        const {scopedSlots} = useScopedSlots({\r\n            default: {item: String, index: Number}\r\n        })\r\n\r\n        const {refs} = useRefs({\r\n            input: Input,\r\n        })\r\n\r\n        const model = useModel(() => props.modelValue, emit.onUpdateModelValue)\r\n\r\n        const state = reactive({\r\n            isEditing: false,\r\n            inputValue: null as string | null,\r\n        })\r\n        const {editComputed} = useEdit()\r\n        const {styleComputed} = useStyle()\r\n\r\n        const classes = computed(() => ([\r\n            'pl-tag-input',\r\n            `pl-tag-input-status-${styleComputed.value.status}`,\r\n            {\r\n                'pl-tag-input-disabled': editComputed.value.disabled,\r\n            },\r\n        ]))\r\n\r\n\r\n        onBeforeUnmount(() => {\r\n            window.removeEventListener('click', handler.clickWindow, true)\r\n        })\r\n\r\n        const handler = {\r\n            clickWindow: (e: MouseEvent) => {\r\n                if (!refs.input!.refs.input.contains(e.target as Node)) {\r\n                    state.isEditing = false\r\n                    window.removeEventListener('click', handler.clickWindow, true)\r\n                }\r\n            },\r\n            clickEditButton: async () => {\r\n                if (!editComputed.value.editable) {\r\n                    return\r\n                }\r\n                state.isEditing = true\r\n                await nextTick()\r\n                refs.input!.methods.focus()\r\n\r\n                // 点击其他元素的时候关闭输入状态\r\n                await delay(0)\r\n                window.addEventListener('click', handler.clickWindow, true)\r\n            },\r\n            inputEnter: async () => {\r\n                if (!editComputed.value.editable) {\r\n                    return\r\n                }\r\n\r\n                let inputValue = state.inputValue\r\n\r\n                if (inputValue != '0' && !inputValue) {\r\n                    return\r\n                }\r\n\r\n                if (!!props.beforeAdd) {\r\n                    await props.beforeAdd(inputValue)\r\n                }\r\n                if (!!props.formatValue) {\r\n                    inputValue = await props.formatValue(inputValue)\r\n                }\r\n\r\n                let value = [...(model.value || [])]\r\n                value.push(inputValue)\r\n                model.value = value\r\n                state.inputValue = null\r\n            },\r\n            tagClose: async (item: any, index: number) => {\r\n                if (!editComputed.value.editable) {\r\n                    return\r\n                }\r\n                if (!!props.beforeRemove) {\r\n                    await props.beforeRemove(item, index)\r\n                }\r\n                model.value!.splice(index, 1)\r\n                model.value = [...model.value!]\r\n            },\r\n            keydown: (e: KeyboardEvent) => {\r\n                if (getKey(e) === KEY.enter) {\r\n                    handler.inputEnter()\r\n                }\r\n            }\r\n        }\r\n\r\n        return {\r\n            render: () => (\r\n                <div class={classes.value}>\r\n                    {\r\n                        (model.value || []).map((item: any, index) => (\r\n                            scopedSlots.default({item, index}, (\r\n                                <pl-tag key={index} label={item} close={editComputed.value.editable && props.close} onClose={() => handler.tagClose(item, index)}/>\r\n                            ))\r\n                        ))\r\n                    }\r\n                    {!props.noInput && (\r\n                        <pl-input v-model={state.inputValue}\r\n                                  ref=\"input\"\r\n                                  key={state.isEditing ? 1 : 2}\r\n                                  onKeydown={handler.keydown}\r\n                                  v-slots={!state.isEditing ? {\r\n                                      default: () => (\r\n                                          <div class=\"pl-tag-input-not-edit\"\r\n                                               onClick={handler.clickEditButton}>\r\n                                              <pl-icon icon=\"el-icon-plus\"/>\r\n                                              <span>添加</span>\r\n                                          </div>\r\n                                      )\r\n                                  } : null}\r\n                        />\r\n                    )}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import TagInput from './tag-input'\r\nimport Tag from '../tag'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(TagInput, {\r\n    plugins: [\r\n        Tag\r\n    ]\r\n})","import './rate.scss'\r\nimport {designComponent} from \"../../use/designComponent\";\r\nimport {StyleProps, useStyle} from \"../../use/useStyle\";\r\nimport {EditProps, useEdit} from \"../../use/useEdit\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {reactive, computed} from 'vue';\r\nimport {DEFAULT_STATUS} from \"../../utils/constant\";\r\nimport {useMounted} from \"../../use/useMounted\";\r\nimport {disabledUserSelect} from \"plain-utils/dom/disabledUserSelect\";\r\nimport {enableUserSelect} from \"plain-utils/dom/enableUserSelect\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-rate',\r\n    props: {\r\n        ...EditProps,\r\n        ...StyleProps,\r\n\r\n        modelValue: {type: Number, default: 0},                         //vModel双向绑定值\r\n        total: {type: Number, default: 5},                              //总分\r\n        count: {type: Number, default: 5},                              //显示图标的个数\r\n        mode: {type: String, default: 'normal'},                        //模式，normal，all整个图标为单位，half：半个图标为单位\r\n        status: {type: String,},                                        //标准颜色\r\n        activeIcon: {type: String},                                     //激活的时候的图标\r\n        inactiveIcon: {type: String},                                   //未激活的时候的图标\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: number) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const {refs} = useRefs({\r\n            el: HTMLDivElement,\r\n        })\r\n        const model = useModel(() => props.modelValue, emit.onUpdateModelValue)\r\n        const state = reactive({\r\n            totalWidth: null as null | number,\r\n            elLeft: null as null | number,\r\n        })\r\n        const {editComputed} = useEdit()\r\n        const {styleComputed} = useStyle({status: DEFAULT_STATUS})\r\n\r\n        const mounted = useMounted()\r\n\r\n        /*---------------------------------------computer-------------------------------------------*/\r\n\r\n        const classes = computed(() => ([\r\n            `pl-rate`,\r\n            `pl-rate-status-${styleComputed.value.status}`,\r\n            `pl-rate-size-${styleComputed.value.size}`,\r\n            {\r\n                'pl-rate-disabled': editComputed.value.disabled,\r\n            },\r\n        ]))\r\n\r\n        const data = computed(() => {\r\n            let i = 0\r\n            let ret: number[] = []\r\n            while (i < props.count) {\r\n                ret.push(i)\r\n                i++\r\n            }\r\n            return ret\r\n        })\r\n\r\n        const activeStyles = computed(() => ({\r\n            width: (model.value / props.total) * 100 + '%'\r\n        }))\r\n\r\n        const totalWidth = computed(() => {\r\n            if (!mounted.value) return 0\r\n            if (!state.totalWidth) state.totalWidth = refs.el.offsetWidth\r\n            return state.totalWidth\r\n        })\r\n\r\n        const elLeft = computed(() => {\r\n            if (!state.elLeft) state.elLeft = refs.el.getBoundingClientRect().left\r\n            return state.elLeft\r\n        })\r\n\r\n        /*---------------------------------------methods-------------------------------------------*/\r\n\r\n\r\n        const methods = {\r\n            reset: (e: MouseEvent) => {\r\n                let dur = e.clientX - (elLeft.value || 0)\r\n                let start = 0\r\n                let end = totalWidth.value\r\n                let step = end / props.count\r\n                switch (props.mode) {\r\n                    case 'all':\r\n                        for (; start < end; start += step) {\r\n                            if (start < dur && dur < start + step) {\r\n                                dur = start + step\r\n                                break\r\n                            }\r\n                        }\r\n                        break\r\n                    case 'half':\r\n                        for (; start < end; start += step) {\r\n                            let half = (start + start + step) / 2\r\n                            if (start < dur && dur < half) {\r\n                                dur = half\r\n                                break\r\n                            }\r\n                            if (half < dur && dur < start + step) {\r\n                                dur = start + step\r\n                                break\r\n                            }\r\n                        }\r\n                        break\r\n                }\r\n\r\n                model.value = Number((Math.max(0, Math.min((dur) / totalWidth.value, 1)) * props.total).toFixed(2))\r\n            },\r\n        }\r\n\r\n        /*---------------------------------------handler-------------------------------------------*/\r\n\r\n        const handler = {\r\n            mousedown: (e: MouseEvent) => {\r\n                if (!editComputed.value.editable) return\r\n                window.document.addEventListener('mousemove', handler.mousemove)\r\n                window.document.addEventListener('mouseup', handler.mouseup)\r\n                disabledUserSelect()\r\n                methods.reset(e)\r\n            },\r\n            mousemove: (e: MouseEvent) => {\r\n                methods.reset(e)\r\n            },\r\n            mouseup: (e: MouseEvent) => {\r\n                window.document.removeEventListener('mousemove', handler.mousemove)\r\n                window.document.removeEventListener('mouseup', handler.mouseup)\r\n                enableUserSelect()\r\n            }\r\n        }\r\n\r\n        return {\r\n            render: () => (\r\n                <div class={classes.value} onMousedown={handler.mousedown} ref=\"el\">\r\n                    <div class=\"pl-rate-active\" style={activeStyles.value}>\r\n                        {data.value.map(i => <pl-icon icon={props.activeIcon || 'el-icon-star-on'} key={i}/>)}\r\n                    </div>\r\n                    <div class=\"pl-rate-inactive\">\r\n                        {data.value.map(i => <pl-icon icon={props.inactiveIcon || 'el-icon-star-off'} key={i}/>)}\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import Rate from './rate'\r\nimport Icon from '../icon'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(Rate, {plugins: [Icon]})","import Scroll from '../scroll'\r\nimport {computed, reactive, nextTick, watch, onMounted, onUpdated} from 'vue'\r\nimport {useClass} from \"../../use/useClasses\";\r\nimport {useStyles} from \"../../use/useStyles\";\r\n\r\ninterface DataNode {\r\n    top: number\r\n    bottom: number\r\n    height: number\r\n\r\n    data: any\r\n    index: number\r\n}\r\n\r\nexport function useVirtualList(\r\n    {\r\n        props,\r\n        refs,\r\n        emit,\r\n    }: {\r\n        props: {\r\n            data: any[],\r\n            size: number,\r\n            disabled?: boolean,\r\n            dynamicSize?: boolean,\r\n        },\r\n        refs: {\r\n            scroll: typeof Scroll.use.class | null,\r\n            content: HTMLDivElement,\r\n        },\r\n        emit: {\r\n            onScroll: (e: Event) => void\r\n        },\r\n    }\r\n) {\r\n\r\n    /*非响应式属性*/\r\n    const freezeState = {\r\n        scrollTop: 0,                               // 实时的scrollTop值\r\n        current: {                                  // 当前的页面信息\r\n            pageIndex: 0,\r\n            start: 0,\r\n            end: 0,\r\n        },\r\n    }\r\n    /*响应式属性*/\r\n    const state = reactive({\r\n        nodes: [] as DataNode[],                    // 格式化的data数组数据\r\n        scrollTop: 0,                               // 当前滚动scrollTop（非实时的）\r\n        pageSize: 0,                                // 页大小\r\n    })\r\n\r\n    /**\r\n     * 计算得到的在虚拟列表当前要渲染的数组数据\r\n     * @author  韦胜健\r\n     * @date    2020/11/15 9:28\r\n     */\r\n    const offsetData = computed((): { list: { item: any, index: number }[], startPageIndex: number, start: number } => {\r\n        const {pageSize, scrollTop} = state\r\n        const data = props.data || []\r\n        if (!pageSize) {\r\n            return {list: [], startPageIndex: 0, start: 0}\r\n        }\r\n        if (props.disabled) {\r\n            return {\r\n                list: data.map((item, index) => ({item, index})),\r\n                start: 0,\r\n                startPageIndex: 0,\r\n            }\r\n        }\r\n        const {start, end, pageIndex} = utils.getPageIndex(scrollTop, pageSize)\r\n        return {\r\n            list: data.map((item, index) => ({item, index})).slice(start, end),\r\n            startPageIndex: pageIndex,\r\n            start,\r\n        }\r\n    })\r\n\r\n    /*---------------------------------------style-------------------------------------------*/\r\n\r\n    /**\r\n     * 跟节点Scroll的class\r\n     * @author  韦胜健\r\n     * @date    2020/12/16 10:48\r\n     */\r\n    const classes = useClass(() => [\r\n        'pl-virtual-list',\r\n        {\r\n            'pl-virtual-list-disabled': props.disabled,\r\n        }\r\n    ])\r\n\r\n    /**\r\n     * 占位节点strut的样式\r\n     * @author  韦胜健\r\n     * @date    2020/12/16 10:48\r\n     */\r\n    const strutStyles = useStyles(style => {\r\n        if (!state.pageSize) {\r\n            return\r\n        }\r\n        if (props.disabled) {\r\n            return;\r\n        }\r\n        if (!props.dynamicSize) {\r\n            style.height = `${(props.data || []).length * props.size}px`\r\n        } else {\r\n            style.height = `${state.nodes[state.nodes.length - 1].bottom}px`\r\n        }\r\n    })\r\n\r\n    /**\r\n     * 内容（位移）节点的样式\r\n     * @author  韦胜健\r\n     * @date    2020/12/16 10:48\r\n     */\r\n    const contentStyles = useStyles(style => {\r\n\r\n        if (!state.pageSize) {\r\n            return\r\n        }\r\n        if (props.disabled) {\r\n            return;\r\n        }\r\n\r\n        const {start} = offsetData.value\r\n\r\n        let top = 0\r\n        if (!props.dynamicSize) {\r\n            top = start * props.size\r\n        } else {\r\n            top = state.nodes[start].top\r\n        }\r\n\r\n        /*top定位*/\r\n        // style.top = `${top}px`\r\n        /*transform定位*/\r\n        style.transform = `translateY(${top}px)`\r\n    })\r\n\r\n    /*---------------------------------------utils-------------------------------------------*/\r\n\r\n    const utils = {\r\n        /**\r\n         * 根据top值，对比DataNodes中节点的top以及bottom得到在data nodes中的位置索引\r\n         * @author  韦胜健\r\n         * @date    2020/11/15 9:29\r\n         */\r\n        getIndex: (top: number) => {\r\n            if (!props.dynamicSize) {\r\n                // console.log('not dynamic》》》getIndex', top / props.size)\r\n                return Math.floor(top / props.size)\r\n            } else {\r\n                const {nodes} = state\r\n                let start = 0;\r\n                let end = nodes.length - 1\r\n                let temp = 0;\r\n                while (start <= end) {\r\n                    let middle = Math.floor((start + end) / 2)\r\n                    let middleBottom = nodes[middle].bottom\r\n                    if (middleBottom === top) {\r\n                        return middle + 1\r\n                    } else if (middleBottom < top) {\r\n                        start = middle + 1\r\n                    } else if (middleBottom > top) {\r\n                        if (!temp || temp > middle) {\r\n                            temp = middle\r\n                        }\r\n                        end = middle - 1\r\n                    }\r\n                }\r\n                // console.log('is dynamic》》》getIndex', temp)\r\n                return temp\r\n            }\r\n        },\r\n        /**\r\n         * 根据scrollTop以及pageSize获取当前的pageIndex\r\n         * @author  韦胜健\r\n         * @date    2020/12/14 22:44\r\n         */\r\n        getPageIndex: (scrollTop: number, pageSize: number) => {\r\n            const data = props.data || []\r\n            /*当前scrollTop对应的数据中数据的索引*/\r\n            let scrollIndex = utils.getIndex(scrollTop)\r\n            let pageIndex = Math.floor(scrollIndex / pageSize)\r\n            let start = pageIndex === 0 ? 0 : (pageIndex - 1) * pageSize\r\n            let end = start + pageSize * 3\r\n            /*console.log({\r\n                scrollIndex,\r\n                pageIndex,\r\n                start,\r\n                end,\r\n            })*/\r\n            const exceed = end - data.length\r\n            if (exceed > 0) {\r\n                end = data.length\r\n                start -= exceed\r\n                if (start < 0) {\r\n                    start = 0\r\n                }\r\n            }\r\n            pageIndex = Math.floor(start / pageSize)\r\n            return {\r\n                data,\r\n                start,\r\n                end,\r\n                pageIndex,\r\n            }\r\n        },\r\n        /**\r\n         * 格式化props.data为 DataNode数组\r\n         * @author  韦胜健\r\n         * @date    2020/11/15 9:29\r\n         */\r\n        resetData: (data: any[]) => {\r\n            // console.log('resetData')\r\n            state.nodes = data.map((item, index) => ({\r\n                data: item,\r\n                index,\r\n                top: props.size * index,\r\n                height: props.size,\r\n                bottom: props.size * (index + 1),\r\n            }))\r\n        }\r\n    }\r\n\r\n    /*---------------------------------------handler-------------------------------------------*/\r\n\r\n    const handler = {\r\n        onScroll: (e: Event) => {\r\n            emit.onScroll(e)\r\n            if (props.disabled) {\r\n                return\r\n            }\r\n            freezeState.scrollTop = (e.target as HTMLDivElement).scrollTop\r\n            const current = utils.getPageIndex((e.target as HTMLDivElement).scrollTop, state.pageSize)\r\n            if (freezeState.current.pageIndex != current.pageIndex || freezeState.current.start != current.start) {\r\n                state.scrollTop = (e.target as HTMLDivElement).scrollTop\r\n                freezeState.current = current\r\n            }\r\n        }\r\n    }\r\n\r\n    watch(() => props.data, (data: any[]) => {\r\n        if (props.disabled) {\r\n            return\r\n        }\r\n        if (!props.dynamicSize) {\r\n            return;\r\n        }\r\n        !!refs.scroll && refs.scroll.methods.scrollTop(0, 0);\r\n        /*如果是动态高度，则刷state.nodes*/\r\n        utils.resetData(data)\r\n    })\r\n\r\n    onMounted(() => {\r\n        const hostHeight = refs.scroll!.refs.host.offsetHeight\r\n        state.pageSize = Math.ceil(hostHeight / props.size)\r\n        if (props.dynamicSize && !props.disabled) {\r\n            utils.resetData(props.data)\r\n        }\r\n    })\r\n\r\n    onUpdated(async () => {\r\n        if (props.disabled) {\r\n            return\r\n        }\r\n        if (!props.dynamicSize) {\r\n            return;\r\n        }\r\n        await nextTick()\r\n        // console.log('dynamic scan height')\r\n        const elNodes = (Array.from(refs.content.childNodes || []) as HTMLElement[]).filter(node => node.nodeType !== 3)\r\n        for (let i = 0; i < elNodes.length; i++) {\r\n            const el = elNodes[i];\r\n            const {offsetHeight: height} = el\r\n            let vid = el.getAttribute('vid') as null | number | string\r\n            if (vid == null) {\r\n                throw new Error('Each item of the virtual-list must have an attribute named \"vid\", please set :vid=\"index\"')\r\n            }\r\n            vid = Number(vid)\r\n            const prevNode = state.nodes[vid]\r\n            const prevHeight = prevNode.height\r\n            let deltaHeight = prevHeight - height\r\n            if (deltaHeight !== 0) {\r\n                prevNode.height = height\r\n                prevNode.bottom = prevNode.bottom - deltaHeight\r\n                for (let j = vid + 1; j < state.nodes!.length; j++) {\r\n                    state.nodes![j].top = state.nodes![j - 1].bottom\r\n                    state.nodes![j].bottom = state.nodes![j].bottom - deltaHeight\r\n                }\r\n            }\r\n        }\r\n    })\r\n\r\n    return {\r\n        virtual: {\r\n            offsetData,\r\n            classes,\r\n            strutStyles,\r\n            contentStyles,\r\n            handler,\r\n        }\r\n    }\r\n}","import './virtual-list.scss'\r\nimport {designComponent} from \"../../use/designComponent\";\r\nimport {useScopedSlots} from \"../../use/useScopedSlots\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport Scroll from '../scroll'\r\nimport {useVirtualList} from \"./useVirtualList\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-virtual-list',\r\n    props: {\r\n        data: {type: Array, require: true, default: []},            // 要渲染的长数据\r\n        size: {type: Number, require: true, default: 40},           // 每一行高度\r\n        dynamicSize: {type: Boolean},                               // 标识列表中的每一行高度不是固定的，但是还是需要提供 size 属性，而且size属性不能与每一行的高度差距太多；\r\n        disabled: {type: Boolean},                                  // 禁用虚拟滚动\r\n    },\r\n    emits: {\r\n        onScroll: (e: Event) => true\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const {scopedSlots} = useScopedSlots({\r\n            default: {item: Object, index: Number, virtualIndex: Number},\r\n            content: {data: Array},\r\n        })\r\n\r\n        const {refs} = useRefs({\r\n            scroll: Scroll,\r\n            content: HTMLDivElement,\r\n        })\r\n\r\n        const {virtual} = useVirtualList({\r\n            refs,\r\n            props,\r\n            emit,\r\n        })\r\n\r\n        return {\r\n            refer: {\r\n                refs,\r\n            },\r\n            render: () => {\r\n                const {list} = virtual.offsetData.value\r\n                return (\r\n                    <Scroll onScroll={virtual.handler.onScroll} ref=\"scroll\" class={virtual.classes.value} disableListTransition>\r\n                        <div class=\"pl-virtual-list-strut\" style={virtual.strutStyles.value}>\r\n                            <div class=\"pl-virtual-list-content\" style={virtual.contentStyles.value} ref=\"content\">\r\n                                {scopedSlots.content({data: list}, list.map((node, virtualIndex) =>\r\n                                    scopedSlots.default({item: node.item, index: node.index, virtualIndex})\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    </Scroll>\r\n                )\r\n            }\r\n        }\r\n    },\r\n})","import Scroll from '../scroll'\r\nimport VirtualList from './virtual-list'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(VirtualList, {\r\n    plugins: [\r\n        Scroll\r\n    ]\r\n})","export const PROGRESS_DEFAULT_PROPS = {\r\n    modelValue: {type: Number, default: 100},                           // 进度百分比，双向绑定值\r\n    outerColor: {type: String, default: '#f2f2f2'},                     // 外层未激活颜色\r\n    innerColor: {type: String, default: '#12b4a5'},                     // 内层已经激活颜色\r\n    speed: {type: Number, default: 3},                                  // 动画速度\r\n    status: {type: String, default: 'normal'},                          // 状态\r\n    successColor: {type: String, default: '#42E67F'},                   // 成功状态颜色\r\n    errorColor: {type: String, default: '#FF6235'},                     // 失败状态颜色\r\n}","import {designComponent} from \"../../use/designComponent\";\r\nimport {PROGRESS_DEFAULT_PROPS} from \"./progress.utils\";\r\nimport {computed} from 'vue';\r\n\r\nexport const ProgressBar = designComponent({\r\n    name: 'pl-progress-bar',\r\n    props: {\r\n        ...PROGRESS_DEFAULT_PROPS,\r\n\r\n        width: {type: String, default: '300px'},\r\n        height: {type: String, default: '6px'},\r\n        inlineText: {type: Boolean},\r\n    },\r\n    setup({props}) {\r\n        const iconColor = computed(() => {\r\n            switch (props.status) {\r\n                case 'success':\r\n                    return props.successColor\r\n                case 'error':\r\n                    return props.errorColor\r\n                default:\r\n                    return null\r\n            }\r\n        })\r\n\r\n        const outerStyles = computed(() => ({\r\n            height: !!props.inlineText ? '16px' : props.height,\r\n            width: props.width,\r\n            backgroundColor: props.outerColor,\r\n            borderRadius: props.width,\r\n        }))\r\n\r\n        const innerStyles = computed(() => ({\r\n            width: `${props.modelValue}%`,\r\n            backgroundColor: iconColor.value || props.innerColor,\r\n            borderRadius: props.width,\r\n        }))\r\n\r\n        return {\r\n            render: () => (\r\n                <div class=\"pl-progress-bar\">\r\n                    <div class=\"pl-progress-bar-outer\" style={outerStyles.value}>\r\n                        <div class=\"pl-progress-bar-inner\" style={innerStyles.value}>\r\n                            {props.inlineText && props.modelValue > 20 && (\r\n                                <div>\r\n                                    <div class=\"pl-progress-bar-content\">\r\n                                        {props.status === 'success' && <pl-icon icon=\"el-icon-check-bold\" class=\"pl-progress-bar-icon-success\" style={{color: 'white'}}/>}\r\n                                        {props.status === 'error' && <pl-icon icon=\"el-icon-close-bold\" class=\"pl-progress-bar-icon-error\" style={{color: 'white'}}/>}\r\n                                        {props.status !== 'success' && props.status !== 'error' && <span>{props.modelValue}%</span>}\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                        {props.inlineText && props.modelValue < 20 && (\r\n                            <div>\r\n                                <div class=\"pl-progress-bar-content\">\r\n                                    {props.status === 'success' && <pl-icon icon=\"el-icon-check-bold\" class=\"pl-progress-bar-icon-success\" style={{color: props.successColor}}/>}\r\n                                    {props.status === 'error' && <pl-icon icon=\"el-icon-close-bold\" class=\"pl-progress-bar-icon-error\" style={{color: props.errorColor}}/>}\r\n                                    {props.status !== 'success' && props.status !== 'error' && <span>{props.modelValue}%</span>}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                    {\r\n                        !props.inlineText && (\r\n                            <div class=\"pl-progress-bar-content\">\r\n                                {props.status === 'success' && <pl-icon icon=\"el-icon-success\" class=\"pl-progress-bar-icon-success\" style={{color: props.successColor}}/>}\r\n                                {props.status === 'error' && <pl-icon icon=\"el-icon-error\" class=\"pl-progress-bar-icon-error\" style={{color: props.errorColor}}/>}\r\n                                {props.status !== 'success' && props.status !== 'error' && <span>{props.modelValue}%</span>}\r\n                            </div>\r\n                        )\r\n                    }\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","export function createAnimate(\r\n    {\r\n        initValue,\r\n        time,\r\n        action,\r\n    }: {\r\n        initValue: () => number,\r\n        time: number,\r\n        action: (val: number) => void,\r\n    }) {\r\n\r\n    let cancel = null as null | number\r\n\r\n    return {\r\n        start: (percent: number, done?: () => void) => {\r\n            if (cancel != null) {\r\n                cancelAnimationFrame(cancel)\r\n            }\r\n            let startTime = Date.now()\r\n\r\n            let n = initValue()\r\n            let k = (percent - n) / time\r\n\r\n            const run = () => {\r\n                let nowTime = Date.now()\r\n                let deltaTime = nowTime - startTime\r\n\r\n                if (deltaTime > time) {\r\n                    cancel = null\r\n                    action(percent)\r\n                    !!done && done()\r\n                    return\r\n                }\r\n                action(Number((deltaTime * k + n).toFixed(2)))\r\n                cancel = requestAnimationFrame(run)\r\n            }\r\n            run()\r\n        },\r\n        stop: () => {\r\n            if (cancel != null) {\r\n                cancelAnimationFrame(cancel)\r\n            }\r\n        }\r\n    }\r\n}","import {designComponent} from \"../../use/designComponent\";\r\nimport {PROGRESS_DEFAULT_PROPS} from \"./progress.utils\";\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {unit} from 'plain-utils/string/unit';\r\nimport {computed, reactive, watch} from 'vue';\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport loading from \"../loading/loading\";\r\nimport {createAnimate} from \"../../utils/createAnimate\";\r\n\r\n/*\r\n\r\nSVG path 指令\r\n\r\nM x,y 在这里x和y是绝对坐标，分别代表水平坐标和垂直坐标\r\nm dx,dy 在这里dx和dy是相对于当前点的距离，分别是向右和向下的距离。\r\nA 绘制圆弧\r\n\r\nSVG提供了一个范围广泛stroke 属性\r\n\r\n- stroke: 定义一条线，文本或元素轮廓颜色\r\n- stroke-width: 定义了一条线，文本或元素轮廓厚度\r\n- stroke-linecap: 不同类型的开放路径的终结(开头和结尾是方形还是带圆角的)\r\n- stroke-dasharray: 虚线\r\n- stroke-dashoffset: dash模式到路径开始的距离,使用了一个 <百分比> 值， 那么这个值就代表了当前viewport的一个百分比，值可以取为负值\r\n\r\nSVG Path标签 A 参数\r\n\r\nA rx ry x-axis-rotation large-arc-flag sweep-flag x y\r\n\r\n- rx：x轴半径\r\n- ry：y轴半径\r\n- x-axis-rotation：指椭圆的X轴与水平方向顺时针方向夹角，可以想像成一个水平的椭圆绕中心点顺时针旋转的角度（一般都是0，不知道有什么用，如果希望旋转一定的夹角的话，可以用transform rotate实现）\r\n- large-arc-flag：1表示大角度弧线，0为小角度弧线（如果数值大于50%，则这个应该是1，否则是0）。\r\n- sweep-flag：1为顺时针方向，0为逆时针方向。\r\n- x：结束点x坐标\r\n- y：结束点y坐标\r\n\r\n*/\r\n\r\nexport const ProgressCircle = designComponent({\r\n    name: 'pl-progress-circle',\r\n    props: {\r\n        ...PROGRESS_DEFAULT_PROPS,\r\n\r\n        size: {type: Number, default: 100},                                                     // 大小尺寸\r\n        lineSize: {type: Number, default: 6},                                                   // 线条尺寸\r\n        startAngle: {type: Number, default: 0},                                                 // 起始角度\r\n\r\n        antiClockwise: {type: Boolean},                                                         // 逆时针\r\n        loading: {type: Boolean},                                                               // 加载动画\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val?: number) => true,\r\n    },\r\n    setup({props, event}) {\r\n\r\n        const {slots} = useSlots()\r\n\r\n        const model = useModel(() => 0, event.emit.onUpdateModelValue, {autoWatch: false})\r\n\r\n        const animate = createAnimate({\r\n            time: props.loading ? 1500 : 900,\r\n            initValue: () => model.value != null ? model.value : (props.loading ? loading.min : 0),\r\n            action: val => model.value = val,\r\n        })\r\n\r\n        const loading = (() => {\r\n            return reactive({\r\n                isLoading: false,\r\n                max: 75,\r\n                min: 15,\r\n                start: () => {\r\n                    const run = () => {\r\n                        if (model.value == null) {\r\n                            model.value = loading.min\r\n                        }\r\n                        animate.start(model.value <= loading.min ? loading.max : loading.min, run)\r\n                    }\r\n                    animate.start(loading.max, run)\r\n                    loading.isLoading = true\r\n                },\r\n                end: () => {\r\n                    animate.stop()\r\n                    loading.isLoading = false\r\n                },\r\n            })\r\n        })();\r\n\r\n        const styles = useStyles(style => {\r\n            style.width = unit(props.size)\r\n            style.height = unit(props.size)\r\n        })\r\n\r\n        const percent = computed(() => model.value == null ? 0 : model.value / 100)\r\n\r\n        const radius = computed(() => 50 - props.lineSize / 2)\r\n\r\n        const pathD = computed(() => {\r\n            let d = [`M 50 ${props.lineSize / 2}`] as (string | number)[]\r\n            const r = radius.value\r\n            const p = percent.value /*小于1的百分比数字*/\r\n\r\n            const degrees = Math.PI * 2 * p\r\n\r\n            d.push(`A ${r} ${r} 0`)\r\n            d.push(p > 0.5 ? 1 : 0)\r\n            d.push(props.antiClockwise ? 0 : 1)\r\n            d.push(`${50 + r * Math.sin(degrees) * (props.antiClockwise ? -1 : 1)} ${50 - r * Math.cos(degrees)}`)\r\n\r\n            return d.join(' ')\r\n        })\r\n\r\n\r\n        const pathStroke = computed(() => {\r\n            switch (props.status) {\r\n                case 'success':\r\n                    return props.successColor\r\n                case 'error':\r\n                    return props.errorColor\r\n                default:\r\n                    return props.innerColor\r\n            }\r\n        })\r\n\r\n        const circleStroke = computed(() => {\r\n            if (percent.value === 1) {\r\n                return pathStroke.value\r\n            }\r\n            return props.outerColor\r\n        })\r\n\r\n        const pathStyles = useStyles(style => {\r\n            style.transform = `rotate(${props.startAngle}deg)`\r\n        })\r\n\r\n        watch(() => props.loading, val => val ? loading.start() : loading.end(), {immediate: true})\r\n\r\n        watch(() => props.modelValue, val => !props.loading && animate.start(val), {immediate: true})\r\n\r\n        return {\r\n            refer: {\r\n                animate,\r\n            },\r\n            render: () => (\r\n                <div class={`pl-progress-circle ${loading.isLoading ? 'pl-progress-circle-loading' : ''}`} style={styles.value}>\r\n                    <svg viewBox=\"0 0 100 100\">\r\n\r\n                        <circle\r\n                            cx=\"50\"\r\n                            cy=\"50\"\r\n                            r={radius.value}\r\n                            stroke={circleStroke.value}\r\n                            stroke-width={props.lineSize}\r\n                            fill=\"none\"/>\r\n\r\n                        {percent.value !== 1 && <path\r\n                            d={pathD.value}\r\n                            stroke={pathStroke.value}\r\n                            stroke-width={props.lineSize}\r\n                            fill=\"none\"\r\n                            stroke-linecap=\"round\"\r\n                            style={pathStyles.value}\r\n                        />}\r\n\r\n                    </svg>\r\n\r\n                    <div class=\"pl-progress-circle-label\">\r\n                        {props.loading ? slots.default() : <>\r\n                            {props.status === 'normal' && slots.default(`${model.value}%`)}\r\n                            {props.status === 'success' && <pl-icon icon=\"el-icon-check-bold\" class=\"pl-progress-bar-icon-success\" style={{color: props.successColor}}/>}\r\n                            {props.status === 'error' && <pl-icon icon=\"el-icon-close-bold\" class=\"pl-progress-bar-icon-error\" style={{color: props.errorColor}}/>}\r\n                        </>}\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {PROGRESS_DEFAULT_PROPS} from \"./progress.utils\";\r\nimport {computed, watch} from 'vue';\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {unit} from 'plain-utils/string/unit';\r\nimport {createAnimate} from \"../../utils/createAnimate\";\r\nimport {useModel} from \"../../use/useModel\";\r\n\r\nexport const ProgressMini = designComponent({\r\n    name: 'pl-progress-mini',\r\n    props: {\r\n        size: {default: 28},\r\n        ...PROGRESS_DEFAULT_PROPS,\r\n        innerColor: {type: String, default: 'rgba(0,0,0,0.25)'},\r\n        round: {type: Boolean},\r\n    },\r\n    setup({props}) {\r\n\r\n        const model = useModel(() => 0, () => undefined, {autoWatch: false})\r\n\r\n        const animate = createAnimate({\r\n            time: 300,\r\n            initValue: () => model.value || 0,\r\n            action: val => model.value = val,\r\n        })\r\n\r\n        const styles = useStyles(style => {\r\n            style.height = unit(props.size)\r\n            style.width = unit(props.size)\r\n        })\r\n\r\n        const classes = computed(() => [\r\n            'pl-progress-mini',\r\n            {\r\n                [`pl-progress-mini-status-${props.status}`]: !!props.status,\r\n                [`pl-progress-mini-round`]: props.round,\r\n            },\r\n        ])\r\n\r\n        const percent = computed(() => 1 - (model.value == null ? 0 : model.value / 100))\r\n\r\n        const radius = computed(() => 50 - 2 / 2)\r\n\r\n        const pathD = computed(() => {\r\n            let d = [`M 50 1`] as (string | number)[]\r\n            const r = radius.value\r\n            const p = percent.value /*小于1的百分比数字*/\r\n\r\n            const degrees = Math.PI * 2 * p\r\n\r\n            d.push(`A ${r} ${r} 0`)\r\n            d.push(p > 0.5 ? 1 : 0)\r\n            d.push(0)\r\n            d.push(`${50 - r * Math.sin(degrees)} ${50 - r * Math.cos(degrees)}`)\r\n\r\n            d.push(`L 50 50 L 50 1`)\r\n\r\n            return d.join(' ')\r\n        })\r\n\r\n\r\n        const pathStroke = computed(() => {\r\n            switch (props.status) {\r\n                case 'success':\r\n                    return props.successColor\r\n                case 'error':\r\n                    return props.errorColor\r\n                default:\r\n                    return props.innerColor\r\n            }\r\n        })\r\n\r\n        watch(() => props.modelValue, val => animate.start(val), {immediate: true})\r\n\r\n        return {\r\n            render: () => (\r\n                <div class={classes.value} style={styles.value}>\r\n                    <svg viewBox=\"0 0 100 100\">\r\n                        {model.value == 0 ? (\r\n                            <circle cx=\"50\" cy=\"50\" r={radius.value} fill={pathStroke.value}/>\r\n                        ) : (\r\n                            <path\r\n                                d={pathD.value}\r\n                                stroke=\"none\"\r\n                                fill={pathStroke.value}\r\n                            />\r\n                        )}\r\n                    </svg>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {ProgressBar} from './progress-bar'\r\nimport {ProgressCircle} from './progress-circle'\r\nimport {ProgressMini} from './progress-mini'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\nimport './progress.scss'\r\n\r\nexport default createComponentPlugin(ProgressBar, {\r\n    exposeComponents: {\r\n        ProgressCircle,\r\n        ProgressMini,\r\n    },\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {StyleProps, useStyle} from \"../../use/useStyle\";\r\nimport {EditProps, useEdit} from \"../../use/useEdit\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {computed, nextTick, ref, watch} from 'vue';\r\nimport './pagination.scss'\r\nimport {useNumber} from \"../../use/useNumber\";\r\n\r\nconst SizesWidth = {\r\n    large: 120,\r\n    normal: 105,\r\n    mini: 90,\r\n}\r\n\r\nexport default designComponent({\r\n    name: 'pl-pagination',\r\n    props: {\r\n        ...StyleProps,\r\n        ...EditProps,\r\n\r\n        pageSize: {type: [Number, String], required: true},                                     // 页大小\r\n        total: {type: [Number, String]},                                                        // 总共条目数\r\n        totalPage: {type: [Number, String]},                                                    // 总页数，与 total/pageSize 作用类似，用来确定总页数；\r\n        pagerCount: {type: [Number, String], default: 7},                                       // 页码按钮数量，当总页数超过时会折叠\r\n        currentPage: {type: [Number, String]},                                                  // 当前页\r\n\r\n        layout: {type: String, default: 'sizes,jumper,prev,pager,next,loading,blank,total,slot'},// 组件布局\r\n        pageSizes: {type: Array, default: [10, 20, 50, 100]},                                   // 页大小下拉选项数组\r\n        prevText: {type: String},                                                               // 上一页按钮替换文本\r\n        nextText: {type: String},                                                               // 下一页按钮替换文本\r\n\r\n        jumperNumberWidth: {type: Number},                                                      // 跳转页的数字输入框宽度\r\n    },\r\n    emits: {\r\n        onJump: (val: number) => true,\r\n        onPrev: () => true,\r\n        onNext: () => true,\r\n        onCurrentChange: (val: number) => true,\r\n        onSizeChange: (val: number) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n        const {editComputed} = useEdit()\r\n        const {styleComputed} = useStyle()\r\n        const {slots} = useSlots([], true)\r\n\r\n        const jumperValue = ref(null as number | null)\r\n        watch(() => props.currentPage, (val) => jumperValue.value = val == null ? 1 : Number(val), {immediate: true})\r\n\r\n        const classes = computed(() => [\r\n            'pl-pagination',\r\n            `pl-pagination-size-${styleComputed.value.size}`,\r\n            `pl-pagination-shape-${styleComputed.value.shape}`,\r\n            {\r\n                'pl-pagination-disabled': editComputed.value.disabled,\r\n            },\r\n        ])\r\n\r\n        const {numberState} = useNumber(props, [\r\n            'pageSize',\r\n            'total',\r\n            'totalPage',\r\n            'pagerCount',\r\n            'currentPage',\r\n        ])\r\n\r\n        const jumperNumberWidth = computed(() => {\r\n            if (!!props.jumperNumberWidth) {\r\n                return props.jumperNumberWidth\r\n            } else {\r\n                return {\r\n                    large: 78,\r\n                    normal: 64,\r\n                    mini: 56,\r\n                }[styleComputed.value.size]\r\n            }\r\n        })\r\n\r\n        const totalPageData = computed(() => {\r\n            if (numberState.totalPage != null) {\r\n                return numberState.totalPage\r\n            } else if (numberState.pageSize != null && numberState.total != null) {\r\n                return Math.ceil(numberState.total / numberState.pageSize)\r\n            } else {\r\n                return 0\r\n            }\r\n        })\r\n\r\n        const pageInfo = computed(() => {\r\n            let currentPage = numberState.currentPage\r\n            let pagerCount = numberState.pagerCount\r\n            let totalPage = Number(totalPageData.value)\r\n            const midPagerCount = (pagerCount - 1) / 2                      // 从0开始计算中间索引\r\n\r\n            let showPrevMore = false\r\n            let showNextMore = false\r\n\r\n            if (totalPage > pagerCount) {\r\n                if (currentPage! > pagerCount - midPagerCount) {\r\n                    showPrevMore = true\r\n                }\r\n                if (currentPage! < totalPage - midPagerCount) {\r\n                    showNextMore = true\r\n                }\r\n            }\r\n\r\n            return {\r\n                currentPage,                // 当前页\r\n                pagerCount,                 // 页码按钮数量，包括左折叠左边的一个按钮以及右折叠右边的一个按钮\r\n                totalPage,                  // 总页数\r\n                midPagerCount,              // 中间页码按钮位置索引\r\n                showPrevMore,               // 是否显示左折叠\r\n                showNextMore,               // 是否显示右折叠\r\n            }\r\n        })\r\n\r\n        const pagers = computed(() => {\r\n            const {\r\n                currentPage,\r\n                pagerCount,\r\n                totalPage,\r\n                showPrevMore,\r\n                showNextMore\r\n            } = pageInfo.value\r\n\r\n            const array: number[] = []\r\n\r\n            if (showPrevMore && !showNextMore) {\r\n                const startPage = totalPage - (pagerCount - 2);\r\n                for (let i = startPage; i < totalPage; i++) {\r\n                    array.push(i);\r\n                }\r\n            } else if (!showPrevMore && showNextMore) {\r\n                for (let i = 2; i < pagerCount; i++) {\r\n                    array.push(i);\r\n                }\r\n            } else if (showPrevMore && showNextMore) {\r\n                const offset = Math.floor(pagerCount / 2) - 1;\r\n                for (let i = currentPage! - offset; i <= currentPage! + offset; i++) {\r\n                    array.push(i);\r\n                }\r\n            } else {\r\n                for (let i = 2; i < totalPage; i++) {\r\n                    array.push(i);\r\n                }\r\n            }\r\n\r\n            return array\r\n        })\r\n\r\n        const utils = {\r\n            /**\r\n             * 获取页码按钮的 class\r\n             * @author  韦胜健\r\n             * @date    2020/3/30 12:07\r\n             */\r\n            getPagerButtonClass(page: string | number) {\r\n                return [\r\n                    'pl-pagination-pager-button',\r\n                    {\r\n                        'pl-pagination-pager-button-active': page === pageInfo.value.currentPage\r\n                    },\r\n                ]\r\n            },\r\n            /**\r\n             * 跳转到指定页\r\n             * @author  韦胜健\r\n             * @date    2020/3/30 14:02\r\n             */\r\n            changeCurrent(val: number) {\r\n                if (!editComputed.value.editable) return;\r\n                emit.onCurrentChange(val)\r\n            },\r\n        }\r\n\r\n        const handler = {\r\n            /**\r\n             * 跳转到上一页\r\n             * @author  韦胜健\r\n             * @date    2020/3/30 14:08\r\n             */\r\n            onPrev() {\r\n                if (!editComputed.value.editable) return;\r\n                if (pageInfo.value.currentPage === 1) {\r\n                    return\r\n                }\r\n                utils.changeCurrent(pageInfo.value.currentPage! - 1)\r\n                emit.onPrev()\r\n            },\r\n            /**\r\n             * 跳转到下一页\r\n             * @author  韦胜健\r\n             * @date    2020/3/30 14:09\r\n             */\r\n            onNext() {\r\n                if (!editComputed.value.editable) return;\r\n                if (pageInfo.value.totalPage != null && pageInfo.value.currentPage == pageInfo.value.totalPage) {\r\n                    return\r\n                }\r\n                utils.changeCurrent(pageInfo.value.currentPage! + 1)\r\n                emit.onNext()\r\n            },\r\n            /**\r\n             * 跳转到指定页\r\n             * @author  韦胜健\r\n             * @date    2020/3/30 14:29\r\n             */\r\n            async onJump() {\r\n                if (!editComputed.value.editable) return;\r\n                await nextTick()\r\n                let val = jumperValue.value\r\n                if (!val && val !== 0) {\r\n                    val = 1\r\n                    await nextTick()\r\n                    jumperValue.value = val\r\n                }\r\n                if (val > pageInfo.value.totalPage) {\r\n                    val = pageInfo.value.totalPage\r\n                    await nextTick()\r\n                    jumperValue.value = val\r\n                }\r\n                emit.onJump(val)\r\n            },\r\n        }\r\n\r\n        return {\r\n            render: () => {\r\n                const sizes = (\r\n                    <pl-select\r\n                        class=\"pl-pagination-sizes\"\r\n                        modelValue={numberState.pageSize}\r\n\r\n                        loading={false}\r\n                        readonly={editComputed.value.readonly || editComputed.value.loading}\r\n                        filterable={false}\r\n                        inputProps={{width: SizesWidth[styleComputed.value.size], clearIcon: false}}\r\n                        onChange={emit.onSizeChange}>\r\n                        {(props.pageSizes || []).map(item => (\r\n                            <pl-select-option label={`${item} 条/页`} val={item} key={item}/>\r\n                        ))}\r\n                    </pl-select>\r\n                )\r\n\r\n                const jumper = (\r\n                    <div class=\"pl-pagination-jumper\">\r\n                        <span>前往</span>\r\n                        <pl-number inputProps={{width: jumperNumberWidth.value}}\r\n                                   readonly={editComputed.value.readonly || editComputed.value.loading}\r\n                                   hideButton\r\n                                   loading={false}\r\n                                   v-model={jumperValue.value}\r\n                                   min={0}\r\n                                   onEnter={handler.onJump}/>\r\n                        <span>页</span>\r\n                    </div>\r\n                )\r\n\r\n                const prev = (\r\n                    <div class=\"pl-pagination-prev pl-pagination-pager-button\" onClick={handler.onPrev}>\r\n                        {!!props.prevText ? props.prevText : <pl-icon icon=\"el-icon-arrow-left\"/>}\r\n                    </div>\r\n                )\r\n                const next = (\r\n                    <div class=\"pl-pagination-next pl-pagination-pager-button\" onClick={handler.onNext}>\r\n                        {!!props.nextText ? props.nextText : <pl-icon icon=\"el-icon-arrow-right\"/>}\r\n                    </div>\r\n                )\r\n\r\n                const pager = (\r\n                    <ul class=\"pl-pagination-pager\">\r\n                        {pageInfo.value.totalPage > 0 && <li key=\"first\" class={utils.getPagerButtonClass(1)} onClick={() => utils.changeCurrent(1)}>1</li>}\r\n                        {pageInfo.value.showPrevMore && <li key=\"prev-more\" class={utils.getPagerButtonClass('prev')}>\r\n                            <pl-icon icon=\"el-icon-more\"/>\r\n                        </li>}\r\n                        {pagers.value.map((page, index) => <li class={utils.getPagerButtonClass(page)} key={index} onClick={() => utils.changeCurrent(page)}>{page}</li>)}\r\n                        {pageInfo.value.showNextMore && <li key=\"prev-more\" class={utils.getPagerButtonClass('next')}>\r\n                            <pl-icon icon=\"el-icon-more\"/>\r\n                        </li>}\r\n                        {pageInfo.value.totalPage > 1 && <li key=\"last\" class={utils.getPagerButtonClass(pageInfo.value.totalPage)} onClick={() => utils.changeCurrent(pageInfo.value.totalPage)}>{pageInfo.value.totalPage}</li>}\r\n                    </ul>\r\n                )\r\n\r\n                const blank = (<div class=\"pl-pagination-blank\"></div>)\r\n                const total = props.total == null ? null : (<div class=\"pl-pagination-total\"><span>总共 {props.total} 条记录</span></div>)\r\n                const slot = !slots.default.isExist() ? null : (<div class=\"pl-pagination-slot\">{slots.default()}</div>)\r\n                const loading = !editComputed.value.loading ? null : (\r\n                    <div class=\"pl-pagination-loading\">\r\n                        <pl-loading type=\"beta\"/>\r\n                    </div>\r\n                )\r\n\r\n                let parts = {sizes, jumper, prev, pager, next, loading, blank, total, slot,}\r\n\r\n                let layout = props.layout.replace(/\\s+/g, '').split(',').reduce((ret: any[], item) => {\r\n                    let part = (parts as any)[item]\r\n                    if (!!part) {\r\n                        ret.push(part)\r\n                    }\r\n                    return ret\r\n                }, [])\r\n\r\n                return (\r\n                    <div class={classes.value}>\r\n                        {layout}\r\n                    </div>\r\n                )\r\n            }\r\n        }\r\n    },\r\n})","import {Ref} from 'vue';\r\n\r\n/*节点状态类型*/\r\nexport enum StepStatus {\r\n    wait = 'wait',\r\n    finish = 'finish',\r\n    process = 'process',\r\n    error = 'error',\r\n}\r\n\r\nexport const StepUtils = {\r\n    getCurrentIndex: (current: any, items: any[]) => {\r\n        if (typeof current === \"number\") {\r\n            return current\r\n        } else {\r\n            for (let i = 0; i < items.length; i++) {\r\n                const item = items[i];\r\n                if (item.val === current) return i\r\n            }\r\n        }\r\n    },\r\n    getStepStatus: (\r\n        group: { currentStatus: StepStatus, currentIndex: Ref<number> },\r\n        child: { status: StepStatus, index: Ref<number> }\r\n    ): StepStatus | null => {\r\n\r\n        const {currentStatus, currentIndex} = group\r\n        const {status, index} = child\r\n\r\n        if (!!status) return status as StepStatus\r\n        if (currentIndex.value > index.value) {\r\n            return StepStatus.finish\r\n        } else if (currentIndex.value === index.value) {\r\n            if (!!currentStatus) {\r\n                return currentStatus as StepStatus\r\n            } else {\r\n                return StepStatus.process\r\n            }\r\n        } else if (currentIndex.value < index.value) {\r\n            return StepStatus.wait\r\n        } else {\r\n            return null\r\n        }\r\n    }\r\n}","import Icon from '../icon'\r\nimport Loading from '../loading'\r\nimport Button from '../button'\r\nimport Number from '../number'\r\n\r\nimport Pagination from './pagination'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(Pagination, {\r\n    plugins: [\r\n        Icon,\r\n        Loading,\r\n        Button,\r\n        Number,\r\n    ]\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {computed} from 'vue';\r\nimport './badge.scss'\r\n\r\nexport default designComponent({\r\n    name: 'pl-badge',\r\n    props: {\r\n        data: {},                                       //显示的数据\r\n        bottom: {type: Boolean},                        //标记纵向是否在底部\r\n        start: {type: Boolean},                         //标记横向是否在右边\r\n        status: {type: String, default: 'error'},       //标记背景色\r\n        dot: {type: Boolean,},                          //标记是否只是一个小圆点\r\n        max: {type: Number,},                           //标记显示文本最大值\r\n    },\r\n    setup({props}) {\r\n        const {slots} = useSlots(['badge'])\r\n        const contentClass = computed(() => [\r\n            'pl-badge-content',\r\n            {\r\n                'pl-badge-content-dot': !!props.dot,\r\n            },\r\n            `pl-badge-content-${!!props.bottom ? 'bottom' : 'top'}`,\r\n            `pl-badge-content-${!!props.start ? 'start' : 'end'}`,\r\n            `pl-badge-content-status-${props.status}`,\r\n        ])\r\n        const showValue = computed(() => {\r\n            if (props.data == null) return null\r\n            if (props.max != null && (Number(props.data)) > props.max) return props.max + '+'\r\n            return props.data\r\n        })\r\n        return {\r\n            render: () => (\r\n                <div class=\"pl-badge\">\r\n                    {slots.default()}\r\n                    <div class={contentClass.value}>\r\n                        {slots.badge(props.data != null ? <span>{showValue.value}</span> : null)}\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import Badge from './badge'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(Badge)","import {designComponent} from \"../../../use/designComponent\";\r\nimport {useSlots} from \"../../../use/useSlots\";\r\nimport {computed, getCurrentInstance, Ref} from 'vue';\r\nimport {StepStatus, StepUtils} from \"../step.utils\";\r\nimport {StepCollector} from \"./step-group\";\r\nimport {useRefs} from \"../../../use/useRefs\";\r\n\r\nexport const Step = designComponent({\r\n    name: 'pl-step',\r\n    props: {\r\n        icon: {type: String},\r\n        status: {type: String},\r\n        title: {type: String},\r\n        content: {type: String},\r\n        val: {type: String},\r\n    },\r\n    emits: {\r\n        onClick: (e: MouseEvent) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n        const {refs} = useRefs({\r\n            el: HTMLDivElement\r\n        })\r\n        const {slots} = useSlots(['title', 'content'])\r\n        const stepGroup = StepCollector.child({sort: () => refs.el})\r\n        const ctx = getCurrentInstance()!\r\n\r\n        /*---------------------------------------computer-------------------------------------------*/\r\n\r\n        const index = computed(() => stepGroup.items.indexOf(ctx.proxy))\r\n\r\n        const icon = computed(() => {\r\n            if (!!props.icon) return props.icon\r\n            return null\r\n        })\r\n\r\n        const isLast = computed(() => {\r\n            return index.value === stepGroup.items.length - 1\r\n        })\r\n\r\n        const currentStatus: Ref<StepStatus | null> = computed(() => {\r\n            return StepUtils.getStepStatus({\r\n                currentIndex: stepGroup.currentIndex as any,\r\n                currentStatus: stepGroup.props.currentStatus as any\r\n            }, {\r\n                status: props.status as any,\r\n                index\r\n            })\r\n        })\r\n\r\n\r\n        const classes = computed(() => [\r\n            'pl-step',\r\n            `pl-step-status-${currentStatus.value}`,\r\n            {\r\n                'pl-step-has-icon': !!icon.value,\r\n                'pl-step-last': isLast.value,\r\n            }\r\n        ])\r\n\r\n        return {\r\n            refer: {},\r\n            render: () => (\r\n                <div class={classes.value} onClick={emit.onClick} ref=\"el\">\r\n                    <div class=\"pl-step-head\">\r\n                        {!stepGroup.props.vertical && (stepGroup.isTitleAlignBottom.value || isLast.value) && <span class=\"pl-step-divider pl-step-divider-prev\"/>}\r\n                        <span class=\"pl-step-icon\">\r\n                        {\r\n                            !!icon.value ?\r\n                                (currentStatus.value !== 'process' ? <pl-icon icon={icon.value}/> : <pl-loading type=\"delta\"/>)\r\n                                :\r\n                                (\r\n                                    !!stepGroup.props.dotIcon ?\r\n                                        (<span class=\"pl-step-dot\"/>)\r\n                                        :\r\n                                        (\r\n                                            <span class=\"pl-step-number\">\r\n                                                {currentStatus.value === StepStatus.finish ?\r\n                                                    <pl-icon icon=\"el-icon-check\"/>\r\n                                                    :\r\n                                                    (currentStatus.value === StepStatus.error ?\r\n                                                            <pl-icon icon=\"el-icon-close\"/>\r\n                                                            :\r\n                                                            <span>{index.value + 1}</span>\r\n                                                    )\r\n                                                }\r\n                                            </span>\r\n                                        )\r\n                                )\r\n                        }\r\n                    </span>\r\n                        {!stepGroup.isTitleAlignBottom.value && (\r\n                            <span class=\"pl-step-title\">\r\n                            {slots.title(props.title)}\r\n                        </span>\r\n                        )}\r\n                        {(stepGroup.isTitleAlignBottom.value || !isLast.value) && <span class=\"pl-step-divider pl-step-divider-next\"/>}\r\n                    </div>\r\n                    <div class=\"pl-step-body\">\r\n                        {!stepGroup.isTitleAlignBottom.value ?\r\n                            <span class=\"pl-step-icon\"/>\r\n                            :\r\n                            <span class=\"pl-step-title\">\r\n                            {slots.title(props.title)}\r\n                        </span>\r\n                        }\r\n                        <span class=\"pl-step-content\">\r\n                        {slots.content(props.content)}\r\n                    </span>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../../use/designComponent\";\r\nimport {useSlots} from \"../../../use/useSlots\";\r\nimport {computed} from 'vue';\r\nimport {StepUtils} from \"../step.utils\";\r\nimport {useCollect} from \"../../../use/useCollect\";\r\nimport {Step} from \"./step\";\r\nimport './step.scss'\r\n\r\nexport const StepGroup = designComponent({\r\n    name: 'pl-step-group',\r\n    props: {\r\n        current: {type: [String, Number]},                              // 双向绑定，指定当前步骤条的步骤，在step组件中，可以通过 status 属性覆盖状态\r\n        currentStatus: {type: String},                                  // 当前激活节点的状态\r\n        type: {type: String, default: 'normal'},                        // 步骤条类型，normal、navigation\r\n        vertical: {type: Boolean},                                      // 步骤条是否为纵向\r\n        titleAlignBottom: {type: Boolean},                              // 默认情况下，标题会放在图标右侧，设置该属性可以改为放在图标下面\r\n        mini: {type: Boolean, default: true},                           // 迷你步骤条\r\n        dotIcon: {type: Boolean},                                       // 图标是否采用小圆点替代\r\n    },\r\n    setup({props}) {\r\n\r\n        const {slots} = useSlots()\r\n\r\n        const items = StepCollector.parent() as any[]\r\n\r\n        /*---------------------------------------computer-------------------------------------------*/\r\n\r\n        const isTitleAlignBottom = computed(() => {\r\n            return props.titleAlignBottom || props.vertical\r\n        })\r\n        const classes = computed(() => [\r\n            'pl-step-group',\r\n            `pl-step-group-${props.vertical ? 'vertical' : 'horizontal'}`,\r\n            {\r\n                'pl-step-group-title-align-bottom': isTitleAlignBottom.value,\r\n                'pl-step-group-mini': props.mini,\r\n                'pl-step-group-dot-icon': props.dotIcon,\r\n            },\r\n        ])\r\n        const currentIndex = computed(() => StepUtils.getCurrentIndex(props.current, items)) as { value: number }\r\n\r\n        return {\r\n            refer: {\r\n                items,\r\n                currentIndex,\r\n                props,\r\n                isTitleAlignBottom,\r\n            },\r\n            render: () => (\r\n                <div class={classes.value}>\r\n                    {slots.default()}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})\r\n\r\nexport const StepCollector = useCollect(() => ({\r\n    parent: StepGroup,\r\n    child: Step,\r\n}))","import {designComponent} from \"../../../use/designComponent\";\r\nimport {getCurrentInstance, computed, Ref} from 'vue';\r\nimport {useSlots} from \"../../../use/useSlots\";\r\nimport {StepStatus, StepUtils} from \"../step.utils\";\r\nimport {ArrowStepCollector} from \"./arrow-step-group\";\r\nimport {useRefs} from \"../../../use/useRefs\";\r\n\r\nexport const ArrowStep = designComponent({\r\n    name: 'pl-arrow-step',\r\n    props: {\r\n        status: {type: String},\r\n        title: {type: String},\r\n        val: {type: String},\r\n        hideIndex: {type: Boolean},\r\n    },\r\n    emits: {\r\n        onClick: (e: MouseEvent) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n        const ctx = getCurrentInstance()!\r\n        const {slots} = useSlots(['title'])\r\n        const {refs} = useRefs({el: HTMLDivElement})\r\n        const stepGroup = ArrowStepCollector.child({sort: () => refs.el})\r\n        /*---------------------------------------computer-------------------------------------------*/\r\n\r\n        const index = computed(() => {\r\n            return stepGroup.items.indexOf(ctx.proxy)\r\n        }) as { value: number }\r\n\r\n        const isLast = computed(() => {\r\n            return index.value === stepGroup.items.length - 1\r\n        })\r\n\r\n        const isFirst = computed(() => {\r\n            return index.value === 0\r\n        })\r\n\r\n        const currentStatus: Ref<StepStatus | null> = computed(() => {\r\n            return StepUtils.getStepStatus({\r\n                currentIndex: stepGroup.currentIndex as any,\r\n                currentStatus: stepGroup.props.currentStatus as any\r\n            }, {\r\n                status: props.status as any,\r\n                index: index as any\r\n            })\r\n        })\r\n\r\n        const classes = computed(() => [\r\n            'pl-arrow-step',\r\n            `pl-arrow-step-status-${currentStatus.value}`,\r\n        ])\r\n\r\n        return {\r\n            refer: {},\r\n            render: () => (\r\n                index.value != null ? (\r\n                    <div class={classes.value} onClick={emit.onClick} ref=\"el\">\r\n                        <div class=\"pl-arrow-step-content\">\r\n                            {!props.hideIndex && <span class=\"pl-arrow-step-sequence\">{index.value + 1}. &nbsp;</span>}\r\n                            <span>{slots.default(props.title)}</span>\r\n                        </div>\r\n                        {!isLast.value ? <pl-triangle direction=\"right\" size={null}/> : null}\r\n                        {!isFirst.value ? [\r\n                            <pl-triangle direction=\"bottom\" half=\"start\" size={null}/>,\r\n                            <pl-triangle direction=\"top\" half=\"start\" size={null}/>\r\n                        ] : null}\r\n                    </div>\r\n                ) : <div/>\r\n            )\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../../use/designComponent\";\r\nimport {useSlots} from \"../../../use/useSlots\";\r\nimport {computed} from 'vue';\r\nimport {StepUtils} from \"../step.utils\";\r\nimport {useCollect} from \"../../../use/useCollect\";\r\nimport {ArrowStep} from \"./arrow-step\";\r\nimport './arrow-step.scss'\r\n\r\nexport const ArrowStepGroup = designComponent({\r\n    name: 'pl-arrow-step-group',\r\n    props: {\r\n        current: {},\r\n        currentStatus: {type: String},\r\n    },\r\n    setup({props}) {\r\n        const {slots} = useSlots()\r\n        const items = ArrowStepCollector.parent() as any[]\r\n        const currentIndex = computed(() => StepUtils.getCurrentIndex(props.current, items)) as { value: number }\r\n        return {\r\n            refer: {\r\n                props,\r\n                currentIndex,\r\n                items,\r\n            },\r\n            render: () => (\r\n                <div class=\"pl-arrow-step-group\">\r\n                    {slots.default()}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})\r\n\r\nexport const ArrowStepCollector = useCollect(() => ({\r\n    parent: ArrowStepGroup,\r\n    child: ArrowStep,\r\n}))","import {designComponent} from \"../../use/designComponent\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport {useProps} from \"../../use/useProps\";\r\nimport {computed, onMounted} from 'vue';\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {unit} from 'plain-utils/string/unit';\r\nimport './triangle.scss'\r\n\r\nconst DirectionMap = {\r\n    top: 'bottom',\r\n    bottom: 'top',\r\n    left: 'right',\r\n    right: 'left',\r\n}\r\n\r\nfunction uppercaseFirstLetter(name: string): string {\r\n    if (!name) return name\r\n    return name.charAt(0).toUpperCase() + name.slice(1)\r\n}\r\n\r\nexport default designComponent({\r\n    name: 'pl-triangle',\r\n    props: {\r\n        direction: {type: String, default: 'top'},\r\n        half: {type: String},\r\n        size: {type: [Number, String], default: 20},\r\n    },\r\n    setup({props}) {\r\n        const {refs} = useRefs({\r\n            el: HTMLDivElement,\r\n        })\r\n\r\n        const {propsState} = useProps(props, {\r\n            size: useProps.NUMBER,\r\n        })\r\n\r\n        const classes = computed(() => [\r\n            'pl-triangle',\r\n            `pl-triangle-direction-${props.direction}`,\r\n            {\r\n                [`pl-triangle-half-${props.half}`]: !!props.half\r\n            }\r\n        ])\r\n\r\n        const styles = useStyles(style => {\r\n            if (!props.half) {\r\n                return style\r\n            }\r\n            if (props.direction === 'top' || props.direction === 'bottom') {\r\n                style.width = unit(propsState.size)\r\n            } else {\r\n                style.height = unit(propsState.size)\r\n            }\r\n            return style\r\n        })\r\n\r\n        const targetStyles = useStyles((style: any) => {\r\n\r\n            style.border = `solid transparent ${unit(propsState.size)}`\r\n            style[`border${uppercaseFirstLetter(props.direction)}Width`] = '0'\r\n            style[`border${uppercaseFirstLetter((DirectionMap as any)[props.direction])}Color`] = 'currentColor'\r\n\r\n            if (!!props.half) {\r\n                if (props.direction === 'top' || props.direction === 'bottom') {\r\n                    props.half === 'end' && (style.right = unit(propsState.size))\r\n                } else {\r\n                    props.half === 'end' && (style.bottom = unit(propsState.size))\r\n                }\r\n            }\r\n\r\n            return style\r\n        })\r\n\r\n        if (propsState.size == null) {\r\n            onMounted(() => {\r\n                propsState.size = (refs.el!.parentNode as HTMLDivElement).offsetHeight / 2\r\n            })\r\n        }\r\n\r\n        return {\r\n            render: () => (\r\n                propsState.size == null ? <span ref=\"el\" style=\"display:none\"/> : (\r\n                    <div class={classes.value} style={styles.value} ref=\"el\">\r\n                        <div class=\"pl-triangle-target\" style={targetStyles.value}/>\r\n                    </div>\r\n                )\r\n            )\r\n        }\r\n    },\r\n})","import Triangle from './triangle'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(Triangle)","import {StepGroup} from \"./step/step-group\";\r\nimport {Step} from \"./step/step\";\r\nimport {ArrowStepGroup} from \"./arrow-step/arrow-step-group\";\r\nimport {ArrowStep} from \"./arrow-step/arrow-step\";\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\nimport Triangle from '../triangle'\r\n\r\nexport default createComponentPlugin(Step, {\r\n    exposeComponents: {\r\n        StepGroup,\r\n        ArrowStepGroup,\r\n        ArrowStep,\r\n    },\r\n    plugins: [Triangle]\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {reactive} from 'vue';\r\nimport {useScopedSlots} from \"../../use/useScopedSlots\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-dropdown',\r\n    props: {\r\n        modelValue: {type: Boolean},\r\n        disabledHideOnClickOption: {type: Boolean},                     // 禁用点击 dropdown-option 之后关闭 dropdown\r\n    },\r\n    provideRefer: true,\r\n    emits: {\r\n        onUpdateModelValue: (val: boolean) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const {slots} = useSlots([\r\n            'popper'\r\n        ])\r\n        const {scopedSlots} = useScopedSlots({\r\n            reference: {open: Boolean}\r\n        })\r\n\r\n        const model = useModel(() => props.modelValue, emit.onUpdateModelValue)\r\n\r\n        const state = reactive({})\r\n\r\n        const handler = {\r\n            clickDropdownOption: (e: MouseEvent) => {\r\n                if (!props.disabledHideOnClickOption) {\r\n                    model.value = false\r\n                }\r\n            }\r\n        }\r\n\r\n        return {\r\n            refer: {\r\n                state,\r\n                handler,\r\n            },\r\n            render: () => (\r\n                <pl-popper\r\n                    trigger=\"click\"\r\n                    v-model={model.value}\r\n                    noContentPadding\r\n                    transition=\"pl-transition-popper-drop\"\r\n                    v-slots={{popper: slots.popper}}>\r\n                    {scopedSlots.reference(\r\n                        {open: model.value},\r\n                        slots.default()\r\n                    )}\r\n                </pl-popper>\r\n            )\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport Dropdown from './dropdown'\r\n\r\nexport default designComponent({\r\n    name: 'pl-dropdown-menu',\r\n    props: {},\r\n    emits: {\r\n        onClickOption: (e: MouseEvent, val: any) => true,\r\n    },\r\n    provideRefer: true,\r\n    setup({props, event: {emit}}) {\r\n\r\n        const dropdown = Dropdown.use.inject()\r\n        const {slots} = useSlots()\r\n\r\n        const handler = {\r\n            clickOption: (e: MouseEvent, val: any) => {\r\n                emit.onClickOption(e, val)\r\n                dropdown.handler.clickDropdownOption(e)\r\n            }\r\n        }\r\n\r\n        return {\r\n            refer: {\r\n                handler,\r\n            },\r\n            render: slots.default\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-dropdown-group',\r\n    props: {\r\n        title: {type: String},\r\n    },\r\n    setup({props}) {\r\n\r\n        const {slots} = useSlots(['title'], true)\r\n\r\n        return {\r\n            render: () => (\r\n                <div class={[\r\n                    'pl-dropdown-group',\r\n                    {'pl-dropdown-no-title': !slots.title.isExist() && !props.title}\r\n                ]}>\r\n                    {slots.title.isExist() || props.title && (\r\n                        <div class=\"pl-dropdown-group-title\">\r\n                            <pl-icon icon=\"el-icon-list\"/>\r\n                            <span>{slots.title(props.title)}</span>\r\n                        </div>\r\n                    )}\r\n                    <div class=\"pl-dropdown-group-content\">\r\n                        {slots.default()}\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport Menu from './dropdown-menu'\r\nimport {useClass} from \"../../use/useClasses\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-dropdown-option',\r\n    props: {\r\n        label: {type: [String]},\r\n        val: {},\r\n        icon: {type: String},\r\n        disabled: {type: Boolean},\r\n        align: {type: String, default: 'left'},\r\n    },\r\n    emits: {\r\n        onClick: (e: MouseEvent) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const {slots} = useSlots()\r\n        const menu = Menu.use.inject()\r\n\r\n        const onClick = (e: MouseEvent) => {\r\n            if (props.disabled) {\r\n                return\r\n            }\r\n            emit.onClick(e)\r\n            menu.handler.clickOption(e, props.val)\r\n        }\r\n\r\n        const classes = useClass(() => [\r\n            'pl-dropdown-option',\r\n            `pl-dropdown-option-align-${props.align}`,\r\n            {\r\n                'pl-dropdown-option-disabled': props.disabled\r\n            }\r\n        ])\r\n\r\n        return {\r\n            render: () => (\r\n                <div class={classes.value} onClick={onClick}>\r\n                    {!!props.icon && <pl-icon icon={props.icon} class=\"pl-dropdown-option-icon\"/>}\r\n                    {slots.default(props.label)}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import Dropdown from './dropdown'\r\nimport DropdownMenu from './dropdown-menu'\r\nimport DropdownGroup from './dropdown-group'\r\nimport DropdownOption from './dropdown-option'\r\nimport './dropdow.scss'\r\n\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(Dropdown, {\r\n    exposeComponents: {\r\n        DropdownMenu,\r\n        DropdownGroup,\r\n        DropdownOption,\r\n    }\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport './tooltip.scss'\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {useClass} from \"../../use/useClasses\";\r\nimport {unit} from \"plain-utils/string/unit\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport {onUpdated, reactive, onMounted} from 'vue';\r\n\r\nexport default designComponent({\r\n    name: 'pl-tooltip',\r\n    props: {\r\n        modelValue: {type: Boolean},                        // 双向绑定控制是否显示\r\n        tooltip: {type: String},                            // tooltip提示文本，可以通过 tooltip插槽替换\r\n        showWidth: {type: Number},                          // 设置宽度，当内容宽度超过这个宽度时，才会显示tooltip\r\n        theme: {type: String, default: 'dark'},             // 主题，dark以及light\r\n\r\n        placement: {type: String, default: 'top-start'},    // 位置\r\n        popperClass: {type: Object},                        // 传递给 pl-popper 的popperClass 属性\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: boolean) => true\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const state = reactive({\r\n            scrollWidth: 0,\r\n            offsetWidth: 0,\r\n        })\r\n        const {refs} = useRefs({\r\n            reference: HTMLSpanElement\r\n        })\r\n        const {slots} = useSlots(['tooltip'])\r\n        const model = useModel(() => props.modelValue, emit.onUpdateModelValue)\r\n\r\n        const popperClasses = useClass(() => [\r\n            'pl-tooltip',\r\n            `pl-tooltip-theme-${props.theme}`,\r\n            props.popperClass,\r\n        ])\r\n\r\n        if (props.showWidth) {\r\n            onUpdated(() => {\r\n                const {scrollWidth, offsetWidth} = refs.reference\r\n                Object.assign(state, {scrollWidth, offsetWidth})\r\n            })\r\n            onMounted(() => {\r\n                const {scrollWidth, offsetWidth} = refs.reference\r\n                Object.assign(state, {scrollWidth, offsetWidth})\r\n            })\r\n        }\r\n\r\n        return {\r\n            render: () => (\r\n                <pl-popper\r\n                    disabled={!!props.showWidth ? state.offsetWidth === state.scrollWidth : false}\r\n                    popperClass={popperClasses.value}\r\n                    placement={props.placement}\r\n                    v-model={model.value}\r\n                    v-slots={{\r\n                        default: () => !!props.showWidth ? (\r\n                            <span class=\"pl-tooltip-reference\"\r\n                                  ref=\"reference\"\r\n                                  style={{width: unit(props.showWidth)!}}>\r\n                                {slots.default(props.tooltip)}\r\n                            </span>\r\n                        ) : slots.default(props.tooltip),\r\n                        popper: () => slots.tooltip(props.tooltip)\r\n                    }}\r\n                />\r\n            )\r\n        }\r\n    },\r\n})","import {Directive, nextTick} from 'vue';\r\nimport {PlainTooltip} from 'plain-popper';\r\nimport {PlainTooltipConfig} from 'plain-popper/src/PlainTooltipUtils';\r\nimport {deepEqual} from \"plain-utils/object/deepEqual\";\r\n\r\ntype TooltipBinding = string | PlainTooltipConfig\r\n\r\nclass Tooltip {\r\n\r\n    static DEFAULT_OPTION = {\r\n        placement: 'top',\r\n        theme: 'dark',\r\n        animate: 'fade',\r\n        trigger: 'hover',\r\n    }\r\n\r\n    tooltip: PlainTooltip | null = null\r\n    oldOption: any = null\r\n\r\n    constructor(el: HTMLElement, option: PlainTooltipConfig | string) {\r\n        this.updateOption(el, option)\r\n    }\r\n\r\n    async updateOption(el: HTMLElement, option: PlainTooltipConfig | string) {\r\n        if (deepEqual(this.oldOption, option)) {\r\n            return\r\n        }\r\n        this.oldOption = option\r\n        await nextTick()\r\n        if (!!this.tooltip) {\r\n            this.tooltip.destroy()\r\n            this.tooltip = null\r\n        }\r\n        if (!!option) {\r\n            let config: PlainTooltipConfig = (typeof option === \"string\" ? {content: option} : option) as any\r\n            config = Object.assign({reference: el} as Partial<PlainTooltipConfig>, Tooltip.DEFAULT_OPTION, config)\r\n            this.tooltip = new PlainTooltip(config)\r\n        }\r\n    }\r\n\r\n    unbind() {\r\n        if (!!this.tooltip) {\r\n            this.tooltip.destroy()\r\n        }\r\n    }\r\n}\r\n\r\nexport const TooltipDirective = (() => {\r\n    const map = new WeakMap()\r\n    const directive: Directive = {\r\n        mounted(el: HTMLElement, binding: { value: TooltipBinding }) {\r\n            if (!!binding.value) {\r\n                let service = new Tooltip(el, binding.value)\r\n                map.set(el, service)\r\n                service.updateOption(el, binding.value)\r\n            }\r\n        },\r\n        updated(el: HTMLElement, binding: { value: TooltipBinding }) {\r\n            if (!!binding.value) {\r\n                let service = map.get(el) as Tooltip | null\r\n                if (!service) {\r\n                    service = new Tooltip(el, binding.value)\r\n                    map.set(el, service)\r\n                }\r\n                service.updateOption(el, binding.value)\r\n            } else {\r\n                let service = map.get(el) as Tooltip | null\r\n                if (!!service) {\r\n                    service.unbind()\r\n                    service = null\r\n                    map.set(el, service)\r\n                }\r\n            }\r\n        },\r\n        unmounted(el: HTMLElement) {\r\n            const service = map.get(el) as Tooltip\r\n            if (!!service) {\r\n                service.unbind()\r\n            }\r\n        },\r\n    }\r\n    return directive\r\n})()","import Tooltip from './tooltip'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\nimport {App} from 'vue';\r\nimport {TooltipDirective} from \"./tooltip-directive\";\r\n\r\nexport default createComponentPlugin(Tooltip, {\r\n    plugins: [\r\n        {\r\n            install(app: App) {\r\n                app.directive('tooltip', TooltipDirective)\r\n            },\r\n        }\r\n    ]\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {useModel} from \"../../use/useModel\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-collapse-group',\r\n    props: {\r\n        modelValue: {type: [String, Array]},\r\n        limit: {type: Number, default: 1},\r\n        disabled: {type: Boolean},\r\n    },\r\n    provideRefer: true,\r\n    emits: {\r\n        onUpdateModelValue: (val: string | string[] | undefined) => true\r\n    },\r\n    setup({props, event: {emit}}) {\r\n        const {slots} = useSlots()\r\n        const model = useModel(() => props.modelValue as string | string[] | undefined, emit.onUpdateModelValue)\r\n\r\n        const utils = {\r\n            isOpen: (val: string) => {\r\n                if (!model.value) {\r\n                    return\r\n                }\r\n                if (typeof model.value === \"string\") {\r\n                    return model.value == val\r\n                } else {\r\n                    return (model.value as string[]).indexOf(val) > -1\r\n                }\r\n            }\r\n        }\r\n\r\n        const handler = {\r\n            clickCollapseTitle: (val: string) => {\r\n                if (props.limit === 1) {\r\n                    model.value = val == model.value ? undefined : val\r\n                } else {\r\n                    const value = (model.value as string[] | undefined) || []\r\n                    const index = value.indexOf(val)\r\n                    if (index > -1) {\r\n                        value.splice(index, 1)\r\n                    } else {\r\n                        value.push(val)\r\n                    }\r\n                    model.value = [...value]\r\n                }\r\n            },\r\n        }\r\n\r\n        return {\r\n            refer: {\r\n                utils,\r\n                handler,\r\n                props,\r\n                model,\r\n            },\r\n            render: () => (\r\n                <div class=\"pl-collapse-group\">\r\n                    {slots.default()}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {useClass} from \"../../use/useClasses\";\r\nimport Group from './collapse-group'\r\nimport {computed} from 'vue';\r\nimport {createCounter} from \"../../utils/createCounter\";\r\nimport './collapse.scss'\r\n\r\nconst valCounter = createCounter('collapse')\r\n\r\nexport default designComponent({\r\n    name: 'pl-collapse',\r\n    props: {\r\n        modelValue: {type: Boolean, default: true},\r\n        title: {type: String},\r\n        detail: {type: String},\r\n        noArrow: {type: Boolean},\r\n        disabled: {type: Boolean, default: null},\r\n        val: {type: String},\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: boolean) => true\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const model = useModel(() => props.modelValue, emit.onUpdateModelValue)\r\n        const group = Group.use.inject(null)\r\n\r\n        const selfVal = computed(() => props.val || valCounter())\r\n\r\n        const isOpen = computed(() => {\r\n            if (!!group) {\r\n                return group.utils.isOpen(selfVal.value)\r\n            } else {\r\n                return model.value\r\n            }\r\n        })\r\n\r\n        const {slots} = useSlots([\r\n            'title',\r\n        ], true)\r\n\r\n        const classes = useClass(() => [\r\n            'pl-collapse',\r\n            {\r\n                'pl-collapse-has-arrow': !props.noArrow,\r\n                'pl-collapse-is-open': isOpen.value,\r\n            }\r\n        ])\r\n\r\n        const isDisabled = computed(() => {\r\n            if (props.disabled != null) {\r\n                return props.disabled\r\n            }\r\n            if (!!group) {\r\n                return group.props.disabled\r\n            }\r\n            return false\r\n        })\r\n\r\n        const handler = {\r\n            onClickTitle: () => {\r\n                if (isDisabled.value) {\r\n                    return\r\n                }\r\n                if (!!group) {\r\n                    group.handler.clickCollapseTitle(selfVal.value)\r\n                } else {\r\n                    model.value = !model.value\r\n                }\r\n            }\r\n        }\r\n\r\n        return {\r\n            render: () => (\r\n                <div class={classes.value}>\r\n                    {(!!props.title || slots.title.isExist()) && <div class=\"pl-collapse-title\" onClick={handler.onClickTitle}>\r\n                        {slots.title(props.title)}\r\n\r\n                        {!props.noArrow && !isDisabled.value && <div class=\"pl-collapse-arrow\">\r\n                            <pl-icon icon=\"el-icon-arrow-right\"/>\r\n                        </div>}\r\n                    </div>}\r\n                    <pl-collapse-transition>\r\n                        {isOpen.value && (!!props.detail || slots.default.isExist()) && <div class=\"pl-collapse-detail\">\r\n                            {slots.default(props.detail)}\r\n                        </div>}\r\n                    </pl-collapse-transition>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {Transition} from 'vue'\r\nimport {designComponent} from \"../../use/designComponent\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {addClass} from \"plain-utils/dom/addClass\";\r\nimport {removeClass} from \"plain-utils/dom/removeClass\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-collapse-transition',\r\n    emits: {\r\n        onAfterLeave: () => true,\r\n    },\r\n    setup({event: {emit}}) {\r\n\r\n        const {slots} = useSlots()\r\n\r\n        const handler = {\r\n            beforeEnter(el: HTMLElement) {\r\n                addClass(el, 'pl-collapse-transition');\r\n                if (!el.dataset) (el as any).dataset = {};\r\n\r\n                el.dataset.oldPaddingTop = el.style.paddingTop;\r\n                el.dataset.oldPaddingBottom = el.style.paddingBottom;\r\n\r\n                el.style.height = '0';\r\n                el.style.paddingTop = '0';\r\n                el.style.paddingBottom = '0';\r\n            },\r\n            enter(el: HTMLElement) {\r\n                el.dataset.oldOverflow = el.style.overflow;\r\n                if (el.scrollHeight !== 0) {\r\n                    el.style.height = el.scrollHeight + 'px';\r\n                    el.style.paddingTop = el.dataset.oldPaddingTop as string;\r\n                    el.style.paddingBottom = el.dataset.oldPaddingBottom as string;\r\n                } else {\r\n                    el.style.height = '';\r\n                    el.style.paddingTop = el.dataset.oldPaddingTop as string;\r\n                    el.style.paddingBottom = el.dataset.oldPaddingBottom as string;\r\n                }\r\n\r\n                el.style.overflow = 'hidden';\r\n            },\r\n            afterEnter(el: HTMLElement) {\r\n                removeClass(el, 'pl-collapse-transition');\r\n                el.style.height = '';\r\n                el.style.overflow = el.dataset.oldOverflow as string;\r\n            },\r\n            beforeLeave(el: HTMLElement) {\r\n                if (!el.dataset) (el as any).dataset = {};\r\n                el.dataset.oldPaddingTop = el.style.paddingTop;\r\n                el.dataset.oldPaddingBottom = el.style.paddingBottom;\r\n                el.dataset.oldOverflow = el.style.overflow;\r\n                el.style.height = el.scrollHeight + 'px';\r\n                el.style.overflow = 'hidden';\r\n            },\r\n            leave(el: HTMLElement) {\r\n                if (el.scrollHeight != 0) {\r\n                    addClass(el, 'pl-collapse-transition');\r\n                    el.style.transitionProperty = 'height'\r\n                    el.style.height = \"0\";\r\n                    el.style.paddingTop = '0';\r\n                    el.style.paddingBottom = '0';\r\n                }\r\n            },\r\n            afterLeave(el: HTMLElement) {\r\n                removeClass(el, 'pl-collapse-transition');\r\n                el.style.height = '';\r\n                el.style.overflow = el.dataset.oldOverflow as string;\r\n                el.style.paddingTop = el.dataset.oldPaddingTop as string;\r\n                el.style.paddingBottom = el.dataset.oldPaddingBottom as string;\r\n                emit.onAfterLeave()\r\n            }\r\n        }\r\n\r\n        return {\r\n            render: () => (\r\n                <Transition\r\n                    {...{\r\n                        onBeforeEnter: handler.beforeEnter,\r\n                        onEnter: handler.enter,\r\n                        onAfterEnter: handler.afterEnter,\r\n                        onBeforeLeave: handler.beforeLeave,\r\n                        onLeave: handler.leave,\r\n                        onAfterLeave: handler.afterLeave,\r\n                    } as any}>\r\n                    {slots.default()}\r\n                </Transition>\r\n            )\r\n        }\r\n    },\r\n})","import Collapse from './collapse'\r\nimport CollapseGroup from './collapse-group'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\nimport CollapseTransition from './collapse-transition'\r\n\r\nexport default createComponentPlugin(Collapse, {\r\n    exposeComponents: {\r\n        CollapseTransition,\r\n        CollapseGroup,\r\n    },\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {StyleProps, StyleStatus, useStyle} from \"../../use/useStyle\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {STATUS} from \"../../utils/constant\";\r\nimport {computed, reactive} from 'vue';\r\nimport './alert.scss'\r\n\r\nexport default designComponent({\r\n    name: 'pl-alert',\r\n    props: {\r\n        ...StyleProps,\r\n\r\n        label: {type: String},                                      // 提示文本\r\n        desc: {type: String},                                       // 描述文本\r\n        align: {type: String, default: 'left'},                     // 文本对其方式\r\n        theme: {type: String, default: 'lite'},                     // 主题，lite轻色，deep深色\r\n        noClose: {type: Boolean},                                   // 禁用关闭\r\n        icon: {type: String, default: undefined},                   // 显示的图标\r\n    },\r\n    setup({props}) {\r\n\r\n        const state = reactive({\r\n            isClosed: false,\r\n        })\r\n\r\n        const {slots} = useSlots([\r\n            'desc',\r\n            'close',\r\n        ], true)\r\n\r\n        const {styleComputed} = useStyle({status: StyleStatus.info})\r\n\r\n        const icon = computed(() => {\r\n            if (props.icon === null) {\r\n                return null\r\n            }\r\n            return props.icon || STATUS[styleComputed.value.status!].icon\r\n        })\r\n        const classes = computed(() => [\r\n            'pl-alert',\r\n            `pl-alert-status-${styleComputed.value.status}`,\r\n            `pl-alert-shape-${styleComputed.value.shape}`,\r\n            `pl-alert-theme-${props.theme}`,\r\n            `pl-alert-align-${props.align}`,\r\n            {\r\n                'pl-alert-has-icon': !!icon.value,\r\n                'pl-alert-has-desc': !!props.desc || slots.desc.isExist(),\r\n                'pl-alert-has-close': !props.noClose,\r\n            }\r\n        ])\r\n\r\n        const handler = {\r\n            onClickClosed: () => {\r\n                state.isClosed = true\r\n            }\r\n        }\r\n\r\n        return {\r\n            render: () => (\r\n                <pl-collapse-transition>\r\n                    {!state.isClosed && <div class=\"pl-alert-wrapper\">\r\n                        <div class={classes.value}>\r\n                            {!!icon.value && <div class=\"pl-alert-icon\">\r\n                                <pl-icon icon={icon.value}/>\r\n                            </div>}\r\n                            {!props.noClose && <div class=\"pl-alert-close\" onClick={handler.onClickClosed}>\r\n                                {slots.close(<pl-icon icon=\"el-icon-close\"/>)}\r\n                            </div>}\r\n                            {(!!props.label || slots.default.isExist()) && (\r\n                                <div class=\"pl-alert-label\">\r\n                                    {slots.default(props.label)}\r\n                                </div>\r\n                            )}\r\n                            {(!!props.desc || slots.desc.isExist()) && (\r\n                                <div class=\"pl-alert-desc\">\r\n                                    {slots.desc(props.desc)}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </div>}\r\n                </pl-collapse-transition>\r\n            )\r\n        }\r\n\r\n    },\r\n})","import Collapse from '../collapse'\r\nimport Icon from '../icon'\r\nimport Alert from './alert'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(Alert, {\r\n    plugins: [\r\n        Collapse,\r\n        Icon,\r\n    ]\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {useProps} from \"../../use/useProps\";\r\nimport {unit} from \"plain-utils/string/unit\";\r\nimport './card.scss'\r\nimport {useClass} from \"../../use/useClasses\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-card',\r\n    props: {\r\n        width: {type: [String, Number], default: '300'},        // 卡片宽度\r\n        noPadding: {type: Boolean},                             // 去掉标题以及内容的内边距\r\n        mini: {type: Boolean},                                  // 小型卡片\r\n        title: {type: String},                                  // 卡片标题\r\n        desc: {type: String},                                   // 卡片标题描述\r\n        shadow: {type: String},                                 // 阴影, normal,hover\r\n    },\r\n    setup({props, event: {emit}}) {\r\n        const {slots} = useSlots([\r\n            'title',                                // 卡片标题\r\n            'desc',                                 // 标题下方的描述\r\n            // 'default',                              // 卡片内容\r\n            'operator',                             // 卡片标题右侧的操作按钮\r\n            'poster',                               // 卡片海报（标题上方）\r\n            'foot',                                 // 卡片底部操作栏\r\n        ], true)\r\n\r\n        const classes = useClass(() => [\r\n            'pl-card',\r\n            {\r\n                'pl-card-mini': props.mini,\r\n                'pl-card-no-padding': props.noPadding,\r\n                [`pl-card-shadow-${props.shadow}`]: !!props.shadow,\r\n            }\r\n        ])\r\n\r\n        const styles = useStyles(style => {\r\n            !!props.width && (style.width = unit(props.width))\r\n        })\r\n\r\n        return {\r\n            render: () => (\r\n                <div class={classes.value} style={styles.value}>\r\n                    {slots.poster.isExist() && <div class=\"pl-card-poster\">\r\n                        {slots.poster()}\r\n                    </div>}\r\n                    {(slots.title.isExist() || slots.desc.isExist() || slots.operator.isExist() || props.title || props.desc) && (\r\n                        <div class=\"pl-card-head\">\r\n                            <div class=\"pl-card-head-content\">\r\n                                {(slots.title.isExist() || props.title) && <div class=\"pl-card-title\">\r\n                                    {slots.title(props.title)}\r\n                                </div>}\r\n                                {(slots.desc.isExist() || props.desc) && <div class=\"pl-card-desc\">\r\n                                    {slots.desc(props.desc)}\r\n                                </div>}\r\n                            </div>\r\n                            {slots.operator.isExist() && <div class=\"pl-card-head-operator\">\r\n                                {slots.operator()}\r\n                            </div>}\r\n                        </div>\r\n                    )}\r\n                    {slots.default.isExist() && <div class=\"pl-card-content\">\r\n                        {slots.default()}\r\n                    </div>}\r\n                    {slots.foot.isExist() && <div class=\"pl-card-foot\">\r\n                        {slots.foot()}\r\n                    </div>}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import Card from './card'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(Card)","import {designComponent} from \"../../use/designComponent\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {CarouselCollector} from \"./carousel\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport {computed} from 'vue';\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {createCounter} from \"../../utils/createCounter\";\r\n\r\nconst counter = createCounter('carousel')\r\n\r\nexport default designComponent({\r\n    name: 'pl-carousel-item',\r\n    props: {\r\n        val: {type: [String, Number]},\r\n    },\r\n    setup({props}) {\r\n\r\n        const {refs} = useRefs({\r\n            el: HTMLDivElement,\r\n        })\r\n        const carousel = CarouselCollector.child({sort: () => refs.el})\r\n        const {slots} = useSlots()\r\n        const itemVal = computed(() => props.val == null ? counter() : props.val)\r\n        const style = useStyles(() => carousel.utils.getItemStyles(itemVal.value) as any)\r\n\r\n        return {\r\n            refer: {\r\n                itemVal,\r\n            },\r\n            render: () => (\r\n                <div class={[\r\n                    'pl-carousel-item',\r\n                    {\r\n                        'pl-carousel-item-animating': carousel.utils.isAnimating(itemVal.value),\r\n                    }\r\n                ]}\r\n                     ref=\"el\"\r\n                     style={style.value}>\r\n                    {slots.default()}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {computed, onMounted, reactive, watch} from 'vue'\r\nimport {designComponent} from \"../../use/designComponent\";\r\nimport './carousel.scss'\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {useProps} from \"../../use/useProps\";\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {unit} from \"plain-utils/string/unit\";\r\nimport Item from './carousel-item'\r\nimport {useCollect} from \"../../use/useCollect\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport {useScopedSlots} from \"../../use/useScopedSlots\";\r\nimport {useClass} from \"../../use/useClasses\";\r\nimport {throttle} from \"plain-utils/utils/throttle\";\r\n\r\nexport const Carousel = designComponent({\r\n    name: 'pl-carousel',\r\n    props: {\r\n        modelValue: {type: [String, Number]},                       // 双向绑定值\r\n        height: {type: [Number, String], default: 225},             // 轮播高度\r\n        autoplay: {type: Number, default: 3000},                    // 自定播放时间，为0则取消自动播放\r\n        disabledOperator: {type: Boolean},                          // 禁用前后按钮\r\n        disabledIndicator: {type: Boolean},                         // 禁用指示器\r\n        indicatorTrigger: {type: String, default: 'click'},         // 指示器激活触发器：click。hover\r\n        vertical: {type: Boolean},                                  // 轮播方向为纵向\r\n        card: {type: Boolean},                                      // 卡片形式的切换\r\n        cardScale: {type: Number, default: 0.64},                   // 卡片形式轮播的时候，缩小比例\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: string | number | undefined | null) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        /*子元素*/\r\n        const items = CarouselCollector.parent()\r\n        const {scopedSlots} = useScopedSlots({\r\n            indicator: {val: String, index: Number, active: Boolean}\r\n        })\r\n        const {slots} = useSlots([\r\n            'cover',\r\n        ], true)\r\n        const {propsState} = useProps(props, {\r\n            height: useProps.NUMBER,\r\n        })\r\n        const {refs} = useRefs({\r\n            el: HTMLDivElement\r\n        })\r\n        const state = reactive({\r\n            width: 0,                                                   // 容器宽度\r\n            height: 0,                                                  // 容器高度\r\n            autoplayTimer: null as null | number,                       // 自动播放定时器\r\n            prevActiveIndex: null as null | number,                     // 上一个激活的index，当元素个数为3时，需要通过这个属性优化动画\r\n        })\r\n\r\n        /*双向绑定值*/\r\n        const model = useModel(() => props.modelValue, emit.onUpdateModelValue)\r\n        /*子元素val数组*/\r\n        const vals = computed(() => items.map(item => String(item.itemVal.value)!))\r\n        /*当前激活的元素的val值*/\r\n        const activeVal = computed(() => {\r\n            if (vals.value.length === 0) {\r\n                return null\r\n            }\r\n            if (model.value != null) {\r\n                return String(model.value)\r\n            } else {\r\n                return vals.value[0]\r\n            }\r\n        })\r\n        /*当前激活的元素的val的在 数组中的索引*/\r\n        const activeIndex = computed(() => {\r\n            if (!activeVal.value) {\r\n                return 0\r\n            }\r\n            return vals.value.indexOf(activeVal.value)\r\n        })\r\n\r\n        /*实际渲染的，排序过的val数组*/\r\n        const sortVals = computed(() => {\r\n            const valArray = vals.value\r\n            let prev = valArray.slice(0, activeIndex.value)\r\n            let next = valArray.slice(activeIndex.value + 1)\r\n\r\n            if (Math.abs(prev.length - next.length) > 1) {\r\n                if (prev.length > next.length) {\r\n                    while (prev.length - next.length > 1) {\r\n                        next.push(prev.shift()!)\r\n                    }\r\n                } else {\r\n                    while (next.length - prev.length > 1) {\r\n                        prev.unshift(next.pop()!)\r\n                    }\r\n                }\r\n            }\r\n            return [...prev, activeVal.value, ...next]\r\n        })\r\n\r\n        const classes = useClass(() => [\r\n            'pl-carousel',\r\n            {\r\n                'pl-carousel-vertical': props.vertical,\r\n                'pl-carousel-card': props.card,\r\n            }\r\n        ])\r\n        const styles = useStyles(style => {\r\n            style.height = unit(propsState.height)\r\n        })\r\n\r\n        const utils = {\r\n            /**\r\n             * 子元素的左偏移位置\r\n             * @author  韦胜健\r\n             * @date    2020/11/22 23:19\r\n             */\r\n            getItemStyles: (val: any) => {\r\n                if (!state.width) {\r\n                    return null\r\n                }\r\n                /*当前val在sortVals中的索引*/\r\n                const sortIndex = sortVals.value.indexOf(String(val))\r\n                /*激活val在sortVals中的索引*/\r\n                const activeSortIndex = sortVals.value.indexOf(String(activeVal.value))\r\n\r\n                /*当前val与激活val在sortVal的间距*/\r\n                let duration = sortIndex - activeSortIndex\r\n\r\n                const style = {\r\n                    zIndex: sortVals.value.length - Math.abs(duration),\r\n                } as any\r\n\r\n                if (!props.vertical) {\r\n                    if (!props.card) {\r\n                        /*非卡片形式的轮播*/\r\n                        style.transform = `translateX(${duration * state.width}px)`\r\n                    } else {\r\n                        style.width = `${props.cardScale * 100}%`\r\n                        style.height = `${props.cardScale * 100}%`\r\n\r\n                        /*卡片轮播*/\r\n                        let left = duration * state.width * (props.cardScale) + (state.width * (1 - props.cardScale) / 2)\r\n                        left += (sortIndex > activeSortIndex ? -1 : 1) * Math.abs(sortIndex - activeSortIndex) * state.width * 0.125\r\n                        style.transform = `translateX(${left}px) translateY(${state.height * ((1 - props.cardScale) / 2)}px) scale(${sortIndex === activeSortIndex ? '1' : '0.83'})`\r\n                    }\r\n                } else {\r\n                    /*纵向非卡片形式的轮播*/\r\n                    style.transform = `translateY(${duration * state.height}px)`\r\n                }\r\n\r\n                return style\r\n            },\r\n            /**\r\n             * 重置自动播放定时器\r\n             * @author  韦胜健\r\n             * @date    2020/11/22 23:19\r\n             */\r\n            resetAutoplayTimer: (autoplay: number | null) => {\r\n                /*无论怎么样都要清理掉定时器*/\r\n                if (!!state.autoplayTimer) {\r\n                    clearInterval(state.autoplayTimer)\r\n                    state.autoplayTimer = null\r\n                }\r\n                /*如果autoplay有值，重新设定一个自动播放定时器*/\r\n                if (!!autoplay) {\r\n                    state.autoplayTimer = setInterval(methods.next, autoplay)\r\n                }\r\n            },\r\n            /**\r\n             * 子元素是否需要动画（当元素为3时，只有prevActiveIndex以及activeIndex的元素需要动画，另一个需要立刻移动到对应的位置）\r\n             * @author  韦胜健\r\n             * @date    2020/11/22 23:20\r\n             */\r\n            isAnimating: (val: any) => {\r\n                if (vals.value.length !== 3 && !props.card) {\r\n                    return true\r\n                }\r\n                let index = vals.value.indexOf(val)\r\n                return index === state.prevActiveIndex || index === activeIndex.value\r\n            },\r\n        }\r\n\r\n        const methods = {\r\n            /**\r\n             * 显示上一个元素\r\n             * @author  韦胜健\r\n             * @date    2020/11/22 23:21\r\n             */\r\n            prev: () => {\r\n                state.prevActiveIndex = activeIndex.value\r\n                model.value = sortVals.value[sortVals.value.indexOf(activeVal.value) - 1]!\r\n            },\r\n            /**\r\n             * 显示下一个元素\r\n             * @author  韦胜健\r\n             * @date    2020/11/22 23:21\r\n             */\r\n            next: () => {\r\n                state.prevActiveIndex = activeIndex.value\r\n                model.value = sortVals.value[sortVals.value.indexOf(activeVal.value) + 1]!\r\n            },\r\n            /**\r\n             * 显示特定元素\r\n             * @author  韦胜健\r\n             * @date    2020/11/22 23:21\r\n             */\r\n            show: (val: any) => {\r\n                state.prevActiveIndex = activeIndex.value\r\n                model.value = val\r\n\r\n                utils.resetAutoplayTimer(props.autoplay)\r\n            },\r\n        }\r\n\r\n        const handler = {\r\n            onPrev: throttle(() => {\r\n                utils.resetAutoplayTimer(props.autoplay)\r\n                methods.prev()\r\n            }, 800, {trailing: true, leading: true}),\r\n            onNext: throttle(() => {\r\n                utils.resetAutoplayTimer(props.autoplay)\r\n                methods.next()\r\n            }, 800, {trailing: true, leading: true}),\r\n            onIndicator: (index: number) => {\r\n                methods.show(vals.value[index])\r\n            },\r\n        }\r\n\r\n        onMounted(() => {\r\n            state.width = refs.el.offsetWidth\r\n            state.height = refs.el.offsetHeight\r\n        })\r\n\r\n        watch(() => props.autoplay, utils.resetAutoplayTimer, {immediate: true})\r\n\r\n        return {\r\n            refer: {\r\n                utils,\r\n                methods,\r\n            },\r\n            render: () => (\r\n                <div class={classes.value} style={styles.value} ref=\"el\">\r\n                    {slots.default()}\r\n                    {slots.cover.isExist() && <div class=\"pl-carousel-cover\">\r\n                        {slots.cover()}\r\n                    </div>}\r\n\r\n                    {!props.disabledOperator && <div class=\"pl-carousel-operator\">\r\n                        <div class=\"pl-carousel-operator-btn pl-carousel-operator-prev\" onClick={handler.onPrev}>\r\n                            <pl-icon icon=\"el-icon-arrow-left\"/>\r\n                        </div>\r\n                        <div class=\"pl-carousel-operator-btn pl-carousel-operator-next\" onClick={handler.onNext}>\r\n                            <pl-icon icon=\"el-icon-arrow-right\"/>\r\n                        </div>\r\n                    </div>}\r\n\r\n                    {!props.disabledIndicator && <div class=\"pl-carousel-indicator\">\r\n                        {items.map((item, index) => (\r\n                            scopedSlots.indicator({val: String(item.itemVal.value), index, active: index === activeIndex.value}, (\r\n                                <div\r\n                                    {...{\r\n                                        [props.indicatorTrigger === 'hover' ? 'onMouseenter' : 'onClick']: () => handler.onIndicator(index)\r\n                                    }}\r\n                                    class={[\r\n                                        'pl-carousel-indicator-item',\r\n                                        {\r\n                                            'pl-carousel-indicator-item-active': index === activeIndex.value,\r\n                                        }\r\n                                    ]} key={index}/>\r\n                            ))\r\n                        ))}\r\n                    </div>}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})\r\n\r\nexport const CarouselCollector = useCollect(() => ({\r\n    parent: Carousel,\r\n    child: Item,\r\n}))","import {Carousel} from './carousel'\r\nimport CarouselItem from './carousel-item'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\n\r\nexport default createComponentPlugin(Carousel, {exposeComponents: {CarouselItem}})","import {reactive, computed, onBeforeUnmount, ComponentPublicInstance, getCurrentInstance} from 'vue';\r\nimport {useEdit} from \"../../../use/useEdit\";\r\nimport {PopperAgent, SpecificPopperServiceOption} from \"./utils\";\r\n\r\nexport type EditPopperAgent = ReturnType<typeof useEditPopperAgent>\r\n\r\nexport function useEditPopperAgent(\r\n    {\r\n        event: {emit},\r\n        serviceGetter,\r\n        option,\r\n    }: {\r\n        event: { emit: { onBlur: (e: Event) => void, onFocus: (e: Event) => void } },\r\n        serviceGetter: (ins: ComponentPublicInstance) => ((o: SpecificPopperServiceOption) => PopperAgent),\r\n        option: SpecificPopperServiceOption,\r\n    }) {\r\n\r\n    const ctx = getCurrentInstance()!\r\n    const {editComputed} = useEdit()\r\n\r\n    const state = reactive({\r\n        agent: null as null | PopperAgent,\r\n        focusCounter: 0,\r\n    })\r\n\r\n    const isShow = computed(() => !!state.agent && state.agent.isShow)\r\n    const isOpen = computed(() => !!state.agent && state.agent.isOpen)\r\n\r\n    const methods = {\r\n        show: async () => {\r\n            if (!editComputed.value.editable) return\r\n            if (isShow.value) return;\r\n            if (!state.agent) {\r\n                state.agent = await serviceGetter(ctx.proxy!)(option)\r\n            }\r\n            await state.agent.show()\r\n        },\r\n        hide: async () => {\r\n            if (!isShow.value) return\r\n            await state.agent!.hide()\r\n        },\r\n        toggle: async () => {\r\n            isShow.value ? methods.hide() : methods.show()\r\n        }\r\n    }\r\n\r\n    const inputHandler = {\r\n        onClickInput: async () => await methods.toggle(),\r\n        onBlur: async (e: Event) => {\r\n            state.focusCounter--\r\n            if (state.focusCounter === 0) {\r\n                emit.onBlur(e)\r\n                await methods.hide()\r\n            }\r\n        },\r\n        onFocus: (e: Event) => {\r\n            if (state.focusCounter === 0) {\r\n                emit.onFocus(e)\r\n            }\r\n            state.focusCounter = 1\r\n        },\r\n        onEsc: async () => {\r\n            await methods.hide()\r\n        },\r\n        onEnter: async (e: KeyboardEvent) => {\r\n            e.stopPropagation()\r\n            e.preventDefault()\r\n            await methods.show()\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 当前组件示例销毁的时候，解除与service的绑定关系\r\n     * @author  韦胜健\r\n     * @date    2020/11/27 10:12\r\n     */\r\n    onBeforeUnmount(() => {\r\n        if (!!state.agent) {\r\n            state.agent.destroy()\r\n        }\r\n    })\r\n\r\n    return {\r\n        methods,\r\n        inputHandler,\r\n        state,\r\n        isShow,\r\n        isOpen,\r\n        editComputed,\r\n    }\r\n\r\n}","import {createAgentGetter} from \"../../popper/edit/createAgentGetter\";\r\nimport {App} from 'vue';\r\n\r\nexport const ColorPickerServiceGetter = createAgentGetter({\r\n    name: 'color-picker',\r\n    render(attrs: any) {\r\n        return <pl-color-panel{...attrs}/>\r\n    },\r\n    defaultPopperAttrs: {\r\n        transition: 'pl-transition-popper-drop',\r\n    },\r\n    defaultRenderAttrs: {\r\n        onChange() {this.hide()},\r\n    },\r\n})\r\n\r\nexport default {\r\n    install(app: App) {\r\n        app.mixin({\r\n            beforeCreate(): void {\r\n                Object.defineProperty(this, '$colorPicker', {\r\n                    get() {\r\n                        const service = ColorPickerServiceGetter(this)\r\n                        return service\r\n                    },\r\n                })\r\n            }\r\n        })\r\n    },\r\n}","/*---------------------------------------rgb to hex-------------------------------------------*/\r\n\r\nconst INT_HEX_MAP = {10: 'A', 11: 'B', 12: 'C', 13: 'D', 14: 'E', 15: 'F'} as any;\r\n\r\nconst hexOne = function (value: number) {\r\n    value = Math.min(Math.round(value), 255);\r\n    const high = Math.floor(value / 16);\r\n    const low = value % 16;\r\n    return '' + (INT_HEX_MAP[high] || high) + (INT_HEX_MAP[low] || low);\r\n};\r\n\r\n/**\r\n * rgb -> hex\r\n * @author  韦胜健\r\n * @date    2020/4/4 8:58\r\n */\r\nexport const rgb2hex = function (r: number, g: number, b: number): string {\r\n    if (isNaN(r) || isNaN(g) || isNaN(b)) return '';\r\n    return '#' + hexOne(r) + hexOne(g) + hexOne(b);\r\n};\r\n\r\n/*---------------------------------------rgb to hsv-------------------------------------------*/\r\n\r\n/*是否为0.**形式的字符串*/\r\nconst isOnePointZero = function (n: string | number): boolean {\r\n    return typeof n === 'string' && n.indexOf('.') !== -1 && parseFloat(n) === 1;\r\n};\r\n\r\n/*是否为百分比字符串*/\r\nconst isPercentage = function (n: any): boolean {\r\n    return typeof n === 'string' && n.indexOf('%') !== -1;\r\n};\r\n\r\n/*将[0,n]转换为[0,1]*/\r\nconst bound01 = function (value: string | number, max: number): number {\r\n    if (isOnePointZero(value)) value = '100%';\r\n    const processPercent = isPercentage(value);\r\n    value = Math.min(max, Math.max(0, parseFloat(value as string)));\r\n    // Automatically convert percentage into number\r\n    if (processPercent) {\r\n        value = parseInt(String(value * max), 10) / 100;\r\n    }\r\n    // Handle floating point rounding errors\r\n    if ((Math.abs(value - max) < 0.000001)) {\r\n        return 1;\r\n    }\r\n    // Convert into [0, 1] range if it isn't already\r\n    return (value % max) / parseFloat(max as any as string);\r\n};\r\n\r\n/**\r\n * rgb -> hsv\r\n * @author  韦胜健\r\n * @date    2020/4/4 9:09\r\n */\r\nexport const rgb2hsv = function (r: number, g: number, b: number): { h: number, s: number, v: number } {\r\n    r = bound01(r, 255);\r\n    g = bound01(g, 255);\r\n    b = bound01(b, 255);\r\n\r\n    const max = Math.max(r, g, b);\r\n    const min = Math.min(r, g, b);\r\n    let h = 0, s = 0;\r\n    let v = max;\r\n\r\n    const d = max - min;\r\n    s = max === 0 ? 0 : d / max;\r\n\r\n    if (max === min) {\r\n        h = 0; // achromatic\r\n    } else {\r\n        switch (max) {\r\n            case r:\r\n                h = (g - b) / d + (g < b ? 6 : 0);\r\n                break;\r\n            case g:\r\n                h = (b - r) / d + 2;\r\n                break;\r\n            case b:\r\n                h = (r - g) / d + 4;\r\n                break;\r\n        }\r\n        h /= 6;\r\n    }\r\n    const ret = {h: h * 360, s: s * 100, v: v * 100} as any\r\n    Object.keys(ret).forEach(key => ret[key] = ret[key].toFixed(0) - 0)\r\n    return ret;\r\n};\r\n\r\n/*---------------------------------------hsv -> rgb-------------------------------------------*/\r\n/*\r\n *  hsv颜色值转rgb颜色值\r\n *  @author              martsforever\r\n *  @datetime           2019/2/16 22:43\r\n *  @param hue          色调，用角度度量，取值范围为0°～360°，从红色开始按逆时针方向计算，红色为0°，绿色为120°,蓝色为240°。它们的补色是：黄色为60°，青色为180°,品红为300°；\r\n *  @param saturation   饱和度，一种颜色，可以看成是某种光谱色与白色混合的结果。其中光谱色所占的比例愈大，颜色接近光谱色的程度就愈高，颜色的饱和度也就愈高。饱和度高，颜色则深而艳。光谱色的白光成分为0，饱和度达到最高。通常取值范围为0%～100%，值越大，颜色越饱和。\r\n *  @param value        明度，明度表示颜色明亮的程度，对于光源色，明度值与发光体的光亮度有关；对于物体色，此值和物体的透射比或反射比有关。通常取值范围为0%（黑）到100%（白）。\r\n */\r\nexport const hsv2rgb = function (hue: number, saturation: number, value: number): { r: number, g: number, b: number } {\r\n    hue = bound01(hue, 360) * 6;\r\n    saturation = bound01(saturation, 100);\r\n    value = bound01(value, 100);\r\n\r\n    const i = Math.floor(hue);\r\n    const f = hue - i;\r\n    const p = value * (1 - saturation);\r\n    const q = value * (1 - f * saturation);\r\n    const t = value * (1 - (1 - f) * saturation);\r\n    const mod = i % 6;\r\n    const r = [value, q, p, p, t, value][mod];\r\n    const g = [t, value, value, q, p, p][mod];\r\n    const b = [p, p, t, value, value, q][mod];\r\n\r\n    return {\r\n        r: Math.round(r * 255),\r\n        g: Math.round(g * 255),\r\n        b: Math.round(b * 255)\r\n    };\r\n};\r\n\r\n/*---------------------------------------other-------------------------------------------*/\r\n\r\nconst HEX_INT_MAP = {A: 10, B: 11, C: 12, D: 13, E: 14, F: 15} as any;\r\n\r\nexport const parseHexChannel = function (hex: string) {\r\n    if (hex.length === 2) {\r\n        return (HEX_INT_MAP[hex[0].toUpperCase()] || +hex[0]) * 16 + (HEX_INT_MAP[hex[1].toUpperCase()] || +hex[1]);\r\n    }\r\n\r\n    return HEX_INT_MAP[hex[1].toUpperCase()] || +hex[1];\r\n};\r\n\r\n/**\r\n * 判断是否为一个有效的颜色值\r\n * @author  韦胜健\r\n * @date    2020/4/7 11:32\r\n */\r\nexport function isEffectiveColorString(color: string): boolean {\r\n    if (!color) return true\r\n    if (color.indexOf('#') === 0 && /^#[0-9a-fA-F]{6}$/.test(color)) {\r\n        return true\r\n    } else if (color.indexOf('rgb') === 0 && /^rgb(\\(\\d{1,3}(,\\d{1,3}){2}|a\\(\\d{1,3}(,\\d{1,3}){2},(1\\.?0*|0\\.\\d+))\\)$/.test(color)) {\r\n        return true\r\n    }\r\n    return false\r\n}","import {designComponent} from \"../../use/designComponent\";\r\nimport {StyleProps, useStyle} from \"../../use/useStyle\";\r\nimport {EditProps} from \"../../use/useEdit\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport Input from '../input'\r\nimport {reactive, watch, PropType} from 'vue';\r\nimport {useEditPopperAgent} from \"../popper/edit/useEditPopperAgent\";\r\nimport {ColorPickerServiceGetter} from \"./service/color-picker.service\";\r\nimport {isEffectiveColorString} from \"./utils/ColorUtils\";\r\nimport './color-picker.scss'\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {$$notice} from \"../notice-service\";\r\nimport ColorButton from './color-button'\r\nimport {useScopedSlots} from \"../../use/useScopedSlots\";\r\n\r\nenum ColorPickerType {\r\n    input = 'input',\r\n    button = 'button',\r\n}\r\n\r\nexport const ColorPicker = designComponent({\r\n    name: 'pl-color-picker',\r\n    props: {\r\n        ...EditProps,\r\n        ...StyleProps,\r\n\r\n        modelValue: {type: String},                             // 当前颜色值\r\n        enableAlpha: {type: Boolean, default: true},            // 是否启用透明度\r\n        format: {type: String, default: 'hex'},                 // 颜色格式\r\n        type: {type: String as PropType<ColorPickerType>, default: ColorPickerType.input}\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: string | undefined) => true,\r\n        onBlur: (e: Event) => true,\r\n        onFocus: (e: Event) => true,\r\n    },\r\n    setup({props, event}) {\r\n\r\n        useStyle()\r\n        const {refs} = useRefs({\r\n            input: Input,\r\n            button: ColorButton,\r\n        })\r\n        const {scopedSlots} = useScopedSlots({\r\n            default: {color: String, onClick: Function as PropType<() => void>},\r\n        }, true)\r\n\r\n        const model = useModel(() => props.modelValue, event.emit.onUpdateModelValue, {autoWatch: false})\r\n        const state = reactive({\r\n            val: model.value,\r\n            inputValue: props.modelValue,\r\n        })\r\n\r\n        const agentState = useEditPopperAgent({\r\n            event,\r\n            serviceGetter: ColorPickerServiceGetter,\r\n            option: {\r\n                reference: () => refs.input as any || refs.button || scopedSlotsOnClick.el,\r\n                renderAttrs: () => ({\r\n                    modelValue: state.val,\r\n                    enableAlpha: props.enableAlpha,\r\n                    format: props.format,\r\n\r\n                    onChange(val) {\r\n                        state.inputValue = val\r\n                        methods.emitValue(val)\r\n                    },\r\n                }),\r\n                popperAttrs: () => ({\r\n                    onMousedownPopper: async () => {\r\n                        agentState.state.focusCounter++\r\n                    },\r\n                    onClickPopper: () => {\r\n                        !!refs.input && refs.input.methods.focus()\r\n                    },\r\n                }),\r\n            },\r\n        })\r\n        const scopedSlotsOnClick = (() => {\r\n            const variable = {\r\n                el: null as null | HTMLDivElement,\r\n                onClick: (e: MouseEvent) => {\r\n                    variable.el = e.target as HTMLDivElement\r\n                    agentState.inputHandler.onClickInput()\r\n                }\r\n            }\r\n            return variable\r\n        })();\r\n\r\n        const methods = {\r\n            emitValue(val: any) {\r\n                model.value = val\r\n            },\r\n        }\r\n\r\n        const suffixIcon = () => (\r\n            <ColorButton\r\n                ref=\"button\"\r\n                color={state.val}\r\n                onClick={agentState.inputHandler.onClickInput}/>\r\n        )\r\n\r\n        const inputHandler = {\r\n            onChange: (val: string) => {\r\n                state.inputValue = val\r\n                if (isEffectiveColorString(val)) {\r\n                    methods.emitValue(val)\r\n                }\r\n            },\r\n            /*---------------------------------------override-------------------------------------------*/\r\n\r\n            onEnter: (e: KeyboardEvent) => {\r\n                if (!!state.inputValue && state.inputValue !== state.val) {\r\n                    $$notice.warn('请输入有效的颜色值')\r\n                    state.inputValue = state.val\r\n                }\r\n                agentState.inputHandler.onEnter(e)\r\n            },\r\n            onBlur: (e: Event) => {\r\n                agentState.state.focusCounter--\r\n                if (agentState.state.focusCounter === 0) {\r\n                    event.emit.onBlur(e)\r\n                    agentState.methods.hide()\r\n                    state.val = model.value\r\n                    state.inputValue = model.value\r\n                }\r\n            },\r\n        }\r\n\r\n        watch(() => props.modelValue, (val) => {\r\n            model.value = val\r\n            state.val = val\r\n            state.inputValue = val\r\n        })\r\n\r\n        return {\r\n            render: () => {\r\n                return scopedSlots.default({\r\n                    color: state.val!,\r\n                    onClick: scopedSlotsOnClick.onClick,\r\n                }, (\r\n                    props.type === ColorPickerType.input ? (\r\n                        <pl-input ref=\"input\"\r\n                                  class=\"pl-color-picker\"\r\n                                  modelValue={state.inputValue}\r\n                                  suffixIcon={suffixIcon}\r\n                                  isFocus={agentState.state.focusCounter > 0}\r\n                                  {...{\r\n                                      ...agentState.inputHandler,\r\n                                      ...inputHandler,\r\n                                  }}/>\r\n                    ) : suffixIcon()\r\n                ))\r\n            }\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../use/designComponent\";\r\n\r\nconst opacityBg = require('./sub/opacity.png')\r\n\r\nexport default designComponent({\r\n    name: 'pl-color-button',\r\n    props: {\r\n        color: {type: String}\r\n    },\r\n    emits: {\r\n        onClick: (e: MouseEvent) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n        return {\r\n            render: () => (\r\n                <div class=\"pl-color-button\" onClick={emit.onClick}>\r\n                    <div class=\"pl-color-button-background\" style={{backgroundImage: `url(${opacityBg})`}}>\r\n                        <div class=\"pl-color-button-color\" style={{backgroundColor: props.color}}/>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {hsv2rgb, parseHexChannel, rgb2hex, rgb2hsv} from \"./ColorUtils\";\r\n\r\nexport enum ColorFormat {\r\n    hex = 'hex',\r\n    rgb = 'rgb'\r\n}\r\n\r\nexport class Color {\r\n\r\n    red = 0                                             // 红\r\n    green = 0                                           // 绿\r\n    blue = 0                                            // 蓝\r\n\r\n    hue = 0                                             // 色相\r\n    saturation = 0                                      // 饱和度\r\n    val = 0                                             // 明亮度\r\n\r\n    alpha = 0                                           // 透明度\r\n    hex = ''                                            // 十六进制值\r\n    enableAlpha = false                                 // 是否启用透明度\r\n    format: ColorFormat = ColorFormat.hex               // 格式\r\n\r\n    _value?: string;                                    // 当前值，hex或者rgb字符串\r\n\r\n    /*当前rgb颜色值，如果启用透明度，则为rgba*/\r\n    get rgbColor(): string | undefined {\r\n        if (!this.red && !this.green && !this.blue) {\r\n            return undefined\r\n        }\r\n        return `rgb${this.enableAlpha ? 'a' : ''}(${this.red},${this.green},${this.blue}${this.enableAlpha ? ',' + (this.alpha / 100).toFixed(2) : ''})`\r\n    }\r\n\r\n    /*当前颜色，可能是rgb，也可能是hex*/\r\n    get currentColor(): string | undefined {\r\n        /*如果是带透明度的，强制使用rgb格式*/\r\n        return this.enableAlpha || this.format === 'rgb' ? this.rgbColor : this.hex\r\n    }\r\n\r\n    /*当前颜色值*/\r\n    get color(): string | undefined {\r\n        if (this._value == null) return undefined\r\n        return this.currentColor\r\n    }\r\n\r\n    constructor(value: string, enableAlpha: boolean, format: ColorFormat) {\r\n        if (format != null) {\r\n            this.format = format\r\n        }\r\n        if (enableAlpha != null) {\r\n            this.enableAlpha = enableAlpha\r\n        }\r\n\r\n        this.updateByString(value, true, enableAlpha)\r\n    }\r\n\r\n    /**\r\n     * 根据值更新color信息\r\n     * @author  韦胜健\r\n     * @date    2020/4/4 21:57\r\n     */\r\n    public setValue(value: string): void {\r\n        this.updateByString(value, false)\r\n    }\r\n\r\n    /**\r\n     * 根据新值更新当前color信息\r\n     * @author  韦胜健\r\n     * @date    2020/4/4 12:10\r\n     */\r\n    public updateByString(value: string, needInitializedEnableAlpha = false, enableAlpha?: boolean): void {\r\n        this._value = value\r\n        if (value == null) {\r\n            this.hue = 0\r\n            this.saturation = 0\r\n            this.val = 100\r\n            this.alpha = 100\r\n            return\r\n        }\r\n        /*如果输入值是rgb格式*/\r\n        if (value.indexOf('rgb') !== -1) {\r\n            const parts = value.replace(/rgba|rgb|\\(|\\)/gm, '').split(/\\s|,/g).filter((val) => val !== '').map((val, index) => index > 2 ? parseFloat(val) : parseInt(val, 10));\r\n            if (parts.length === 4) {\r\n                this.alpha = Math.floor(parseFloat(`${parts[3]}`) * 100);\r\n                needInitializedEnableAlpha && (enableAlpha == null) && (this.enableAlpha = true)\r\n            } else if (parts.length === 3) {\r\n                this.alpha = 100;\r\n                needInitializedEnableAlpha && (enableAlpha == null) && (this.enableAlpha = false)\r\n            }\r\n            if (parts.length >= 3) {\r\n                this.setRgb(parts[0], parts[1], parts[2])\r\n            }\r\n            return\r\n        }\r\n\r\n        /*如果是16进制格式*/\r\n        if (value.indexOf('#') !== -1) {\r\n            const hex = value.replace('#', '').trim();\r\n            if (hex.length === 8) {\r\n                this.alpha = Math.floor(parseHexChannel(hex.substring(6)) / 255 * 100);\r\n                needInitializedEnableAlpha && (enableAlpha == null) && (this.enableAlpha = true)\r\n            } else if (hex.length === 3 || hex.length === 6) {\r\n                this.alpha = 100;\r\n                needInitializedEnableAlpha && (enableAlpha == null) && (this.enableAlpha = false)\r\n            }\r\n            this.setHex(value)\r\n        }\r\n    }\r\n\r\n    /*\r\n   *  通过rgb设置当前颜色\r\n   *  @author     martsforever\r\n   *  @datetime   2019/2/17 19:49\r\n   */\r\n    setRgb(r: number, g: number, b: number): void {\r\n        this.red = r\r\n        this.green = g\r\n        this.blue = b\r\n\r\n        /*设置hsv*/\r\n        const {h, s, v} = rgb2hsv(r, g, b)\r\n        this.hue = h\r\n        this.saturation = s\r\n        this.val = v\r\n\r\n        /*设置hex*/\r\n        this.hex = rgb2hex(r, g, b)\r\n\r\n        this._value = this.currentColor\r\n    }\r\n\r\n    /*\r\n     *  根据当前rgb更新颜色\r\n     *  @author     martsforever\r\n     *  @datetime   2019/2/17 19:51\r\n     */\r\n    updateByRgb(): void {\r\n        this.setRgb(this.red, this.green, this.blue)\r\n    }\r\n\r\n    /*\r\n     *  通过十六进制色改变当前颜色\r\n     *  @author     martsforever\r\n     *  @datetime   2019/2/17 19:13\r\n     */\r\n    setHex(hex: string): void {\r\n        this.hex = hex\r\n\r\n        /*设置rgb*/\r\n        hex = hex.replace('#', '').trim();\r\n        if (hex.length === 3) {\r\n            this.red = parseHexChannel(hex[0] + hex[0]);\r\n            this.green = parseHexChannel(hex[1] + hex[1]);\r\n            this.blue = parseHexChannel(hex[2] + hex[2]);\r\n        } else if (hex.length === 6 || hex.length === 8) {\r\n            this.red = parseHexChannel(hex.substring(0, 2));\r\n            this.green = parseHexChannel(hex.substring(2, 4));\r\n            this.blue = parseHexChannel(hex.substring(4, 6));\r\n        }\r\n        if (hex.length === 8) {\r\n            this.alpha = Math.floor(parseHexChannel(hex.substring(6)) / 255 * 100);\r\n        } else if (hex.length === 3 || hex.length === 6) {\r\n            this.alpha = 100;\r\n        }\r\n\r\n        /*设置hsv*/\r\n        const {h, s, v} = rgb2hsv(this.red, this.green, this.blue)\r\n        this.hue = h\r\n        this.saturation = s\r\n        this.val = v\r\n\r\n        this._value = this.currentColor\r\n    }\r\n\r\n    /*\r\n     *  根据当前hex更新rgb以及hsv\r\n     *  @author     martsforever\r\n     *  @datetime   2019/2/17 19:23\r\n     */\r\n    updateByHex() {\r\n        this.setHex(this.hex)\r\n    }\r\n\r\n    /*\r\n     *  通过设置Hsv改变当前颜色\r\n     *  @author     martsforever\r\n     *  @datetime   2019/2/17 19:14\r\n     */\r\n    setHsv(hue: number, saturation: number, val: number) {\r\n        this.hue = hue\r\n        this.saturation = saturation\r\n        this.val = val\r\n\r\n        /*设置rgb*/\r\n        const {r, g, b} = hsv2rgb(hue, saturation, val)\r\n        this.red = r\r\n        this.green = g\r\n        this.blue = b\r\n\r\n        /*设置hex*/\r\n        this.hex = rgb2hex(r, g, b)\r\n\r\n        this._value = this.currentColor\r\n    }\r\n\r\n    /*\r\n     *  根据hsv更新当前rgbyijihex\r\n     *  @author     martsforever\r\n     *  @datetime   2019/2/17 19:23\r\n     */\r\n    updateByHsv() {\r\n        this.setHsv(this.hue, this.saturation, this.val)\r\n    }\r\n\r\n    updateByAlpha() {\r\n        this._value = this.currentColor\r\n    }\r\n}","import {designComponent} from \"../../../use/designComponent\";\r\nimport {EditProps} from \"../../../use/useEdit\";\r\nimport {useRefs} from \"../../../use/useRefs\";\r\nimport {useProps} from \"../../../use/useProps\";\r\nimport {computed, nextTick, reactive, watch} from 'vue';\r\nimport {unit} from \"plain-utils/string/unit\";\r\nimport {disabledUserSelect} from \"plain-utils/dom/disabledUserSelect\";\r\nimport {enableUserSelect} from \"plain-utils/dom/enableUserSelect\";\r\nimport './color-alpha-slider.scss'\r\n\r\nconst bg = require('./opacity.png')\r\n\r\nexport const ColorAlphaSlider = designComponent({\r\n    name: 'pl-color-alpha-slider',\r\n    props: {\r\n        ...EditProps,\r\n\r\n        color: {type: String},                                      // 当前颜色\r\n        modelValue: {type: Number, default: 0},                     // 透明度\r\n        size: {type: [String, Number]},                             // 大小\r\n        thumbSize: {type: [String, Number], default: 10},           // 指示器宽度\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: number) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const {refs} = useRefs({\r\n            el: HTMLDivElement,\r\n        })\r\n\r\n        const {propsState} = useProps(props, {\r\n            size: useProps.NUMBER,\r\n            thumbSize: useProps.NUMBER,\r\n        })\r\n\r\n        const state = reactive({\r\n            top: 0,\r\n            tempTop: 0,\r\n            startY: null as null | number,\r\n        })\r\n\r\n        const styles = computed(() => ({\r\n            height: unit(propsState.size),\r\n            backgroundImage: `url(${bg})`,\r\n        }))\r\n\r\n        const shadowStyles = computed(() => ({\r\n            background: `linear-gradient(to top, ${props.color}, rgba(255,255,255,0))`,\r\n        }))\r\n\r\n        const thumbStyles = computed(() => ({\r\n            top: `${state.top}px`,\r\n            width: unit(propsState.thumbSize)\r\n        }))\r\n\r\n        const height = computed(() => (propsState.size as number) - (propsState.thumbSize as number))\r\n\r\n        const methods = {\r\n            setTop: (top: number) => {\r\n                state.top = Math.max(0, Math.min(height.value, top))\r\n            },\r\n            emitValue: () => {\r\n                emit.onUpdateModelValue(Number((state.top / height.value * 100).toFixed(0)))\r\n            }\r\n        }\r\n\r\n        const handler = {\r\n            mousedown: (e: MouseEvent) => {\r\n                document.body.addEventListener('mousemove', handler.mousemove)\r\n                document.body.addEventListener('mouseup', handler.mouseup)\r\n                if (e.target === refs.el) {\r\n                    methods.setTop(e.offsetY - (propsState.thumbSize as number) / 2)\r\n                    methods.emitValue()\r\n                }\r\n                disabledUserSelect()\r\n                state.startY = e.clientY\r\n                state.tempTop = state.top\r\n            },\r\n            mousemove: (e: MouseEvent) => {\r\n                const durY = e.clientY - state.startY!\r\n                methods.setTop(state.tempTop + durY)\r\n                methods.emitValue()\r\n            },\r\n            mouseup: (e: MouseEvent) => {\r\n                document.body.removeEventListener('mousemove', handler.mousemove)\r\n                document.body.removeEventListener('mouseup', handler.mouseup)\r\n                enableUserSelect()\r\n            },\r\n        }\r\n\r\n        watch(() => props.modelValue, (val) => {\r\n            nextTick().then(() => methods.setTop(val / 100 * height.value))\r\n        }, {immediate: true})\r\n\r\n        return {\r\n            render: () => (\r\n                <div class=\"pl-color-alpha-slider\" style={styles.value as any} onMousedown={handler.mousedown} ref=\"el\">\r\n                    <div class=\"pl-color-alpha-shadow\" style={shadowStyles.value}/>\r\n                    <span class=\"pl-color-alpha-thumb\" style={thumbStyles.value as any}/>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import './color-hue-slider.scss'\r\nimport {designComponent} from \"../../../use/designComponent\";\r\nimport {useRefs} from \"../../../use/useRefs\";\r\nimport {useProps} from \"../../../use/useProps\";\r\nimport {computed, nextTick, reactive, watch} from 'vue';\r\nimport {unit} from \"plain-utils/string/unit\";\r\nimport {disabledUserSelect} from \"plain-utils/dom/disabledUserSelect\";\r\nimport {enableUserSelect} from \"plain-utils/dom/enableUserSelect\";\r\n\r\nexport const ColorHueSlider = designComponent({\r\n    name: 'pl-color-hue-slider',\r\n    props: {\r\n        modelValue: {type: Number, default: 0},                          // 当前色相\r\n        size: {type: [String, Number]},                             // 宽度\r\n        thumbSize: {type: [String, Number], default: 10},           // 指示器宽度\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: any) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n        const {refs} = useRefs({\r\n            el: HTMLDivElement,\r\n        })\r\n        const {propsState} = useProps(props, {\r\n            size: useProps.NUMBER,\r\n            thumbSize: useProps.NUMBER,\r\n        })\r\n\r\n        const state = reactive({\r\n            left: 0,                                                // 指示器左偏移位置\r\n            tempLeft: 0,                                            // 拖拽的时候，指示器的缓存左偏移位置\r\n            startX: null as null | number,                          // 拖拽的时候起始位置\r\n        })\r\n\r\n        const styles = computed(() => ({\r\n            width: unit(propsState.size)\r\n        }))\r\n\r\n        const thumbStyles = computed(() => ({\r\n            left: `${state.left}px`,\r\n            width: unit(propsState.thumbSize)\r\n        }))\r\n\r\n        const width = computed(() => (propsState.size as number) - (propsState.thumbSize as number))\r\n\r\n        const methods = {\r\n            setLeft: (left: number) => {\r\n                state.left = Math.max(0, Math.min(width.value, left))\r\n            },\r\n            emitValue: () => {\r\n                emit.onUpdateModelValue(Number((state.left / width.value * 360).toFixed(0)))\r\n            }\r\n        }\r\n\r\n        const handler = {\r\n            mousedown: (e: MouseEvent) => {\r\n                document.body.addEventListener('mousemove', handler.mousemove)\r\n                document.body.addEventListener('mouseup', handler.mouseup)\r\n                if (e.target === refs.el) {\r\n                    methods.setLeft(e.offsetX - (propsState.thumbSize as number) / 2)\r\n                    methods.emitValue()\r\n                }\r\n                disabledUserSelect()\r\n                state.startX = e.clientX\r\n                state.tempLeft = state.left\r\n            },\r\n            mousemove: (e: MouseEvent) => {\r\n                const durX = e.clientX - state.startX!\r\n                methods.setLeft(state.tempLeft + durX)\r\n                methods.emitValue()\r\n            },\r\n            mouseup: () => {\r\n                document.body.removeEventListener('mousemove', handler.mousemove)\r\n                document.body.removeEventListener('mouseup', handler.mouseup)\r\n                enableUserSelect()\r\n            },\r\n        }\r\n\r\n        watch(() => props.modelValue, (val) => {\r\n            nextTick().then(() => methods.setLeft(val / 360 * width.value))\r\n        }, {immediate: true})\r\n\r\n        return {\r\n            render: () => (\r\n                <div class=\"pl-color-hue-slider\" onMousedown={handler.mousedown} style={styles.value as any} ref=\"el\">\r\n                    <div class=\"pl-color-hue-slider-thumb\" style={thumbStyles.value as any}/>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import './color-sv-panel.scss'\r\nimport {designComponent} from \"../../../use/designComponent\";\r\nimport {useProps} from \"../../../use/useProps\";\r\nimport {computed, nextTick, reactive, watch} from 'vue';\r\nimport {hsv2rgb} from \"../utils/ColorUtils\";\r\nimport {unit} from \"plain-utils/string/unit\";\r\nimport {disabledUserSelect} from \"plain-utils/dom/disabledUserSelect\";\r\nimport {enableUserSelect} from \"plain-utils/dom/enableUserSelect\";\r\n\r\nexport const ColorSvPanel = designComponent({\r\n    name: 'pl-color-sv-panel',\r\n    props: {\r\n        hue: {type: Number, default: 360},                      // 色相\r\n        saturation: {type: Number},                             // 饱和度\r\n        modelValue: {type: Number},                             // 亮度\r\n\r\n        height: {type: [String, Number], default: 180},         // 面板高度\r\n        width: {type: [String, Number], default: 240},          // 面板宽度\r\n    },\r\n    emits: {\r\n        onChange: (val: any) => true,\r\n        onDblclick: (e: MouseEvent) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const {propsState} = useProps(props, {\r\n            height: useProps.NUMBER,\r\n            width: useProps.NUMBER,\r\n        })\r\n\r\n        const state = reactive({\r\n            val: props.modelValue == null ? null : 100 - Number(props.modelValue),\r\n            saturation: props.saturation,\r\n\r\n            startX: 0,\r\n            startY: 0,\r\n            tempSaturation: 0,\r\n            tempValue: 0,\r\n        })\r\n\r\n        const styles = computed(() => {\r\n            const color = hsv2rgb(props.hue, 100, 100)\r\n            return {\r\n                width: unit(propsState.width),\r\n                height: unit(propsState.height),\r\n                backgroundColor: `rgb(${color.r},${color.g},${color.b})`,\r\n            }\r\n        })\r\n\r\n        const thumbStyles = computed(() => {\r\n            let {val, saturation} = state\r\n            val = val == null ? 50 : val\r\n            saturation = saturation == null ? 50 : saturation\r\n\r\n            return {\r\n                transform: `translate3d(${saturation * (propsState.width as number) / 100}px,${val * (propsState.height as number) / 100}px,0)`,\r\n            }\r\n        })\r\n\r\n        const methods = {\r\n            updatePosition: (x: number, y: number, isMouseDown = true): void => {\r\n                const durX = Number((x / (propsState.width as number) * 100).toFixed(0));\r\n                const durY = Number((y / (propsState.height as number) * 100).toFixed(0));\r\n\r\n                state.saturation = (isMouseDown ? 0 : state.tempSaturation) + durX\r\n                state.val = (isMouseDown ? 0 : state.tempValue) + durY\r\n                state.saturation = Math.max(0, Math.min(100, state.saturation))\r\n                state.val = Math.max(0, Math.min(100, state.val))\r\n\r\n                emit.onChange({hue: props.hue, saturation: state.saturation, value: 100 - state.val})\r\n            },\r\n        }\r\n\r\n        const handler = {\r\n            mousedown: (e: MouseEvent) => {\r\n                document.body.addEventListener('mousemove', handler.mousemove)\r\n                document.body.addEventListener('mouseup', handler.mouseup)\r\n                disabledUserSelect()\r\n                methods.updatePosition(e.offsetX, e.offsetY)\r\n                state.startX = e.clientX\r\n                state.startY = e.clientY\r\n                state.tempSaturation = state.saturation as number\r\n                state.tempValue = state.val as number\r\n            },\r\n            mousemove: (e: MouseEvent) => {\r\n                methods.updatePosition(e.clientX - state.startX, e.clientY - state.startY, false)\r\n            },\r\n            mouseup: () => {\r\n                document.body.removeEventListener('mousemove', handler.mousemove)\r\n                document.body.removeEventListener('mouseup', handler.mouseup)\r\n                enableUserSelect()\r\n            },\r\n            dblclick: async (e: MouseEvent) => {\r\n                nextTick().then(() => emit.onDblclick(e))\r\n            },\r\n        }\r\n\r\n        watch(() => props.modelValue, (val) => {\r\n            if (val == null) {\r\n                state.val = null\r\n                return\r\n            }\r\n            if (state.val !== 100 - val) state.val = 100 - val\r\n        })\r\n        watch(() => props.saturation, (val) => {\r\n            if (val == null) {\r\n                state.saturation = undefined\r\n                return\r\n            }\r\n            if (state.saturation !== val) state.saturation = val\r\n        })\r\n\r\n        return {\r\n            render: () => (\r\n                <div class=\"pl-color-sv-panel\" style={styles.value as any} onMousedown={handler.mousedown} onDblclick={handler.dblclick}>\r\n                    <span class=\"pl-color-sv-thumb\" style={thumbStyles.value}/>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import './color-panel.scss'\r\nimport {designComponent} from \"../../use/designComponent\";\r\nimport {Color, ColorFormat} from \"./utils/Color\";\r\nimport {nextTick, reactive, watch} from 'vue';\r\nimport {isEffectiveColorString} from \"./utils/ColorUtils\";\r\nimport Input from '../input'\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport {$$notice} from \"../notice-service\";\r\n\r\nfunction getDefaultColor(format: ColorFormat, enableAlpha: boolean) {\r\n    if (format === ColorFormat.hex) {\r\n        return '#12b4a5'\r\n    } else {\r\n        if (enableAlpha) {\r\n            return 'rgba(18,180,165,0.5)'\r\n        } else {\r\n            return 'rgb(18,180,165)'\r\n        }\r\n    }\r\n}\r\n\r\nexport const ColorPanel = designComponent({\r\n    name: 'pl-color-panel',\r\n    props: {\r\n        modelValue: {type: String},                      // 当前颜色值\r\n        enableAlpha: {type: Boolean},               // 是否启用透明度\r\n        format: {type: String},                     // 格式类型：hex、rgb\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: any) => true,\r\n        onBblclickSvPanel: (e: MouseEvent) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const {refs} = useRefs({\r\n            input: Input,\r\n        })\r\n\r\n        const defaultColor = () => getDefaultColor(props.format as ColorFormat, props.enableAlpha as boolean)\r\n\r\n        const state = reactive({\r\n            val: props.modelValue,\r\n            color: new Color(\r\n                props.modelValue || defaultColor(),\r\n                props.enableAlpha as boolean,\r\n                props.format as ColorFormat\r\n            ),\r\n        })\r\n\r\n        const methods = {\r\n            reset: () => {\r\n                state.val = props.modelValue\r\n                state.color.setValue(props.modelValue || defaultColor())\r\n            },\r\n        }\r\n        const handler = {\r\n            svChange: ({value, saturation}: { value: number, saturation: number }) => {\r\n                state.color.val = value\r\n                state.color.saturation = saturation\r\n                state.color.updateByHsv()\r\n                state.val = state.color.color\r\n            },\r\n            hueChange: (hue: number) => {\r\n                state.color.hue = hue\r\n                state.color.updateByHsv()\r\n                state.val = state.color.color\r\n            },\r\n            alphaChange: (alpha: number) => {\r\n                state.color.alpha = alpha\r\n                state.color.updateByAlpha()\r\n                state.val = state.color.color\r\n            },\r\n            confirm: () => {\r\n                emit.onUpdateModelValue(state.val)\r\n            },\r\n            dblclickSvPanel: (e: MouseEvent) => {\r\n                handler.confirm()\r\n                emit.onBblclickSvPanel(e)\r\n            },\r\n            inputChange: (val: string) => {\r\n                if (!val) {\r\n                    state.color.setValue(val)\r\n                    state.val = state.color.color\r\n                    return\r\n                }\r\n                let formatVal = val.replace(/\\s/g, '')\r\n                if (!isEffectiveColorString(formatVal)) {\r\n                    return;\r\n                } else {\r\n                    state.color.setValue(formatVal)\r\n                    if (val !== formatVal) {\r\n                        refs.input!.model.value = formatVal\r\n                    }\r\n                    state.val = state.color.color\r\n                }\r\n            },\r\n            inputBlur: () => {\r\n                if (!!refs.input!.model.value && refs.input!.model.value !== state.color.color) {\r\n                    $$notice.warn('请输入正确的颜色值！')\r\n                    refs.input!.model.value = state.color.color\r\n                }\r\n            },\r\n            inputEnter: async () => {\r\n                await nextTick()\r\n                if (!!refs.input!.model.value && refs.input!.model.value !== state.color.color) {\r\n                    $$notice('请输入正确的颜色值！')\r\n                    refs.input!.model.value = state.color.color\r\n                } else {\r\n                    handler.confirm()\r\n                }\r\n            },\r\n        }\r\n\r\n        /*---------------------------------------watch-------------------------------------------*/\r\n\r\n        watch(() => props.modelValue, (val) => {\r\n            state.color.setValue(val || defaultColor())\r\n            state.val = state.color.color\r\n        })\r\n\r\n        watch(() => props.enableAlpha, (val) => {\r\n            state.color.enableAlpha = val as boolean\r\n            state.color.updateByAlpha()\r\n        })\r\n\r\n        watch(() => props.format, (val) => {\r\n            state.color.format = val as ColorFormat || ColorFormat.hex\r\n            state.color.format === ColorFormat.hex ? state.color.updateByHex() : state.color.updateByRgb()\r\n        })\r\n\r\n        return {\r\n            render: () => (\r\n                <div class=\"pl-color-panel\">\r\n                    <div>\r\n                        <pl-color-sv-panel height=\"180\"\r\n                                           width=\"240\"\r\n                                           hue={state.color.hue}\r\n                                           modelValue={state.color.val}\r\n                                           saturation={state.color.saturation}\r\n                                           onChange={handler.svChange} onDblclick={handler.dblclickSvPanel}/>\r\n\r\n                        {state.color.enableAlpha && (\r\n                            <pl-color-alpha-slider\r\n                                size=\"180\"\r\n                                color={state.color.hex}\r\n                                modelValue={state.color.alpha}\r\n                                onChange={handler.alphaChange}/>\r\n                        )}\r\n                    </div>\r\n\r\n\r\n                    <pl-color-hue-slider size=\"240\"\r\n                                         modelValue={state.color.hue}\r\n                                         onInput={(val: number) => state.color.hue = val}\r\n                                         onChange={handler.hueChange}/>\r\n                    <div class=\"pl-color-panel-input-group\">\r\n                        <pl-input ref=\"input\"\r\n                                  size=\"mini\"\r\n                                  modelValue={state.val}\r\n                                  width={props.enableAlpha ? 204 : 186}\r\n                                  onChange={handler.inputChange}\r\n                                  onBlur={handler.inputBlur}\r\n                                  onEnter={handler.inputEnter}/>\r\n                        <pl-button-group size=\"mini\">\r\n                            <pl-button icon=\"el-icon-close-bold\" onClick={methods.reset}/>\r\n                            <pl-button icon=\"el-icon-check-bold\" onClick={handler.confirm}/>\r\n                        </pl-button-group>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n\r\n    },\r\n})","import {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\nimport {ColorPicker} from \"./color-picker\";\r\nimport {ColorAlphaSlider} from \"./sub/color-alpha-slider\";\r\nimport {ColorHueSlider} from \"./sub/color-hue-slider\";\r\nimport {ColorSvPanel} from \"./sub/color-sv-panel\";\r\nimport {ColorPanel} from \"./color-panel\";\r\nimport ColorButton from './color-button'\r\nimport ColorPickerService from './service/color-picker.service'\r\n\r\nexport default createComponentPlugin(ColorPicker, {\r\n    exposeComponents: {\r\n        ColorAlphaSlider,\r\n        ColorHueSlider,\r\n        ColorSvPanel,\r\n        ColorPanel,\r\n        ColorButton,\r\n    },\r\n    plugins: [ColorPickerService],\r\n    expose: {\r\n        ColorPickerService,\r\n    }\r\n})","import {CascadeConfig, CascadeMark} from \"./CascadMark\";\r\nimport {reactive} from 'vue';\r\n\r\nexport class CascadeNode {\r\n\r\n    state: {\r\n        data: Record<string, any>\r\n    }\r\n\r\n    constructor(\r\n        public key: string,\r\n        data: Record<string, any>,\r\n        public level: number,\r\n        public config: () => CascadeConfig,\r\n        public parentRef: () => (CascadeNode | null),\r\n        public markRef: () => CascadeMark,\r\n        public ctxState: () => {\r\n            expandKeys: string[],\r\n            filterText: string | undefined,\r\n        }\r\n    ) {\r\n        this.state = reactive({\r\n            data\r\n        })\r\n    }\r\n\r\n    selfGetter = () => this;\r\n\r\n    /*---------------------------------------prop-------------------------------------------*/\r\n\r\n    get data() {return this.state.data}\r\n\r\n    set data(val) {this.state.data = val}\r\n\r\n    /*节点显示文本*/\r\n    get label(): string {return this.data[this.config().labelField]}\r\n\r\n    /*节点子数据*/\r\n    get childrenData(): object[] | undefined {\r\n        const data = this.data[this.config().childrenField]\r\n        return typeof data === \"function\" ? data() : data\r\n    }\r\n\r\n    /*子节点*/\r\n    get children(): CascadeNode[] | undefined {\r\n        if (!this.childrenData) return undefined\r\n        return this.childrenData.map(child => this.markRef().node.get(\r\n            child,\r\n            this.level + 1,\r\n            this.selfGetter,\r\n        ))\r\n    }\r\n\r\n    /*是否为叶子节点（无子节点）*/\r\n    get isLeaf(): boolean {\r\n        const {isLeaf} = this.config()\r\n        if (!!isLeaf) {\r\n            return isLeaf(this)\r\n        } else {\r\n            return !this.children || this.children.length === 0\r\n        }\r\n    }\r\n\r\n    /*当前节点展开时包含的keys*/\r\n    get expandKeys(): string[] {\r\n        let expandKeys = [this.key]\r\n        let parent = this.parentRef()\r\n        while (!!parent && !!parent.key) {\r\n            expandKeys.unshift(parent.key)\r\n            parent = parent.parentRef()\r\n        }\r\n        return expandKeys\r\n    }\r\n\r\n    /*当前节点是否已经展开*/\r\n    get isExpand() {\r\n        let expandKeys = this.ctxState().expandKeys\r\n        let selfExpandKeys = this.expandKeys\r\n        return expandKeys.toString() === selfExpandKeys.toString()\r\n    }\r\n\r\n    /*当前是否处于加载状态*/\r\n    get isLoading(): boolean {\r\n        return this.markRef().loading.get(this.key)\r\n    }\r\n\r\n    get isLoaded(): boolean {\r\n        return this.markRef().loaded.get(this.key)\r\n    }\r\n\r\n    /*当前节点是否禁用*/\r\n    get nodeDisabled(): boolean {\r\n        const nodeDisabled = this.config().nodeDisabled\r\n        return !!nodeDisabled && nodeDisabled(this)\r\n    }\r\n\r\n    /*当有过滤文本时，显示的文本*/\r\n    get filterData(): CascadeNode[] {\r\n        let filterData: CascadeNode[] = [this]\r\n        let parent = this.parentRef()\r\n        while (!!parent && !!parent.key) {\r\n            filterData.unshift(parent)\r\n            parent = parent.parentRef()\r\n        }\r\n        return filterData\r\n    }\r\n\r\n    /*是否通过筛选，当子节点通过筛选时，当前节点也算通过筛选*/\r\n    get isPassFilter(): boolean {\r\n        const {filterText} = this.ctxState()\r\n        if (!filterText) return false\r\n\r\n        const {filterMethod} = this.config()\r\n        let filterData = this.filterData\r\n        if (!!filterMethod) {\r\n            return filterMethod(filterData, filterText)\r\n        }\r\n        return filterData.some(item => item.label.indexOf(filterText!) > -1)\r\n    }\r\n\r\n    /*---------------------------------------action-------------------------------------------*/\r\n\r\n    /*设置子节点数据*/\r\n    setChildren(children: object[]) {\r\n        // set(this.data, this.config().childrenField, children)\r\n        this.data[this.config().childrenField] = children\r\n    }\r\n\r\n    loading(val: boolean) {\r\n        this.markRef().loading.set(this.key, val)\r\n    }\r\n\r\n    loaded(val: boolean) {\r\n        this.markRef().loaded.set(this.key, val)\r\n    }\r\n}","/**\r\n * 创建一个用来管理key的对象\r\n * @author  韦胜健\r\n * @date    2020/11/27 11:38\r\n */\r\nexport function createKeyHandler(prefix: string) {\r\n    const map = new WeakMap<any, string>()\r\n    let count = 1\r\n    return (obj: any, keyField?: string | null): string => {\r\n        if (!!keyField) {\r\n            return obj[keyField]\r\n        }\r\n        let key = map.get(obj)\r\n        if (!key) {\r\n            key = `${prefix}_${count++}`\r\n            map.set(obj, key)\r\n        }\r\n        return key\r\n    }\r\n}","import {reactive, UnwrapRef} from 'vue'\r\n\r\n/**\r\n * 给mark对象使用，用来创建管理flag的对象\r\n * @author  韦胜健\r\n * @date    2020/11/27 11:38\r\n */\r\nexport function createFlagManager<T = boolean>() {\r\n    return {\r\n        state: reactive({\r\n            map: {} as { [k: string]: T }\r\n        }),\r\n        get(key: string) {\r\n            return this.state.map[key]\r\n        },\r\n        set(key: string, val: UnwrapRef<T>) {\r\n            /*if (this.state.map.hasOwnProperty(key)) {\r\n                this.state.map[key] = val\r\n            } else {\r\n                set(this.state.map, key, val)\r\n            }*/\r\n            this.state.map[key] = val\r\n        },\r\n        getActiveKeys(): string[] {\r\n            const keys: string[] = []\r\n            for (let key in this.state.map) {\r\n                if (!!this.state.map[key]) {\r\n                    keys.push(key)\r\n                }\r\n            }\r\n            return keys\r\n        }\r\n    }\r\n}","import {CascadeNode} from \"./CascadeNode\";\r\nimport {reactive} from \"vue\";\r\nimport {createKeyHandler} from \"../../../utils/createKeyHandler\";\r\nimport {createFlagManager} from \"../../../utils/createFlagManager\";\r\n\r\nconst generator = createKeyHandler('cascade_node')\r\n\r\nexport interface CascadeConfig {\r\n    nodeDisabled?: (node: CascadeNode) => boolean,\r\n    isLeaf?: (node: CascadeNode) => boolean,\r\n    lazy?: boolean,\r\n    getChildren?: (node: CascadeNode, cb: (...args: any[]) => void) => void,\r\n    filterMethod?: (filterData: CascadeNode[], filterText: string) => boolean\r\n\r\n    labelField: string,\r\n    keyField: string,\r\n    childrenField: string,\r\n}\r\n\r\nexport class CascadeMark {\r\n\r\n    constructor(public config: () => CascadeConfig, public ctxState: () => {\r\n        expandKeys: string[],\r\n        filterText: string | undefined,\r\n    }) {}\r\n\r\n    selfGetter = () => this;\r\n\r\n    node = {\r\n        state: reactive({\r\n            map: {} as { [k: string]: CascadeNode }\r\n        }),\r\n        get: (\r\n            data: any,\r\n            level: number,\r\n            parentRef: () => (CascadeNode | null),\r\n        ): CascadeNode => {\r\n            const key = generator(data, this.config().keyField)\r\n            let node: CascadeNode = this.node.state.map[key]\r\n            if (!!node) {\r\n                if (node.data != data) {\r\n                    node.data = data\r\n                }\r\n                node.level = level\r\n                node.parentRef = parentRef\r\n            } else {\r\n                node = new CascadeNode(\r\n                    key,\r\n                    data,\r\n                    level,\r\n                    this.config,\r\n                    parentRef,\r\n                    this.selfGetter,\r\n                    this.ctxState,\r\n                )\r\n                this.node.state.map[key] = node\r\n            }\r\n            return node\r\n        },\r\n        getList: (list: any[] | undefined, level: number, parentRef: () => (CascadeNode | null)): CascadeNode[] => {\r\n            if (!list) return []\r\n            return list.map(item => this.node.get(item, level, parentRef))\r\n        }\r\n    }\r\n\r\n    loading = createFlagManager()\r\n    loaded = createFlagManager()\r\n\r\n}","import {designComponent} from \"../../../use/designComponent\";\r\nimport {CascadeNode} from \"../utils/CascadeNode\";\r\nimport {VNodeChild} from \"../../../shims\";\r\nimport {useScopedSlots} from \"../../../use/useScopedSlots\";\r\nimport {useModel} from \"../../../use/useModel\";\r\nimport {CascadeMark} from \"../utils/CascadMark\";\r\nimport {computed, PropType, reactive, ref} from 'vue';\r\nimport {debounce} from \"plain-utils/utils/debounce\";\r\nimport './cascade-panel.scss'\r\n\r\nexport const CascadePanelProps = {\r\n    modelValue: {type: Array},                                          // 数组，双向绑定值\r\n    data: {type: Array},                                                // 选择的数据\r\n    trigger: {type: String, default: 'click'},                           // 展开触发类型：click，hover\r\n    hoverDebounce: {type: Number, default: 150},                        // 触发器为hover的时候，防抖时间间隔\r\n    emptyText: {type: String, default: '暂无数据'},                      // 没有子节点时展示的文本\r\n    nodeDisabled: {type: Function as PropType<(node: CascadeNode) => boolean>},// 是否禁用判断函数\r\n    renderContent: {type: Function as PropType<(data: { node: CascadeNode, index: number }) => VNodeChild>},// 渲染内容的渲染函数\r\n    selectBranch: {type: Boolean},                                      // 点击分支的时候也能够触发 change 事件\r\n    /*---------------------------------------separator-------------------------------------------*/\r\n    isLeaf: {type: Function as PropType<(node: CascadeNode) => boolean>},// 函数，用来判断是否为叶子节点，默认根据节点是否存在子节点来判断是否为叶子节点，懒加载模式下，改属性为必需属性\r\n    lazy: {type: Boolean},                                              // 数据是否为懒加载\r\n    getChildren: {type: Function as PropType<(node: CascadeNode | null, cb: (...args: any[]) => void) => any>},// 懒加载数据函数\r\n    /*---------------------------------------separator-------------------------------------------*/\r\n    labelField: {type: String, required: true},                         // 记录显示文本的字段名\r\n    keyField: {type: String, required: true},                           // 记录值的字段名\r\n    childrenField: {type: String, required: true},                      // 记录的子节点数据的字段名\r\n    /*---------------------------------------separator-------------------------------------------*/\r\n    filterText: {type: String},                                         // 筛选文本\r\n    filterMethod: {type: Function as PropType<(nodes: CascadeNode[], filterText: string) => boolean>},// 自定义筛选函数/\r\n}\r\n\r\nexport default designComponent({\r\n    name: 'pl-cascade-panel',\r\n    props: CascadePanelProps,\r\n    emits: {\r\n        onUpdateModelValue: (val: any, expandNodes?: CascadeNode[]) => true,\r\n        onClickItem: (data: { node: CascadeNode, index: number }) => true,\r\n        onGetChildren: (...args: any[]) => true,\r\n        onUpdateData: (val: any) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const {scopedSlots} = useScopedSlots({\r\n            default: {node: CascadeNode, index: Number}\r\n        })\r\n        const model = useModel(() => props.modelValue, emit.onUpdateModelValue, {autoEmit: false})\r\n        const data = useModel(() => props.data, emit.onUpdateData)\r\n        const expandKeys = ref([] as string[])\r\n        const state = reactive({\r\n            loading: false,\r\n            expandKeys,\r\n            cascadeMark: new CascadeMark(\r\n                () => ({\r\n                    nodeDisabled: props.nodeDisabled,\r\n                    isLeaf: props.isLeaf,\r\n                    lazy: props.lazy,\r\n                    getChildren: props.getChildren,\r\n                    filterMethod: props.filterMethod,\r\n\r\n                    labelField: props.labelField!,\r\n                    keyField: props.keyField!,\r\n                    childrenField: props.childrenField!,\r\n                }),\r\n                () => ({\r\n                    expandKeys: expandKeys.value,\r\n                    filterText: props.filterText,\r\n                })\r\n            )\r\n        })\r\n\r\n        const formatData = computed(() => state.cascadeMark.node.getList(data.value, 1, () => null))\r\n        const cascadeData = computed(() => {\r\n            const data = formatData.value || []\r\n            if (data.length === 0) return []\r\n            let expandKeys: string[] = []\r\n            if (!!state.expandKeys && state.expandKeys.length > 0) {\r\n                expandKeys = state.expandKeys\r\n            } else if (!!model.value && model.value.length > 0 && !props.lazy) {\r\n                expandKeys = model.value as string[]\r\n            }\r\n\r\n            let children = data as CascadeNode[]\r\n            let cascadeData: CascadeNode[][] = []\r\n\r\n            cascadeData.push(children)\r\n\r\n            expandKeys.forEach((key: string) => {\r\n                for (let i = 0; i < children.length; i++) {\r\n                    const child = children[i];\r\n                    if (child.key === key && !child.isLeaf) {\r\n                        children = child.children || []\r\n                        cascadeData.push(children)\r\n                        break\r\n                    }\r\n                }\r\n            })\r\n            return cascadeData\r\n        })\r\n        /*---------------------------------------utils-------------------------------------------*/\r\n\r\n        const utils = {\r\n            /**\r\n             * 检查props是否合法\r\n             * @author  韦胜健\r\n             * @date    2020/3/30 18:48\r\n             */\r\n            checkProps() {\r\n                if (!props.data) return true\r\n                if (!props.keyField) {\r\n                    console.error('pl-cascade 的 keyField属性不能为空，每一条记录必须要有一个key标识')\r\n                    return false\r\n                }\r\n                if (!props.childrenField) {\r\n                    console.error('pl-cascade 的 childrenKey不能为空')\r\n                    return false\r\n                }\r\n                return true\r\n            },\r\n            iterateAll: (nodes: CascadeNode[], fn: Function, iterateChildren?: Function) => {\r\n                if (!nodes) return\r\n                nodes.forEach(node => {\r\n                    fn(node)\r\n                    if (!!node.children && (!iterateChildren || iterateChildren(node))) {\r\n                        utils.iterateAll(node.children, fn, iterateChildren)\r\n                    }\r\n                })\r\n            },\r\n            getChildrenAsync(node: CascadeNode | null): Promise<CascadeNode[]> {\r\n                return new Promise((resolve) => {\r\n                    if (!node) {\r\n                        state.loading = true\r\n                    } else {\r\n                        node.loading(true)\r\n                    }\r\n                    props.getChildren!(node, (...results: any[]) => {\r\n                        if (!node) {\r\n                            state.loading = false\r\n                        } else {\r\n                            node.loading(false)\r\n                            node.loaded(true)\r\n                        }\r\n                        emit.onGetChildren(...results)\r\n                        resolve(...results)\r\n                    })\r\n                })\r\n            },\r\n            async initLazy() {\r\n                if (!props.lazy) {\r\n                    return\r\n                }\r\n                data.value = await utils.getChildrenAsync(null)\r\n            },\r\n        }\r\n\r\n        const filterData = computed(() => {\r\n            let filterData: CascadeNode[][] = []\r\n            utils.iterateAll((formatData.value || []) as CascadeNode[], (node: CascadeNode) => {\r\n                if (node.isPassFilter && (node.isLeaf || props.selectBranch)) {\r\n                    filterData.push(node.filterData)\r\n                }\r\n            })\r\n            return filterData\r\n        })\r\n\r\n        const expandNodes = computed(() => {\r\n            if (!state.expandKeys) return []\r\n            let result: CascadeNode[] = []\r\n            let nodes = formatData.value || []\r\n\r\n            state.expandKeys.forEach((key: string) => {\r\n                for (let i = 0; i < nodes.length; i++) {\r\n                    const child = nodes[i];\r\n                    if (child.key === key) {\r\n                        result.push(child)\r\n                        if (!child.children || child.children.length === 0) {\r\n                            break\r\n                        } else {\r\n                            nodes = child.children\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n            return result\r\n        })\r\n\r\n        /*---------------------------------------handler-------------------------------------------*/\r\n\r\n        const handler = {\r\n            mouseenterItem: debounce((node: CascadeNode) => {\r\n                if (props.trigger === 'hover') {\r\n                    methods.expand(node)\r\n                }\r\n            }, props.hoverDebounce),\r\n            clickItem: async (node: CascadeNode, index: number) => {\r\n                if (props.trigger === 'click') {\r\n                    await methods.expand(node)\r\n                }\r\n\r\n                if (node.nodeDisabled) return\r\n                if (node.isLeaf || props.selectBranch) {\r\n                    model.value = state.expandKeys\r\n                    emit.onUpdateModelValue(model.value as string[], expandNodes.value as CascadeNode[])\r\n                }\r\n                emit.onClickItem({node, index})\r\n            }\r\n        }\r\n\r\n        /*---------------------------------------methods-------------------------------------------*/\r\n\r\n        const methods = {\r\n            expand: async (node: CascadeNode) => {\r\n                if (!node.isExpand) {\r\n                    state.expandKeys = node.expandKeys\r\n\r\n                    if (\r\n                        props.lazy &&                                               // 懒加载模式\r\n                        !node.isLoaded &&                                           // 未曾加载过子节点数据\r\n                        !node.isLeaf                                                // 节点不是叶子节点\r\n                    ) {\r\n                        const children = await utils.getChildrenAsync(node)\r\n                        node.setChildren(children || [])\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        utils.initLazy()\r\n\r\n        return {\r\n            refer: {\r\n                ...methods,\r\n            },\r\n            render: () => {\r\n                const empty = (\r\n                    <pl-item class=\"pl-cascade-item pl-cascade-empty\" key=\"empty\" block>\r\n                        <pl-icon icon=\"el-icon-nodata\"/>\r\n                        {props.emptyText}\r\n                    </pl-item>\r\n                )\r\n\r\n                const filterList = (\r\n                    <pl-item class=\"pl-cascade-list pl-cascade-filter-list\" key={0}>\r\n                        <pl-scroll>\r\n                            <pl-list>\r\n                                {(!filterData.value || filterData.value.length === 0) && empty}\r\n                                {filterData.value.map((nodes) => (\r\n                                    <pl-item block\r\n                                             class={[\r\n                                                 'pl-cascade-item',\r\n                                                 {\r\n                                                     'pl-cascade-item-active': !!model.value && model.value.toString() === nodes.map(node => node.key).toString(),\r\n                                                     'pl-cascade-item-disabled': nodes.some(node => node.nodeDisabled),\r\n                                                 }\r\n                                             ]}\r\n                                             key={nodes.map(node => node.key).join(' ')}\r\n                                             {...{\r\n                                                 onClick: () => {\r\n                                                     handler.clickItem(nodes[nodes.length - 1], -1)\r\n                                                 },\r\n                                             }}>\r\n                                        <div class=\"pl-cascade-content\">\r\n                                            {nodes.map(node => node.label).join(' / ')}\r\n                                        </div>\r\n                                    </pl-item>\r\n                                ))}\r\n                            </pl-list>\r\n                        </pl-scroll>\r\n                    </pl-item>\r\n                )\r\n\r\n                const cascadeList = cascadeData.value.map((list, listIndex) => (\r\n                    <pl-item class=\"pl-cascade-list\" key={listIndex} v-loading={listIndex > 0 && state.cascadeMark.loading.get(state.expandKeys[listIndex - 1])}>\r\n                        <pl-scroll>\r\n                            <pl-list>\r\n                                {list.map((node, nodeIndex) => (\r\n                                    <pl-item block\r\n                                             class={[\r\n                                                 'pl-cascade-item',\r\n                                                 {\r\n                                                     'pl-cascade-item-expand': node.key === state.expandKeys[listIndex],\r\n                                                     'pl-cascade-item-active': !!model.value && model.value[listIndex] === node.key,\r\n                                                     'pl-cascade-item-disabled': node.nodeDisabled,\r\n                                                 }\r\n                                             ]}\r\n                                             key={node.key}\r\n\r\n                                             {...{\r\n                                                 onClick: () => handler.clickItem(node, nodeIndex),\r\n                                                 ...(props.trigger === 'hover' ? {\r\n                                                     onMouseenter: () => handler.mouseenterItem(node),\r\n                                                 } : {})\r\n                                             }}>\r\n                                        <div class=\"pl-cascade-content\">\r\n                                            {scopedSlots.default({node, index: nodeIndex}, (\r\n                                                !!props.renderContent ? props.renderContent({node, index: nodeIndex}) : node.label\r\n                                            ))}\r\n                                            {!node.isLeaf && (\r\n                                                <div class=\"pl-cascade-arrow\">\r\n                                                    {node.isLoading ? <pl-loading type=\"gamma\" status=\"primary\"/> : <pl-icon icon=\"el-icon-arrow-right\"/>}\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                    </pl-item>\r\n                                ))}\r\n                                {list.length === 0 && (\r\n                                    <pl-item class=\"pl-cascade-item pl-cascade-empty\" key=\"empty\" block>\r\n                                        <pl-icon icon=\"el-icon-nodata\"/>\r\n                                        {props.emptyText}\r\n                                    </pl-item>\r\n                                )}\r\n                            </pl-list>\r\n                        </pl-scroll>\r\n                    </pl-item>\r\n                ))\r\n\r\n                const isEmpty = !!props.filterText ? (filterData.value.length === 0) : (cascadeData.value.length === 0)\r\n\r\n                return (\r\n                    <div class=\"pl-cascade-panel\" v-loading={state.loading}>\r\n                        {!!props.filterText ? filterList : (\r\n                            <pl-list>\r\n                                {isEmpty ? (\r\n                                    <div class=\"pl-cascade-list\" key=\"empty\">\r\n                                        {empty}\r\n                                    </div>\r\n                                ) : cascadeList}\r\n                            </pl-list>\r\n                        )}\r\n                    </div>\r\n                )\r\n            }\r\n        }\r\n    },\r\n})","/**\r\n * 拖拽放置的类型\r\n * @author  韦胜健\r\n * @date    2020/4/1 17:15\r\n */\r\nexport enum TreeDropType {\r\n    prev = 'prev',\r\n    inner = 'inner',\r\n    next = 'next',\r\n    null = 'null',\r\n}\r\n\r\nexport const enum TreeNodeCheckStatus {\r\n    check = 'check',\r\n    uncheck = 'uncheck',\r\n    minus = 'minus',\r\n}","import {createAgentGetter} from \"../../popper/edit/createAgentGetter\";\r\nimport './cascade-service.scss'\r\nimport {App} from 'vue';\r\nimport {delay} from 'plain-utils/utils/delay';\r\n\r\nexport const CascadeServiceGetter = createAgentGetter({\r\n    name: 'cascade',\r\n    render(attrs) {\r\n        return <pl-cascade-panel {...attrs}/>\r\n    },\r\n    defaultPopperAttrs: {\r\n        transition: 'pl-transition-popper-drop',\r\n    },\r\n    defaultRenderAttrs: {\r\n        async onChange() {\r\n            let renderAttrs: any = this.state.option.serviceOption.renderAttrs\r\n            if (typeof renderAttrs === \"function\") renderAttrs = renderAttrs()\r\n            if (!renderAttrs.selectBranch) {\r\n                // 因为change之后，会引发 cascade panels 重新渲染没有宽度以及高度，导致过度动画失效，这里再change之后延迟再关闭\r\n                await delay(120)\r\n                this.hide()\r\n            }\r\n        },\r\n    },\r\n})\r\n\r\nexport default {\r\n    install(app: App) {\r\n        app.mixin({\r\n            beforeCreate(): void {\r\n                Object.defineProperty(this, '$cascade', {\r\n                    get() {\r\n                        const service = CascadeServiceGetter(this)\r\n                        return service\r\n                    },\r\n                })\r\n            }\r\n        })\r\n    },\r\n}","import {designComponent} from \"../../use/designComponent\";\r\nimport {CascadePanelProps} from \"./panel/cascade-panel\";\r\nimport {EditProps} from \"../../use/useEdit\";\r\nimport {StyleProps, useStyle} from \"../../use/useStyle\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport Input from '../input'\r\nimport {useScopedSlots} from \"../../use/useScopedSlots\";\r\nimport {CascadeNode} from \"./utils/CascadeNode\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {computed, PropType, reactive, watch} from 'vue';\r\nimport {CascadeMark} from \"./utils/CascadMark\";\r\nimport {useEditPopperAgent} from \"../popper/edit/useEditPopperAgent\";\r\nimport {CascadeServiceGetter} from \"./service/cascade-service\";\r\nimport {ie} from \"plain-utils/utils/ie\";\r\nimport './cascade.scss'\r\n\r\nexport default designComponent({\r\n    name: 'pl-cascade',\r\n    props: {\r\n        ...CascadePanelProps,\r\n\r\n        showLast: {type: Boolean},                                          // 只显示最后一级节点文本\r\n        separator: {type: String, default: ' / '},                          // 显示值分隔符\r\n        filterable: {type: Boolean, default: true},                         // 是否可筛选\r\n        showFormat: {type: Function as PropType<(value: any[]) => string>}, // 显示值格式化函数\r\n\r\n        inputAttrs: {type: Object},                                         // 输入框属性值\r\n\r\n        ...StyleProps,\r\n        ...EditProps,\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: any, expandNodes?: CascadeNode[]) => true,\r\n        onClickItem: (data: { node: CascadeNode, index: number }) => true,\r\n        onGetChildren: (...args: any[]) => true,\r\n        onUpdateData: (val: any) => true,\r\n        onBlur: (e: Event) => true,\r\n        onFocus: (e: Event) => true,\r\n    },\r\n    setup({props, event}) {\r\n\r\n        useStyle()\r\n        const {refs} = useRefs({\r\n            input: Input,\r\n        })\r\n        const {scopedSlots} = useScopedSlots({\r\n            default: {node: CascadeNode, index: Number}\r\n        }, true)\r\n\r\n        /*之所以不自动派发事件，是因为派发事件的时候需要多传一个nodes值*/\r\n        const model = useModel(() => props.modelValue, event.emit.onUpdateModelValue, {autoEmit: false})\r\n        const data = useModel(() => props.data, event.emit.onUpdateData)\r\n\r\n        const state = reactive({\r\n            inputValue: null as null | string,\r\n            cacheData: {} as { [key: string]: object[] },\r\n            expandKeys: [] as string[],\r\n        })\r\n\r\n        const cascadeMark = computed(() => new CascadeMark(\r\n            () => ({\r\n                nodeDisabled: props.nodeDisabled,\r\n                isLeaf: props.isLeaf,\r\n                lazy: props.lazy,\r\n                getChildren: props.getChildren,\r\n                filterMethod: props.filterMethod,\r\n\r\n                labelField: props.labelField!,\r\n                keyField: props.keyField!,\r\n                childrenField: props.childrenField!,\r\n            }),\r\n            () => ({\r\n                expandKeys: state.expandKeys,\r\n                filterText: '',\r\n            })\r\n        ))\r\n\r\n        const agentState = useEditPopperAgent({\r\n            event,\r\n            serviceGetter: CascadeServiceGetter,\r\n            option: {\r\n                reference: () => refs.input as any,\r\n                renderAttrs: () => ({\r\n                    ...props,\r\n                    modelValue: model.value,\r\n                    filterText: state.inputValue,\r\n                    getChildren: utils.getChildren,\r\n                    renderContent: utils.renderContent,\r\n\r\n                    onChange: handler.onServiceChange,\r\n                    onClickItem: event.emit.onClickItem,\r\n                    onGetChildren: event.emit.onGetChildren,\r\n                    onUpdateData: event.emit.onUpdateData,\r\n                }),\r\n                popperAttrs: {\r\n                    onMousedownPopper: () => agentState.state.focusCounter++,\r\n                    onClickPopper: () => refs.input!.methods.focus(),\r\n                    onHide: () => state.inputValue = null,\r\n                },\r\n            },\r\n        })\r\n\r\n\r\n        /*---------------------------------------utils-------------------------------------------*/\r\n\r\n        const utils = {\r\n            getChildren: (node: CascadeNode | null, resolve: Function) => {\r\n                let key = !!node ? node.key : 'root'\r\n                if (state.cacheData[key]) {\r\n                    resolve(state.cacheData[key])\r\n                } else {\r\n                    props.getChildren!(node, (data) => {\r\n                        state.cacheData[key] = data\r\n                        resolve(data)\r\n                    })\r\n                }\r\n            },\r\n            /**\r\n             * 检查props是否合法\r\n             * @author  韦胜健\r\n             * @date    2020/3/30 18:48\r\n             */\r\n            checkProps() {\r\n                if (!props.data) return true\r\n                if (!props.keyField) {\r\n                    console.error('pl-cascade 的 keyField属性不能为空，每一条记录必须要有一个key标识')\r\n                    return false\r\n                }\r\n                if (!props.childrenField) {\r\n                    console.error('pl-cascade 的 childrenKey不能为空')\r\n                    return false\r\n                }\r\n                return true\r\n            },\r\n            renderContent: (scopedSlots.default.isExist() || !!props.renderContent) ? ({node, index}: { node: CascadeNode, index: number }) => {\r\n                if (scopedSlots.default.isExist()) return scopedSlots.default({node, index})\r\n                if (!!props.renderContent) return props.renderContent({node, index})\r\n            } : null\r\n        }\r\n\r\n\r\n        /*---------------------------------------computer-------------------------------------------*/\r\n\r\n        const classes = computed(() => ([\r\n            'pl-cascade',\r\n            {\r\n                'pl-cascade-open': agentState.isShow.value,\r\n            }\r\n        ]))\r\n\r\n        const formatData = computed(() => cascadeMark.value.node.getList(data.value, 1, () => null))\r\n\r\n        const showValue = computed(() => {\r\n            if (!model.value) return null\r\n            if (!!props.showFormat) return props.showFormat(model.value)\r\n\r\n            let result: string[] = []\r\n            let list = formatData.value || []\r\n            for (let i = 0; i < model.value.length; i++) {\r\n                const sourceKey = model.value[i];\r\n                let flag = false\r\n                for (let j = 0; j < list.length; j++) {\r\n                    const target = list[j];\r\n                    if (sourceKey === target.key) {\r\n                        result.push(target.label)\r\n                        list = target.children || []\r\n                        flag = true\r\n                        break\r\n                    }\r\n                }\r\n                if (!flag) {\r\n                    result = [...result, ...(model.value.slice(i)) as string[]]\r\n                    break\r\n                }\r\n            }\r\n            if (props.showLast && result.length > 0) {\r\n                return result[result.length - 1]\r\n            }\r\n            return result.join(' / ')\r\n        })\r\n\r\n\r\n        const handler = {\r\n            clear: () => {\r\n                model.value = undefined\r\n                event.emit.onUpdateModelValue(model.value)\r\n\r\n                state.inputValue = null\r\n                refs.input!.methods.focus()\r\n            },\r\n            onServiceChange: (val: any, nodes: CascadeNode[]) => {\r\n                model.value = val\r\n                event.emit.onUpdateModelValue(val, nodes)\r\n            },\r\n            onInputChange: (val: string) => {\r\n                state.inputValue = val\r\n                if (!agentState.isShow.value && !ie) {\r\n                    agentState.methods.show()\r\n                }\r\n            },\r\n        }\r\n\r\n        watch(() => props.modelValue, () => {state.inputValue = null})\r\n\r\n        return {\r\n            render: () => (\r\n                <pl-input\r\n                    ref=\"input\"\r\n                    class={classes.value}\r\n                    clearIcon\r\n                    suffixIcon=\"el-icon-d-arrow-right\"\r\n                    modelValue={(agentState.isShow.value && props.filterable) ? state.inputValue : showValue.value}\r\n                    placeValue={showValue.value}\r\n                    placeholder={((agentState.isShow.value && props.filterable) ? showValue.value : (!!props.inputAttrs ? props.inputAttrs!.placeholder : null)) || ''}\r\n                    clearHandler={handler.clear}\r\n                    inputReadonly={!props.filterable}\r\n                    isFocus={agentState.state.focusCounter > 0}\r\n\r\n                    onChange={handler.onInputChange}\r\n                    {...agentState.inputHandler}\r\n                />\r\n            )\r\n        }\r\n    },\r\n})","import cascade from './cascade'\r\nimport panel from './panel/cascade-panel'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\nimport CascadeService from './service/cascade-service'\r\n\r\nconst CascadePanel = createComponentPlugin(panel)\r\n\r\nexport default createComponentPlugin(cascade, {\r\n    exposeComponents: {\r\n        CascadePanel,\r\n    },\r\n    plugins: [\r\n        CascadeService\r\n    ],\r\n    expose: {\r\n        CascadeService,\r\n    },\r\n})","import {SimpleObject} from \"../../../shims\";\r\nimport {useModel} from \"../../../use/useModel\";\r\nimport {TreeNodeCheckStatus} from \"../utils/tree-constant\";\r\nimport {computed, onBeforeUnmount, reactive, watchEffect} from 'vue';\r\nimport {throttle} from \"plain-utils/utils/throttle\";\r\n\r\n/**\r\n * 根据childrenField遍历data树形数据\r\n * @author  韦胜健\r\n * @date    2020/12/2 12:22\r\n */\r\nfunction iteratorTreeData({data, childrenField}: { data?: SimpleObject[], childrenField: string }) {\r\n    if (!!data) {\r\n        data.forEach(item => {\r\n            if (!!item[childrenField]) {\r\n                iteratorTreeData({data: item[childrenField], childrenField})\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport function useTreeNode<Node extends {\r\n    key: string,\r\n    data: SimpleObject,\r\n    level: number,\r\n    parentRef: () => Node | null,\r\n    selfRef: () => Node,\r\n\r\n    index: number,\r\n\r\n    readonly childrenData?: SimpleObject[]\r\n    readonly label?: string,\r\n    children?: Node[],\r\n    readonly checkStatus: TreeNodeCheckStatus,\r\n\r\n    expand: boolean,\r\n    check: boolean,\r\n    loading: boolean,\r\n    loaded: boolean,\r\n\r\n    readonly isCheckable: boolean,\r\n    readonly isLeaf: boolean,\r\n    readonly isVisible: boolean,\r\n}>(\r\n    {\r\n        props,\r\n        event,\r\n        keyManager,\r\n        getTreeNodeByDataAdjust,\r\n    }: {\r\n        props: {\r\n            data?: SimpleObject[],\r\n            labelField?: string,\r\n            keyField?: string,\r\n            childrenField?: string,\r\n            filterNodeMethod?: (node: Node) => boolean,\r\n            isLeaf?: (node: Node) => boolean,\r\n            isCheckable?: (node: Node) => boolean,\r\n            getChildren?: (node: Node, cb: (data: SimpleObject[]) => void) => void,\r\n            lazy?: boolean,\r\n            showCheckbox?: boolean,\r\n            checkStrictly?: boolean,\r\n        },\r\n        event: {\r\n            emit: { onUpdateData: (data?: SimpleObject[]) => void }\r\n        },\r\n        keyManager: (obj: any, keyField: string | undefined | null) => string,\r\n        getTreeNodeByDataAdjust?: (node: Node) => void,\r\n    }\r\n) {\r\n\r\n    /*内部data变量*/\r\n    const dataModel = useModel(() => props.data, event.emit.onUpdateData)\r\n\r\n\r\n    /**\r\n     * 因为滚动的时候会频繁获取checkStatus，而这个属性又是计算量比较大的属性，这里作为计算属性统一计算\r\n     * @author  韦胜健\r\n     * @date    2020/12/2 14:07\r\n     */\r\n    const checkStatus = computed(() => {\r\n        const map = {} as Record<string, TreeNodeCheckStatus>\r\n        if (!props.showCheckbox || !state.root) {\r\n            return map\r\n        }\r\n        utils.iterate({\r\n            nodes: state.root.children,\r\n            iterateChildrenFirst: true,\r\n            handler: node => {\r\n                if (props.checkStrictly || node.isLeaf) {\r\n                    map[node.key] = node.check ? TreeNodeCheckStatus.check : TreeNodeCheckStatus.uncheck\r\n                } else {\r\n                    if (node.check) {\r\n                        map[node.key] = TreeNodeCheckStatus.check\r\n                    } else {\r\n                        if (!!node.children && node.children.every(child => map[child.key] === TreeNodeCheckStatus.uncheck)) {\r\n                            map[node.key] = TreeNodeCheckStatus.uncheck\r\n                        } else {\r\n                            map[node.key] = TreeNodeCheckStatus.minus\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        })\r\n        return map\r\n    })\r\n\r\n    const utils = {\r\n        /*根据data获取Node*/\r\n        getTreeNodeByData: (() => {\r\n            const map = new WeakMap<object, Node>()\r\n            const get = ({data, level, parentRef, adjust}: { data: any, level: number, parentRef: () => Node, adjust?: (node: Node) => void }): Node => {\r\n                let node: Node | undefined = map.get(data)\r\n                if (!node) {\r\n                    node = {\r\n                        index: 0,\r\n                        key: keyManager(data, props.keyField),\r\n                        data,\r\n                        level,\r\n                        parentRef,\r\n                        selfRef() {return this},\r\n                        empty: false,\r\n                        children: [],\r\n\r\n                        get label() {return !!props.labelField && !!data ? data[props.labelField] : null},\r\n                        get childrenData() {return data[props.childrenField!]},\r\n\r\n                        expand: false,\r\n                        check: false,\r\n                        loading: false,\r\n                        loaded: !props.lazy,\r\n                        /* todo 这里并不会立即执行，当渲染VNodeChild的时候这里才会执行，所以不存在checkStatus.value不存在的问题*/\r\n                        get checkStatus() {return checkStatus.value[this.key]},\r\n                        // get checkStatus() {return TreeNodeCheckStatus.uncheck},\r\n\r\n                        get isCheckable() {return !props.isCheckable || props.isCheckable(this as any)},\r\n                        get isLeaf() {return !!props.isLeaf ? props.isLeaf(this as any) : !this.childrenData},\r\n                        get isVisible() {\r\n                            return !props.filterNodeMethod ? true : (props.filterNodeMethod(this as any) || (!!this.children && this.children.some((child: Node) => child.isVisible)))\r\n                        },\r\n                    } as any\r\n                    if (!!adjust) adjust(node!)\r\n                    map.set(data, node!)\r\n                } else {\r\n                    Object.assign(node, {\r\n                        key: keyManager(data, props.keyField),\r\n                        data,\r\n                        level,\r\n                        parentRef,\r\n                    })\r\n                }\r\n                return node!\r\n            }\r\n            return get\r\n        })(),\r\n        /**\r\n         * 重置state中的data数据\r\n         * 为什么不直接把root以及nodeMap做成计算属性。\r\n         * 因为在计算root以及nodeMap的时候，会获取 label，key以及children，如果这些字段被修改了，可能会导致\r\n         * 这个计算属性频繁执行。这里只检查子节点数据，当子节点数据变化的时候才重新执行root以及nodeMap\r\n         * @author  韦胜健\r\n         * @date    2020/12/17 16:17\r\n         */\r\n        resetData: () => {\r\n            const nodeMap = {} as Record<string, Node>;\r\n            const iterator = ({data, level, parentRef}: { data: any, level: number, parentRef: () => Node }): Node => {\r\n                const node = utils.getTreeNodeByData({data, level, parentRef, adjust: getTreeNodeByDataAdjust})\r\n                nodeMap[node.key] = node\r\n                const childrenData = !props.childrenField ? null : (data[props.childrenField!] as SimpleObject[])\r\n                if (!!childrenData) {\r\n                    node.children = childrenData.map(child => iterator({data: child, level: level + 1, parentRef: () => state.nodeMap[node.key]}))\r\n                }\r\n                return node\r\n            }\r\n            const root = iterator({\r\n                data: {\r\n                    [props.keyField || 'id']: '@@$$root',\r\n                    [props.childrenField || 'children']: dataModel.value\r\n                },\r\n                level: 0,\r\n                parentRef: null as any,\r\n            })\r\n\r\n            return {\r\n                nodeMap,\r\n                root\r\n            }\r\n        },\r\n        /*遍历所有节点数据*/\r\n        iterate: ({nodes, handler, iterateChildren, iterateChildrenFirst,}: { nodes: Node[] | undefined, handler: (node: Node) => void, iterateChildren?: (node: Node) => boolean, iterateChildrenFirst?: boolean, }) => {\r\n            if (!nodes) return\r\n            nodes.forEach(Node => {\r\n                !iterateChildrenFirst && handler(Node);\r\n                if (!!Node.children && (!iterateChildren || iterateChildren(Node))) {\r\n                    utils.iterate({nodes: Node.children, handler, iterateChildren, iterateChildrenFirst,})\r\n                }\r\n                iterateChildrenFirst && handler(Node);\r\n            })\r\n        },\r\n    }\r\n\r\n    const state = reactive((() => {\r\n        const {root, nodeMap} = utils.resetData()\r\n        return {\r\n            /*虚拟跟节点*/\r\n            root,\r\n            /*节点映射node*/\r\n            nodeMap\r\n        }\r\n    })()) as { root: Node, nodeMap: Record<string, Node> };\r\n\r\n    const stopWatchEffect = watchEffect(\r\n        () => iteratorTreeData({data: dataModel.value || [], childrenField: props.childrenField!}),\r\n        {\r\n            onTrigger: throttle(async () => {\r\n                const {root, nodeMap} = utils.resetData()\r\n                state.root = root\r\n                state.nodeMap = nodeMap\r\n            }, 100)\r\n        }\r\n    )\r\n    onBeforeUnmount(stopWatchEffect)\r\n    const methods = {\r\n        getReactiveChildrenData(node: Node) {\r\n            let childrenData = node.childrenData\r\n            if (!childrenData) {\r\n                childrenData = []\r\n                node.data[props.childrenField!] = childrenData\r\n            }\r\n            return childrenData\r\n        },\r\n        removeSelf: (node: Node) => {\r\n            const parentChildrenData = node.parentRef()!.childrenData!\r\n            parentChildrenData.splice(parentChildrenData.indexOf(node.data), 1)\r\n        },\r\n        previousSibling: (self: Node, target: Node) => {\r\n            let parentChildrenData = methods.getReactiveChildrenData(self.parentRef()!)\r\n            target.parentRef = self.parentRef\r\n            target.level = self.level\r\n            parentChildrenData.splice(parentChildrenData.indexOf(self.data), 0, target.data)\r\n        },\r\n        nextSibling: (self: Node, target: Node) => {\r\n            let parentChildrenData = methods.getReactiveChildrenData(self.parentRef()!)\r\n            target.parentRef = self.parentRef\r\n            target.level = self.level\r\n            parentChildrenData.splice(parentChildrenData.indexOf(self.data) + 1, 0, target.data)\r\n        },\r\n        unshiftChild: (self: Node, target: Node) => {\r\n            let childrenData = methods.getReactiveChildrenData(self)\r\n            target.parentRef = () => self\r\n            target.level = self.level + 1\r\n            childrenData.unshift(target.data)\r\n        },\r\n    }\r\n\r\n    return {\r\n        dataModel,\r\n        state,\r\n        utils,\r\n        methods,\r\n    }\r\n}","import {computed, nextTick, PropType} from 'vue';\r\nimport {SimpleObject} from \"../../../shims\";\r\nimport {useTreeNode} from \"./useTreeNode\";\r\nimport {TreeNodeCheckStatus} from \"../utils/tree-constant\";\r\nimport {useModel} from \"../../../use/useModel\";\r\n\r\nfunction use<Node extends {\r\n    key: string,\r\n    data: SimpleObject,\r\n    level: number,\r\n    parentRef: () => Node | null,\r\n    selfRef: () => Node,\r\n\r\n    index: number,\r\n\r\n    readonly childrenData?: SimpleObject[]\r\n    readonly label?: string,\r\n    children?: Node[],\r\n    readonly checkStatus: TreeNodeCheckStatus,\r\n\r\n    expand: boolean,\r\n    check: boolean,\r\n    loading: boolean,\r\n    loaded: boolean,\r\n\r\n    readonly isCheckable: boolean,\r\n    readonly isLeaf: boolean,\r\n    readonly isVisible: boolean,\r\n}>(\r\n    {\r\n        props,\r\n        emit,\r\n        keyManager,\r\n        getTreeNodeByDataAdjust,\r\n    }: {\r\n        props: {\r\n            /*useTreeNode*/\r\n            data?: SimpleObject[],\r\n            labelField?: string,\r\n            keyField?: string,\r\n            childrenField?: string,\r\n            filterNodeMethod?: (node: Node) => boolean,\r\n            isLeaf?: (node: Node) => boolean,\r\n            isCheckable?: (node: Node) => boolean,\r\n            getChildren?: (node: Node, cb: (data: SimpleObject[]) => void) => void,\r\n            lazy?: boolean,\r\n            showCheckbox?: boolean,\r\n            checkStrictly?: boolean,\r\n\r\n            /*useTree*/\r\n            according?: boolean,\r\n            autoExpandParent?: boolean,\r\n            expandOnClickNode?: boolean,\r\n            checkOnClickNode?: boolean,\r\n            defaultExpandAll?: boolean,\r\n            currentKey?: string,\r\n        },\r\n        emit: {\r\n            onExpand: (node: Node) => void,\r\n            onExpandChange: (keys: string[]) => void,\r\n            onCollapse: (node: Node) => void,\r\n            onCheck: (node: Node) => void,\r\n            onUncheck: (node: Node) => void,\r\n            onCheckChange: (keys: string[]) => void,\r\n            onClickNode: (node: Node) => void,\r\n            onUpdateData: (data?: SimpleObject[]) => void,\r\n            onUpdateCurrent: (key?: string) => void,\r\n        },\r\n        keyManager: (obj: any, keyField: string | undefined | null) => string,\r\n        getTreeNodeByDataAdjust?: (node: Node) => void,\r\n    }\r\n) {\r\n\r\n    const {dataModel, state, utils: treeNodeUtils, methods: treeNodeMethods} = useTreeNode<Node>({props, event: {emit}, keyManager, getTreeNodeByDataAdjust})\r\n    const current = useModel(() => props.currentKey, emit.onUpdateCurrent)\r\n\r\n    const utils = {\r\n        ...treeNodeUtils,\r\n        /*遍历key或者node*/\r\n        handleKeyOrNode: async (keyOrNode: string | Node | (string | Node)[], handler: (node: Node) => void | Promise<void>): Promise<void> => {\r\n            if (!keyOrNode) {\r\n                return\r\n            }\r\n            if (!Array.isArray(keyOrNode)) {\r\n                const node = baseMethods.getNode(keyOrNode)\r\n                if (!!node) {await handler(node)}\r\n            } else {\r\n                await Promise.all(keyOrNode.map(k => utils.handleKeyOrNode(k, handler)))\r\n            }\r\n        },\r\n        /*获取子节点数据异步方法*/\r\n        getChildrenAsync: (node: Node): Promise<SimpleObject[]> => {\r\n            return new Promise((resolve) => {\r\n                if (!props.getChildren) {\r\n                    console.error('getChildren is required when using lazy mode!')\r\n                    return\r\n                }\r\n                if (node.level === 0) {\r\n                    !!state.root && (state.root.loading = true);\r\n                } else {\r\n                    node.loading = true\r\n                }\r\n                props.getChildren(node, (results) => {\r\n                    if (node.level === 0) {\r\n                        !!state.root && (state.root.loading = false)\r\n                    } else {\r\n                        node.loading = false\r\n                        node.loaded = true\r\n                    }\r\n                    resolve(results)\r\n                })\r\n            })\r\n        },\r\n        /*获取Node所有的父节点*/\r\n        getParents: (keyOrNode: Node | string): Node[] => {\r\n            let node = baseMethods.getNode(keyOrNode)\r\n            if (!node) {return []}\r\n            let parents = [] as Node[]\r\n            let parent = node.parentRef()\r\n            /*root 是没有 parentRef的*/\r\n            while (!!parent && !!parent.parentRef) {\r\n                parents.push(parent)\r\n                parent = parent.parentRef()\r\n            }\r\n            return parents\r\n        },\r\n        /*初始化逻辑*/\r\n        init: () => {\r\n            console.log(props.lazy)\r\n            props.lazy && utils.getChildrenAsync(state.root!).then(val => {\r\n                dataModel.value = val\r\n                console.log(val)\r\n            });\r\n            props.defaultExpandAll && nextTick().then(() => expandMethods.expandAll());\r\n        },\r\n    }\r\n\r\n    /*展开的节点*/\r\n    const expandNodes = computed(() => {\r\n        if (!state.root) {return []}\r\n        let nodes: Node[] = []\r\n        utils.iterate({nodes: state.root.children, handler: (node) => node.expand && nodes.push(node),})\r\n        return nodes\r\n    })\r\n    /*选中的节点*/\r\n    const checkNodes = computed(() => {\r\n        if (!state.root) {return []}\r\n        let nodes: Node[] = []\r\n        utils.iterate({nodes: state.root.children, handler: (node) => node.check && nodes.push(node)})\r\n        return nodes\r\n    })\r\n    /*展开的keys*/\r\n    const expandKeys = computed(() => expandNodes.value.map(i => i.key))\r\n    /*选中的keys*/\r\n    const checkKeys = computed(() => checkNodes.value.map(i => i.key))\r\n\r\n    const baseMethods = {\r\n        /*设置子节点数据*/\r\n        setChildrenData: (node: Node, children: any[]) => !!props.childrenField && (node.data[props.childrenField] = children),\r\n        /*通过keyOrNode获取node*/\r\n        getNode: (keyOrNode: string | Node): Node | undefined => typeof keyOrNode === \"string\" ? state.nodeMap[keyOrNode] : keyOrNode,\r\n        /*设置当前选中行*/\r\n        setCurrent: (keyOrNode: string | Node) => current.value = typeof keyOrNode === \"string\" ? keyOrNode : keyOrNode.key,\r\n        /*获取当前选中行*/\r\n        getCurrent: (): Node | undefined => !current.value ? undefined : baseMethods.getNode(current.value),\r\n    }\r\n    const expandMethods = {\r\n        /*展开节点*/\r\n        expand: async (keyOrNode: string | Node | (string | Node)[]) => {\r\n            await utils.handleKeyOrNode(keyOrNode,\r\n                async (node) => {\r\n                    const parent = node.parentRef()\r\n                    if (!node.expand) {\r\n                        if (\r\n                            props.lazy &&                           // 懒加载模式\r\n                            !node.loaded &&                         // 未曾加载过子节点数据\r\n                            !node.isLeaf                            // 节点不是叶子节点\r\n                        ) {\r\n                            const childrenData = await utils.getChildrenAsync(node)\r\n                            baseMethods.setChildrenData(node, childrenData || [])\r\n                            await nextTick()\r\n                        }\r\n\r\n                        if (props.according) {\r\n                            // 手风琴模式，展开某一个节点的时候，关闭兄弟节点\r\n                            if (!!parent && !!parent.children) {\r\n                                parent.children.forEach((child) => child.key !== node.key && expandMethods.collapse(child))\r\n                            }\r\n                        }\r\n                        node.expand = true\r\n                        await nextTick()\r\n\r\n                        emit.onExpand(node)\r\n                        emit.onExpandChange(expandKeys.value)\r\n                    }\r\n                    if (!!props.autoExpandParent && !!parent && parent.level !== 0) {\r\n                        await expandMethods.expand(parent)\r\n                    }\r\n                })\r\n        },\r\n        /*收起节点*/\r\n        collapse: async (keyOrNode: string | Node | (string | Node)[]) => {\r\n            await utils.handleKeyOrNode(keyOrNode,\r\n                async (node) => {\r\n                    await utils.iterate({\r\n                        nodes: [node, ...(node.children || [])],\r\n                        handler: (node) => {\r\n                            if (node.expand) {\r\n                                node.expand = false\r\n                                emit.onCollapse(node)\r\n                            }\r\n                        }\r\n                    })\r\n                    await nextTick()\r\n                    emit.onExpandChange(expandKeys.value)\r\n                })\r\n        },\r\n        /*展开或者收起节点*/\r\n        toggleExpand: (keyOrNode: string | Node) => {\r\n            const node = baseMethods.getNode(keyOrNode)\r\n            if (!node) {return}\r\n            node.expand ? expandMethods.collapse(keyOrNode) : expandMethods.expand(keyOrNode)\r\n        },\r\n        /*展开所有节点*/\r\n        expandAll: () => utils.iterate({nodes: state.root!.children, handler: node => node.expand = true}),\r\n        /*收起所有节点*/\r\n        collapseAll: () => expandNodes.value.forEach(node => node.expand = false),\r\n    }\r\n\r\n    const checkMethods = {\r\n        /*选中节点*/\r\n        check: async (keyOrNode: string | Node | (string | Node)[]) => {\r\n            await utils.handleKeyOrNode(keyOrNode, async (node) => {\r\n                if (node.check || !node.isCheckable) {return}\r\n                node.check = true\r\n                // 父子关联模式下，改变子节点以及父节点状态\r\n                if (!props.checkStrictly) {\r\n                    // 选中所有子节点\r\n                    utils.iterate({nodes: node.children, handler: (child) => child.check = true,})\r\n                    // 更新父节点状态，如果父节点所有的子节点都处于选中状态，则更新父节点为选中状态\r\n                    let parent = node.parentRef()\r\n                    while (!!parent && !!parent.key) {\r\n                        if (!!parent.parentRef && parent.children!.every(child => child.check)) {\r\n                            parent.check = true\r\n                            parent = !!parent.parentRef ? parent.parentRef() : null\r\n                        } else {\r\n                            break\r\n                        }\r\n                    }\r\n                }\r\n                await nextTick()\r\n                emit.onCheck(node)\r\n                emit.onCheckChange(checkKeys.value)\r\n            })\r\n        },\r\n        /*取消选中节点*/\r\n        uncheck: async (keyOrNode: string | Node | (string | Node)[]) => {\r\n            await utils.handleKeyOrNode(keyOrNode, async node => {\r\n                if (!node.check || !node.isCheckable) {return}\r\n                node.check = false\r\n                // 父子关联模式下，改变子节点以及父节点状态\r\n                if (!props.checkStrictly) {\r\n                    // 取消选中所有子节点\r\n                    utils.iterate({nodes: node.children, handler: (child) => child.check = false,})\r\n                    // 更新父节点状态，如果父节点所有的子节点都处于非选中状态，则更新父节点为非选中状态\r\n                    let parent = node.parentRef()\r\n                    while (!!parent && !!parent.key) {\r\n                        if (parent.check) {\r\n                            parent.check = false\r\n                            parent = parent.parentRef()\r\n                        } else {\r\n                            break\r\n                        }\r\n                    }\r\n                }\r\n\r\n                await nextTick()\r\n                emit.onUncheck(node)\r\n                emit.onCheckChange(checkKeys.value)\r\n            })\r\n        },\r\n        /*选中或者取消选中节点*/\r\n        toggleCheck: (keyOrNode: string | Node) => {\r\n            const node = baseMethods.getNode(keyOrNode)\r\n            if (!node) return\r\n            node.check ? checkMethods.uncheck(keyOrNode) : checkMethods.check(keyOrNode)\r\n        },\r\n        /*选中所有节点*/\r\n        checkAll: () => utils.iterate({nodes: state.root!.children, handler: node => node.check = true}),\r\n        /*取消选中所有节点*/\r\n        uncheckAll: () => checkNodes.value.forEach(node => node.check = false),\r\n        /*获取所有选中的节点*/\r\n        getCheckedData: () => checkNodes.value,\r\n        /*刷新所有节点的选中状态*/\r\n        refreshCheckStatus: async (keyOrNode: string | Node) => {\r\n            if (!props.showCheckbox) return\r\n            if (props.checkStrictly) return;\r\n            const node = baseMethods.getNode(keyOrNode)\r\n            if (!node) {return }\r\n            const nodes = [] as Node[]\r\n            utils.iterate({\r\n                nodes: node.children,\r\n                handler: node => {nodes.unshift(node)},\r\n                iterateChildrenFirst: true,\r\n            })\r\n            nodes.unshift(node)\r\n            nodes.unshift(...utils.getParents(node).reverse())\r\n            nodes.reverse().forEach(node => {\r\n                /*刷新选中状态的前提是有子节点数据*/\r\n                if (node.isLeaf || !node.children || node.children.length === 0) return\r\n                let hasCheck = false, hasUncheck = false;\r\n                node.children.forEach(child => child.check ? hasCheck = true : hasUncheck = true)\r\n                if (node.check && hasUncheck) {\r\n                    // 自身选中而子节点有非选中,取消当前节点的选中状态\r\n                    node.check = false\r\n                }\r\n                if (!node.check && hasCheck && !hasUncheck) {\r\n                    // 自身非选中而子节点全部选中，选中当前节点\r\n                    node.check = true\r\n                }\r\n            })\r\n        },\r\n    }\r\n\r\n    const handler = {\r\n        /*点击展开图标*/\r\n        onClickExpandIcon: async (e: MouseEvent, node: Node) => {\r\n            e.stopPropagation()\r\n            await expandMethods.toggleExpand(node)\r\n        },\r\n        /*点击复选框*/\r\n        onClickCheckbox: async (e: MouseEvent, node: Node) => {\r\n            e.stopPropagation()\r\n            await checkMethods.toggleCheck(node)\r\n        },\r\n        /*点击行*/\r\n        onClickCell: async (e: MouseEvent, node: Node) => {\r\n            emit.onClickNode(node)\r\n            baseMethods.setCurrent(node)\r\n            props.expandOnClickNode && (await expandMethods.toggleExpand(node));\r\n            props.checkOnClickNode && (await checkMethods.toggleCheck(node));\r\n        },\r\n    }\r\n\r\n    utils.init()\r\n\r\n    return {\r\n        dataModel,\r\n        state,\r\n        current,\r\n        utils,\r\n        handler,\r\n        methods: {\r\n            ...baseMethods,\r\n            expandMethods,\r\n            checkMethods,\r\n            treeNodeMethods,\r\n        },\r\n    }\r\n}\r\n\r\nexport const useTree = Object.assign(use, {\r\n    createProps: <Node>() => {\r\n        return {\r\n            /*useTreeNode*/\r\n            data: {type: Array as PropType<SimpleObject[]>},            // 树形结构数据\r\n            keyField: {type: String},                                   // 每一个树节点用来标识的唯一树形\r\n            labelField: {type: String},                                 // 树节点展示文本对应字段\r\n            childrenField: {type: String},                              // 树节点对应子节点数据对应字段\r\n\r\n            filterNodeMethod: {type: Function as PropType<(node: Node) => boolean>},// 对树节点进行筛选的方法，返回true表示可以显示，返回false表示隐藏\r\n            isLeaf: {type: Function as PropType<(node: Node) => boolean>},// 判断树节点是否为叶子节点的函数，仅在lazy模式有效\r\n            isCheckable: {type: Function as PropType<(node: Node) => boolean>},     // 当即将选中树节点时，判断是否可以选中该树节点\r\n            getChildren: {type: Function as PropType<(node: Node, cb: (data: SimpleObject[]) => void) => void>},// 加载子节点数据的函数，仅当 lazy 为true时有效\r\n            lazy: {type: Boolean},                                      // 是否懒加载子节点数据\r\n            showCheckbox: {type: Boolean},                              // 是否展示勾选框\r\n            checkStrictly: {type: Boolean},                             // 在显示复选框的情况下，是否严格遵循父子互不关联的做法，默认为false\r\n\r\n            /*useTree*/\r\n            according: {type: Boolean},                                 // 是否每次只展开一个同级的树节点\r\n            autoExpandParent: {type: Boolean, default: true},           // 是否展开节点的时候，自动展开父节点\r\n            expandOnClickNode: {type: Boolean, default: true},          // 是否点击树节点的时候展开子节点\r\n            checkOnClickNode: {type: Boolean},                          // 是否点击树节点的时候选中节点\r\n            defaultExpandAll: {type: Boolean},                          // 是否默认展开所有节点\r\n            currentKey: {type: String},                                 // 当前选中节点的key\r\n        }\r\n    },\r\n    createEvent: <Node>() => {\r\n        return {\r\n            onClickNode: (node: Node) => true,                          // 点击节点事件\r\n            onUpdateCurrent: (current?: string) => true,                // 当前高亮节点key变化绑定事件\r\n            onCurrentChange: (node: Node | null) => true,               // 当前高亮节点变化事件\r\n            onUpdateData: (data?: SimpleObject[]) => true,              // 数据变化事件（拖拽排序、数据懒加载）\r\n\r\n            onExpandChange: (expandKeys: string[]) => true,             // 展开节点变化事件\r\n            onExpand: (node: Node) => true,                             // 展开事件\r\n            onCollapse: (node: Node) => true,                           // 关闭节点事件\r\n\r\n            onCheckChange: (checkKeys: string[]) => true,               // 选中节点变化事件\r\n            onCheck: (node: Node) => true,                              // 选中节点事件\r\n            onUncheck: (node: Node) => true,                            // 取消选中节点事件\r\n        }\r\n    }\r\n})\r\n\r\n","import {TreeNode, TreePropsType} from \"./type\";\r\nimport {PropType} from 'vue';\r\nimport {useTree} from \"../core/useTree\";\r\nimport nodeIcon = TreePropsType.nodeIcon;\r\nimport renderContent = TreePropsType.renderContent;\r\nimport allDrag = TreePropsType.allowDrag;\r\nimport allDrop = TreePropsType.allowDrop;\r\n\r\nexport const TreeProps = {\r\n    ...useTree.createProps<TreeNode>(),\r\n    /*基础属性*/\r\n    loading: {type: Boolean},                                   // 当前是否处于loading状态\r\n    nodeIcon: {type: Function as PropType<nodeIcon>},           // 节点图标\r\n    nodeHeight: {type: Number, default: 40},                    // 节点高度\r\n    height: {type: String, default: '100%'},                    // 容器高度\r\n    /*普通属性*/\r\n    renderContent: {type: Function as PropType<renderContent>}, // 树节点内容渲染函数\r\n    /*展开相关属性*/\r\n    emptyText: {type: String, default: '暂无数据'},              // 没有子节点的时候展示的文本\r\n    expandIcon: {type: String},                                 // 树展开图标\r\n    intent: {type: Number, default: 22},                        // 相邻级节点水平缩进距离，默认16，单位px\r\n    /*拖拽属性*/\r\n    draggable: {type: Boolean},                                 // 是否可拖拽\r\n    allowDrag: {type: Function as PropType<allDrag>},           // 判断节点是否可以拖拽\r\n    allowDrop: {type: Function as PropType<allDrop>},           // 判断目标节点能够被放置\r\n\r\n    folderCollapseIcon: {type: String, default: 'el-icon-folder-s'},\r\n    folderExpandIcon: {type: String, default: 'el-icon-folder-opened'},\r\n    leafIcon: {type: String, default: 'el-icon-document'},\r\n\r\n    virtual: {type: Boolean},                                   // 是否开启虚拟滚动\r\n}","import {TreeNode} from \"./type\";\r\n\r\nconst basePadding = 8\r\n\r\nexport const TreeUtils = {\r\n    getPaddingLeft: (level: number, intent: number) => {\r\n        return basePadding + (level - 1) * intent\r\n    },\r\n    /**\r\n     * 计算treeNode的样式\r\n     * @author  韦胜健\r\n     * @date    2020/11/28 9:25\r\n     */\r\n    getTreeNodeStyles: (level: number, intent: number, nodeHeight: number) => {\r\n        const basePadding = 8\r\n        return {\r\n            paddingLeft: `${TreeUtils.getPaddingLeft(level, intent)}px`,\r\n            paddingRight: `${basePadding}px`,\r\n            height: `${nodeHeight}px`,\r\n        }\r\n    },\r\n    /**\r\n     * 计算tree node的class\r\n     * @author  韦胜健\r\n     * @date    2020/11/28 10:35\r\n     */\r\n    getTreeNodeClasses: (node: TreeNode, current?: string) => {\r\n        return [\r\n            'pl-tree-node',\r\n            {\r\n                'pl-tree-node-current': node.key === current,\r\n                'pl-tree-node-not-checkable': !node.isCheckable,\r\n            }\r\n        ]\r\n    },\r\n}","import Scroll from '../packages/scroll/scroll'\r\nimport {addClass} from \"plain-utils/dom/addClass\";\r\nimport {nextIndex} from \"../utils/nextIndex\";\r\nimport {StyleProperties} from \"../shims\";\r\n\r\nfunction createIndicator(hostEl: HTMLElement, vertical: boolean) {\r\n\r\n    const indicatorSize = 15\r\n\r\n    const {top, height, left, width} = hostEl.getBoundingClientRect()\r\n\r\n    const indicator = {\r\n        start: document.createElement('div'),\r\n        end: document.createElement('div'),\r\n    }\r\n\r\n    addClass(indicator.start, `pl-auto-scroll-indicator-start pl-auto-scroll-indicator-${vertical ? 'vertical' : 'horizontal'}`)\r\n    addClass(indicator.end, `pl-auto-scroll-indicator-end pl-auto-scroll-indicator-${vertical ? 'vertical' : 'horizontal'}`)\r\n\r\n    const publicStyles = {\r\n        position: 'fixed',\r\n        left: `${left}px`,\r\n        top: `${top}px`,\r\n\r\n        width: `${vertical ? width : indicatorSize}px`,\r\n        height: `${vertical ? indicatorSize : height}px`,\r\n        zIndex: `${nextIndex()}`,\r\n    } as StyleProperties\r\n\r\n    Object.assign(indicator.start.style, publicStyles)\r\n\r\n    if (vertical) {\r\n        let bottomIndicatorTop = top + height - indicatorSize\r\n        bottomIndicatorTop = Math.min(bottomIndicatorTop, document.body.offsetHeight - indicatorSize)\r\n\r\n        Object.assign(indicator.end.style, {\r\n            ...publicStyles,\r\n            top: `${bottomIndicatorTop}px`,\r\n        } as StyleProperties)\r\n    } else {\r\n        let rightIndicatorLeft = left + width - indicatorSize\r\n        rightIndicatorLeft = Math.min(rightIndicatorLeft, document.body.offsetWidth - indicatorSize)\r\n        Object.assign(indicator.end.style, {\r\n            ...publicStyles,\r\n            left: `${rightIndicatorLeft}px`,\r\n        } as StyleProperties)\r\n    }\r\n\r\n    document.body.appendChild(indicator.start)\r\n    document.body.appendChild(indicator.end)\r\n\r\n    return indicator\r\n}\r\n\r\nexport function useAutoScroll(config: {\r\n    getScroll: () => typeof Scroll.use.class,\r\n    vertical: boolean,\r\n}) {\r\n\r\n    let {getScroll, vertical} = config\r\n\r\n    const state = {\r\n        indicator: null as null | ReturnType<typeof createIndicator>\r\n    }\r\n\r\n    const methods = {\r\n        showHover() {\r\n\r\n            const scroll = getScroll()\r\n            state.indicator = createIndicator(scroll.refs.host, vertical)\r\n\r\n            const handler = {\r\n                enterStart: () => {\r\n                    vertical ? scroll.methods.autoScrollTop() : scroll.methods.autoScrollLeft()\r\n                },\r\n                enterEnd: () => {\r\n                    vertical ? scroll.methods.autoScrollBottom() : scroll.methods.autoScrollRight()\r\n                },\r\n                leave: () => {\r\n                    scroll.methods.stopAutoScroll()\r\n                }\r\n            }\r\n\r\n            state.indicator.start.addEventListener('mouseenter', handler.enterStart)\r\n            state.indicator.end.addEventListener('mouseenter', handler.enterEnd)\r\n\r\n            state.indicator.start.addEventListener('mouseleave', handler.leave)\r\n            state.indicator.end.addEventListener('mouseleave', handler.leave)\r\n        },\r\n        hideHover() {\r\n            if (!!state.indicator) {\r\n                state.indicator.start.parentNode!.removeChild(state.indicator.start)\r\n                state.indicator.end.parentNode!.removeChild(state.indicator.end)\r\n            }\r\n        },\r\n    }\r\n\r\n    return methods\r\n\r\n}","/**\r\n * 获取拖拽的rowEl对象\r\n * @author  韦胜健\r\n * @date    2020/8/19 23:55\r\n */\r\nimport {hasClass} from \"plain-utils/dom/hasClass\";\r\n\r\nexport function getRowEl(e: MouseEvent, rowClass: string): HTMLElement {\r\n    let rowEl = e.target as HTMLElement\r\n    while (!!rowEl && !hasClass(rowEl, rowClass)) {\r\n        rowEl = rowEl.parentNode as HTMLElement\r\n    }\r\n    if (!rowEl) {\r\n        console.log({e, rowClass})\r\n        throw new Error(`can't find item element!`)\r\n    }\r\n    return rowEl\r\n}","/**\r\n * 获取可以滚动的父组件\r\n * @author  韦胜健\r\n * @date    2020/8/19 23:50\r\n */\r\nexport function getScrollParent(el: HTMLElement): HTMLElement {\r\n    while (!!el && el.scrollHeight <= el.offsetHeight) {\r\n        el = el.parentNode as HTMLElement\r\n    }\r\n    return el\r\n}","import {TreeDropType} from \"../utils/tree-constant\";\r\nimport {useAutoScroll} from \"../../../use/useAutoScroll\";\r\nimport Scroll from \"../../scroll/scroll\";\r\nimport {StyleProperties} from \"../../../shims\";\r\nimport {getRowEl} from \"../../../utils/getRowEl\";\r\nimport {getScrollParent} from \"../../../utils/getScrollParent\";\r\n\r\nconst indicatorSize = 3;\r\n\r\nexport function useTreeDraggier<T extends {\r\n    key: string,\r\n    index: number,\r\n    isLeaf: boolean,\r\n    level: number,\r\n    parentRef: () => T | null,\r\n    children?: T[],\r\n    check?: boolean,\r\n    empty: boolean,\r\n}>(\r\n    {\r\n        rowClass,\r\n        dragClass,\r\n        flatList,\r\n        getScroll,\r\n        props,\r\n        methods,\r\n    }: {\r\n        rowClass: string,                                   // 行 class 标识\r\n        dragClass: string,                                  // 拖拽的节点class标识\r\n        flatList: { value: T[] },                           // 拍平的数据\r\n        getScroll: () => typeof Scroll.use.class,           // 获取 Scroll 组件实例引\r\n        props: {\r\n            intent: number,                                 // 层级偏移距离\r\n            allowDrag?: (node: T) => boolean | undefined,   // 判断元素是否可以拖拽\r\n            allowDrop?: (start: T, move: T, dropType: TreeDropType) => boolean | undefined,// 判断元素是否可以放置\r\n        },\r\n        methods: {\r\n            expand: (node: T) => void,                      // 展开某个元素\r\n            refreshCheckStatus: () => void,                 // 刷新所有元素的选中状态\r\n            removeSelf: (node: T) => void,\r\n            previousSibling: (self: T, target: T) => void,\r\n            nextSibling: (self: T, target: T) => void,\r\n            unshiftChild: (self: T, target: T) => void,\r\n        },\r\n    }\r\n) {\r\n\r\n    const state = {\r\n\r\n        startNode: null as null | T,                    // 拖拽开始的时候节点\r\n        moveNode: null as null | T,                     // 拖拽移动过程中的节点\r\n\r\n        startScrollTop: 0,                              // 开始拖拽的时候，滚动容器的scrollTop\r\n        moveScrollTop: 0,                               // 拖拽移动过程中，滚动容器的scrollTop\r\n\r\n        startClientY: 0,                                // 开始拖拽的时候，鼠标的clientY值\r\n        moveClientY: 0,                                 // 拖拽过程中，鼠标的clientY值\r\n\r\n        rowHeight: 0,                                   // 行高（不可变，每行高度都必须一样）\r\n        scrollParent: null as null | HTMLElement,       // 滚动容器节点\r\n        rowEl: null as null | HTMLElement,              // 拖拽开始的时候，节点的行dom对象\r\n        scrollParentRect: {                             // 滚动容器的位置属性\r\n            top: 0,\r\n            left: 0,\r\n            width: 0,\r\n            height: 0,\r\n        },\r\n        indicator: null as null | HTMLElement,          // 指示器dom对象\r\n        dragNodeBaseLeft: 0,                            // dragNode(dragClass标识的拖拽元素)的left属性\r\n\r\n        dropType: TreeDropType.inner,                   // 当前拖拽移动过程中的放置类型\r\n        droppable: false,                               // 当前拖拽过程中，是否可放置\r\n    }\r\n\r\n    const autoScroll = useAutoScroll({vertical: true, getScroll,})\r\n\r\n    const utils = {\r\n        /**\r\n         * 获取目标节点所有父节点\r\n         * @author  韦胜健\r\n         * @date    2020/8/25 16:33\r\n         */\r\n        getParents: (node: T | null) => {\r\n            const parents = [] as T[]\r\n            while (!!node && node.level > 0) {\r\n                parents.push(node)\r\n                node = node.parentRef()\r\n            }\r\n            return parents\r\n        },\r\n        allowRowDraggable: (node: T) => {\r\n            return !props.allowDrag || props.allowDrag(node) !== false\r\n        },\r\n        allowRowDroppable: (startNode: T, moveNode: T, dropType: TreeDropType) => {\r\n            return !props.allowDrop || props.allowDrop(startNode, moveNode, dropType) !== false\r\n        },\r\n        getIndicatorStyles(moveNode: T, droppable: boolean, dropType: TreeDropType) {\r\n\r\n            const styles: StyleProperties = {}\r\n\r\n            let top = moveNode.index * state.rowHeight + state.scrollParentRect.top - (state.moveScrollTop)\r\n            let paddingLeft = (moveNode.level - state.startNode!.level) * props.intent\r\n\r\n            styles.top = `${dropType === TreeDropType.next ? top + state.rowHeight - indicatorSize : top}px`\r\n            styles.left = `${state.dragNodeBaseLeft + paddingLeft}px`\r\n            styles.width = `${state.scrollParentRect.width - (state.dragNodeBaseLeft - state.scrollParentRect.left) - paddingLeft}px`\r\n            styles.height = `${dropType === TreeDropType.inner ? state.rowHeight : indicatorSize}px`\r\n            styles.backgroundColor = droppable ? '#12b4a5' : '#F38585'\r\n            styles.opacity = dropType === TreeDropType.inner ? '0.15' : ''\r\n\r\n            return styles\r\n        },\r\n        refresh() {\r\n            const top = state.startClientY - state.scrollParentRect.top + (state.moveScrollTop) + (state.moveClientY - state.startClientY)\r\n            let targetIndex = top / state.rowHeight\r\n            const external = targetIndex % 1\r\n            targetIndex = Math.floor(targetIndex)\r\n            let dropType: TreeDropType = external < 0.3 ? TreeDropType.prev : external > 0.7 ? TreeDropType.next : TreeDropType.inner\r\n            const moveNode = flatList.value[targetIndex]\r\n            if (!moveNode) {\r\n                return\r\n            }\r\n\r\n            let droppable = true\r\n\r\n            state.moveNode = moveNode\r\n            if (state.moveNode.empty) {\r\n                droppable = false\r\n            } else {\r\n                const parents = utils.getParents(state.moveNode)\r\n                if (parents.map(n => n.key).indexOf(state.startNode!.key) > -1) {\r\n                    droppable = false\r\n                }\r\n                if (!utils.allowRowDroppable(state.startNode!, moveNode, dropType)) {\r\n                    droppable = false\r\n                }\r\n            }\r\n\r\n            state.dropType = dropType\r\n            state.droppable = droppable\r\n\r\n            Object.assign(state.indicator!.style, utils.getIndicatorStyles(moveNode, droppable, dropType))\r\n        },\r\n    }\r\n\r\n    const handler = {\r\n        mousedown: (e: DragEvent) => {\r\n            state.startClientY = state.moveClientY = e.clientY\r\n\r\n            state.rowEl = getRowEl(e, rowClass)\r\n            state.rowHeight = state.rowEl.offsetHeight\r\n            const vid = Number(state.rowEl.getAttribute('vid'))\r\n            state.moveNode = state.startNode = flatList.value[vid]\r\n\r\n            if (!utils.allowRowDraggable(state.startNode)) {\r\n                return\r\n            }\r\n\r\n            const dragNode = state.rowEl.querySelector(`.${dragClass}`)!\r\n            state.dragNodeBaseLeft = Math.ceil(dragNode.getBoundingClientRect()!.left)\r\n\r\n            state.scrollParent = getScrollParent(state.rowEl)\r\n            state.startScrollTop = state.moveScrollTop = state.scrollParent.scrollTop\r\n            const {top, left, height, width} = (state.scrollParent.parentNode as HTMLElement).getBoundingClientRect()\r\n            state.scrollParentRect = {top, left, height, width}\r\n\r\n            state.indicator = document.createElement('div')\r\n            state.indicator.style.position = 'fixed'\r\n            state.indicator.style.pointerEvents = 'none'\r\n            state.indicator.style.height = `${indicatorSize}px`\r\n            state.indicator.style.width = `${state.scrollParentRect.width}px`\r\n            state.indicator.style.left = `${state.scrollParentRect.left}px`\r\n            state.indicator.style.backgroundColor = '#12b4a5'\r\n            document.body.appendChild(state.indicator)\r\n\r\n            state.scrollParent.addEventListener('scroll', handler.scroll)\r\n            document.addEventListener('mousemove', handler.mousemove)\r\n            document.addEventListener('mouseup', handler.mouseup)\r\n\r\n            utils.refresh()\r\n            autoScroll.showHover()\r\n        },\r\n        scroll() {\r\n            state.moveScrollTop = state.scrollParent!.scrollTop\r\n            utils.refresh()\r\n        },\r\n        /**\r\n         * 在dragover中判断clientX以及clientY，如果这两个值没有变化，就不往下执行，节省性能\r\n         * @author  韦胜健\r\n         * @date    2020/8/25 22:22\r\n         */\r\n        mousemove: (e: MouseEvent) => {\r\n            const {top, height} = state.scrollParentRect\r\n            if (e.clientY < top || e.clientY > top + height) {\r\n                return;\r\n            }\r\n            state.moveClientY = e.clientY\r\n            utils.refresh()\r\n        },\r\n        mouseup: () => {\r\n\r\n            autoScroll.hideHover()\r\n\r\n            const {startNode, moveNode, dropType, droppable} = state\r\n\r\n            state.scrollParent!.removeEventListener('scroll', handler.scroll)\r\n            document.removeEventListener('mousemove', handler.mousemove)\r\n            document.removeEventListener('mouseup', handler.mouseup)\r\n\r\n            state.indicator!.parentNode!.removeChild(state.indicator!)\r\n            state.startClientY = state.moveClientY = 0\r\n            state.rowEl = null\r\n            state.rowHeight = 0\r\n            state.moveNode = null\r\n            state.dragNodeBaseLeft = 0\r\n            state.scrollParent = null\r\n            state.startScrollTop = 0\r\n            state.scrollParentRect = {top: 0, left: 0, height: 0, width: 0}\r\n\r\n            if (!droppable) {\r\n                return\r\n            }\r\n\r\n            methods.removeSelf(startNode!)\r\n\r\n            switch (dropType) {\r\n                case TreeDropType.prev:\r\n                    methods.previousSibling(moveNode!, startNode!)\r\n                    break\r\n                case TreeDropType.inner:\r\n                    methods.unshiftChild(moveNode!, startNode!)\r\n                    methods.expand(moveNode!)\r\n                    break\r\n                case TreeDropType.next:\r\n                    methods.nextSibling(moveNode!, startNode!)\r\n                    break\r\n            }\r\n            methods.refreshCheckStatus()\r\n        }\r\n    }\r\n\r\n    return {\r\n        handler,\r\n        utils,\r\n    }\r\n\r\n}","import {designComponent} from \"../../use/designComponent\";\r\nimport {useScopedSlots} from \"../../use/useScopedSlots\";\r\nimport {computed, PropType} from 'vue';\r\nimport './tree.scss'\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {TreeProps} from \"./utils/props\";\r\nimport {TreeUtils} from \"./utils/tree.utils\";\r\nimport {TreeNode} from \"./utils/type\";\r\nimport VirtualList from '../virutal-list/virtual-list'\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport {useTreeDraggier} from './core/useTreeDraggier';\r\nimport Scroll from '../scroll/scroll'\r\nimport {delay} from \"plain-utils/utils/delay\";\r\nimport {useTree} from \"./core/useTree\";\r\nimport {createKeyHandler} from \"../../utils/createKeyHandler\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-tree',\r\n    props: {\r\n        ...TreeProps,\r\n    },\r\n    emits: useTree.createEvent<TreeNode>(),\r\n    setup({props, event}) {\r\n\r\n        const {emit} = event\r\n        const {refs} = useRefs({list: VirtualList, scroll: Scroll,})\r\n        const {scopedSlots} = useScopedSlots({default: {node: Object as PropType<TreeNode>, index: Number},})\r\n        const {state, methods, current, handler, utils} = useTree<TreeNode>({props, emit, keyManager: createKeyHandler('tree'),})\r\n\r\n        /*tree node content公共的样式*/\r\n        const contentStyles = useStyles(style => {style.height = `${props.nodeHeight}px`})\r\n        /**\r\n         * 拍-平的树形数据（不拍平无法实现虚拟滚动）\r\n         * @author  韦胜健\r\n         * @date    2020/12/2 12:16\r\n         */\r\n        const flatList = computed(() => {\r\n            let result: (TreeNode)[] = []\r\n            if (!state.root) {\r\n                return []\r\n            }\r\n            utils.iterate({\r\n                nodes: state.root.children,\r\n                iterateChildren: (treeNode) => treeNode.expand,\r\n                handler: (treeNode) => {\r\n                    result.push(treeNode)\r\n                    // console.log(treeNode.label, {'!treeNode.isLeaf': !treeNode.isLeaf, 'treeNode.loaded': treeNode.loaded, 'treeNode.isVisible': treeNode.isVisible, 'treeNode.expand': treeNode.expand, 'treeNode.children': treeNode.children,})\r\n                    if (\r\n                        !treeNode.isLeaf &&\r\n                        treeNode.loaded &&\r\n                        treeNode.isVisible &&\r\n                        treeNode.expand &&\r\n                        treeNode.children!.length === 0\r\n                    ) {\r\n                        result.push({\r\n                            key: `@@empty_${treeNode.key}`,\r\n                            parentRef: () => treeNode,\r\n                            empty: true,\r\n                            level: treeNode.level + 1,\r\n                        } as TreeNode)\r\n                    }\r\n                },\r\n            },)\r\n            result = result.filter((treeNode) => treeNode.empty ? true : !!treeNode.isVisible)\r\n            result.forEach((node, index) => node.index = index)\r\n            return result\r\n        })\r\n\r\n        const exposeMethods = {\r\n            ...methods,\r\n            ...methods.expandMethods,\r\n            ...methods.checkMethods,\r\n            ...methods.treeNodeMethods,\r\n        }\r\n\r\n        /*---------------------------------------draggier-------------------------------------------*/\r\n\r\n        const draggier = useTreeDraggier<TreeNode>({\r\n            rowClass: 'pl-tree-node',\r\n            dragClass: 'pl-tree-node-draggier',\r\n            flatList,\r\n            getScroll: () => props.virtual ? refs.list!.refs.scroll! : refs.scroll!,\r\n            props,\r\n            methods: {\r\n                ...exposeMethods,\r\n                refreshCheckStatus: async () => {\r\n                    await delay(120)\r\n                    flatList.value.forEach(methods.checkMethods.refreshCheckStatus)\r\n                },\r\n            },\r\n        })\r\n\r\n        const render = {\r\n            node: (node: TreeNode, index: number) => {\r\n                if (node.empty) {\r\n                    return render.empty(node)\r\n                }\r\n                return (\r\n                    <pl-item\r\n                        key={node.key}\r\n                        class={TreeUtils.getTreeNodeClasses(node, current.value)}\r\n                        style={TreeUtils.getTreeNodeStyles(node.level, props.intent, props.nodeHeight)}\r\n                        vid={index}>\r\n\r\n                        <div class=\"pl-tree-node-operator\">\r\n                            {!!props.showCheckbox && <pl-checkbox\r\n                                checkStatus={node.checkStatus}\r\n                                disabled={!node.isCheckable}\r\n                                onClick={(e: MouseEvent) => handler.onClickCheckbox(e, node)}\r\n                            />}\r\n                            <div class=\"pl-tree-node-expander\">\r\n                                {node.loading ?\r\n                                    <pl-loading type=\"gamma\"/> :\r\n                                    <pl-icon icon={node.isLeaf ? props.leafIcon : node.expand ? props.folderExpandIcon : props.folderCollapseIcon}\r\n                                             onClick={(e: MouseEvent) => handler.onClickExpandIcon(e, node)}/>\r\n                                }\r\n                            </div>\r\n                            {!!props.draggable && <pl-icon icon=\"el-icon-list\" class=\"pl-tree-node-draggier\" onMousedown={draggier.handler.mousedown}/>}\r\n                            {!!props.nodeIcon && <pl-icon icon={props.nodeIcon(node)}/>}\r\n                        </div>\r\n                        <div class=\"pl-tree-node-content\"\r\n                             style={contentStyles.value}\r\n                             onClick={(e: MouseEvent) => handler.onClickCell(e, node)}>\r\n                            {scopedSlots.default({node, index}, !!props.renderContent ? props.renderContent({node, index}) : node.label)}\r\n                        </div>\r\n                    </pl-item>\r\n                )\r\n            },\r\n            empty: (emptyNode: TreeNode) => {\r\n                const parent = emptyNode.parentRef()!\r\n                return (\r\n                    <pl-item\r\n                        key={`${parent.key}_empty`}\r\n                        class=\"pl-tree-node pl-tree-empty-node\"\r\n                        style={TreeUtils.getTreeNodeStyles(parent.level + 1, props.intent, props.nodeHeight)}>\r\n                        <div class=\"pl-tree-node-operator\">\r\n                            <div class=\"pl-tree-node-expander\">\r\n                                <pl-icon icon=\"el-icon-close-bold\"/>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"pl-tree-node-content\" style={contentStyles.value}>\r\n                            <span>{props.emptyText}</span>\r\n                        </div>\r\n                    </pl-item>\r\n                )\r\n            },\r\n        }\r\n\r\n        return {\r\n            refer: {\r\n                ...exposeMethods,\r\n            },\r\n            render: () => {\r\n                return (\r\n                    <div class=\"pl-tree\" style={{height: props.height}} v-loading={props.loading || (!!state.root && state.root.loading)}>\r\n                        {flatList.value.length === 0 ? (\r\n                            <div class=\"pl-tree-placeholder\" key=\"placeholder\">\r\n                                <pl-icon icon=\"el-icon-folder-opened\"/>\r\n                                <span>{props.emptyText}</span>\r\n                            </div>\r\n                        ) : (\r\n                            props.virtual ?\r\n                                (<pl-virtual-list\r\n                                    ref=\"list\"\r\n                                    data={flatList.value}\r\n                                    size={props.nodeHeight}\r\n                                    v-slots={{\r\n                                        // default: ({item, index}: { item: TreeNode, index: number }) => render.node(item, index),\r\n                                        content: ({data}: { data: { item: TreeNode, index: number }[] }) => (\r\n                                            <pl-list direction=\"top\" class=\"pl-tree-node-list\">\r\n                                                {data.map(({item, index}) => render.node(item, index))}\r\n                                            </pl-list>\r\n                                        )\r\n                                    }}\r\n                                />) : (\r\n                                    <pl-scroll ref=\"scroll\">\r\n                                        <pl-list direction=\"top\" class=\"pl-tree-node-list\">\r\n                                            {flatList.value.map((node, index) => render.node(node, index))}\r\n                                        </pl-list>\r\n                                    </pl-scroll>\r\n                                )\r\n                        )}\r\n                    </div>\r\n                )\r\n            }\r\n        }\r\n    },\r\n})","import tree from './tree'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nexport default createComponentPlugin(tree)","import {designComponent} from \"../../use/designComponent\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport Option, {SelectOption} from './select-option'\r\nimport {useCollect} from \"../../use/useCollect\";\r\nimport {computed, PropType, ref} from 'vue';\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport Scroll from '../scroll'\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {unit} from \"plain-utils/string/unit\";\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {useProps} from \"../../use/useProps\";\r\nimport {$$notice} from \"../notice-service\";\r\n\r\nconst Panel = designComponent({\r\n    name: 'pl-select-panel',\r\n    props: {\r\n        modelValue: {type: [String, Number, Array]},                     // 双向绑定值\r\n\r\n        multiple: {type: Boolean},                                      // 是否多选\r\n        multipleMaxLimit: {type: [Number, String]},                     // 多选最多选择个数\r\n        multipleMinLimit: {type: [Number, String]},                     // 多选最少选择个数\r\n\r\n        noMatchText: {type: String, default: '暂无匹配数据'},             // 筛选无数据时展示的文本\r\n        noDataText: {type: String, default: '暂无数据'},                 // 无数据时显示的文本\r\n        filterMethod: {type: Function as PropType<(option: { val: string | number, label: string | number, disabled?: boolean }) => boolean>},// 筛选过滤函数\r\n        content: {type: [Object, Function]},                            // 内容虚拟dom或者渲染函数\r\n        height: {type: Number},                                         // 面板高度，超过会显示自定义滚动条\r\n\r\n        showDebug: {type: Boolean},\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: number | string | string[]) => true,\r\n        onClick: (option: SelectOption) => true,\r\n    },\r\n    provideRefer: true,\r\n    setup({props, event: {emit}}) {\r\n\r\n        const {propsState} = useProps(props, {\r\n            multipleMaxLimit: useProps.NUMBER,\r\n            multipleMinLimit: useProps.NUMBER,\r\n        })\r\n\r\n        /*插槽*/\r\n        const {slots} = useSlots()\r\n        /*组件引用*/\r\n        const {refs} = useRefs({scroll: Scroll})\r\n        /*收集的 select-option 子组件*/\r\n        const items = SelectPanelCollector.parent()\r\n        /*筛选的出有效的 select-option 子组件*/\r\n        const options = computed(() => items.filter(i => !i.props.group))\r\n        /*当前显示的select-option*/\r\n        const showOptions = computed(() => options.value.filter(o => utils.isShow(o.props)))\r\n        /*当前高亮的option.props.val*/\r\n        const current = ref(null as null | SelectOption)\r\n        /*双向绑定值*/\r\n        const model = useModel(() => props.modelValue as number | string | string[], emit.onUpdateModelValue)\r\n\r\n        const classes = computed(() => [\r\n            'pl-select-panel',\r\n            {\r\n                'pl-select-panel-multiple': props.multiple,\r\n            }\r\n        ])\r\n\r\n        const styles = useStyles(style => {!!props.height && (style.height = unit(props.height))})\r\n\r\n        const utils = {\r\n            /**\r\n             * 用于option判断当前是否已经被选中\r\n             * @author  韦胜健\r\n             * @date    2020/6/8 9:23\r\n             */\r\n            isSelected: (optionProps: { label: string | number, val: string | number, disabled?: boolean }) => {\r\n                if (!model.value) return false\r\n                if (!props.multiple) {\r\n                    return (model.value as string) == optionProps.val\r\n                } else {\r\n                    return (model.value as string[]).indexOf(optionProps.val! as string) > -1\r\n                }\r\n            },\r\n            isShow: (optionProps: { label: string | number, val: string | number, disabled?: boolean }) => {\r\n                return !props.filterMethod || props.filterMethod(optionProps)\r\n            }\r\n        }\r\n\r\n        const handler = {\r\n            /**\r\n             * 处理点击option的动作\r\n             * @author  韦胜健\r\n             * @date    2020/6/8 9:24\r\n             */\r\n            clickOption: (option: SelectOption) => {\r\n\r\n                if (option.props.disabled) return\r\n\r\n                emit.onClick(option)\r\n\r\n                if (!props.multiple) {\r\n                    model.value = option.props.val\r\n                } else {\r\n                    const newValue: any[] = [...((model.value as string[]) || [])]\r\n                    const index = newValue.indexOf(option.props.val!)\r\n                    if (index > -1) {\r\n                        if (!!propsState.multipleMinLimit && newValue.length <= propsState.multipleMinLimit) {\r\n                            return $$notice.warn(`最少选择 ${propsState.multipleMinLimit} 个选项`)\r\n                        }\r\n                        newValue.splice(index, 1)\r\n                    } else {\r\n                        if (!!propsState.multipleMaxLimit && newValue.length >= propsState.multipleMaxLimit) {\r\n                            return $$notice.warn(`最多选择 ${propsState.multipleMaxLimit} 个选项`)\r\n                        }\r\n                        newValue.push(option.props.val!)\r\n                    }\r\n                    model.value = [...newValue]\r\n                }\r\n            },\r\n        }\r\n\r\n        const methods = {\r\n            /**\r\n             * 高亮上一个元素\r\n             * @author  韦胜健\r\n             * @date    2020/6/8 9:18\r\n             */\r\n            highlightPrev: () => {\r\n                if (showOptions.value.length === 0) {\r\n                    return\r\n                }\r\n                if (!current.value) {\r\n                    current.value = showOptions.value[showOptions.value.length - 1]\r\n\r\n                    // 滚动到高亮的选项\r\n                    if (!!refs.scroll) {\r\n                        const el = (current.value as any).$el\r\n                        refs.scroll.methods.scrollTop(el.offsetTop, 200)\r\n                    }\r\n                } else {\r\n                    let index = showOptions.value.indexOf(current.value)\r\n                    if (index === 0) {\r\n                        index = showOptions.value.length - 1\r\n                        current.value = showOptions.value[index]\r\n\r\n                        // 滚动到高亮的选项\r\n                        if (!!refs.scroll) {\r\n                            const el = (current.value as any).$el\r\n                            refs.scroll.methods.scrollTop(el.offsetTop, 200)\r\n                        }\r\n                    } else {\r\n                        index--\r\n                        current.value = showOptions.value[index]\r\n\r\n                        // 滚动到高亮的选项\r\n                        if (!!refs.scroll) {\r\n                            const el = (current.value as any).$el\r\n                            const {wrapperScrollTop} = refs.scroll.freezeState\r\n                            if (wrapperScrollTop > el.offsetTop) {\r\n                                refs.scroll.methods.scrollTop(el.offsetTop, 200)\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            /**\r\n             * 高亮下一个元素\r\n             * @author  韦胜健\r\n             * @date    2020/6/8 9:18\r\n             */\r\n            highlightNext: () => {\r\n                if (showOptions.value.length === 0) {\r\n                    return\r\n                }\r\n                if (!current.value) {\r\n                    current.value = showOptions.value[0]\r\n                } else {\r\n                    let index = showOptions.value.indexOf(current.value)\r\n                    if (index === showOptions.value.length - 1) {\r\n                        index = 0\r\n                        current.value = showOptions.value[index]\r\n\r\n                        // 滚动到高亮的选项\r\n                        if (!!refs.scroll) {\r\n                            refs.scroll.methods.scrollTop(0, 200)\r\n                        }\r\n                    } else {\r\n                        index++\r\n                        current.value = showOptions.value[index]\r\n\r\n                        // 滚动到高亮的选项\r\n                        if (!!refs.scroll) {\r\n                            const el = (current.value as any).$el\r\n                            const {state: {hostHeight}, freezeState: {wrapperScrollTop}} = refs.scroll\r\n                            const scrollTop = el.offsetTop + el.offsetHeight - hostHeight\r\n                            if (scrollTop > 0 && scrollTop > wrapperScrollTop) {\r\n                                refs.scroll.methods.scrollTop(scrollTop, 200)\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n\r\n            },\r\n            /**\r\n             * 选中当前高亮的元素\r\n             * @author  韦胜健\r\n             * @date    2020/6/8 9:18\r\n             */\r\n            selectHighlight: () => {\r\n                if (showOptions.value.length === 0) {\r\n                    return\r\n                }\r\n                if (!current.value) {\r\n                    methods.highlightNext()\r\n                }\r\n                if (!!current.value) {\r\n                    handler.clickOption(current.value)\r\n                }\r\n            },\r\n        }\r\n\r\n        return {\r\n            refer: {\r\n                props,\r\n                handler,\r\n                methods,\r\n                utils,\r\n                current,\r\n            },\r\n            render: () => {\r\n\r\n                const inner = [\r\n                    (options.value.length === 0 || showOptions.value.length === 0) ? (\r\n                        <div class=\"pl-select-panel-empty-text\">\r\n                            <pl-icon icon=\"el-icon-nodata\"/>\r\n                            {options.value.length === 0 ? props.noDataText : props.noMatchText}\r\n                        </div>\r\n                    ) : null,\r\n                    slots.default(),\r\n                    !!props.content ? ((typeof props.content === \"function\" ? props.content() : props.content)) : null,\r\n                    !!props.showDebug ? (\r\n                        <div class=\"pl-select-panel-debug\">\r\n                            {options.value.map(option => <div>{option.props.label}__{option.props.val}__{option.props.disabled}</div>)}\r\n                        </div>\r\n                    ) : null,\r\n                ].filter(Boolean)\r\n\r\n                const content: any = !!props.height ? (\r\n                    <pl-scroll fitHostWidth ref=\"scroll\">\r\n                        {inner}\r\n                    </pl-scroll>\r\n                ) : inner\r\n\r\n                return (\r\n                    <div class={classes.value} style={styles.value}>\r\n                        {content}\r\n                    </div>\r\n                )\r\n            }\r\n        }\r\n    },\r\n})\r\n\r\nexport default Panel\r\n\r\nexport const SelectPanelCollector = useCollect(() => ({\r\n    parent: Panel,\r\n    child: Option,\r\n}))","import {designComponent} from \"../../use/designComponent\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {useCollect} from \"../../use/useCollect\";\r\nimport Option, {SelectOption} from './select-option'\r\nimport {computed} from 'vue';\r\nimport Panel from './select-panel'\r\n\r\nconst Group = designComponent({\r\n    name: 'pl-select-group',\r\n    props: {\r\n        label: {type: String},\r\n    },\r\n    setup({props}) {\r\n\r\n        const {slots} = useSlots(['label'], true)\r\n        const options = (SelectGroupCollector as any).parent() as SelectOption[]\r\n        const panel = Panel.use.inject(null)\r\n        const isShow = computed(() => !panel || options.filter((option) => !option.props.group).filter(o => panel.utils.isShow(o.props)).length > 0)\r\n\r\n        return {\r\n            render: () => {\r\n                return (\r\n                    <>\r\n                        {isShow.value && (slots.label.isExist() || !!props.label) && (\r\n                            <pl-select-option class=\"pl-select-group\" group label=\"\" val=\"\">\r\n                                <pl-icon icon=\"el-icon-list\"/>\r\n                                {slots.label(props.label)}\r\n                            </pl-select-option>\r\n                        )}\r\n                        {slots.default()}\r\n                    </>\r\n                )\r\n            }\r\n        }\r\n    },\r\n})\r\n\r\nexport default Group\r\n\r\nexport const SelectGroupCollector = useCollect(() => ({\r\n    parent: Group,\r\n    child: Option,\r\n}))","import {designComponent} from \"../../use/designComponent\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {useClass} from \"../../use/useClasses\";\r\nimport {SelectPanelCollector} from \"./select-panel\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport {computed} from 'vue';\r\nimport {SelectGroupCollector} from \"./select-group\";\r\nimport {SelectCollector} from \"./select\";\r\n\r\nconst Option = designComponent({\r\n    name: 'pl-select-option',\r\n    props: {\r\n        label: {type: [String, Number], required: true},\r\n        val: {type: [String, Number], required: true},\r\n        icon: {type: String},\r\n        disabled: {type: Boolean},\r\n\r\n        group: {type: Boolean},\r\n    },\r\n    setup({props}) {\r\n\r\n        const {slots} = useSlots()\r\n        const {refs} = useRefs({\r\n            el: HTMLDivElement,\r\n        })\r\n\r\n        SelectCollector.child({injectDefaultValue: null, sort: () => refs.el})\r\n        const group = SelectGroupCollector.child({injectDefaultValue: null})\r\n        const panel = SelectPanelCollector.child({injectDefaultValue: null, sort: () => refs.el})\r\n        const isShow = computed(() => (props.group || !panel || panel.utils.isShow(props)))\r\n        const isSelected = computed(() => !!panel && panel.utils.isSelected(props))\r\n\r\n        const refer = {\r\n            props,\r\n            refs,\r\n        }\r\n\r\n        const classes = useClass(() => [\r\n            'pl-select-option',\r\n            {\r\n                'pl-select-option-disabled': props.disabled,\r\n                'pl-select-option-show': isShow.value,\r\n                'pl-select-option-selected': isSelected.value,\r\n                'pl-select-option-highlight': !!panel && !!panel.current.value && panel.current.value.props === props,\r\n                'pl-select-option-group-child': !!group && !props.group,\r\n            }\r\n        ])\r\n\r\n        const handler = {\r\n            click: () => {\r\n                if (props.group) return\r\n                !!panel && panel.handler.clickOption(refer)\r\n            }\r\n        }\r\n\r\n        return {\r\n            refer,\r\n            render: () => {\r\n                return (\r\n                    <div\r\n                        {...{\r\n                            ref: \"el\",\r\n                            label: props.label,\r\n                            val: props.val,\r\n                            icon: props.icon,\r\n                            class: classes.value,\r\n                            onClick: handler.click,\r\n                        }}>\r\n                        {!!panel && isShow.value && <>\r\n                            {!!panel.props.multiple && !props.group ? <pl-checkbox customReadonly modelValue={isSelected.value} class=\"pl-select-option-checkbox\"/> : null}\r\n                            {!!props.icon && <pl-icon icon={props.icon} class=\"pl-select-option-icon\"/>}\r\n                            {slots.default(props.label)}\r\n                        </>}\r\n                    </div>\r\n                )\r\n            }\r\n        }\r\n    },\r\n})\r\n\r\nexport default Option\r\nexport type SelectOption = typeof Option.use.class","import {createAgentGetter} from \"../popper/edit/createAgentGetter\";\r\nimport {App} from 'vue';\r\n\r\nexport const SelectServiceGetter = createAgentGetter({\r\n    name: 'select',\r\n    render: (attrs) => {\r\n        return <pl-select-panel {...attrs}/>\r\n    },\r\n    defaultPopperAttrs: {\r\n        transition: 'pl-transition-popper-drop',\r\n        sizeEqual: true,\r\n        arrow: false,\r\n    },\r\n    defaultRenderAttrs: {\r\n        async onChange() {\r\n            let renderAttrs: any = this.state.option.serviceOption.renderAttrs\r\n            if (typeof renderAttrs === \"function\") renderAttrs = renderAttrs()\r\n            /*非多选的情况下，默认点击关闭下拉框*/\r\n            if (!renderAttrs.multiple) {\r\n                this.hide()\r\n            }\r\n        }\r\n    },\r\n})\r\n\r\nexport default {\r\n    install(app: App) {\r\n        app.mixin({\r\n            beforeCreate(): void {\r\n                Object.defineProperty(this, '$select', {\r\n                    get() {\r\n                        const service = SelectServiceGetter(this)\r\n                        return service\r\n                    },\r\n                })\r\n            }\r\n        })\r\n    },\r\n}","import {designComponent} from \"../../use/designComponent\";\r\nimport './select.scss'\r\nimport {StyleProps, useStyle} from \"../../use/useStyle\";\r\nimport {EditProps} from \"../../use/useEdit\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport Input from '../input'\r\nimport Option, {SelectOption} from \"./select-option\";\r\nimport {useEditPopperAgent} from \"../popper/edit/useEditPopperAgent\";\r\nimport {SelectServiceGetter} from \"./select-service\";\r\nimport {computed, ref} from 'vue';\r\nimport {useCollect} from \"../../use/useCollect\";\r\nimport {ie} from \"plain-utils/utils/ie\";\r\nimport {handleKeyboard} from \"../keyboard\";\r\nimport Panel from './select-panel'\r\nimport {useModel} from \"../../use/useModel\";\r\n\r\nconst Props = {\r\n    ...EditProps,\r\n    ...StyleProps,\r\n\r\n    modelValue: {type: [String, Number, Array]},\r\n    filterable: {type: Boolean, default: true},                     // 是否可以输入筛选\r\n    inputProps: {type: Object},                                     // input组件绑定属性对象\r\n\r\n    multiple: {type: Boolean},                                      // 是否多选\r\n    multipleMaxLimit: {type: Number},                               // 多选最多选择个数\r\n    multipleMinLimit: {type: Number},                               // 多选最少选择个数\r\n    collapseTags: {type: Boolean, default: true},                   // 多选模式下，超过三个选项，其他的将省略显示\r\n\r\n    noMatchText: {type: String, default: '暂无匹配数据'},            // 筛选无数据时展示的文本\r\n    noDataText: {type: String, default: '暂无数据'},                // 无数据时显示的文本\r\n    filterMethod: Function,                                         // 筛选过滤函数\r\n}\r\n\r\nconst Select = designComponent({\r\n    name: 'pl-select',\r\n    props: {\r\n        ...Props,\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val?: number | string | string[]) => true,\r\n        onClick: (option: SelectOption) => true,\r\n\r\n        onSpace: (e: KeyboardEvent) => true,\r\n        onEnter: (e: KeyboardEvent) => true,\r\n        onUp: (e: KeyboardEvent) => true,\r\n        onDown: (e: KeyboardEvent) => true,\r\n        onEsc: (e: KeyboardEvent) => true,\r\n\r\n        onBlur: (e: Event) => true,\r\n        onFocus: (e: Event) => true,\r\n    },\r\n    setup({props, event}) {\r\n\r\n        useStyle()\r\n        const {slots} = useSlots()\r\n        const {refs} = useRefs({input: Input,})\r\n\r\n        /*对 pl-select-panel 的引用*/\r\n        let panel = null as typeof Panel.use.class | null\r\n\r\n        /*---------------------------------------state-------------------------------------------*/\r\n\r\n        const model = useModel(() => props.modelValue as number | string | string[] | undefined, event.emit.onUpdateModelValue)\r\n        const filterText = ref(null as string | null)\r\n        const agentState = useEditPopperAgent({\r\n            event,\r\n            serviceGetter: SelectServiceGetter,\r\n            option: {\r\n                reference: () => refs.input as any,\r\n                renderAttrs: () => ({\r\n                    ref: r => panel = r,\r\n                    ...(Object.keys(Props).reduce((ret: any, key) => {\r\n                        ret[key] = (props as any)[key]\r\n                        return ret\r\n                    }, {})),\r\n                    modelValue: model.value,\r\n                    height: popperHeight.value,\r\n                    content: slots.default,\r\n                    filterMethod: utils.filterMethod,\r\n                    onChange: handler.onServiceChange,\r\n                    onClick: event.emit.onClick,\r\n                }),\r\n                popperAttrs: ({\r\n                    onMousedownPopper: () => agentState.state.focusCounter++,\r\n                    onClickPopper: () => refs.input!.methods.focus(),\r\n                    onHide: () => filterText.value = null,\r\n                }),\r\n            },\r\n        })\r\n\r\n        /*---------------------------------------utils-------------------------------------------*/\r\n\r\n        const utils = {\r\n            filterMethod: (option: { label?: string, val: string, disabled: boolean }) => {\r\n                if (!!props.filterMethod) return props.filterMethod(filterText.value, option)\r\n                return !!filterText.value && !!filterText.value.trim() ? (!!option.label && option.label.indexOf(filterText.value) > -1) : true\r\n            }\r\n        }\r\n\r\n        /*---------------------------------------computed-------------------------------------------*/\r\n\r\n        /**\r\n         * 收集的option实例\r\n         * @author  韦胜健\r\n         * @date    2020/6/8 11:16\r\n         */\r\n        const items = SelectCollector.parent()\r\n        /**\r\n         * 有效的 pl-select-option\r\n         * @author  韦胜健\r\n         * @date    2020/12/4 10:06\r\n         */\r\n        const formatData = computed(() => items.filter(i => !i.props.group))\r\n        /**\r\n         * popper应该的高度\r\n         * @author  韦胜健\r\n         * @date    2020/12/4 10:06\r\n         */\r\n        const popperHeight = computed(() => formatData.value.length > 6 ? 256 : null)\r\n        /**\r\n         * 显示值\r\n         * @author  韦胜健\r\n         * @date    2020/6/8 11:16\r\n         */\r\n        const displayValue = computed(() => {\r\n            if (!props.multiple) {\r\n                for (let i = 0; i < formatData.value.length; i++) {\r\n                    const item = formatData.value[i];\r\n                    if (item.props.val === model.value) {\r\n                        return item.props.label\r\n                    }\r\n                }\r\n                return model.value\r\n            } else {\r\n                let strings: string[] = []\r\n                if (!!model.value && Array.isArray(model.value)) {\r\n                    for (let i = 0; i < formatData.value.length; i++) {\r\n                        const item = formatData.value[i];\r\n                        if (model.value.indexOf(item.props.val! as string) > -1) {\r\n                            strings.push(item.props.label! as string)\r\n                        }\r\n                    }\r\n                }\r\n                return strings.join('').trim()\r\n            }\r\n        })\r\n\r\n        /**\r\n         * 给input组件传递的属性\r\n         * @author  韦胜健\r\n         * @date    2020/12/4 11:21\r\n         */\r\n        const inputProps = computed(() => Object.assign({}, props.inputProps || {}))\r\n\r\n        /**\r\n         * 当前显示的空值占位符\r\n         * @author  韦胜健\r\n         * @date    2020/12/4 11:21\r\n         */\r\n        const placeholderValue = computed(() => (agentState.isShow.value ? displayValue.value || inputProps.value.placeholder : inputProps.value.placeholder) || '')\r\n\r\n        /**\r\n         * 给input组件绑定的目标对象\r\n         * @author  韦胜健\r\n         * @date    2020/12/4 11:21\r\n         */\r\n        const inputBinding = computed(() => {\r\n            /*onEnter不要了，只要剩余的时间监听器*/\r\n            const {onEnter, ...inputHandler} = agentState.inputHandler\r\n\r\n            return {\r\n                ref: 'input',\r\n                class: [\r\n                    'pl-select',\r\n                    {\r\n                        'pl-input-tags': !!props.multiple,\r\n                        'pl-select-input-show': agentState.isShow.value,\r\n                    }\r\n                ],\r\n\r\n                modelValue: (props.filterable && agentState.isShow.value) ? filterText.value : displayValue.value,\r\n                placeValue: displayValue.value,\r\n                inputReadonly: !props.filterable,\r\n                placeholder: placeholderValue.value,\r\n                suffixIcon: 'el-icon-arrow-down',\r\n                clearIcon: true,\r\n                isFocus: agentState.state.focusCounter > 0,\r\n                clearHandler: handler.onInputClear,\r\n\r\n                ...inputHandler,\r\n                onChange: handler.onInputChange,\r\n                onKeydown: handler.onInputKeydown,\r\n\r\n                ...inputProps.value,\r\n            }\r\n        })\r\n\r\n        const multipleTags = computed(() => {\r\n            if (!model.value) {\r\n                return []\r\n            }\r\n            if (!Array.isArray(model.value)) {\r\n                console.error('The value of multiple select should be array')\r\n                return []\r\n            }\r\n            if (!formatData.value || formatData.value.length === 0) return []\r\n            return formatData.value.filter(option => (model.value as any[]).indexOf(option.props.val!) > -1)\r\n        })\r\n\r\n        /*---------------------------------------handler-------------------------------------------*/\r\n\r\n        const handler = {\r\n            onInputKeydown: handleKeyboard({\r\n                space: (e) => {\r\n                    if (props.multiple && agentState.isShow.value) {\r\n                        e.stopPropagation()\r\n                        e.preventDefault()\r\n                        panel!.methods.selectHighlight()\r\n                    }\r\n                    event.emit.onSpace(e)\r\n                },\r\n                enter: (e) => {\r\n                    e.stopPropagation()\r\n                    e.preventDefault()\r\n                    if (agentState.isShow.value) {\r\n                        panel!.methods.selectHighlight()\r\n                    } else {\r\n                        agentState.methods.show()\r\n                    }\r\n                },\r\n                up: (e) => {\r\n                    e.stopPropagation()\r\n                    e.preventDefault()\r\n                    if (!!agentState.isShow.value) {\r\n                        panel!.methods.highlightPrev()\r\n                    }\r\n                },\r\n                down: (e) => {\r\n                    e.stopPropagation()\r\n                    e.preventDefault()\r\n                    if (!!agentState.isShow.value) {\r\n                        panel!.methods.highlightNext()\r\n                    }\r\n                },\r\n                esc: (e) => {\r\n                    e.stopPropagation()\r\n                    e.preventDefault()\r\n                    if (!!agentState.isShow.value) {\r\n                        agentState.methods.hide()\r\n                    }\r\n                },\r\n            }),\r\n            onServiceChange: (val: any) => model.value = val,\r\n            onInputClear: () => model.value = undefined,\r\n            onInputChange: (val: string | null) => {\r\n                filterText.value = val\r\n                if (!agentState.isShow.value && ie) {\r\n                    agentState.methods.show()\r\n                }\r\n            },\r\n            onClickItemCloseIcon: (item: SelectOption, index: number) => {\r\n                index = (model.value as any[]).indexOf(item.props.val!)\r\n                if (index > -1) {\r\n                    const value = [...(model.value as any[])]\r\n                    value.splice(index, 1)\r\n                    model.value = [...value]\r\n                }\r\n            }\r\n        }\r\n\r\n        return {\r\n            render: () => (\r\n                <pl-input {...inputBinding.value} v-slots={{\r\n                    hidden: slots.default,\r\n                    default: !props.multiple ? null : () => (\r\n                        <pl-input-inner-tags\r\n                            data={multipleTags.value}\r\n                            collapseTags={props.collapseTags}\r\n                            v-slots={{\r\n                                default: ({item, index}: { item: SelectOption, index: number }) => [\r\n                                    <span>{item.props.label}</span>,\r\n                                    <pl-icon icon=\"el-icon-close\" onClick={() => handler.onClickItemCloseIcon(item, index)}/>\r\n                                ]\r\n                            }}\r\n                        />\r\n                    )\r\n                }}/>\r\n            )\r\n        }\r\n    },\r\n})\r\n\r\nexport default Select\r\n\r\nexport const SelectCollector = useCollect(() => ({\r\n    parent: Select,\r\n    child: Option,\r\n}))","import select from './select'\r\nimport SelectOption from './select-option'\r\nimport SelectGroup from './select-group'\r\nimport SelectPanel from './select-panel'\r\nimport SelectService from './select-service'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\nimport Dropdown from '../dropdown'\r\n\r\nexport default createComponentPlugin(select, {\r\n    exposeComponents: {\r\n        SelectOption,\r\n        SelectGroup,\r\n        SelectPanel,\r\n    },\r\n    plugins: [\r\n        Dropdown,\r\n        SelectService,\r\n    ],\r\n    expose: {\r\n        SelectService\r\n    },\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {EditProps, useEdit} from \"../../use/useEdit\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport {useNumber} from \"../../use/useNumber\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {unit} from 'plain-utils/string/unit';\r\nimport {computed} from 'vue';\r\nimport {HTMLInputEvent} from \"../../shims\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-date-time-input',\r\n    props: {\r\n        ...EditProps,\r\n        width: {type: [String, Number], default: 138},\r\n        modelValue: {type: String},\r\n        displayFormat: {type: String},\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val?: string) => true,\r\n        onFocus: (e: Event) => true,\r\n        onBlur: (e: Event) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const {refs} = useRefs({\r\n            input: HTMLInputElement,\r\n        })\r\n\r\n        const {editComputed} = useEdit()\r\n\r\n        const {numberState} = useNumber(props, ['width'])\r\n\r\n        const model = useModel(() => props.modelValue, emit.onUpdateModelValue, {autoEmit: false})\r\n\r\n        const styles = useStyles(style => {style.width = unit(numberState.width)})\r\n\r\n        const regexp = computed(() => new RegExp('^' + props.displayFormat!.replace(/[a-zA-Z]/g, '\\\\d') + '$'))\r\n\r\n        const methods = {\r\n            focus: () => {\r\n                refs.input.focus()\r\n            }\r\n        }\r\n\r\n        const handler = {\r\n            input: (e: HTMLInputEvent) => {\r\n                model.value = e.target.value\r\n                if (!model.value || regexp.value.test(model.value)) {\r\n                    emit.onUpdateModelValue(model.value)\r\n                }\r\n            },\r\n            blur: (e: Event) => {\r\n                model.value = props.modelValue\r\n                emit.onBlur(e)\r\n            },\r\n            focus: (e: Event) => {\r\n                emit.onFocus(e)\r\n            },\r\n        }\r\n\r\n\r\n        return {\r\n            refer: {\r\n                refs,\r\n                methods,\r\n            },\r\n            render: () => (\r\n                <input type=\"text\"\r\n                       ref=\"input\"\r\n                       class=\"pl-date-time-inner-input pl-input-custom-inner-input\"\r\n                       style={styles.value}\r\n                       value={model.value}\r\n                       onInput={handler.input as any}\r\n                       onBlur={handler.blur}\r\n                       onFocus={handler.focus}\r\n                       disabled={editComputed.value.disabled as any}\r\n                       readonly={editComputed.value.readonly as any}\r\n                />\r\n            )\r\n        }\r\n    },\r\n})","import {ModelType} from \"../../shims\";\r\nimport {useStyle} from \"../../use/useStyle\";\r\nimport {useEdit} from \"../../use/useEdit\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport DateTimeInput from './date-time-input'\r\nimport Input from '../input'\r\nimport {computed} from 'vue';\r\nimport {EditPopperAgent} from \"../popper/edit/useEditPopperAgent\";\r\nimport {delay} from \"plain-utils/utils/delay\";\r\nimport {handleKeyboard} from \"../keyboard\";\r\n\r\nexport function useDateTime(\r\n    {\r\n        value,\r\n        start,\r\n        end,\r\n        props,\r\n        agentState,\r\n        emit,\r\n    }: {\r\n        value: ModelType,\r\n        start: ModelType,\r\n        end: ModelType,\r\n        props: {\r\n            range?: boolean,\r\n        },\r\n        agentState: EditPopperAgent,\r\n        emit: {\r\n            onBlur: Function\r\n        },\r\n    }\r\n) {\r\n\r\n    useStyle()\r\n\r\n    const {refs} = useRefs({\r\n        valueInput: DateTimeInput,\r\n        startInput: DateTimeInput,\r\n        endInput: DateTimeInput,\r\n        plInput: Input,\r\n    })\r\n\r\n    const inputValue = computed(() => {\r\n        return !props.range ? value.value : ((start.value || '') + (end.value || ''))\r\n    })\r\n\r\n    const handler = {\r\n        clearHandler: () => {\r\n            if (!props.range) {\r\n                value.value = null\r\n            } else {\r\n                start.value = null\r\n                end.value = null\r\n            }\r\n        },\r\n        clickInput() {\r\n            if (!props.range) {\r\n                agentState.methods.toggle()\r\n            } else {\r\n                agentState.methods.show()\r\n            }\r\n        },\r\n        customInputFocus(e: Event) {\r\n            agentState.inputHandler.onFocus(e)\r\n        },\r\n        async customInputBlur(e: Event) {\r\n            if (!props.range) {\r\n                agentState.inputHandler.onBlur(e)\r\n            } else {\r\n                await delay(0)\r\n                if ([\r\n                    refs.startInput!.refs.input,\r\n                    refs.endInput!.refs.input,\r\n                ].indexOf(document.activeElement as any) === -1) {\r\n                    agentState.state.focusCounter--\r\n                    if (agentState.state.focusCounter === 0) {\r\n                        emit.onBlur()\r\n                        agentState.methods.hide()\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        keydown: handleKeyboard({\r\n            enter: agentState.inputHandler.onEnter,\r\n            esc: agentState.inputHandler.onEsc,\r\n        })\r\n    }\r\n\r\n    return {\r\n        refs,\r\n        inputValue,\r\n        handler,\r\n    }\r\n\r\n}","import input from './date-time-input'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\nimport {useDateTime} from \"./useDateTime\";\r\n\r\nexport default createComponentPlugin(input, {\r\n    expose: {\r\n        useDateTime,\r\n    }\r\n})","import {designComponent} from \"../../../use/designComponent\";\r\nimport {TimePublicProps} from \"./time-panel.utils\";\r\nimport {useModel} from \"../../../use/useModel\";\r\nimport {PlainDate} from \"../../../utils/PlainDate\";\r\nimport {computed} from 'vue';\r\nimport './time-range-panel.scss'\r\n\r\nexport enum TimeRangePanelType {\r\n    start = 'start',\r\n    end = 'end',\r\n}\r\n\r\nexport default designComponent({\r\n    name: 'pl-time-range-panel',\r\n    props: {\r\n        start: {type: String},\r\n        end: {type: String},\r\n        ...TimePublicProps,\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: string | undefined, type: TimeRangePanelType) => true,\r\n        onUpdateStart: (val?: string) => true,\r\n        onUpdateEnd: (val?: string) => true,\r\n        onMousedownStartPanel: (e: MouseEvent) => true,\r\n        onMousedownEndPanel: (e: MouseEvent) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const start = useModel(() => props.start, emit.onUpdateStart)\r\n        const end = useModel(() => props.end, emit.onUpdateEnd)\r\n\r\n        const formatData = computed(() => {\r\n            const {displayFormat, valueFormat} = props\r\n            return {\r\n                start: new PlainDate(start.value, displayFormat, valueFormat),\r\n                end: new PlainDate(end.value, displayFormat, valueFormat),\r\n                max: new PlainDate(props.max, displayFormat, valueFormat),\r\n                min: new PlainDate(props.min, displayFormat, valueFormat)\r\n            }\r\n        })\r\n\r\n        const handler = {\r\n            onStartChange: (value?: string) => {\r\n                start.value = value\r\n                emit.onUpdateModelValue(value, TimeRangePanelType.start)\r\n\r\n                const {end: endPd, start: startPd} = formatData.value\r\n\r\n                if (endPd.isNull || startPd.Hms! > endPd.Hms) {\r\n                    end.value = start.value\r\n                    emit.onUpdateModelValue(end.value, TimeRangePanelType.end)\r\n                }\r\n            },\r\n            onEndChange: (value?: string) => {\r\n                end.value = value\r\n                emit.onUpdateModelValue(value, TimeRangePanelType.end)\r\n                const {end: endPd, start: startPd} = formatData.value\r\n\r\n                if (startPd.isNull || endPd.Hms! < startPd.Hms) {\r\n                    start.value = end.value\r\n                    emit.onUpdateModelValue(start.value, TimeRangePanelType.start)\r\n                }\r\n            },\r\n        }\r\n\r\n        const binding = computed(() => {\r\n            const publicProps = Object.keys(TimePublicProps).reduce((ret: any, key) => {\r\n                ret[key] = (props as any)[key]\r\n                return ret\r\n            }, {})\r\n            const {max, min} = props\r\n            const publicBinding = {\r\n                ...publicProps,\r\n                max,\r\n                min,\r\n                disableChangeOnScroll: true,\r\n            }\r\n            return {\r\n                start: {\r\n                    ...publicBinding,\r\n                    modelValue: start.value,\r\n                    onChange: handler.onStartChange,\r\n                    onMousedown: emit.onMousedownStartPanel,\r\n                },\r\n                end: {\r\n                    ...publicBinding,\r\n                    modelValue: end.value,\r\n                    onChange: handler.onEndChange,\r\n                    onMousedown: emit.onMousedownEndPanel,\r\n                },\r\n            }\r\n        })\r\n\r\n        return {\r\n            render: () => (\r\n                <div class=\"pl-time-range-panel\">\r\n                    <pl-time-base-panel {...binding.value.start}/>\r\n                    <pl-time-base-panel {...binding.value.end}/>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","export const TimePublicProps = {\r\n    displayFormat: {type: String, default: 'HH:mm:ss'},\r\n    valueFormat: {type: String, default: 'HH:mm:ss'},\r\n    max: {type: String},\r\n    min: {type: String},\r\n    layout: {type: Array, default: () => (['h', 'm', 's'])},\r\n    custom: Function,\r\n    checkDisabled: Function,\r\n}","import {designComponent} from \"../../../use/designComponent\";\r\nimport {TimePublicProps} from \"./time-panel.utils\";\r\nimport {useModel} from \"../../../use/useModel\";\r\nimport {nextTick, computed} from 'vue';\r\nimport {TimeRangePanelType} from \"./time-range-panel\";\r\n\r\nexport const TimePanelProps = {\r\n    modelValue: {type: String},\r\n    start: {type: String},\r\n    end: {type: String},\r\n    range: {type: Boolean},\r\n    ...TimePublicProps,\r\n}\r\n\r\nexport default designComponent({\r\n    name: 'pl-time-panel',\r\n    props: {\r\n        ...TimePanelProps,\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: string | undefined, type: TimeRangePanelType) => true,\r\n        onUpdateStart: (val?: string) => true,\r\n        onUpdateEnd: (val?: string) => true,\r\n\r\n        onMousedownBasePanel: (e: MouseEvent) => true,\r\n        onMousedownStartPanel: (e: MouseEvent) => true,\r\n        onMousedownEndPanel: (e: MouseEvent) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const model = useModel(() => props.modelValue, emit.onUpdateModelValue as any)\r\n        const start = useModel(() => props.start, emit.onUpdateStart)\r\n        const end = useModel(() => props.end, emit.onUpdateEnd)\r\n\r\n        const handler = {\r\n            onBaseChange: async (val?: string) => {\r\n                await nextTick()\r\n                model.value = val\r\n            },\r\n            onRangeChange: async (val: string | undefined, type: TimeRangePanelType) => {\r\n                await nextTick()\r\n                if (type === TimeRangePanelType.start) {\r\n                    start.value = val\r\n                } else if (type === TimeRangePanelType.end) {\r\n                    end.value = val\r\n                }\r\n                emit.onUpdateModelValue(val, type)\r\n            },\r\n        }\r\n\r\n        const binding = computed(() => {\r\n\r\n            const publicProps = Object.keys(TimePublicProps).reduce((ret: any, key) => {\r\n                ret[key] = (props as any)[key]\r\n                return ret\r\n            }, {})\r\n\r\n            return {\r\n                base: {\r\n                    ...publicProps,\r\n                    modelValue: model.value,\r\n                    onChange: handler.onBaseChange,\r\n                    onMousedown: emit.onMousedownBasePanel,\r\n                },\r\n                range: {\r\n                    ...publicProps,\r\n                    start: start.value,\r\n                    end: end.value,\r\n                    onChange: handler.onRangeChange,\r\n                    onMousedownStartPanel: emit.onMousedownStartPanel,\r\n                    onMousedownEndPanel: emit.onMousedownEndPanel,\r\n                },\r\n            }\r\n        })\r\n\r\n        return {\r\n            render: () => (\r\n                !props.range ?\r\n                    <pl-time-base-panel class=\"pl-time-panel\" {...binding.value.base} key=\"base\"/> :\r\n                    <pl-time-range-panel class=\"pl-time-panel\" {...binding.value.range} key=\"range\"/>\r\n            )\r\n        }\r\n\r\n    },\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {StyleProps} from \"../../use/useStyle\";\r\nimport {EditProps} from \"../../use/useEdit\";\r\nimport {TimePanelProps} from \"./panel/time-panel\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {computed} from 'vue';\r\nimport {PlainDate} from \"../../utils/PlainDate\";\r\nimport {useEditPopperAgent} from \"../popper/edit/useEditPopperAgent\";\r\nimport {TimeServiceGetter} from \"./servce/time-service\";\r\nimport {TimeRangePanelType} from \"./panel/time-range-panel\";\r\nimport {delay} from \"plain-utils/utils/delay\";\r\nimport {useDateTime} from \"../date-time-input/useDateTime\";\r\nimport './time.scss'\r\n\r\nexport default designComponent({\r\n    name: 'pl-time',\r\n    props: {\r\n        ...StyleProps,\r\n        ...EditProps,\r\n        ...TimePanelProps,\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val?: string) => true,\r\n        onUpdateStart: (val?: string) => true,\r\n        onUpdateEnd: (val?: string) => true,\r\n        onBlur: (e: Event) => true,\r\n        onFocus: (e: Event) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const model = useModel(() => props.modelValue, emit.onUpdateModelValue)\r\n        const startModel = useModel(() => props.start, emit.onUpdateStart)\r\n        const endModel = useModel(() => props.end, emit.onUpdateEnd)\r\n\r\n        const formatData = computed(() => ({\r\n            value: new PlainDate(model.value, props.displayFormat, props.valueFormat),\r\n            start: new PlainDate(startModel.value, props.displayFormat, props.valueFormat),\r\n            end: new PlainDate(endModel.value, props.displayFormat, props.valueFormat),\r\n        }))\r\n\r\n        const serviceHandler = {\r\n            onChange: (val: string | undefined, type?: TimeRangePanelType) => {\r\n                // console.log('service change', {val, type})\r\n                if (!props.range) {\r\n                    model.value = val\r\n                } else {\r\n                    if (type === TimeRangePanelType.start) {\r\n                        startModel.value = val\r\n                    } else {\r\n                        endModel.value = val\r\n                    }\r\n                }\r\n            },\r\n            onMousedownBasePanel: async () => {\r\n                agentState.state.focusCounter++\r\n                await delay(0)\r\n                refs.valueInput!.methods.focus()\r\n            },\r\n            onMousedownStartPanel: async () => {\r\n                agentState.state.focusCounter++\r\n                await delay(0)\r\n                refs.startInput!.methods.focus()\r\n            },\r\n            onMousedownEndPanel: async () => {\r\n                agentState.state.focusCounter++\r\n                await delay(0)\r\n                refs.endInput!.methods.focus()\r\n            }\r\n        }\r\n\r\n        const agentState = useEditPopperAgent({\r\n            event: {emit},\r\n            serviceGetter: TimeServiceGetter,\r\n            option: {\r\n                reference: () => refs.plInput as any,\r\n                renderAttrs: () => ({\r\n                    ...(Object.keys(TimePanelProps).reduce((ret: any, key) => {\r\n                        ret[key] = (props as any)[key]\r\n                        return ret\r\n                    }, {})),\r\n                    modelValue: model.value,\r\n                    start: startModel.value,\r\n                    end: endModel.value,\r\n                    ...serviceHandler,\r\n                })\r\n            },\r\n        })\r\n\r\n        const {\r\n            refs,\r\n            handler,\r\n            inputValue,\r\n        } = useDateTime({\r\n            value: model,\r\n            start: startModel,\r\n            end: endModel,\r\n            props,\r\n            agentState,\r\n            emit,\r\n        })\r\n\r\n        const customHandler = {\r\n            change: (val: string, type: 'start' | 'end' | 'value') => {\r\n                const {value: valuePd, start: startPd, end: endPd} = formatData.value\r\n\r\n                switch (type) {\r\n                    case \"value\":\r\n                        if (!val) {\r\n                            valuePd.setValue(undefined)\r\n                            model.value = undefined\r\n                            return;\r\n                        }\r\n                        if (valuePd.format(valuePd.parseDisplayString(val)) != val) {\r\n                            return;\r\n                        }\r\n\r\n                        valuePd.setDisplayValue(val)\r\n                        model.value = valuePd.valueString!\r\n\r\n                        break\r\n                    case \"start\":\r\n                        if (!val) {\r\n                            return;\r\n                        }\r\n                        if (startPd.format(startPd.parseDisplayString(val)) != val) {\r\n                            return;\r\n                        }\r\n\r\n                        startPd.setDisplayValue(val)\r\n                        startModel.value = startPd.valueString as string\r\n\r\n                        if (endPd.isNull || startPd.Hms! > endPd.Hms) {\r\n                            endModel.value = startModel.value\r\n                        }\r\n\r\n                        break\r\n\r\n                    case \"end\":\r\n                        if (!val) {\r\n                            return;\r\n                        }\r\n                        if (endPd.format(endPd.parseDisplayString(val)) != val) {\r\n                            return;\r\n                        }\r\n\r\n                        endPd.setDisplayValue(val)\r\n                        endModel.value = endPd.valueString as string\r\n\r\n                        if (startPd.isNull || endPd.Hms! < startPd.Hms) {\r\n                            startModel.value = endModel.value\r\n                        }\r\n\r\n                        break\r\n                }\r\n            },\r\n        }\r\n\r\n        return {\r\n            render: () => (\r\n                <pl-input\r\n                    ref=\"plInput\"\r\n                    class=\"pl-time pl-input-custom\"\r\n                    modelValue={inputValue.value}\r\n                    suffixIcon=\"el-icon-time\"\r\n                    clearIcon\r\n                    isFocus={agentState.state.focusCounter > 0}\r\n                    width={null}\r\n                    inputInnerTabindex={null}\r\n                    clearHandler={handler.clearHandler}\r\n                    onClickInput={handler.clickInput}\r\n                    onKeydown={handler.keydown}>\r\n                    <div{...{class: 'pl-input-custom-inner', range: String(props.range)}}>\r\n                        {!props.range ? (\r\n                            <pl-date-time-input\r\n                                ref=\"valueInput\"\r\n                                modelValue={formatData.value.value.displayString}\r\n                                displayFormat={props.displayFormat}\r\n                                onChange={(val: string) => customHandler.change(val, 'value')}\r\n                                onFocus={handler.customInputFocus}\r\n                                onBlur={handler.customInputBlur}/>\r\n                        ) : (\r\n                            <>\r\n                                <pl-date-time-input\r\n                                    ref=\"startInput\"\r\n                                    width=\"100\"\r\n                                    modelValue={formatData.value.start.displayString}\r\n                                    displayFormat={props.displayFormat}\r\n                                    onChange={(val: string) => customHandler.change(val, 'start')}\r\n                                    onFocus={handler.customInputFocus}\r\n                                    onBlur={handler.customInputBlur}/>\r\n                                <span>~</span>\r\n                                <pl-date-time-input\r\n                                    ref=\"endInput\"\r\n                                    width=\"100\"\r\n                                    modelValue={formatData.value.end.displayString}\r\n                                    displayFormat={props.displayFormat}\r\n                                    onChange={(val: string) => customHandler.change(val, 'end')}\r\n                                    onFocus={handler.customInputFocus}\r\n                                    onBlur={handler.customInputBlur}/>\r\n                            </>)\r\n                        }\r\n                    </div>\r\n                </pl-input>\r\n            )\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../../use/designComponent\";\r\nimport {EditProps, useEdit} from \"../../../use/useEdit\";\r\nimport {useRefs} from \"../../../use/useRefs\";\r\nimport Scroll from '../../scroll'\r\nimport {useModel} from \"../../../use/useModel\";\r\nimport {computed, nextTick, onMounted, PropType} from 'vue';\r\nimport {zeroize} from \"plain-utils/string/zeroize\";\r\nimport {findOne} from \"plain-utils/object/findOne\";\r\nimport './time-base-column.scss'\r\nimport {useRefList} from \"../../../use/useRefList\";\r\n\r\nconst size = 24;\r\n\r\nexport default designComponent({\r\n    name: 'pl-time-base-column',\r\n    props: {\r\n        ...EditProps,\r\n\r\n        layout: {type: String, default: 'h'},   // 模式，h：时，m：分，s：秒\r\n        modelValue: {required: true},// 当前值\r\n        max: {type: Number},                    // 最大值\r\n        min: {type: Number},                    // 最小值\r\n        custom: {type: Function as PropType<(layout: string) => number[]>},// 自定义选项函数\r\n        checkDisabled: Function,                // 用来判断选项是否禁用的函数\r\n        disableChangeOnScroll: {type: Boolean}, // 是否禁用在滚动的时候触发更新值动作\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: number) => true,\r\n        onClickItem: (i: number) => true,\r\n    },\r\n    setup({props, event}) {\r\n\r\n        const {editComputed} = useEdit()\r\n\r\n        const {refs} = useRefs({scroll: Scroll,})\r\n        const liList = useRefList<HTMLLIElement>()\r\n\r\n        const model = useModel(() => props.modelValue as any, event.emit.onUpdateModelValue, {onChange: () => nextTick().then(methods.resetPosition)})\r\n\r\n        const options = computed(() => {\r\n            if (!!props.custom) {\r\n                return props.custom(props.layout).map(item => zeroize(item, 2))\r\n            }\r\n            let count = props.layout === 'h' ? 24 : 60\r\n            let options: string[] = []\r\n            for (let i = 0; i < count; i++) {\r\n                options.push(zeroize(i, 2))\r\n            }\r\n            return options\r\n        })\r\n\r\n        const methods = {\r\n            resetPosition: () => {\r\n                let value = model.value || 0\r\n                let start = 0\r\n                let find = findOne(options.value, item => Number(item) == value, true) as { item: string, index: number }\r\n                if (!!find.item) {\r\n                    start = find.index\r\n                    refs.scroll!.methods.scroll({y: liList[start].offsetTop}, {noEmitScroll: true})\r\n                }\r\n            },\r\n        }\r\n\r\n        const utils = {\r\n            checkDisabled: (item: string | number) => {\r\n                item = Number(item)\r\n                if (editComputed.value.disabled) return true\r\n                if (!!props.checkDisabled && props.checkDisabled(item, props.layout)) return true\r\n\r\n                if (props.max != null && props.max < item) return true\r\n                if (props.min != null && props.min > item) return true\r\n                return false\r\n            }\r\n        }\r\n\r\n        const handler = {\r\n            clickItem: (item: string | number) => {\r\n                item = Number(item)\r\n                if (utils.checkDisabled(item)) {\r\n                    return\r\n                }\r\n                model.value = item\r\n                event.emit.onClickItem(item)\r\n                methods.resetPosition()\r\n            },\r\n            onScroll: (e: any) => {\r\n                if (props.disableChangeOnScroll) {\r\n                    return\r\n                }\r\n                let index = Math.max(0, Math.min(options.value.length - 1, Math.floor(e.target.scrollTop / size)))\r\n                const val = options.value[index] == null ? null : Number(options.value[index])\r\n                if (val != null && val !== model.value && !utils.checkDisabled(val)) {\r\n                    model.value = val\r\n                }\r\n            }\r\n        }\r\n\r\n        onMounted(methods.resetPosition)\r\n\r\n        return {\r\n            render: () => (\r\n                <div class=\"pl-time-base-column\">\r\n                    <pl-scroll ref=\"scroll\" onScroll={handler.onScroll}>\r\n                        <ul class=\"pl-time-base-column-list\">\r\n                            {[1, 2, 3].map((item, index) => (\r\n                                <li\r\n                                    ref={val => liList[index] = val as any}\r\n                                    class=\"pl-time-base-column-item\"\r\n                                    key={-item}/>)\r\n                            )}\r\n\r\n                            {options.value.map((item, index) => (\r\n                                <li{...{\r\n                                    class: [\r\n                                        'pl-time-base-column-item',\r\n                                        'pl-time-base-column-option-item',\r\n                                        {\r\n                                            'pl-time-base-column-item-current': model.value != null && model.value == Number(item),\r\n                                            'pl-time-base-column-item-disabled': utils.checkDisabled(item),\r\n                                        }\r\n                                    ],\r\n                                    key: item,\r\n                                    onClick: () => handler.clickItem(item),\r\n                                    ref: val => liList[index + 3] = val as any\r\n                                }}>\r\n                                    {item}\r\n                                </li>\r\n                            ))}\r\n\r\n                            {[1, 2, 3].map(item => (<li class=\"pl-time-base-column-item\" key={-item - 3}/>))}\r\n                        </ul>\r\n                    </pl-scroll>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../../use/designComponent\";\r\nimport {TimePublicProps} from './time-panel.utils';\r\nimport {computed} from 'vue';\r\nimport {PlainDate} from \"../../../utils/PlainDate\";\r\nimport './time-base-panel.scss'\r\n\r\nexport enum TimePanelLayout {\r\n    h = 'hour',\r\n    m = 'minute',\r\n    s = 'second',\r\n}\r\n\r\nexport default designComponent({\r\n    name: 'pl-time-base-panel',\r\n    props: {\r\n        modelValue: {type: String},\r\n        disableChangeOnScroll: {type: Boolean},// 是否禁用在滚动的时候触发更新值动作\r\n        ...TimePublicProps,\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: string | null) => true,\r\n    },\r\n    setup({props, event}) {\r\n\r\n        const formatData = computed(() => {\r\n            return {\r\n                value: new PlainDate(props.modelValue, props.displayFormat, props.valueFormat),\r\n                max: new PlainDate(props.max, props.displayFormat, props.valueFormat),\r\n                min: new PlainDate(props.min, props.displayFormat, props.valueFormat),\r\n            }\r\n        })\r\n\r\n        const maxmin = computed(() => {\r\n\r\n            const max = {\r\n                hour: null as null | number,\r\n                minute: null as null | number,\r\n                second: null as null | number,\r\n            }\r\n            const min = {\r\n                hour: null as null | number,\r\n                minute: null as null | number,\r\n                second: null as null | number,\r\n            }\r\n\r\n            const {max: maxpd, min: minpd, value: vpd} = formatData.value\r\n\r\n            if (!!maxpd.hour) {\r\n                max.hour = maxpd.hour\r\n                if (vpd.hour == null) {\r\n                    // 有最大值，但是没有选择【时】的情况下，分以及秒不能选择任意选项\r\n                    max.minute = -Infinity\r\n                    max.second = -Infinity\r\n                } else {\r\n                    if (vpd.hour < max.hour) {\r\n                        // 有最大值，但是【时】没有达到最大值，此时分以及秒可以任意选择\r\n                        max.minute = null\r\n                        max.second = null\r\n                    } else {\r\n                        max.minute = maxpd.minute\r\n                        if (vpd.minute == null) {\r\n                            max.second = -Infinity\r\n                        } else {\r\n                            if (vpd.minute < max.minute!) {\r\n                                max.second = null\r\n                            } else {\r\n                                max.second = maxpd.second\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (!!minpd.hour) {\r\n                min.hour = minpd.hour\r\n                if (vpd.hour == null) {\r\n                    // 有最小值，但是没有选择【时】的情况下，分以及秒不能选择任意选项\r\n                    min.minute = Infinity\r\n                    min.second = Infinity\r\n                } else {\r\n                    if (vpd.hour > min.hour) {\r\n                        // 有最小值，但是【时】没有达到最小值，此时分以及秒可以任意选择\r\n                        min.minute = null\r\n                        min.second = null\r\n                    } else {\r\n                        min.minute = minpd.minute\r\n                        if (vpd.minute == null) {\r\n                            min.second = Infinity\r\n                        } else {\r\n                            if (vpd.minute > min.minute!) {\r\n                                min.second = null\r\n                            } else {\r\n                                min.second = minpd.second\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            return {\r\n                max, min,\r\n            }\r\n        })\r\n\r\n        const checkDisabled = computed(() => !props.checkDisabled ? null : (num: number, layout: TimePanelLayout) => props.checkDisabled!(num, layout, formatData.value.value))\r\n\r\n        const custom = computed(() => !props.custom ? null : (layout: TimePanelLayout) => props.custom!(layout, formatData.value.value))\r\n\r\n        const handler = {\r\n            columnChange: (value: number, type: string) => {\r\n                // console.log('columnChange', {value, type})\r\n\r\n                const {value: vpd, max: maxpd, min: minpd} = formatData.value\r\n\r\n                switch (type) {\r\n                    case 'h':\r\n                        vpd.setHour(value)\r\n                        break\r\n                    case 'm':\r\n                        vpd.setMinute(value)\r\n                        break\r\n                    case 's':\r\n                        vpd.setSecond(value)\r\n                        break\r\n                }\r\n\r\n                if (!maxpd.isNull && vpd.Hms! > maxpd.Hms) {\r\n                    vpd.setValue(maxpd.valueString!)\r\n                }\r\n\r\n                if (!minpd.isNull && vpd.Hms! < minpd.Hms) {\r\n                    vpd.setValue(minpd.valueString!)\r\n                }\r\n\r\n                event.emit.onUpdateModelValue(vpd.valueString)\r\n            }\r\n        }\r\n\r\n        return {\r\n            render: () => {\r\n                return (\r\n                    <div class=\"pl-time-base-panel\">\r\n                        {props.layout.map((layout: any) => (\r\n                            <pl-time-base-column\r\n                                {...{\r\n                                    key: layout,\r\n                                    layout,\r\n                                    modelValue: (formatData as any).value.value[(TimePanelLayout as any)[layout]],\r\n                                    max: (maxmin as any).value.max[(TimePanelLayout as any)[layout]],\r\n                                    min: (maxmin as any).value.min[(TimePanelLayout as any)[layout]],\r\n                                    checkDisabled: checkDisabled.value,\r\n                                    custom: custom.value,\r\n                                    onChange: (val: number) => handler.columnChange(val, layout),\r\n                                    disableChangeOnScroll: props.disableChangeOnScroll,\r\n                                }}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n                )\r\n            }\r\n        }\r\n    },\r\n})","import {DatePublicPropsType, DateView, SlideTransitionDirection} from \"./date.utils\";\r\nimport {computed, inject, provide, reactive} from 'vue';\r\nimport {PlainDate, PlainDateType} from \"../../utils/PlainDate\";\r\nimport {useModel, UseModelConfig} from \"../../use/useModel\";\r\n\r\n/**\r\n * 日期子组件注入父组件提供的值的时候的唯一标识\r\n * @author  韦胜健\r\n * @date    2020/12/7 20:43\r\n */\r\nexport const DATE_PANEL_PROVIDER = '@@DATE_PANEL_PROVIDER'\r\n\r\n/**\r\n * 获取默认的格式化字符串\r\n * @author  韦胜健\r\n * @date    2020/12/7 20:42\r\n */\r\nexport function getFormatString(formatString: string | undefined, datetime: boolean | undefined) {\r\n    if (!!formatString) return formatString\r\n    return datetime ? 'YYYY-MM-DD HH:mm:ss' : 'YYYY-MM-DD'\r\n}\r\n\r\nexport enum UseDateJudgementView {\r\n    'Y' = 'Y',\r\n    'YM' = 'YM',\r\n    'YMD' = 'YMD',\r\n}\r\n\r\ntype UseDateJudgement = {\r\n    active?: (ipd: PlainDateType, view: UseDateJudgementView) => boolean,\r\n    disabled?: (ipd: PlainDateType, view: UseDateJudgementView) => boolean,\r\n    hoverStart?: (ipd: PlainDateType, view: UseDateJudgementView) => boolean,\r\n    hover?: (ipd: PlainDateType, view: UseDateJudgementView) => boolean,\r\n    hoverEnd?: (ipd: PlainDateType, view: UseDateJudgementView) => boolean,\r\n}\r\n\r\ntype UseDateTopState = {\r\n    max?: PlainDateType,\r\n    min?: PlainDateType,\r\n    vpd?: PlainDateType,\r\n    hoverRange: [PlainDateType, PlainDateType] | null | undefined,\r\n    valueRange: [PlainDateType, PlainDateType],\r\n    range?: boolean,\r\n}\r\n\r\nexport type UseDateType = {\r\n    /*当前组件的直接父组件*/\r\n    parent: UseDateType | null,\r\n    /*当前组件接收的props属性对象*/\r\n    props: DatePublicPropsType,\r\n    /*当前组件自己的judgement(提供给后代使用的judgement)*/\r\n    judgementForChild?: UseDateJudgement,\r\n    /*当前组件的显示值格式化字符串*/\r\n    displayFormat: string,\r\n    /*当前组件的值格式化字符串*/\r\n    valueFormat: string,\r\n\r\n    /*---------------------------------------state-------------------------------------------*/\r\n\r\n    today: PlainDateType,\r\n    tempPd: PlainDateType,\r\n\r\n    model: { value?: string },\r\n    startModel: { value?: string },\r\n    endModel: { value?: string },\r\n    viewModel: { value: DateView },\r\n\r\n    state: {\r\n        hoverRange: [PlainDateType, PlainDateType] | null,\r\n        valueRange: [PlainDateType, PlainDateType],\r\n        selectDate: PlainDateType,\r\n        slide: SlideTransitionDirection,\r\n        topState: UseDateTopState,\r\n    },\r\n\r\n    setSelectDate: (pd: PlainDateType) => void,\r\n    getStatus: (ipd: PlainDateType) => {\r\n        now: boolean,\r\n        disabled: boolean,\r\n        active: boolean,\r\n        hoverStart: boolean,\r\n        hoverEnd: boolean,\r\n        hover: boolean,\r\n        range: boolean,\r\n        clickable: boolean,\r\n    },\r\n    jdView: UseDateJudgementView,\r\n}\r\n\r\nexport function useDate(\r\n    {\r\n        props,\r\n        judgementForChild,\r\n        emit,\r\n        useModelConfig,\r\n        jdView,\r\n    }: {\r\n        props: DatePublicPropsType,\r\n        judgementForChild?: UseDateJudgement,\r\n        emit: {\r\n            onUpdateModelValue: (val?: string) => void,\r\n            onUpdateStart: (val?: string) => void,\r\n            onUpdateEnd: (val?: string) => void,\r\n            onUpdateView: (val: DateView) => void,\r\n        },\r\n        useModelConfig?: {\r\n            model?: UseModelConfig,\r\n            start?: UseModelConfig,\r\n            end?: UseModelConfig,\r\n        },\r\n        jdView: UseDateJudgementView,\r\n    }\r\n): UseDateType {\r\n\r\n    /**\r\n     * 邻近父组件\r\n     * @author  韦胜健\r\n     * @date    2020/12/7 20:48\r\n     */\r\n    const parent = inject<UseDateType | null>(DATE_PANEL_PROVIDER, null)\r\n\r\n    /*---------------------------------------state-------------------------------------------*/\r\n\r\n    const displayFormat = getFormatString(props.displayFormat, props.datetime)\r\n    const valueFormat = getFormatString(props.valueFormat, props.datetime)\r\n\r\n    const topState = computed((): UseDateTopState => {\r\n        if (!!parent) {\r\n            return parent.state.topState\r\n        }\r\n        return {\r\n            max: !props.max ? undefined : new PlainDate(props.max, displayFormat, valueFormat),\r\n            min: !props.min ? undefined : new PlainDate(props.min, displayFormat, valueFormat),\r\n            vpd: !model.value && model.value != '0' ? undefined : new PlainDate(model.value, displayFormat, valueFormat),\r\n            hoverRange: state.hoverRange,\r\n            valueRange: state.valueRange,\r\n            range: props.range,\r\n        }\r\n    })\r\n\r\n    const today = !!parent ? parent.today : PlainDate.today(displayFormat, valueFormat)\r\n    const vpd = new PlainDate(props.modelValue, displayFormat, valueFormat)\r\n    const startPd = !!parent || !props.range ? today : new PlainDate(props.start, displayFormat, valueFormat)\r\n    const endPd = !!parent || !props.range ? today : new PlainDate(props.end, displayFormat, valueFormat)\r\n    const tempPd = vpd.copy()\r\n\r\n    const hoverRange: [PlainDateType, PlainDateType] | null = null\r\n    const valueRange: [PlainDateType, PlainDateType] = [startPd, endPd]\r\n\r\n    useModelConfig = useModelConfig || {}\r\n    const model = useModel(() => props.modelValue, emit.onUpdateModelValue, useModelConfig.model)\r\n    const startModel = !!parent || !props.range ? model : useModel(() => props.start, emit.onUpdateStart, useModelConfig.start)\r\n    const endModel = !!parent || !props.range ? model : useModel(() => props.end, emit.onUpdateEnd, useModelConfig.end)\r\n    const viewModel = useModel(() => props.view as DateView, emit.onUpdateView)\r\n\r\n    let selectDate = props.selectDate as (PlainDateType | undefined)\r\n    if (!selectDate) {\r\n        if (!props.range) {\r\n            selectDate = !vpd.isNull ? vpd : today.copy()\r\n        } else {\r\n            selectDate = !startPd.isNull ? startPd : today.copy()\r\n        }\r\n    }\r\n\r\n    /*响应式属性*/\r\n    const state = reactive({\r\n        selectDate,\r\n        hoverRange,\r\n        valueRange,\r\n        slide: SlideTransitionDirection.next,\r\n        topState,\r\n    })\r\n\r\n    const utils = {\r\n        active: (ipd: PlainDateType) => {\r\n            if (!!parent && !!parent.judgementForChild && !!parent.judgementForChild.active) {\r\n                return parent.judgementForChild.active(ipd, jdView)\r\n            }\r\n            const {range, vpd, valueRange: [startPd, endPd]} = topState.value;\r\n            return !!(\r\n                (range ? [startPd, endPd] : [vpd])\r\n                    .filter(i => !!i && !i.isNull)\r\n                    .find(i => i![jdView] == ipd[jdView])\r\n            )\r\n        },\r\n        disabled: (ipd: PlainDateType) => {\r\n            if (!!parent && !!parent.judgementForChild && !!parent.judgementForChild.disabled) {\r\n                return parent.judgementForChild.disabled(ipd, jdView)\r\n            }\r\n            const {max, min} = topState.value\r\n            const val = ipd[jdView]!\r\n            if (!!max && max[jdView]! < val) return true\r\n            if (!!min && min[jdView]! > val) return true\r\n            return false\r\n        },\r\n        hoverStart: (ipd: PlainDateType) => {\r\n            if (!!parent && !!parent.judgementForChild && !!parent.judgementForChild.hoverStart) {\r\n                return parent.judgementForChild.hoverStart(ipd, jdView)\r\n            }\r\n            if (!topState.value.range) {\r\n                return false\r\n            }\r\n            const {hoverRange, valueRange} = topState.value\r\n            const val = ipd[jdView]!\r\n            return !!hoverRange ? (hoverRange[0][jdView] == val) : valueRange[0][jdView] == val\r\n        },\r\n        hover: (ipd: PlainDateType) => {\r\n            if (!!parent && !!parent.judgementForChild && !!parent.judgementForChild.hover) {\r\n                return parent.judgementForChild.hover(ipd, jdView)\r\n            }\r\n            if (!topState.value.range) {\r\n                return false\r\n            }\r\n            const {hoverRange, valueRange} = topState.value\r\n            const val = ipd[jdView]!\r\n            return !!hoverRange ?\r\n                (hoverRange[0][jdView]! < val && hoverRange[1][jdView]! > val) :\r\n                ((!valueRange[0].isNull && !valueRange[1].isNull) &&\r\n                    valueRange[0][jdView]! < val &&\r\n                    valueRange[1][jdView]! > val)\r\n        },\r\n        hoverEnd: (ipd: PlainDateType) => {\r\n            if (!!parent && !!parent.judgementForChild && !!parent.judgementForChild.hoverEnd) {\r\n                return parent.judgementForChild.hoverEnd(ipd, jdView)\r\n            }\r\n            if (!topState.value.range) {\r\n                return false\r\n            }\r\n            const {hoverRange, valueRange} = topState.value\r\n            const val = ipd[jdView]!\r\n            return !!hoverRange ? (hoverRange[1][jdView] == val) : valueRange[1][jdView] == val\r\n        },\r\n    }\r\n\r\n    /*---------------------------------------provide-------------------------------------------*/\r\n\r\n    const provideData: UseDateType = {\r\n        props,\r\n        parent,\r\n        judgementForChild,\r\n        displayFormat,\r\n        valueFormat,\r\n\r\n        today,\r\n        tempPd,\r\n\r\n        model,\r\n        startModel,\r\n        endModel,\r\n        viewModel,\r\n\r\n        state,\r\n\r\n        setSelectDate: (pd) => state.selectDate = pd.isNull ? today.copy() : pd.copy(),\r\n        getStatus: (ipd) => {\r\n            const disabled = utils.disabled(ipd)\r\n            return {\r\n                now: today[jdView] === ipd[jdView],\r\n                active: utils.active(ipd),\r\n                disabled,\r\n                hoverStart: utils.hoverStart(ipd),\r\n                hover: utils.hover(ipd),\r\n                hoverEnd: utils.hoverEnd(ipd),\r\n                range: !!state.topState.range,\r\n                clickable: (!!parent && parent.jdView !== jdView) || !disabled\r\n            }\r\n        },\r\n        jdView,\r\n    }\r\n\r\n    /*只有最顶层日期组件才有资格控制子组件*/\r\n    if (!parent) {\r\n        provide(DATE_PANEL_PROVIDER, provideData)\r\n    }\r\n\r\n    return provideData\r\n\r\n}","import time from './time'\r\nimport TimeBaseColumn from './panel/time-base-column'\r\nimport TimeBasePanel from './panel/time-base-panel'\r\nimport TimeRangePanel from './panel/time-range-panel'\r\nimport TimePanel from './panel/time-panel'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\nimport {TimeServiceGetter} from \"./servce/time-service\";\r\nimport DateTimeInput from '../date-time-input'\r\n\r\nexport default createComponentPlugin(time, {\r\n    exposeComponents: {\r\n        TimeBaseColumn,\r\n        TimeBasePanel,\r\n        TimeRangePanel,\r\n        TimePanel,\r\n    },\r\n    plugins: [\r\n        DateTimeInput,\r\n    ],\r\n    expose: {\r\n        TimeServiceGetter\r\n    },\r\n})","import {computed, Transition} from 'vue'\r\nimport {designComponent} from \"../../../use/designComponent\";\r\nimport {DateEmitRangeType, DatePanelItemWrapper, DatePanelWrapper, DatePublicEmits, DatePublicProps, Dbpid, DefaultDateFormatString, SlideTransitionDirection} from \"../date.utils\";\r\nimport {useDate, UseDateJudgementView} from \"../useDate\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-date-base-panel-year',\r\n    props: {\r\n        ...DatePublicProps,\r\n        displayFormat: {type: String, default: DefaultDateFormatString.year},\r\n        valueFormat: {type: String, default: DefaultDateFormatString.year},\r\n    },\r\n    emits: {\r\n        ...DatePublicEmits,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const {\r\n            state,\r\n            today,\r\n            tempPd,\r\n            setSelectDate,\r\n            model,\r\n            startModel,\r\n            endModel,\r\n            getStatus,\r\n        } = useDate({\r\n            props,\r\n            emit,\r\n            useModelConfig: {\r\n                model: {\r\n                    onChange: (val) => {\r\n                        state.slide = val == null ? SlideTransitionDirection.next : val > data.value.selectYear + 19 ? SlideTransitionDirection.next : SlideTransitionDirection.prev\r\n                        state.selectDate.setYear(val || today.year)\r\n                        setSelectDate(state.selectDate)\r\n                    }\r\n                },\r\n                start: {\r\n                    onChange: (val) => {\r\n                        tempPd.setValue(val)\r\n                        const startPd = tempPd.copy()\r\n                        tempPd.setValue(endModel.value)\r\n                        const endPd = tempPd.copy()\r\n\r\n                        state.valueRange = [startPd, endPd]\r\n                        state.hoverRange = null\r\n\r\n                        state.slide = val == null ? SlideTransitionDirection.next : val > data.value.selectYear + 19 ? SlideTransitionDirection.next : SlideTransitionDirection.prev\r\n                        state.selectDate.setYear(val || today.year)\r\n                        setSelectDate(state.selectDate)\r\n                    }\r\n                },\r\n                end: {\r\n                    onChange: (val) => {\r\n                        tempPd.setValue(startModel.value)\r\n                        const startPd = tempPd.copy()\r\n                        tempPd.setValue(val)\r\n                        const endPd = tempPd.copy()\r\n\r\n                        state.valueRange = [startPd, endPd]\r\n                        state.hoverRange = null\r\n                    }\r\n                }\r\n            },\r\n            jdView: UseDateJudgementView.Y,\r\n        })\r\n\r\n        const data = computed(() => {\r\n            const {selectDate} = state\r\n            let selectYear = selectDate.year!\r\n            selectYear = selectYear - selectYear % 20\r\n\r\n            let list: Dbpid[] = []\r\n\r\n            for (let i = selectYear; i < selectYear + 20; i++) {\r\n                tempPd.setYear(i)\r\n                const ipd = tempPd.copy()\r\n                let item: Dbpid = {\r\n                    label: i,\r\n                    ipd,\r\n                    ...getStatus(ipd),\r\n                }\r\n                list.push(item)\r\n            }\r\n\r\n            return {\r\n                list,\r\n                /*年份面板标题，展示列表中年份的范围*/\r\n                title: `${selectYear}-${selectYear + 19}`,\r\n                /*当前选择的年份*/\r\n                selectYear,\r\n            }\r\n        })\r\n\r\n        const methods = {\r\n            /**\r\n             * 切换上一个年份列表\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 11:17\r\n             */\r\n            prevYearList() {\r\n                state.slide = SlideTransitionDirection.prev\r\n                state.selectDate.setYear(data.value.selectYear - 20)\r\n                setSelectDate(state.selectDate)\r\n            },\r\n            /**\r\n             *\r\n             * @author  切换下一个年份列表\r\n             * @date    2020/4/15 11:18\r\n             */\r\n            nextYearList() {\r\n                state.slide = SlideTransitionDirection.next\r\n                state.selectDate.setYear(data.value.selectYear + 20)\r\n                setSelectDate(state.selectDate)\r\n            },\r\n        }\r\n\r\n        const handler = {\r\n            onClickItem: ({ipd}: Dbpid) => {\r\n                if (!props.range) {\r\n                    model.value = ipd.isNull ? undefined : String(ipd!.year)\r\n                } else {\r\n                    if (!state.hoverRange) {\r\n                        state.hoverRange = [ipd, ipd]\r\n                        state.valueRange = [ipd, ipd]\r\n                    } else {\r\n\r\n                        const [startPd, endPd] = state.hoverRange\r\n\r\n                        startModel.value = startPd.isNull ? undefined : String(startPd.year)\r\n                        endModel.value = endPd.isNull ? undefined : String(endPd.year)\r\n\r\n                        state.hoverRange = null\r\n                        state.valueRange = [startPd, endPd]\r\n\r\n                        emit.onUpdateModelValue(startModel.value, DateEmitRangeType.start)\r\n                        emit.onUpdateModelValue(endModel.value, DateEmitRangeType.end)\r\n                    }\r\n                }\r\n            },\r\n            onMouseenterItem({ipd}: Dbpid) {\r\n                if (!!state.hoverRange) {\r\n                    let mid = state.valueRange[0]\r\n                    state.hoverRange = mid.year! > ipd.year! ? [ipd, mid] : [mid, ipd]\r\n                }\r\n            },\r\n        }\r\n\r\n        return {\r\n            render: () => {\r\n                const Wrapper = DatePanelWrapper({\r\n                    left: <pl-button icon=\"el-icon-d-arrow-left\" mode=\"text\" size=\"mini\" onClick={methods.prevYearList}/>,\r\n                    center: <span class=\"pl-date-base-panel-header-static-label\">{data.value.title}</span>,\r\n                    right: <pl-button icon=\"el-icon-d-arrow-right\" mode=\"text\" size=\"mini\" onClick={methods.nextYearList}/>,\r\n                    content: (<Transition name={`pl-transition-slide-${state.slide}`}>\r\n                        <ul{...{\r\n                            class: 'pl-date-base-panel-year-list',\r\n                            key: data.value.selectYear,\r\n                            direction: \"vertical\"\r\n                        }}>\r\n                            {data.value.list.map(item => DatePanelItemWrapper({\r\n                                item,\r\n                                Node: (<li key={item.label} class=\"pl-date-base-panel-year-item\"/>),\r\n                                onClick: handler.onClickItem,\r\n                                onMouseenter: handler.onMouseenterItem,\r\n                            }))}\r\n                        </ul>\r\n                    </Transition>)\r\n\r\n                })\r\n                return <Wrapper {...{class: 'pl-date-base-panel-year', direction: props.direction,}}/>\r\n            }\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../../use/designComponent\";\r\nimport {DateEmitRangeType, DatePublicEmits, DatePublicProps, DefaultDateFormatString} from \"../date.utils\";\r\nimport {useModel} from \"../../../use/useModel\";\r\nimport {computed, resolveComponent} from 'vue';\r\n\r\nexport const enum DatePanelType {\r\n    year = 'year',\r\n    month = 'month',\r\n    date = 'date',\r\n    datetime = 'datetime',\r\n    week = 'week',\r\n    dates = 'dates',\r\n}\r\n\r\nexport default designComponent({\r\n    name: 'pl-date-panel',\r\n    props: {\r\n        ...DatePublicProps,\r\n        modelValue: {},\r\n        panel: {type: String, default: DatePanelType.date},\r\n    },\r\n    emits: {\r\n        ...DatePublicEmits,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const model = useModel(() => props.modelValue as any, emit.onUpdateModelValue)\r\n        const startModel = useModel(() => props.start, emit.onUpdateStart)\r\n        const endModel = useModel(() => props.end, emit.onUpdateEnd)\r\n\r\n        const handler = {\r\n            onChange: (val: string | undefined, type?: DateEmitRangeType) => {\r\n                if (!props.range) {\r\n                    model.value = val\r\n                } else {\r\n                    if (type === DateEmitRangeType.start) {\r\n                        startModel.value = val\r\n                    } else {\r\n                        endModel.value = val\r\n                    }\r\n                    emit.onUpdateModelValue(val, type)\r\n                }\r\n            }\r\n        }\r\n\r\n        const binding = computed(() => {\r\n            const {range, max, min, displayFormat, valueFormat, firstWeekDay, defaultTime,} = props\r\n            const panel = props.panel as DatePanelType\r\n            const value = model.value\r\n            const start = startModel.value\r\n            const end = endModel.value\r\n            const publicProps = {range, modelValue: value, start, end, max, min, firstWeekDay, defaultTime,}\r\n            const date = range ? 'pl-date-panel-date-range' : 'pl-date-base-panel-date'\r\n\r\n            return {\r\n                name: {\r\n                    year: 'pl-date-base-panel-year',\r\n                    month: 'pl-date-base-panel-month',\r\n                    date: date,\r\n                    datetime: date,\r\n                    week: 'pl-date-panel-week',\r\n                    dates: 'pl-date-panel-dates',\r\n                }[panel] as any,\r\n                attrs: {\r\n                    ...publicProps,\r\n                    onChange: handler.onChange,\r\n                    displayFormat: displayFormat || DefaultDateFormatString[panel],\r\n                    valueFormat: valueFormat || DefaultDateFormatString[panel],\r\n                    datetime: panel === DatePanelType.datetime,\r\n                },\r\n            }\r\n        })\r\n\r\n        return {\r\n            render: () => {\r\n                const {name, attrs} = binding.value\r\n                const Component = resolveComponent(name) as any\r\n                return <Component {...attrs}/>\r\n            }\r\n        }\r\n    },\r\n})","import {createAgentGetter} from \"../../popper/edit/createAgentGetter\";\r\nimport {DatePanelType} from \"../panel/date-panel\";\r\n\r\nexport const DateServiceGetter = createAgentGetter({\r\n    name: 'date',\r\n    render: (attrs) => <pl-date-panel {...attrs}/>,\r\n    defaultPopperAttrs: {\r\n        transition: 'pl-transition-popper-drop',\r\n    },\r\n    defaultRenderAttrs: {\r\n        async onChange() {\r\n            let renderAttrs: any = this.state.option.serviceOption.renderAttrs\r\n            if (typeof renderAttrs === \"function\") renderAttrs = renderAttrs()\r\n            if (!(\r\n                renderAttrs.panel === DatePanelType.datetime ||\r\n                renderAttrs.panel === DatePanelType.dates ||\r\n                renderAttrs.range\r\n            )) {\r\n                this.hide()\r\n            }\r\n        },\r\n    },\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport './date.scss'\r\nimport {StyleProps} from \"../../use/useStyle\";\r\nimport {EditProps} from \"../../use/useEdit\";\r\nimport {DateEmitRangeType, DatePublicEmits, DatePublicProps, DefaultDateFormatString, WeekUtils} from \"./date.utils\";\r\nimport {useModel} from \"../../use/useModel\";\r\nimport {useEditPopperAgent} from \"../popper/edit/useEditPopperAgent\";\r\nimport {DateServiceGetter} from \"./service/date-service\";\r\nimport {useDateTime} from \"../date-time-input/useDateTime\";\r\nimport {delay} from \"plain-utils/utils/delay\";\r\nimport {computed, PropType} from 'vue';\r\nimport {DatePanelType} from \"./panel/date-panel\";\r\nimport {PlainDate, PlainDateType} from \"../../utils/PlainDate\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-date',\r\n    props: {\r\n        ...StyleProps,\r\n        ...EditProps,\r\n        ...DatePublicProps,\r\n        modelValue: {},\r\n        panel: {type: String, default: 'date'},\r\n        collapseTags: {type: Boolean, default: true},\r\n        customWeekString: {type: Function as PropType<(data: { week: number, year: number }) => string>},\r\n    },\r\n    emits: {\r\n        ...DatePublicEmits,\r\n        onBlur: (e: Event) => true,\r\n        onFocus: (e: Event) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const model = useModel(() => props.modelValue as any, emit.onUpdateModelValue)\r\n        const startModel = useModel(() => props.start, emit.onUpdateStart)\r\n        const endModel = useModel(() => props.end, emit.onUpdateEnd)\r\n\r\n        const serviceHandler = {\r\n            onChange: (val: string | undefined, type: DateEmitRangeType) => {\r\n                if (!props.range) {\r\n                    model.value = val\r\n                } else {\r\n                    if (type === 'start') {\r\n                        startModel.value = val\r\n                    } else {\r\n                        endModel.value = val\r\n                        if (props.panel !== DatePanelType.datetime) {\r\n                            agentState.methods.hide()\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            onMousedown: async (e: MouseEvent, type: DateEmitRangeType) => {\r\n                agentState.state.focusCounter++\r\n                await delay(0)\r\n                if (props.panel === 'dates') {\r\n                    refs.plInput!.methods.focus()\r\n                } else if (!props.range) {\r\n                    refs.valueInput!.methods.focus()\r\n                } else {\r\n                    if (type === 'start') {\r\n                        refs.startInput!.methods.focus()\r\n                    } else {\r\n                        refs.endInput!.methods.focus()\r\n                    }\r\n                }\r\n            },\r\n        }\r\n\r\n        const agentState = useEditPopperAgent({\r\n            event: {emit},\r\n            serviceGetter: DateServiceGetter,\r\n            option: {\r\n                reference: () => refs.plInput as any,\r\n                renderAttrs: () => ({\r\n                    ...(Object.keys(DatePublicProps).reduce((ret: any, key) => {\r\n                        ret[key] = (props as any)[key]\r\n                        return ret\r\n                    }, {})),\r\n                    panel: props.panel,\r\n                    modelValue: model.value,\r\n                    start: startModel.value,\r\n                    end: endModel.value,\r\n                    ...serviceHandler,\r\n                })\r\n            },\r\n        })\r\n\r\n        const {\r\n            refs,\r\n            handler,\r\n            inputValue,\r\n        } = useDateTime({\r\n            value: model,\r\n            start: startModel,\r\n            end: endModel,\r\n            props,\r\n            agentState,\r\n            emit,\r\n        })\r\n\r\n        /*---------------------------------------computed-------------------------------------------*/\r\n\r\n        const displayFormat = computed(() => props.displayFormat || DefaultDateFormatString[props.panel as DatePanelType])\r\n        const valueFormat = computed(() => props.valueFormat || DefaultDateFormatString[props.panel as DatePanelType])\r\n\r\n        const formatData = computed(() => {\r\n\r\n            if (props.panel === 'dates') {\r\n                let value = (model.value || []) as string[]\r\n                const valuePds = value.map(item => new PlainDate(item, displayFormat.value, valueFormat.value))\r\n                const datesString = valuePds.map(item => item.displayString)\r\n                return {\r\n                    value: valuePds,\r\n                    datesString,\r\n                }\r\n            }\r\n\r\n            const value = new PlainDate(model.value, displayFormat.value, valueFormat.value)\r\n            const start = new PlainDate(startModel.value, displayFormat.value, valueFormat.value)\r\n            const end = new PlainDate(endModel.value, displayFormat.value, valueFormat.value)\r\n\r\n            return {\r\n                value, start, end\r\n            }\r\n        })\r\n\r\n        const inputAttrs = computed(() => {\r\n            const {panel} = props\r\n            const isDates = panel === 'dates'\r\n            return {\r\n                class: [\r\n                    'pl-date',\r\n                    {\r\n                        'pl-input-custom': !isDates,\r\n                        'pl-input-tags': isDates,\r\n                    },\r\n                ],\r\n                modelValue: Array.isArray(inputValue.value) ? inputValue.value.join('') : inputValue.value,\r\n                suffixIcon: 'el-icon-date',\r\n                clearIcon: true,\r\n                isFocus: agentState.state.focusCounter > 0,\r\n                width: isDates ? undefined : null,\r\n                inputInnerTabindex: isDates ? 0 : null,\r\n                clearHandler: handler.clearHandler,\r\n\r\n                ...agentState.inputHandler,\r\n                onClickInput: handler.clickInput,\r\n            }\r\n        })\r\n\r\n        const displayString = computed(() => {\r\n\r\n            if (props.panel !== DatePanelType.week) {\r\n                return {\r\n                    value: (formatData.value.value as PlainDateType).displayString,\r\n                    start: formatData.value.start!.displayString,\r\n                    end: formatData.value.end!.displayString,\r\n                }\r\n            } else {\r\n\r\n                if (!props.range) {\r\n                    const value = WeekUtils.getWeekNumber((formatData.value.value as PlainDateType).valueString!, {valueFormat: valueFormat.value, firstWeekDay: props.firstWeekDay})\r\n                    return {\r\n                        value: !value.year ? '' : !!props.customWeekString ? props.customWeekString(value as any) : `${value.year}年 第${value.week}周`\r\n                    }\r\n                } else {\r\n                    const start = WeekUtils.getWeekNumber((formatData.value.start!).valueString!, {valueFormat: valueFormat.value, firstWeekDay: props.firstWeekDay})\r\n                    const end = WeekUtils.getWeekNumber((formatData.value.end!).valueString!, {valueFormat: valueFormat.value, firstWeekDay: props.firstWeekDay})\r\n                    return {\r\n                        start: !start.year ? '' : !!props.customWeekString ? props.customWeekString(start as any) : `${start.year}年 第${start.week}周`,\r\n                        end: !end.year ? '' : !!props.customWeekString ? props.customWeekString(end as any) : `${end.year}年 第${end.week}周`,\r\n                    }\r\n                }\r\n            }\r\n        })\r\n\r\n        /*---------------------------------------custom handler-------------------------------------------*/\r\n\r\n        const customHandler = {\r\n            onInputChange(val: string | undefined, type: 'value' | 'start' | 'end') {\r\n                if (props.panel === 'dates') {\r\n                    model.value = val\r\n                }\r\n                const {value, start, end} = formatData.value as { value: PlainDateType, start: PlainDateType, end: PlainDateType }\r\n                switch (type) {\r\n                    case 'value':\r\n\r\n                        if (!val) {\r\n                            value.setValue(undefined)\r\n                            model.value = undefined\r\n                            return;\r\n                        }\r\n                        if (value.format(value.parseDisplayString(val)) != val) {\r\n                            return;\r\n                        }\r\n\r\n                        value.setDisplayValue(val)\r\n                        model.value = value.valueString!\r\n\r\n                        break\r\n                    case 'start':\r\n\r\n                        if (!val) {\r\n                            return;\r\n                        }\r\n                        if (start.format(start.parseDisplayString(val)) != val) {\r\n                            return;\r\n                        }\r\n\r\n                        start.setDisplayValue(val)\r\n                        startModel.value = start.valueString!\r\n\r\n                        if (end.isNull || (!!props.datetime ? start.YMDHms! > end.YMDHms! : start.YMD! > end.YMD!)) {\r\n                            endModel.value = start.valueString!\r\n                        }\r\n\r\n                        break\r\n                    case 'end':\r\n\r\n                        if (!val) {\r\n                            return;\r\n                        }\r\n                        if (end.format(end.parseDisplayString(val)) != val) {\r\n                            return;\r\n                        }\r\n\r\n                        end.setDisplayValue(val)\r\n                        endModel.value = end.valueString!\r\n\r\n                        if (start.isNull || (!!props.datetime ? start.YMDHms! > end.YMDHms! : start.YMD! > end.YMD!)) {\r\n                            startModel.value = end.valueString!\r\n                        }\r\n\r\n                        break\r\n                }\r\n            },\r\n            onClickItemCloseIcon(item: string, index: number, e: MouseEvent) {\r\n                e.stopPropagation()\r\n                e.preventDefault()\r\n\r\n                if (!agentState.editComputed.value.editable) {\r\n                    return\r\n                }\r\n                const value = model.value as any as string[]\r\n                value.splice(index, 1)\r\n                model.value = [...value] as any\r\n            },\r\n        }\r\n\r\n        return {\r\n            render: () => {\r\n                return (\r\n                    <pl-input ref=\"plInput\"{...inputAttrs.value}>\r\n                        <div {...{class: 'pl-input-custom-inner', range: props.range}}>\r\n\r\n\r\n                            {props.panel === DatePanelType.dates && (<pl-input-inner-tags\r\n                                data={formatData.value.datesString}\r\n                                collapseTags={props.collapseTags}\r\n                                v-slots={{\r\n                                    default: ({item, index}: { item: string, index: number }) => (<>\r\n                                        <span>{item}</span>\r\n                                        <pl-icon icon=\"el-icon-close\" onClick={(e: MouseEvent) => customHandler.onClickItemCloseIcon(item, index, e)}/>\r\n                                    </>)\r\n                                }}\r\n                            />)}\r\n\r\n                            {props.panel !== DatePanelType.dates && (\r\n                                !props.range ? (<pl-date-time-input\r\n                                        modelValue={displayString.value.value}\r\n                                        ref=\"valueInput\"\r\n                                        onChange={(val: string) => customHandler.onInputChange(val, 'value')}\r\n                                        displayFormat={displayFormat.value}\r\n                                        onFocus={handler.customInputFocus}\r\n                                        onBlur={handler.customInputBlur}\r\n                                    />) :\r\n                                    <>\r\n                                        <pl-date-time-input\r\n                                            width=\"100\"\r\n                                            modelValue={displayString.value.start}\r\n                                            ref=\"startInput\"\r\n                                            displayFormat={displayFormat.value}\r\n                                            onChange={(val: string) => customHandler.onInputChange(val, 'start')}\r\n                                            onFocus={handler.customInputFocus}\r\n                                            onBlur={handler.customInputBlur}\r\n                                        />\r\n                                        <span>~</span>\r\n                                        <pl-date-time-input\r\n                                            width=\"100\"\r\n                                            modelValue={displayString.value.end}\r\n                                            ref=\"endInput\"\r\n                                            onChange={(val: string) => customHandler.onInputChange(val, 'end')}\r\n                                            displayFormat={displayFormat.value}\r\n                                            onFocus={handler.customInputFocus}\r\n                                            onBlur={handler.customInputBlur}\r\n                                        />\r\n                                    </>\r\n                            )}\r\n\r\n                        </div>\r\n                    </pl-input>\r\n                )\r\n            }\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../../use/designComponent\";\r\nimport {DateEmitRangeType, DatePanelItemWrapper, DatePanelWrapper, DatePublicEmits, DatePublicProps, DateView, Dbpid, DefaultDateFormatString, SlideTransitionDirection} from '../date.utils';\r\nimport {computed, Transition} from 'vue';\r\nimport {useDate, UseDateJudgementView} from \"../useDate\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-date-base-panel-month',\r\n    props: {\r\n        ...DatePublicProps,\r\n\r\n        displayFormat: {type: String, default: DefaultDateFormatString.month},\r\n        valueFormat: {type: String, default: DefaultDateFormatString.month},\r\n        view: {type: String, default: DateView.month},\r\n    },\r\n    emits: {\r\n        ...DatePublicEmits,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const months = computed(() => ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月',])\r\n\r\n        const {\r\n            state,\r\n            setSelectDate,\r\n            today,\r\n            tempPd,\r\n            model,\r\n            startModel,\r\n            endModel,\r\n            viewModel,\r\n            getStatus,\r\n        } = useDate({\r\n            props,\r\n            emit,\r\n            useModelConfig: {\r\n                model: {\r\n                    onChange: val => {\r\n                        // 这个val 是按照displayFormat和valueFormat格式的字符串，不能直接 setSelectYear 赋值\r\n                        if (!val) {\r\n                            methods.setSelectYear(today.year!)\r\n                        } else {\r\n                            tempPd.setValue(val)\r\n                            methods.setSelectYear(tempPd.year!)\r\n                        }\r\n                    }\r\n                },\r\n                start: {\r\n                    onChange: val => {\r\n                        tempPd.setValue(val)\r\n                        const startPd = tempPd.copy()\r\n                        tempPd.setValue(endModel.value)\r\n                        const endPd = tempPd.copy()\r\n                        state.valueRange = [startPd, endPd]\r\n                        state.hoverRange = null\r\n                        methods.setSelectYear(startPd.year || today.year!)\r\n                    }\r\n                },\r\n                end: {\r\n                    onChange: val => {\r\n                        tempPd.setValue(startModel.value)\r\n                        const startPd = tempPd.copy()\r\n                        tempPd.setValue(val)\r\n                        const endPd = tempPd.copy()\r\n\r\n                        state.valueRange = [startPd, endPd]\r\n                        state.hoverRange = null\r\n                    }\r\n                },\r\n            },\r\n            jdView: UseDateJudgementView.YM,\r\n        })\r\n\r\n        const methods = {\r\n            /**\r\n             * 设置当前选择的年份\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 11:12\r\n             */\r\n            setSelectYear(target: number) {\r\n                if (!target) {\r\n                    target = today.year!\r\n                }\r\n                state.slide = state.selectDate.year! > target ? SlideTransitionDirection.prev : SlideTransitionDirection.next\r\n                state.selectDate.setYear(target)\r\n                setSelectDate(state.selectDate)\r\n            },\r\n            /**\r\n             * 切换到上一年\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 11:12\r\n             */\r\n            prevYear() {\r\n                state.slide = SlideTransitionDirection.prev\r\n                state.selectDate.setYear(state.selectDate.year! - 1)\r\n                setSelectDate(state.selectDate)\r\n            },\r\n            /**\r\n             * 切换到下一年\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 11:12\r\n             */\r\n            nextYear() {\r\n                state.slide = SlideTransitionDirection.next\r\n                state.selectDate.setYear(state.selectDate.year! + 1)\r\n                setSelectDate(state.selectDate)\r\n            },\r\n        }\r\n\r\n        const monthList = computed(() => {\r\n            const {selectDate} = state\r\n            let list: Dbpid[] = [];\r\n            [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11].forEach(i => {\r\n                tempPd.setYear(selectDate.year!)\r\n                tempPd.setMonthDate(i, 1)\r\n                const ipd = tempPd.copy()\r\n                const item = {\r\n                    label: months.value[i],\r\n                    ipd,\r\n                    ...getStatus(ipd),\r\n                }\r\n                list.push(item)\r\n            })\r\n            return list\r\n        })\r\n\r\n        const handler = {\r\n            /**\r\n             * 处理点击月份元素的动作\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 11:13\r\n             */\r\n            onClickItem({ipd}: Dbpid) {\r\n\r\n                const temp = state.selectDate.copy()\r\n                temp.setMonthDate(ipd.month!, 1)\r\n\r\n                if (!props.range) {\r\n                    model.value = temp.valueString!\r\n                } else {\r\n\r\n                    if (!state.hoverRange) {\r\n\r\n                        temp.setMonthDate(ipd.month!, 1)\r\n                        state.hoverRange = [temp, temp]\r\n                        state.valueRange = [temp, temp]\r\n\r\n                    } else {\r\n                        const [startPd, endPd] = state.hoverRange\r\n\r\n                        startModel.value = startPd.valueString!\r\n                        endModel.value = endPd.valueString!\r\n\r\n                        state.hoverRange = null\r\n                        state.valueRange = [startPd, endPd]\r\n\r\n                        emit.onUpdateModelValue(startModel.value, DateEmitRangeType.start)\r\n                        emit.onUpdateModelValue(endModel.value, DateEmitRangeType.end)\r\n                    }\r\n                }\r\n            },\r\n            /**\r\n             * 处理鼠标进入月份元素的动作\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 11:13\r\n             */\r\n            onMouseEnterItem({ipd}: Dbpid) {\r\n                if (!!state.hoverRange) {\r\n                    let midPd = state.valueRange[0]\r\n                    const temp = state.selectDate.copy()\r\n                    temp.setMonthDate(ipd.month!, 1)\r\n                    state.hoverRange = midPd.YM! > temp.YM! ? [temp, midPd] : [midPd, temp]\r\n                }\r\n            },\r\n            /**\r\n             * 处理年份面板选择年份变化动作\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 11:14\r\n             */\r\n            onSelectYearChange(val: number) {\r\n                viewModel.value = DateView.month\r\n                state.selectDate.setYear(val)\r\n                setSelectDate(state.selectDate)\r\n            },\r\n        }\r\n\r\n        return {\r\n            render: () => {\r\n\r\n                const Month = DatePanelWrapper({\r\n                    left: <pl-button icon=\"el-icon-d-arrow-left\" mode=\"text\" size=\"mini\" onClick={methods.prevYear}/>,\r\n                    center: <span onClick={() => viewModel.value = DateView.year}>{state.selectDate.year}</span>,\r\n                    right: <pl-button icon=\"el-icon-d-arrow-right\" mode=\"text\" size=\"mini\" onClick={methods.nextYear}/>,\r\n                    content: (\r\n                        <Transition name={`pl-transition-slide-${state.slide}`}>\r\n                            <ul {...{\r\n                                class: 'pl-date-base-panel-month-list',\r\n                                key: state.selectDate.year!,\r\n                                direction: 'vertical'\r\n                            }}>\r\n                                {monthList.value.map(item => (DatePanelItemWrapper({\r\n                                    item,\r\n                                    onClick: handler.onClickItem,\r\n                                    onMouseenter: handler.onMouseEnterItem,\r\n                                    Node: <li class=\"pl-date-base-panel-month-item\" key={item.month}/>,\r\n                                })))}\r\n                            </ul>\r\n                        </Transition>\r\n                    )\r\n                }) as any\r\n\r\n                const Wrapper = (\r\n                    <div {...{\r\n                        class: 'pl-date-base-panel pl-date-base-panel-month-wrapper',\r\n                        direction: props.direction,\r\n                    }}>\r\n                        <Transition name={`pl-transition-slide-${viewModel.value === DateView.year ? 'prev' : 'next'}`}>\r\n                            {viewModel.value === DateView.month ? <Month {...{class: 'pl-date-base-panel-month', direction: 'horizontal'}}/> : (\r\n                                <pl-date-base-panel-year\r\n                                    modelValue={String(state.selectDate.year)}\r\n                                    onChange={handler.onSelectYearChange}\r\n                                    direction=\"horizontal\"/>\r\n                            )}\r\n                        </Transition>\r\n                    </div>\r\n                ) as any\r\n\r\n                return <Wrapper/>\r\n            }\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../../use/designComponent\";\r\nimport {DatePanelItemWrapper, DatePanelWrapper, DatePublicEmits, DatePublicProps, DateView, DateViewSeq, Dbpid, SlideTransitionDirection} from \"../date.utils\";\r\nimport {useDate, UseDateJudgementView} from \"../useDate\";\r\nimport {PlainDate, PlainDateType} from \"../../../utils/PlainDate\";\r\nimport {computed, Transition, watch} from 'vue';\r\nimport {zeroize} from \"plain-utils/string/zeroize\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-date-base-panel-date',\r\n    props: {\r\n        ...DatePublicProps,\r\n        view: {type: String, default: DateView.date},\r\n    },\r\n    emits: {\r\n        ...DatePublicEmits,\r\n        onUpdateModelValue: (val?: string, ipd?: PlainDateType) => true,\r\n        onClickItem: (ipd: PlainDateType) => true,\r\n        onSelectTime: (val: string) => true,\r\n        onMouseenterItem: (item: Dbpid) => true,\r\n        onSelectDateChange: (ipd: PlainDateType) => true,\r\n        onMouseleaveDateList: (e: MouseEvent) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const {\r\n            state,\r\n            today,\r\n            tempPd,\r\n            model,\r\n            viewModel,\r\n            getStatus,\r\n            setSelectDate,\r\n            displayFormat,\r\n            valueFormat,\r\n        } = useDate({\r\n            props,\r\n            emit,\r\n            useModelConfig: {\r\n                model: {\r\n                    autoEmit: false,\r\n                    onChange: (val) => !props.selectDate && utils.setSelectDate(val, false)\r\n                },\r\n            },\r\n            jdView: UseDateJudgementView.YMD,\r\n        })\r\n\r\n        const utils = {\r\n            /**\r\n             * 设置当前面板的年月\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 10:57\r\n             */\r\n            setSelectDate: (val: string | PlainDateType | undefined, autoEmit = true) => {\r\n                if (!val || typeof val == \"string\") {\r\n                    tempPd.setValue(val)\r\n                    setSelectDate(tempPd)\r\n                } else {\r\n                    setSelectDate(val)\r\n                }\r\n                if (autoEmit) {\r\n                    emit.onSelectDateChange(state.selectDate)\r\n                }\r\n            },\r\n            /**\r\n             * 派发值变化事件，先校验值是否大于最大值，小于最小值，是则取最大值（最小值）\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 10:58\r\n             */\r\n            emitValue(valueString: string) {\r\n                const {max, min} = state.topState\r\n                let vpd = new PlainDate(valueString, displayFormat, valueFormat)\r\n                if (!!max && !max.isNull && (!!props.datetime ? (vpd.YMDHms! > max.YMDHms) : (vpd.YMD! > max.YMD))) {\r\n                    vpd = max\r\n                } else if (!!min && !min.isNull && (!!props.datetime ? (vpd.YMDHms! < min.YMDHms) : (vpd.YMD! < min.YMD))) {\r\n                    vpd = min\r\n                }\r\n                model.value = vpd.valueString!\r\n                emit.onUpdateModelValue(model.value, vpd)\r\n            },\r\n        }\r\n\r\n        /*---------------------------------------computer-------------------------------------------*/\r\n\r\n        const weekList = computed(() => {\r\n            const weeks = ['日', '一', '二', '三', '四', '五', '六']\r\n            return weeks.slice(props.firstWeekDay).concat(weeks.slice(0, props.firstWeekDay))\r\n        })\r\n\r\n        const dateList = computed(() => {\r\n            const {selectDate} = state\r\n            tempPd.setYear(selectDate.year!)\r\n            tempPd.setMonthDate(selectDate.month!, 1)\r\n            const currentMonthFirstDate = tempPd.copy()\r\n            let weekDayDuration = currentMonthFirstDate.day! - props.firstWeekDay\r\n            let offsetDay = weekDayDuration === 0 ? 7 : weekDayDuration > 0 ? weekDayDuration : 7 + weekDayDuration\r\n            let firstDateTime = new Date(currentMonthFirstDate.time! - (offsetDay) * 24 * 60 * 60 * 1000).getTime()\r\n            let list: Dbpid[] = []\r\n            for (let i = 0; i < 42; i++) {\r\n                const ipd = tempPd.copy()\r\n                ipd.setTime(firstDateTime)\r\n                let item = {\r\n                    ipd,\r\n                    label: ipd.date!,\r\n                    ...getStatus(ipd),\r\n                    isSelectMonth: ipd.YM === selectDate.YM,\r\n                }\r\n\r\n                list.push(item)\r\n                firstDateTime += 24 * 60 * 60 * 1000\r\n            }\r\n            return list\r\n        })\r\n\r\n        const defaultTimePd = computed(() => {\r\n            const pd = new PlainDate(props.defaultTime, 'HH:mm:ss', 'HH:mm:ss')\r\n            if (pd.isNull) {\r\n                const now = new Date()\r\n                pd.setHms(now.getHours(), now.getMinutes(), now.getSeconds())\r\n            }\r\n            return pd\r\n        })\r\n\r\n        /*---------------------------------------attrs-------------------------------------------*/\r\n\r\n        const monthAttrs = computed(() => ({\r\n            modelValue: state.selectDate.valueString,\r\n            displayFormat,\r\n            valueFormat,\r\n            view: viewModel.value,\r\n            onChange: handler.onSelectMonthChange,\r\n        }))\r\n\r\n        const timeAttrs = computed(() => {\r\n\r\n            tempPd.setValue(model.value)\r\n            const vpd = tempPd.copy()\r\n            const timePd = defaultTimePd.value.copy()\r\n\r\n            /*此时tempPd存有model.value的时间，如果不为空，则设置时间得model.value的时间*/\r\n            if (!tempPd.isNull) {\r\n                timePd.setHms(tempPd)\r\n            }\r\n\r\n            const attrs = {\r\n                modelValue: timePd.valueString,\r\n                displayFormat: 'HH:mm:ss',\r\n                valueFormat: 'HH:mm:ss',\r\n                max: undefined as undefined | string | null,\r\n                min: undefined as undefined | string | null,\r\n                onChange: handler.onSelectTime,\r\n            }\r\n\r\n            const {max, min} = state.topState\r\n\r\n            if (!!vpd && !vpd.isNull) {\r\n                /*限制最大最小值*/\r\n                if (!!max && !max.isNull) {\r\n                    if (max.YMD <= vpd.YMD) {\r\n                        let tempDefaultTime = timePd.copy()\r\n                        tempDefaultTime.setHms(max)\r\n                        attrs.max = tempDefaultTime.valueString\r\n                    }\r\n                }\r\n\r\n                if (!!min && !min.isNull) {\r\n                    if (min.YMD >= vpd.YMD) {\r\n                        let tempDefaultTime = timePd.copy()\r\n                        tempDefaultTime.setHms(min)\r\n                        attrs.min = tempDefaultTime.valueString\r\n                    }\r\n                }\r\n            }\r\n\r\n            return attrs\r\n\r\n        })\r\n\r\n        const showTimePd = computed(() => {\r\n            const value = new PlainDate(model.value, displayFormat, valueFormat)\r\n            return value.isNull ? state.selectDate : value\r\n        })\r\n\r\n        /*---------------------------------------methods-------------------------------------------*/\r\n\r\n        const methods = {\r\n            /**\r\n             * 面板切换到上一年\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 10:56\r\n             */\r\n            prevYear() {\r\n                state.selectDate.setYear(state.selectDate.year! - 1)\r\n                utils.setSelectDate(state.selectDate.copy())\r\n            },\r\n            /**\r\n             * 面板切换到下一年\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 10:56\r\n             */\r\n            nextYear() {\r\n                state.selectDate.setYear(state.selectDate.year! + 1)\r\n                utils.setSelectDate(state.selectDate.copy())\r\n            },\r\n            /**\r\n             * 面板切换到上一个月份\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 10:56\r\n             */\r\n            prevMonth() {\r\n                state.selectDate.setMonthDate(state.selectDate.month! - 1, 1)\r\n                utils.setSelectDate(state.selectDate.copy())\r\n            },\r\n            /**\r\n             * 面板切换到下一个月份\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 10:56\r\n             */\r\n            nextMonth() {\r\n                state.selectDate.setMonthDate(state.selectDate.month! + 1, 1)\r\n                utils.setSelectDate(state.selectDate.copy())\r\n            },\r\n            /**\r\n             * 切换视图，确定动画方向\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 10:57\r\n             */\r\n            changeView(view: DateView) {\r\n                if (view === viewModel.value) return\r\n                const oldSeq = DateViewSeq[viewModel.value]\r\n                const newSeq = DateViewSeq[view]\r\n                state.slide = newSeq > oldSeq ? SlideTransitionDirection.next : SlideTransitionDirection.prev\r\n                viewModel.value = view\r\n            },\r\n        }\r\n\r\n        /*---------------------------------------handler-------------------------------------------*/\r\n\r\n        const handler = {\r\n            /**\r\n             * 点击日期元素处理动作\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 10:58\r\n             */\r\n            onClickItem({ipd}: Dbpid) {\r\n                const defaultTime = defaultTimePd.value\r\n                const vpd = new PlainDate(model.value, displayFormat, valueFormat)\r\n                ipd = ipd.copy()\r\n                if (!vpd.isNull) {\r\n                    ipd!.setHms(vpd)\r\n                } else {\r\n                    ipd!.setHms(defaultTime)\r\n                }\r\n\r\n                emit.onClickItem(ipd)\r\n                utils.emitValue(ipd.valueString!)\r\n            },\r\n            /**\r\n             * 处理选择时间处理动作\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 10:58\r\n             */\r\n            onSelectTime(val: string) {\r\n                const {selectDate} = state\r\n                const vpd = new PlainDate(model.value, displayFormat, valueFormat)\r\n                const defaultTime = defaultTimePd.value\r\n\r\n                const tempPd = defaultTime.copy()\r\n                tempPd.setValue(val)\r\n\r\n                if (vpd.isNull) {\r\n                    vpd.setYear(selectDate.year!)\r\n                    vpd.setMonthDate(selectDate.month!, selectDate.date!)\r\n                }\r\n\r\n                vpd.setHms(tempPd)\r\n\r\n                utils.emitValue(vpd.valueString!)\r\n                emit.onSelectTime(val)\r\n            },\r\n            /**\r\n             * 月份选择面板的值发生变化之后，改变视图\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 10:59\r\n             */\r\n            onSelectMonthChange(val: string) {\r\n                state.selectDate.setValue(val)\r\n                utils.setSelectDate(state.selectDate.copy())\r\n                methods.changeView(DateView.date)\r\n            },\r\n        }\r\n\r\n        watch(() => props.selectDate, (val) => state.selectDate = val || today.copy())\r\n\r\n        const render = {\r\n            date: () => {\r\n                const Wrapper: any = DatePanelWrapper({\r\n                    left: (<>\r\n                        <pl-button icon=\"el-icon-d-arrow-left\" mode=\"text\" size=\"mini\" onClick={methods.prevYear}/>\r\n                        <pl-button icon=\"el-icon-arrow-left\" mode=\"text\" size=\"mini\" onClick={methods.prevMonth}/>\r\n                    </>),\r\n                    center: (<>\r\n                        <span onClick={() => methods.changeView(DateView.year)}>{state.selectDate.year}</span>\r\n                        -\r\n                        <span onClick={() => methods.changeView(DateView.month)}>{zeroize(state.selectDate.month! + 1)}</span>\r\n                        {!!props.datetime && (<span class=\"pl-date-base-panel-date-time-label\" onClick={() => methods.changeView(DateView.time)}>\r\n                        {timeAttrs.value.modelValue}\r\n                    </span>)}\r\n                    </>),\r\n                    right: (<>\r\n                        <pl-button icon=\"el-icon-arrow-right\" mode=\"text\" size=\"mini\" onClick={methods.nextMonth}/>\r\n                        <pl-button icon=\"el-icon-d-arrow-right\" mode=\"text\" size=\"mini\" onClick={methods.nextYear}/>\r\n                    </>),\r\n                    content: (<>\r\n                        <ul class=\"pl-date-base-panel-date-week-list\">\r\n                            {weekList.value.map(item => (\r\n                                <li class=\"pl-date-base-panel-item pl-date-base-panel-date-week-item\" key={item}>\r\n                                    <div><span>{item}</span></div>\r\n                                </li>\r\n                            ))}\r\n                        </ul>\r\n                        <pl-list class=\"pl-date-base-panel-date-list\" tag=\"ul\" onMouseleave={emit.onMouseleaveDateList}>\r\n                            {dateList.value.map((item, index) => (\r\n                                DatePanelItemWrapper({\r\n                                    item,\r\n                                    onClick: handler.onClickItem,\r\n                                    onMouseenter: emit.onMouseenterItem,\r\n                                    Node: <pl-item\r\n                                        {...{\r\n                                            tag: 'li',\r\n                                            class: ['pl-date-base-panel-date-item', {'pl-date-base-panel-date-item-other-month': !item.isSelectMonth,}],\r\n                                            key: item.isSelectMonth ? item.ipd!.date : `_${index}`,\r\n                                        }}\r\n                                    />,\r\n                                })\r\n                            ))}\r\n                        </pl-list>\r\n                    </>),\r\n                })\r\n                return <Wrapper {...{class: 'pl-date-base-panel-date', direction: 'horizontal', key: 'date'}}/>\r\n            },\r\n            month: () => {\r\n                return <pl-date-base-panel-month {...monthAttrs.value} direction=\"horizontal\" key={viewModel.value}/>\r\n            },\r\n            time: () => {\r\n                const Wrapper: any = DatePanelWrapper({\r\n                    center: (<><span onClick={() => methods.changeView(DateView.date)}>\r\n                                {showTimePd.value.year}-{zeroize(showTimePd.value.month! + 1)}-{zeroize(showTimePd.value.date!)}\r\n                            </span></>),\r\n                    content: <pl-time-panel {...timeAttrs.value}/>,\r\n                })\r\n                return <Wrapper {...{class: 'pl-date-base-panel-time', direction: 'horizontal', key: 'time'}}/>\r\n            },\r\n        }\r\n\r\n        return {\r\n            render: () => (\r\n                <div class=\"pl-date-base-panel-date-wrapper pl-date-base-panel\">\r\n                    <Transition name={`pl-transition-slide-${state.slide}`}>\r\n                        {render[viewModel.value === DateView.year ? DateView.month : viewModel.value]()}\r\n                    </Transition>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../../use/designComponent\";\r\nimport {DateEmitRangeType, DatePublicEmits, DatePublicProps, DateView, Dbpid} from \"../date.utils\";\r\nimport {useDate, UseDateJudgementView} from \"../useDate\";\r\nimport {computed, nextTick} from 'vue';\r\nimport {PlainDate, PlainDateType} from \"../../../utils/PlainDate\";\r\n\r\nconst DefaultTime = {\r\n    start: '00:00:00',\r\n    end: '23:59:59'\r\n}\r\n\r\nexport default designComponent({\r\n    name: 'pl-date-panel-date-range',\r\n    props: {\r\n        ...DatePublicProps,\r\n\r\n        range: {type: Boolean, default: true},\r\n        view: {type: String, default: DateView.date}\r\n    },\r\n    emits: {\r\n        ...DatePublicEmits,\r\n        mousedown: (e: MouseEvent, type: DateEmitRangeType) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const {\r\n            today,\r\n            tempPd,\r\n            state,\r\n            startModel,\r\n            endModel,\r\n            displayFormat,\r\n            valueFormat,\r\n        } = useDate({\r\n            props,\r\n            emit,\r\n            useModelConfig: {\r\n                model: {\r\n                    autoEmit: false,\r\n                },\r\n                start: {\r\n                    autoEmit: false,\r\n                    onChange: val => {\r\n                        tempPd.setValue(val)\r\n                        const startPd = tempPd.copy()\r\n                        tempPd.setValue(endModel.value)\r\n                        const endPd = tempPd.copy()\r\n                        state.valueRange = [startPd, endPd]\r\n                        state.hoverRange = null\r\n                        state.selectDate = startPd.isNull ? today.copy() : startPd.copy()\r\n                    },\r\n                },\r\n                end: {\r\n                    autoEmit: false,\r\n                    onChange: val => {\r\n                        tempPd.setValue(startModel.value)\r\n                        const startPd = tempPd.copy()\r\n                        tempPd.setValue(val)\r\n                        const endPd = tempPd.copy()\r\n                        state.valueRange = [startPd, endPd]\r\n                        state.hoverRange = null\r\n                    }\r\n                }\r\n            },\r\n            jdView: UseDateJudgementView.YMD,\r\n        })\r\n\r\n        const formatData = computed(() => {\r\n\r\n            const start = startModel.value\r\n            const end = endModel.value\r\n\r\n            const pdStart = new PlainDate(start, displayFormat, valueFormat)\r\n            const pdEnd = new PlainDate(end, displayFormat, valueFormat)\r\n\r\n            const pdStartTime = new PlainDate(props.defaultStartTime || DefaultTime.start, 'HH:mm:ss', 'HH:mm:ss');\r\n            const pdEndTime = new PlainDate(props.defaultEndTime || DefaultTime.end, 'HH:mm:ss', 'HH:mm:ss');\r\n\r\n            !pdStart.isNull && pdStartTime.setHms(pdStart);\r\n            !pdEnd.isNull && pdEndTime.setHms(pdEnd);\r\n\r\n            return {\r\n                pdStart,\r\n                pdEnd,\r\n                pdStartTime,\r\n                pdEndTime,\r\n            }\r\n        })\r\n\r\n        const binding = computed(() => {\r\n\r\n            const selectDate = state.selectDate.copy()\r\n            const publicProps = Object.keys(DatePublicProps).reduce((ret, key) => {\r\n                (ret as any)[key] = (props as any)[key]\r\n                return ret\r\n            }, {})\r\n            Object.assign(publicProps, {\r\n                displayFormat: displayFormat,\r\n                valueFormat: valueFormat,\r\n                range: true\r\n            })\r\n            const start = {\r\n                ...publicProps,\r\n                selectDate: selectDate,\r\n                modelValue: startModel.value,\r\n                defaultTime: props.defaultStartTime || DefaultTime.start,\r\n\r\n                onSelectDateChange: (val: PlainDateType) => state.selectDate = val.copy(),\r\n                onMouseenterItem: handler.onMouseenterItem,\r\n                onClickItem: handler.onClickItem,\r\n                onSelectTime: (val: string) => handler.onSelectTime(val, DateEmitRangeType.start),\r\n                onMousedown: (e: MouseEvent) => emit.mousedown(e, DateEmitRangeType.start),\r\n            }\r\n\r\n            const endSelectDate = selectDate.copy()\r\n            endSelectDate.setMonthDate(endSelectDate.month! + 1, 1)\r\n            const end = {\r\n                ...publicProps,\r\n                selectDate: endSelectDate,\r\n                modelValue: endModel.value,\r\n                defaultTime: props.defaultEndTime || DefaultTime.end,\r\n\r\n                onSelectDateChange: (val: PlainDateType) => {\r\n                    val.setMonthDate(val.month! - 1, 1)\r\n                    state.selectDate = val.copy()\r\n                },\r\n                onMouseenterItem: handler.onMouseenterItem,\r\n                onClickItem: handler.onClickItem,\r\n                onSelectTime: (val: string) => handler.onSelectTime(val, DateEmitRangeType.end),\r\n                onMousedown: (e: MouseEvent) => emit.mousedown(e, DateEmitRangeType.end),\r\n            }\r\n\r\n            return {\r\n                start,\r\n                end\r\n            }\r\n        })\r\n\r\n        const utils = {\r\n            emitValue(startPd: PlainDateType, endPd: PlainDateType) {\r\n\r\n                const {max, min} = state.topState\r\n\r\n                if (!!max && !max.isNull && (props.datetime ? max.YMDHms < startPd.YMDHms! : max.YMD < startPd.YMD!)) {\r\n                    startPd = max\r\n                } else if (!!min && !min.isNull && (props.datetime ? min.YMDHms > startPd.YMDHms! : min.YMD > startPd.YMD!)) {\r\n                    startPd = min\r\n                }\r\n\r\n                if (!!max && !max.isNull && (props.datetime ? max.YMDHms < endPd.YMDHms! : max.YMD < endPd.YMD!)) {\r\n                    endPd = max\r\n                } else if (!!min && !min.isNull && (props.datetime ? min.YMDHms > endPd.YMDHms! : min.YMD > endPd.YMD!)) {\r\n                    endPd = min\r\n                }\r\n\r\n                startModel.value = startPd.valueString!\r\n                endModel.value = endPd.valueString!\r\n\r\n                state.hoverRange = null\r\n                state.valueRange = [startPd, endPd]\r\n\r\n                emit.onUpdateStart(startModel.value)\r\n                emit.onUpdateModelValue(startModel.value, DateEmitRangeType.start)\r\n                emit.onUpdateEnd(endModel.value)\r\n                emit.onUpdateModelValue(endModel.value, DateEmitRangeType.end)\r\n            },\r\n        }\r\n\r\n        const handler = {\r\n            async onClickItem(ipd: PlainDateType) {\r\n                const {pdStartTime, pdEndTime} = formatData.value\r\n                const {hoverRange} = state\r\n\r\n                if (!hoverRange) {\r\n                    ipd = ipd.copy()\r\n                    state.hoverRange = [ipd, ipd]\r\n                    state.valueRange = [ipd, ipd]\r\n                } else {\r\n                    let [startPd, endPd] = hoverRange\r\n                    startPd = startPd.copy()\r\n                    endPd = endPd.copy()\r\n\r\n                    startPd.setHms(pdStartTime)\r\n                    endPd.setHms(pdEndTime)\r\n\r\n                    if ((props.datetime ? startPd.YMDHms! > endPd.YMDHms! : startPd.YMD! > endPd.YMD!)) {\r\n                        endPd = startPd\r\n                    }\r\n\r\n                    utils.emitValue(startPd, endPd)\r\n                }\r\n            },\r\n            onMouseenterItem({ipd}: Dbpid) {\r\n                if (!!state.hoverRange) {\r\n                    let midPd = state.valueRange[0]\r\n                    ipd = ipd!.copy()\r\n                    state.hoverRange = midPd.YMD! > ipd.YMD! ? [ipd, midPd] : [midPd, ipd]\r\n                }\r\n            },\r\n            async onSelectTime(val: string, type: DateEmitRangeType) {\r\n                await nextTick()\r\n\r\n                let {selectDate} = state\r\n                let {pdStart, pdEnd, pdStartTime, pdEndTime} = formatData.value\r\n\r\n                if (type === DateEmitRangeType.start) {\r\n                    if (pdStart.isNull) {\r\n                        pdStart.setYMD(selectDate)\r\n                    }\r\n                    pdStartTime.setValue(val)\r\n                    pdStart.setHms(pdStartTime)\r\n                    if (pdEnd.isNull) {\r\n                        pdEnd = pdStart.copy()\r\n                    } else {\r\n                        if ((props.datetime ? pdStart.YMDHms! > pdEnd.YMDHms! : pdStart.YMD! > pdEnd.YMD!)) {\r\n                            pdEnd = pdStart.copy()\r\n                        }\r\n                    }\r\n                } else if (type === DateEmitRangeType.end) {\r\n                    if (pdEnd.isNull) {\r\n                        pdEnd.setYMD(selectDate)\r\n                    }\r\n                    pdEndTime.setValue(val)\r\n                    pdEnd.setHms(pdEndTime)\r\n                    if (pdStart.isNull) {\r\n                        pdStart = pdEnd.copy()\r\n                    } else {\r\n                        if ((props.datetime ? pdStart.YMDHms! > pdEnd.YMDHms! : pdStart.YMD! > pdEnd.YMD!)) {\r\n                            pdStart = pdEnd.copy()\r\n                        }\r\n                    }\r\n                }\r\n\r\n                utils.emitValue(pdStart, pdEnd)\r\n            },\r\n        }\r\n\r\n        return {\r\n            render: () => (\r\n                <div class=\"pl-date-base-panel pl-date-panel-date-range\">\r\n                    <pl-date-base-panel-date {...binding.value.start}/>\r\n                    <pl-date-base-panel-date {...binding.value.end}/>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../../use/designComponent\";\r\nimport {DatePublicProps} from \"../date.utils\";\r\nimport {useDate, UseDateJudgementView} from \"../useDate\";\r\nimport {computed} from 'vue';\r\nimport {PlainDate, PlainDateType} from \"../../../utils/PlainDate\";\r\nimport {findOne} from \"plain-utils/object/findOne\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-date-panel-dates',\r\n    props: {\r\n        ...DatePublicProps,\r\n        modelValue: {type: Array},\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val?: string[]) => true,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const {\r\n            model,\r\n            displayFormat,\r\n            valueFormat,\r\n        } = useDate({\r\n            props: props as any,\r\n            emit: emit as any,\r\n            jdView: UseDateJudgementView.YMD,\r\n            judgementForChild: {\r\n                active: (ipd, view) => {\r\n                    const {value} = formatData.value\r\n                    return value.length > 0 && !!value.find(vpd => vpd[view] === ipd[view])\r\n                },\r\n            },\r\n        })\r\n\r\n        const valueModel = model as { value?: string[] }\r\n        const formatData = computed(() => {\r\n            let value = model.value as string[] | undefined\r\n            value = value || []\r\n            return {\r\n                value: value.map(item => new PlainDate(item, displayFormat, valueFormat)),\r\n            }\r\n        })\r\n\r\n        const handler = {\r\n            onClickItem(ipd: PlainDateType) {\r\n                const {value} = formatData.value\r\n                const ret = findOne(value, item => item.YMD === ipd.YMD, true) as { item: PlainDateType, index: number } | { item: null }\r\n                if (!!ret.item) {\r\n                    value.splice(ret.index, 1)\r\n                } else {\r\n                    value.push(ipd)\r\n                }\r\n                valueModel.value = value.map(item => item.valueString!)\r\n            },\r\n        }\r\n\r\n        return {\r\n            render: () => (<pl-date-base-panel-date onClickItem={handler.onClickItem}/>)\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../../use/designComponent\";\r\nimport {DateEmitRangeType, DatePublicEmits, DatePublicProps, Dbpid} from \"../date.utils\";\r\nimport {useDate, UseDateJudgementView} from \"../useDate\";\r\nimport {computed, ref} from 'vue';\r\nimport {PlainDate, PlainDateType} from \"../../../utils/PlainDate\";\r\n\r\nexport default designComponent({\r\n    name: 'pl-date-panel-week',\r\n    props: {\r\n        ...DatePublicProps,\r\n    },\r\n    emits: {\r\n        ...DatePublicEmits,\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const hoverPd = ref(null as null | PlainDateType)\r\n\r\n        const {\r\n            today,\r\n            state,\r\n            model,\r\n            startModel,\r\n            endModel,\r\n            displayFormat,\r\n            valueFormat,\r\n        } = useDate({\r\n            props,\r\n            emit,\r\n            jdView: UseDateJudgementView.YMD,\r\n            judgementForChild: {\r\n                disabled: (ipd, view) => {\r\n                    const {max, min} = state.topState\r\n                    if ((!max || max.isNull) && (!min || min.isNull)) {\r\n                        return false\r\n                    }\r\n                    if (!!max && !max.isNull) {\r\n                        if (ipd[view]! > max[view]!) {\r\n                            return true\r\n                        }\r\n                    }\r\n                    if (!!min && !min.isNull) {\r\n                        if (ipd[view]! < min[view]!) {\r\n                            return true\r\n                        }\r\n                    }\r\n                    return false\r\n                },\r\n                active: (ipd, view) => {\r\n                    const {value, start, end} = WeekGetData.value\r\n                    switch (view) {\r\n                        case UseDateJudgementView.Y:\r\n                            if (!props.range) {\r\n                                return !value.pd.isNull && (value.pd.year == ipd.year)\r\n                            } else {\r\n                                return (!start.pd.isNull && start.pd.year == ipd.year) || (!end.pd.isNull && end.pd.year == ipd.year)\r\n                            }\r\n                        case UseDateJudgementView.YM:\r\n                            if (!props.range) {\r\n                                return !value.pd.isNull && (value.pd.YM === ipd.YM)\r\n                            } else {\r\n                                return (!start.pd.isNull && start.pd.YM === ipd.YM) || (!end.pd.isNull && end.pd.YM === ipd.YM)\r\n                            }\r\n                        case UseDateJudgementView.YMD:\r\n                            if (!props.range) {\r\n                                if (!value.pd.isNull) {\r\n                                    const {start: startPd, end: endPd} = value.range!\r\n\r\n                                    return !startPd.isNull && ((ipd.YMD === startPd.YMD) || (ipd.YMD === endPd.YMD))\r\n                                }\r\n                            } else {\r\n                                if (!start.pd.isNull) {\r\n                                    const {start: startPd, end: endPd} = start.range!\r\n                                    if (startPd.YMD === ipd.YMD || endPd.YMD === ipd.YMD) {\r\n                                        return true\r\n                                    }\r\n                                }\r\n                                if (!end.pd.isNull) {\r\n                                    const {start: startPd, end: endPd} = end.range!\r\n                                    if (startPd.YMD === ipd.YMD || endPd.YMD === ipd.YMD) {\r\n                                        return true\r\n                                    }\r\n                                }\r\n                            }\r\n                    }\r\n                    return false\r\n                },\r\n                hoverStart: (ipd, view) => {\r\n                    const {start} = WeekGetData.value\r\n                    switch (view) {\r\n                        case UseDateJudgementView.Y:\r\n                            return !!state.hoverRange ? false : (!start.pd.isNull && start.pd.Y == ipd.Y)\r\n                        case UseDateJudgementView.YM:\r\n                            return !!state.hoverRange ? false : (!start.pd.isNull && start.pd.YM === ipd.YM)\r\n                    }\r\n                    return false\r\n                },\r\n                hoverEnd: (ipd, view) => {\r\n                    const {end} = WeekGetData.value\r\n                    switch (view) {\r\n                        case UseDateJudgementView.Y:\r\n                            return !!state.hoverRange ? false : (!end.pd.isNull && end.pd.Y == ipd.Y)\r\n                        case UseDateJudgementView.YM:\r\n                            return !!state.hoverRange ? false : (!end.pd.isNull && end.pd.YM === ipd.YM)\r\n                    }\r\n                    return false\r\n                },\r\n                hover: (ipd, view) => {\r\n                    const {value, start, end, hoverStart, hoverEnd, hoverRange} = WeekGetData.value\r\n                    switch (view) {\r\n                        case UseDateJudgementView.Y:\r\n                            if (!props.range) {\r\n                                return false\r\n                            } else {\r\n                                return !!state.hoverRange ? false : (!start.pd.isNull && start.pd.year <= ipd.year!) && (!end.pd.isNull && end.pd.year >= ipd.year!)\r\n                            }\r\n                        case UseDateJudgementView.YM:\r\n                            if (!props.range) {\r\n                                return false\r\n                            } else {\r\n                                return !!state.hoverRange ? false : (!start.pd.isNull && start.pd.YM <= ipd.YM!) && (!end.pd.isNull && end.pd.YM >= ipd.YM!)\r\n                            }\r\n                        case UseDateJudgementView.YMD:\r\n                            if (!!hoverPd.value) {\r\n                                if (utils.isHover(hoverPd.value!, ipd)) {\r\n                                    return true\r\n                                }\r\n                            }\r\n\r\n                            if (!props.range) {\r\n                                if (!value.pd.isNull) {\r\n                                    const {start: startPd, end: endPd} = value.range!\r\n                                    return startPd.YMD! <= ipd.YMD! && endPd.YMD! >= ipd.YMD!\r\n                                }\r\n                            } else {\r\n                                if (!!hoverRange) {\r\n                                    let startPd = hoverStart.range!.start\r\n                                    let endPd = hoverEnd.range!.end\r\n                                    return startPd.YMD! <= ipd.YMD! && endPd.YMD! >= ipd.YMD!\r\n                                } else {\r\n                                    if (!!start.range && !!end.range) {\r\n                                        let startPd = start.range.start\r\n                                        let endPd = end.range.end\r\n                                        return startPd.YMD! <= ipd.YMD! && endPd.YMD! >= ipd.YMD!\r\n                                    }\r\n                                }\r\n                            }\r\n                    }\r\n                    return false\r\n                },\r\n            },\r\n            useModelConfig: {\r\n                model: {\r\n                    onChange: (val) => {\r\n                        const vpd = new PlainDate(val, displayFormat, valueFormat)\r\n                        state.selectDate = vpd.isNull ? today.copy() : vpd.copy()\r\n                    }\r\n                },\r\n                start: {\r\n                    onChange: val => {\r\n                        const startPd = new PlainDate(val, displayFormat, valueFormat)\r\n                        const endPd = new PlainDate(endModel.value, displayFormat, valueFormat)\r\n                        state.valueRange = [startPd, endPd]\r\n                        state.hoverRange = null\r\n\r\n                        state.selectDate = startPd.isNull ? today.copy() : startPd.copy()\r\n                    }\r\n                },\r\n                end: {\r\n                    onChange: val => {\r\n                        state.valueRange = [\r\n                            new PlainDate(startModel.value, displayFormat, valueFormat),\r\n                            new PlainDate(val, displayFormat, valueFormat)\r\n                        ]\r\n                        state.hoverRange = null\r\n                    },\r\n                },\r\n            },\r\n        })\r\n\r\n        const WeekGetData = computed(() => {\r\n            let {vpd} = state.topState\r\n            const [start, end] = state.valueRange\r\n            const {hoverRange} = state\r\n            const [hoverStart, hoverEnd] = (hoverRange || []) as [null | PlainDateType, null | PlainDateType]\r\n            if (!vpd) {\r\n                vpd = new PlainDate(model.value, displayFormat, valueFormat)\r\n            }\r\n            return {\r\n                value: {\r\n                    pd: vpd,\r\n                    range: vpd.isNull ? null : utils.getWeekPdByPlainDate(vpd),\r\n                },\r\n                start: {\r\n                    pd: start,\r\n                    range: start.isNull ? null : utils.getWeekPdByPlainDate(start),\r\n                },\r\n                end: {\r\n                    pd: end,\r\n                    range: end.isNull ? null : utils.getWeekPdByPlainDate(end),\r\n                },\r\n                hoverStart: {\r\n                    pd: hoverStart,\r\n                    range: !!hoverRange ? utils.getWeekPdByPlainDate(hoverStart!) : null,\r\n                },\r\n                hoverEnd: {\r\n                    pd: hoverEnd,\r\n                    range: !!hoverRange ? utils.getWeekPdByPlainDate(hoverEnd!) : null\r\n                },\r\n                hoverRange,\r\n            }\r\n        })\r\n\r\n        const utils = {\r\n            getWeekPdByPlainDate(pd: PlainDateType): { start: PlainDateType, end: PlainDateType } {\r\n                let day = pd.day!\r\n                let firstWeekDay = props.firstWeekDay\r\n\r\n                const weekDayDuration = day - firstWeekDay\r\n                let offsetDay = weekDayDuration === 0 ? 0 : weekDayDuration > 0 ? weekDayDuration : 7 + weekDayDuration\r\n\r\n                let startPd = pd.copy()\r\n                startPd.setMonthDate(startPd.month!, startPd.date! - offsetDay)\r\n                let endPd = startPd.copy()\r\n                endPd.setMonthDate(endPd.month!, endPd.date! + 6)\r\n                return {\r\n                    start: startPd, end: endPd\r\n                }\r\n            },\r\n            /**\r\n             * ipd是否处于weekPd所在的周范围之内\r\n             * @author  韦胜健\r\n             * @date    2020/4/16 16:07\r\n             */\r\n            isHover(weekPd: PlainDateType, ipd: PlainDateType) {\r\n                const {start, end} = this.getWeekPdByPlainDate(weekPd)\r\n                return ipd.YMD! >= start.YMD! && ipd.YMD! <= end.YMD!\r\n            },\r\n        }\r\n\r\n        const dateAttrs = computed(() => ({\r\n            class: 'pl-date-panel-week',\r\n            range: true,\r\n            displayFormat: displayFormat,\r\n            valueFormat: valueFormat,\r\n            modelValue: startModel.value,\r\n            selectDate: state.selectDate,\r\n            firstWeekDay: props.firstWeekDay,\r\n            onMouseleaveDateList: () => hoverPd.value = null,\r\n            onMouseenterItem: handler.onMouseenterItem,\r\n            onClickItem: handler.onClickItem,\r\n            onSelectDateChange: (val: PlainDateType) => state.selectDate = val\r\n        }))\r\n\r\n        /*---------------------------------------handler-------------------------------------------*/\r\n\r\n        const handler = {\r\n            onClickItem(ipd: PlainDateType) {\r\n                const {start} = utils.getWeekPdByPlainDate(ipd)\r\n\r\n                if (!props.range) {\r\n                    model.value = start.valueString!\r\n                } else {\r\n                    if (!state.hoverRange) {\r\n                        const {start: itemStart} = utils.getWeekPdByPlainDate(ipd)\r\n\r\n                        state.hoverRange = [itemStart, itemStart]\r\n                        state.valueRange = [itemStart, itemStart]\r\n                    } else {\r\n                        const [startPd, endPd] = state.hoverRange!\r\n\r\n                        startModel.value = startPd.valueString!\r\n                        endModel.value = endPd.valueString!\r\n\r\n                        state.hoverRange = null\r\n                        state.valueRange = [startPd, endPd]\r\n\r\n                        emit.onUpdateModelValue(startModel.value, DateEmitRangeType.start)\r\n                        emit.onUpdateModelValue(endModel.value, DateEmitRangeType.end)\r\n                    }\r\n                }\r\n            },\r\n            onMouseenterItem({ipd}: Dbpid) {\r\n                const {start: itemStartPd} = utils.getWeekPdByPlainDate(ipd!)\r\n                hoverPd.value = itemStartPd\r\n\r\n                if (!!state.hoverRange) {\r\n                    const start = WeekGetData.value.start.range!.start\r\n                    state.hoverRange = start.YMD! > itemStartPd.YMD! ? [itemStartPd, start] : [start, itemStartPd]\r\n                }\r\n            },\r\n        }\r\n\r\n        return {\r\n            render: () => <pl-date-base-panel-date {...dateAttrs.value}/>\r\n        }\r\n    },\r\n})","import {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\nimport DateTimeInput from '../date-time-input'\r\nimport DateBasePanelYear from './panel/date-base-panel-year'\r\nimport Date from './date'\r\nimport DateBasePanelMonth from './panel/date-base-panel-month'\r\nimport DateBasePanelDate from './panel/date-base-panel-date'\r\nimport DatePanelDateRange from './panel/date-panel-date-range'\r\nimport DatePanelDates from './panel/date-panel-dates'\r\nimport DatePanelWeek from './panel/date-panel.week'\r\nimport DatePanel from './panel/date-panel'\r\n\r\nexport default createComponentPlugin(Date, {\r\n    exposeComponents: {\r\n        DateBasePanelYear,\r\n        DateBasePanelMonth,\r\n        DateBasePanelDate,\r\n        DatePanelDateRange,\r\n        DatePanelDates,\r\n        DatePanelWeek,\r\n        DatePanel,\r\n    },\r\n    plugins: [\r\n        DateTimeInput\r\n    ],\r\n})","import form from './form'\r\nimport item from './form-item'\r\nimport {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\n\r\nconst FormItem = createComponentPlugin(item)\r\n\r\nexport default createComponentPlugin(form, {\r\n    exposeComponents: {FormItem}\r\n})","import {designComponent} from \"../../../../use/designComponent\";\r\nimport {useSlots} from \"../../../../use/useSlots\";\r\nimport {ComponentPublicInstance, getCurrentInstance, inject, onBeforeUnmount, onMounted, provide, ref} from 'vue';\r\nimport {TablePlc} from \"./plc.type\";\r\n\r\nexport const TablePlcCollector = (() => {\r\n    const ProvideString = '@@TablePlcCollector'\r\n    const useParent = () => {\r\n        const children = ref([] as TablePlc[])\r\n        const refer = {\r\n            children: children.value,\r\n            add: (proxy: ComponentPublicInstance) => {\r\n                const el = proxy.$el as HTMLElement\r\n                const index = Array.from(el.parentElement!.childNodes)\r\n                    .filter((item: any) => item.nodeName !== '#comment' && item.nodeName !== '#text' && (!item.style || item.style.display !== 'none'))\r\n                    .indexOf(el)\r\n                children.value.splice(index, 0, proxy as any)\r\n            },\r\n            remove: (proxy: ComponentPublicInstance) => {\r\n                const index = children.value.indexOf(proxy as any)\r\n                if (index > -1) {\r\n                    children.value.splice(index, 1)\r\n                }\r\n            },\r\n        }\r\n        provide(ProvideString, refer)\r\n        return refer\r\n    }\r\n    const useChild = () => {\r\n        const {add, remove} = inject(ProvideString) as ReturnType<typeof useParent>\r\n        const ctx = getCurrentInstance()!\r\n        onMounted(() => add(ctx.proxy!))\r\n        onBeforeUnmount(() => remove(ctx.proxy!))\r\n        return ctx\r\n    }\r\n    return {\r\n        useParent,\r\n        useChild,\r\n    }\r\n})();\r\n\r\nexport default designComponent({\r\n    name: 'plc-collector',\r\n    setup() {\r\n        const {slots} = useSlots()\r\n        const {children} = TablePlcCollector.useParent()\r\n        return {\r\n            refer: {\r\n                children\r\n            },\r\n            render: () => (\r\n                <div class=\"plc-collector\">\r\n                    {slots.default()}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {Plc} from \"./plc.type\";\r\n\r\nexport function renderColgroup(flatPlcList: Plc[]) {\r\n    return (\r\n        <colgroup>\r\n            {flatPlcList.map((plc) => <col width={plc.props.width || ''}/>)}\r\n        </colgroup>\r\n    )\r\n}","/**\r\n * 处理表头拖拽调整宽度的功能\r\n * @author  韦胜健\r\n * @date    2020/8/18 16:17\r\n */\r\nimport {TablePlc} from \"../../plc/core/plc.type\";\r\nimport Table from \"../../table\";\r\nimport {disabledUserSelect} from \"plain-utils/dom/disabledUserSelect\";\r\nimport {enableUserSelect} from \"plain-utils/dom/enableUserSelect\";\r\n\r\nexport function useHeadCellResize(table: typeof Table.use.class, plc: TablePlc) {\r\n\r\n    const state = {\r\n        indicatorEl: null as null | HTMLElement,\r\n        startX: null as null | number,\r\n        endX: null as null | number,\r\n    }\r\n\r\n    const handler = {\r\n        mousedown: (e: MouseEvent) => {\r\n\r\n            const tableEl = table.refs.el\r\n\r\n            e.preventDefault()\r\n            e.stopPropagation()\r\n\r\n            window.addEventListener('mousemove', handler.mousemove)\r\n            window.addEventListener('mouseup', handler.mouseup)\r\n            disabledUserSelect()\r\n            state.startX = e.clientX\r\n\r\n            state.indicatorEl = document.createElement('div')\r\n\r\n            const cell = e.currentTarget as HTMLElement\r\n\r\n            const {left, width} = cell.getBoundingClientRect()\r\n            const {top, height} = tableEl.getBoundingClientRect()\r\n\r\n            Object.assign(state.indicatorEl.style, {\r\n                display: 'inline-block',\r\n                zIndex: 9999,\r\n                position: 'fixed',\r\n\r\n                width: `${width}px`,\r\n                backgroundColor: '#ddd',\r\n                height: `${height}px`,\r\n                top: `${top}px`,\r\n                left: `${left}px`,\r\n            })\r\n\r\n            document.body.appendChild(state.indicatorEl)\r\n        },\r\n        mousemove: (e: MouseEvent) => {\r\n            state.indicatorEl!.style.left = `${e.clientX}px`\r\n        },\r\n        mouseup: (e: MouseEvent) => {\r\n            window.removeEventListener('mousemove', handler.mousemove)\r\n            window.removeEventListener('mouseup', handler.mouseup)\r\n            enableUserSelect()\r\n            document.body.removeChild(state.indicatorEl!)\r\n            state.endX = e.clientX\r\n            let durWidth = state.endX - state.startX!\r\n            plc.setDurWidth(durWidth)\r\n        }\r\n    }\r\n\r\n    return {\r\n        resizeHandler: handler,\r\n    }\r\n}","import {Plc, TablePlc, TableRenderScope} from \"./plc.type\";\r\nimport {TableNode} from \"../../core/useTableNode\";\r\nimport {VNodeChild} from \"../../../../shims\";\r\n\r\nexport function renderHeadCell(plc: TablePlc) {\r\n    // 如果存在 head作用域插槽，渲染head作用域插槽\r\n    if (plc.scopedSlots.head.isExist()) {\r\n        return plc.scopedSlots.head({plc: plc as any})\r\n    }\r\n    // 如果存在 props.head 渲染函数，则渲染 props.head\r\n    if (!plc.group && !!plc.props.head) {\r\n        return plc.props.head({plc})\r\n    }\r\n    return plc.props.title\r\n}\r\n\r\nexport function renderBodyCell(\r\n    {\r\n        node,\r\n        plc,\r\n    }: {\r\n        node: TableNode,\r\n        plc: Plc,\r\n    }\r\n) {\r\n    const editable = getEditable(plc, node)\r\n    const body = getBodyCell({node, plc, editable})\r\n    return {\r\n        editable,\r\n        body,\r\n    }\r\n}\r\n\r\n/**\r\n * 判断当前是否可编辑\r\n * 1. 如果当前行非编辑状态，则不可编辑\r\n * 2. 如果列没有edit作用域插槽以及渲染函数，则不可编辑\r\n * 3. 如果列的editable属性为函数，则计算这个函数的值来定性是否可编辑\r\n *\r\n * 这个【是否可编辑】值用来设置 body-cell 的样式，以便body-cell清楚地知道当前是否处于可编辑状态，并且设置padding\r\n *\r\n * @author  韦胜健\r\n * @date    2020/7/21 21:16\r\n */\r\nfunction getEditable(plc: Plc, node: TableNode) {\r\n    // 行非编辑状态下，定性为不可编辑\r\n    if (!node.edit) {\r\n        return false\r\n    }\r\n    // 如果没有edit渲染函数以及作用域插槽，那么直接定性为不可编辑\r\n    if (!plc.props.edit && !plc.scopedSlots.edit.isExist()) {\r\n        return false\r\n    }\r\n    return typeof plc.props.editable === \"function\" ? plc.props.editable(node) : (plc.props.editable !== false)\r\n}\r\n\r\nfunction getBodyCell(\r\n    {\r\n        node,\r\n        plc,\r\n        editable,\r\n    }: {\r\n        node: TableNode,\r\n        plc: Plc,\r\n        editable: boolean,\r\n    }\r\n): VNodeChild {\r\n    let renderScope: TableRenderScope\r\n    if (node.isSummary) {\r\n        // 合计行中的row一直是原始的row对象\r\n        renderScope = {node, plc, row: node.data}\r\n        // 合计行，使用作用域插槽 summary渲染，没有则使用渲染函数summary渲染，么有则使用 default作用域插槽渲染，没有\r\n        // 则使用渲染函数default渲染，没有则直接渲染field对应的值\r\n        if (plc.scopedSlots.summary.isExist()) {\r\n            return plc.scopedSlots.summary(renderScope)\r\n        }\r\n        if (!!plc.props.summary) {\r\n            return plc.props.summary(renderScope)\r\n        }\r\n        if (plc.scopedSlots.default.isExist()) {\r\n            return plc.scopedSlots.default(renderScope)\r\n        }\r\n        if (!!plc.props.default) {\r\n            return plc.props.default(renderScope)\r\n        }\r\n        return !!plc.props.field ? renderScope.row[plc.props.field] : null\r\n    } else {\r\n        // 如果当前行处于可编辑状态，则渲染的行数据对象为 rowData.editRow，否则为 rowData.data\r\n        let row = node.edit ? node.editRow : node.data\r\n        renderScope = {node, plc, row}\r\n\r\n        if (editable) {\r\n            // 当前一定存在 plc.scopedSlots.edit 或者 plc.props.edit，否则 editable不可能为true\r\n            if (plc.scopedSlots.edit.isExist()) {\r\n                return plc.scopedSlots.edit(renderScope)\r\n            }\r\n            if (!!plc.props.edit) {\r\n                return plc.props.edit(renderScope)\r\n            }\r\n        } else {\r\n            // 当前单元格不可编辑，如果当前行处于编辑状态，则渲染的行数据为 tableNode.editRow，否则为 tableNode.data\r\n            // 使用作用域插槽default渲染，没有则使用渲染函数default渲染，没有则直接显示field对应的值\r\n            if (plc.scopedSlots.default.isExist()) {\r\n                return plc.scopedSlots.default(renderScope)\r\n            }\r\n            if (!!plc.props.default) {\r\n                return plc.props.default(renderScope)\r\n            }\r\n            return !!plc.props.field ? renderScope.row[plc.props.field] : null\r\n        }\r\n    }\r\n}","import {Plc, TablePlc} from \"../../plc/core/plc.type\";\r\nimport Table from \"../../table\";\r\nimport {useAutoScroll} from \"../../../../use/useAutoScroll\";\r\nimport {StyleProperties} from \"../../../../shims\";\r\nimport {addClass} from \"plain-utils/dom/addClass\";\r\nimport {nextIndex} from \"../../../../utils/nextIndex\";\r\nimport {disabledUserSelect} from \"plain-utils/dom/disabledUserSelect\";\r\nimport {enableUserSelect} from \"plain-utils/dom/enableUserSelect\";\r\nimport {PlainScroll} from \"../../../scroll/scroll\";\r\n\r\ninterface DragData {\r\n    left: number\r\n    width: number\r\n    plc: TablePlc\r\n    droppable: boolean\r\n}\r\n\r\nenum HoverPart {\r\n    left = 'left',\r\n    right = 'right',\r\n}\r\n\r\n/**\r\n * 获取可以滚动的父组件\r\n * @author  韦胜健\r\n * @date    2020/8/19 23:50\r\n */\r\nexport function getHorizontalScrollParent(el: HTMLElement): HTMLElement {\r\n    while (!!el && el.scrollWidth <= el.offsetWidth) {\r\n        el = el.parentElement!\r\n    }\r\n    return el\r\n}\r\n\r\n/**\r\n * 递归遍历plc数组数据\r\n * @author  韦胜健\r\n * @date    2020/9/6 11:24\r\n */\r\nfunction iteratePlc(plcList: TablePlc[], handler: (plc: TablePlc) => 'stop' | void): void {\r\n\r\n    for (let i = 0; i < plcList.length; i++) {\r\n        const item = plcList[i]\r\n        const flag = handler(item)\r\n        if (flag === 'stop') {\r\n            return\r\n        } else {\r\n            if (item.group) {\r\n                iteratePlc(item.children, handler)\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\n/**\r\n * 或者plc对象的兄弟节点\r\n * @author  韦胜健\r\n * @date    2020/9/6 11:24\r\n */\r\nfunction getBroPlcList(plcList: TablePlc[], plc: TablePlc): TablePlc[] {\r\n\r\n    let broPlcList: TablePlc[] = []\r\n\r\n    if (plcList.indexOf(plc) > -1) {\r\n        broPlcList = plcList\r\n    } else {\r\n        iteratePlc(plcList, itarPlc => {\r\n            if (itarPlc.group) {\r\n                if (itarPlc.children.indexOf(plc) > -1) {\r\n                    broPlcList = itarPlc.children\r\n                    return 'stop'\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    if (broPlcList.length === 0) {\r\n        /*内部错误，找不到兄弟节点*/\r\n        throw new Error('Internal error! sibling node not found.')\r\n    }\r\n\r\n    return broPlcList\r\n}\r\n\r\n/**\r\n * 获取plc的宽度\r\n * @author  韦胜健\r\n * @date    2020/9/6 12:09\r\n */\r\nfunction getPlcWidth(plc: TablePlc) {\r\n    if (!plc.group) {\r\n        return Number(plc.props.width)\r\n    } else {\r\n        return plc.children.reduce((ret: number, item: TablePlc) => {\r\n            ret += getPlcWidth(item)\r\n            return ret\r\n        }, 0)\r\n    }\r\n}\r\n\r\n/**\r\n * 获取plc的高度，如果是plc，则高度为currentTarget的高度，如果是plcGroup，则高度等于所有后代层数乘以currentTarget的高度\r\n * @author  韦胜健\r\n * @date    2020/9/6 11:29\r\n */\r\nfunction getIndicatorHeight(\r\n    plc: TablePlc,\r\n    table: typeof Table.use.class,\r\n) {\r\n    if (plc.group) {\r\n        return (table.plcData.value!.maxLevel - plc.level!) * table.numberState.headRowHeight\r\n    } else {\r\n        return plc.rowspan! * table.numberState.headRowHeight\r\n    }\r\n\r\n}\r\n\r\n/**\r\n * 获取plcList中最底层的plc\r\n * @author  韦胜健\r\n * @date    2020/9/6 20:27\r\n */\r\nfunction getLowestPlcList(plcList: TablePlc[]): Plc[] {\r\n\r\n    return plcList.reduce((ret: Plc[], plc: TablePlc) => {\r\n        if (plc.group) {\r\n            ret.push(...getLowestPlcList(plc.children))\r\n        } else {\r\n            ret.push(plc)\r\n        }\r\n        return ret\r\n    }, [] as Plc[])\r\n\r\n}\r\n\r\n/**\r\n * 获取拖拽所需要的数据\r\n * @author  韦胜健\r\n * @date    2020/9/6 20:41\r\n */\r\nfunction getDragData(table: typeof Table.use.class, plc: TablePlc): {\r\n    broData: DragData[],\r\n    broList: TablePlc[]\r\n} {\r\n\r\n    const plcList = table.plcData.value!.plcList\r\n    const broList = getBroPlcList(plcList, plc)\r\n\r\n    const broLowestList = getLowestPlcList(broList)\r\n    const allLowestList = getLowestPlcList(plcList) as TablePlc[]\r\n\r\n    allLowestList.splice(allLowestList.indexOf(broLowestList[0]), broLowestList.length, ...broList)\r\n\r\n    const broData: DragData[] = []\r\n    let left = 0\r\n\r\n    allLowestList.forEach(plc => {\r\n        const item = {\r\n            left,\r\n            width: getPlcWidth(plc),\r\n            plc,\r\n            droppable: broList.indexOf(plc) > -1\r\n        }\r\n        left += item.width\r\n        broData.push(item)\r\n    })\r\n\r\n    // broData.forEach(bro => console.log(bro.plc.props.title, bro.left, bro.droppable))\r\n\r\n    return {\r\n        broList,\r\n        broData,\r\n    }\r\n\r\n}\r\n\r\nexport function useColDraggier(config: () => {\r\n    plc: TablePlc,\r\n    table: typeof Table.use.class,\r\n    scrollRefer: () => PlainScroll,\r\n}) {\r\n    const {plc, table, scrollRefer} = config()\r\n    const isDraggable = !!table.props.colDraggable && plc.props.colDraggable !== false\r\n    if (!isDraggable) {return {tdAttrs: {}}}\r\n    const autoScroller = useAutoScroll({\r\n        vertical: false,\r\n        getScroll: scrollRefer\r\n    })\r\n    const indicatorSize = 3\r\n    const state = {\r\n        startClientX: 0,\r\n        moveClientX: 0,\r\n\r\n        startScrollLeft: 0,\r\n        moveScrollLeft: 0,\r\n\r\n        scrollParent: null as null | HTMLElement,\r\n        currentRect: {\r\n            top: 0,\r\n            left: 0,\r\n            height: 0,\r\n            width: 0,\r\n        },\r\n        scrollRect: {\r\n            top: 0,\r\n            left: 0,\r\n            height: 0,\r\n            width: 0,\r\n        },\r\n        indicator: null as null | HTMLElement,\r\n        dragData: null as null | DragData[],\r\n        broList: null as null | TablePlc[],\r\n        refreshData: null as null | {\r\n            index: number,\r\n            dragData: DragData,\r\n            hover: HoverPart,\r\n        }\r\n    }\r\n\r\n    const utils = {\r\n        getDragData: (left: number): { index: number, dragData: DragData, hover: HoverPart } => {\r\n            for (let i = 0; i < state.dragData!.length; i++) {\r\n                const dd = state.dragData![i];\r\n                if (left >= dd.left && left <= dd.left + dd.width) {\r\n                    return {\r\n                        index: i,\r\n                        dragData: dd,\r\n                        hover: left - dd.left > dd.width / 2 ? HoverPart.right : HoverPart.left\r\n                    }\r\n                }\r\n            }\r\n            throw new Error(`Can not get dragData by left:${left}`)\r\n        },\r\n        refresh() {\r\n            const left = (state.moveClientX - state.scrollRect.left) + (state.moveScrollLeft)\r\n            state.refreshData = utils.getDragData(left)\r\n            const {dragData, hover} = state.refreshData\r\n\r\n            let indicatorLeft = (hover === HoverPart.left ? dragData.left : dragData.left + dragData.width - indicatorSize) + state.scrollRect.left - state.moveScrollLeft\r\n            indicatorLeft = Math.min(Math.max(state.scrollRect.left, indicatorLeft), state.scrollRect.left + state.scrollRect.width - indicatorSize)\r\n\r\n            Object.assign(state.indicator!.style, {\r\n                left: `${indicatorLeft}px`,\r\n            } as StyleProperties)\r\n\r\n            state.indicator!.setAttribute('droppable', dragData.droppable ? 'true' : 'false')\r\n        },\r\n    }\r\n\r\n    const handler = {\r\n        mousedown: (e: MouseEvent) => {\r\n\r\n            const {broList, broData} = getDragData(table, plc)\r\n            state.dragData = broData\r\n            state.broList = broList\r\n\r\n            const currentTarget = e.currentTarget as HTMLElement\r\n            state.currentRect = currentTarget.getBoundingClientRect()!\r\n            const indicatorHeight = getIndicatorHeight(plc, table)\r\n\r\n            state.startClientX = state.moveClientX = e.clientX\r\n            state.scrollParent = getHorizontalScrollParent(currentTarget)\r\n            state.scrollRect = state.scrollParent.parentElement!.getBoundingClientRect()\r\n            state.startScrollLeft = state.moveScrollLeft = state.scrollParent.scrollLeft\r\n\r\n            state.indicator = document.createElement('div')\r\n            addClass(state.indicator, 'plt-col-draggier-indicator')\r\n            Object.assign(state.indicator.style, {\r\n                top: `${state.currentRect.top}px`,\r\n                left: `${state.currentRect.left}px`,\r\n                height: `${indicatorHeight}px`,\r\n                width: `${indicatorSize}px`,\r\n                position: 'fixed',\r\n                zIndex: `${nextIndex() + 100}`,  // 加100是为了不被 autoScroller 遮住；\r\n                pointerEvents: 'none',                  // indicator只是一个指示的作用，这里设置none为了不挡住autoScroller的鼠标事件\r\n            } as StyleProperties)\r\n            document.body.appendChild(state.indicator)\r\n\r\n            disabledUserSelect()\r\n            document.addEventListener('mouseup', handler.mouseup)\r\n            state.scrollParent!.addEventListener('mousemove', handler.mousemove)\r\n            state.scrollParent!.addEventListener('scroll', handler.scroll)\r\n\r\n            utils.refresh()\r\n            autoScroller.showHover()\r\n        },\r\n        mousemove: (e: MouseEvent) => {\r\n            state.moveClientX = e.clientX\r\n            utils.refresh()\r\n        },\r\n        scroll: () => {\r\n            state.moveScrollLeft = state.scrollParent!.scrollLeft\r\n            utils.refresh()\r\n        },\r\n        mouseup: () => {\r\n\r\n            (() => {\r\n                if (!state.refreshData) {\r\n                    return\r\n                }\r\n                const {dragData, hover} = state.refreshData\r\n\r\n                if (!dragData.droppable) {\r\n                    return;\r\n                }\r\n\r\n                const startPlc = plc\r\n                const endPlc = dragData.plc\r\n                const broList = state.broList!\r\n\r\n                const startIndex = broList.indexOf(startPlc)\r\n                let endIndex = broList.indexOf(endPlc)\r\n                if (startIndex === endIndex) {\r\n                    return;\r\n                }\r\n\r\n                if (startPlc.props.fixed != endPlc.props.fixed) {\r\n                    startPlc.state.fixed = endPlc.props.fixed\r\n                }\r\n\r\n                broList.splice(startIndex, 1)\r\n                endIndex = broList.indexOf(endPlc)\r\n                endIndex = hover === HoverPart.right ? endIndex + 1 : endIndex\r\n                broList.splice(endIndex, 0, startPlc)\r\n\r\n                broList.forEach((plc, index) => plc.state.order = index)\r\n            })();\r\n\r\n            enableUserSelect()\r\n            document.removeEventListener('mouseup', handler.mouseup)\r\n            state.scrollParent!.removeEventListener('mousemove', handler.mousemove)\r\n            state.scrollParent!.removeEventListener('scroll', handler.scroll)\r\n            if (!!state.indicator) {\r\n                state.indicator.parentNode!.removeChild(state.indicator)\r\n                state.indicator = null\r\n            }\r\n            autoScroller.hideHover()\r\n        }\r\n    }\r\n\r\n    return {\r\n        tdAttrs: {onMousedown: handler.mousedown,}\r\n    }\r\n}","import {designComponent} from \"../../../../use/designComponent\";\r\nimport {PlainTable} from \"../../table\";\r\nimport {PropType} from 'vue';\r\nimport {TablePlc} from \"../../plc/core/plc.type\";\r\nimport {useHeadCellResize} from \"./useHeadCellResize\";\r\nimport {renderHeadCell} from \"../../plc/core/render\";\r\nimport {useColDraggier} from \"./useColDraggier\";\r\nimport {PlainScroll} from \"../../../scroll/scroll\";\r\n\r\nexport const PltHeadCell = designComponent({\r\n    name: 'plt-head-cell',\r\n    props: {\r\n        table: {type: PlainTable, required: true},\r\n        tablePlc: {type: Object as PropType<TablePlc>, required: true},\r\n        scroll: {type: Function as PropType<() => PlainScroll>, required: true},\r\n    },\r\n    setup({props}) {\r\n\r\n        const {resizeHandler} = useHeadCellResize(props.table, props.tablePlc)\r\n        const {tdAttrs} = useColDraggier(() => ({\r\n            table: props.table,\r\n            plc: props.tablePlc,\r\n            scrollRefer: props.scroll,\r\n        }))\r\n\r\n        return {\r\n            render: () => {\r\n                const content = renderHeadCell(props.tablePlc)\r\n                return (\r\n                    <td\r\n                        class={[\r\n                            props.tablePlc.classes.head,\r\n                            props.tablePlc.props.headCls,\r\n                            !!props.table.props.headCellClassFunc ? props.table.props.headCellClassFunc(props.tablePlc) : null\r\n                        ]}\r\n                        style={{\r\n                            ...props.tablePlc.styles.head as any,\r\n                            ...(!!props.table.props.headCellStyleFunc ? props.table.props.headCellStyleFunc(props.tablePlc) : {})\r\n                        }}\r\n                        rowspan={props.tablePlc.rowspan}\r\n                        colspan={props.tablePlc.colspan}\r\n                        {...tdAttrs}\r\n                    >\r\n                        {content}\r\n                        <span class=\"plt-head-cell-indicator\" onMousedown={resizeHandler.mousedown}/>\r\n                    </td>\r\n                )\r\n            }\r\n        }\r\n    },\r\n})","import {StyleProps} from \"../../../use/useStyle\";\r\nimport {SimpleObject, StyleProperties} from \"../../../shims\";\r\nimport {PropType} from 'vue';\r\nimport {Plc, TablePlc} from \"../plc/core/plc.type\";\r\nimport {TableNode} from \"./useTableNode\";\r\nimport {MultipleClass} from \"../../../use/useClasses\";\r\nimport {FormComponentRules} from \"../../form/form.validate\";\r\nimport {useTree} from \"../../tree/core/useTree\";\r\n\r\nexport type TablePropsConfig = (plcList: TablePlc[]) => Record<string, any>\r\n\r\nexport type TablePropsRowClassFunc = (node: TableNode) => MultipleClass\r\nexport type TablePropsCellClassFunc = (node: TableNode, plc: Plc) => MultipleClass\r\nexport type TablePropsCellStyleFunc = (node: TableNode, plc: Plc) => StyleProperties\r\nexport type TablePropsHeadCellClassFunc = (plc: TablePlc) => MultipleClass\r\nexport type TablePropsHeadCellStyleFunc = (plc: TablePlc) => StyleProperties\r\n\r\nexport type TablePropsSpanMethod = (socpe: { node: TableNode, plc: Plc }) => { rowspan: number, colspan: number }\r\n\r\nexport enum TablePlcAlign {\r\n    left = 'left',\r\n    center = 'center',\r\n    right = 'right',\r\n}\r\n\r\nexport enum TablePlcFixedType {\r\n    left = 'left',\r\n    center = 'center',\r\n    right = 'right',\r\n}\r\n\r\nexport const enum TableHoverPart {\r\n    body = 'body',\r\n    head = 'head'\r\n}\r\n\r\nexport const TableProps = {\r\n\r\n    /*---------------------------------------basic-------------------------------------------*/\r\n\r\n    ...StyleProps,\r\n\r\n    loading: {type: Boolean, default: null},                    // 是否开启表格的加载状态\r\n    virtual: {type: Boolean, default: false},                   // 虚拟滚动\r\n    summaryData: {type: Array as PropType<SimpleObject[]>},     // 表尾合计行数据\r\n    config: {type: Function as PropType<TablePropsConfig>},     // 配置列信息函数\r\n\r\n    rules: {type: Object as PropType<FormComponentRules>},      // 校验规则\r\n    colDraggable: {type: Boolean},                              // 列是否可以拖拽排序\r\n    spanMethod: {type: Function as PropType<TablePropsSpanMethod>},// 合并表体单元格的方法\r\n\r\n    /*---------------------------------------style-------------------------------------------*/\r\n\r\n    border: {type: Boolean},                                    // 是否带纵向边框\r\n    stripe: {type: Boolean},                                    // 是否为斑马纹table\r\n    hideHeader: {type: Boolean},                                // 是否隐藏表头\r\n    disabledStickyCompatible: {type: Boolean},                  // 是否禁用在ie下的sticky兼容\r\n    headRowHeight: {type: [String, Number], default: 45},       // 表头行高\r\n    bodyRowHeight: {type: [String, Number], default: 40},       // 表体行高\r\n    showRows: {type: Number, default: 10},                      // 表格显示的行数，当表体的行数超过这个值时，将会出现表体内部滚动，这个属性实际上就是用来设值表格高度\r\n\r\n    rowClassFunc: {type: Function as PropType<TablePropsRowClassFunc>},// 行 className 的计算函数\r\n    cellClassFunc: {type: Function as PropType<TablePropsCellClassFunc>},// 单元格 className 的计算函数\r\n    cellStyleFunc: {type: Function as PropType<TablePropsCellStyleFunc>},// 单元格 style 内联样式的计算函数\r\n    headCellClassFunc: {type: Function as PropType<TablePropsHeadCellClassFunc>},// 表头单元格的 className 的计算函数\r\n    headCellStyleFunc: {type: Function as PropType<TablePropsHeadCellStyleFunc>},// 表头单元格 style 内联样式计算函数\r\n\r\n    /*---------------------------------------tree-------------------------------------------*/\r\n    ...useTree.createProps<TableNode>(),\r\n    childrenField: {type: String, default: 'children'},         // 树节点对应子节点数据对应字段\r\n}","import {designComponent} from \"../../../../use/designComponent\";\r\nimport {PlainTable} from \"../../table\";\r\nimport Scroll from '../../../scroll'\r\nimport {renderColgroup} from \"../../plc/core/renderColgroup\";\r\nimport {PltHeadCell} from \"./head-cell\";\r\nimport {useStyles} from \"../../../../use/useStyles\";\r\nimport {TableHoverPart} from \"../table.utils\";\r\nimport {useRefs} from \"../../../../use/useRefs\";\r\n\r\nexport const PltHead = designComponent({\r\n    name: 'plt-head',\r\n    props: {\r\n        table: {type: PlainTable, required: true},\r\n    },\r\n    setup({props}) {\r\n\r\n        const {refs} = useRefs({\r\n            scroll: Scroll,\r\n        })\r\n        /*Scroll的父节点需要固定高度*/\r\n        const styles = useStyles(style => {\r\n            style.height = `${props.table.plcData.value!.headPlcListArray.length * (props.table.numberState.headRowHeight + 1)}px`\r\n        })\r\n        /*当总的列宽度大于表格宽度时，设置宽度*/\r\n        const tableStyles = useStyles(style => {\r\n            const {targetTableWidth} = props.table.plcData.value!\r\n            if (!!targetTableWidth) {\r\n                style.width = `${targetTableWidth}px`\r\n            }\r\n        })\r\n        /*表头表体联动滚动*/\r\n        const bindScroll = props.table.bindScroll(\r\n            TableHoverPart.head,\r\n            (scrollLeft, part) => part !== TableHoverPart.head && refs.scroll!.methods.scroll({x: scrollLeft}, {noEmitScroll: true})\r\n        )\r\n        /*表头支持鼠标滚动横向滚动*/\r\n        const onMousewheel = (e: WheelEvent) => {\r\n            const {deltaX, deltaY} = e\r\n            if (Math.abs(deltaY) > Math.abs(deltaX)) {\r\n                e.preventDefault()\r\n                e.stopPropagation()\r\n                refs.scroll!.refs.wrapper.scrollLeft = refs.scroll!.refs.wrapper.scrollLeft + deltaY / 3\r\n            }\r\n        }\r\n        const scrollRef = () => refs.scroll!\r\n\r\n        return {\r\n            render: () => (\r\n                <div class=\"plt-head\" style={styles.value} onMouseenter={bindScroll.onMouseenter}>\r\n                    <Scroll hideScrollbar scrollX refreshState={props.table.plcData.value!.targetTableWidth} onScroll={bindScroll.onScroll} ref=\"scroll\">\r\n                        <table {...{\r\n                            cellspacing: 0,\r\n                            cellpadding: 0,\r\n                            border: 0,\r\n                            style: tableStyles.value,\r\n                            onMousewheel: onMousewheel,\r\n                            key: props.table.plcData.value!.plcKeyString,\r\n                        }}>\r\n                            {renderColgroup(props.table.plcData.value!.flatPlcList)}\r\n                            {props.table.plcData.value!.headPlcListArray.map((array, arrayIndex) => (\r\n                                <tr style={`height:${props.table.numberState.headRowHeight}px`} key={arrayIndex}>\r\n                                    {array.map((plc) => <PltHeadCell table={props.table} tablePlc={plc} scroll={scrollRef}/>)}\r\n                                </tr>\r\n                            ))}\r\n                        </table>\r\n                    </Scroll>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../../../use/designComponent\";\r\nimport {PlainTable} from \"../../table\";\r\nimport {ComputedRef, PropType} from 'vue';\r\nimport {Plc} from \"../../plc/core/plc.type\";\r\nimport {TableNode} from \"../useTableNode\";\r\nimport {renderBodyCell} from \"../../plc/core/render\";\r\nimport {useEdit} from \"../../../../use/useEdit\";\r\nimport {StyleStatus, useStyle} from \"../../../../use/useStyle\";\r\nimport {FormValidate, FormValidateTrigger} from \"../../../form/form.validate\";\r\nimport {useClass} from \"../../../../use/useClasses\";\r\nimport {useStyles} from \"../../../../use/useStyles\";\r\n\r\nfunction useCellFormItemValidate(props: { plc: Plc, node: TableNode }, validate: ComputedRef<FormValidate>) {\r\n    const handler = {\r\n        onEditChange: async () => {\r\n            let {plc: {props: {field}}, node: {edit, data, editRow, validateResultMap}} = props\r\n            if (!validateResultMap) {props.node.validateResultMap = validateResultMap = {}}\r\n            if (!field) {return}\r\n            await validate.value.methods.validateField({\r\n                field,\r\n                formData: edit ? editRow : data,\r\n                trigger: FormValidateTrigger.change,\r\n                formValidateResultMap: validateResultMap,\r\n            })\r\n        },\r\n        onEditBlur: async () => {\r\n            let {plc: {props: {field}}, node: {edit, data, editRow, validateResultMap}} = props\r\n            if (!validateResultMap) {props.node.validateResultMap = validateResultMap = {}}\r\n            if (!field) {return}\r\n            await validate.value.methods.validateField({\r\n                field,\r\n                formData: edit ? editRow : data,\r\n                trigger: FormValidateTrigger.blur,\r\n                formValidateResultMap: validateResultMap,\r\n            })\r\n        },\r\n    }\r\n    useEdit({\r\n        adjust: ret => {\r\n            ret.disabled = null\r\n            ret.readonly = null\r\n            ret.loading = null\r\n            ret.onChange = handler.onEditChange\r\n            ret.onBlur = handler.onEditBlur\r\n        }\r\n    })\r\n    useStyle({\r\n        adjust: (ret) => {\r\n            const {node: {validateResultMap}, plc: {props: {field}}} = props\r\n            const {status} = ret\r\n            ret.status = status || ((!!field && validateResultMap && !!validateResultMap[field]) ? StyleStatus.error : undefined)\r\n            return ret\r\n        }\r\n    })\r\n}\r\n\r\nexport const PltCell = designComponent({\r\n    name: 'plt-cell',\r\n    props: {\r\n        table: {type: PlainTable, required: true},\r\n        node: {type: Object as PropType<TableNode>, required: true},\r\n        plc: {type: Object as PropType<Plc>, required: true},\r\n    },\r\n    setup({props}) {\r\n\r\n        useCellFormItemValidate(props, props.table.formValidate)\r\n\r\n        return {\r\n            render: () => {\r\n                const {node, plc} = props\r\n                const {body, editable} = renderBodyCell({node, plc})\r\n                const span = !!props.table.props.spanMethod ? props.table.props.spanMethod({node, plc}) : {rowspan: 1, colspan: 1}\r\n\r\n                if (span.rowspan === 0 || span.colspan === 0) {\r\n                    /*rowspan为0时，不会正确合并单元格，如果要合并单元格得不渲染这个td*/\r\n                    return null\r\n                }\r\n                const classes = useClass(() => {\r\n                    const ret = [\r\n                        props.plc.classes.body,\r\n                        props.plc.props.bodyCls,\r\n                        {'plt-cell-editing': editable,}\r\n                    ] as any[]\r\n                    if (!!props.table.props.cellClassFunc) {\r\n                        ret.push(props.table.props.cellClassFunc(node, plc))\r\n                    }\r\n                    return ret\r\n                })\r\n                const styles = useStyles(style => {\r\n                    Object.assign(style, plc.styles.body)\r\n                    if (!!props.table.props.cellStyleFunc) {\r\n                        Object.assign(style, props.table.props.cellStyleFunc(node, plc))\r\n                    }\r\n                })\r\n\r\n                return (\r\n                    <td{...span} class={classes.value} style={styles.value}>\r\n                        {body}\r\n                    </td>\r\n                )\r\n            }\r\n        }\r\n    },\r\n})","/**\r\n * 在遍历plc的时候，操作类型，remove意思是遍历完这一次之删除这个plc或者plc组\r\n * @author  韦胜健\r\n * @date    2020/8/14 17:26\r\n */\r\nimport {Plc, PlcGroup, TablePlc} from \"../../core/plc.type\";\r\n\r\nexport const enum IteratePlcHandleType {\r\n    remove = 'remove',                      // 移除当前节点\r\n    nothing = 'nothing'                     // 什么事也不做\r\n}\r\n\r\nexport function iteratePlcList(\r\n    {\r\n        plcList,\r\n        onPlc,\r\n        onGroup,\r\n    }: {\r\n        plcList: TablePlc[],\r\n        onPlc: (plc: Plc) => IteratePlcHandleType,\r\n        onGroup: (group: PlcGroup) => IteratePlcHandleType,\r\n    }\r\n) {\r\n\r\n    for (let i = 0; i < plcList.length; i++) {\r\n        const plc = plcList[i];\r\n        if (!plc.group) {\r\n            const handleType = onPlc(plc)\r\n            if (handleType === IteratePlcHandleType.remove) {\r\n                plcList.splice(i, 1)\r\n                i--\r\n            }\r\n        } else {\r\n            const handleType = onGroup(plc)\r\n            if (handleType === IteratePlcHandleType.remove) {\r\n                plcList.splice(i, 1)\r\n                i--\r\n            } else {\r\n                iteratePlcList({plcList: plc.children, onPlc, onGroup,})\r\n                // 当这个分组没有列的时候（可能都隐藏了），自动删除这个分组\r\n                if (plc.children.length === 0) {\r\n                    plcList.splice(i, 1)\r\n                    i--\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n}","import {designComponent} from \"../../../../use/designComponent\";\r\nimport {PlainTable} from \"../../table\";\r\nimport {PropType} from 'vue';\r\nimport {PltCell} from \"./cell\";\r\nimport {TableNode} from \"../useTableNode\";\r\nimport {useClass} from \"../../../../use/useClasses\";\r\n\r\nexport const PltRow = designComponent({\r\n    name: 'plt-row',\r\n    props: {\r\n        table: {type: PlainTable, required: true},\r\n        node: {type: Object as PropType<TableNode>, required: true},\r\n        vid: {type: [String, Number]},\r\n    },\r\n    setup({props}) {\r\n\r\n        const handler = {\r\n            onClick: (e: MouseEvent) => props.table.handler.onClickRow(e, props.node),\r\n            onDblclick: (e: MouseEvent) => props.table.handler.onDblclickRow(e, props.node),\r\n            vid: props.vid,\r\n        }\r\n\r\n        const classes = useClass(() => {\r\n            const ret = [\r\n                'plt-row',\r\n                {\r\n                    'plt-row-current': props.table.current.value === props.node.key\r\n                }\r\n            ] as any[]\r\n            if (!!props.table.props.rowClassFunc) {\r\n                ret.push(props.table.props.rowClassFunc(props.node))\r\n            }\r\n            return ret\r\n        })\r\n\r\n        return {\r\n            render: () => {\r\n                const content = [\r\n                    (\r\n                        <tr class={classes.value} style={`height:${props.table.numberState.bodyRowHeight}px`} {...handler}>\r\n                            {props.table.plcData.value!.flatPlcList.map(plc => <PltCell table={props.table} node={props.node} plc={plc}/>)}\r\n                        </tr>\r\n                    ),\r\n                ]\r\n                if (props.table.plcData.value!.plcListHasRenderAfterRow) {\r\n                    content.push(...props.table.plcData.value!.plcListHasRenderAfterRow.map(plc => plc.props.renderAfterRow!({\r\n                        node: props.node,\r\n                        plc,\r\n                        row: props.node.data,\r\n                    }) as Element))\r\n                }\r\n\r\n                return content.filter(Boolean)\r\n            }\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../use/designComponent\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport Scroll from '../scroll'\r\nimport {PropType} from 'vue';\r\nimport {SimpleObject} from \"../../shims\";\r\nimport {useScopedSlots} from \"../../use/useScopedSlots\";\r\nimport {useVirtualList} from \"../virutal-list/useVirtualList\";\r\nimport {useStyles} from \"../../use/useStyles\";\r\nimport {unit} from \"plain-utils/string/unit\";\r\n\r\n// const scrollbarSize = 12;\r\n\r\nexport const VirtualTable = designComponent({\r\n    name: 'pl-virtual-table',\r\n    props: {\r\n        data: {type: Array as PropType<SimpleObject[]>, require: true, default: []},// 要渲染的长数据\r\n        size: {type: Number, require: true, default: 40},           // 每一行高度\r\n        dynamicSize: {type: Boolean},                               // 标识列表中的每一行高度不是固定的，但是还是需要提供 size 属性，而且size属性不能与每一行的高度差距太多；\r\n        disabled: {type: Boolean},                                  // 禁用虚拟滚动\r\n\r\n        summaryData: {type: Array as PropType<SimpleObject[]>},     // 合计行数据\r\n        width: {type: Number},                                      // 宽度\r\n        height: {type: Number},                                     // 高度\r\n    },\r\n    emits: {\r\n        onScroll: (e: Event) => true\r\n    },\r\n    setup({props, event: {emit}}) {\r\n\r\n        const {slots} = useSlots(['colgroup'])\r\n        const {scopedSlots} = useScopedSlots({default: {item: Object, index: Number}})\r\n        const {refs} = useRefs({\r\n            scroll: Scroll,\r\n            content: HTMLDivElement,\r\n            summary: HTMLDivElement,\r\n        })\r\n\r\n        const {virtual} = useVirtualList({props, refs, emit,})\r\n\r\n        /*---------------------------------------computed-------------------------------------------*/\r\n        const styles = useStyles(style => {\r\n            style.height = unit(props.height)\r\n        })\r\n        const tableStyles = useStyles((style) => {\r\n            !!props.width && (style.width = unit(props.width))\r\n        })\r\n\r\n        const summaryTableStyles = useStyles((styles) => {\r\n            Object.assign(styles, tableStyles.value)\r\n            styles.height = `${!props.summaryData ? 0 : props.summaryData.length * props.size}px`\r\n            styles.bottom = `0px`\r\n        })\r\n\r\n        const strutStyles = useStyles(style => {\r\n            Object.assign(style, virtual.strutStyles.value)\r\n            !!props.width && (style.width = unit(props.width));\r\n            style.paddingBottom = `${(props.summaryData || []).length * props.size + 8}px`\r\n        })\r\n\r\n        const handler = {\r\n            onScroll: (e: any) => {\r\n                virtual.handler.onScroll(e)\r\n                !!refs.summary && (refs.summary.scrollLeft = e.target.scrollLeft)\r\n            }\r\n        }\r\n\r\n        return {\r\n            refer: {\r\n                refs\r\n            },\r\n            render: () => {\r\n                const {list} = virtual.offsetData.value\r\n                return (\r\n                    <div style={styles.value} class=\"pl-virtual-table\">\r\n                        <Scroll\r\n                            refreshState={props.width}\r\n                            ref=\"scroll\"\r\n                            disableListTransition\r\n                            onScroll={handler.onScroll}\r\n                            scrollX\r\n                            class={virtual.classes.value}\r\n                            horizontalScrollbarTooltip={'推荐【表头使用鼠标滚轮】，或者【表体Alt键+鼠标滚轮】横向滚动'}\r\n                            v-slots={{\r\n                                default: () => (<div class=\"pl-virtual-list-strut\" style={strutStyles.value}>\r\n                                    <div class=\"pl-virtual-list-content\" ref=\"content\" style={virtual.contentStyles.value}>\r\n                                        <table {...{cellpadding: 0, cellspacing: 0, border: 0, style: tableStyles.value}}>\r\n                                            {slots.colgroup()}\r\n                                            {list.map((node) => scopedSlots.default(node))}\r\n                                        </table>\r\n                                    </div>\r\n                                </div>),\r\n                                content: () => (\r\n                                    !props.summaryData || props.summaryData.length === 0 ? null :\r\n                                        <div class=\"pl-virtual-table-summary-table-wrapper\" ref=\"summary\">\r\n                                            <table {...{cellpadding: 0, cellspacing: 0, border: 0, style: summaryTableStyles.value}}\r\n                                                   class=\"pl-virtual-table-summary-table\">\r\n                                                {slots.colgroup()}\r\n                                                {!props.summaryData ? null : props.summaryData.map((item, index) => scopedSlots.default({item, index}))}\r\n                                            </table>\r\n                                        </div>\r\n                                ),\r\n                            }}/>\r\n                    </div>\r\n                )\r\n            }\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../../../use/designComponent\";\r\nimport {PlainTable} from \"../../table\";\r\nimport {PltRow} from \"./row\";\r\nimport {VirtualTable} from \"../../virtual-table\";\r\nimport {renderColgroup} from \"../../plc/core/renderColgroup\";\r\nimport {useRefs} from \"../../../../use/useRefs\";\r\nimport {TableHoverPart} from \"../table.utils\";\r\nimport {TableNode} from \"../useTableNode\";\r\nimport {PlainScroll} from \"../../../scroll/scroll\";\r\n\r\nexport const PltBody = designComponent({\r\n    name: 'plt-head',\r\n    props: {\r\n        table: {type: PlainTable, required: true},\r\n    },\r\n    setup({props}) {\r\n\r\n        const {refs} = useRefs({\r\n            virtual: VirtualTable,\r\n        })\r\n        /*表头表体联动滚动*/\r\n        const bindScroll = props.table.bindScroll(\r\n            TableHoverPart.body,\r\n            (scrollLeft, part) => part !== TableHoverPart.body && refs.virtual!.refs.scroll!.methods.scroll({x: scrollLeft}, {noEmitScroll: true})\r\n        );\r\n\r\n        const handler = {\r\n            /*表体支持alt+鼠标滚动联动滚动*/\r\n            onMousewheel: (e: MouseWheelEvent) => {\r\n                const {deltaX, deltaY} = e\r\n                if (e.altKey && Math.abs(deltaY) > Math.abs(deltaX)) {\r\n                    e.preventDefault()\r\n                    e.stopPropagation()\r\n                    refs.virtual!.refs.scroll!.refs.wrapper.scrollLeft = refs.virtual!.refs.scroll!.refs.wrapper.scrollLeft + deltaY / 3\r\n                }\r\n            },\r\n            onVnodeMounted: () => {\r\n                props.table.event.emit.onVirtualMounted({scroll: refs.virtual!.refs.scroll as PlainScroll})\r\n            }\r\n        }\r\n\r\n        return {\r\n            render: () => (\r\n                <VirtualTable\r\n                    class=\"plt-body\"\r\n                    ref=\"virtual\"\r\n                    key={props.table.plcData.value!.plcKeyString}\r\n                    width={props.table.plcData.value!.targetTableWidth!}\r\n                    size={props.table.numberState.bodyRowHeight}\r\n                    data={props.table.flatNodes.value}\r\n                    summaryData={props.table.summaryNodes.value || undefined}\r\n                    height={props.table.props.showRows * props.table.numberState.bodyRowHeight + 12}\r\n                    disabled={props.table.disabledVirtual.value}\r\n                    {...bindScroll}\r\n                    {...handler}\r\n                    v-slots={{\r\n                        default: ({item, index}: { item: TableNode, index: number }) => (\r\n                            <PltRow\r\n                                {...{vid: index}}\r\n                                key={index}\r\n                                table={props.table}\r\n                                node={item}\r\n                            />\r\n                        ),\r\n                        colgroup: () => renderColgroup(props.table.plcData.value!.flatPlcList)\r\n                    }}\r\n                />\r\n            )\r\n        }\r\n    },\r\n})","import {StyleProperties, VNodeChild} from \"../../../../shims\";\r\nimport {TablePlc, TableRenderScope} from \"./plc.type\";\r\nimport {TablePlcAlign, TablePlcFixedType} from \"../../core/table.utils\";\r\nimport {PropType} from 'vue';\r\nimport {TableNode} from \"../../core/useTableNode\";\r\nimport {MultipleClass} from \"../../../../use/useClasses\";\r\nimport {FormRule} from \"../../../form/form.validate\";\r\n\r\nexport type PlcRenderFunction = (scope: TableRenderScope) => VNodeChild\r\nexport type PlcPropsHead = (scope: { plc: TablePlc }) => VNodeChild\r\nexport type PlcPropsDefault = PlcRenderFunction\r\nexport type PlcPropsSummary = PlcRenderFunction\r\nexport type PlcPropsEdit = PlcRenderFunction\r\nexport type PlcPropsRenderAfterRow = PlcRenderFunction\r\nexport type PlcPropsEditable = boolean | ((node: TableNode) => boolean)\r\n\r\nexport const PlcGroupProps = {\r\n    title: {type: String},                                                  // 列标题\r\n    align: {type: String as PropType<TablePlcAlign>},                       // 非编辑状态下文本对其方式\r\n    noPadding: {type: Boolean},                                             // 是否不兼容表格的虚拟滚动功能\r\n    colDraggable: {type: Boolean, default: null},                           // 列是否可以拖拽排序\r\n\r\n    hide: {type: Boolean},                                                  // 是否隐藏\r\n    order: {type: [String, Number]},                                        // 列排序\r\n    fixed: {type: String as PropType<TablePlcFixedType>, default: TablePlcFixedType.center},// 冻结列位置：left、right、undefined\r\n    autoFixedLeft: {type: Boolean},                                         // 当出现左固定列的时候，是否自动设置为左固定列\r\n    autoFixedRight: {type: Boolean},                                        // 当出现右固定列的时候，是否自动设置为右固定列\r\n\r\n    headCls: {},                                                            // 给表头添加的class\r\n    bodyCls: {},                                                            // 给表体添加的class\r\n}\r\n\r\nexport const PlcProps = {\r\n    ...PlcGroupProps,\r\n    field: {type: String},                                                  // 列绑定字段\r\n    width: {type: [String, Number], default: 120},                          // 列宽度\r\n    fit: {type: Boolean},                                                   // 列宽自适应(只有一个列能够自适应)\r\n    notFitVirtual: {type: Boolean},                                         // 是否不兼容表格的虚拟滚动功能\r\n\r\n    // 渲染函数\r\n    head: {type: Function as PropType<PlcPropsHead>},                       // 列标题渲染函数\r\n    default: {type: Function as PropType<PlcPropsDefault>},                 // 列内容默认渲染函数\r\n    summary: {type: Function as PropType<PlcPropsSummary>},                 // 列内容在合计行上的渲染函数\r\n    edit: {type: Function as PropType<PlcPropsEdit>},                       // 列内容在编辑状态下的渲染函数\r\n    renderAfterRow: {type: Function as PropType<PlcPropsRenderAfterRow>},   // 行之后需要额外渲染的内容\r\n\r\n    // 编辑相关\r\n    required: {type: Boolean},                                              // 是否必填\r\n    rules: {type: [Object, Array] as PropType<FormRule | FormRule[]>},      // 校验规则\r\n    editable: {type: [Boolean, Function] as PropType<PlcPropsEditable>, default: true},// 是否可编辑\r\n    addEditPadding: {type: Boolean},                                        // 处于编辑状态的时候，是否添加内编辑，只有当行状态为编辑状态，并且列有edit渲染函数或者作用域插槽时，才符合“处于编辑状态”的条件\r\n}\r\n\r\nexport type PlcPublicAttrsType = {\r\n    level: number,                      // 分组表头层级\r\n    rowspan: number,                    // 表头td的rowspan\r\n    colspan: number,                    // 表头td的colspan\r\n    isLastFixedLeft: boolean,           // 是否为最后一个左固定列\r\n    isFirstFixedRight: boolean,         // 是否为第一个右固定列\r\n    fixedPosition: {                    // 固定列的sticky位置\r\n        left: number,\r\n        right: number,\r\n    },\r\n    // 列style公共内联样式\r\n    styles: {\r\n        head: StyleProperties,\r\n        body: StyleProperties,\r\n    },\r\n    // 列公共class样式\r\n    classes: {\r\n        head: MultipleClass,\r\n        body: MultipleClass,\r\n    },\r\n}\r\n\r\n/**\r\n * Plc以及PlcGroup公共的一些属性\r\n * @author  韦胜健\r\n * @date    2020/12/18 14:41\r\n */\r\nexport const PlcPublicAttrs: PlcPublicAttrsType = {\r\n    level: 0,\r\n    rowspan: 1,\r\n    colspan: 1,\r\n    isLastFixedLeft: false,\r\n    isFirstFixedRight: false,\r\n    fixedPosition: {\r\n        left: 0,\r\n        right: 0,\r\n    },\r\n    styles: {\r\n        head: {},\r\n        body: {},\r\n    },\r\n    classes: {\r\n        head: [],\r\n        body: [],\r\n    },\r\n}","import {TablePlc} from \"../../core/plc.type\";\r\nimport {deepcopy} from \"plain-utils/object/deepcopy\";\r\nimport {PlcPublicAttrs} from \"../../core/plc.utils\";\r\n\r\n/**\r\n * 浅复制一份plc数据，复制plc最外层对象以及plc.props数据，props数据是需要动态计算修改的。\r\n * state不能复制，因为需要其响应式属性。\r\n * @author  韦胜健\r\n * @date    2020/12/18 10:06\r\n */\r\nexport function copyPlcList(plcList: TablePlc[]) {\r\n    return plcList.map(plc => {\r\n        const refer = plc.refer()\r\n        const newPlc: TablePlc = {\r\n            ...refer,\r\n            ...deepcopy(PlcPublicAttrs),\r\n        }\r\n        newPlc.props = {...newPlc.props}\r\n        if (newPlc.group) {\r\n            newPlc.children = copyPlcList(newPlc.children)\r\n        }\r\n        return newPlc\r\n    })\r\n}","import {TablePlc} from \"../../core/plc.type\";\r\nimport {TablePlcFixedType, TablePropsConfig} from \"../../../core/table.utils\";\r\nimport {IteratePlcHandleType, iteratePlcList} from \"../utils/iteratePlcList\";\r\n\r\n/**\r\n * 处理Plc以及PlcGroup公共的，逻辑\r\n * @author  韦胜健\r\n * @date    2020/12/18 11:18\r\n */\r\nfunction handleTablePlc(plc: TablePlc, configData: { [k: string]: any } | null) {\r\n    const props = plc.props as any\r\n    const state = plc.state as any\r\n    // 如果有config，将config中的属性覆盖props\r\n    const configPlc = !configData ? null : configData[`${!plc.group ? plc.props.field : 'group'}_${plc.props.title}`]\r\n    if (!!configPlc) {\r\n        Object.keys(configPlc).forEach(key => {\r\n            if (configPlc[key] != null) props[key] = configPlc[key]\r\n        })\r\n    }\r\n    // 如果有state，将state中的属性覆盖props\r\n    Object.keys(plc.state).forEach(key => {\r\n        if (state[key] != null) props[key] = state[key]\r\n    })\r\n}\r\n\r\n/**\r\n * 处理plc的数据，以state、config、props为顺序，优先级依次递减，\r\n * 得到一个最终的plc.props 对象\r\n * @author  韦胜健\r\n * @date    2020/12/18 11:08\r\n */\r\nexport function processStateConfigAndProps(\r\n    {\r\n        plcList,\r\n        config,\r\n    }: {\r\n        plcList: TablePlc[],\r\n        config?: TablePropsConfig,\r\n    }\r\n) {\r\n    const configData = !config ? null : config(plcList)\r\n\r\n    const configState = {\r\n        notFitVirtual: [] as TablePlc[],                        // 不能使用虚拟滚动的列\r\n        fixedLeft: [] as TablePlc[],                            // 左固定的列\r\n        fixedRight: [] as TablePlc[],                           // 右固定的列\r\n        autoFixedLeft: [] as TablePlc[],                        // 需要自动左固定的列\r\n        autoFixedRight: [] as TablePlc[],                       // 需要自动右固定的列\r\n    }\r\n\r\n    /**\r\n     * - 根基plc的config，计算plc的属性。\r\n     * - 计算出需要自动左固定的plc，自动右固定的plc，左固定的plc，右固定的plc；以及计算出不兼容虚拟滚动的plc；\r\n     * - 如果group设置了自动左右固定或者左右固定，那么他的子组件plc或者group也要改成和父group一致的值；\r\n     * - 将隐藏的plc从group的子节点数据中移除\r\n     * @author  韦胜健\r\n     * @date    2020/8/12 10:24\r\n     */\r\n    iteratePlcList({\r\n        plcList,\r\n        onPlc: plc => {\r\n            handleTablePlc(plc, configData)\r\n            // 如果是隐藏的列，则删除这一列\r\n            if (plc.props.hide) {\r\n                return IteratePlcHandleType.remove\r\n            }\r\n            if (plc.props.notFitVirtual) configState.notFitVirtual.push(plc)\r\n            if (plc.props.autoFixedLeft) configState.autoFixedLeft.push(plc)\r\n            if (plc.props.autoFixedRight) configState.autoFixedRight.push(plc)\r\n            if (plc.props.fixed === TablePlcFixedType.left) configState.fixedLeft.push(plc)\r\n            if (plc.props.fixed === TablePlcFixedType.right) configState.fixedRight.push(plc)\r\n            return IteratePlcHandleType.nothing\r\n        },\r\n        onGroup: group => {\r\n            handleTablePlc(group, configData)\r\n            if (group.props.hide) {\r\n                return IteratePlcHandleType.remove\r\n            }\r\n            // 表头分组，子节点的固定方式，以及左固定、右固定随父节点控制\r\n            group.children.forEach(plc => {\r\n                plc.props.fixed = group.props.fixed\r\n                plc.props.autoFixedLeft = group.props.autoFixedLeft\r\n                plc.props.autoFixedRight = group.props.autoFixedRight\r\n            })\r\n            return IteratePlcHandleType.nothing\r\n        },\r\n    })\r\n\r\n    /**\r\n     * 在最终排序的时候，要求fixed是正确的，而跟autoFixedLeft，autoFixedRight的值无关\r\n     * @author  韦胜健\r\n     * @date    2020/12/18 11:26\r\n     */\r\n\r\n    /*如果存在左固定列，则设置autoFixedLeft为左固定*/\r\n    if (configState.fixedLeft.length > 0) {configState.autoFixedLeft.forEach(plc => plc.props.fixed = TablePlcFixedType.left)}\r\n\r\n    /*如果存在右固定列，则设置autoFixedRight为右固定*/\r\n    if (configState.fixedRight.length > 0) {configState.autoFixedRight.forEach(plc => plc.props.fixed = TablePlcFixedType.right)}\r\n\r\n    return configState\r\n}","import {Plc, TablePlc} from \"../../core/plc.type\";\r\nimport {IteratePlcHandleType, iteratePlcList} from \"../utils/iteratePlcList\";\r\nimport {insertSort} from \"plain-utils/object/insertSort\";\r\nimport {TablePlcFixedType} from \"../../../core/table.utils\";\r\n\r\n/**\r\n * 获取plc的排序索引\r\n * @author  韦胜健\r\n * @date    2020/12/18 14:23\r\n */\r\nfunction getPlcOrder(item: TablePlc): number {\r\n    let order = item.props.order || 0\r\n    if (item.props.fixed === TablePlcFixedType.left) {\r\n        order -= 9999\r\n    } else if (item.props.fixed === TablePlcFixedType.right) {\r\n        order += 9999\r\n    }\r\n    return Number(order)\r\n}\r\n\r\n/**\r\n * 对plc进行排序\r\n * @author  韦胜健\r\n * @date    2020/8/15 19:18\r\n */\r\nexport function processPlcSort(\r\n    {\r\n        plcList,\r\n        tableWidth,\r\n    }: {\r\n        plcList: TablePlc[],\r\n        tableWidth: number,\r\n    }\r\n) {\r\n    insertSort(plcList, (a, b) => getPlcOrder(a) > getPlcOrder(b))\r\n    /*计算 flatPlcList 自己 targetTableWidth*/\r\n    const flatPlcList = [] as Plc[]\r\n    iteratePlcList({\r\n        plcList,\r\n        onPlc: plc => {\r\n            flatPlcList.push(plc)\r\n            return IteratePlcHandleType.nothing\r\n        },\r\n        onGroup: group => {\r\n            group.children = insertSort(group.children, (a, b) => getPlcOrder(a) > getPlcOrder(b))\r\n            return IteratePlcHandleType.nothing\r\n        }\r\n    })\r\n\r\n    /*计算表格需要固定的宽度*/\r\n    const {targetTableWidth, plcKeyString} = (() => {\r\n        let totalPlcWidth = 0;                                          // 总的plc宽度\r\n        let fitPlc = null as null | Plc                                 // 需要自适应宽度的plc\r\n        const plcKeyString = [] as string[]\r\n        flatPlcList.forEach(plc => {\r\n            totalPlcWidth += plc.props.width\r\n            if (plc.props.fit) {\r\n                fitPlc = plc\r\n            } else if ((!fitPlc || !fitPlc.props.fit) && plc.props.fixed === TablePlcFixedType.center) {\r\n                fitPlc = plc\r\n            }\r\n            plcKeyString.push(plc.props.field || 'empty')\r\n        })\r\n        /**\r\n         * 目标table宽度，当总宽度小于tableWidth时，table不设置width宽度。因为table设置了min-width为100%，此时fit的列会自适应宽度。\r\n         * 当总宽度大于tableWidth时，table需要设置width宽度，否则会导致列被压缩\r\n         * @author  韦胜健\r\n         * @date    2020/12/18 15:28\r\n         */\r\n        let targetTableWidth = totalPlcWidth > tableWidth ? totalPlcWidth : null\r\n        if (!targetTableWidth && !!fitPlc) {\r\n            fitPlc.props.width = 0\r\n        }\r\n        return {targetTableWidth, plcKeyString: plcKeyString.join('_')}\r\n    })();\r\n\r\n    return {\r\n        targetTableWidth,\r\n        flatPlcList,\r\n        plcKeyString,\r\n    }\r\n}","import {TablePlc} from \"../../core/plc.type\";\r\nimport {TablePlcFixedType} from \"../../../core/table.utils\";\r\n\r\n/**\r\n * 计算渲染表头所需要的二维数组以及层数\r\n * @author  韦胜健\r\n * @date    2020/12/18 14:38\r\n */\r\nexport function processHeadPlcList({plcList}: { plcList: TablePlc[] }) {\r\n    // 最大表头层数\r\n    let maxLevel = 1\r\n    // 计算最大层数\r\n    const calculateLevel = (list: TablePlc[] | null, level: number) => {\r\n        if (!!list && list.length > 0) {\r\n            if (level > maxLevel) maxLevel = level\r\n            list.forEach((item) => {\r\n                item.level = level - 1\r\n                if (item.group) {\r\n                    calculateLevel((item).children, level + 1)\r\n                }\r\n            })\r\n        }\r\n    }\r\n    calculateLevel(plcList, 1)\r\n\r\n    // 计算多级表头每个单元格所占行数以及列数\r\n    const calculateSpan = (item: TablePlc) => {\r\n        if (item.group) {\r\n            const group = item\r\n            group.children.forEach(calculateSpan)\r\n            group.rowspan = 1\r\n            group.colspan = 0\r\n            group.children.forEach(i => group.colspan += i.colspan)\r\n        } else {\r\n            const plc = item\r\n            plc.rowspan = maxLevel - plc.level\r\n            plc.colspan = 1\r\n        }\r\n    }\r\n    plcList.forEach(plc => calculateSpan(plc))\r\n\r\n    // 计算结果\r\n    const headPlcListArray: TablePlc[][] = []\r\n\r\n    for (let j = 0; j < maxLevel; j++) headPlcListArray.push([])\r\n    // 收集多级表头渲染数据\r\n    const calculateHeadColumns = (list: TablePlc[]) => {\r\n        if (!!list && list.length > 0) {\r\n            list.forEach((item) => {\r\n                headPlcListArray[item.level!].push(item)\r\n                if (item.group) {\r\n                    calculateHeadColumns((item).children)\r\n                }\r\n            })\r\n        }\r\n    }\r\n    calculateHeadColumns(plcList)\r\n    setFixedFlag(headPlcListArray[0])\r\n\r\n    return {\r\n        headPlcListArray,\r\n        maxLevel,\r\n    }\r\n}\r\n\r\n/**\r\n * 对plc设置标记，是否为最后一个左固定列，是否为第一个右固定列\r\n * @author  韦胜健\r\n * @date    2020/8/15 23:06\r\n */\r\nfunction setFixedFlag(plcList: TablePlc[]) {\r\n    let lastFixedLeft: TablePlc | undefined;\r\n    let firstFixedRight: TablePlc | undefined;\r\n\r\n    plcList.forEach(plc => {\r\n        if (plc.props.fixed === TablePlcFixedType.left) {\r\n            lastFixedLeft = plc\r\n        }\r\n        if (!firstFixedRight && plc.props.fixed === TablePlcFixedType.right) {\r\n            firstFixedRight = plc\r\n        }\r\n    })\r\n\r\n    /**\r\n     * 递归设置，每一层的lastFixedLeft\r\n     * @author  韦胜健\r\n     * @date    2020/12/18 14:46\r\n     */\r\n    function setLastFixedLeft(plc: TablePlc) {\r\n        plc.isLastFixedLeft = true\r\n        if (plc.group) {\r\n            setLastFixedLeft(plc.children[plc.children.length - 1])\r\n        }\r\n    }\r\n\r\n    !!lastFixedLeft && setLastFixedLeft(lastFixedLeft);\r\n\r\n    /**\r\n     * 递归设置每一层的firstFixedRight\r\n     * @author  韦胜健\r\n     * @date    2020/12/18 14:46\r\n     */\r\n    function setFirstFixedRight(plc: TablePlc) {\r\n        plc.isFirstFixedRight = true\r\n        if (plc.group) {\r\n            setFirstFixedRight(plc.children[0])\r\n        }\r\n    }\r\n\r\n    !!firstFixedRight && setFirstFixedRight(firstFixedRight)\r\n}","import {Plc, TablePlc} from \"../../core/plc.type\";\r\nimport {TablePlcFixedType} from \"../../../core/table.utils\";\r\nimport {StyleProperties} from \"../../../../../shims\";\r\n\r\n/**\r\n * 处理plc的fixed定位\r\n * @author  韦胜健\r\n * @date    2020/12/19 16:50\r\n */\r\nexport function processPlcFixed(flatPlcList: Plc[]) {\r\n    const collect = (() => {\r\n        const left = [] as Plc[]\r\n        const right = [] as Plc[]\r\n        flatPlcList.forEach(plc => {\r\n            switch (plc.props.fixed) {\r\n                case TablePlcFixedType.left:\r\n                    left.push(plc)\r\n                    break\r\n                case TablePlcFixedType.right:\r\n                    right.push(plc)\r\n                    break\r\n            }\r\n        })\r\n        return {\r\n            left,\r\n            right,\r\n        }\r\n    })();\r\n    const width = {\r\n        left: 0,\r\n        right: 0,\r\n    };\r\n    Object.keys(collect).forEach((item) => {\r\n        const key = item as 'left' | 'right'\r\n        let list = collect[key]!\r\n        if (key === 'right') {list = list.reverse()}\r\n\r\n        for (let i = 0; i < list.length; i++) {\r\n            const element = list[i];\r\n            width[key] += element.props.width\r\n            if (i === 0) {\r\n                element.fixedPosition[key] = 0\r\n            } else {\r\n                const {props: {width: prevWidth}, fixedPosition: {[key]: prevValue}} = list[i - 1]!\r\n                element.fixedPosition[key] = Number(prevWidth) + prevValue\r\n            }\r\n        }\r\n    })\r\n}\r\n\r\n/**\r\n * 获取plcFixed样式\r\n * @author  韦胜健\r\n * @date    2020/12/19 16:55\r\n */\r\nexport function getPlcFixedStyle(plc: TablePlc) {\r\n    const {props: {fixed}} = plc\r\n    const styles = {} as StyleProperties\r\n    if (fixed === TablePlcFixedType.center) {\r\n        return styles\r\n    }\r\n    styles.position = 'sticky'\r\n    styles.zIndex = 3\r\n\r\n    if (!plc.group) {\r\n        styles[fixed] = plc.fixedPosition[fixed] + 'px'\r\n    } else {\r\n        let count = 10\r\n        const isFixedLeft = fixed === TablePlcFixedType.left\r\n        while (!!plc && plc.group && count > 0) {\r\n            plc = plc.children[isFixedLeft ? 0 : plc.children.length - 1]\r\n            count--\r\n        }\r\n        if (count === 0 && !!plc) {\r\n            throw new Error('解析异常')\r\n        }\r\n        if (!!plc) {\r\n            styles[fixed] = plc.fixedPosition[fixed] + 'px'\r\n        }\r\n    }\r\n    return styles\r\n}","import {TablePlc} from \"../../core/plc.type\";\r\n\r\nexport function getPltCellClass(plc: TablePlc) {\r\n    return {\r\n        // 'pl-cell-group': plc.group,\r\n        [`plt-cell-align-${plc.props.align}`]: !!plc.props.align,\r\n    }\r\n}","import {TablePlc} from \"../../core/plc.type\";\r\nimport {getPlcFixedStyle} from \"./processPlcFixed\";\r\nimport {getPltCellClass} from \"./getPltCellClass\";\r\n\r\nexport function processPlcClassAndStyle(\r\n    {\r\n        headPlcListArray,\r\n    }: {\r\n        headPlcListArray: TablePlc[][],\r\n    }\r\n) {\r\n    headPlcListArray.forEach((list) => {\r\n        list.forEach((plc) => {\r\n            /*---------------------------------------head-------------------------------------------*/\r\n            plc.styles.head = getPlcFixedStyle(plc)\r\n            plc.classes.head = [\r\n                'plt-cell',\r\n                'plt-head-cell',\r\n                {\r\n                    ...getPltCellClass(plc),\r\n                    'plt-cell-last-fixed-left': plc.isLastFixedLeft,\r\n                    'plt-cell-first-fixed-right': plc.isFirstFixedRight,\r\n                    'plt-cell-no-padding': plc.props.noPadding,\r\n                }\r\n            ]\r\n            /*---------------------------------------body-------------------------------------------*/\r\n            if (!plc.group) {\r\n                plc.styles.body = getPlcFixedStyle(plc)\r\n                plc.classes.body = [\r\n                    'plt-cell',\r\n                    'plt-body-cell',\r\n                    {\r\n                        ...getPltCellClass(plc),\r\n                        'plt-cell-add-edit-padding': plc.props.addEditPadding,\r\n                        'plt-cell-last-fixed-left': plc.isLastFixedLeft,\r\n                        'plt-cell-first-fixed-right': plc.isFirstFixedRight,\r\n                        'plt-cell-no-padding': plc.props.noPadding,\r\n                    },\r\n                ]\r\n            }\r\n        })\r\n    })\r\n}","import {Plc, TablePlc} from \"../core/plc.type\";\r\nimport {copyPlcList} from \"./process/copyPlcList\";\r\nimport {processStateConfigAndProps} from \"./process/processStateConfigAndProps\";\r\nimport {ExtractPropTypes} from 'vue';\r\nimport {TableProps} from \"../../core/table.utils\";\r\nimport {processPlcSort} from \"./process/processPlcSort\";\r\nimport {processHeadPlcList} from \"./process/processHeadPlcList\";\r\nimport {processPlcFixed} from \"./process/processPlcFixed\";\r\nimport {processPlcClassAndStyle} from \"./process/processPlcClassAndStyle\";\r\n\r\nexport function formatPlcList(\r\n    {\r\n        plcList,\r\n        props,\r\n        tableWidth,\r\n    }: {\r\n        plcList: TablePlc[],\r\n        props: ExtractPropTypes<typeof TableProps>,\r\n        tableWidth: number,\r\n    }\r\n) {\r\n    /*复制一份plc数据*/\r\n    plcList = copyPlcList(plcList)\r\n    /*处理state、config以及props*/\r\n    const {notFitVirtual} = processStateConfigAndProps({plcList, config: props.config})\r\n    /*对plc进行排序*/\r\n    const {flatPlcList, targetTableWidth, plcKeyString} = processPlcSort({plcList, tableWidth})\r\n    /*计算表头渲染需要的数据*/\r\n    const {headPlcListArray, maxLevel} = processHeadPlcList({plcList})\r\n    /*计算固定列所需要的left，right值*/\r\n    processPlcFixed(flatPlcList)\r\n    /*计算plc的class以及style*/\r\n    processPlcClassAndStyle({headPlcListArray})\r\n\r\n    /*需要在行之后渲染其他内容的plcList*/\r\n    let plcListHasRenderAfterRow = flatPlcList.filter(plc => plc.props.renderAfterRow) as (Plc[] | null)\r\n    if (!!plcListHasRenderAfterRow && plcListHasRenderAfterRow.length === 0) {plcListHasRenderAfterRow = null}\r\n\r\n    return {\r\n        plcList,                                                // 列数组数据，树形结构的数据\r\n        flatPlcList,                                            // 展开之后最底层的列数组\r\n        targetTableWidth,                                       // 表格宽度\r\n        notFitVirtual,                                          // 不兼容虚拟列表的列数组\r\n        headPlcListArray,                                       // 表头渲染的二维数组\r\n        plcKeyString,                                           // 当列排序或者其他属性变化之后，需要刷新body，否则会出现部分节点没有更新的问题\r\n        maxLevel,                                               // 表头层级\r\n        plcListHasRenderAfterRow,                               // 列需要在行之后多渲染的数据\r\n    }\r\n}","import {computed, ExtractPropTypes, onMounted, reactive} from 'vue';\r\nimport {useRefs} from \"../../../../use/useRefs\";\r\nimport {TableProps} from \"../../core/table.utils\";\r\nimport {useNumber} from \"../../../../use/useNumber\";\r\nimport PlcCollector from \"../core/plc-collector\";\r\nimport {formatPlcList} from \"./formatPlcList\";\r\n\r\nexport function usePlcList(\r\n    {\r\n        props,\r\n    }: {\r\n        props: ExtractPropTypes<typeof TableProps>\r\n    }\r\n) {\r\n\r\n    const {refs} = useRefs({\r\n        collector: PlcCollector,\r\n        el: HTMLDivElement,\r\n    })\r\n\r\n    /*---------------------------------------state-------------------------------------------*/\r\n\r\n    const state = reactive({\r\n        /*表格宽度*/\r\n        tableWidth: null as null | number,\r\n    })\r\n    const {numberState} = useNumber(props, ['bodyRowHeight', 'headRowHeight'])\r\n\r\n    /*---------------------------------------computed-------------------------------------------*/\r\n\r\n    const plcData = computed(() => {\r\n        if (!state.tableWidth) {\r\n            return null\r\n        }\r\n        const {children} = refs.collector!\r\n        return formatPlcList({\r\n            plcList: children,\r\n            props,\r\n            tableWidth: state.tableWidth,\r\n        })\r\n    })\r\n\r\n    onMounted(() => {\r\n        state.tableWidth = refs.el.offsetWidth\r\n    })\r\n\r\n    return {\r\n        numberState,\r\n        plcData,\r\n    }\r\n}","import {TableHoverPart} from \"./table.utils\";\r\nimport {ref} from 'vue';\r\n\r\n/**\r\n * 绑定表头表体联动滚动\r\n * @author  韦胜健\r\n * @date    2020/12/18 16:27\r\n */\r\nexport function useBindScroll(\r\n    event: {\r\n        emit: {\r\n            onScrollLeft: (scrollLeft: number, part: TableHoverPart) => void,\r\n        },\r\n        on: {\r\n            onScrollLeft: (cb: (scrollLeft: number, part: TableHoverPart) => void) => void,\r\n        },\r\n    }\r\n) {\r\n    const hoverPart = ref(null as null | TableHoverPart)\r\n    return {\r\n        bindScroll: (part: TableHoverPart, updateLeft: (left: number, part: TableHoverPart) => void) => {\r\n            event.on.onScrollLeft((left, part) => updateLeft(left, part))\r\n            return {\r\n                onMouseenter: () => hoverPart.value = part,\r\n                onScroll: (e: Event) => hoverPart.value === part && event.emit.onScrollLeft((e as any).target.scrollLeft, part)\r\n            }\r\n        }\r\n    }\r\n}","import {SimpleObject} from \"../../../shims\";\r\nimport {TreeNodeCheckStatus} from \"../../tree/utils/tree-constant\";\r\nimport {FormValidate, FormValidateResultMap, FormValidateReturn} from \"../../form/form.validate\";\r\nimport {computed, ExtractPropTypes} from 'vue';\r\nimport {TableProps} from \"./table.utils\";\r\nimport {createKeyHandler} from \"../../../utils/createKeyHandler\";\r\nimport {deepcopy} from \"plain-utils/object/deepcopy\";\r\nimport {useTree} from \"../../tree/core/useTree\";\r\n\r\nexport function useTableNode(\r\n    {\r\n        props,\r\n        emit,\r\n        getValidate,\r\n    }: {\r\n        props: ExtractPropTypes<typeof TableProps>,\r\n        getValidate: () => FormValidate,\r\n        emit: {\r\n            onExpand: (node: TableNode) => void,\r\n            onExpandChange: (keys: string[]) => void,\r\n            onCollapse: (node: TableNode) => void,\r\n            onCheck: (node: TableNode) => void,\r\n            onUncheck: (node: TableNode) => void,\r\n            onCheckChange: (keys: string[]) => void,\r\n            onClickNode: (node: TableNode) => void,\r\n            onUpdateData: (data?: SimpleObject[]) => void,\r\n            onUpdateCurrent: (key?: string) => void,\r\n        },\r\n    }\r\n) {\r\n    const {state, dataModel, utils, methods, current, handler} = useTree<TableNode>({\r\n        props,\r\n        keyManager: createKeyHandler('table'),\r\n        emit,\r\n        getTreeNodeByDataAdjust: node => {\r\n            node.isSummary = false\r\n            node.edit = false\r\n            node.editRow = node.data\r\n            node.validateResultMap = null\r\n            node.openEdit = function () {this.edit = true}\r\n            node.closeEdit = function () {this.edit = false}\r\n            node.enableEdit = function () {\r\n                if (this.edit) return\r\n                this.editRow = deepcopy(this.data)\r\n                this.openEdit()\r\n                this.validate()\r\n            }\r\n            node.cancelEdit = function () {this.edit && this.closeEdit()}\r\n            node.validate = async function () {\r\n                const {methods: {validate}} = getValidate()\r\n                const {validateMessage, validateResult, validateResultMap} = await validate(this.editRow)\r\n                this.validateResultMap = validateResultMap || null\r\n                return !validateMessage ? null : {\r\n                    validateMessage,\r\n                    validateResult,\r\n                    validateResultMap,\r\n                    node: this,\r\n                }\r\n            }\r\n            node.saveEdit = async function (newRow) {\r\n                if (!this.edit) return\r\n                let {data, editRow} = this\r\n                newRow = newRow || this.editRow\r\n                Object.keys({...data, ...editRow, ...newRow}).forEach(k => this.data[k] = newRow[k])\r\n            }\r\n        }\r\n    })\r\n    /*拍平的数组*/\r\n    const flatNodes = computed(() => {\r\n        let list: TableNode[] = []\r\n        if (!state.root) {\r\n            return []\r\n        }\r\n        utils.iterate({\r\n            nodes: state.root.children,\r\n            iterateChildren: (treeNode) => treeNode.expand,\r\n            handler: (treeNode) => list.push(treeNode),\r\n        },)\r\n        list = list.filter((treeNode) => !!treeNode.isVisible)\r\n        list.forEach((node, index) => node.index = index)\r\n        return list\r\n    })\r\n    const summaryNodes = computed(() => !props.summaryData ? null : props.summaryData.map((data) => utils.getTreeNodeByData({data, level: 1, parentRef: null as any, adjust: node => node.isSummary = true})))\r\n    return {state, dataModel, flatNodes, summaryNodes, methods, current, handler, utils}\r\n}\r\n\r\nexport type TableNode = {\r\n\r\n    key: string,                                        // 节点唯一标识\r\n    data: SimpleObject,                                 // 节点数据\r\n    level: number,                                      // 节点层级\r\n    parentRef: () => TableNode | null,                  // 父节点引用\r\n    selfRef: () => TableNode,                           // 自身引用\r\n    index: number,                                      // 节点索引\r\n    children?: TableNode[],                             // 子节点数组\r\n\r\n    expand: boolean,                                    // 节点是否已经展开\r\n    check: boolean,                                     // 节点是够已经选中\r\n    loading: boolean,                                   // 节点是否处于加载状态\r\n    loaded: boolean,                                    // 节点是否已经加载完毕\r\n\r\n    readonly childrenData?: SimpleObject[]              // 子节点数据数组\r\n    readonly checkStatus: TreeNodeCheckStatus,          // 节点选中状态\r\n    readonly isCheckable: boolean,                      // 节点是否可以选择\r\n    readonly isLeaf: boolean,                           // 节点是否为叶子节点\r\n    readonly isVisible: boolean,                        // 节点是否可见\r\n\r\n    /*---------------------------------------edit-------------------------------------------*/\r\n\r\n    isSummary: boolean,                                 // 当前是否为合计行数据\r\n    edit: boolean,                                      // 当前是否处于可编辑状态\r\n    editRow: SimpleObject,                              // 编辑行对象\r\n    validateResultMap: FormValidateResultMap | null,    // 当前行的校验结果\r\n\r\n    openEdit: () => void,                               // 开启编辑状态（不做任何处理）\r\n    closeEdit: () => void,                              // 关闭编辑状态（不做任何处理）\r\n    enableEdit: () => void,                             // 开启编辑状态（先判断当前是否可编辑，深度赋值一份data赋值给editRow，并且立即执行校验）\r\n    cancelEdit: () => void,                             // 取消编辑状态\r\n    validate: () => Promise<(FormValidateReturn & { node: TableNode }) | null>, // 校验数据\r\n    saveEdit: (newRow: SimpleObject) => Promise<void>,  // 保存编辑，将editRow以及newRow（请求得到的新对象）覆盖data\r\n\r\n}","import {PlainScroll} from \"../../scroll/scroll\";\r\n\r\nexport function useTableGetScroll(onVirtualMounted: (cb: (data: { scroll: PlainScroll }) => void) => void, onChange?: (scroll: PlainScroll) => void) {\r\n    let val: PlainScroll\r\n    onVirtualMounted(({scroll}) => {\r\n        val = scroll;\r\n        !!onChange && onChange(scroll)\r\n    })\r\n    return {\r\n        getScroll: () => val!\r\n    }\r\n}","import {PlainScroll} from \"../../scroll/scroll\";\r\nimport {computed, reactive} from 'vue';\r\nimport {useTableGetScroll} from \"./useTableGetScroll\";\r\n\r\nexport function useFixedShadow(event: {\r\n    on: {\r\n        onVirtualMounted: (cb: (data: { scroll: PlainScroll }) => void) => void,\r\n    }\r\n}) {\r\n    const state = reactive({\r\n        showFixedLeft: false,\r\n        showFixedRight: false,\r\n    })\r\n    const freeState = {\r\n        scroll: null as null | PlainScroll,\r\n        onScroll: () => {\r\n            const {freezeState: {wrapperScrollLeft}, state: {hostWidth, contentWidth}} = freeState.scroll!\r\n            state.showFixedLeft = contentWidth > hostWidth && wrapperScrollLeft > 0\r\n            state.showFixedRight = contentWidth > hostWidth && Math.abs(wrapperScrollLeft + hostWidth - contentWidth) > 5\r\n        }\r\n    }\r\n    useTableGetScroll(event.on.onVirtualMounted, (scroll) => {\r\n        if (!!freeState.scroll) {freeState.scroll.off.onScroll(freeState.onScroll)}\r\n        freeState.scroll = scroll\r\n        scroll.on.onScroll(freeState.onScroll)\r\n        freeState.onScroll()\r\n    })\r\n    const classes = computed(() => [\r\n        {\r\n            'plt-table-hide-fixed-left': !state.showFixedLeft,\r\n            'plt-table-hide-fixed-right': !state.showFixedRight,\r\n        }\r\n    ])\r\n    return {\r\n        fixedShadowClass: classes,\r\n    }\r\n}","import {designComponent} from \"../../use/designComponent\";\r\nimport {useSlots} from \"../../use/useSlots\";\r\nimport PlcCollector from './plc/core/plc-collector'\r\nimport {PltHead} from \"./core/head/head\";\r\nimport {PltBody} from \"./core/body/body\";\r\nimport './table.scss'\r\nimport {TableHoverPart, TableProps} from './core/table.utils';\r\nimport {usePlcList} from \"./plc/format/usePlcList\";\r\nimport {computed, ComputedRef, inject, onMounted, PropType} from 'vue';\r\nimport {useBindScroll} from \"./core/useBindScroll\";\r\nimport {TableNode, useTableNode} from \"./core/useTableNode\";\r\nimport {useRefs} from \"../../use/useRefs\";\r\nimport {PlainScroll} from \"../scroll/scroll\";\r\nimport {useFixedShadow} from \"./core/useFixedShadow\";\r\nimport {StyleShape, StyleSize, useStyle} from \"../../use/useStyle\";\r\nimport {formatFormRules, FormValidate} from \"../form/form.validate\";\r\nimport {useTree} from \"../tree/core/useTree\";\r\nimport {hasClass} from \"plain-utils/dom/hasClass\";\r\n\r\nconst Table = designComponent({\r\n    name: 'pl-table',\r\n    props: {\r\n        ...TableProps,\r\n    },\r\n    provideRefer: true,\r\n    emits: {\r\n        ...useTree.createEvent<TableNode>(),\r\n        onScrollLeft: (scrollLeft: number, part: TableHoverPart) => true,\r\n        onVirtualMounted: (data: { scroll: PlainScroll }) => true,\r\n\r\n        onClickRow: (node: TableNode, e: MouseEvent) => true,\r\n        onDblclickRow: (node: TableNode, e: MouseEvent) => true,\r\n        onClickCell: (node: TableNode, e: MouseEvent) => true,\r\n        onDblclickCell: (node: TableNode, e: MouseEvent) => true,\r\n    },\r\n    setup({props, event}) {\r\n\r\n        const {refs} = useRefs({\r\n            el: HTMLDivElement,\r\n        })\r\n\r\n        const {styleComputed} = useStyle({\r\n            adjust: config => {\r\n                config.shape = props.shape || StyleShape.square\r\n                config.size = props.size || StyleSize.normal\r\n                config.status = props.status\r\n            }\r\n        })\r\n        const {emit} = event\r\n        const {slots} = useSlots()\r\n        const {numberState, plcData} = usePlcList({props})\r\n        const {bindScroll} = useBindScroll(event)\r\n        const {state, flatNodes, summaryNodes, dataModel, methods, current, handler, utils} = useTableNode({props, emit, getValidate: () => formValidate.value})\r\n        const {fixedShadowClass} = useFixedShadow(event)\r\n        const formValidate = computed(() => formatFormRules(\r\n            props.rules,\r\n            !plcData.value ? undefined : plcData.value.flatPlcList.map(plc => ({\r\n                label: plc.props.title,\r\n                field: plc.props.field,\r\n                required: plc.props.required,\r\n                rules: plc.props.rules,\r\n            })))) as ComputedRef<FormValidate>\r\n\r\n        /*是否可以启用虚拟滚动*/\r\n        const disabledVirtual = computed(() => props.virtual == false || (!!plcData.value && plcData.value.notFitVirtual.length > 0))\r\n\r\n        const classes = computed(() => [\r\n            'pl-table',\r\n            `pl-table-size-${styleComputed.value.size}`,\r\n            `pl-table-shape-${styleComputed.value.shape}`,\r\n            {\r\n                'pl-table-border': props.border,\r\n            },\r\n            ...fixedShadowClass.value,\r\n        ])\r\n\r\n        const exposeHandler = {\r\n            ...handler,\r\n            onClickRow: (e: MouseEvent, node: TableNode) => {\r\n                methods.setCurrent(node.key);\r\n                emit.onClickRow(node, e);\r\n                hasClass(e.target as HTMLElement, 'plt-cell') && emit.onClickCell(node, e);\r\n            },\r\n            onDblclickRow: (e: MouseEvent, node: TableNode) => {\r\n                emit.onDblclickRow(node, e)\r\n                hasClass(e.target as HTMLElement, 'plt-cell') && emit.onDblclickCell(node, e);\r\n            }\r\n        }\r\n\r\n        const refer = {\r\n            refs,\r\n            props,\r\n            numberState,\r\n            plcData,\r\n            bindScroll,\r\n            event,\r\n            dataModel,\r\n            state, flatNodes, summaryNodes,\r\n            disabledVirtual,\r\n            handler: exposeHandler,\r\n            ...methods,\r\n            formValidate,\r\n            current,\r\n            utils,\r\n        }\r\n\r\n        onMounted(() => {\r\n            // console.log(refer.nodeState)\r\n        })\r\n\r\n        return {\r\n            refer,\r\n            render: () => (\r\n                <div class={classes.value} ref=\"el\" v-loading={props.loading || state.root.loading}>\r\n                    <PlcCollector ref=\"collector\">{slots.default()}</PlcCollector>\r\n                    {!!plcData.value && <>\r\n                        <PltHead table={refer}/>\r\n                        <PltBody table={refer}/>\r\n                    </>}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})\r\n\r\nexport const PlainTable = Object as PropType<typeof Table.use.class>\r\n\r\nexport function injectPlainTable() {return inject('@@pl-table') as typeof Table.use.class}\r\n\r\nexport default Table","import {designComponent} from \"../../../../use/designComponent\";\r\nimport {PlcProps, PlcPublicAttrs} from \"./plc.utils\";\r\nimport {TablePlcCollector} from './plc-collector';\r\nimport {Plc, TablePlc} from \"./plc.type\";\r\nimport {useNumber} from \"../../../../use/useNumber\";\r\nimport {computed, ExtractPropTypes, PropType, reactive} from 'vue';\r\nimport {useScopedSlots} from \"../../../../use/useScopedSlots\";\r\nimport {TableNode} from \"../../core/useTableNode\";\r\n\r\nexport function usePlc(props: ExtractPropTypes<typeof PlcProps>) {\r\n\r\n    const {scopedSlots} = useScopedSlots({\r\n        head: {plc: Object as PropType<TablePlc>},\r\n        default: {node: Object as PropType<TableNode>, plc: Object as PropType<Plc>},\r\n        edit: {node: Object as PropType<TableNode>, plc: Object as PropType<Plc>},\r\n        summary: {node: Object as PropType<TableNode>, plc: Object as PropType<Plc>},\r\n    }, true)\r\n    /*collector收集列信息*/\r\n    TablePlcCollector.useChild()\r\n    /*格式化props*/\r\n    const {numberState} = useNumber(props, ['order', 'width'])\r\n    /*目标props*/\r\n    const formatProps = computed(() => ({\r\n        ...props,\r\n        ...numberState,\r\n    }) as Omit<typeof props, 'order' | 'width'> & typeof numberState)\r\n    /*props的一个副本，不过如果有值的情况下，优先级比props中的值高（比config值也高）*/\r\n    const propsState = reactive(Object.keys(PlcProps).reduce((ret: any, key: string) => {\r\n        ret[key] = null\r\n        return ret\r\n    }, {}) as { [k in keyof typeof formatProps.value]: typeof formatProps.value[k] | null })\r\n\r\n    const plc: Plc = reactive({\r\n        /*PlcPublicAttrs 在 copyPlc中会深度复制一遍，这里适配类型即可*/\r\n        ...PlcPublicAttrs,\r\n        group: false,\r\n        props: formatProps,\r\n        state: propsState,\r\n        refer: () => plc,\r\n        setDurWidth: (durWidth: number) => propsState.width = Number((formatProps.value.width)) + durWidth,\r\n        scopedSlots,\r\n    })\r\n\r\n    return {\r\n        refer: plc,\r\n        render: () => (<i {...{title: props.title, field: props.field}}/>)\r\n    }\r\n}\r\n\r\nexport default designComponent({\r\n    name: 'plc',\r\n    props: {\r\n        ...PlcProps,\r\n    },\r\n    setup({props}) {\r\n        return usePlc(props)\r\n    },\r\n})","import {designComponent} from \"../../../../use/designComponent\";\r\nimport {PlcGroupProps, PlcPublicAttrs} from \"./plc.utils\";\r\nimport {TablePlcCollector} from './plc-collector';\r\nimport {useSlots} from \"../../../../use/useSlots\";\r\nimport {PlcGroup} from \"./plc.type\";\r\nimport {useNumber} from \"../../../../use/useNumber\";\r\nimport {computed, PropType, reactive} from 'vue';\r\nimport {useScopedSlots} from \"../../../../use/useScopedSlots\";\r\n\r\nexport default designComponent({\r\n    name: 'plc-group',\r\n    props: {\r\n        ...PlcGroupProps,\r\n    },\r\n    setup({props}) {\r\n        /*插槽*/\r\n        const {slots} = useSlots()\r\n        const {scopedSlots} = useScopedSlots({\r\n            head: {plc: Object as PropType<PlcGroup>},\r\n        }, true)\r\n        /*collector收集列信息*/\r\n        TablePlcCollector.useChild()\r\n        /*子列信息*/\r\n        const {children} = TablePlcCollector.useParent()\r\n        /*格式化props*/\r\n        const {numberState} = useNumber(props, ['order'])\r\n        /*目标props*/\r\n        const formatProps = computed(() => ({\r\n            ...props,\r\n            ...numberState,\r\n        }) as Omit<typeof props, 'order'> & typeof numberState)\r\n        /*props的一个副本，不过如果有值的情况下，优先级比props中的值高（比config值也高）*/\r\n        const propsState = reactive(Object.keys(PlcGroupProps).reduce((ret: any, key: string) => {\r\n            ret[key] = null\r\n            return ret\r\n        }, {}) as { [k in keyof typeof formatProps.value]: typeof formatProps.value[k] | null })\r\n\r\n        /*核心暴露对象*/\r\n        const group: PlcGroup = reactive({\r\n            /*PlcPublicAttrs 在 copyPlc中会深度复制一遍，这里适配类型即可*/\r\n            ...PlcPublicAttrs,\r\n            group: true,\r\n            children,\r\n            props: formatProps,\r\n            state: propsState,\r\n            refer: () => group,\r\n            setDurWidth: (durWidth: number) => {\r\n                const itemDurWidth = Math.floor(durWidth / (children.length))\r\n                children.forEach(item => item.setDurWidth(itemDurWidth))\r\n            },\r\n            scopedSlots,\r\n        })\r\n\r\n        return {\r\n            refer: group,\r\n            render: () => (\r\n                <div>\r\n                    {slots.default()}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../../../use/designComponent\";\r\nimport {PlcProps} from \"./plc.utils\";\r\nimport {usePlc} from \"./plc\";\r\nimport {deepcopy} from \"plain-utils/object/deepcopy\";\r\nimport {ComponentInternalInstance, ComponentPropsOptions, ExtractPropTypes} from 'vue';\r\nimport {VNodeChild} from \"../../../../shims\";\r\nimport {Plc} from \"./plc.type\";\r\nimport {TableNode} from \"../../core/useTableNode\";\r\n\r\nexport function designPlc<_,\r\n    ExternalProps extends Readonly<ComponentPropsOptions> = {},\r\n    TargetProps = ExtractPropTypes<typeof PlcProps & ExternalProps>,\r\n    ExternalRefer = {},\r\n    >(\r\n    {\r\n        name,\r\n        standardProps,\r\n        externalProps,\r\n        setup,\r\n    }: {\r\n        name: string,\r\n        standardProps?: Partial<{ [k in keyof typeof PlcProps]: any }>,\r\n        externalProps?: ExternalProps,\r\n        setup?: (props: TargetProps, ctx: ComponentInternalInstance) => ExternalRefer,\r\n    },\r\n    render?: {\r\n        head?: (scope: { plc: Plc, props: TargetProps, refer: ExternalRefer }) => VNodeChild,\r\n        default?: (scope: { node: TableNode, plc: Plc, row: any, props: TargetProps, refer: ExternalRefer }) => VNodeChild,\r\n        summary?: (scope: { node: TableNode, plc: Plc, row: any, props: TargetProps, refer: ExternalRefer }) => VNodeChild,\r\n        edit?: (scope: { node: TableNode, plc: Plc, row: any, props: TargetProps, refer: ExternalRefer }) => VNodeChild,\r\n    },\r\n) {\r\n    const OptionProps = deepcopy(PlcProps)\r\n\r\n    Object.entries(OptionProps).map(([key, value]) => {\r\n        if (!!standardProps && !!(standardProps as any)[key]) {\r\n            Object.assign(value, (standardProps as any)[key])\r\n        }\r\n        if (!!(render as any)[key]) {\r\n            (value as any).default = function (scope: any) {\r\n                return (render as any)[key]({\r\n                    ...scope,\r\n                    refer: !scope.plc.externalRefer ? null : scope.plc.externalRefer(),\r\n                    props: scope.plc.props\r\n                })\r\n            }\r\n        }\r\n    })\r\n\r\n    return designComponent({\r\n        name,\r\n        props: {\r\n            ...OptionProps,\r\n            ...(externalProps || {}),\r\n        },\r\n        setup({props, ctx}) {\r\n            const {render, refer} = usePlc(props)\r\n            if (!!setup) {\r\n                const externalRefer = setup(props as any, ctx!)\r\n                Object.assign(refer, {externalRefer: () => externalRefer})\r\n            }\r\n            return {\r\n                refer,\r\n                render,\r\n            }\r\n        },\r\n    })\r\n}","import {designPlc} from \"../core/designPlc\";\r\n\r\nexport default designPlc({\r\n    name: 'plc-index',\r\n    standardProps: {\r\n        autoFixedLeft: {default: true},\r\n        order: {default: -9999},\r\n        width: {default: 45},\r\n        align: {default: 'center'},\r\n        noPadding: {default: true},\r\n    },\r\n    externalProps: {\r\n        summaryText: {type: String, default: '合计'},\r\n    },\r\n}, {\r\n    head: () => '#',\r\n    default: ({node}) => node.index + 1,\r\n    summary: ({props}) => <span class=\"plc-index-summary-text\">{props.summaryText}</span>,\r\n})","import {designPlc} from \"../core/designPlc\";\r\nimport {reactive, computed, ComputedRef, PropType, onBeforeUnmount} from 'vue';\r\nimport {injectPlainTable} from \"../../table\";\r\nimport {TableNode} from \"../../core/useTableNode\";\r\nimport {SimpleObject, VNodeChild} from \"../../../../shims\";\r\nimport {Plc, TableRenderScope} from \"../core/plc.type\";\r\nimport {useScopedSlots} from \"../../../../use/useScopedSlots\";\r\n\r\ninterface ExpandRefer {\r\n    isExpand: (node: TableNode) => boolean,\r\n    totalSpan: ComputedRef<number>,\r\n    state: { expandKeys: Record<string, boolean> },\r\n    toggle: (node: TableNode) => void,\r\n    scopedSlots: {\r\n        expand: ((scope: TableRenderScope, vnode: VNodeChild) => VNodeChild)\r\n    },\r\n}\r\n\r\nexport default designPlc(\r\n    {\r\n        name: 'plc-expand',\r\n        standardProps: {\r\n            autoFixedLeft: {default: true},\r\n            order: {default: -9997},\r\n            width: {default: 60},\r\n            align: {default: 'center'},\r\n            notFitVirtual: {default: true},\r\n            noPadding: {default: true},\r\n            renderAfterRow: {\r\n                default: ({plc, node, row}: { plc: Plc & { externalRefer: () => ExpandRefer }, node: TableNode, row: SimpleObject }) => {\r\n                    const refer = plc.externalRefer()\r\n                    if (!refer.isExpand(node)) {return null}\r\n                    return (\r\n                        <tr class=\"plt-row plt-expand-row\">\r\n                            <td class=\"plt-cell\" rowspan={1} colspan={refer.totalSpan.value}>\r\n                                {refer.scopedSlots.expand({node, plc, row})}\r\n                            </td>\r\n                        </tr>\r\n                    )\r\n                }\r\n            },\r\n        },\r\n        externalProps: {\r\n            toggleOnClickRow: {type: Boolean},                      // 是否在点击行的时候触发点击动作\r\n            summaryExpand: {type: Boolean},                         // 合计行是否可以展开\r\n        },\r\n        setup: (props) => {\r\n            const table = injectPlainTable()\r\n            const {scopedSlots} = useScopedSlots({\r\n                expand: {node: Object as PropType<TableNode>, plc: Object as PropType<Plc>, row: Object as PropType<SimpleObject>},\r\n            })\r\n            const state = reactive({\r\n                expandKeys: {} as Record<string, boolean>,\r\n            })\r\n            const totalSpan = computed(() => !table.plcData.value ? 1 : table.plcData.value.flatPlcList.length)\r\n            const isExpand = (node: TableNode) => state.expandKeys[node.key]\r\n            const toggle = (node: TableNode) => isExpand(node) ? close(node) : expand(node)\r\n            const expand = (node: TableNode) => state.expandKeys[node.key] = true\r\n            const close = (node: TableNode) => state.expandKeys[node.key] = false\r\n            if (props.toggleOnClickRow) {\r\n                table.event.on.onClickCell(toggle)\r\n                onBeforeUnmount(() => table.event.off.onClickRow(toggle))\r\n            }\r\n            const refer: ExpandRefer = {\r\n                state,\r\n                totalSpan,\r\n                isExpand,\r\n                toggle,\r\n                scopedSlots,\r\n            }\r\n            return refer\r\n        }\r\n    },\r\n    {\r\n        head: () => '',\r\n        default: ({refer, node, props}) => {\r\n            return (!node.isSummary || props.summaryExpand) && (<pl-button{...{\r\n                icon: 'el-icon-arrow-down',\r\n                mode: 'text',\r\n                class: [\r\n                    'plc-expand-icon',\r\n                    {'plc-expand-icon-active': refer.isExpand(node)},\r\n                ],\r\n                onClick: (e: MouseEvent) => refer.toggle(node)\r\n            }}/>)\r\n        }\r\n    },\r\n)","import {designPlc} from \"../core/designPlc\";\r\nimport {computed, onBeforeUnmount, PropType, reactive} from 'vue';\r\nimport {TableNode} from \"../../core/useTableNode\";\r\nimport {injectPlainTable} from \"../../table\";\r\nimport {CheckboxStatus} from \"../../../../utils/constant\";\r\nimport {toArray} from \"../../../../utils/toArray\";\r\n\r\nexport default designPlc({\r\n    name: 'plc-check',\r\n    standardProps: {\r\n        autoFixedLeft: {default: true},\r\n        order: {default: -9998},\r\n        width: {default: 40},\r\n        align: {default: 'center'},\r\n        noPadding: {default: true},\r\n    },\r\n    externalProps: {\r\n        toggleOnClickRow: {type: Boolean},                      // 是否在点击行的时候触发点击动作\r\n        isCheckable: Function as PropType<(node: TableNode) => boolean>,// 是否可选\r\n    },\r\n    setup(props, ctx) {\r\n        const table = injectPlainTable()\r\n        const proxy = ctx.proxy!\r\n        const state = reactive({\r\n            selected: [] as TableNode[],\r\n        })\r\n        const selectedKeys = computed(() => {\r\n            return state.selected.map(item => item.key)\r\n        })\r\n        const status = computed(() => {\r\n            if (state.selected.length === 0) return CheckboxStatus.uncheck\r\n            if (table.flatNodes.value.every((item) => selectedKeys.value.indexOf(item.key) > -1)) {\r\n                return CheckboxStatus.check\r\n            } else {\r\n                return CheckboxStatus.minus\r\n            }\r\n        })\r\n        const isCheckable = (node: TableNode) => !props.isCheckable || (props.isCheckable(node) !== false)\r\n        const isCheck = (node: TableNode) => selectedKeys.value.indexOf(node.key) > -1\r\n        const toggle = (node: TableNode) => {\r\n            const index = selectedKeys.value.indexOf(node.key)\r\n            index > -1 ? state.selected.splice(index, 1) : state.selected.push(node)\r\n        }\r\n        const handler = {\r\n            onClickCheckbox: (node: TableNode) => isCheckable(node) && toggle(node),\r\n            onClickHeadCheckbox: () => {\r\n                if (status.value === CheckboxStatus.check) {\r\n                    state.selected = []\r\n                } else {\r\n                    const availableSelectItems = table.flatNodes.value\r\n                        .filter(isCheckable)\r\n                        .map((item: TableNode) => item)\r\n                    if (state.selected.length === availableSelectItems.length) {\r\n                        state.selected = []\r\n                    } else {\r\n                        state.selected = availableSelectItems\r\n                    }\r\n                }\r\n            },\r\n        }\r\n        const methods = {\r\n            getSelected: () => state.selected,\r\n            clearSelected: () => state.selected = [],\r\n            addSelected: (key: string | string[]) => {\r\n                const keys = toArray(key)\r\n                const nodes = keys.map(k => table.state.nodeMap[k]).filter(Boolean)\r\n                state.selected = [...state.selected, ...nodes]\r\n            },\r\n            removeSelected: (key: string | string[]) => {\r\n                const keys = toArray(key)\r\n                state.selected = state.selected.filter(node => keys.indexOf(node.key) === -1)\r\n            },\r\n        }\r\n        if (props.toggleOnClickRow) {\r\n            table.event.on.onClickCell(handler.onClickCheckbox)\r\n            onBeforeUnmount(() => table.event.off.onClickRow(handler.onClickCheckbox))\r\n        }\r\n        Object.assign(proxy, methods)\r\n        return {\r\n            state,\r\n            selectedKeys,\r\n            status,\r\n            handler,\r\n            isCheck,\r\n            isCheckable,\r\n        }\r\n    },\r\n}, {\r\n    summary: () => null,\r\n    default: ({refer, node}) => <pl-checkbox\r\n        customReadonly\r\n        modelValue={refer.isCheck(node)}\r\n        onClick={() => refer.handler.onClickCheckbox(node)}\r\n        disabled={!refer.isCheckable(node)}\r\n    />,\r\n    head: ({refer}) => <pl-checkbox\r\n        checkStatus={refer.status.value}\r\n        onClick={refer.handler.onClickHeadCheckbox}\r\n    />\r\n})","/**\r\n * 获取拖拽的rowEl对象\r\n * @author  韦胜健\r\n * @date    2020/8/19 23:55\r\n */\r\nimport {hasClass} from \"plain-utils/dom/hasClass\";\r\n\r\nexport function getRowEl(e: MouseEvent, rowClass: string): HTMLElement {\r\n    let rowEl = e.target as HTMLElement\r\n    while (!!rowEl && !hasClass(rowEl, rowClass)) {\r\n        rowEl = rowEl.parentNode as HTMLElement\r\n    }\r\n    if (!rowEl) {\r\n        throw new Error(`can't find item element!`)\r\n    }\r\n    return rowEl\r\n}\r\n\r\n/**\r\n * 获取可以滚动的父组件\r\n * @author  韦胜健\r\n * @date    2020/8/19 23:50\r\n */\r\nexport function getScrollParent(el: HTMLElement): HTMLElement {\r\n    while (!!el && el.scrollHeight <= el.offsetHeight) {\r\n        el = el.parentNode as HTMLElement\r\n    }\r\n    return el\r\n}\r\n\r\n/**\r\n * 获取行el对象的所有兄弟节点\r\n * @author  韦胜健\r\n * @date    2020/8/19 23:57\r\n */\r\nexport function getRowElList(el: HTMLElement, rowClass: string): HTMLElement[] {\r\n    return Array.from(el.parentNode!.querySelectorAll(`.${rowClass}`))\r\n}","/**\r\n * 拖拽排序实现（非虚拟滚动）\r\n * @author  韦胜健\r\n * @date    2020/8/21 10:07\r\n */\r\nimport {UseListDraggierType} from \"./index\";\r\nimport {getRowEl, getRowElList, getScrollParent} from \"./utils\";\r\nimport {disabledUserSelect} from \"plain-utils/dom/disabledUserSelect\";\r\nimport {nextTick} from 'vue';\r\nimport {enableUserSelect} from \"plain-utils/dom/enableUserSelect\";\r\nimport {useAutoScroll} from \"../../../../../../use/useAutoScroll\";\r\n\r\nexport const useListDraggierNotVirtual: UseListDraggierType = ({rowClass, onChange, getScroll}) => {\r\n\r\n    const autoScroll = useAutoScroll({vertical: true, getScroll,})\r\n\r\n    const state = {\r\n        startIndex: 0,                              // 拖拽的dragEl在数组中的索引\r\n        endIndex: 0,                                // 拖拽结束的时候，dragEl应该所在的索引位置\r\n        startClientY: 0,                            // 拖拽dragEl起始的时候，e.clientY，与mousemove的时候的e.clientY做差值，以便得到dragEl的偏移距离\r\n        moveClientY: 0,                             // 拖拽move的时候，e.clientY\r\n        dragEl: null as null | HTMLElement,         // 拖拽的时候的dragEl的dom对象\r\n        dragHeight: 0,                              // 拖拽的时候的dragEl高度，当在下方移动时，下方需要移动的rowEl都应该往上偏移 dragHeight距离，在上方移动时，上方需要移动的rowEl需要往下偏移 dragHeight距离\r\n        dragOffsetTop: 0,                           // dragEl拖拽开始的时候，距离滚动顶部距离\r\n        scrollParent: null as null | HTMLElement,   // 可以滚动的父元素\r\n        dragStartScrollTop: 0,                      // 拖拽开始的时候，scrollParent 的scrollTop位置\r\n        dragScrollTop: 0,                           // scrollParent 的 scroll偏移距离\r\n        rowList: [] as HTMLElement[],               // dragEl的兄弟节点，包含dragEl\r\n    }\r\n    const utils = {\r\n        /**\r\n         * 根据startIndex以及endIndex，设置这个index范围内的row的dom对象进行上下平移；\r\n         * 如果startIndex大于endIndex，则范围内的row对象，除了startIndex，其他的应该向上平移；\r\n         * 反之，如果startIndex小于endIndex，则范围内的row对象，除了startIndex，其他的应该向下平移；\r\n         *\r\n         * @author  韦胜健\r\n         * @date    2020/8/19 21:09\r\n         */\r\n        refresh() {\r\n            const {dragHeight, startIndex, endIndex} = state\r\n            // 是否为向下移动\r\n            const movedown = startIndex < endIndex\r\n            const [start, end] = movedown ? [startIndex, endIndex] : [endIndex, startIndex]\r\n\r\n            state.rowList.forEach((el, index) => {\r\n                if (index < start || index > end) {\r\n                    el.style.transform = ``\r\n                    return;\r\n                }\r\n                if (el === state.dragEl) {\r\n                    return\r\n                }\r\n                el.style.transform = `translateY(${movedown ? '-' : ''}${dragHeight}px)`\r\n            })\r\n        },\r\n        /**\r\n         * 刷新dragEl的位置，同时刷新兄弟节点的位置\r\n         * @author  韦胜健\r\n         * @date    2020/8/20 23:29\r\n         */\r\n        refreshDragElPosition() {\r\n            state.dragEl!.style.transform = `translateY(${state.moveClientY - state.startClientY + state.dragScrollTop}px)`\r\n            const top = (state.moveClientY - state.startClientY) + state.dragScrollTop + state.dragOffsetTop\r\n            state.endIndex = Math.ceil(Math.max(0, top / state.dragHeight - 0.5))\r\n\r\n            utils.refresh()\r\n        },\r\n    }\r\n    const handler = {\r\n        mousedown: (e: MouseEvent) => {\r\n            disabledUserSelect()\r\n\r\n            state.startClientY = e.clientY\r\n            state.dragEl = getRowEl(e, rowClass)\r\n            state.dragHeight = state.dragEl.offsetHeight\r\n            state.dragOffsetTop = state.dragEl.offsetTop\r\n            state.rowList = getRowElList(state.dragEl!, rowClass)\r\n            state.startIndex = state.rowList.indexOf(state.dragEl)\r\n            state.scrollParent = getScrollParent(state.dragEl)\r\n            state.dragStartScrollTop = state.scrollParent!.scrollTop\r\n\r\n            state.scrollParent!.addEventListener('scroll', handler.parentScroll)\r\n            document.addEventListener('mousemove', handler.mousemove)\r\n            document.addEventListener('mouseup', handler.mouseup)\r\n\r\n            state.rowList.forEach((rowEl: any) => {\r\n                // 如果是当前拖拽的el，则不监听事件，不做任何处理\r\n                if (rowEl === state.dragEl) {\r\n                    return\r\n                }\r\n                // 兄弟节点自动进行上下平移\r\n                rowEl.style.transition = `transform 300ms cubic-bezier(0.23, 1, 0.32, 1)`\r\n            })\r\n\r\n            autoScroll.showHover()\r\n        },\r\n        mousemove: (e: MouseEvent) => {\r\n            state.moveClientY = e.clientY\r\n            utils.refreshDragElPosition()\r\n        },\r\n        mouseup: async () => {\r\n\r\n            autoScroll.hideHover()\r\n\r\n            await nextTick()\r\n            enableUserSelect()\r\n\r\n            state.dragEl!.style.transform = ''\r\n            document.removeEventListener('mousemove', handler.mousemove)\r\n            document.removeEventListener('mouseup', handler.mouseup)\r\n            state.scrollParent!.removeEventListener('scroll', handler.parentScroll)\r\n\r\n            state.rowList.forEach((rowEl: any) => {\r\n                if (rowEl === state.dragEl) {\r\n                    return\r\n                }\r\n                rowEl.style.transition = ''\r\n                rowEl.style.transform = ''\r\n            })\r\n\r\n            state.startClientY = 0\r\n            state.moveClientY = 0\r\n            state.dragEl = null\r\n            state.dragHeight = 0\r\n            state.dragOffsetTop = 0\r\n            state.scrollParent = null\r\n            state.dragStartScrollTop = 0\r\n            state.dragScrollTop = 0\r\n            state.rowList = []\r\n            await onChange(state.startIndex, state.endIndex)\r\n            state.startIndex = 0\r\n            state.endIndex = 0\r\n        },\r\n        parentScroll: () => {\r\n            state.dragScrollTop = state.scrollParent!.scrollTop - state.dragStartScrollTop\r\n            utils.refreshDragElPosition()\r\n        }\r\n    }\r\n\r\n    return {\r\n        handler,\r\n    }\r\n}","/**\r\n * 拖拽排序组合函数，适用于虚拟滚动版本的\r\n * @author  韦胜健\r\n * @date    2020/8/21 10:27\r\n */\r\nimport {UseListDraggierType} from \"./index\";\r\nimport {getRowEl, getScrollParent} from \"./utils\";\r\nimport {useAutoScroll} from \"../../../../../../use/useAutoScroll\";\r\n\r\nexport const useListDraggierWithVirtual: UseListDraggierType = (\r\n    {\r\n        rowClass,\r\n        onChange,\r\n        getScroll,\r\n    }) => {\r\n\r\n    const dragElHeight = 3\r\n\r\n    const state = {\r\n        startDragIndex: 0,                                              // 开始拖拽的时候，的行索引\r\n        endDragIndex: 0,                                                // 拖拽结束的时候，应该移动到的索引位置\r\n\r\n        startDragOffsetTop: 0,                                          // 开始拖拽的时候，dragEl距离top值（距离可以滚动的父组件的顶部距离）\r\n        startDragHeight: 0,                                             // 拖拽开始的时候，dragEl的高度，虚拟滚动情况下，认为所有row的高度都是一致的，所以这个相当于行高\r\n\r\n        startClientY: 0,                                                // 拖拽开始的时候鼠标位置\r\n        moveClientY: 0,                                                 // 拖拽移动的时候鼠标的位置\r\n\r\n        scrollParent: null as null | HTMLElement,                       // 可以滚动的父元素\r\n        startScrollTopOfScrollParent: 0,                                // 拖拽开始的时候，滚动父元素的滚动距离 \r\n        scrollTopOfScrollParent: 0,                              // 拖拽开始的时候，滚动父元素的滚动差值\r\n        scrollParentBoundingRect: {\r\n            top: 0,                                                     // 滚动父元素在页面上的top值\r\n            left: 0,                                                    // 滚动父元素在页面上的left值\r\n            width: 0,                                                   // 滚动父元素在页面上的显示宽度\r\n            height: 0,                                                  // 滚动父元素在页面上的显示高度\r\n        },\r\n\r\n        dragEl: null as null | HTMLElement,                             // 拖拽的时候，显示的标志元素\r\n    }\r\n\r\n    const autoScroll = useAutoScroll({getScroll, vertical: true,})\r\n\r\n    const utils = {\r\n        refresh() {\r\n            /*拖拽元素在scrollParent中的top值*/\r\n            const top = state.startDragOffsetTop + (state.moveClientY - state.startClientY) + (state.scrollTopOfScrollParent - state.startScrollTopOfScrollParent) + state.startDragHeight / 2\r\n\r\n            /*如果top处于目标index的上方，则index为目标index，在下方则为index+1*/\r\n            let endDragIndex = top / state.startDragHeight\r\n            const external = endDragIndex % 1\r\n            if (external > 0.5) {\r\n                endDragIndex = Math.ceil(endDragIndex)\r\n            } else {\r\n                endDragIndex = Math.floor(endDragIndex)\r\n            }\r\n\r\n            /*刷新指示器的位置*/\r\n            state.dragEl!.style.transform = `translateY(${(endDragIndex) * state.startDragHeight - dragElHeight - state.scrollTopOfScrollParent + state.scrollParentBoundingRect.top}px)`\r\n\r\n            if (endDragIndex === state.startDragIndex || endDragIndex === state.startDragIndex + 1) {\r\n                state.endDragIndex = state.startDragIndex\r\n            } else if (endDragIndex > state.startDragIndex) {\r\n                state.endDragIndex = endDragIndex - 1\r\n            } else {\r\n                state.endDragIndex = endDragIndex\r\n            }\r\n        },\r\n    }\r\n\r\n    const handler = {\r\n        mousedown: (e: MouseEvent) => {\r\n            const dragEl = getRowEl(e, rowClass)\r\n            // 每一行dom对象应该加上一个vid属性，表示这一行为第几个行，否则虚拟滚动情况下，无法知道是哪一行\r\n            const vid = Number(dragEl.getAttribute('vid'))\r\n\r\n            // 虚拟滚动下，每一行的行高一致\r\n            const {offsetHeight} = dragEl\r\n\r\n            state.startDragIndex = vid\r\n            state.startDragHeight = offsetHeight\r\n            state.startDragOffsetTop = state.startDragIndex * offsetHeight\r\n            state.startClientY = e.clientY\r\n            state.moveClientY = e.clientY\r\n\r\n            // 初始化scrollParent\r\n            const scrollParent = getScrollParent(dragEl)\r\n            state.scrollParent = scrollParent\r\n            state.startScrollTopOfScrollParent = scrollParent!.scrollTop\r\n            state.scrollTopOfScrollParent = scrollParent!.scrollTop\r\n            const {top, left, height, width} = state.scrollParent!.parentElement!.getBoundingClientRect()\r\n            state.scrollParentBoundingRect = {top, left, height, width}\r\n\r\n            // 初始化监听事件\r\n            scrollParent!.addEventListener('scroll', handler.scroll)\r\n            document.addEventListener('mousemove', handler.mousemove)\r\n            document.addEventListener('mouseup', handler.mouseup)\r\n\r\n            //\r\n            state.dragEl = document.createElement('div')\r\n            document.body.appendChild(state.dragEl)\r\n            state.dragEl.style.position = 'fixed'\r\n            state.dragEl.style.left = `${state.scrollParentBoundingRect.left}px`\r\n            state.dragEl.style.height = `${dragElHeight}px`\r\n            state.dragEl.style.width = `0`\r\n            state.dragEl.style.top = '0'\r\n            state.dragEl.style.backgroundColor = '#12b4a5'\r\n            utils.refresh()\r\n\r\n            setTimeout(() => {\r\n                state.dragEl!.style.width = `${state.scrollParentBoundingRect.width}px`\r\n                autoScroll.showHover()\r\n            }, 23)\r\n        },\r\n        scroll: () => {\r\n            state.scrollTopOfScrollParent = state.scrollParent!.scrollTop\r\n            utils.refresh()\r\n        },\r\n        mousemove: (e: MouseEvent) => {\r\n            if (e.clientY < state.scrollParentBoundingRect.top) {\r\n                return\r\n            }\r\n            if (e.clientY > state.scrollParentBoundingRect.top + state.scrollParentBoundingRect.height - 10) {\r\n                return\r\n            }\r\n            state.moveClientY = e.clientY\r\n            utils.refresh()\r\n        },\r\n        mouseup: (e: MouseEvent) => {\r\n\r\n            autoScroll.hideHover()\r\n\r\n            document.removeEventListener('mousemove', handler.mousemove)\r\n            document.removeEventListener('mouseup', handler.mouseup)\r\n            state.scrollParent!.removeEventListener('scroll', handler.scroll)\r\n\r\n            const {startDragIndex, endDragIndex} = state\r\n\r\n            onChange(startDragIndex, endDragIndex)\r\n\r\n            state.startDragIndex = 0\r\n            state.endDragIndex = 0\r\n            state.startDragOffsetTop = 0\r\n            state.startDragHeight = 0\r\n            state.startClientY = 0\r\n            state.moveClientY = 0\r\n            state.scrollParent = null\r\n            state.startScrollTopOfScrollParent = 0\r\n            state.scrollTopOfScrollParent = 0\r\n            state.scrollParentBoundingRect = {\r\n                top: 0,\r\n                left: 0,\r\n                width: 0,\r\n                height: 0,\r\n            }\r\n            state.dragEl!.parentNode!.removeChild(state.dragEl!)\r\n            state.dragEl = null\r\n\r\n        }\r\n    }\r\n\r\n    return {\r\n        handler\r\n    }\r\n\r\n}","/**\r\n * 拖拽排序实现函数的类型\r\n * @author  韦胜健\r\n * @date    2020/8/21 10:07\r\n */\r\nimport {useListDraggierNotVirtual} from \"./use-list-draggier\";\r\nimport {useListDraggierWithVirtual} from \"./use-list-draggier.virtual\";\r\nimport {PlainScroll} from \"../../../../../scroll/scroll\";\r\n\r\nexport interface UseListDraggierType {\r\n    (option: {\r\n        rowClass: string,                                                               // 行的class，要确保只有行所在的dom对象有这个class，其子节点是没有这个class的\r\n        onChange: (start: number, end: number) => void | Promise<void>,                 // 拖拽导致排序变化动作\r\n        virtual?: boolean,                                                              // 是否为虚拟滚动\r\n        getScroll: () => PlainScroll,\r\n    }): {\r\n        handler: {\r\n            mousedown: (e: MouseEvent) => void,\r\n        }\r\n    }\r\n}\r\n\r\nexport const useListDraggier: UseListDraggierType = (option) => {\r\n    if (option.virtual) {\r\n        return useListDraggierWithVirtual(option)\r\n    } else {\r\n        return useListDraggierNotVirtual(option)\r\n    }\r\n}","import {designPlc} from \"../../core/designPlc\";\r\nimport {injectPlainTable} from \"../../../table\";\r\nimport {computed} from 'vue';\r\nimport {useListDraggier} from \"./core\";\r\nimport {ie} from \"plain-utils/utils/ie\";\r\nimport {useTableGetScroll} from \"../../../core/useTableGetScroll\";\r\n\r\nexport default designPlc({\r\n    name: 'plc-draggier',\r\n    standardProps: {\r\n        autoFixedLeft: {default: true},\r\n        order: {default: -9998},\r\n        width: {default: 40},\r\n        align: {default: 'center'},\r\n        noPadding: {type: Boolean, default: true},\r\n    },\r\n    setup: (props) => {\r\n        const {disabledVirtual, dataModel, event} = injectPlainTable()\r\n        const {getScroll} = useTableGetScroll(event.on.onVirtualMounted)\r\n        const handler = computed(() => useListDraggier({\r\n            virtual: !disabledVirtual.value && !ie,\r\n            // virtual: true,\r\n            rowClass: 'plt-row',\r\n            getScroll,\r\n            onChange: async (start, end) => {\r\n                dataModel.value!.splice(end, 0, dataModel.value!.splice(start, 1)[0])\r\n            },\r\n        }))\r\n        return {\r\n            onMousedown: handler.value.handler.mousedown,\r\n            onClick: (e: MouseEvent) => {\r\n                e.stopPropagation()\r\n                e.preventDefault()\r\n            },\r\n        }\r\n    }\r\n}, {\r\n    default: ({refer}) => <pl-button\r\n        icon=\"el-icon-list\"\r\n        mode=\"text\"\r\n        class=\"plc-draggier-handler\"\r\n        {...refer}\r\n    />\r\n})","import {TableNode} from \"../../../core/useTableNode\";\r\nimport {TreeDropType} from \"../../../../tree/utils/tree-constant\";\r\nimport {useAutoScroll} from \"../../../../../use/useAutoScroll\";\r\nimport {PlainScroll} from \"../../../../scroll/scroll\";\r\nimport {StyleProperties} from \"../../../../../shims\";\r\nimport {getRowEl, getScrollParent} from '../draggier/core/utils';\r\n\r\nconst indicatorSize = 3;\r\n\r\nexport function usePlcTreeDraggier(\r\n    {\r\n        rowClass,\r\n        dragClass,\r\n        flatDataList,\r\n        levelPadding,\r\n        props,\r\n        methods,\r\n        getScroll,\r\n        getParents,\r\n    }: {\r\n        rowClass: string,                                                           // 行class\r\n        dragClass?: string,                                                         // 拖拽元素的class\r\n        flatDataList: { value: TableNode[] },                                       // 拍平的数据\r\n        levelPadding: number,\r\n        props: {\r\n            rowDraggable?: boolean,\r\n            allowRowDraggable?: (node: TableNode) => boolean,\r\n            allowRowDroppable?: (start: TableNode, move: TableNode, type: TreeDropType) => boolean,\r\n        },\r\n        methods: {\r\n            expand: (node: TableNode) => void,                      // 展开某个元素\r\n            refreshCheckStatus: () => void,                 // 刷新所有元素的选中状态\r\n            removeSelf: (node: TableNode) => void,\r\n            previousSibling: (self: TableNode, target: TableNode) => void,\r\n            nextSibling: (self: TableNode, target: TableNode) => void,\r\n            unshiftChild: (self: TableNode, target: TableNode) => void,\r\n        },\r\n        getScroll: () => PlainScroll,\r\n        getParents: (node: TableNode) => TableNode[]\r\n    }\r\n) {\r\n\r\n    const state = {\r\n\r\n        startNode: null as null | TableNode,\r\n        moveNode: null as null | TableNode,\r\n\r\n        startScrollTop: 0,\r\n        moveScrollTop: 0,\r\n\r\n        startClientY: 0,\r\n        moveClientY: 0,\r\n\r\n        rowHeight: 0,\r\n        scrollParent: null as null | HTMLElement,\r\n        rowEl: null as null | HTMLElement,\r\n        scrollParentRect: {\r\n            top: 0,\r\n            left: 0,\r\n            width: 0,\r\n            height: 0,\r\n        },\r\n        indicator: null as null | HTMLElement,\r\n        dragNodeBaseLeft: 0,\r\n\r\n        dropType: TreeDropType.inner,\r\n        droppable: false,\r\n    }\r\n\r\n    const autoScroll = useAutoScroll({vertical: true, getScroll,})\r\n\r\n    const utils = {\r\n        allowDrag: (node: TableNode) => {\r\n            return !props.allowRowDraggable || props.allowRowDraggable(node) !== false\r\n        },\r\n        allowDrop: (startNode: TableNode, moveNode: TableNode, dropType: TreeDropType) => {\r\n            return !props.allowRowDroppable || props.allowRowDroppable(startNode, moveNode, dropType) !== false\r\n        },\r\n        getIndicatorStyles(moveNode: TableNode, droppable: boolean, dropType: TreeDropType) {\r\n\r\n            const styles: StyleProperties = {}\r\n\r\n            let top = moveNode.index * state.rowHeight + state.scrollParentRect.top - (state.moveScrollTop)\r\n            let paddingLeft = (moveNode.level - state.startNode!.level) * levelPadding\r\n\r\n            styles.top = `${dropType === TreeDropType.next ? top + state.rowHeight - indicatorSize : top}px`\r\n            styles.left = `${state.dragNodeBaseLeft + paddingLeft}px`\r\n            styles.width = `${state.scrollParentRect.width - (state.dragNodeBaseLeft - state.scrollParentRect.left) - paddingLeft}px`\r\n            styles.height = `${dropType === TreeDropType.inner ? state.rowHeight : indicatorSize}px`\r\n            styles.backgroundColor = droppable ? '#12b4a5' : '#F38585'\r\n            styles.opacity = dropType === TreeDropType.inner ? '0.15' : ''\r\n\r\n            return styles\r\n        },\r\n        refresh() {\r\n            const top = state.startClientY - state.scrollParentRect.top + (state.moveScrollTop) + (state.moveClientY - state.startClientY)\r\n            let targetIndex = top / state.rowHeight\r\n            const external = targetIndex % 1\r\n            targetIndex = Math.floor(targetIndex)\r\n            let dropType: TreeDropType = external < 0.3 ? TreeDropType.prev : external > 0.7 ? TreeDropType.next : TreeDropType.inner\r\n            const moveNode = flatDataList.value[targetIndex]\r\n            if (!moveNode) {\r\n                return\r\n            }\r\n\r\n            let droppable = true\r\n\r\n            state.moveNode = moveNode\r\n            const parents = getParents(state.moveNode)\r\n            parents.push(state.moveNode)\r\n            if (parents.indexOf(state.startNode!) > -1) {\r\n                droppable = false\r\n            }\r\n            if (!utils.allowDrop(state.startNode!, moveNode, dropType)) {\r\n                droppable = false\r\n            }\r\n\r\n            state.dropType = dropType\r\n            state.droppable = droppable\r\n\r\n            Object.assign(state.indicator!.style, utils.getIndicatorStyles(moveNode, droppable, dropType))\r\n        },\r\n    }\r\n\r\n    const handler = {\r\n        mousedown: (e: DragEvent) => {\r\n            state.startClientY = state.moveClientY = e.clientY\r\n\r\n            state.rowEl = getRowEl(e, rowClass)\r\n            state.rowHeight = state.rowEl.offsetHeight\r\n            const vid = Number(state.rowEl.getAttribute('vid'))\r\n            state.moveNode = state.startNode = flatDataList.value[vid]\r\n\r\n            if (!utils.allowDrag(state.startNode)) {\r\n                return\r\n            }\r\n\r\n            const dragNode = state.rowEl.querySelector(`.${dragClass}`)!\r\n            state.dragNodeBaseLeft = Math.ceil(dragNode.getBoundingClientRect()!.left)\r\n\r\n            state.scrollParent = getScrollParent(state.rowEl)\r\n            state.startScrollTop = state.moveScrollTop = state.scrollParent.scrollTop\r\n            const {top, left, height, width} = (state.scrollParent.parentNode as HTMLElement).getBoundingClientRect()\r\n            state.scrollParentRect = {top, left, height, width}\r\n\r\n            state.indicator = document.createElement('div')\r\n            state.indicator.style.position = 'fixed'\r\n            state.indicator.style.pointerEvents = 'none'\r\n            state.indicator.style.height = `${indicatorSize}px`\r\n            state.indicator.style.width = `${state.scrollParentRect.width}px`\r\n            state.indicator.style.left = `${state.scrollParentRect.left}px`\r\n            state.indicator.style.backgroundColor = '#12b4a5'\r\n            document.body.appendChild(state.indicator)\r\n\r\n            state.scrollParent.addEventListener('scroll', handler.scroll)\r\n            document.addEventListener('mousemove', handler.mousemove)\r\n            document.addEventListener('mouseup', handler.mouseup)\r\n\r\n            utils.refresh()\r\n            autoScroll.showHover()\r\n        },\r\n        scroll() {\r\n            state.moveScrollTop = state.scrollParent!.scrollTop\r\n            utils.refresh()\r\n        },\r\n        /**\r\n         * 在dragover中判断clientX以及clientY，如果这两个值没有变化，就不往下执行，节省性能\r\n         * @author  韦胜健\r\n         * @date    2020/8/25 22:22\r\n         */\r\n        mousemove: (e: MouseEvent) => {\r\n            const {top, height} = state.scrollParentRect\r\n            if (e.clientY < top || e.clientY > top + height) {\r\n                return;\r\n            }\r\n            state.moveClientY = e.clientY\r\n            utils.refresh()\r\n        },\r\n        mouseup: () => {\r\n\r\n            autoScroll.hideHover()\r\n\r\n            const {startNode, moveNode, dropType, droppable} = state\r\n\r\n            state.scrollParent!.removeEventListener('scroll', handler.scroll)\r\n            document.removeEventListener('mousemove', handler.mousemove)\r\n            document.removeEventListener('mouseup', handler.mouseup)\r\n\r\n            state.indicator!.parentNode!.removeChild(state.indicator!)\r\n            state.startClientY = state.moveClientY = 0\r\n            state.rowEl = null\r\n            state.rowHeight = 0\r\n            state.moveNode = null\r\n            state.dragNodeBaseLeft = 0\r\n            state.scrollParent = null\r\n            state.startScrollTop = 0\r\n            state.scrollParentRect = {top: 0, left: 0, height: 0, width: 0}\r\n\r\n            if (!droppable) {\r\n                return\r\n            }\r\n\r\n            methods.removeSelf(startNode!)\r\n\r\n            switch (dropType) {\r\n                case TreeDropType.prev:\r\n                    methods.previousSibling(moveNode!, startNode!)\r\n                    break\r\n                case TreeDropType.inner:\r\n                    methods.unshiftChild(moveNode!, startNode!)\r\n                    methods.expand(moveNode!)\r\n                    break\r\n                case TreeDropType.next:\r\n                    methods.nextSibling(moveNode!, startNode!)\r\n                    break\r\n            }\r\n            methods.refreshCheckStatus()\r\n        }\r\n    }\r\n\r\n    return {\r\n        utils,\r\n        handler: {onMousedown: handler.mousedown}\r\n    }\r\n}","import {designPlc} from \"../../core/designPlc\";\r\nimport {computed, onBeforeUnmount, onMounted, PropType, watch} from 'vue';\r\nimport {TableNode} from \"../../../core/useTableNode\";\r\nimport {TreeDropType} from \"../../../../tree/utils/tree-constant\";\r\nimport {useScopedSlots} from \"../../../../../use/useScopedSlots\";\r\nimport {Plc} from \"../../core/plc.type\";\r\nimport {SimpleFunction, SimpleObject} from \"../../../../../shims\";\r\nimport {injectPlainTable} from \"../../../table\";\r\nimport {unit} from \"plain-utils/string/unit\";\r\nimport {useTableGetScroll} from \"../../../core/useTableGetScroll\";\r\nimport {usePlcTreeDraggier} from \"./plc-tree.draggier\";\r\nimport {delay} from \"plain-utils/utils/delay\";\r\n\r\n/*只显示展开收起按钮的时候的基本宽度，不算content宽度*/\r\nconst size = 30\r\n\r\nexport default designPlc({\r\n    name: 'plc-tree',\r\n    standardProps: {\r\n        autoFixedLeft: {default: true},\r\n        order: {default: -9996},\r\n        width: {default: size},\r\n        bodyCls: {default: 'plc-tree-node'},\r\n    },\r\n    externalProps: {\r\n        contentWidth: {type: Number, default: 100},                         // 显示的内容宽度\r\n        rowDraggable: {type: Boolean},                                      // 行是否可以拖拽排序\r\n        allowRowDraggable: {type: Function as PropType<(node: TableNode) => boolean>},// 行是否可以被拖拽放置到其他位置\r\n        allowRowDroppable: {type: Function as PropType<(startNode: TableNode, moveNode: TableNode, dropType: TreeDropType) => boolean>},// 行是否可以被放置（放到子节点中，放到前面，放到后面）\r\n\r\n        folderCollapseIcon: {type: String, default: 'el-icon-folder-s'},\r\n        folderExpandIcon: {type: String, default: 'el-icon-folder-opened'},\r\n        leafIcon: {type: String, default: 'el-icon-document'},\r\n    },\r\n    setup(props, ctx) {\r\n\r\n        const plc = ctx.proxy as any as Plc;\r\n        const table = injectPlainTable()\r\n        const {getScroll} = useTableGetScroll(table.event.on.onVirtualMounted)\r\n\r\n        const {scopedSlots} = useScopedSlots({content: {node: Object as PropType<TableNode>, plc: Object as PropType<Plc>, row: Object as PropType<SimpleObject>},}, true)\r\n\r\n        const maxShowLevel = computed(() => {\r\n            let ret = 0\r\n            table.flatNodes.value.forEach(node => node.level > ret ? (ret = node.level) : null)\r\n            return ret\r\n        })\r\n        /**\r\n         * 动态列宽，当展开收起的时候，自动更新列宽\r\n         * @author  韦胜健\r\n         * @date    2020/8/24 9:35\r\n         */\r\n        const width = computed(() => {\r\n            // 展开按钮的基本宽度\r\n            let expand = size\r\n            // 内容宽度，如果有content插槽，则加上props.contentWidth\r\n            let content = scopedSlots.content.isExist() ? props.contentWidth : 0\r\n            // 如果显示复选框，则宽度再加上size\r\n            let check = table.props.showCheckbox ? size : 0\r\n            // 如果显示拖拽排序按钮，则宽度再加上size\r\n            let draggable = props.rowDraggable ? size : 0\r\n\r\n            // 每一层都增加一个左边距 (expand + check) * level，所以每一层都加上这个宽度\r\n            const level = maxShowLevel.value\r\n            // 最后最大层的宽度\r\n            return expand * (level - 1) + (content + expand + check + draggable)\r\n        })\r\n\r\n        const methods = {\r\n            ...table.expandMethods,\r\n            ...table.checkMethods,\r\n            ...table.treeNodeMethods,\r\n        }\r\n\r\n        const handler = {\r\n            ...table.handler,\r\n        }\r\n\r\n        const draggier = usePlcTreeDraggier({\r\n            rowClass: 'plt-row',\r\n            dragClass: 'plc-tree-node-drag-btn',\r\n            levelPadding: size,\r\n            flatDataList: table.flatNodes,\r\n            props,\r\n            getScroll,\r\n            getParents: table.utils.getParents,\r\n            methods: {\r\n                ...methods,\r\n                refreshCheckStatus: async () => {\r\n                    await delay(120)\r\n                    table.flatNodes.value.forEach(methods.refreshCheckStatus)\r\n                },\r\n            },\r\n        })\r\n\r\n        const utils = {\r\n            getExpanderAttrs: (node: TableNode) => {\r\n                return {\r\n                    style: {marginLeft: unit((node.level - 1) * size)} as any,\r\n                }\r\n            },\r\n        }\r\n\r\n        onMounted(() => {\r\n            watch(() => maxShowLevel.value, () => {\r\n                plc.state.width = width.value\r\n            }, {immediate: true})\r\n        })\r\n\r\n        Object.assign(ctx.proxy, methods)\r\n\r\n        let unmountListener = [] as SimpleFunction[]\r\n        if (table.props.expandOnClickNode) {\r\n            const listener = (node: TableNode) => methods.toggleExpand(node)\r\n            table.event.on.onClickCell(listener)\r\n            unmountListener.push(listener)\r\n        }\r\n        if (table.props.checkOnClickNode) {\r\n            const listener = (node: TableNode) => methods.toggleCheck(node)\r\n            table.event.on.onClickCell(listener)\r\n            unmountListener.push(listener)\r\n        }\r\n        if (unmountListener.length > 0) {\r\n            onBeforeUnmount(() => unmountListener.forEach(listener => table.event.off.onClickCell(listener)))\r\n        }\r\n\r\n        return {\r\n            tableProps: table.props,\r\n            props,\r\n            scopedSlots,\r\n            handler,\r\n            utils,\r\n            draggier,\r\n        }\r\n    },\r\n}, {\r\n    summary: () => null,\r\n    default: ({refer, node, plc, row}) => {\r\n        return (\r\n            <>\r\n                <div class=\"plc-tree-node-expander\" {...refer.utils.getExpanderAttrs(node)}>\r\n                    <pl-button\r\n                        loading={node.loading}\r\n                        mode=\"text\"\r\n                        size=\"normal\"\r\n                        icon={node.isLeaf ? refer.props.leafIcon : node.expand ? refer.props.folderExpandIcon : refer.props.folderCollapseIcon}\r\n                        onClick={(e: MouseEvent) => !node.isLeaf && refer.handler.onClickExpandIcon(e, node)}/>\r\n                </div>\r\n                {refer.tableProps.showCheckbox && (\r\n                    <div class=\"plc-tree-node-check\">\r\n                        <pl-checkbox\r\n                            key={node.key}\r\n                            size={'normal'}\r\n                            modelValue={node.check}\r\n                            customReadonlny\r\n                            checkStatus={node.checkStatus}\r\n                            disabled={!node.isCheckable}\r\n                            onClick={(e: MouseEvent) => refer.handler.onClickCheckbox(e, node)}\r\n                        />\r\n                    </div>\r\n                )}\r\n                {refer.props.rowDraggable && (\r\n                    <pl-button mode=\"text\"\r\n                               icon=\"el-icon-list\"\r\n                               class=\"plc-tree-node-drag-btn\"\r\n                               disabled={!refer.draggier.utils.allowDrag(node)}\r\n                               onMousedown={refer.draggier.handler.onMousedown}/>\r\n                )}\r\n                {refer.scopedSlots.content.isExist() && (\r\n                    <div class=\"plc-tree-node-content\" style={`width:${unit(refer.props.contentWidth)}`}>\r\n                        {refer.scopedSlots.content({node, row, plc}, !plc.props.field ? null : row[plc.props.field])}\r\n                    </div>\r\n                )}\r\n            </>\r\n        )\r\n    }\r\n})","import {App} from 'vue'\r\nimport PlcIndex from './plc-index'\r\nimport PlcExpand from './plc-expand'\r\nimport PlcCheck from './plc-check'\r\nimport PlcDraggier from './draggier/plc-draggier'\r\nimport PlcTree from './tree/plc-tree'\r\n\r\nconst components = [\r\n    PlcIndex,\r\n    PlcExpand,\r\n    PlcCheck,\r\n    PlcDraggier,\r\n    PlcTree,\r\n]\r\n\r\nexport const PlcStandard = {\r\n    install: (app: App) => {\r\n        components.forEach(c => app.component(c.name, c))\r\n    }\r\n}\r\n\r\nexport {\r\n    PlcIndex,\r\n    PlcExpand,\r\n    PlcCheck,\r\n    PlcDraggier,\r\n    PlcTree,\r\n}\r\n","import {designPlc} from \"../core/designPlc\";\r\n\r\nexport default designPlc({\r\n    name: 'plc-input',\r\n}, {\r\n    edit: ({row, plc}) => !plc.props.field ? null : <pl-input v-model={row[plc.props.field]}/>\r\n},)","import {designPlc} from \"../core/designPlc\";\r\n\r\nexport default designPlc({\r\n    name: 'plc-number',\r\n}, {\r\n    edit: ({row, plc}) => !plc.props.field ? null : <pl-number v-model={row[plc.props.field]}/>\r\n},)","import {designPlc} from \"../core/designPlc\";\r\n\r\nexport default designPlc({\r\n    name: 'plc-date',\r\n}, {\r\n    edit: ({row, plc}) => !plc.props.field ? null : <pl-date v-model={row[plc.props.field]}/>\r\n},)","import {designPlc} from \"../core/designPlc\";\r\n\r\nexport default designPlc({\r\n    name: 'plc-color-picker',\r\n}, {\r\n    default: ({row, plc}) => {\r\n        return !!plc.props.field && <>\r\n            <pl-color-button color={row[plc.props.field]} style=\"margin-right:6px;\"/>\r\n            {row[plc.props.field]}\r\n        </>\r\n    },\r\n    edit: ({row, plc}) => !plc.props.field ? null : <pl-color-picker v-model={row[plc.props.field]}/>\r\n},)","import {designPlc} from \"../core/designPlc\";\r\n\r\nexport default designPlc({\r\n    name: 'plc-toggle',\r\n    standardProps: {\r\n        addEditPadding: {default: true},\r\n    },\r\n}, {\r\n    summary: () => null,\r\n    default: ({row, plc}) => !plc.props.field ? null : <pl-toggle disabled v-model={row[plc.props.field]} trueValue=\"Y\" falseValue=\"N\"/>,\r\n    edit: ({row, plc}) => !plc.props.field ? null : <pl-toggle v-model={row[plc.props.field]} trueValue=\"Y\" falseValue=\"N\"/>,\r\n})","import {designPlc} from \"../core/designPlc\";\r\n\r\nexport default designPlc({\r\n    name: 'plc-rate',\r\n    standardProps: {\r\n        addEditPadding: {default: true},\r\n    },\r\n}, {\r\n    default: ({row, plc}) => !plc.props.field ? null : <pl-rate disabled v-model={row[plc.props.field]}/>,\r\n    edit: ({row, plc}) => !plc.props.field ? null : <pl-rate v-model={row[plc.props.field]}/>,\r\n})","import {App} from 'vue'\r\nimport PlcInput from './plc-input'\r\nimport PlcNumber from './plc-number'\r\nimport PlcDate from './plc-date'\r\nimport PlcColorPicker from './plc-color-picker'\r\nimport PlcToggle from './plc-toggle'\r\nimport PlcRate from './plc-rate'\r\n\r\nconst components = [\r\n    PlcInput,\r\n    PlcNumber,\r\n    PlcDate,\r\n    PlcColorPicker,\r\n    PlcToggle,\r\n    PlcRate,\r\n]\r\n\r\nexport const PlcEdit = {\r\n    install: (app: App) => {\r\n        components.forEach(c => app.component(c.name, c))\r\n    }\r\n}\r\n\r\nexport {\r\n    PlcInput,\r\n    PlcNumber,\r\n    PlcDate,\r\n    PlcColorPicker,\r\n    PlcToggle,\r\n    PlcRate,\r\n}\r\n","import {createComponentPlugin} from \"../../utils/createComponentPlugin\";\r\nimport table from './table'\r\nimport {VirtualTable} from \"./virtual-table\";\r\n\r\nimport Plc from './plc/core/plc'\r\nimport PlcGroup from './plc/core/plc-group'\r\nimport {PlcStandard} from \"./plc/standard\";\r\nimport {PlcEdit} from \"./plc/edit\";\r\n\r\nexport default createComponentPlugin(table, {\r\n    exposeComponents: {\r\n        VirtualTable,\r\n        Plc,\r\n        PlcGroup,\r\n    },\r\n    plugins: [\r\n        PlcStandard,\r\n        PlcEdit,\r\n    ]\r\n})","import {App} from \"vue\"\r\nimport {ComponentPlugin} from \"./shims\";\r\nimport {installPlugin} from \"./utils/installPlugin\";\r\n\r\nimport Root from './packages/root'\r\nimport Button from \"./packages/button\";\r\nimport ButtonGroup from './packages/button-group'\r\nimport Input from \"./packages/input\";\r\nimport Icon from './packages/icon';\r\nimport Loading from './packages/loading'\r\nimport LoadingMask from './packages/loading-mask'\r\nimport Checkbox from './packages/checkbox'\r\nimport CheckboxGroup from './packages/checkbox-group'\r\nimport MessageService from './packages/message'\r\nimport List from './packages/list'\r\nimport Item from './packages/item'\r\nimport Grid from './packages/grid'\r\nimport Radio from './packages/radio'\r\nimport RadioGroup from './packages/radio-group'\r\nimport Dialog from './packages/dialog'\r\nimport DialogService from './packages/dialog-service'\r\nimport Scroll from './packages/scroll'\r\nimport NoticeService from './packages/notice-service'\r\nimport LoadingService from './packages/loading-service'\r\nimport Number from './packages/number'\r\nimport Toggle from './packages/toggle'\r\nimport Slider from './packages/slider'\r\nimport Tag from './packages/tag'\r\nimport TagInput from './packages/tag-input'\r\nimport Rate from './packages/rate'\r\nimport VirtualList from './packages/virutal-list'\r\nimport Progress from './packages/progress'\r\nimport Pagination from './packages/pagination'\r\nimport Badge from './packages/badge'\r\nimport Step from './packages/step'\r\nimport Popper from './packages/popper'\r\nimport Dropdown from './packages/dropdown'\r\nimport Tooltip from './packages/tooltip'\r\nimport Alert from './packages/alert'\r\nimport Collapse from './packages/collapse'\r\nimport Card from './packages/card'\r\nimport Carousel from './packages/carousel'\r\nimport ColorPicker from './packages/color-picker'\r\nimport Cascade from './packages/cascade'\r\nimport Tree from './packages/tree'\r\nimport Select from './packages/select'\r\nimport DateTimeInput from './packages/date-time-input'\r\nimport Time from './packages/time'\r\nimport Date from './packages/date'\r\nimport Form from './packages/form'\r\nimport Table from './packages/table'\r\n\r\nfunction install(app: App) {\r\n    installPlugin(app, plugins)\r\n}\r\n\r\nconst plugins: ComponentPlugin[] = [\r\n    Root,\r\n\r\n    Button, ButtonGroup, Icon, Loading, LoadingMask,\r\n    List, Item, Grid, Dialog, Scroll, VirtualList, Progress, Pagination, Badge,\r\n    Step, Popper, Dropdown, Tooltip, Alert, Collapse, Card, Carousel, Table,\r\n\r\n    Input, Checkbox, CheckboxGroup, Radio, RadioGroup, Number, Toggle, Slider,\r\n    Tag, TagInput, Rate, ColorPicker, Cascade, Tree, Select, Time, DateTimeInput, Date,\r\n    Form,\r\n\r\n    MessageService, DialogService, NoticeService, LoadingService,\r\n]\r\n\r\nexport {\r\n    install,\r\n\r\n    Root,\r\n\r\n    Button, ButtonGroup, Icon, Loading, LoadingMask,\r\n    List, Item, Grid, Dialog, Scroll, VirtualList, Progress, Pagination, Badge,\r\n    Step, Popper, Dropdown, Tooltip, Alert, Collapse, Card, Carousel, Table,\r\n\r\n    Input, Checkbox, CheckboxGroup, Radio, RadioGroup, Number, Toggle, Slider,\r\n    Tag, TagInput, Rate, ColorPicker, Cascade, Tree, Select, Time, DateTimeInput, Date,\r\n    Form,\r\n\r\n    MessageService, DialogService, NoticeService, LoadingService,\r\n}\r\n\r\nexport default {\r\n    install,\r\n}"],"sourceRoot":""}