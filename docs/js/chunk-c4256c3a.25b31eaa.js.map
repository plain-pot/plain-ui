{"version":3,"sources":["webpack://CustomApplicationmain-application/./story/pages/use/useCollect/demo-use-collect.vue","webpack://CustomApplicationmain-application/./story/pages/use/useCollect/demo-use-collect-child.tsx","webpack://CustomApplicationmain-application/./story/pages/use/useCollect/demo-use-collect-parent.tsx","webpack://CustomApplicationmain-application/./story/pages/use/useCollect/demo-use-collect.vue?bed7","webpack://CustomApplicationmain-application/./story/pages/use/useCollect/demo-use-collect.vue?dbd7"],"names":["class","showFlag","String","showFlag2","trueValue","falseValue","selected","label","val","DemoUseCollectChildComponent","designComponent","props","type","Number","modelValue","default","emits","onUpdateModelValue","setup","event","useRefs","button","HTMLButtonElement","refs","parent","DemoUseCollector","child","injectDefaultValue","sort","useSlots","slots","useModel","emit","autoEmit","autoWatch","handler","click","clickItem","value","isChecked","utils","classes","refer","render","DemoUseCollectParentComponent","parentName","children","indexOf","toggleCheckAll","length","map","checkStatus","index","splice","push","minusClass","useCollect","name","components","data"],"mappings":"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","file":"js/chunk-c4256c3a.25b31eaa.js","sourcesContent":["<template>\r\n    <div class=\"demo-use-collect\">\r\n\r\n        <h1>单独使用</h1>\r\n        <div>\r\n            <demo-use-collect-child-component v-model=\"showFlag\">\r\n                isShow:{{String(showFlag)}}\r\n            </demo-use-collect-child-component>\r\n        </div>\r\n        <h1>真假值</h1>\r\n        <div>\r\n            <demo-use-collect-child-component v-model=\"showFlag2\" :trueValue=\"10\" :falseValue=\"20\">\r\n                isShow:{{showFlag2}}\r\n            </demo-use-collect-child-component>\r\n        </div>\r\n        <h1>选项组</h1>\r\n        <demo-use-collect-parent-component v-model=\"selected\">\r\n            <demo-use-collect-child-component label=\"选项一\" val=\"one\"/>\r\n            <demo-use-collect-child-component label=\"选项二\" val=\"two\" v-if=\"showFlag\"/>\r\n            <demo-use-collect-child-component label=\"选项三\" val=\"three\"/>\r\n        </demo-use-collect-parent-component>\r\n        <div>\r\n            {{selected}}\r\n        </div>\r\n\r\n        <demo-use-collect-parent-component v-model=\"selected\">\r\n            <demo-use-collect-child-component label=\"选项一\" val=\"one\"/>\r\n            <demo-use-collect-child-component label=\"选项二\" val=\"two\"/>\r\n            <demo-use-collect-child-component label=\"选项三\" val=\"three\"/>\r\n        </demo-use-collect-parent-component>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n    import {DemoUseCollectParentComponent} from \"./demo-use-collect-parent\";\r\n    import {DemoUseCollectChildComponent} from \"./demo-use-collect-child\";\r\n\r\n    export default {\r\n        name: \"demo-use-collect\",\r\n        components: {\r\n            DemoUseCollectParentComponent,\r\n            DemoUseCollectChildComponent,\r\n        },\r\n        data() {\r\n            return {\r\n                selected: [],\r\n                showFlag: true,\r\n                showFlag2: null,\r\n            }\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    @include theme {\r\n        .demo-use-collect-child {\r\n            background-color: white;\r\n            border: solid 1px $ibc;\r\n            color: $itc;\r\n            outline: none;\r\n            padding: 6px 16px;\r\n            cursor: pointer;\r\n            min-width: 200px;\r\n\r\n            & + .demo-use-collect-child {\r\n                margin-left: 10px;\r\n            }\r\n\r\n            &:hover {\r\n                background-color: mix($colorPrimary, white, 10%);\r\n            }\r\n\r\n            &.demo-use-collect-child-checked {\r\n                background-color: $colorPrimary;\r\n                color: white;\r\n                border-color: $colorPrimary;\r\n\r\n                &:hover {\r\n                    background-color: mix(black, $colorPrimary, 10%);\r\n                }\r\n            }\r\n        }\r\n\r\n        .demo-use-collect-child-minus {\r\n            &.demo-use-collect-child-minus-status-check {\r\n                background-color: $colorPrimary;\r\n                color: white;\r\n                border-color: $colorPrimary;\r\n\r\n                &:hover {\r\n                    background-color: mix(black, $colorPrimary, 10%);\r\n                }\r\n            }\r\n\r\n            &.demo-use-collect-child-minus-status-uncheck {\r\n            }\r\n\r\n            &.demo-use-collect-child-minus-status-minus {\r\n                border-color: $colorPrimary;\r\n                color: $colorPrimary;\r\n            }\r\n        }\r\n    }\r\n</style>","import {computed} from 'vue'\r\nimport {designComponent} from \"../../../../src/use/designComponent\";\r\nimport {DemoUseCollector} from \"./demo-use-collect-parent\";\r\nimport {useModel} from \"../../../../src/use/useModel\";\r\nimport {useSlots} from \"../../../../src/use/useSlots\";\r\nimport {useRefs} from \"../../../../src/use/useRefs\";\r\n\r\nexport const DemoUseCollectChildComponent = designComponent({\r\n    props: {\r\n        label: {type: String},\r\n        val: {type: [String, Number]},\r\n        modelValue: {},\r\n        trueValue: {default: true},\r\n        falseValue: {default: false},\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: any) => true\r\n    },\r\n    setup({props, event}) {\r\n\r\n        const {refs} = useRefs({\r\n            button: HTMLButtonElement\r\n        })\r\n        const parent = DemoUseCollector.child({injectDefaultValue: null, sort: () => refs.button})\r\n\r\n        const {slots} = useSlots()\r\n\r\n        const modelValue = useModel(() => props.modelValue, event.emit.onUpdateModelValue, {\r\n            autoEmit: !parent,\r\n            autoWatch: !parent,\r\n        })\r\n\r\n        const handler = {\r\n            click: () => {\r\n                if (!!parent) {\r\n                    parent.handler.clickItem(props.val!)\r\n                } else {\r\n                    modelValue.value = isChecked.value ? props.falseValue : props.trueValue\r\n                }\r\n            }\r\n        }\r\n\r\n        const isChecked = computed(() => {\r\n            if (!parent) {\r\n                return modelValue.value === props.trueValue\r\n            } else {\r\n                return parent.utils.isChecked(props.val!)\r\n            }\r\n        })\r\n\r\n        const classes = computed(() => [\r\n            'demo-use-collect-child',\r\n            {\r\n                'demo-use-collect-child-checked': isChecked.value\r\n            }\r\n        ])\r\n\r\n        return {\r\n            refer: {\r\n                props,\r\n            },\r\n            render: () => (\r\n                <button onClick={handler.click} class={classes.value} ref=\"button\">\r\n                    {slots.default(props.label)}\r\n                </button>\r\n            )\r\n        }\r\n    },\r\n})","import {designComponent} from \"../../../../src/use/designComponent\";\r\nimport {useSlots} from \"../../../../src/use/useSlots\";\r\nimport {useCollect} from \"../../../../src/use/useCollect\";\r\nimport {DemoUseCollectChildComponent} from \"./demo-use-collect-child\";\r\nimport {useModel} from \"../../../../src/use/useModel\";\r\nimport {computed} from 'vue';\r\n\r\nexport const DemoUseCollectParentComponent = designComponent({\r\n    props: {\r\n        parentName: {type: String},\r\n        modelValue: {},\r\n    },\r\n    emits: {\r\n        onUpdateModelValue: (val: undefined | (string | number)[]) => true\r\n    },\r\n    setup({props, event}) {\r\n        const {slots} = useSlots()\r\n\r\n        const children = DemoUseCollector.parent()\r\n\r\n        const modelValue = useModel(() => props.modelValue as undefined | (string | number)[], event.emit.onUpdateModelValue)\r\n\r\n        const utils = {\r\n            isChecked: (val: string | number) => {\r\n                return ((modelValue.value) || []).indexOf(val) > -1\r\n            },\r\n            toggleCheckAll: () => {\r\n                if (!!modelValue.value && modelValue.value.length === children.length) {\r\n                    modelValue.value = []\r\n                } else {\r\n                    modelValue.value = children.map(child => child.props.val!)\r\n                }\r\n            },\r\n            checkStatus: () => {\r\n                if (!modelValue.value || modelValue.value.length === 0) return 'uncheck'\r\n                if (modelValue.value.length === children.length) return 'check'\r\n                return 'minus'\r\n            }\r\n        }\r\n\r\n        const handler = {\r\n            clickItem: (val: string | number) => {\r\n                if (!modelValue.value) {\r\n                    return modelValue.value = [val]\r\n                }\r\n                const index = modelValue.value.indexOf(val)\r\n                if (modelValue.value.indexOf(val) > -1) {\r\n                    modelValue.value.splice(index, 1)\r\n                } else {\r\n                    modelValue.value.push(val)\r\n                }\r\n            },\r\n        }\r\n\r\n        const minusClass = computed(() => [\r\n            'demo-use-collect-child',\r\n            'demo-use-collect-child-minus',\r\n            `demo-use-collect-child-minus-status-${utils.checkStatus()}`\r\n        ])\r\n\r\n        return {\r\n            refer: {\r\n                handler,\r\n                utils,\r\n            },\r\n            render: () => (\r\n                [\r\n                    <button class={minusClass.value}\r\n                            onClick={utils.toggleCheckAll}>\r\n                        全选\r\n                    </button>,\r\n                    slots.default(),\r\n                ]\r\n            )\r\n        }\r\n    },\r\n})\r\n\r\nexport const DemoUseCollector = useCollect(() => ({parent: DemoUseCollectParentComponent, child: DemoUseCollectChildComponent}))","import { render } from \"./demo-use-collect.vue?vue&type=template&id=a2efa05e\"\nimport script from \"./demo-use-collect.vue?vue&type=script&lang=js\"\nexport * from \"./demo-use-collect.vue?vue&type=script&lang=js\"\n\nimport \"./demo-use-collect.vue?vue&type=style&index=0&id=a2efa05e&lang=scss\"\nscript.render = render\n\nexport default script","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./demo-use-collect.vue?vue&type=style&index=0&id=a2efa05e&lang=scss\""],"sourceRoot":""}