{"version":3,"sources":["webpack:///./src-doc/page/test/test-filter.vue?9a14","webpack:///src-doc/page/test/test-filter.vue","webpack:///./src-doc/page/test/test-filter.vue?f677","webpack:///./src-doc/page/test/test-filter.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","on","changeValue","_v","_s","_f","formatValue","num","staticRenderFns","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,WAAW,CAACA,EAAG,YAAY,CAACA,EAAG,YAAY,CAACE,GAAG,CAAC,MAAQN,EAAIO,cAAc,CAACP,EAAIQ,GAAG,kBAAkBJ,EAAG,SAAS,CAACJ,EAAIQ,GAAG,IAAIR,EAAIS,GAAGT,EAAIU,GAAG,MAAPV,CAAcA,EAAIW,cAAc,OAAOP,EAAG,SAAS,CAACJ,EAAIQ,GAAG,IAAIR,EAAIS,GAAGT,EAAIY,KAAK,QAAQ,IAAI,IAAI,IAC3UC,EAAkB,G,gECiBtB,GACE,KAAF,cACE,QAAF,CACI,IAAJ,WACM,IAAN,IACA,cACA,4BAEM,OAAN,YAIQ,GAFA,QAAR,gBAEA,uCACU,IAAV,WACU,OAAV,UAGY,IAAZ,EACY,EAAZ,SACY,OAAZ,iCAEU,EAAV,kBACY,EAAZ,SAPA,KAYQ,MAAR,kBAxBA,IA4BE,KA/BF,WAgCI,MAAJ,CACM,IAAN,IACM,YAAN,MAGE,QAAF,CACI,YADJ,WACM,IAAN,OACM,KAAN,mCAAQ,IAAR,wDAAU,OAAV,qCAAY,MAAZ,EAAc,OAAd,eAAgB,KAAhB,kBACA,0BADgB,KAAhB,EAEkB,IAAlB,OAFgB,KAAhB,EAAgB,IAAhB,gCAAQ,OAAR,YAAU,OAAV,gCCzDoW,I,YCOhWC,EAAY,eACd,EACAf,EACAc,GACA,EACA,KACA,KACA,MAIa,aAAAC,E","file":"js/chunk-2d0d43ea.6e17b4da.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('demo-row',[_c('demo-line',[_c('pl-button',{on:{\"click\":_vm.changeValue}},[_vm._v(\"change value\")]),_c('pl-tag',[_vm._v(\" \"+_vm._s(_vm._f(\"plf\")(_vm.formatValue))+\" \")]),_c('pl-tag',[_vm._v(\" \"+_vm._s(_vm.num)+\" \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <demo-row>\r\n            <demo-line>\r\n                <pl-button @click=\"changeValue\">change value</pl-button>\r\n                <pl-tag>\r\n                    {{formatValue | plf}}\r\n                </pl-tag>\r\n                <pl-tag>\r\n                    {{num}}\r\n                </pl-tag>\r\n            </demo-line>\r\n        </demo-row>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n    export default {\r\n        name: \"test-filter\",\r\n        filters: {\r\n            plf: (() => {\r\n                let counter = 0\r\n                let map = new WeakMap()\r\n                let data = window.Vue.observable({})\r\n\r\n                return (val) => {\r\n\r\n                    console.log('filter', counter)\r\n\r\n                    if (!!val && !!val.then && typeof val.then === \"function\") {\r\n                        let count = map.get(val)\r\n                        if (count != null) {\r\n                            return data[count]\r\n                        } else {\r\n                            count = ++counter\r\n                            map.set(val, count)\r\n                            window.Vue.prototype.$set(data, count, '加载中...')\r\n                        }\r\n                        val.then((asyncVal) => {\r\n                            data[count] = asyncVal\r\n                        })\r\n                        return data[count]\r\n                    }\r\n\r\n                    return `plf-${val}`\r\n                }\r\n            })(),\r\n        },\r\n        data() {\r\n            return {\r\n                num: 123,\r\n                formatValue: 123\r\n            }\r\n        },\r\n        methods: {\r\n            changeValue() {\r\n                this.formatValue = new Promise(async (resolve) => {\r\n                    await this.$plain.utils.delay(1000)\r\n                    resolve(++this.num)\r\n                })\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./test-filter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./test-filter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./test-filter.vue?vue&type=template&id=4c72a08a&\"\nimport script from \"./test-filter.vue?vue&type=script&lang=js&\"\nexport * from \"./test-filter.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}