{"version":3,"sources":["webpack://CustomApplicationmain-application/./story/pages/form/form-validate-mode.vue?7735","webpack://CustomApplicationmain-application/./story/pages/form/form-validate-mode.vue","webpack://CustomApplicationmain-application/./story/pages/form/form-validate-mode.vue?ef32"],"names":["class","status","title","form1","formData","contentWidth","ref","label","field","required","input","select","levelData","item","levelName","val","code","key","custom","validateFormMode","form2","validateMode","validateTableMode","name","data","methods","$refs","formMode","validate","$message","success","tableMode","render"],"mappings":"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","file":"js/chunk-1fd5276b.c5532bd7.js","sourcesContent":["export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./form-validate-mode.vue?vue&type=style&index=0&id=49f4ae1a&lang=scss\"","<template>\r\n    <div class=\"form-validate-mode\">\r\n        <pl-alert status=\"success\" title=\"edit组件\">\r\n            以下简称 edit组件 为 “使用了useEdit组合函数进行控制的组件”，原生控件以及其他组件库的组件可以通过useEdit 函数封装变成edit组件；\r\n        </pl-alert>\r\n        <demo-row title=\"默认模式：form\">\r\n            <pl-form v-model=\"form1.formData\" contentWidth=\"400px\" ref=\"formMode\">\r\n                <pl-form-item label=\"标准文本框：必填\" field=\"input\" required>\r\n                    <pl-input v-model=\"form1.formData.input\"/>\r\n                </pl-form-item>\r\n                <pl-form-item label=\"标准下拉框：必填\" field=\"select\" required>\r\n                    <pl-select v-model=\"form1.formData.select\">\r\n                        <pl-select-option v-for=\"item in levelData\" :label=\"item.levelName\" :val=\"item.code\" :key=\"item.code\"/>\r\n                    </pl-select>\r\n                </pl-form-item>\r\n                <pl-form-item label=\"自定义组件：必填\" field=\"custom\" required>\r\n                    <input v-model=\"form1.formData.custom\"/>\r\n                </pl-form-item>\r\n                <pl-form-item label=\" \">\r\n                    <pl-button @click=\"validateFormMode\" label=\"校验\"/>\r\n                </pl-form-item>\r\n            </pl-form>\r\n            <pl-alert label=\"validateMode = form\">\r\n                这种模式为表单模式，通过深度 watch model绑定的表单对象，来判断字段变化，然后自动触发 change 校验，这种模式的优点是，\r\n                能够兼容所有的双向绑定表单组件，当然包括原生的表单控件。缺点是需要深度 watch表单对象，在表格中这种方式性能比较低。所以在表格中不采取这种方式\r\n                触发change校验；\r\n            </pl-alert>\r\n        </demo-row>\r\n        <demo-row title=\"表格模式：table\">\r\n            <pl-form v-model=\"form2.formData\" contentWidth=\"400px\" ref=\"tableMode\" validateMode=\"table\">\r\n                <pl-form-item label=\"标准文本框：必填\" field=\"input\" required>\r\n                    <pl-input v-model=\"form2.formData.input\"/>\r\n                </pl-form-item>\r\n                <pl-form-item label=\"标准下拉框：必填\" field=\"select\" required>\r\n                    <pl-select v-model=\"form2.formData.select\">\r\n                        <pl-select-option v-for=\"item in levelData\" :label=\"item.levelName\" :val=\"item.code\" :key=\"item.code\"/>\r\n                    </pl-select>\r\n                </pl-form-item>\r\n                <pl-form-item label=\"自定义组件：必填\" field=\"custom\" required>\r\n                    <input v-model=\"form2.formData.custom\"/>\r\n                </pl-form-item>\r\n                <pl-form-item label=\" \">\r\n                    <pl-button @click=\"validateTableMode\" label=\"校验\"/>\r\n                </pl-form-item>\r\n            </pl-form>\r\n            <pl-alert title=\"validateMode = table\">\r\n                这种模式为表格模式，通过监听form-item中，edit组件的change事件，来触发change校验。这种模式的优点是，\r\n                能够精确地知道那个 form-item 的组件发生值绑定变化从而触发校验，缺点是，不兼容edit组件以外的其他组件，包括其他组件库的组件以及原生控件。\r\n            </pl-alert>\r\n            <pl-alert status=\"info\">\r\n                还有一个变化是，如果一个form-item的field是一个数组，就是校验多个字段的意思，当其中一个字段的值变化了，那么form模式下只会触发这个变化的字段\r\n                的相关校验，而table模式下，会触发form-item上field中所有字段的校验；\r\n            </pl-alert>\r\n            <pl-alert status=\"warn\">\r\n                无论何种模式下，blur校验只能是edit组件有效。\r\n            </pl-alert>\r\n            <pl-alert status=\"success\">\r\n                当调用 form 组件的 validate函数时，会触发所有校验，这个与是否为edit组件无关。\r\n            </pl-alert>\r\n        </demo-row>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"form-validate-mode\",\r\n        data() {\r\n            return {\r\n                form1: {\r\n                    formData: {},\r\n                },\r\n                form2: {\r\n                    formData: {},\r\n                },\r\n                levelData: [\r\n                    {levelName: '一级', code: '1'},\r\n                    {levelName: '二级', code: '2'},\r\n                    {levelName: '三级', code: '3'},\r\n                ],\r\n            }\r\n        },\r\n        methods: {\r\n            async validateFormMode() {\r\n                await this.$refs.formMode.validate()\r\n                this.$message.success('校验通过')\r\n            },\r\n            async validateTableMode() {\r\n                await this.$refs.tableMode.validate()\r\n                this.$message.success('校验通过')\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    .form-validate-mode {\r\n        .pl-alert {\r\n            margin: 10px 0;\r\n        }\r\n    }\r\n</style>","import { render } from \"./form-validate-mode.vue?vue&type=template&id=49f4ae1a\"\nimport script from \"./form-validate-mode.vue?vue&type=script&lang=js\"\nexport * from \"./form-validate-mode.vue?vue&type=script&lang=js\"\n\nimport \"./form-validate-mode.vue?vue&type=style&index=0&id=49f4ae1a&lang=scss\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}