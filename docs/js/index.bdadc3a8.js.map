{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src-doc/home/app-home.vue?e400","webpack:///./src/packages/list/pl-list.vue?5a00","webpack:///./src/packages/table/table-utils.tsx","webpack:///./src/packages/loading/pl-loading-mask.vue?6220","webpack:///./src/packages/base/index.ts","webpack:///./src/use/useStyle.ts","webpack:///./src-doc/component/demo-line.vue?7405","webpack:///./src-doc/page/plain-popper/PlainTooltipUtils.ts","webpack:///./src-doc/page/plain-popper/PlainTooltip.ts","webpack:///./src/util/NodeWrapper.ts","webpack:///./src/packages/table/table/TableNode.ts","webpack:///./src/use/useModel.ts","webpack:///./src/packages/table/plc/plc-utils.tsx","webpack:///./src-doc/page/normal/test-table/KeyGenerator.ts","webpack:///./src-doc/component/demo-row.vue?bf27","webpack:///./src-doc lazy ^\\.\\/page.*\\.vue$ namespace object","webpack:///./src-doc/App.vue?26a3","webpack:///./src/packages/table/plc-components/standard/draggier/composition/use-list-draggier.virtual.ts","webpack:///./src/packages/table/plc-components/standard/draggier/composition/use-list-draggier.ts","webpack:///./src/packages/table/plc-components/standard/draggier/composition/index.tsx","webpack:///./src/packages/notice/pl-notice-container.vue?4cca","webpack:///./src-doc/home/app-header.vue?4026","webpack:///./src/packages/table/plc-components/standard/draggier/composition/utils.ts","webpack:///./src/packages/color-picker/sub/opacity.png","webpack:///./src/use/useRefs.ts","webpack:///./src/packages/table/plc/debug.tsx","webpack:///./src/packages/table/table/TableMark.ts","webpack:///./src/packages/table/plc/plc-fixed.tsx","webpack:///./src/packages/table/plc/format/utils.ts","webpack:///./src/packages/table/plc/format/configAndStatePlc.ts","webpack:///./src/packages/table/plc/format/sortPlc.tsx","webpack:///./src/packages/table/plc/format/getHeadPlc.ts","webpack:///./src/packages/table/plc/format/classAndStyle.ts","webpack:///./src/packages/table/plc/format/formatPlc.ts","webpack:///./src/packages/table/table/table.tsx","webpack:///./src/use/useScopedSlots.tsx","webpack:///external \"Vue\"","webpack:///./src/use/useCollect.ts","webpack:///./src/packages/table/plc-components/standard/draggier/composition/use-draggier-auto-scroller.tsx","webpack:///./src-doc/home/app-menu.vue?753e","webpack:///./src-doc/lib/iconfont_js/iconfont.js","webpack:///./src/use/useProps.ts","webpack:///./src/use/useSlots.tsx","webpack:///./src-doc/App.vue?c93e","webpack:///./src-doc/home/app-home.vue?028e","webpack:///./src-doc/home/app-content.vue?ebbc","webpack:///src-doc/home/app-content.vue","webpack:///./src-doc/home/app-content.vue?9b56","webpack:///./src-doc/home/app-content.vue","webpack:///./src-doc/home/app-header.vue?422c","webpack:///src-doc/home/app-header.vue","webpack:///./src-doc/home/app-header.vue?ddfa","webpack:///./src-doc/home/app-header.vue","webpack:///./src-doc/home/app-menu.vue?5994","webpack:///./src-doc/menus.js","webpack:///src-doc/home/app-menu.vue","webpack:///./src-doc/home/app-menu.vue?b4b3","webpack:///./src-doc/home/app-menu.vue","webpack:///./src-doc/home/app-navigator.vue?f93d","webpack:///src-doc/home/app-navigator.vue","webpack:///./src-doc/home/app-navigator.vue?bf24","webpack:///./src-doc/home/app-navigator.vue","webpack:///src-doc/home/app-home.vue","webpack:///./src-doc/home/app-home.vue?5405","webpack:///./src-doc/home/app-home.vue","webpack:///src-doc/App.vue","webpack:///./src-doc/App.vue?03b2","webpack:///./src-doc/App.vue","webpack:///./src-doc/component/demo-row.vue?3b72","webpack:///src-doc/component/demo-row.vue","webpack:///./src-doc/component/demo-row.vue?4a01","webpack:///./src-doc/component/demo-row.vue","webpack:///./src-doc/component/demo-line.vue?3a23","webpack:///src-doc/component/demo-line.vue","webpack:///./src-doc/component/demo-line.vue?fbce","webpack:///./src-doc/component/demo-line.vue","webpack:///./src-doc/component/demo-child.vue?7841","webpack:///src-doc/component/demo-child.vue","webpack:///./src-doc/component/demo-child.vue?ae7b","webpack:///./src-doc/component/demo-child.vue","webpack:///./src-doc/component/TestVuexComponent.vue?a0c0","webpack:///src-doc/component/TestVuexComponent.vue","webpack:///./src-doc/component/TestVuexComponent.vue?d43a","webpack:///./src-doc/component/TestVuexComponent.vue","webpack:///./src-doc/component/plain-logo.vue?3626","webpack:///src-doc/component/plain-logo.vue","webpack:///./src-doc/component/plain-logo.vue?68ee","webpack:///./src-doc/component/plain-logo.vue","webpack:///./src-doc/component/index.js","webpack:///./src/packages/table/plc/plc.tsx","webpack:///./src/packages/table/plc-components/register.ts","webpack:///./src/packages/table/plc-components/standard/plc-index.tsx","webpack:///./src/packages/table/plc-components/standard/plc-check.tsx","webpack:///./src/packages/table/plc-components/standard/plc-expand.tsx","webpack:///./src/packages/table/plc-components/standard/tree/use-plc-tree.tsx","webpack:///./src/packages/table/plc-components/standard/tree/use-plc-tree-row-draggable.tsx","webpack:///./src/packages/table/plc-components/standard/tree/plc-tree.tsx","webpack:///./src/packages/table/plc-components/standard/draggier/plc-draggier.tsx","webpack:///./src/packages/table/plc-components/external/plc-toggle.tsx","webpack:///./src/packages/table/plc-components/external/plc-input.tsx","webpack:///./src/packages/table/plc-components/external/plc-number.tsx","webpack:///./src/packages/table/plc-components/external/plc-date.tsx","webpack:///./src/packages/table/plc-components/external/plc-color-picker.tsx","webpack:///./src/packages/table/plc-components/external/plc-rate.tsx","webpack:///./src/util/install.ts","webpack:///./src/packages/table/plc-components/index.tsx","webpack:///./src/packages/keyboard/index.ts","webpack:///./src/directives/click-wave.ts","webpack:///./src/use/useEdit.ts","webpack:///./src/packages/button/button-group.tsx","webpack:///./src/packages/button/button.tsx","webpack:///./src/packages/button/index.ts","webpack:///./src/packages/input/input.tsx","webpack:///./src/packages/input/input-inner-tags.tsx","webpack:///./src/packages/input/index.ts","webpack:///./src/packages/icon/icon.tsx","webpack:///./src/packages/icon/index.ts","webpack:///./src/packages/collapse/pl-collapse-transition.vue?2340","webpack:///src/packages/collapse/pl-collapse-transition.vue","webpack:///./src/packages/collapse/pl-collapse-transition.vue?25c8","webpack:///./src/packages/collapse/pl-collapse-transition.vue","webpack:///./src/packages/collapse/collapse-group.tsx","webpack:///./src/packages/collapse/collapse.tsx","webpack:///./src/packages/collapse/index.ts","webpack:///./src/packages/loading/pl-loading.vue?5edb","webpack:///./submodules/plain-loading/src/utils/utils.ts","webpack:///./submodules/plain-loading/src/utils/dom.ts","webpack:///./submodules/plain-loading/src/utils/ice.ts","webpack:///./submodules/plain-loading/src/loading/alpha.ts","webpack:///./submodules/plain-loading/src/loading/beta.ts","webpack:///./submodules/plain-loading/src/loading/gamma.ts","webpack:///./submodules/plain-loading/src/loading/ice.ts","webpack:///./src/packages/notice/pl-notice-service.vue","webpack:///./src/util/constant.ts","webpack:///./submodules/plain-loading/src/loading/delta.ts","webpack:///./submodules/plain-loading/src/index.ts","webpack:///./submodules/plain-loading/index.js","webpack:///src/packages/loading/pl-loading.vue","webpack:///./src/packages/loading/pl-loading.vue?6cc4","webpack:///./src/packages/loading/pl-loading.vue","webpack:///./src/packages/loading/pl-loading-mask.vue?fee8","webpack:///src/packages/loading/pl-loading-mask.vue","webpack:///./src/packages/loading/pl-loading-mask.vue?63d6","webpack:///./src/packages/loading/pl-loading-mask.vue","webpack:///./src/packages/loading/LoadingService.tsx","webpack:///./src/packages/loading/LoadingDirective.ts","webpack:///./src/packages/loading/index.ts","webpack:///./src/packages/list/pl-list.vue?a3cf","webpack:///src/packages/list/pl-list.vue","webpack:///./src/packages/list/pl-list.vue?2837","webpack:///./src/packages/list/pl-list.vue","webpack:///./src/packages/list/pl-item.vue?ec3e","webpack:///src/packages/list/pl-item.vue","webpack:///./src/packages/list/pl-item.vue?7d64","webpack:///./src/packages/list/pl-item.vue","webpack:///./src/packages/list/index.ts","webpack:///./src/packages/message/pl-message-container.vue?56f4","webpack:///./src/packages/message/pl-message-item.vue?483a","webpack:///src/packages/message/pl-message-item.vue","webpack:///./src/packages/message/pl-message-item.vue?421b","webpack:///./src/packages/message/pl-message-item.vue","webpack:///src/packages/message/pl-message-container.vue","webpack:///./src/packages/message/pl-message-container.vue?c6ff","webpack:///./src/packages/message/pl-message-container.vue","webpack:///./src/packages/message/MessageService.ts","webpack:///./src/packages/message/index.ts","webpack:///./src/packages/notice/pl-notice-container.vue?9a8e","webpack:///src/packages/notice/pl-notice-service.vue","webpack:///./src/packages/notice/pl-notice-service.vue?6f28","webpack:///src/packages/notice/pl-notice-container.vue","webpack:///./src/packages/notice/pl-notice-container.vue?3df1","webpack:///./src/packages/notice/pl-notice-container.vue","webpack:///./src/packages/notice/NoticeService.ts","webpack:///./src/packages/notice/index.ts","webpack:///./src/packages/grid/pl-row.vue?8af6","webpack:///src/packages/grid/pl-row.vue","webpack:///./src/packages/grid/pl-row.vue?bd3d","webpack:///./src/packages/grid/pl-row.vue","webpack:///./src/packages/grid/pl-col.vue?a9bd","webpack:///src/packages/grid/pl-col.vue","webpack:///./src/packages/grid/pl-col.vue?6ad3","webpack:///./src/packages/grid/pl-col.vue","webpack:///./src/packages/grid/index.ts","webpack:///./src/packages/radio/pl-radio-inner.vue?73e0","webpack:///src/packages/radio/pl-radio-inner.vue","webpack:///./src/packages/radio/pl-radio-inner.vue?af06","webpack:///./src/packages/radio/pl-radio-inner.vue","webpack:///./src/packages/radio/radio-group.tsx","webpack:///./src/packages/radio/radio.tsx","webpack:///./src/packages/radio/index.ts","webpack:///./src/packages/checkbox/checkbox-group.tsx","webpack:///./src/packages/checkbox/checkbox.tsx","webpack:///./src/packages/checkbox/pl-checkbox-inner.vue?adb5","webpack:///src/packages/checkbox/pl-checkbox-inner.vue","webpack:///./src/packages/checkbox/pl-checkbox-inner.vue?2b1c","webpack:///./src/packages/checkbox/pl-checkbox-inner.vue","webpack:///./src/packages/checkbox/pl-checkbox-indeterminate.vue?ceb7","webpack:///src/packages/checkbox/pl-checkbox-indeterminate.vue","webpack:///./src/packages/checkbox/pl-checkbox-indeterminate.vue?9253","webpack:///./src/packages/checkbox/pl-checkbox-indeterminate.vue","webpack:///./src/packages/checkbox/index.ts","webpack:///./src/packages/number/number.tsx","webpack:///./src/packages/number/index.tsx","webpack:///./src/packages/toggle/toggle.tsx","webpack:///./src/packages/toggle/index.ts","webpack:///./src/use/useMounted.ts","webpack:///./src/packages/slider/slider.tsx","webpack:///./src/packages/slider/index.ts","webpack:///./src/packages/tag/tag.tsx","webpack:///./src/packages/tag/tag-input.tsx","webpack:///./src/packages/tag/index.ts","webpack:///./src/packages/rate/rate.tsx","webpack:///./src/packages/rate/index.ts","webpack:///./src/util/ResizeDetector.ts","webpack:///./src/packages/popper/BaseTrigger.ts","webpack:///./src/packages/popper/PopperTrigger.ts","webpack:///./src/packages/popper/popper.tsx","webpack:///./src/packages/scroll/scroll.tsx","webpack:///./src/packages/scroll/scroll-sticky.tsx","webpack:///./src/packages/scroll/index.ts","webpack:///./src/packages/portal/portal.tsx","webpack:///./src/packages/portal/index.ts","webpack:///./src/packages/dialog/dialog.tsx","webpack:///./src/packages/dialog/pl-dialog-service-controller.vue?4fc8","webpack:///src/packages/dialog/pl-dialog-service-controller.vue","webpack:///./src/packages/dialog/pl-dialog-service-controller.vue?3a91","webpack:///./src/packages/dialog/pl-dialog-service-controller.vue","webpack:///./src/packages/dialog/dialog-service-item.tsx","webpack:///./src/packages/dialog/DialogService.ts","webpack:///./src/packages/dialog/index.ts","webpack:///./src/packages/popper/index.ts","webpack:///./src/packages/popover/popover.tsx","webpack:///./src/packages/popover/index.ts","webpack:///./src/packages/color-picker/sub/color-alpha-slider.tsx","webpack:///./src/packages/color-picker/sub/color-hue-slider.tsx","webpack:///./src/packages/color-picker/color/ColorUtils.ts","webpack:///./src/packages/color-picker/sub/color-sv-panel.tsx","webpack:///./src/packages/color-picker/color/Color.ts","webpack:///./src/packages/color-picker/color-panel.tsx","webpack:///./src/packages/popper/service/PopperAgent.ts","webpack:///./src/packages/color-picker/color-picker.tsx","webpack:///./src/packages/popper/service/PopperServiceComponent.tsx","webpack:///./src/packages/popper/service/PopperController.tsx","webpack:///./src/packages/color-picker/color-service.tsx","webpack:///./src/packages/color-picker/index.ts","webpack:///./src/packages/tooltip/tooltip.tsx","webpack:///./src/packages/tooltip/TooltipDirective.ts","webpack:///./src/packages/tooltip/index.ts","webpack:///./src/packages/dropdown/DropdownTrigger.ts","webpack:///./src/packages/dropdown/dropdown.tsx","webpack:///./src/packages/dropdown/sub/dropdown-content.tsx","webpack:///./src/packages/dropdown/dropdown-service.tsx","webpack:///./src/packages/dropdown/sub/dropdown-group.tsx","webpack:///./src/packages/dropdown/sub/dropdown-menu.tsx","webpack:///./src/packages/dropdown/sub/dropdown-item.tsx","webpack:///./src/packages/dropdown/index.ts","webpack:///./src/packages/card/card.tsx","webpack:///./src/packages/card/card-content.tsx","webpack:///./src/packages/card/card-header.tsx","webpack:///./src/packages/card/index.ts","webpack:///./src/packages/alert/alert.tsx","webpack:///./src/packages/alert/index.ts","webpack:///./src/packages/carousel/carousel.tsx","webpack:///./src/packages/carousel/index.ts","webpack:///./src/packages/virtual-list/virtual-list.tsx","webpack:///./src/packages/step/step.tsx","webpack:///./src/packages/virtual-list/index.ts","webpack:///./src/packages/progress/progress.ts","webpack:///./src/packages/progress/progress-bar.tsx","webpack:///./src/packages/progress/progress-circle.tsx","webpack:///./src/packages/progress/progress-mini.tsx","webpack:///./src/packages/progress/index.ts","webpack:///./src/packages/pagination/pagination.tsx","webpack:///./src/packages/pagination/index.ts","webpack:///./src/packages/badge/badge.tsx","webpack:///./src/packages/badge/index.ts","webpack:///./src/packages/step/step-utils.ts","webpack:///./src/packages/step/setp-group.tsx","webpack:///./src/packages/step/arrow-step/arrow-step-group.tsx","webpack:///./src/packages/step/arrow-step/arrow-step.tsx","webpack:///./src/packages/step/arrow-step/index.ts","webpack:///./src/packages/step/index.ts","webpack:///./src/packages/triangle/triangle.tsx","webpack:///./src/packages/tab-header/tab-header.tsx","webpack:///./src/packages/triangle/index.ts","webpack:///./src/packages/tab/tab.tsx","webpack:///./src/packages/fillet-corner/fillet-corner.tsx","webpack:///./src/packages/tab/tab-group.tsx","webpack:///./src/packages/tab/inner-tab.tsx","webpack:///./src/packages/tab/index.ts","webpack:///./src/packages/tab-header/tab-header-item.tsx","webpack:///./src/packages/tab-header/index.ts","webpack:///./src/packages/tree/utils/tree-constant.ts","webpack:///./src/packages/fillet-corner/index.ts","webpack:///./src/packages/tree/utils/TreeNode.ts","webpack:///./src/packages/tree/utils/TreeMark.ts","webpack:///./src/packages/tree/use/use-tree-dragger.ts","webpack:///./src/packages/tree/use/use-tree.ts","webpack:///./src/packages/tree/tree.tsx","webpack:///./src/packages/tree/use/use-tree-node.tsx","webpack:///./src/packages/tree/tree-node.tsx","webpack:///./src/util/PlainDate.ts","webpack:///./src/packages/tree/index.ts","webpack:///./src/packages/virtual-tree/virtual-tree.tsx","webpack:///./src/packages/virtual-tree/virtual-tree-node.tsx","webpack:///./src/packages/virtual-tree/index.ts","webpack:///./src/packages/cascade/cascade-constant.ts","webpack:///./src/packages/cascade/CascadeNode.ts","webpack:///./src/packages/cascade/CascadeMark.ts","webpack:///./src/packages/cascade/cascade.tsx","webpack:///./src/packages/cascade/cascade-panel.tsx","webpack:///./src/packages/cascade/cascade-service.tsx","webpack:///./src/packages/cascade/index.ts","webpack:///./src/packages/time/subs/time-subs.ts","webpack:///./src/packages/time/subs/time-range-panel.tsx","webpack:///./src/packages/time/time-panel.tsx","webpack:///./src/packages/date-time-input/useDateTime.ts","webpack:///./src/packages/time/time.tsx","webpack:///./src/packages/date/date-utils.ts","webpack:///./src/packages/time/subs/time-base-column.tsx","webpack:///./src/packages/time/subs/time-base-panel.tsx","webpack:///./src/packages/time/subs/index.ts","webpack:///./src/packages/time/time-service.tsx","webpack:///./src/packages/time/index.ts","webpack:///./src/packages/date-time-input/date-time-input.tsx","webpack:///./src/packages/date-time-input/index.ts","webpack:///./src/packages/date/date-panel.tsx","webpack:///./src/packages/date/date.tsx","webpack:///./src/packages/date/subs/date-base-panel.tsx","webpack:///./src/packages/date/subs/date-base-panel-header.tsx","webpack:///./src/packages/date/subs/date-base-panel-item.tsx","webpack:///./src/packages/date/useDate.ts","webpack:///./src/packages/date/subs/date-base-panel-year.tsx","webpack:///./src/packages/date/subs/date-base-panel-month.tsx","webpack:///./src/packages/date/subs/date-base-panel-date.tsx","webpack:///./src/packages/date/subs/date-panel-date-range.tsx","webpack:///./src/packages/date/subs/date-panel-week.tsx","webpack:///./src/packages/date/subs/date-panel-dates.tsx","webpack:///./src/packages/date/subs/index.ts","webpack:///./src/packages/date/date-service.tsx","webpack:///./src/packages/date/index.ts","webpack:///./src/packages/select/select-utils.ts","webpack:///./src/packages/select/select.tsx","webpack:///./src/packages/select/select-panel.tsx","webpack:///./src/packages/form/form.tsx","webpack:///./src/packages/select/select-option.tsx","webpack:///./src/packages/select/select-group.tsx","webpack:///./src/packages/select/select-service.tsx","webpack:///./src/packages/select/index.ts","webpack:///./src/packages/form/form-utils.ts","webpack:///./src/packages/form/form-item.tsx","webpack:///./src/packages/form/index.ts","webpack:///./src/packages/table/plc/renderColgroup.tsx","webpack:///./src/packages/table/table/head/head.tsx","webpack:///./src/packages/table/table/render.ts","webpack:///./src/packages/table/table/head/useHeadCellResize.ts","webpack:///./src/packages/table/table/head/useColDraggier.tsx","webpack:///./src/packages/table/table/head/head-cell.tsx","webpack:///./src/packages/table/table/body/body.tsx","webpack:///./src/packages/table/table/body/body-cell.tsx","webpack:///./src/packages/table/table/body/row.tsx","webpack:///./src/packages/table/table/index.ts","webpack:///./src/packages/table/plc/plc-collector.tsx","webpack:///./src/packages/table/plc/index.ts","webpack:///./src/packages/table/component/virtual-table.tsx","webpack:///./src/packages/table/component/index.ts","webpack:///./src/packages/table/index.ts","webpack:///./src/index.ts","webpack:///./src-doc/main.js","webpack:///./src/use/useRefer.ts","webpack:///./src/util/util.ts","webpack:///./submodules/plain-utils/utils/object.ts","webpack:///./submodules/plain-utils/utils/utils.ts","webpack:///./submodules/plain-utils/utils/string.ts","webpack:///./submodules/plain-utils/utils/dom.ts","webpack:///./submodules/plain-utils/index.ts","webpack:///./src/use/useEvent.ts","webpack:///./src-doc/page/plain-popper/PlainPopperUtils.ts","webpack:///./src-doc/page/plain-popper/PlainPopper.ts","webpack:///./src/packages/table/plc/plc-group.tsx","webpack:///./src/packages/form/validate.ts","webpack:///./src-doc/home/app-content.vue?c13e","webpack:///./src/use/useWrapper.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","TableHoverPart","TableCheckStatus","TableProps","Array","virtual","Boolean","default","summaryData","config","Function","debugPlc","rules","associateFields","colDraggable","spanMethod","border","headRowHeight","String","Number","bodyRowHeight","showRows","emptyText","disabledStickyCompatible","rowClassFunc","cellClassFunc","cellStyleFunc","headCellClassFunc","headCellStyleFunc","lazy","according","loading","keyField","required","childrenField","getChildren","isCheckable","isLeaf","filterNodeMethod","checkStrictly","autoExpandParent","DEFAULT_STATUS","$plain","install","Vue","mixin","created","this","$options","parent","$root","utils","nextTick","$nextTick","callback","newInstance","component","option","el","body","render","h","$mount","$children","log","nextIndex","startIndex","index","enableSelect","removeClass","disableSelect","addClass","STATUS","white","icon","status","black","primary","success","warn","info","$message","alert","keys","forEach","changeTheme","curTheme","themeName","StyleShape","StyleSize","StyleStatus","StyleProvider","StyleProps","shape","size","useStyle","defaultValue","ctx","assign","style","$props","parentStyler","adjust","styleComputed","PlainTooltipTheme","PlainTooltipAnimate","PlainTooltipTrigger","PlainTooltipThemes","dark","content","backgroundColor","color","light","PlainTooltipAnimates","drop","show","opacity","transform","hide","scale","fade","PlainTooltipTriggers","manual","init","destroy","always","ins","focus","reference","handler","blur","addEventListener","removeEventListener","click","contentEl","state","clickReference","toggle","clickBody","contains","hover","closeTimer","openTimer","hoverDelay","enter","leave","popper","addCLs","addClasses","isArray","split","classList","item","add","curClasses","className","indexOf","join","createPlainTooltipPopper","cache","popperEl","borderRadius","transition","padding","boxSizing","boxShadow","fontSize","maxWidth","zIndex","arrowEl","arrow","cloneNode","querySelector","isMounted","isShow","animate","trigger","onContentTransitionEnd","refresh","removeOnHide","theme","placement","offset","boundary","arrowSize","gpuAcceleration","textEl","innerHTML","PlainPopper","createFlagManager","map","set","val","getActiveKeys","TableNode","level","isSummaryData","parentRef","markRef","getRules","selfGetter","children","loaded","check","expand","childrenData","setChildren","parentChildrenData","treeNode","getReactiveChildrenData","unshift","edit","isEdit","editRow","deepcopy","openEdit","validate","closeEdit","validateResult","allRules","formData","rowData","child","node","visible","some","isVisible","isCheck","uncheck","every","checkStatus","minus","left","isLoading","useModel","emitter","autoEmit","autoWatch","onChange","computedState","PlcComponentType","PlcFixedType","PlcAlign","PlcGroupProps","title","align","noPadding","order","fixed","autoFixedLeft","autoFixedRight","PlcProps","field","width","fit","notFitVirtual","summary","renderAfterRow","editable","addEditPadding","PLC_COLLECTOR","PlcComponentPublicData","rowspan","colspan","fixedPosition","right","isLastFixedLeft","isFirstFixedRight","styles","cell","innerCell","classes","getCellClass","plc","props","GROUP","stickyFlag","ie","KeyGenerator","prefixKeyString","WeakMap","count","webpackAsyncContext","req","ids","id","rowClass","dragElHeight","startDragIndex","endDragIndex","startDragOffsetTop","startDragHeight","startClientY","moveClientY","scrollParent","startScrollTopOfScrollParent","scrollTopOfScrollParent","scrollParentBoundingRect","top","height","dragEl","autoScroll","external","Math","ceil","floor","mousedown","vid","offsetHeight","clientY","scrollTop","parentElement","getBoundingClientRect","scroll","mousemove","mouseup","position","methods","showHover","hideHover","endIndex","dragHeight","dragOffsetTop","dragStartScrollTop","dragScrollTop","rowList","movedown","start","end","refreshDragElPosition","max","offsetTop","parentScroll","rowEl","getRowEl","hasClass","getScrollParent","scrollHeight","getRowElList","from","querySelectorAll","ElRef","CompRef","useRefs","context","ret","$el","$refs","v","renderPlc","renderGroup","group","paddingLeft","items","print","PLC","printPlcData","plcData","$createElement","generator","getList","list","getByKey","getCellStyles","center","fixedLeft","flatPlcList","collector","reduce","reverse","element","prevWidth","prevValue","useFixedShadow","bodyScrollRef","showFixedLeft","showFixedRight","wrapperScrollLeft","hostWidth","contentWidth","abs","immediate","fixedShadowClass","HandlePlcType","iteratePlc","handlePlc","handleGroup","handlePlcResult","remove","handlePlcGroupResult","handlerPublic","configData","configPlc","configAndStatePlc","plcList","fixedRight","nothing","plcGroup","getPlcOrder","sortPlc","totalFits","totalNoFitPlcWidth","fitPlcList","insertSort","a","b","ao","bo","setFixedFlag","lastFixedLeft","firstFixedRight","setLastFixedLeft","setFirstFixedRight","getHeadPlc","maxLevel","calculateLevel","calculateSpan","headCols","calculateHeadColumns","writeStylesAndClasses","copyPlcList","newItems","newItem","formatPlc","tableWidth","externalWidth","lastPlc","fitBlockWidth","newWidth","notFitVirtualPlcList","flatPlcLength","plcListHasRenderAfterRow","filter","PLAIN_TABLE_PROVIDER","iterateTableNode","tableNodes","fn","iterateChildren","tableSetup","useEvent","scrollLeft","part","updateData","clickRow","dblclickRow","clickCell","dblclickCell","emit","on","off","useSlots","slots","refs","propsState","useProps","number","mark","validateConfigData","dataModel","rootNode","current","hoverPart","bodyScrollGetter","bodyPlcList","totalContentWidth","label","tableData","tableSummaryData","tableDataFlatter","formatData","formatDataFlat","maxShowLevel","isExpand","formatFlatTableData","isDisabledVirtualScroll","square","mini","bindScroll","setLeft","mouseenter","headMousewheel","preventDefault","deltaX","deltaY","setCurrent","keyOrNode","getCurrent","refer","useRefer","offsetWidth","setup","directives","ScopedSlotFunc","useScopedSlots","scopedSlots","$scopedSlots","param","COLLECT_PROVIDER","getIndex","childNodes","nodeName","display","useCollectParent","sort","onAdd","onRemove","provideString","addItem","removeItem","useCollectChild","injectData","createIndicator","hostEl","vertical","indicatorSize","indicator","publicStyles","bottomIndicatorTop","min","rightIndicatorLeft","useDraggierAutoScroller","table","getScroll","virtualTable","host","enterStart","autoScrollTop","autoScrollLeft","enterEnd","autoScrollBottom","autoScrollRight","stopAutoScroll","__iconfont__svg__cssinject__","write","overflow","firstChild","insertBefore","readyState","attachEvent","documentElement","doScroll","onreadystatechange","FormatPropsType","formatValue","types","function","test","lastIndexOf","replace","watcher","SlotFunc","formatSlotResult","vnode","options","$slots","vNode","_vm","_h","_c","_self","attrs","staticRenderFns","this$1","staticClass","$event","nav","currentPath","menu","open","ref","onOpen","_t","codeUrl","_v","_s","_l","menuGroup","class","page","handleClickMenu","complete","_e","PageComponent","hash","location","decodeURI","path","$store","Components","logo","DemoRow","DemoLine","DemoChild","TestVuexComponent","values","usePlcSetup","useCollect","targetProps","setDurWidth","durWidth","plcSetup","definePlc","PlcComponent","setupProps","mixins","getBinding","row","input","summaryText","toggleOnClickRow","plcInstance","checkPlc","onClickHeadCheckbox","isChecked","onClickCheckbox","selected","selectedKeys","flag","availableSelectItems","onClickCell","getSelected","tableRenderData","expandPlc","isSummary","expandKeys","suffixPx","renderData","close","usePlcTree","emitExpandKeys","emitCheckKeys","handleKeys","iterateAll","treeNodes","findNodeByKey","getChildrenAsync","initLazy","isLoaded","collapse","expandChange","toggleExpand","expandAll","collapseAll","checkChange","toggleCheck","checkAll","uncheckAll","getCheckedData","clickExpandIcon","stopPropagation","clickCheckbox","DropType","getParents","parents","usePlcTreeRowDraggable","rowDraggable","nodeClass","levelPadding","flatDataList","showCheckbox","allowRowDraggable","allowRowDroppable","startNode","moveNode","startScrollTop","moveScrollTop","rowHeight","scrollParentRect","dragNodeBaseLeft","dropType","inner","droppable","getIndicatorStyles","next","targetIndex","prev","refreshCheckStatus","hasCheck","hasUncheck","dragNode","pointerEvents","removeSelf","previousSibling","unshiftChild","nextSibling","CustomProps","treePlc","styleUtils","getStyles","getClasses","treeDraggablePlc","contentStyles","checkKeys","draggable","draggierPlc","addSelected","onClickItem","bodyCell","installPlugin","defaultPlugins","externalsPlugins","use","plugin","KEY","wavingTimer","disabled","removeAttribute","updateOption","ClickWave","binding","componentUpdated","unbind","EditProvider","EditProps","readonly","useEdit","useWrapper","editState","editComputed","$on","onBlur","useEditOuterLoading","BUTTON_GROUP_PROVIDER","buttonGroupProvide","buttonGroup","otherComputed","active","block","throttleClick","autoLoading","nativeProps","handleClick","handleClickInner","listeners","throttle","trailing","KeyBoardMap","16","17","18","8","9","13","27","32","46","37","38","39","40","189","187","48","49","50","51","52","53","54","55","56","57","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","112","113","114","115","116","117","118","119","120","121","122","123","getKey","keyCode","KeyboardService","listen","unbindListener","cancelActiveElement","activeElement","_onkeydown","currentTarget","names","ctrlKey","shiftKey","altKey","compositionKeyName","handleKeyboard","placeValue","minHeight","maxHeight","textarea","suffixIcon","prefixIcon","clearIcon","clearHandler","autoHeight","isFocus","inputReadonly","throttleEnter","inputInnerTabindex","placeholder","prepend","append","hidden","hiddenInput","keydown","clickInput","clickPrefixIcon","clickSuffixIcon","clickClearIcon","handlerEnter","handleEnterInner","model","clearValue","publicProps","domProps","resetTextAreaHeight","collapseTags","registry","prefix","fontFamily","require","onClick","isSvg","beforeEnter","afterEnter","beforeLeave","afterLeave","COLLAPSE_GROUP_PROVIDER","limit","stack","stackIndex","clickItem","noIcon","iconColor","disabledClickHead","clickHeader","collapseGroup","_obj","oneOf","array","targetList","typeOf","arrayItem","targetItem","TypeMap","toString","isValidType","obj","addCls","addClazz","clazz","currentClassList","addClz","cln","IceWrapper","template","div","getItem","trim","getUse","PLAIN_CHECK_STATUS","alpha","beta","gamma","ice","delta","PlainLoading","p_value","background","loadingType","WrapMask","mask","$destroy","$loading","LoadingService","PlLoadingDirective","directive","direction","$emit","_b","done","pl_click","_el","containers","defaultOption","horizontal","time","instance","p_horizontal","p_vertical","messageOption","uuid","container","messageService","MessageService","NoticeService","notice","newService","$notice","PLAIN_RADIO_GROUP_PROVIDER","itemWidth","onClickRadio","trueValue","falseValue","ignore","radioGroupProvider","targetWidth","space","PLAIN_CHECKBOX_PROVIDER","itemValList","vals","checkTypeOfValue","onClickCheckBoxForAll","Set","isYes","checked","checkboxGroupProvider","nativeOn","checkboxProps","slot","NAN","step","stepStrictly","precision","hideButton","inputProps","interval","getValue","isNaN","getEffectiveValue","formatModelValue","checkValue","toFixed","clearInterval","intervalAdd","setInterval","intervalMinus","up","down","isActive","useMounted","total","alignEnd","full","showSteps","tooltip","tooltipFormatter","range","updateStart","updateEnd","dragStart","touching","temp_start","temp_end","startX","startY","totalLength","transferValueToLength","transferLengthToValue","setValue","setStart","setEnd","unit","c_start","c_end","progressStyles","startTooltip","endTooltip","steps","stepItemStyles","removePx","dragstart","clientX","durX","durY","temp","dur","stepLength","divisor","clickClose","beforeAdd","beforeRemove","noInput","isEditing","inputValue","clickWindow","clickEditButton","delay","inputEnter","tagClose","activeIcon","inactiveIcon","totalWidth","elLeft","mounted","activeStyles","reset","half","detect","scrollWidth","oldWidth","oldHeight","runCallback","observer","MutationObserver","observe","childList","subtree","disconnect","ResizeDetectorDirective","inserted","__resizedetextor__","getBaseTrigger","triggerName","openModel","hoverOpenDelay","hoverCloseDelay","PopperTriggerType","getHoverTrigger","getClickTrigger","getFocusTrigger","getManualTrigger","enterReference","leaveReference","enterPopper","leavePopper","oldTabIndex","referenceFocus","referenceBlur","getPopperTrigger","cb","clickPopper","PLAIN_SCROLL_VERTICAL_POSITION","PLAIN_POPPER_PROVIDER","POPPER_PROPS","popperClass","noContentPadding","Element","sizeEqual","rootProps","updateOpen","dstry","mousedownPopper","referenceEl","ready","onTransitionend","popperStyles","popperClasses","emitInput","initPopper","bindEvents","unbindEvents","popperTransitionEnd","setPlacement","popperConfigChangeHandler","popperListener","mouseleave","transitionend","Props","scrollbarSize","scrollbarColor","scrollX","scrollY","hideScrollbar","alwaysShowScrollbar","fitContentWidth","fitContentHeight","fitHostWidth","fitHostHeight","topThreshold","bottomThreshold","autoScrollSpeed","scrollSetup","onMousedown","verticalScrollTop","verticalScrollBottom","verticalScrollCenter","wrapper","popperProvider","verticalPosition","wrapperScrollTop","dragTop","dragY","dragLeft","dragX","contentHeight","hostHeight","draging","cancelAnimate","targetScrollbarSize","hostStyles","wrapperStyles","overflowX","overflowY","verticalScrollbarHeight","verticalScrollbarTop","horizontalScrollbarWidth","horizontalScrollbarLeft","horizontalScrollbarStyles","verticalScrollbarStyles","width1","height1","contentResize","width2","height2","hostResize","point","cancelAnimationFrame","ny","nx","ky","y","kx","x","startTime","Date","now","run","nowTime","requestAnimationFrame","scrollEnd","duration","windowResize","popperOpen","popperShow","wrapperMousewheel","wrapperScroll","bottom","dragmove","dragend","SCROLL_PROVIDER","resize","Tag","fresh","onScroll","offsetLeft","autoCreateContainer","contentClass","contentStyle","clickContent","containerNode","commentNode","createComment","isMoved","targetContainer","Node","update","replaceChild","minWidth","fullHeight","fullWidth","wrapperPadding","contentPadding","showHead","fullscreen","dialogClass","serviceClass","cancelOnClickMask","showClose","beforeClose","destroyOnClose","confirmButton","cancelButton","closeOnConfirm","closeOnCancel","confirmButtonText","cancelButtonText","confirmOnEnter","cancelOnEsc","disabledCancel","disabledConfirm","foot","confirm","cancel","alignItems","justifyContent","wrapperClasses","bodyClasses","hasHead","hasFoot","keyboardEventOption","clickWrapper","refInFor","optionKeys","editValue","targetOption","onConfirm","editType","onCancel","editReadonly","controller","dialog","$dialog","scrollProps","popperProps","bg","thumbSize","tempTop","backgroundImage","shadowStyles","thumbStyles","setTop","emitValue","offsetY","tempLeft","offsetX","INT_HEX_MAP","10","11","12","14","15","hexOne","round","high","low","rgb2hex","g","isOnePointZero","parseFloat","isPercentage","bound01","processPercent","parseInt","rgb2hsv","hsv2rgb","hue","saturation","f","q","mod","HEX_INT_MAP","A","B","C","D","E","F","parseHexChannel","hex","toUpperCase","isEffectiveColorString","ColorFormat","change","dblclick","tempSaturation","tempValue","updatePosition","isMouseDown","enableAlpha","format","red","green","blue","updateByString","needInitializedEnableAlpha","_value","parts","setRgb","substring","setHex","currentColor","setHsv","rgbColor","getDefaultColor","dblclickSvPanel","defaultColor","svChange","updateByHsv","hueChange","alphaChange","updateByAlpha","inputChange","formatVal","inputBlur","updateByHex","updateByRgb","usePopperAgent","service","isOpen","getInstance","usePopperAgentEditor","creator","agent","focusCounter","esc","opacityBg","agentState","$cs","listener","POPPER_SERVICE_DEFAULT_POPPER_PROPS","usePopperServiceComponent","externalListener","externalPopperListener","defaultPopperProps","hideOnClickBody","beforeShow","beforeHide","isPrivate","contentListener","args","popperBinding","usePopperController","PSC","find","fill","controllerService","ColorServiceComponent","ColorController","text","showOverflowTooltip","unwatch","initTooltip","PlainTooltip","destroyTooltip","propsName","Tooltip","DEFAULT_OPTION","TooltipDirective","getDropdownTrigger","closeOnClickItem","dropdown","$dropdown","handleEmit","bindEvent","unbindEvent","DROPDOWN_CONTENT_PROVIDER","dropdownItem","DropdownServiceComponent","DropdownController","shadow","disabledSwipe","autoPlay","autoPlayDuration","disabledButton","disabledDot","containerWidth","tempX","moving","timer","clearTimer","last","play","clickButton","clickDot","mouse","move","VirtualListProps","remain","dynamicSize","renderContent","contentIs","contentProps","virtualListSetup","dataInfo","isDisabled","targetStart","targetEnd","targetData","strutStyles","getStartByDynamic","middle","middleBottom","nodes","prevDataInfo","prevHeight","StepStatus","Content","virtualIndex","PROGRESS_DEFAULT_PROPS","outerColor","innerColor","speed","successColor","errorColor","inlineText","outerStyles","innerStyles","lineSize","startAngle","PI","animatePercent","canvas","arcParam","animateDrawing","percent","k","deltaTime","draw","leading","clearRect","drawOuterCircle","drawInnerCircle","save","beginPath","strokeStyle","lineWidth","arc","stroke","closePath","lineCap","restore","reload","getContext","drawSector","fillStyle","moveTo","SizesWidth","large","normal","pageSize","totalPage","pagerCount","currentPage","layout","pageSizes","prevText","nextText","jumperNumberWidth","jump","currentChange","sizeChange","jumperValue","totalPageData","pageInfo","midPagerCount","showPrevMore","showNextMore","pagers","startPage","getPagerButtonClass","changeCurrent","onPrev","onNext","onJump","sizes","jumper","pager","blank","dot","badge","showValue","StepUtils","getCurrentIndex","getStepStatus","currentStatus","currentIndex","finish","process","wait","STEP_GROUP_PROVIDER","titleAlignBottom","dotIcon","isTitleAlignBottom","stepGroup","isLast","ARROW_STEP_GROUP_PROVIDER","hideIndex","isFirst","DirectionMap","uppercaseFirstLetter","charAt","TabHeaderType","TabHeaderPosition","targetStyles","destroyOnHide","targetVal","FilletCornerDirection","TAB_HEADER_PROVIDER","verticalText","mousewheel","oldLeft","scrollBinding","TAB_GROUP_PROVIDER","headType","headPosition","closeIcon","clickHeadItem","innerGroupClasses","clickCloseIcon","tabGroup","tabHeader","TreeDropType","TreeNodeCheckStatus","part1","part2","startPos","endPos","firstCornerPoint","secondCornerPoint","labelField","intent","useTreeDragger","reflow","indicatorStyles","dropInnerKey","freezeState","null","dropTreeNode","dragTreeNode","dataTransfer","effectAllowed","getTreeNodeFromEl","isAllowDrag","dragover","dropEffect","containsFlag","rect","indicatorLeft","allowDrop","isAllowDrop","firstChildTreeNodeDom","TreeProps","nodeIcon","highlightCurrent","currentKey","defaultExpandAll","expandIcon","renderAfterExpand","expandOnClickNode","checkOnClickNode","allowDrag","TREE_PROVIDER","useTree","clickNode","updateCurrent","dragenter","dragleave","treeMark","rootTreeNode","virtualScrollFlag","dragState","checkProps","findTreeNodeByKey","__vue__","$parent","clickNodeContent","TreeNodeProps","useTreeNode","tree","contentPaddingLeft","expanderStyles","getEmptyTextStyle","getTreeNodeWrapper","CompareMode","nodeDirectives","nodeOn","nodeListDirectives","disabledQueueAnimation","debounce","virtualScroll","CascadePanelProps","hoverDebounce","nodeDisabled","selectBranch","filterText","filterMethod","CascadeProps","showLast","separator","filterable","showFormat","ctxState","selfExpandKeys","filterData","cascadeMark","cacheData","$cascade","sourceKey","clear","cascadeData","isPassFilter","expandNodes","mouseenterItem","empty","filterList","cascadeList","listIndex","nodeIndex","isEmpty","TimePublicProps","displayFormat","valueFormat","custom","checkDisabled","zeroize","zeroLen","TimeRangePanelType","dateObject","PlainDate","parse","year","isNull","defaultDate","setFullYear","month","date","setMonth","hour","setHours","minute","setMinutes","second","setSeconds","setTime","setHour","setMinute","setSecond","pd","setYear","setMonthDate","displayString","valueString","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getDay","getTime","fecha","dateString","timeString","formatString","today","mousedownStartPanel","mousedownEndPanel","bindind","startBinding","endPd","startPd","Hms","endBinding","TimePanelProps","mousedownBasePanel","bindingProps","base","useDateTime","valueInput","startInput","endInput","plInput","customInputFocus","customInputBlur","DateView","SlideTransitionDirection","DateEmitInputType","$time","customHandler","valuePd","parseDisplayString","setDisplayValue","resetPosition","findOne","layoutMap","mousedownPanel","maxmin","maxpd","minpd","vpd","Infinity","num","columnChange","TimeServiceComponent","TimeController","subs","regexp","RegExp","DatePanelType","DefaultFormatString","datetime","week","dates","DateViewSeq","DatePublicProps","view","firstWeekDay","defaultTime","selectDate","hoverStart","hoverEnd","ipd","DATE_PANEL_PROVIDER","panel","startModel","endModel","$date","valuePds","datesString","inputBinding","isDates","onInputChange","YMDHms","YMD","onClickItemCloseIcon","panelBinding","publicChange","Component","componentProps","nativeListener","getFormatString","useDate","getProvideData","injectView","getChildDisabled","getChildActive","getChildHoverStart","getChildHover","getChildHoverEnd","modelAutoEmit","startModelAutoEmit","endModelAutoEmit","onModelChange","onStartChange","onEndChange","updateView","tempPd","copy","viewModel","transitionDirection","hoverRange","valueRange","datePanel","firstDatePanel","panelItemParam","provideData","targetPanelItemParam","setSelectDate","selectYear","panelItemPanel","getDisabled","getActive","getHoverStart","getHover","getHoverEnd","valueStart","valueEnd","iv","prevYearList","nextYearList","onMouseEnterItem","mid","months","setSelectYear","monthList","YM","yearPanelBinding","onSelectYearChange","prevYear","nextYear","midPd","dateListBinding","selectTime","selectDateChange","weekList","weeks","concat","dateList","currentMonthFirstDate","weekDayDuration","day","offsetDay","firstDateTime","isSelectMonth","defaultTimePd","monthPanelBinding","onSelectMonthChange","timePanelBinding","timePd","tempDefaultTime","setHms","onSelectTime","showTimePd","emitEvent","prevMonth","nextMonth","changeView","oldSeq","newSeq","defaultTimeString","startDate","endDate","endTime","onMouseenterItem","endSelectDate","setYMD","WeekGetData","hoverPd","isHover","getWeekPdByPlainDate","datePanelBinding","weekPd","itemStart","itemStartPd","Y","ServiceComponent","Controller","SELECT_PANEL_COLLECTOR","formatItems","SelectUtils","multiple","multipleMaxLimit","multipleMinLimit","noMatchText","noDataText","$select","popperHeight","displayValue","strings","placeholderValue","multipleTags","selectHighlight","highlightPrev","highlightNext","showDebug","SELECT_PANEL_PROVIDER","selectPanelSetup","highlightOption","showItems","isSelected","clickOption","newValue","ValidateMode","SelectOptionProps","selectPanel","FORM_COLLECTOR","FORM_PROVIDER","validateMode","form","hideRequiredAsterisk","hideValidateMessage","validateOnRulesChange","column","labelWidth","disabledFields","readonlyFields","labelAlign","centerWhenSingleColumn","loadingMask","formSetup","updateValidateResult","fieldValueChange","newVal","oldVal","maxLabelWidth","loadingTimer","validateResultModel","targetLabelWidth","targetContentWidth","targetItemWidth","bodyStyles","allFieldLabels","allFieldRequired","allRequired","valid","CHANGE","changeFields","ALL","BLUR","onEditChange","onEditBlur","newFormData","oldFormData","fields","deepEqual","deep","setLoading","dfd","onStart","onEnd","validateWithoutMask","showError","clearValidate","useFormItemEdit","useFormItemStyle","validateMessage","FormItemProps","formItemSetup","suffix","labelStyles","hasLabel","isRequired","renderColgroup","colgroupRender","headPlcList","tableStyles","rowIndex","cellIndex","callRender","renderFunc","getEditable","getBody","PlcRender","useHeadCellResize","indicatorEl","endX","tableEl","resizeHandler","HoverPart","getHorizontalScrollParent","getBroPlcList","broPlcList","itarPlc","getPlcWidth","getIndicatorHeight","getLowestPlcList","getDragData","broList","broLowestList","allLowestList","broData","useColDraggier","autoScroller","startClientX","moveClientX","startScrollLeft","moveScrollLeft","currentRect","scrollRect","dragData","refreshData","dd","indicatorHeight","startPlc","endPlc","tdBinding","cellStyles","innerCellStyles","headCellStyles","cellClasses","headCellClasses","innerCellClass","validateFieldForCell","changeField","span","tableNode","cellClass","plcIndex","newRefer","scrollFlag","colgroup","virtualList","disabledQueenAnimation","summaryTableStyles","dataHeight","summaryHeight","paddingBottom","horizontalScrollbar","plugins","Icon","productionTip","VueCompositionApi","PLAIN","App","toArray","desc","newDate","pattern","valueOf","flags","global","ignoreCase","multiline","source","extend","to","isNumber","temporaryValue","randomIndex","random","findSome","arr","func","len","removeSome","resIndex","encode","encodeURIComponent","previous","later","arguments","remaining","callNow","userAgent","navigator","isIE","isEdge","isIE11","reIE","fIEVersion","kebabCase","str","toLowerCase","camelCase","SPECIAL_CHARS_REGEXP","MOZ_HACK_REGEXP","_","letter","removeUnit","hexDigits","substr","url","params","toISOString","JSON","stringify","serializedParams","markIndex","paramParts","decodeURIComponent","cls","clsList","rmCls","rmClasses","rmClass","insertAfter","newEl","targetEl","parentEl","lastChild","enableUserSelect","userSelect","disabledUserSelect","copyToClipboard","textArea","outline","select","successful","execCommand","emitName2ListenName","emitName","EmitFunc","once","kebabCaseName","$once","$off","Direction","Align","getEl","isVertical","getPos","getBoundaryPos","contentRect","boundaryEl","maxTop","minTop","maxLeft","minLeft","adjustPlacement","referencePos","contentPos","pos","setPos","transitionDuration","willChange","origin","getTransformOriginByPlacement","scrollEventListener","onWindowResize","sqrt","pow","bottomPos","topPos","rightPos","leftPos","paddingProp","transformOrigin","refreshArrow","rotate","paddingSize","pop","plcGroupSetup","itemDurWidth","_$scopedSlots","isPlcGroup","FormTrigger","FormValueType","getTargetRule","rule","string","validator","getAllRules","formRules","formItems","targetRules","formItem","formItemRules","ruleList","getAllRequired","getAllFieldLabels","getValidateConfigData","formRule","validateFieldByRules","defaultMessage","validateField","validateAsync","validateResultList","newValidateResultMap","firstValidateResult","validateAssociateFields","compositionFunction","plain_use"],"mappings":"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4BAA6B,CAC5B,OACA,kBAED,qCAAsC,CACrC,OACA,kBAED,gCAAiC,CAChC,OACA,kBAED,uBAAwB,CACvB,OACA,kBAED,0BAA2B,CAC1B,OACA,kBAED,0BAA2B,CAC1B,OACA,kBAED,2BAA4B,CAC3B,OACA,kBAED,yBAA0B,CACzB,OACA,kBAED,6BAA8B,CAC7B,OACA,kBAED,4BAA6B,CAC5B,OACA,kBAED,6BAA8B,CAC7B,OACA,kBAED,6BAA8B,CAC7B,OACA,kBAED,iCAAkC,CACjC,OACA,kBAED,0BAA2B,CAC1B,OACA,kBAED,yBAA0B,CACzB,OACA,kBAED,2BAA4B,CAC3B,OACA,kBAED,6BAA8B,CAC7B,OACA,kBAED,kCAAmC,CAClC,OACA,kBAED,yBAA0B,CACzB,OACA,kBAED,yBAA0B,CACzB,OACA,kBAED,0BAA2B,CAC1B,OACA,kBAED,yBAA0B,CACzB,OACA,kBAED,4BAA6B,CAC5B,OACA,kBAED,2BAA4B,CAC3B,OACA,kBAED,+BAAgC,CAC/B,OACA,kBAED,4BAA6B,CAC5B,OACA,kBAED,+BAAgC,CAC/B,OACA,kBAED,2BAA4B,CAC3B,OACA,kBAED,2BAA4B,CAC3B,OACA,kBAED,6BAA8B,CAC7B,OACA,kBAED,0BAA2B,CAC1B,OACA,kBAED,yBAA0B,CACzB,OACA,kBAED,2BAA4B,CAC3B,OACA,kBAED,2BAA4B,CAC3B,OACA,kBAED,2BAA4B,CAC3B,OACA,kBAED,yBAA0B,CACzB,OACA,kBAED,+BAAgC,CAC/B,OACA,kBAED,wBAAyB,CACxB,OACA,kBAED,wBAAyB,CACxB,OACA,kBAED,yBAA0B,CACzB,OACA,kBAED,yBAA0B,CACzB,OACA,kBAED,2BAA4B,CAC3B,OACA,kBAED,4BAA6B,CAC5B,OACA,kBAED,yBAA0B,CACzB,OACA,kBAED,6BAA8B,CAC7B,OACA,kBAED,iCAAkC,CACjC,OACA,iBACA,kBAED,4CAA6C,CAC5C,OACA,kBAED,iCAAkC,CACjC,OACA,kBAED,oCAAqC,CACpC,OACA,kBAED,qCAAsC,CACrC,OACA,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SAAjD,6BAA8D,gBAC9Doa,EAAM5b,QACH,CACO2Q,EAAMxM,OAASooB,EAAa9tB,MAAM+C,QAArC,sCAA+DmP,EAAMxM,QAAU,KAC/E2X,EAAWY,MAAX,uBAA0BZ,EAAWY,QAAgB,aC7I9D,GAAAyO,GAAc,CACzB,GACA,K,iDLPJ,SAAYK,GACR,mBACA,iBACA,eACA,2BACA,eACA,mBACA,eACA,mBACA,eACA,iBACA,aACA,mBACA,iBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,eACA,eACA,gBA/DJ,CAAYA,QAAG,KAkER,IAAMiC,GAAc,CACvBC,GAAI,QACJC,GAAI,OACJC,GAAI,MAEJC,EAAG,YACHC,EAAG,MACHC,GAAI,QACJC,GAAI,MACJC,GAAI,QACJC,GAAI,MAEJC,GAAI,OACJC,GAAI,KACJC,GAAI,QACJC,GAAI,OAEJC,IAAK,QACLC,IAAK,QAELC,GAAI,QACJC,GAAI,QACJC,GAAI,QACJC,GAAI,QACJC,GAAI,QACJC,GAAI,QACJC,GAAI,QACJC,GAAI,QACJC,GAAI,QACJC,GAAI,QAEJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IAEJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IAEJC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAA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","file":"js/index.bdadc3a8.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"index\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"index\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-016d7063\":\"37ea2c1d\",\"chunk-03eb6770\":\"75d861d2\",\"chunk-0b64f936\":\"8871e1e9\",\"chunk-0bec17d0\":\"277a931a\",\"chunk-0c9c6444\":\"d48efb31\",\"chunk-0f8c8052\":\"53881845\",\"chunk-0ff53625\":\"9df18b27\",\"chunk-16896880\":\"87703e02\",\"chunk-1ba9a412\":\"8cab2859\",\"chunk-1c1cb294\":\"14c7724a\",\"chunk-1d377ae2\":\"d8ad4173\",\"chunk-1dcfefb1\":\"f698e24e\",\"chunk-20e658ce\":\"b2b6440d\",\"chunk-2bd70695\":\"96fe476d\",\"chunk-2c54bb3f\":\"a8448714\",\"chunk-2d0abfaf\":\"7a0f2086\",\"chunk-2d0ac37d\":\"7c366040\",\"chunk-2d0d7c08\":\"b968ba20\",\"chunk-6671bb63\":\"da09e5db\",\"chunk-2d0b21a7\":\"04d3a2d1\",\"chunk-2d0b632c\":\"d9489ca7\",\"chunk-2d0c55e4\":\"a3fee7ee\",\"chunk-2d0c5798\":\"193ca8b7\",\"chunk-2d0cc665\":\"af03e260\",\"chunk-2d0d3160\":\"4de888be\",\"chunk-2d0d43ea\":\"e7ecf431\",\"chunk-2d0d4427\":\"6dd8acb3\",\"chunk-2d0d7692\":\"452bb511\",\"chunk-2d0ddfa2\":\"c6717096\",\"chunk-2d0de4e6\":\"2cca2632\",\"chunk-2d0de902\":\"6df56dda\",\"chunk-2d0e1860\":\"ec016e7f\",\"chunk-2d0e24d7\":\"e39d3fd2\",\"chunk-2d207f26\":\"6f644a54\",\"chunk-2d208fcd\":\"d4a7588f\",\"chunk-2d2095db\":\"d80a6885\",\"chunk-2d20ed94\":\"4cb638eb\",\"chunk-2d21008d\":\"9405b4b7\",\"chunk-2d2170fc\":\"5b8dad60\",\"chunk-2d217c6b\":\"3096d32e\",\"chunk-2d21da56\":\"ee3f6887\",\"chunk-2d221e53\":\"04b5175f\",\"chunk-2d2250f2\":\"0943969a\",\"chunk-2d229218\":\"17568ebb\",\"chunk-2d22a0ec\":\"f09c2717\",\"chunk-2d22cab2\":\"c91b1449\",\"chunk-2d22fd2f\":\"f25ac466\",\"chunk-2d2385e7\":\"68f19417\",\"chunk-2e5910ec\":\"daa97c60\",\"chunk-2f950ef1\":\"9195ba36\",\"chunk-3791672c\":\"bfd9009a\",\"chunk-38cb4b6f\":\"b7ae0060\",\"chunk-3a8e642a\":\"f35df251\",\"chunk-41386d68\":\"957eef1d\",\"chunk-44c53870\":\"27c9e8a4\",\"chunk-514483ee\":\"be95e6b2\",\"chunk-5681fd8c\":\"f026f306\",\"chunk-5cd01ee5\":\"84330e96\",\"chunk-5de751b4\":\"b6245052\",\"chunk-5def7d30\":\"f38fead9\",\"chunk-6062a724\":\"36c2ca3b\",\"chunk-6183052d\":\"a330f1ed\",\"chunk-61916f9f\":\"0a3cfbaf\",\"chunk-643ae53d\":\"a28c28bc\",\"chunk-64dd2fb4\":\"8ce452e9\",\"chunk-65cbffb9\":\"1d7f22dc\",\"chunk-6b9ff122\":\"03fb5d28\",\"chunk-7337b4e0\":\"8e8ac2cc\",\"chunk-73399709\":\"0f296809\",\"chunk-79a2612b\":\"7ce75663\",\"chunk-7bcace36\":\"448908f5\",\"chunk-8ff6c9ba\":\"0013d3c3\",\"chunk-94bb07ec\":\"298d58c7\",\"chunk-9f83b2e2\":\"da0a5b90\",\"chunk-a052ac44\":\"99ff6a7d\",\"chunk-a628f1ca\":\"c8821152\",\"chunk-a94bfeaa\":\"805be8e6\",\"chunk-b9cb752c\":\"24b48269\",\"chunk-ba938e62\":\"37a6b8b9\",\"chunk-c98bdcf4\":\"619ab4fe\",\"chunk-d18424dc\":\"0184e7e6\",\"chunk-d5a2d8a8\":\"0752efe7\",\"chunk-e11a36c6\":\"814f4c85\",\"chunk-ea06f4ee\":\"2188e794\",\"chunk-f585f1c0\":\"7c9249f0\",\"chunk-ff26367e\":\"2a756ccc\",\"chunk-2d0e55fc\":\"db74cc55\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-016d7063\":1,\"chunk-03eb6770\":1,\"chunk-0b64f936\":1,\"chunk-0bec17d0\":1,\"chunk-0c9c6444\":1,\"chunk-0f8c8052\":1,\"chunk-0ff53625\":1,\"chunk-1ba9a412\":1,\"chunk-1dcfefb1\":1,\"chunk-20e658ce\":1,\"chunk-2bd70695\":1,\"chunk-2c54bb3f\":1,\"chunk-6671bb63\":1,\"chunk-2e5910ec\":1,\"chunk-2f950ef1\":1,\"chunk-3791672c\":1,\"chunk-38cb4b6f\":1,\"chunk-3a8e642a\":1,\"chunk-41386d68\":1,\"chunk-514483ee\":1,\"chunk-5681fd8c\":1,\"chunk-5cd01ee5\":1,\"chunk-6062a724\":1,\"chunk-6183052d\":1,\"chunk-61916f9f\":1,\"chunk-643ae53d\":1,\"chunk-64dd2fb4\":1,\"chunk-73399709\":1,\"chunk-79a2612b\":1,\"chunk-7bcace36\":1,\"chunk-8ff6c9ba\":1,\"chunk-94bb07ec\":1,\"chunk-a628f1ca\":1,\"chunk-a94bfeaa\":1,\"chunk-b9cb752c\":1,\"chunk-ba938e62\":1,\"chunk-d18424dc\":1,\"chunk-ea06f4ee\":1,\"chunk-f585f1c0\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-016d7063\":\"3936b361\",\"chunk-03eb6770\":\"075ff8ff\",\"chunk-0b64f936\":\"06e4a211\",\"chunk-0bec17d0\":\"a105529d\",\"chunk-0c9c6444\":\"5106bb31\",\"chunk-0f8c8052\":\"0e433876\",\"chunk-0ff53625\":\"2b8d5bf2\",\"chunk-16896880\":\"31d6cfe0\",\"chunk-1ba9a412\":\"fa9b1ec1\",\"chunk-1c1cb294\":\"31d6cfe0\",\"chunk-1d377ae2\":\"31d6cfe0\",\"chunk-1dcfefb1\":\"e2f20ca7\",\"chunk-20e658ce\":\"0e433876\",\"chunk-2bd70695\":\"0e433876\",\"chunk-2c54bb3f\":\"f4acdffe\",\"chunk-2d0abfaf\":\"31d6cfe0\",\"chunk-2d0ac37d\":\"31d6cfe0\",\"chunk-2d0d7c08\":\"31d6cfe0\",\"chunk-6671bb63\":\"02e6447a\",\"chunk-2d0b21a7\":\"31d6cfe0\",\"chunk-2d0b632c\":\"31d6cfe0\",\"chunk-2d0c55e4\":\"31d6cfe0\",\"chunk-2d0c5798\":\"31d6cfe0\",\"chunk-2d0cc665\":\"31d6cfe0\",\"chunk-2d0d3160\":\"31d6cfe0\",\"chunk-2d0d43ea\":\"31d6cfe0\",\"chunk-2d0d4427\":\"31d6cfe0\",\"chunk-2d0d7692\":\"31d6cfe0\",\"chunk-2d0ddfa2\":\"31d6cfe0\",\"chunk-2d0de4e6\":\"31d6cfe0\",\"chunk-2d0de902\":\"31d6cfe0\",\"chunk-2d0e1860\":\"31d6cfe0\",\"chunk-2d0e24d7\":\"31d6cfe0\",\"chunk-2d207f26\":\"31d6cfe0\",\"chunk-2d208fcd\":\"31d6cfe0\",\"chunk-2d2095db\":\"31d6cfe0\",\"chunk-2d20ed94\":\"31d6cfe0\",\"chunk-2d21008d\":\"31d6cfe0\",\"chunk-2d2170fc\":\"31d6cfe0\",\"chunk-2d217c6b\":\"31d6cfe0\",\"chunk-2d21da56\":\"31d6cfe0\",\"chunk-2d221e53\":\"31d6cfe0\",\"chunk-2d2250f2\":\"31d6cfe0\",\"chunk-2d229218\":\"31d6cfe0\",\"chunk-2d22a0ec\":\"31d6cfe0\",\"chunk-2d22cab2\":\"31d6cfe0\",\"chunk-2d22fd2f\":\"31d6cfe0\",\"chunk-2d2385e7\":\"31d6cfe0\",\"chunk-2e5910ec\":\"b0f1eed6\",\"chunk-2f950ef1\":\"25d3ac79\",\"chunk-3791672c\":\"ba7be7fb\",\"chunk-38cb4b6f\":\"96b7379f\",\"chunk-3a8e642a\":\"0e433876\",\"chunk-41386d68\":\"2f94c30c\",\"chunk-44c53870\":\"31d6cfe0\",\"chunk-514483ee\":\"736ed8f8\",\"chunk-5681fd8c\":\"8f9235df\",\"chunk-5cd01ee5\":\"ed49588d\",\"chunk-5de751b4\":\"31d6cfe0\",\"chunk-5def7d30\":\"31d6cfe0\",\"chunk-6062a724\":\"06e4a211\",\"chunk-6183052d\":\"313a3b3a\",\"chunk-61916f9f\":\"d789cd84\",\"chunk-643ae53d\":\"2b44c12e\",\"chunk-64dd2fb4\":\"3c15b10b\",\"chunk-65cbffb9\":\"31d6cfe0\",\"chunk-6b9ff122\":\"31d6cfe0\",\"chunk-7337b4e0\":\"31d6cfe0\",\"chunk-73399709\":\"a9b66323\",\"chunk-79a2612b\":\"5db7df9e\",\"chunk-7bcace36\":\"9d60b8ab\",\"chunk-8ff6c9ba\":\"bd60a105\",\"chunk-94bb07ec\":\"af3548ba\",\"chunk-9f83b2e2\":\"31d6cfe0\",\"chunk-a052ac44\":\"31d6cfe0\",\"chunk-a628f1ca\":\"0e433876\",\"chunk-a94bfeaa\":\"2c4aa5fa\",\"chunk-b9cb752c\":\"2654beb8\",\"chunk-ba938e62\":\"73401fd0\",\"chunk-c98bdcf4\":\"31d6cfe0\",\"chunk-d18424dc\":\"0e433876\",\"chunk-d5a2d8a8\":\"31d6cfe0\",\"chunk-e11a36c6\":\"31d6cfe0\",\"chunk-ea06f4ee\":\"283c9a5e\",\"chunk-f585f1c0\":\"0e433876\",\"chunk-ff26367e\":\"31d6cfe0\",\"chunk-2d0e55fc\":\"31d6cfe0\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/plain-ui/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-home.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-home.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pl-list.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pl-list.vue?vue&type=style&index=0&lang=scss&\"","\r\nimport {StyleProps} from \"@/use/useStyle\";\r\nimport {Table} from \"@/packages/table/table\";\r\n\r\nexport const TableProps = {\r\n    ...StyleProps,\r\n\r\n    /*---------------------------------------basic-------------------------------------------*/\r\n    data: {type: Array},                                        // 显示的数据\r\n    virtual: {type: Boolean, default: false},                   // 虚拟滚动\r\n    summaryData: {type: Array},                                 // 表尾合计行数据\r\n    config: Function,                                   // 配置列信息函数\r\n    debugPlc: {type: Boolean},                                  // 调试plc数据\r\n    rules: {type: Object},                                      // 校验规则\r\n    associateFields: {type: Object},                            // 校验关联字段，一个对象，key为字段名，value为字段字符串或者字符串数组。当key变化时，会自动校验value中所列的字段\r\n    colDraggable: {type: Boolean},                              // 列是否可以拖拽排序\r\n    spanMethod: {type: (Function as any) as Table.SpanMethod},// 合并表体单元格的方法\r\n\r\n    /*---------------------------------------theme-------------------------------------------*/\r\n    border: {type: Boolean},                                    // 是否带纵向边框\r\n    // stripe: {type: Boolean},                                 // 是否为斑马纹table\r\n    headRowHeight: {type: [String, Number], default: 45},       // 表头行高\r\n    bodyRowHeight: {type: [String, Number], default: 40},       // 表体行高\r\n    // hideHeader: {type: Boolean},                             // 是否隐藏表头\r\n    showRows: {type: Number, default: 10},                      // 表格显示的行数，当表体的行数超过这个值时，将会出现表体内部滚动，这个属性实际上就是用来设值表格高度\r\n    emptyText: {type: String},                                  // 空数据时显示的文本\r\n    disabledStickyCompatible: {type: Boolean},                  // 是否禁用在ie下的sticky兼容\r\n\r\n    /*---------------------------------------style and class-------------------------------------------*/\r\n    rowClassFunc: {type: (Function as any) as Table.RowClassFunc},// 行 className 的计算函数\r\n    // headRowClassFunc: {type: Function as any as Table.HeadRowClassFunc},// 表头行 className 计算函数\r\n\r\n    cellClassFunc: {type: Function as any as Table.CellClassFunc},// 单元格 className 的计算函数\r\n    cellStyleFunc: {type: Function as any as Table.CellStyleFunc},// 单元格 style 内联样式的计算函数\r\n    headCellClassFunc: {type: Function as any as Table.HeadCellClassFunc},// 表头单元格的 className 的计算函数\r\n    headCellStyleFunc: {type: Function as any as Table.HeadCellStyleFunc},// 表头单元格 style 内联样式计算函数\r\n\r\n    /*---------------------------------------tree-------------------------------------------*/\r\n    lazy: {type: Boolean},                                      // 是否懒加载数据\r\n    according: {type: Boolean},                                 // 是否开启手风琴模式，只打开一个兄弟节点\r\n    loading: {type: Boolean, default: null},                    // 是否开启表格的加载状态\r\n\r\n    keyField: {type: String, required: true},                   // 每一个树节点用来标识的唯一树形\r\n    childrenField: {type: String, default: 'children'},         // 树节点对应子节点数据对应字段\r\n    getChildren: Function,                              // 加载子节点数据的函数，仅当 lazy 为true时有效\r\n    isCheckable: Function,                              // 当即将选中树节点时，判断是否可以选中该树节点\r\n    isLeaf: Function,                                   // 判断树节点是否为叶子节点的函数，仅在lazy模式有效\r\n    filterNodeMethod: Function,                         // 对树节点进行筛选的方法，返回true表示可以显示，返回false表示隐藏\r\n    checkStrictly: {type: Boolean},                             // 在显示复选框的情况下，是否严格遵循父子互不关联的做法，默认为false\r\n    autoExpandParent: {type: Boolean, default: true},           // 是否展开节点的时候，自动展开父节点\r\n}\r\n\r\nexport type TablePropsType = ExtractPropTypes<typeof TableProps>\r\n\r\nexport const TABLE_PROVIDER = '@@TABLE_PROVIDER'\r\n\r\nexport const enum TableHoverPart {\r\n    body = 'body',\r\n    head = 'head'\r\n}\r\n\r\nexport const enum TableCheckStatus {\r\n    check = 'check',\r\n    uncheck = 'uncheck',\r\n    minus = 'minus',\r\n}","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pl-loading-mask.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pl-loading-mask.vue?vue&type=style&index=0&lang=scss&\"","import {PlainUtils} from \"@/util/util\";\r\n\r\nexport const DEFAULT_STATUS = 'primary'\r\n\r\nexport let $plain: {\r\n    utils: typeof PlainUtils,\r\n    $root: any,\r\n    nextTick: (callback?: () => void) => Promise<any>,\r\n    newInstance: (component: any, option?: { el?: HTMLElement, parent?: any, parentNode?: HTMLElement }) => any,\r\n    log: (...args: any[]) => void\r\n    nextIndex: () => number,\r\n    enableSelect: () => void,\r\n    disableSelect: () => void,\r\n    STATUS: {\r\n        white: { icon: string, status: string },\r\n        black: { icon: string, status: string },\r\n        primary: { icon: string, status: string },\r\n        success: { icon: string, status: string },\r\n        warn: { icon: string, status: string },\r\n        error: { icon: string, status: string },\r\n        info: { icon: string, status: string },\r\n    },\r\n    $message: ((message: string | object, option: object) => void) | any,\r\n    changeTheme: (themeName: string) => void,\r\n} = {} as any\r\n\r\nexport default {\r\n    install(Vue) {\r\n\r\n        // 保存根实例对象\r\n        Vue.mixin({\r\n            created() {\r\n                if (!this.$options.parent) {\r\n                    $plain.$root = this\r\n                }\r\n            }\r\n        })\r\n\r\n        $plain.utils = PlainUtils\r\n\r\n        $plain.nextTick = (() => {\r\n            const $nextTick = Vue.prototype.$nextTick\r\n            return (callback) => {\r\n                return new Promise((resolve) => {\r\n                    $nextTick(() => {\r\n                        resolve()\r\n                        if (!!callback) {\r\n                            callback()\r\n                        }\r\n                    })\r\n                })\r\n            }\r\n        })()\r\n\r\n\r\n        /**\r\n         * 创建一个vue实例\r\n         * @author  韦胜健\r\n         * @date    2020/3/5 11:56\r\n         * @param   component:string|object             实例组件，可以是组件全局注册的字符串名称，必填，不能没有\r\n         * @param   el:HTMLElement                      实例组件挂载的dom元素，没有则创建一个div元素\r\n         * @param   parent:vnode                        实例组件的父组件实例对象，用来继承一些属性，比如 $router,$store以及 provide上下文之类的等等，没有则为 $root 根实例对象\r\n         * @param   parentNode                          实例组件所挂载dom元素的父元素，没有则为 document.body\r\n         */\r\n        $plain.newInstance = (component, option) => {\r\n\r\n            let {el, parent, parentNode} = (option || {})\r\n\r\n            parentNode = parentNode || document.body\r\n            el = el || document.createElement('div')\r\n            parent = parent || $plain.$root\r\n\r\n            if (!el.parentNode) {\r\n                parentNode.appendChild(el)\r\n            }\r\n\r\n            return (new Vue({\r\n                el,\r\n                parent,\r\n                render(h) {\r\n                    return h(component)\r\n                },\r\n            }).$mount()).$children[0]\r\n        }\r\n        $plain.log = (...args) => console.log(...args)\r\n        $plain.nextIndex = ((startIndex) => {\r\n            let index = startIndex\r\n            return () => {\r\n                return index++\r\n            }\r\n        })(1500)\r\n        $plain.enableSelect = () => $plain.utils.removeClass(document.body, 'pl-select-none')\r\n        $plain.disableSelect = () => $plain.utils.addClass(document.body, 'pl-select-none')\r\n        $plain.STATUS = {\r\n            white: {icon: 'el-icon-info', status: 'white'},\r\n            black: {icon: 'el-icon-info', status: 'black'},\r\n            primary: {icon: 'el-icon-info', status: 'primary'},\r\n            success: {icon: 'el-icon-success', status: 'success'},\r\n            warn: {icon: 'el-icon-warning', status: 'warn'},\r\n            error: {icon: 'el-icon-error', status: 'error'},\r\n            info: {icon: 'el-icon-question', status: 'info'},\r\n        }\r\n\r\n        const $message = (message, option) => {\r\n            if (!!Vue.prototype.$message) return Vue.prototype.$message(message, option)\r\n            return alert(message)\r\n        }\r\n        Object.keys($plain.STATUS).forEach(status => $message[status] = (message, option = {}) => $message(message, {status, ...option}))\r\n        $plain.$message = $message\r\n\r\n        $plain.changeTheme = (() => {\r\n            let curTheme: string;\r\n            return (themeName: string) => {\r\n                if (!!curTheme) {\r\n                    $plain.utils.removeClass(document.body, curTheme)\r\n                }\r\n                curTheme = `theme-${themeName}`\r\n                $plain.utils.addClass(document.body, curTheme)\r\n            }\r\n        })()\r\n\r\n        // console.log('install plain')\r\n        Vue.prototype.$plain = $plain\r\n    }\r\n    ,\r\n}","import {computed, inject, provide, getCurrentInstance} from \"@vue/composition-api\";\r\nimport {useWrapper} from \"@/use/useWrapper\";\r\n\r\n/**\r\n * 生成styleComputed对象，用于继承父组件的style属性；\r\n * @author  韦胜健\r\n * @date    2020/5/13 14:54\r\n */\r\nexport const StyleProvider = '@@PLAIN_STYLE_PROVIDER'\r\n\r\nexport enum StyleShape {\r\n    fillet = 'fillet',\r\n    round = 'round',\r\n    square = 'square',\r\n}\r\n\r\nexport enum StyleSize {\r\n    normal = 'normal',\r\n    large = 'large',\r\n    mini = 'mini',\r\n}\r\n\r\nexport enum StyleStatus {\r\n    primary = 'primary',\r\n    success = 'success',\r\n    error = 'error',\r\n    warn = 'warn',\r\n    info = 'info',\r\n}\r\n\r\nexport const StyleProps = {\r\n    shape: {type: String},                      // fillet,round,square\r\n    size: {type: String},                       // normal,large,mini\r\n    status: {type: String},                     // primary,success,error,warn,info\r\n}\r\n\r\nexport const useStyle = useWrapper('style', (defaultValue?: {\r\n    shape?: string | null,\r\n    size?: string | null,\r\n    status?: string | null,\r\n    adjust?: (result: { shape?: string | null, size?: string | null, status?: string | null }) => { shape?: string | null, size?: string | null, status?: string | null }\r\n}) => {\r\n    const ctx = getCurrentInstance()!\r\n\r\n    const parent = inject(StyleProvider, null)\r\n    defaultValue = Object.assign({shape: 'fillet', size: 'normal'}, defaultValue || {})\r\n\r\n    const style = computed(() => {\r\n        // 这句代码不可以放在外边，会导致变成非响应式属性\r\n        const {shape, size, status} = ctx.$props\r\n        // @ts-ignore\r\n        const parentStyler = !!parent ? parent.value : <any>{}\r\n\r\n        let result = {\r\n            shape: shape || parentStyler.shape || defaultValue!.shape,\r\n            size: size || parentStyler.size || defaultValue!.size,\r\n            status: status || parentStyler.status || defaultValue!.status,\r\n        }\r\n\r\n        if (!!defaultValue && !!defaultValue.adjust) {\r\n            // @ts-ignore\r\n            result = defaultValue.adjust(result) || result\r\n        }\r\n\r\n        return result\r\n    })\r\n\r\n    provide(StyleProvider, style)\r\n\r\n    return {\r\n        styleComputed: style\r\n    }\r\n})","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./demo-line.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./demo-line.vue?vue&type=style&index=0&lang=scss&\"","import {PlainPopperConfig} from \"./PlainPopperUtils\";\r\nimport {StyleType} from \"@/types/utils\";\r\nimport {PlainTooltip} from \"./PlainTooltip\";\r\n\r\nexport enum PlainTooltipTheme {\r\n    light = 'light',\r\n    dark = 'dark',\r\n    error = 'error',\r\n    success = 'success',\r\n}\r\n\r\nexport enum PlainTooltipAnimate {\r\n    scale = 'scale',\r\n    fade = 'fade',\r\n    drop = 'drop',\r\n}\r\n\r\nexport enum PlainTooltipTrigger {\r\n    focus = 'focus',\r\n    click = 'click',\r\n    hover = 'hover',\r\n    always = 'always',\r\n    manual = 'manual',\r\n}\r\n\r\nexport interface PlainTooltipConfig extends PlainPopperConfig {\r\n    content: string | HTMLElement,                              // 提示内容 \r\n    removeOnHide?: boolean                                      // 是否在关闭的时候移除dom\r\n    theme?: PlainTooltipTheme,                                  // 主题，lite以及dark\r\n    animate?: PlainTooltipAnimate,                              // 动画，fade，scale\r\n    trigger?: PlainTooltipTrigger,                              // 触发器，click、focus、hover、always、manual\r\n    hoverDelay?: number,                                        // 打开的时候延迟触发器，仅对hover有效\r\n}\r\n\r\nexport interface PlainTooltipThemeTtype {\r\n    (el: { content: HTMLElement, popper: HTMLElement }): void\r\n}\r\n\r\nexport const PlainTooltipThemes: { [k: string]: PlainTooltipThemeTtype } = {\r\n    dark: ({content}) => {\r\n        content.style.backgroundColor = '#444'\r\n        content.style.color = '#fff'\r\n    },\r\n    light: ({content}) => {\r\n        content.style.backgroundColor = '#fff'\r\n        content.style.color = '#666'\r\n    },\r\n}\r\n\r\nexport interface PlainTooltipAnimateType {\r\n    show: StyleType,\r\n    hide: StyleType,\r\n}\r\n\r\nexport const PlainTooltipAnimates: { [k: string]: PlainTooltipAnimateType } = {\r\n    drop: {\r\n        show: {\r\n            opacity: '1',\r\n            transform: `scaleY(1)`\r\n        },\r\n        hide: {\r\n            opacity: '0',\r\n            transform: `scaleY(0)`\r\n        },\r\n    },\r\n    scale: {\r\n        show: {\r\n            opacity: '1',\r\n            transform: `scale(1)`\r\n        },\r\n        hide: {\r\n            opacity: '0',\r\n            transform: `scale(0.75)`\r\n        },\r\n    },\r\n    fade: {\r\n        show: {\r\n            opacity: '1',\r\n            transform: `scaleY(1)`                  //show和hide没有这个scaleY的话，在ie下arrow元素不会消失\r\n        },\r\n        hide: {\r\n            opacity: '0',\r\n            transform: `scaleY(1)`\r\n        },\r\n    },\r\n}\r\n\r\nexport interface PlainTooltipTriggerType {\r\n    (ins: PlainTooltip): {\r\n        init: () => any,\r\n        destroy: () => any,\r\n    }\r\n}\r\n\r\nexport const PlainTooltipTriggers: { [k: string]: PlainTooltipTriggerType } = {\r\n    /*手动控制*/\r\n    manual: () => ({init: () => null, destroy: () => null}),\r\n    /*总是显示*/\r\n    always: (ins) => ({\r\n        init: () => ins.show(),\r\n        destroy: () => null\r\n    }),\r\n    /*target获取焦点的时候显示*/\r\n    focus: ins => {\r\n        const {reference} = ins.config\r\n        const handler = {focus: () => ins.show(), blur: () => ins.hide()}\r\n        return ({\r\n            init() {\r\n                reference.addEventListener('focus', handler.focus)\r\n                reference.addEventListener('blur', handler.blur)\r\n            },\r\n            destroy() {\r\n                reference.removeEventListener('focus', handler.focus)\r\n                reference.removeEventListener('blur', handler.blur)\r\n            },\r\n        })\r\n    },\r\n    /*target被点击的时候切换显示*/\r\n    click: ins => {\r\n        const {config: {reference}, state: {contentEl}} = ins\r\n        const handler = {\r\n            clickReference: ins.toggle,\r\n            clickBody: (e: MouseEvent) => {\r\n                if (reference.contains(e.target as Node)) {\r\n                    /*点击了reference*/\r\n                    return\r\n                }\r\n                if (contentEl!.contains(e.target as Node)) {\r\n                    /*点击了content*/\r\n                    return\r\n                }\r\n                ins.hide()\r\n            }\r\n        }\r\n        return ({\r\n            init() {\r\n                reference.addEventListener('click', handler.clickReference)\r\n                window.addEventListener('click', handler.clickBody)\r\n            },\r\n            destroy() {\r\n                reference.removeEventListener('click', handler.clickReference)\r\n                window.removeEventListener('click', handler.clickBody)\r\n            },\r\n        })\r\n    },\r\n    /*鼠标选择在target上时显示*/\r\n    hover: ins => {\r\n\r\n        const {config: {reference, hoverDelay}, state: {contentEl}, show, hide} = ins\r\n\r\n        let closeTimer: number | undefined;\r\n        let openTimer: number | undefined;\r\n\r\n\r\n        const handler = {\r\n            reference: {\r\n                enter: () => {\r\n                    if (!!closeTimer) {\r\n                        clearTimeout(closeTimer)\r\n                        closeTimer = undefined\r\n                    }\r\n                    openTimer = setTimeout(() => {\r\n                        show()\r\n                        openTimer = undefined\r\n                    }, hoverDelay)\r\n                },\r\n                leave: () => {\r\n                    if (!!openTimer) {\r\n                        clearTimeout(openTimer)\r\n                        openTimer = undefined\r\n                    }\r\n                    closeTimer = setTimeout(() => {\r\n                        hide()\r\n                        closeTimer = undefined\r\n                    }, hoverDelay)\r\n                },\r\n            },\r\n            popper: {\r\n                enter: () => {\r\n                    if (!!closeTimer) {\r\n                        clearTimeout(closeTimer)\r\n                        closeTimer = undefined\r\n                    }\r\n                    openTimer = setTimeout(() => {\r\n                        show()\r\n                        openTimer = undefined\r\n                    }, hoverDelay)\r\n                },\r\n                leave: () => {\r\n                    if (!!openTimer) {\r\n                        clearTimeout(openTimer)\r\n                        openTimer = undefined\r\n                    }\r\n                    closeTimer = setTimeout(() => {\r\n                        hide()\r\n                        closeTimer = undefined\r\n                    }, hoverDelay)\r\n                },\r\n            },\r\n        }\r\n\r\n        return {\r\n            init() {\r\n                reference.addEventListener('mouseenter', handler.reference.enter)\r\n                reference.addEventListener('mouseleave', handler.reference.leave)\r\n                contentEl!.addEventListener('mouseenter', handler.popper.enter)\r\n                contentEl!.addEventListener('mouseleave', handler.popper.leave)\r\n            },\r\n            destroy() {\r\n                reference.removeEventListener('mouseenter', handler.reference.enter)\r\n                reference.removeEventListener('mouseleave', handler.reference.leave)\r\n                contentEl!.removeEventListener('mouseenter', handler.popper.enter)\r\n                contentEl!.removeEventListener('mouseleave', handler.popper.leave)\r\n            },\r\n        }\r\n    },\r\n}\r\n\r\n/**\r\n * 添加class\r\n * @author 韦胜健\r\n * @date 2018/11/19\r\n */\r\nexport const addClass = (el: HTMLElement, addCLs: string | string[]): void => {\r\n    if (!el || !addCLs) return;\r\n    let addClasses;\r\n    if (Array.isArray(addCLs)) {\r\n        addClasses = addCLs\r\n    } else {\r\n        addClasses = (addCLs as string).split(' ')\r\n    }\r\n    if (!!el.classList && !!el.classList.value) {\r\n        addClasses.forEach(item => el.classList.add(item))\r\n    } else {\r\n        const curClasses = (el.className || '').split(' ')\r\n        addClasses.forEach(item => {\r\n            if (curClasses.indexOf(item) === -1) curClasses.push(item)\r\n        })\r\n        el.className = curClasses.join(' ')\r\n    }\r\n}\r\n\r\nexport const createPlainTooltipPopper = (() => {\r\n    let cache: {\r\n        popper: HTMLElement,\r\n        content: HTMLElement,\r\n        arrow: HTMLElement,\r\n    };\r\n\r\n    return () => {\r\n        if (!cache) {\r\n            let popperEl = document.createElement('div')\r\n            addClass(popperEl, 'plain-popper')\r\n\r\n            let contentEl = document.createElement('div') as HTMLElement\r\n            addClass(contentEl, 'plain-popper-content')\r\n            popperEl.appendChild(contentEl)\r\n\r\n            Object.assign(contentEl.style, {\r\n                borderRadius: '2px',\r\n                transition: `all 300ms cubic-bezier(0.23, 1, 0.32, 1)`,\r\n                padding: '8px 12px',\r\n                boxSizing: 'border-box',\r\n                boxShadow: '0 0 10px 2px rgba(0, 0, 0, 0.15)',\r\n                fontSize: '12px',\r\n                maxWidth: '500px',\r\n                zIndex: '999',\r\n            } as StyleType)\r\n\r\n            let arrowEl = document.createElement('div') as HTMLElement;\r\n            addClass(arrowEl, 'plain-popper-arrow');\r\n            contentEl.appendChild(arrowEl);\r\n\r\n            cache = {\r\n                popper: popperEl,\r\n                content: contentEl,\r\n                arrow: arrowEl,\r\n            }\r\n        }\r\n\r\n        const popper = cache.popper.cloneNode(true) as HTMLElement\r\n        const content = popper.querySelector('.plain-popper-content') as HTMLElement\r\n        const arrow = content.querySelector('.plain-popper-arrow') as HTMLElement\r\n\r\n        return {\r\n            popper,\r\n            content,\r\n            arrow,\r\n        }\r\n    }\r\n})()","import {createPlainTooltipPopper, PlainTooltipAnimate, PlainTooltipAnimates, PlainTooltipAnimateType, PlainTooltipConfig, PlainTooltipTheme, PlainTooltipThemes, PlainTooltipTrigger, PlainTooltipTriggers, PlainTooltipTriggerType} from \"./PlainTooltipUtils\";\r\nimport {PlainPopper} from \"./PlainPopper\";\r\n\r\nexport class PlainTooltip {\r\n\r\n    state = {\r\n        isMounted: false,                                   // 当前是否已经将 popperElement 添加到文档\r\n        isShow: false,                                      // 当前是否已经显示\r\n\r\n        contentEl: null as null | HTMLElement,              // content节点\r\n        popperEl: null as null | HTMLElement,               // popper节点\r\n        popper: null as null | PlainPopper,                 // new PlainPopper()得到的对象实例\r\n        animate: null as null | PlainTooltipAnimateType,    // 动画\r\n        trigger: null as null | ReturnType<PlainTooltipTriggerType>,    // 触发器\r\n\r\n        onContentTransitionEnd: null as null | Function,    // 监听动画结束后的动作\r\n    }\r\n\r\n    constructor(public config: PlainTooltipConfig) {\r\n        (config.removeOnHide == null && (config.removeOnHide = true));\r\n        (config.theme == null && (config.theme = PlainTooltipTheme.dark));\r\n        (config.animate == null && (config.animate = PlainTooltipAnimate.scale));\r\n        (config.trigger == null && (config.trigger = PlainTooltipTrigger.hover));\r\n        (config.placement == null && (config.placement = 'top'));\r\n        (config.hoverDelay == null && (config.hoverDelay = 100));\r\n\r\n        const {\r\n            reference,\r\n            offset,\r\n            boundary,\r\n            placement,\r\n            arrowSize,\r\n            gpuAcceleration,\r\n            padding,\r\n        } = config\r\n\r\n        const {popper, content} = createPlainTooltipPopper()\r\n\r\n        if (typeof config.content === 'string') {\r\n            const textEl = document.createElement('span')\r\n            textEl.innerHTML = config.content\r\n            content.appendChild(textEl)\r\n        } else {\r\n            content.appendChild(config.content)\r\n        }\r\n\r\n        this.state.contentEl = content\r\n        this.state.popperEl = popper\r\n\r\n        /*theme*/\r\n        if (!PlainTooltipThemes[config.theme!]) {\r\n            throw new Error(`PlainTooltip: Can not recognise theme:${config.theme}`)\r\n        }\r\n        PlainTooltipThemes[config.theme!]({\r\n            content: this.state.contentEl!,\r\n            popper: this.state.popperEl!,\r\n        });\r\n\r\n        /*animate*/\r\n        if (!PlainTooltipAnimates[config.animate!]) {\r\n            throw new Error(`PlainTooltip: Can not recognise animate:${config.animate}`)\r\n        }\r\n        this.state.animate = PlainTooltipAnimates[config.animate!]\r\n        this.hide()\r\n\r\n        /*trigger*/\r\n        if (!PlainTooltipTriggers[config.trigger!]) {\r\n            throw new Error(`PlainTooltip: Can not recognise trigger:${config.trigger}`)\r\n        }\r\n        this.state.trigger = PlainTooltipTriggers[config.trigger!](this)\r\n\r\n        /*popper*/\r\n        this.state.popper = new PlainPopper({\r\n            popper,\r\n\r\n            reference,\r\n            offset,\r\n            boundary,\r\n            placement,\r\n            arrowSize,\r\n            gpuAcceleration,\r\n            padding,\r\n        })\r\n\r\n        content.addEventListener('transitionend', this.handler.onContentTransitionEnd)\r\n        this.state.trigger.init()\r\n    }\r\n\r\n    handler = {\r\n        onContentTransitionEnd: (e) => {\r\n            !!this.state.onContentTransitionEnd && this.state.onContentTransitionEnd(e)\r\n        }\r\n    }\r\n\r\n    show = () => {\r\n        if (!this.state.isMounted) {\r\n            document.body.appendChild(this.state.popperEl!)\r\n            this.state.isMounted = true\r\n            this.state.popper!.refresh()\r\n        }\r\n        Object.assign(this.state.contentEl!.style, this.state.animate!.show)\r\n        this.state.isShow = true\r\n        this.state.onContentTransitionEnd = null\r\n    }\r\n\r\n    hide = () => {\r\n        Object.assign(this.state.contentEl!.style, this.state.animate!.hide)\r\n        this.state.isShow = false\r\n        this.state.onContentTransitionEnd = () => {\r\n            if (!!this.config.removeOnHide && this.state.isMounted) {\r\n                document.body.removeChild(this.state.popperEl!)\r\n                this.state.isMounted = false\r\n            }\r\n            this.state.onContentTransitionEnd = null\r\n        }\r\n    }\r\n\r\n    toggle = () => {\r\n        this.state.isShow ? this.hide() : this.show()\r\n    }\r\n\r\n\r\n    destroy = () => {\r\n        this.state.trigger!.destroy()\r\n        this.state.contentEl!.removeEventListener('transitionend', this.handler.onContentTransitionEnd)\r\n        if (this.state.isMounted) document.body.removeChild(this.state.popperEl!)\r\n        this.state.popper!.destroy()\r\n    }\r\n\r\n}","import {reactive, set, UnwrapRef} from \"@vue/composition-api\";\r\n\r\nexport function createFlagManager<T = boolean>() {\r\n    return {\r\n        state: reactive({\r\n            map: {} as { [k: string]: T }\r\n        }),\r\n        get(key: string) {\r\n            return this.state.map[key]\r\n        },\r\n        set(key: string, val: UnwrapRef<T>) {\r\n            if (this.state.map.hasOwnProperty(key)) {\r\n                this.state.map[key] = val\r\n            } else {\r\n                set(this.state.map, key, val)\r\n            }\r\n        },\r\n        getActiveKeys(): string[] {\r\n            const keys: string[] = []\r\n            for (let key in this.state.map) {\r\n                if (this.state.map.hasOwnProperty(key) && !!this.state.map[key]) {\r\n                    keys.push(key)\r\n                }\r\n            }\r\n            return keys\r\n        }\r\n    }\r\n}","import {TableCheckStatus} from \"@/packages/table/table-utils\";\r\nimport {TableConfig, TableMark} from \"@/packages/table/table/TableMark\";\r\nimport {set} from \"@vue/composition-api\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {getValidateConfigData, validateAsync, ValidateResultMap} from \"@/packages/form/validate\";\r\n\r\nexport class TableNode {\r\n\r\n    /**\r\n     * 构造函数中标记的成员变量都是初始化之后就不可变的，而 TableMark中标记的变量是动态可变的\r\n     * @author  韦胜健\r\n     * @date    2020/6/16 16:07\r\n     */\r\n    constructor(\r\n        public key: string,\r\n        public data: object,\r\n        public level: number,\r\n        public isSummaryData: boolean,\r\n        public config: () => TableConfig,\r\n        public parentRef: () => TableNode,\r\n        public markRef: () => TableMark,\r\n        public getRules: () => ReturnType<typeof getValidateConfigData>,\r\n    ) {\r\n        // 触发 this.mark.getNode 获取子节点，使得所有的node都记录在mark中；\r\n        this.children;\r\n    }\r\n\r\n    index!: number\r\n    selfGetter = () => this;\r\n\r\n    // 树形表格：子节点数据\r\n    get childrenData() {return !!this.config().childrenField && !!this.data ? this.data[this.config().childrenField!] : undefined}\r\n\r\n    // 树形表格：子节点对象\r\n    get children() {return !this.childrenData ? undefined : this.childrenData.map(child => this.markRef().node.get(child, this.level + 1, this.selfGetter, this.isSummaryData))}\r\n\r\n    /*---------------------------------------mark attrs-------------------------------------------*/\r\n    /*@formatter:off*/\r\n    // 树形表格：当前是否已经展开\r\n    get isExpand(): boolean {return this.markRef().expand.get(this.key)}\r\n    // 树形表格：当前是否选中\r\n    get isCheck(): boolean {return this.markRef().check.get(this.key)}\r\n    // 树形表格：当前是否正在加载子节点数据\r\n    get isLoading(): boolean {return this.markRef().loading.get(this.key)}\r\n    // 树形表格：当前子节点数据是否已经加载完毕\r\n    get isLoaded(): boolean {return this.markRef().loaded.get(this.key)}\r\n    // 树形表格：当前行是否可选中\r\n    get isCheckable(): boolean {return !this.config().isCheckable || this.config().isCheckable!(this)}\r\n    // 树形表格：当前行是否为叶子节点\r\n    get isLeaf(): boolean {return !!this.config().isLeaf ? this.config().isLeaf!(this) : (!this.children || this.children.length === 0)}\r\n    // 树形表格：当前行是否可见\r\n    get isVisible(): boolean {\r\n        const {filterNodeMethod} = this.config()\r\n        if (!filterNodeMethod) {\r\n            return true\r\n        }\r\n        let visible = filterNodeMethod(this)\r\n        if (visible) {\r\n            return true\r\n        } else {\r\n            return (this.children || []).some(child => child.isVisible)\r\n        }\r\n    }\r\n    // 树形表格：当前选中状态：选中、未选中、半选中\r\n    get checkStatus(): TableCheckStatus {\r\n\r\n        if (this.isLeaf || this.config().checkStrictly) {\r\n            // 叶子节点或者父子互不关联情况下，节点只有选中以及非选中的状态，不会处于半选中状态\r\n            return this.isCheck ? TableCheckStatus.check : TableCheckStatus.uncheck\r\n        } else {\r\n            // 当前已经选中，则处于选中状态\r\n            if (this.isCheck) return TableCheckStatus.check\r\n\r\n            // 当前未选中，判断子节点是否全部都是未选中状态，是则自身为未选中状态，否则为半选中状态\r\n            if ((this.children || []).every(child => child.checkStatus === 'uncheck')) {\r\n                return TableCheckStatus.uncheck\r\n            } else {\r\n                return TableCheckStatus.minus\r\n            }\r\n        }\r\n    }\r\n    // 树形表格：拖拽指示器的左偏移距离\r\n    get indicatorLeft() {\r\n        let left = 60 * (this.level - 1)\r\n        if (this.isLeaf && !this.isLoading) {\r\n            left += 18\r\n        }\r\n        return left\r\n    }\r\n\r\n    // 当前是否处于行编辑状态\r\n    get isEdit(): boolean {return this.markRef().edit.get(this.key)}\r\n    // 当前行编辑数据对象\r\n    get editRow(): object {return this.markRef().editRow.get(this.key)}\r\n    set editRow(val: object) {this.markRef().editRow.set(this.key,val)}\r\n    // 当前行的校验结果\r\n    get validateResult() {return this.markRef().validateResult.get(this.key) as ValidateResultMap}\r\n    set validateResult(val: ValidateResultMap) {this.markRef().validateResult.set(this.key,val)}\r\n    /*@formatter:on*/\r\n\r\n    /*---------------------------------------methods-------------------------------------------*/\r\n\r\n    loading(val: boolean) {\r\n        this.markRef().loading.set(this.key, val)\r\n    }\r\n\r\n    loaded(val: boolean) {\r\n        this.markRef().loaded.set(this.key, val)\r\n    }\r\n\r\n\r\n    /**\r\n     * 选中/取消选中 当前节点\r\n     * @author  韦胜健\r\n     * @date    2020/4/1 22:37\r\n     */\r\n    check(val: boolean) {\r\n        if (!this.isCheckable) return\r\n        this.markRef().check.set(this.key, val)\r\n    }\r\n\r\n    /**\r\n     * 展开/收起当前节点\r\n     * @author  韦胜健\r\n     * @date    2020/5/12 9:47\r\n     */\r\n    expand(val: boolean) {\r\n        if (this.isLeaf) return\r\n        this.markRef().expand.set(this.key, val)\r\n    }\r\n\r\n    /**\r\n     * 设置子节点数据\r\n     * @author  韦胜健\r\n     * @date    2020/4/3 0:09\r\n     */\r\n    setChildren(children: object[]) {\r\n        set(this.data, this.config().childrenField, children)\r\n    }\r\n\r\n    /**\r\n     * 获取子节点数据\r\n     * @author  韦胜健\r\n     * @date    2020/8/6 20:54\r\n     */\r\n    getReactiveChildrenData(): object[] {\r\n        let childrenData = this.childrenData\r\n        if (!childrenData) {\r\n            childrenData = []\r\n            this.setChildren(childrenData)\r\n        }\r\n        return childrenData\r\n    }\r\n\r\n    /**\r\n     * 在当前节点的父节点子数据中，移除当前节点数据\r\n     * @author  韦胜健\r\n     * @date    2020/8/6 20:55\r\n     */\r\n    removeSelf() {\r\n        const parentChildrenData = this.parentRef().childrenData\r\n        parentChildrenData.splice(parentChildrenData.indexOf(this.data), 1)\r\n    }\r\n\r\n    /**\r\n     * 将节点移动至当前节点的前置节点\r\n     * @author  韦胜健\r\n     * @date    2020/8/6 20:55\r\n     */\r\n    previousSibling(treeNode: TableNode) {\r\n        let parentChildrenData = this.parentRef().getReactiveChildrenData()\r\n        treeNode.parentRef = this.parentRef\r\n        treeNode.level = this.level\r\n        parentChildrenData.splice(parentChildrenData.indexOf(this.data), 0, treeNode.data)\r\n    }\r\n\r\n    /**\r\n     * 移动节点至当前节点的后置节点\r\n     * @author  韦胜健\r\n     * @date    2020/8/6 20:56\r\n     */\r\n    nextSibling(treeNode: TableNode) {\r\n        let parentChildrenData = this.parentRef().getReactiveChildrenData()\r\n        treeNode.parentRef = this.parentRef\r\n        treeNode.level = this.level\r\n        parentChildrenData.splice(parentChildrenData.indexOf(this.data) + 1, 0, treeNode.data)\r\n    }\r\n\r\n    /**\r\n     * 添加节点为当前节点的子节点中\r\n     * @author  韦胜健\r\n     * @date    2020/8/6 20:56\r\n     */\r\n    unshiftChild(treeNode: TableNode) {\r\n        let childrenData = this.getReactiveChildrenData()\r\n        treeNode.parentRef = () => this\r\n        treeNode.level = this.level + 1\r\n        childrenData.unshift(treeNode.data)\r\n    }\r\n\r\n    /*---------------------------------------table edit-------------------------------------------*/\r\n\r\n    /**\r\n     * 开启编辑状态\r\n     * @author  韦胜健\r\n     * @date    2020/8/6 20:56\r\n     */\r\n    openEdit() {this.markRef().edit.set(this.key, true)}\r\n\r\n    /**\r\n     * 关闭编辑状态\r\n     * @author  韦胜健\r\n     * @date    2020/8/6 20:56\r\n     */\r\n    closeEdit() {this.markRef().edit.set(this.key, false)}\r\n\r\n    /**\r\n     * 开启编辑，当前行的editRow对象将被重置为行数据的一份拷贝\r\n     * 并且重新校验\r\n     * @author  韦胜健\r\n     * @date    2020/8/6 20:57\r\n     */\r\n    enableEdit() {\r\n        if (this.isEdit) {return}\r\n        this.editRow = $plain.utils.deepcopy(this.data)\r\n        this.openEdit()\r\n        this.validate()\r\n    }\r\n\r\n    /**\r\n     * 取消编辑\r\n     * @author  韦胜健\r\n     * @date    2020/8/6 20:57\r\n     */\r\n    cancelEdit() {\r\n        if (!this.isEdit) {\r\n            return\r\n        }\r\n        // this.editRow = $plain.utils.deepcopy(this.data)\r\n        this.closeEdit()\r\n    }\r\n\r\n    /**\r\n     * 校验当前编辑行数据\r\n     * @author  韦胜健\r\n     * @date    2020/8/7 22:05\r\n     */\r\n    async validate() {\r\n        if (!this.validateResult) {\r\n            this.validateResult = {}\r\n        }\r\n        let {editRow, validateResult, getRules} = this\r\n        const {allRules} = getRules()\r\n        const validate = await validateAsync({\r\n            validateResult,\r\n            rules: allRules,\r\n            formData: editRow,\r\n        })\r\n        return !!validate ? {\r\n            ...validate,\r\n            rowData: this\r\n        } : null\r\n    }\r\n\r\n    /**\r\n     * 保存编辑，当前行的row数据对象将被重置为editRow的一份拷贝\r\n     * @author  韦胜健\r\n     * @date    2020/8/6 20:58\r\n     */\r\n    async saveEdit() {\r\n        if (!this.isEdit) {\r\n            return\r\n        }\r\n        const {data, editRow} = this\r\n        Object.keys({...data, ...editRow}).forEach(key => set(this.data, key, editRow[key] || null))\r\n    }\r\n}","import {computed, ref, watch} from \"@vue/composition-api\";\r\n\r\nexport type ModelType = { value: any }\r\n\r\n/**\r\n * 双向绑定值组合函数\r\n * @author  韦胜健\r\n * @date    2020/5/14 10:23\r\n */\r\nexport function useModel<T>(getter: () => T, emitter: (...args: any[]) => void, autoEmit = true, autoWatch = true, onChange?: (val: T) => void): { value: T } {\r\n\r\n    const state = ref(getter())\r\n\r\n    if (autoWatch) {\r\n        watch(\r\n            getter,\r\n            (val: any) => {\r\n                if (val != state.value) {\r\n                    !!onChange && onChange(val);\r\n                    state.value = val\r\n                }\r\n            }\r\n        )\r\n    }\r\n\r\n    const computedState = computed({\r\n        get: () => state.value as (T | null),\r\n        set: (val: any) => {\r\n            state.value = val\r\n            if (autoEmit) {\r\n                emitter(state.value)\r\n            }\r\n        },\r\n    })\r\n    // @ts-ignore\r\n    return computedState\r\n}","import {PlcType} from \"@/packages/table/plc/plc\";\r\nimport {TableNode} from \"@/packages/table/table/TableNode\";\r\nimport {StyleType} from \"@/types/utils\";\r\nimport {PlainUtils} from \"@/util/util\";\r\nimport {PlcGroupType} from \"@/packages/table/plc/plc-group\";\r\n\r\n/**\r\n * plc组属性\r\n * @author  韦胜健\r\n * @date    2020/8/14 17:25\r\n */\r\nexport const PlcGroupProps = {\r\n    title: {type: String},                                                  // 列标题\r\n    align: {type: String, default: 'left'},                                 // 非编辑状态下文本对其方式\r\n    noPadding: {type: Boolean},                                             // 是否不兼容表格的虚拟滚动功能\r\n    colDraggable: {type: Boolean, default: null},                           // 列是否可以拖拽排序\r\n\r\n    hide: {type: Boolean},                                                  // 是否隐藏\r\n    order: {type: Number},                                                  // 列排序\r\n    fixed: {type: String, default: 'center'},                               // 冻结列位置：left、right、undefined\r\n    autoFixedLeft: {type: Boolean},                                         // 当出现左固定列的时候，是否自动设置为左固定列\r\n    autoFixedRight: {type: Boolean},                                        // 当出现右固定列的时候，是否自动设置为右固定列\r\n}\r\n\r\n/**\r\n * plc属性\r\n * @author  韦胜健\r\n * @date    2020/8/14 17:25\r\n */\r\nexport const PlcProps = {\r\n\r\n    // 基础属性\r\n    ...PlcGroupProps,\r\n    field: {type: String},                                                  // 列绑定字段\r\n    width: {type: [String, Number], default: '120'},                        // 列宽度\r\n    fit: {type: Number, default: 0},                                        // 当列不满表格宽度时，该列所占剩下宽度的权重\r\n    notFitVirtual: {type: Boolean},                                         // 是否不兼容表格的虚拟滚动功能\r\n\r\n    // 渲染函数\r\n    head: Function,                                                 // 列标题渲染函数\r\n    default: Function,                                              // 列内容默认渲染函数\r\n    summary: Function,                                              // 列内容在合计行上的渲染函数\r\n    edit: Function,                                                 // 列内容在编辑状态下的渲染函数\r\n    renderAfterRow: Function,                                       // 行之后需要额外渲染的内容\r\n\r\n    // 编辑相关\r\n    required: {type: Boolean},                                              // 是否必填\r\n    rules: {type: [Object, Array]},                                         // 校验规则\r\n    editable: {type: [Boolean, Function], default: true},                   // 是否可编辑\r\n    addEditPadding: {type: Boolean},                                        // 处于编辑状态的时候，是否添加内编辑，只有当行状态为编辑状态，并且列有edit渲染函数或者作用域插槽时，才符合“处于编辑状态”的条件\r\n\r\n    // search: {type: Boolean, default: true},                              // 可查询\r\n    // searchType: {type: String, default: 'input'},                        // 查询类型\r\n    // searchField: {type: String},                                         // 查询字段\r\n    // sort: {type: Boolean, default: true},                                // 可排序\r\n    // sortField: {type: String},                                           // 排序字段\r\n\r\n    // formatter: Function,                                         // 文本格式化函数，支持异步格式化\r\n    // linkText: {type: Boolean},                                           // 是否以超链接的形式展示文本，并且点击的时候回派发事件\r\n}\r\n\r\nexport const PLC_COLLECTOR = '@@PLC_COLLECTOR'\r\n\r\n/**\r\n * plc组件类型，有列和组两种\r\n * @author  韦胜健\r\n * @date    2020/8/14 17:25\r\n */\r\nexport const enum PlcComponentType {\r\n    PLC = 'PLC',\r\n    GROUP = 'GROUP',\r\n}\r\n\r\n/**\r\n * plc的固定类型，左中右\r\n * @author  韦胜健\r\n * @date    2020/8/14 17:25\r\n */\r\nexport const enum PlcFixedType {\r\n    left = 'left',\r\n    center = 'center',\r\n    right = 'right',\r\n}\r\n\r\n/**\r\n * plc的对其类型\r\n * @author  韦胜健\r\n * @date    2020/8/14 17:25\r\n */\r\nexport const enum PlcAlign {\r\n    left = 'left',\r\n    center = 'center',\r\n    right = 'right'\r\n}\r\n\r\n/**\r\n * plc组件的一些公共数据\r\n * @author  韦胜健\r\n * @date    2020/8/14 17:26\r\n */\r\nexport const PlcComponentPublicData = {\r\n    level: 0,\r\n    rowspan: 1,\r\n    colspan: 1,\r\n    fixedPosition: {\r\n        left: 0,\r\n        right: 0,\r\n    },\r\n    isLastFixedLeft: false,\r\n    isFirstFixedRight: false,\r\n    styles: {\r\n        head: {\r\n            cell: {},\r\n            innerCell: {},\r\n        },\r\n        body: {\r\n            cell: {},\r\n            innerCell: {},\r\n        },\r\n    },\r\n    classes: {\r\n        head: {\r\n            cell: {},\r\n            innerCell: {},\r\n        },\r\n        body: {\r\n            cell: {},\r\n            innerCell: {},\r\n        },\r\n    },\r\n} as {\r\n    level?: number,                     // 分组表头层级\r\n    rowspan?: number,                   // 表头td的rowspan\r\n    colspan?: number,                   // 表头td的colspan\r\n    fixedPosition: {                    // 固定列的sticky位置\r\n        left: number,\r\n        right: number,\r\n    },\r\n    isLastFixedLeft: boolean,           // 是否为最后一个左固定列\r\n    isFirstFixedRight: boolean,         // 是否为第一个右固定列\r\n\r\n    // 列style公共内联样式\r\n    styles: {\r\n        head: {\r\n            cell: StyleType,\r\n            innerCell: StyleType,\r\n        },\r\n        body: {\r\n            cell: StyleType,\r\n            innerCell: StyleType,\r\n        },\r\n    },\r\n    // 列公共class样式\r\n    classes: {\r\n        head: {\r\n            cell: any,\r\n            innerCell: any,\r\n        },\r\n        body: {\r\n            cell: any,\r\n            innerCell: any,\r\n        },\r\n    },\r\n}\r\n\r\nexport function getCellClass(plc: PlcType | PlcGroupType, rowData?: TableNode) {\r\n    return [\r\n        `plt-cell-align-${plc.props.align || PlcAlign.left}`,\r\n        {\r\n            'pl-cell-group': plc.type === PlcComponentType.GROUP,\r\n        }\r\n    ]\r\n}\r\n\r\n/**\r\n * 是否可以使用sticky定位\r\n * @author  韦胜健\r\n * @date    2020/8/15 23:58\r\n */\r\nexport const stickyFlag = !PlainUtils.ie || PlainUtils.ie === 'edge'","export class KeyGenerator {\r\n\r\n    map = new WeakMap<any, string>()\r\n    count = 1\r\n\r\n    constructor(public prefixKeyString: string) {}\r\n\r\n    get(data: any, keyField?: string): string {\r\n        if (!!keyField) {\r\n            return data[keyField]\r\n        }\r\n        const key = this.map.get(data)\r\n        if (!!key) {\r\n            return key\r\n        } else {\r\n            const key = `${this.prefixKeyString}_${this.count++}`\r\n            this.map.set(data, key)\r\n            return key\r\n        }\r\n    }\r\n\r\n}","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./demo-row.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./demo-row.vue?vue&type=style&index=0&lang=scss&\"","var map = {\n\t\"./page/form/form-blur.vue\": [\n\t\t\"d1d7\",\n\t\t\"chunk-2d21da56\"\n\t],\n\t\"./page/form/form-edit-control.vue\": [\n\t\t\"234d\",\n\t\t\"chunk-2d0b21a7\"\n\t],\n\t\"./page/form/form-elements.vue\": [\n\t\t\"84a5\",\n\t\t\"chunk-2d0de4e6\"\n\t],\n\t\"./page/form/form-multi-column.vue\": [\n\t\t\"2cfe\",\n\t\t\"chunk-3791672c\"\n\t],\n\t\"./page/form/form-size.vue\": [\n\t\t\"1baf\",\n\t\t\"chunk-2d0b632c\"\n\t],\n\t\"./page/form/form-validate-mode.vue\": [\n\t\t\"510b\",\n\t\t\"chunk-ba938e62\"\n\t],\n\t\"./page/form/form-validate.vue\": [\n\t\t\"cbfd\",\n\t\t\"chunk-2d221e53\"\n\t],\n\t\"./page/form/form.vue\": [\n\t\t\"4b38\",\n\t\t\"chunk-0f8c8052\"\n\t],\n\t\"./page/normal/alert.vue\": [\n\t\t\"3b0a\",\n\t\t\"chunk-41386d68\"\n\t],\n\t\"./page/normal/badge.vue\": [\n\t\t\"f740\",\n\t\t\"chunk-3a8e642a\"\n\t],\n\t\"./page/normal/button.vue\": [\n\t\t\"e886\",\n\t\t\"chunk-6b9ff122\"\n\t],\n\t\"./page/normal/card.vue\": [\n\t\t\"ea52\",\n\t\t\"chunk-2d22fd2f\"\n\t],\n\t\"./page/normal/carousel.vue\": [\n\t\t\"f918\",\n\t\t\"chunk-94bb07ec\"\n\t],\n\t\"./page/normal/cascade.vue\": [\n\t\t\"7762\",\n\t\t\"chunk-2d0d7692\"\n\t],\n\t\"./page/normal/checkbox.vue\": [\n\t\t\"7eb5\",\n\t\t\"chunk-b9cb752c\"\n\t],\n\t\"./page/normal/collapse.vue\": [\n\t\t\"41dd\",\n\t\t\"chunk-73399709\"\n\t],\n\t\"./page/normal/color-picker.vue\": [\n\t\t\"dbae\",\n\t\t\"chunk-2d229218\"\n\t],\n\t\"./page/normal/color.vue\": [\n\t\t\"23ed\",\n\t\t\"chunk-0c9c6444\"\n\t],\n\t\"./page/normal/date.vue\": [\n\t\t\"3f94\",\n\t\t\"chunk-2d0c55e4\"\n\t],\n\t\"./page/normal/dialog.vue\": [\n\t\t\"52d1\",\n\t\t\"chunk-8ff6c9ba\"\n\t],\n\t\"./page/normal/dropdown.vue\": [\n\t\t\"4299\",\n\t\t\"chunk-5681fd8c\"\n\t],\n\t\"./page/normal/fillet-corner.vue\": [\n\t\t\"660c\",\n\t\t\"chunk-2f950ef1\"\n\t],\n\t\"./page/normal/grid.vue\": [\n\t\t\"391e\",\n\t\t\"chunk-61916f9f\"\n\t],\n\t\"./page/normal/icon.vue\": [\n\t\t\"fa5a\",\n\t\t\"chunk-64dd2fb4\"\n\t],\n\t\"./page/normal/input.vue\": [\n\t\t\"0a0f\",\n\t\t\"chunk-65cbffb9\"\n\t],\n\t\"./page/normal/list.vue\": [\n\t\t\"d884\",\n\t\t\"chunk-2c54bb3f\"\n\t],\n\t\"./page/normal/loading.vue\": [\n\t\t\"9427\",\n\t\t\"chunk-7337b4e0\"\n\t],\n\t\"./page/normal/number.vue\": [\n\t\t\"e40f\",\n\t\t\"chunk-a628f1ca\"\n\t],\n\t\"./page/normal/pagination.vue\": [\n\t\t\"d6bf\",\n\t\t\"chunk-79a2612b\"\n\t],\n\t\"./page/normal/popover.vue\": [\n\t\t\"5aec\",\n\t\t\"chunk-2d0d3160\"\n\t],\n\t\"./page/normal/popper.bak.vue\": [\n\t\t\"bc61\",\n\t\t\"chunk-0bec17d0\"\n\t],\n\t\"./page/normal/popper.vue\": [\n\t\t\"50e4\",\n\t\t\"chunk-7bcace36\"\n\t],\n\t\"./page/normal/portal.vue\": [\n\t\t\"6fa3\",\n\t\t\"chunk-a052ac44\"\n\t],\n\t\"./page/normal/progress.vue\": [\n\t\t\"5fee\",\n\t\t\"chunk-2d0d4427\"\n\t],\n\t\"./page/normal/radio.vue\": [\n\t\t\"850e\",\n\t\t\"chunk-38cb4b6f\"\n\t],\n\t\"./page/normal/rate.vue\": [\n\t\t\"8dae\",\n\t\t\"chunk-5def7d30\"\n\t],\n\t\"./page/normal/scroll.vue\": [\n\t\t\"c069\",\n\t\t\"chunk-5cd01ee5\"\n\t],\n\t\"./page/normal/select.vue\": [\n\t\t\"b0b2\",\n\t\t\"chunk-2d20ed94\"\n\t],\n\t\"./page/normal/slider.vue\": [\n\t\t\"b5bf\",\n\t\t\"chunk-2d21008d\"\n\t],\n\t\"./page/normal/step.vue\": [\n\t\t\"0564\",\n\t\t\"chunk-0ff53625\"\n\t],\n\t\"./page/normal/tab-header.vue\": [\n\t\t\"d8fa\",\n\t\t\"chunk-a94bfeaa\"\n\t],\n\t\"./page/normal/tab.vue\": [\n\t\t\"a364\",\n\t\t\"chunk-2d207f26\"\n\t],\n\t\"./page/normal/tag.vue\": [\n\t\t\"7a44\",\n\t\t\"chunk-1c1cb294\"\n\t],\n\t\"./page/normal/test.vue\": [\n\t\t\"4e86\",\n\t\t\"chunk-2d0cc665\"\n\t],\n\t\"./page/normal/time.vue\": [\n\t\t\"c4b7\",\n\t\t\"chunk-2d2170fc\"\n\t],\n\t\"./page/normal/toggle.vue\": [\n\t\t\"e7ce\",\n\t\t\"chunk-d5a2d8a8\"\n\t],\n\t\"./page/normal/tooltip.vue\": [\n\t\t\"3ef6\",\n\t\t\"chunk-2d0c5798\"\n\t],\n\t\"./page/normal/tree.vue\": [\n\t\t\"cc10\",\n\t\t\"chunk-20e658ce\"\n\t],\n\t\"./page/normal/triangle.vue\": [\n\t\t\"66be\",\n\t\t\"chunk-643ae53d\"\n\t],\n\t\"./page/normal/virtual-list.vue\": [\n\t\t\"b7d9\",\n\t\t\"chunk-2d0ac37d\",\n\t\t\"chunk-6671bb63\"\n\t],\n\t\"./page/normal/virtual-tree-large-data.vue\": [\n\t\t\"7b98\",\n\t\t\"chunk-2d0e1860\"\n\t],\n\t\"./page/normal/virtual-tree.vue\": [\n\t\t\"2561\",\n\t\t\"chunk-f585f1c0\"\n\t],\n\t\"./page/service/dialog-service.vue\": [\n\t\t\"b55a\",\n\t\t\"chunk-ff26367e\"\n\t],\n\t\"./page/service/message-service.vue\": [\n\t\t\"dfa5\",\n\t\t\"chunk-2d22a0ec\"\n\t],\n\t\"./page/service/notice-service.vue\": [\n\t\t\"f98e\",\n\t\t\"chunk-16896880\"\n\t],\n\t\"./page/service/popper-service.vue\": [\n\t\t\"a6ac\",\n\t\t\"chunk-2d208fcd\"\n\t],\n\t\"./page/service/select-service.vue\": [\n\t\t\"f3e4\",\n\t\t\"chunk-2d22cab2\"\n\t],\n\t\"./page/sticky-table/demo-sticky-table.vue\": [\n\t\t\"98f4\",\n\t\t\"chunk-1dcfefb1\"\n\t],\n\t\"./page/sticky-table/demo-sticky.vue\": [\n\t\t\"256f\",\n\t\t\"chunk-2e5910ec\"\n\t],\n\t\"./page/sticky-table/pl-sticky-table.vue\": [\n\t\t\"fea3\",\n\t\t\"chunk-2d2385e7\"\n\t],\n\t\"./page/table/span/table-colspan.vue\": [\n\t\t\"e37e\",\n\t\t\"chunk-2d2250f2\"\n\t],\n\t\"./page/table/span/table-rowspan.vue\": [\n\t\t\"a96c\",\n\t\t\"chunk-2d2095db\"\n\t],\n\t\"./page/table/span/table-span.vue\": [\n\t\t\"8527\",\n\t\t\"chunk-1d377ae2\"\n\t],\n\t\"./page/table/table-base-test.vue\": [\n\t\t\"6261\",\n\t\t\"chunk-016d7063\"\n\t],\n\t\"./page/table/table-basic.vue\": [\n\t\t\"ea98\",\n\t\t\"chunk-1ba9a412\"\n\t],\n\t\"./page/table/table-class-style.vue\": [\n\t\t\"ebaa\",\n\t\t\"chunk-03eb6770\"\n\t],\n\t\"./page/table/table-col-draggable.vue\": [\n\t\t\"1dd4\",\n\t\t\"chunk-c98bdcf4\"\n\t],\n\t\"./page/table/table-columns.vue\": [\n\t\t\"4986\",\n\t\t\"chunk-5de751b4\"\n\t],\n\t\"./page/table/table-config.vue\": [\n\t\t\"14b3\",\n\t\t\"chunk-6183052d\"\n\t],\n\t\"./page/table/table-expand.vue\": [\n\t\t\"8d7e\",\n\t\t\"chunk-9f83b2e2\"\n\t],\n\t\"./page/table/table-fixed.vue\": [\n\t\t\"65fb\",\n\t\t\"chunk-0b64f936\"\n\t],\n\t\"./page/table/table-plc-editable.vue\": [\n\t\t\"01ee\",\n\t\t\"chunk-44c53870\"\n\t],\n\t\"./page/table/table-plc-scoped-slot.vue\": [\n\t\t\"36a5\",\n\t\t\"chunk-6062a724\"\n\t],\n\t\"./page/table/table-row-draggable.vue\": [\n\t\t\"f398\",\n\t\t\"chunk-e11a36c6\"\n\t],\n\t\"./page/table/tree/table-tree.vue\": [\n\t\t\"5048\",\n\t\t\"chunk-2bd70695\"\n\t],\n\t\"./page/table/tree/tree-table-virtual-draggable.vue\": [\n\t\t\"844d\",\n\t\t\"chunk-2d0ddfa2\"\n\t],\n\t\"./page/table/tree/tree-table-virtual.vue\": [\n\t\t\"7db6\",\n\t\t\"chunk-2d0e24d7\"\n\t],\n\t\"./page/table/virtual-table.vue\": [\n\t\t\"77c5\",\n\t\t\"chunk-2d0ac37d\",\n\t\t\"chunk-2d0d7c08\"\n\t],\n\t\"./page/test/test-canvas.vue\": [\n\t\t\"3a10\",\n\t\t\"chunk-d18424dc\"\n\t],\n\t\"./page/test/test-drag.vue\": [\n\t\t\"181c\",\n\t\t\"chunk-2d0abfaf\"\n\t],\n\t\"./page/test/test-filter.vue\": [\n\t\t\"5fcf\",\n\t\t\"chunk-2d0d43ea\"\n\t],\n\t\"./page/test/test-high.vue\": [\n\t\t\"c7bc\",\n\t\t\"chunk-2d217c6b\"\n\t],\n\t\"./page/test/test-list-draggier.vue\": [\n\t\t\"b648\",\n\t\t\"chunk-514483ee\"\n\t],\n\t\"./page/test/test-listener.vue\": [\n\t\t\"85d3\",\n\t\t\"chunk-2d0de902\"\n\t],\n\t\"./page/test/test-svg.vue\": [\n\t\t\"4544\",\n\t\t\"chunk-ea06f4ee\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"371f\";\nmodule.exports = webpackAsyncContext;","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","import {UseListDraggierType} from \"@/packages/table/plc-components/standard/draggier/composition/index\";\r\nimport {getRowEl, getScrollParent} from \"@/packages/table/plc-components/standard/draggier/composition/utils\";\r\nimport {useDraggierAutoScroller} from \"@/packages/table/plc-components/standard/draggier/composition/use-draggier-auto-scroller\";\r\n\r\n/**\r\n * 拖拽排序组合函数，适用于虚拟滚动版本的\r\n * @author  韦胜健\r\n * @date    2020/8/21 10:27\r\n */\r\nexport const useListDraggierWithVirtual: UseListDraggierType = (\r\n    {\r\n        rowClass,\r\n        onChange,\r\n    }) => {\r\n\r\n    const dragElHeight = 3\r\n\r\n    const state = {\r\n        startDragIndex: 0,                                              // 开始拖拽的时候，的行索引\r\n        endDragIndex: 0,                                                // 拖拽结束的时候，应该移动到的索引位置\r\n\r\n        startDragOffsetTop: 0,                                          // 开始拖拽的时候，dragEl距离top值（距离可以滚动的父组件的顶部距离）\r\n        startDragHeight: 0,                                             // 拖拽开始的时候，dragEl的高度，虚拟滚动情况下，认为所有row的高度都是一致的，所以这个相当于行高\r\n\r\n        startClientY: 0,                                                // 拖拽开始的时候鼠标位置\r\n        moveClientY: 0,                                                 // 拖拽移动的时候鼠标的位置\r\n\r\n        scrollParent: null as null | HTMLElement,                       // 可以滚动的父元素\r\n        startScrollTopOfScrollParent: 0,                                // 拖拽开始的时候，滚动父元素的滚动距离 \r\n        scrollTopOfScrollParent: 0,                              // 拖拽开始的时候，滚动父元素的滚动差值\r\n        scrollParentBoundingRect: {\r\n            top: 0,                                                     // 滚动父元素在页面上的top值\r\n            left: 0,                                                    // 滚动父元素在页面上的left值\r\n            width: 0,                                                   // 滚动父元素在页面上的显示宽度\r\n            height: 0,                                                  // 滚动父元素在页面上的显示高度\r\n        },\r\n\r\n        dragEl: null as null | HTMLElement,                             // 拖拽的时候，显示的标志元素\r\n    }\r\n\r\n    const autoScroll = useDraggierAutoScroller()\r\n\r\n    const utils = {\r\n        refresh() {\r\n            /*拖拽元素在scrollParent中的top值*/\r\n            const top = state.startDragOffsetTop + (state.moveClientY - state.startClientY) + (state.scrollTopOfScrollParent - state.startScrollTopOfScrollParent) + state.startDragHeight / 2\r\n\r\n            /*如果top处于目标index的上方，则index为目标index，在下方则为index+1*/\r\n            let endDragIndex = top / state.startDragHeight\r\n            const external = endDragIndex % 1\r\n            if (external > 0.5) {\r\n                endDragIndex = Math.ceil(endDragIndex)\r\n            } else {\r\n                endDragIndex = Math.floor(endDragIndex)\r\n            }\r\n\r\n            /*刷新指示器的位置*/\r\n            state.dragEl!.style.transform = `translateY(${(endDragIndex) * state.startDragHeight - dragElHeight - state.scrollTopOfScrollParent + state.scrollParentBoundingRect.top}px)`\r\n\r\n            if (endDragIndex === state.startDragIndex || endDragIndex === state.startDragIndex + 1) {\r\n                state.endDragIndex = state.startDragIndex\r\n            } else if (endDragIndex > state.startDragIndex) {\r\n                state.endDragIndex = endDragIndex - 1\r\n            } else {\r\n                state.endDragIndex = endDragIndex\r\n            }\r\n        },\r\n    }\r\n\r\n    const handler = {\r\n        mousedown: (e: MouseEvent) => {\r\n            const dragEl = getRowEl(e, rowClass)\r\n            // 每一行dom对象应该加上一个vid属性，表示这一行为第几个行，否则虚拟滚动情况下，无法知道是哪一行\r\n            const vid = Number(dragEl.getAttribute('vid'))\r\n\r\n            // 虚拟滚动下，每一行的行高一致\r\n            const {offsetHeight} = dragEl\r\n\r\n            state.startDragIndex = vid\r\n            state.startDragHeight = offsetHeight\r\n            state.startDragOffsetTop = state.startDragIndex * offsetHeight\r\n            state.startClientY = e.clientY\r\n            state.moveClientY = e.clientY\r\n\r\n            // 初始化scrollParent\r\n            const scrollParent = getScrollParent(dragEl)\r\n            state.scrollParent = scrollParent\r\n            state.startScrollTopOfScrollParent = scrollParent!.scrollTop\r\n            state.scrollTopOfScrollParent = scrollParent!.scrollTop\r\n            const {top, left, height, width} = state.scrollParent!.parentElement!.getBoundingClientRect()\r\n            state.scrollParentBoundingRect = {top, left, height, width}\r\n\r\n            // 初始化监听事件\r\n            scrollParent!.addEventListener('scroll', handler.scroll)\r\n            document.addEventListener('mousemove', handler.mousemove)\r\n            document.addEventListener('mouseup', handler.mouseup)\r\n\r\n            //\r\n            state.dragEl = document.createElement('div')\r\n            document.body.appendChild(state.dragEl)\r\n            state.dragEl.style.position = 'fixed'\r\n            state.dragEl.style.left = `${state.scrollParentBoundingRect.left}px`\r\n            state.dragEl.style.height = `${dragElHeight}px`\r\n            state.dragEl.style.width = `0`\r\n            state.dragEl.style.top = '0'\r\n            state.dragEl.style.backgroundColor = '#12b4a5'\r\n            utils.refresh()\r\n\r\n            setTimeout(() => {\r\n                state.dragEl!.style.width = `${state.scrollParentBoundingRect.width}px`\r\n                autoScroll.methods.showHover()\r\n            }, 23)\r\n        },\r\n        scroll: () => {\r\n            state.scrollTopOfScrollParent = state.scrollParent!.scrollTop\r\n            utils.refresh()\r\n        },\r\n        mousemove: (e: MouseEvent) => {\r\n            if (e.clientY < state.scrollParentBoundingRect.top) {\r\n                return\r\n            }\r\n            if (e.clientY > state.scrollParentBoundingRect.top + state.scrollParentBoundingRect.height - 10) {\r\n                return\r\n            }\r\n            state.moveClientY = e.clientY\r\n            utils.refresh()\r\n        },\r\n        mouseup: (e: MouseEvent) => {\r\n\r\n            autoScroll.methods.hideHover()\r\n\r\n            document.removeEventListener('mousemove', handler.mousemove)\r\n            document.removeEventListener('mouseup', handler.mouseup)\r\n            state.scrollParent!.removeEventListener('scroll', handler.scroll)\r\n\r\n            const {startDragIndex, endDragIndex} = state\r\n\r\n            onChange(startDragIndex, endDragIndex)\r\n\r\n            state.startDragIndex = 0\r\n            state.endDragIndex = 0\r\n            state.startDragOffsetTop = 0\r\n            state.startDragHeight = 0\r\n            state.startClientY = 0\r\n            state.moveClientY = 0\r\n            state.scrollParent = null\r\n            state.startScrollTopOfScrollParent = 0\r\n            state.scrollTopOfScrollParent = 0\r\n            state.scrollParentBoundingRect = {\r\n                top: 0,\r\n                left: 0,\r\n                width: 0,\r\n                height: 0,\r\n            }\r\n            state.dragEl!.parentNode!.removeChild(state.dragEl!)\r\n            state.dragEl = null\r\n\r\n        }\r\n    }\r\n\r\n    return {\r\n        handler\r\n    }\r\n\r\n}","import {$plain} from \"@/packages/base\";\r\nimport {getRowEl, getRowElList, getScrollParent} from \"@/packages/table/plc-components/standard/draggier/composition/utils\";\r\nimport {UseListDraggierType} from \"@/packages/table/plc-components/standard/draggier/composition/index\";\r\nimport {useDraggierAutoScroller} from \"@/packages/table/plc-components/standard/draggier/composition/use-draggier-auto-scroller\";\r\n\r\n\r\n/**\r\n * 拖拽排序实现（非虚拟滚动）\r\n * @author  韦胜健\r\n * @date    2020/8/21 10:07\r\n */\r\nexport const useListDraggierNotVirtual: UseListDraggierType = ({rowClass, onChange}) => {\r\n\r\n    const autoScroll = useDraggierAutoScroller()\r\n\r\n    const state = {\r\n        startIndex: 0,                              // 拖拽的dragEl在数组中的索引\r\n        endIndex: 0,                                // 拖拽结束的时候，dragEl应该所在的索引位置\r\n        startClientY: 0,                            // 拖拽dragEl起始的时候，e.clientY，与mousemove的时候的e.clientY做差值，以便得到dragEl的偏移距离\r\n        moveClientY: 0,                             // 拖拽move的时候，e.clientY\r\n        dragEl: null as null | HTMLElement,         // 拖拽的时候的dragEl的dom对象\r\n        dragHeight: 0,                              // 拖拽的时候的dragEl高度，当在下方移动时，下方需要移动的rowEl都应该往上偏移 dragHeight距离，在上方移动时，上方需要移动的rowEl需要往下偏移 dragHeight距离\r\n        dragOffsetTop: 0,                           // dragEl拖拽开始的时候，距离滚动顶部距离\r\n        scrollParent: null as null | HTMLElement,   // 可以滚动的父元素\r\n        dragStartScrollTop: 0,                      // 拖拽开始的时候，scrollParent 的scrollTop位置\r\n        dragScrollTop: 0,                           // scrollParent 的 scroll偏移距离\r\n        rowList: [] as HTMLElement[],               // dragEl的兄弟节点，包含dragEl\r\n    }\r\n    const utils = {\r\n        /**\r\n         * 根据startIndex以及endIndex，设置这个index范围内的row的dom对象进行上下平移；\r\n         * 如果startIndex大于endIndex，则范围内的row对象，除了startIndex，其他的应该向上平移；\r\n         * 反之，如果startIndex小于endIndex，则范围内的row对象，除了startIndex，其他的应该向下平移；\r\n         *\r\n         * @author  韦胜健\r\n         * @date    2020/8/19 21:09\r\n         */\r\n        refresh() {\r\n            const {dragHeight, startIndex, endIndex} = state\r\n            // 是否为向下移动\r\n            const movedown = startIndex < endIndex\r\n            const [start, end] = movedown ? [startIndex, endIndex] : [endIndex, startIndex]\r\n\r\n            state.rowList.forEach((el, index) => {\r\n                if (index < start || index > end) {\r\n                    el.style.transform = ``\r\n                    return;\r\n                }\r\n                if (el === state.dragEl) {\r\n                    return\r\n                }\r\n                el.style.transform = `translateY(${movedown ? '-' : ''}${dragHeight}px)`\r\n            })\r\n        },\r\n        /**\r\n         * 刷新dragEl的位置，同时刷新兄弟节点的位置\r\n         * @author  韦胜健\r\n         * @date    2020/8/20 23:29\r\n         */\r\n        refreshDragElPosition() {\r\n            state.dragEl!.style.transform = `translateY(${state.moveClientY - state.startClientY + state.dragScrollTop}px)`\r\n            const top = (state.moveClientY - state.startClientY) + state.dragScrollTop + state.dragOffsetTop\r\n            state.endIndex = Math.ceil(Math.max(0, top / state.dragHeight - 0.5))\r\n\r\n            utils.refresh()\r\n        },\r\n    }\r\n    const handler = {\r\n        mousedown: (e: MouseEvent) => {\r\n\r\n            $plain.disableSelect()\r\n\r\n            state.startClientY = e.clientY\r\n            state.dragEl = getRowEl(e, rowClass)\r\n            state.dragHeight = state.dragEl.offsetHeight\r\n            state.dragOffsetTop = state.dragEl.offsetTop\r\n            state.rowList = getRowElList(state.dragEl!, rowClass)\r\n            state.startIndex = state.rowList.indexOf(state.dragEl)\r\n            state.scrollParent = getScrollParent(state.dragEl)\r\n            state.dragStartScrollTop = state.scrollParent!.scrollTop\r\n\r\n            state.scrollParent!.addEventListener('scroll', handler.parentScroll)\r\n            document.addEventListener('mousemove', handler.mousemove)\r\n            document.addEventListener('mouseup', handler.mouseup)\r\n\r\n            state.rowList.forEach((rowEl: any) => {\r\n                // 如果是当前拖拽的el，则不监听事件，不做任何处理\r\n                if (rowEl === state.dragEl) {\r\n                    return\r\n                }\r\n                // 兄弟节点自动进行上下平移\r\n                rowEl.style.transition = `transform 300ms cubic-bezier(0.23, 1, 0.32, 1)`\r\n            })\r\n\r\n            autoScroll.methods.showHover()\r\n        },\r\n        mousemove: (e: MouseEvent) => {\r\n            state.moveClientY = e.clientY\r\n            utils.refreshDragElPosition()\r\n        },\r\n        mouseup: async () => {\r\n\r\n            autoScroll.methods.hideHover()\r\n\r\n            await $plain.nextTick()\r\n            $plain.enableSelect()\r\n\r\n            state.dragEl!.style.transform = ''\r\n            document.removeEventListener('mousemove', handler.mousemove)\r\n            document.removeEventListener('mouseup', handler.mouseup)\r\n            state.scrollParent!.removeEventListener('scroll', handler.parentScroll)\r\n\r\n            state.rowList.forEach((rowEl: any) => {\r\n                if (rowEl === state.dragEl) {\r\n                    return\r\n                }\r\n                rowEl.style.transition = ''\r\n                rowEl.style.transform = ''\r\n            })\r\n\r\n            state.startClientY = 0\r\n            state.moveClientY = 0\r\n            state.dragEl = null\r\n            state.dragHeight = 0\r\n            state.dragOffsetTop = 0\r\n            state.scrollParent = null\r\n            state.dragStartScrollTop = 0\r\n            state.dragScrollTop = 0\r\n            state.rowList = []\r\n            await onChange(state.startIndex, state.endIndex)\r\n            state.startIndex = 0\r\n            state.endIndex = 0\r\n        },\r\n        parentScroll: () => {\r\n            state.dragScrollTop = state.scrollParent!.scrollTop - state.dragStartScrollTop\r\n            utils.refreshDragElPosition()\r\n        }\r\n    }\r\n\r\n    return {\r\n        handler,\r\n    }\r\n}","/**\r\n * 拖拽排序实现函数的类型\r\n * @author  韦胜健\r\n * @date    2020/8/21 10:07\r\n */\r\nimport {useListDraggierWithVirtual} from \"@/packages/table/plc-components/standard/draggier/composition/use-list-draggier.virtual\";\r\nimport {useListDraggierNotVirtual} from \"@/packages/table/plc-components/standard/draggier/composition/use-list-draggier\";\r\n\r\nexport interface UseListDraggierType {\r\n    (option: {\r\n        rowClass: string,                                                               // 行的class，要确保只有行所在的dom对象有这个class，其子节点是没有这个class的\r\n        onChange: (start: number, end: number) => void | Promise<void>,                 // 拖拽导致排序变化动作\r\n        virtual?: boolean,                                                              // 是否为虚拟滚动\r\n    }): {\r\n        handler: {\r\n            mousedown: (e: MouseEvent) => void,\r\n        }\r\n    }\r\n}\r\n\r\nexport const useListDraggier: UseListDraggierType = (option) => {\r\n    if (option.virtual) {\r\n        return useListDraggierWithVirtual(option)\r\n    } else {\r\n        return useListDraggierNotVirtual(option)\r\n    }\r\n}","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pl-notice-container.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pl-notice-container.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-header.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-header.vue?vue&type=style&index=0&lang=scss&\"","import {$plain} from \"@/packages/base\";\r\n\r\n/**\r\n * 获取拖拽的rowEl对象\r\n * @author  韦胜健\r\n * @date    2020/8/19 23:55\r\n */\r\nexport function getRowEl(e: MouseEvent, rowClass: string): HTMLElement {\r\n    let rowEl = e.target as HTMLElement\r\n    while (!!rowEl && !$plain.utils.hasClass(rowEl, rowClass)) {\r\n        rowEl = rowEl.parentNode as HTMLElement\r\n    }\r\n    if (!rowEl) {\r\n        throw new Error(`can't find item element!`)\r\n    }\r\n    return rowEl\r\n}\r\n\r\n/**\r\n * 获取可以滚动的父组件\r\n * @author  韦胜健\r\n * @date    2020/8/19 23:50\r\n */\r\nexport function getScrollParent(el: HTMLElement): HTMLElement {\r\n    while (!!el && el.scrollHeight <= el.offsetHeight) {\r\n        el = el.parentNode as HTMLElement\r\n    }\r\n    return el\r\n}\r\n\r\n/**\r\n * 获取行el对象的所有兄弟节点\r\n * @author  韦胜健\r\n * @date    2020/8/19 23:57\r\n */\r\nexport function getRowElList(el: HTMLElement, rowClass: string): HTMLElement[] {\r\n    return Array.from(el.parentNode!.querySelectorAll(`.${rowClass}`))\r\n}","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAWElEQVRIiWM8fubkfwYygKWJOSM5+mCAhRLNoxaPWjxq8ajFoxbTyeL/DAfJ0Xjs3Cl7Siwmu4Yht1aDgZEYx6MWj1o8avGoxaMWD3qLya5X//4nqx6HAQC7RBGFzolqTAAAAABJRU5ErkJggg==\"","import {getCurrentInstance} from \"@vue/composition-api\";\r\n\r\nexport const ElRef = {} as HTMLElement\r\nexport const CompRef = {} as any\r\n\r\n/**\r\n * 组件引用组合函数\r\n * @author  韦胜健\r\n * @date    2020/5/14 10:23\r\n */\r\nexport function useRefs<T>(option?: T): T & { $el: HTMLElement } {\r\n    const context = getCurrentInstance()!\r\n    let ret = {} as any\r\n    Object.keys(Object.assign({\r\n        $el: ElRef,\r\n    }, option || {})).forEach(key => {\r\n        Object.defineProperty(ret, key, {\r\n            get(): any {\r\n                if (key === '$el') {\r\n                    return context.$el\r\n                }\r\n                return context.$refs[key]\r\n            },\r\n            set(v: any) {\r\n                throw new Error(`can't chang refs!`)\r\n            }\r\n        })\r\n    })\r\n\r\n    return ret\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import {PlcComponentType} from \"@/packages/table/plc/plc-utils\";\r\nimport {getCurrentInstance} from \"@vue/composition-api\";\r\nimport {PlcType} from \"@/packages/table/plc/plc\";\r\nimport {PlcGroupType} from \"@/packages/table/plc/plc-group\";\r\n\r\nfunction renderPlc(h, plc: PlcType) {\r\n    return (\r\n        <div key={plc.props.title}>\r\n            PLC：{plc.props.title}:{plc.props.width}_{plc.props.field}_{plc.props.fixed}_{plc.props.order}\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction renderGroup(h, group: PlcGroupType) {\r\n    return (\r\n        <div key={group.props.title}>\r\n            <div>GROUP：{group.props.title}</div>\r\n            <div style={{paddingLeft: \"20px\"}}>\r\n                {group.items.value.map(i => print(h, i))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction print(h: Function, plc: PlcType | PlcGroupType) {\r\n    return plc.type === PlcComponentType.PLC ? renderPlc(h, plc as PlcType) : renderGroup(h, plc as PlcGroupType)\r\n}\r\n\r\nexport function printPlcData(plcData: any) {\r\n    const ctx = getCurrentInstance()!\r\n    const h = ctx.$createElement\r\n\r\n    return plcData.map(item => print(h, item))\r\n}","import {TableNode} from \"@/packages/table/table/TableNode\";\r\nimport {reactive} from \"@vue/composition-api\";\r\nimport {getValidateConfigData, ValidateResultMap} from \"@/packages/form/validate\";\r\nimport {KeyGenerator} from \"../../../../src-doc/page/normal/test-table/KeyGenerator\";\r\nimport {createFlagManager} from \"@/util/NodeWrapper\";\r\n\r\nconst generator = new KeyGenerator('table_node')\r\n\r\nexport interface TableConfig {\r\n    lazy?: boolean,\r\n    according?: boolean,\r\n    keyField?: string,\r\n    childrenField?: string,\r\n    getChildren?: (node: TableNode, cb: (...args: any[]) => void) => void,\r\n    isCheckable?: (node: TableNode) => boolean,\r\n    isLeaf?: (node: TableNode) => boolean,\r\n    filterNodeMethod?: (node: TableNode) => boolean,\r\n    checkStrictly?: boolean,\r\n    autoExpandParent?: boolean,\r\n}\r\n\r\nexport class TableMark {\r\n\r\n    constructor(\r\n        public config: () => TableConfig,\r\n        public getRules: () => ReturnType<typeof getValidateConfigData>,\r\n    ) {}\r\n\r\n    selfGetter = () => this;\r\n\r\n    node = {\r\n        state: reactive({\r\n            map: {} as { [k: string]: TableNode }\r\n        }),\r\n        get: (\r\n            data: any,\r\n            level: number,\r\n            parentRef: () => (TableNode),\r\n            isSummaryData: boolean,\r\n        ): TableNode => {\r\n            const key = generator.get(data, this.config().keyField)\r\n            let node: TableNode = this.node.state.map[key] as TableNode\r\n            if (!!node) {\r\n                node.data = data\r\n                node.level = level\r\n                node.parentRef = parentRef\r\n            } else {\r\n                node = new TableNode(\r\n                    key,\r\n                    data,\r\n                    level,\r\n                    isSummaryData,\r\n                    this.config,\r\n                    parentRef,\r\n                    this.selfGetter,\r\n                    this.getRules,\r\n                )\r\n                this.node.state.map[key] = node\r\n            }\r\n            return node\r\n        },\r\n        getList: (\r\n            list: any[] | undefined,\r\n            level,\r\n            parentRef: () => (TableNode),\r\n            isSummaryData: boolean,\r\n        ): TableNode[] => {\r\n            if (!list) return []\r\n            return list.map(item => this.node.get(\r\n                item,\r\n                level,\r\n                parentRef,\r\n                isSummaryData,\r\n            ))\r\n        },\r\n        getByKey(key: string) {\r\n            return this.state.map[key]\r\n        },\r\n    }\r\n\r\n    editRow = createFlagManager<any>()\r\n    validateResult = createFlagManager<ValidateResultMap>()\r\n    edit = createFlagManager()\r\n    expand = createFlagManager()\r\n    check = createFlagManager()\r\n    loading = createFlagManager()\r\n    loaded = createFlagManager()\r\n\r\n}","import {PlcType} from \"@/packages/table/plc/plc\";\r\nimport {isPlcGroup, PlcGroupType} from \"@/packages/table/plc/plc-group\";\r\nimport {StyleType} from \"@/types/utils\";\r\nimport {PlcFixedType, stickyFlag} from \"@/packages/table/plc/plc-utils\";\r\nimport {computed, reactive, watch} from \"@vue/composition-api\";\r\nimport {PlainScroll} from \"@/packages/scroll/scroll\";\r\n\r\n/**\r\n * 根据plc.props.fixed\r\n * 获取单元格td的固定样式\r\n * @author  韦胜健\r\n * @date    2020/8/14 17:06\r\n */\r\nexport function getCellStyles(plc: PlcType | PlcGroupType, adjust: (styles: StyleType) => StyleType) {\r\n\r\n    if (plc.props.fixed === PlcFixedType.center) {\r\n        return adjust({})\r\n    }\r\n\r\n    const ret = {} as StyleType\r\n    ret.position = 'sticky'\r\n    ret.zIndex = '3'\r\n\r\n    if (!isPlcGroup(plc)) {\r\n        ret[plc.props.fixed] = plc.fixedPosition[plc.props.fixed] + 'px'\r\n    } else {\r\n        let count = 10\r\n        const fixedLeft = plc.props.fixed === PlcFixedType.left\r\n        while (!!plc && isPlcGroup(plc) && count > 0) {\r\n            plc = plc.items.value[fixedLeft ? 0 : plc.items.value.length - 1]\r\n            count--\r\n        }\r\n        if (count === 0 && !!plc) {\r\n            throw new Error('解析异常')\r\n        }\r\n        if (!!plc) {\r\n            // @ts-ignore\r\n            ret[plc.props.fixed] = plc.fixedPosition[plc.props.fixed] + 'px'\r\n        }\r\n    }\r\n    return adjust(ret)\r\n}\r\n\r\n/**\r\n * 给plc的固定列计算sticky的偏移距离\r\n * @author  韦胜健\r\n * @date    2020/8/14 17:06\r\n */\r\nexport const writeFixedPosition = (flatPlcList: PlcType[]) => {\r\n\r\n    const collector = flatPlcList.reduce((ret, item) => {\r\n        switch (item.props.fixed) {\r\n            case PlcFixedType.left:\r\n                ret.left.push(item)\r\n                break\r\n            case PlcFixedType.right:\r\n                ret.right.push(item)\r\n                break\r\n        }\r\n        return ret\r\n    }, {\r\n        left: [] as PlcType[],\r\n        right: [] as PlcType[],\r\n    });\r\n\r\n    const width = {\r\n        left: 0,\r\n        right: 0,\r\n    }\r\n\r\n    Object.keys(collector).forEach(key => {\r\n        let list = collector[key]!\r\n        if (key === 'right') {\r\n            list = list.reverse()\r\n        }\r\n\r\n        for (let i = 0; i < list.length; i++) {\r\n            const element = list[i] as PlcType;\r\n            width[key] += element.props.width\r\n            if (i === 0) {\r\n                element.fixedPosition[key] = 0\r\n            } else {\r\n                const {props: {width: prevWidth}, fixedPosition: {[key]: prevValue}} = list[i - 1]!\r\n                element.fixedPosition[key] = Number(prevWidth) + prevValue\r\n            }\r\n        }\r\n    })\r\n}\r\n\r\n/**\r\n * 获取table的fixed class，当滚动做左侧的时候，不显示左阴影。同理右侧也是；\r\n * @author  韦胜健\r\n * @date    2020/8/17 20:58\r\n */\r\nexport function useFixedShadow(bodyScrollRef: () => PlainScroll) {\r\n    const state = reactive({\r\n        showFixedLeft: false,\r\n        showFixedRight: false,\r\n    })\r\n\r\n    watch(() => {\r\n        if (!bodyScrollRef()) {\r\n            return null\r\n        }\r\n        const {wrapperScrollLeft, hostWidth} = bodyScrollRef().state\r\n        return `${wrapperScrollLeft}_${hostWidth}`\r\n    }, (val: string | null) => {\r\n        if (!val) {\r\n            state.showFixedLeft = false\r\n            state.showFixedRight = false\r\n        } else {\r\n            const {hostWidth, contentWidth, wrapperScrollLeft} = bodyScrollRef().state\r\n            state.showFixedLeft = contentWidth > hostWidth && wrapperScrollLeft > 0\r\n            state.showFixedRight = contentWidth > hostWidth && Math.abs(wrapperScrollLeft + hostWidth - contentWidth) > 5\r\n        }\r\n    },{immediate: true})\r\n\r\n    const classes = computed(() => [\r\n        {\r\n            'plt-table-hide-fixed-left': !state.showFixedLeft,\r\n            'plt-table-hide-fixed-right': !state.showFixedRight,\r\n        }\r\n    ])\r\n\r\n    return {\r\n        fixedShadowClass: classes,\r\n    }\r\n}","import {PlcType} from \"@/packages/table/plc/plc\";\r\nimport {PlcGroupType} from \"@/packages/table/plc/plc-group\";\r\nimport {PlcComponentType} from \"@/packages/table/plc/plc-utils\";\r\n\r\n/**\r\n * 在遍历plc的时候，操作类型，remove意思是遍历完这一次之删除这个plc或者plc组\r\n * @author  韦胜健\r\n * @date    2020/8/14 17:26\r\n */\r\nexport const enum HandlePlcType {\r\n    remove = 'remove',\r\n    nothing = 'nothing'\r\n}\r\n\r\n/**\r\n * 遍历plc数组\r\n * @author  韦胜健\r\n * @date    2020/6/9 20:58\r\n */\r\nexport function iteratePlc({list, handlePlc, handleGroup}: {\r\n    list: (PlcType | PlcGroupType)[] | null,\r\n    handlePlc: (plc: PlcType) => HandlePlcType,\r\n    handleGroup: (group: PlcGroupType) => HandlePlcType,\r\n}): void {\r\n\r\n    list = list || [];\r\n\r\n    for (let i = 0; i < list.length; i++) {\r\n        let item = list[i];\r\n\r\n        switch (item.type) {\r\n            case PlcComponentType.PLC:\r\n                item = item as PlcType\r\n                const handlePlcResult = handlePlc(item)\r\n                if (handlePlcResult === HandlePlcType.remove) {\r\n                    list.splice(i, 1)\r\n                    i--\r\n                }\r\n                break\r\n            case PlcComponentType.GROUP:\r\n                item = item as PlcGroupType\r\n                const handlePlcGroupResult = handleGroup(item)\r\n                if (handlePlcGroupResult === HandlePlcType.remove) {\r\n                    list.splice(i, 1)\r\n                    i--\r\n                } else {\r\n                    iteratePlc({list: item.items.value, handlePlc, handleGroup})\r\n\r\n                    // 当这个分组没有列的时候（可能都隐藏了），自动删除这个分组\r\n                    if (item.items.value.length === 0) {\r\n                        list.splice(i, 1)\r\n                        i--\r\n                    }\r\n                }\r\n                break\r\n            default:\r\n                console.warn(item)\r\n                throw new Error(`can't recognise plc type:${item.type}`)\r\n        }\r\n    }\r\n}","import {PlcType} from \"@/packages/table/plc/plc\";\r\nimport {PlcGroupType} from \"@/packages/table/plc/plc-group\";\r\nimport {PlcComponentType, PlcFixedType} from \"@/packages/table/plc/plc-utils\";\r\nimport {HandlePlcType, iteratePlc} from \"@/packages/table/plc/format/utils\";\r\n\r\nfunction handlerPublic(plc: PlcType | PlcGroupType, configData: { [k: string]: any }) {\r\n\r\n    // 如果有config，将config中的属性覆盖props\r\n    const configPlc = configData[`${(plc.props as any).field || ''}_${plc.props.title}`]\r\n    if (!!configPlc) {\r\n        Object.keys(configPlc).forEach(key => {\r\n            if (configPlc[key] != null) plc.props[key] = configPlc[key]\r\n        })\r\n    }\r\n    // 如果有state，将state中的属性覆盖props\r\n    Object.keys(plc.state).forEach(key => {\r\n        if (plc.state[key] != null) plc.props[key] = plc.state[key]\r\n    })\r\n\r\n}\r\n\r\n/**\r\n * 复制一份plc，并且处理config以及state\r\n * @author  韦胜健\r\n * @date    2020/8/15 19:12\r\n */\r\nexport function configAndStatePlc(\r\n    {\r\n        items,\r\n        config\r\n    }: {\r\n        items: (PlcType | PlcGroupType)[],                              // plc列原始数据\r\n        config: Function | undefined,                                   // 配置plc的函数\r\n    }) {\r\n\r\n    const configData = !!config ? config(items) : {}                    // 通过 table.props.config 得到的列配置信息对象\r\n\r\n    const plcList = {\r\n        notFitVirtual: [] as (PlcType | PlcGroupType)[],\r\n        fixedLeft: [] as (PlcType | PlcGroupType)[],\r\n        fixedRight: [] as (PlcType | PlcGroupType)[],\r\n        autoFixedLeft: [] as (PlcType | PlcGroupType)[],\r\n        autoFixedRight: [] as (PlcType | PlcGroupType)[],\r\n    }\r\n\r\n    /**\r\n     * - 根基plc的config，计算plc的属性。\r\n     * - 计算出需要自动左固定的plc，自动右固定的plc，左固定的plc，右固定的plc；以及计算出不兼容虚拟滚动的plc；\r\n     * - 如果group设置了自动左右固定或者左右固定，那么他的子组件plc或者group也要改成和父group一致的值；\r\n     * - 将隐藏的plc从group的子节点数据中移除\r\n     * @author  韦胜健\r\n     * @date    2020/8/12 10:24\r\n     */\r\n    iteratePlc({\r\n        list: items,\r\n        handlePlc: (plc) => {\r\n\r\n            handlerPublic(plc, configData)\r\n\r\n            // 如果是隐藏的列，则删除这一列\r\n            if (plc.props.hide) {\r\n                return HandlePlcType.remove\r\n            }\r\n\r\n            if (plc.props.notFitVirtual) plcList.notFitVirtual.push(plc)\r\n            if (plc.props.autoFixedLeft) plcList.autoFixedLeft.push(plc)\r\n            if (plc.props.autoFixedRight) plcList.autoFixedRight.push(plc)\r\n            if (plc.props.fixed === PlcFixedType.left) plcList.fixedLeft.push(plc)\r\n            if (plc.props.fixed === PlcFixedType.right) plcList.fixedRight.push(plc)\r\n\r\n            return HandlePlcType.nothing\r\n        },\r\n        handleGroup: (group) => {\r\n\r\n            handlerPublic(group, configData)\r\n\r\n            if (group.props.hide) {\r\n                return HandlePlcType.remove\r\n            }\r\n\r\n            // 表头分组，子节点的固定方式，以及左固定、右固定随父节点控制\r\n            group.items.value.forEach(item => {\r\n                if (item.type === PlcComponentType.PLC) {\r\n                    const plc = item as PlcType\r\n                    plc.props.fixed = group.props.fixed\r\n                    plc.props.autoFixedLeft = group.props.autoFixedLeft\r\n                    plc.props.autoFixedRight = group.props.autoFixedRight\r\n                } else {\r\n                    const plcGroup = item as PlcGroupType\r\n                    plcGroup.props.fixed = group.props.fixed\r\n                    plcGroup.props.autoFixedLeft = group.props.autoFixedLeft\r\n                    plcGroup.props.autoFixedRight = group.props.autoFixedRight\r\n                }\r\n            })\r\n\r\n            return HandlePlcType.nothing\r\n        },\r\n    })\r\n\r\n    /*---------------------------------------在最终排序的时候，要求fixed是正确的，而跟autoFixedLeft，autoFixedRight的值无关-------------------------------------------*/\r\n\r\n    /*如果存在左固定列，则设置autoFixedLeft为左固定*/\r\n    if (plcList.fixedLeft.length > 0) {\r\n        plcList.autoFixedLeft.forEach(plc => plc.props.fixed = PlcFixedType.left)\r\n    }\r\n\r\n    /*如果存在右固定列，则设置autoFixedRight为右固定*/\r\n    if (plcList.fixedRight.length > 0) {\r\n        plcList.autoFixedRight.forEach(plc => plc.props.fixed = PlcFixedType.right)\r\n    }\r\n\r\n    return plcList\r\n}","import {PlcType} from \"@/packages/table/plc/plc\";\r\nimport {PlcGroupType} from \"@/packages/table/plc/plc-group\";\r\nimport {PlcComponentType, PlcFixedType} from \"@/packages/table/plc/plc-utils\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {HandlePlcType, iteratePlc} from \"@/packages/table/plc/format/utils\";\r\n\r\n\r\n/**\r\n * 获取plc的排序索引\r\n * @author  韦胜健\r\n * @date    2020/8/14 17:23\r\n */\r\nfunction getPlcOrder(item: PlcType | PlcGroupType): number {\r\n    let order = item.props.order || 0\r\n    if (item.props.fixed === PlcFixedType.left) {\r\n        order -= 9999\r\n    } else if (item.props.fixed === PlcFixedType.right) {\r\n        order += 9999\r\n    }\r\n    return Number(order)\r\n}\r\n\r\n/**\r\n * 对plc进行排序\r\n * @author  韦胜健\r\n * @date    2020/8/15 19:18\r\n */\r\nexport function sortPlc(items: (PlcType | PlcGroupType)[]) {\r\n\r\n    let totalFits = 0                                               // fit总和值\r\n    let totalNoFitPlcWidth = 0                                      // 没有fit的plc的总宽度\r\n    const fitPlcList = [] as (PlcType)[]                            // 有fit的plc数组，只有 PlcType 才可以设置fit\r\n    const flatPlcList = [] as PlcType[]                             // 平级的，最终渲染在表格上的plc数组\r\n\r\n    /**\r\n     * - 根据 order、fixed排序\r\n     * - 算出总的fit、剩余的externalWidth宽度\r\n     * @author  韦胜健\r\n     * @date    2020/8/12 10:26\r\n     */\r\n    iteratePlc({\r\n        list: [{type: PlcComponentType.GROUP, items: {value: items}} as any],\r\n        handlePlc: (plc) => {\r\n            flatPlcList.push(plc)\r\n            if (!!plc.props.fit) {\r\n                totalFits += plc.props.fit\r\n                fitPlcList.push(plc)\r\n            } else {\r\n                totalNoFitPlcWidth += plc.props.width as number\r\n            }\r\n\r\n            return HandlePlcType.nothing\r\n        },\r\n        handleGroup: (group) => {\r\n            $plain.utils.insertSort(group.items.value, (a, b) => getPlcOrder(a) > getPlcOrder(b))\r\n            return HandlePlcType.nothing\r\n        }\r\n    })\r\n\r\n    $plain.utils.insertSort(items, (a, b) => {\r\n        const ao = getPlcOrder(a)\r\n        const bo = getPlcOrder(b)\r\n        return ao > bo\r\n    })\r\n\r\n    /*items.forEach(item => {\r\n        console.log(item.props.title, item.props.order)\r\n    })*/\r\n\r\n    return {\r\n        flatPlcList,\r\n        totalFits,\r\n        totalNoFitPlcWidth,\r\n        fitPlcList,\r\n    }\r\n}","import {PlcType} from \"@/packages/table/plc/plc\";\r\nimport {isPlcGroup, PlcGroupType} from \"@/packages/table/plc/plc-group\";\r\nimport {PlcComponentType, PlcFixedType} from \"@/packages/table/plc/plc-utils\";\r\n\r\n/**\r\n * 对plc设置标记，是否为最后一个左固定列，是否为第一个右固定列\r\n * @author  韦胜健\r\n * @date    2020/8/15 23:06\r\n */\r\nfunction setFixedFlag(plcList: (PlcType | PlcGroupType)[]) {\r\n    let lastFixedLeft: PlcType | PlcGroupType | undefined;\r\n    let firstFixedRight: PlcType | PlcGroupType | undefined;\r\n\r\n    plcList.forEach(plc => {\r\n        if (plc.props.fixed === PlcFixedType.left) {\r\n            lastFixedLeft = plc\r\n        }\r\n        if (!firstFixedRight && plc.props.fixed === PlcFixedType.right) {\r\n            firstFixedRight = plc\r\n        }\r\n    })\r\n\r\n    function setLastFixedLeft(plc: PlcType | PlcGroupType) {\r\n        plc.isLastFixedLeft = true\r\n        if (isPlcGroup(plc)) {\r\n            setLastFixedLeft(plc.items.value[plc.items.value.length - 1])\r\n        }\r\n    }\r\n\r\n    !!lastFixedLeft && setLastFixedLeft(lastFixedLeft);\r\n\r\n    function setFirstFixedRight(plc: PlcType | PlcGroupType) {\r\n        plc.isFirstFixedRight = true\r\n        if (isPlcGroup(plc)) {\r\n            setFirstFixedRight(plc.items.value[0])\r\n        }\r\n    }\r\n\r\n    !!firstFixedRight && setFirstFixedRight(firstFixedRight)\r\n}\r\n\r\n/**\r\n * 计算渲染表头所需要的的plc二维数组\r\n * @author  韦胜健\r\n * @date    2020/8/15 19:27\r\n */\r\nexport function getHeadPlc(plcList: (PlcType | PlcGroupType)[]) {\r\n    // 最大表头层数\r\n    let maxLevel = 1\r\n\r\n    // 计算最大层数\r\n    const calculateLevel = (list: (PlcType | PlcGroupType)[] | null, level) => {\r\n        if (!!list && list.length > 0) {\r\n            if (level > maxLevel) maxLevel = level\r\n            list.forEach((item) => {\r\n                item.level = level - 1\r\n                if (item.type === PlcComponentType.GROUP) {\r\n                    calculateLevel((item as PlcGroupType).items.value, level + 1)\r\n                }\r\n            })\r\n        }\r\n    }\r\n    calculateLevel(plcList, 1)\r\n\r\n    // 计算多级表头每个单元格所占行数以及列数\r\n    const calculateSpan = (item: PlcType | PlcGroupType) => {\r\n        if (item.type === PlcComponentType.GROUP) {\r\n            const group = item as PlcGroupType\r\n            group.items.value.forEach(calculateSpan)\r\n            group.rowspan = 1\r\n            group.colspan = 0\r\n            group.items.value.forEach(i => group.colspan! += i.colspan!)\r\n        } else {\r\n            const plc = item as PlcType\r\n            plc.rowspan = maxLevel - plc.level!\r\n            plc.colspan = 1\r\n        }\r\n    }\r\n    plcList.forEach(plc => calculateSpan(plc))\r\n\r\n    // 计算结果\r\n    const headCols: (PlcType | PlcGroupType)[][] = []\r\n\r\n    for (let j = 0; j < maxLevel; j++) headCols.push([])\r\n    // 收集多级表头渲染数据\r\n    const calculateHeadColumns = (list: (PlcType | PlcGroupType)[]) => {\r\n        if (!!list && list.length > 0) {\r\n            list.forEach((item) => {\r\n                headCols[item.level!].push(item)\r\n                if (item.type === PlcComponentType.GROUP) {\r\n                    calculateHeadColumns((item as PlcGroupType).items.value)\r\n                }\r\n            })\r\n        }\r\n    }\r\n    calculateHeadColumns(plcList)\r\n\r\n    setFixedFlag(headCols[0])\r\n\r\n    return {\r\n        headCols,\r\n        maxLevel,\r\n    }\r\n}","import {PlcType} from \"@/packages/table/plc/plc\";\r\nimport {isPlcGroup, PlcGroupType} from \"@/packages/table/plc/plc-group\";\r\nimport {getCellClass, stickyFlag} from \"@/packages/table/plc/plc-utils\";\r\nimport {getCellStyles} from \"@/packages/table/plc/plc-fixed\";\r\n\r\n/**\r\n * 写入公共的style以及class\r\n * @author  韦胜健\r\n * @date    2020/8/16 22:11\r\n */\r\nexport function writeStylesAndClasses(\r\n    {\r\n        headCols,\r\n        headRowHeight,\r\n        bodyRowHeight,\r\n    }: {\r\n        headCols: (PlcType | PlcGroupType)[][],\r\n        headRowHeight: number,\r\n        bodyRowHeight: number,\r\n    }\r\n) {\r\n    headCols.forEach(list => {\r\n        list.forEach((plc: PlcType | PlcGroupType) => {\r\n\r\n            /*---------------------------------------head-------------------------------------------*/\r\n\r\n            plc.styles.head.cell = getCellStyles(plc, (styles) => {\r\n                // styles.height = `${headRowHeight * plc.rowspan!}px`\r\n                return styles\r\n            })\r\n            plc.styles.head.innerCell = {\r\n                // width: isPlcGroup(plc) ? undefined : `${plc.props.width}px`,\r\n                // lineHeight: `${headRowHeight * plc.rowspan!}px`,\r\n                height: `${headRowHeight * plc.rowspan!}px`,\r\n            }\r\n            plc.classes.head.cell = [\r\n                'plt-cell',\r\n                'plt-head-cell',\r\n                ...getCellClass(plc),\r\n                {\r\n                    'plt-cell-last-fixed-left': plc.isLastFixedLeft,\r\n                    'plt-cell-first-fixed-right': plc.isFirstFixedRight,\r\n                }\r\n            ]\r\n            plc.classes.head.innerCell = [\r\n                'plt-inner-cell',\r\n                {\r\n                    'plt-inner-cell-no-padding': plc.props.noPadding\r\n                }\r\n            ]\r\n            /*---------------------------------------body-------------------------------------------*/\r\n\r\n            if (!isPlcGroup(plc)) {\r\n\r\n                plc.styles.body.cell = getCellStyles(plc, (styles) => {\r\n                    // styles.height = `${bodyRowHeight}px`\r\n                    return styles\r\n                })\r\n                plc.styles.body.innerCell = {\r\n                    // width: `${plc.props.width}px`,\r\n                    // lineHeight: `${bodyRowHeight}px`,\r\n                    height: `${bodyRowHeight}px`,\r\n                }\r\n                plc.classes.body.cell = [\r\n                    'plt-cell',\r\n                    'plt-body-cell',\r\n                    {\r\n                        'plt-cell-add-edit-padding': plc.props.addEditPadding,\r\n                        'plt-cell-last-fixed-left': plc.isLastFixedLeft,\r\n                        'plt-cell-first-fixed-right': plc.isFirstFixedRight,\r\n                    },\r\n                ]\r\n                plc.classes.body.innerCell = [\r\n                    'plt-inner-cell',\r\n                    {\r\n                        'plt-inner-cell-no-padding': plc.props.noPadding\r\n                    }\r\n                ]\r\n            }\r\n\r\n        })\r\n    })\r\n}","import {PlcType} from \"@/packages/table/plc/plc\";\r\nimport {PlcGroupType} from \"@/packages/table/plc/plc-group\";\r\nimport {writeFixedPosition} from \"@/packages/table/plc/plc-fixed\";\r\nimport {configAndStatePlc} from \"@/packages/table/plc/format/configAndStatePlc\";\r\nimport {sortPlc} from \"@/packages/table/plc/format/sortPlc\";\r\nimport {getHeadPlc} from \"@/packages/table/plc/format/getHeadPlc\";\r\nimport {PlcComponentType} from \"@/packages/table/plc/plc-utils\";\r\nimport {writeStylesAndClasses} from \"@/packages/table/plc/format/classAndStyle\";\r\n\r\n/**\r\n * 复制列信息数组\r\n * @author  韦胜健\r\n * @date    2020/8/14 17:23\r\n */\r\nfunction copyPlcList(items: (PlcType | PlcGroupType)[]) {\r\n    const newItems: (PlcType | PlcGroupType)[] = []\r\n    items.forEach((item) => {\r\n        const newItem = {...item}\r\n        newItem.props = {...item.props}\r\n        if (item.type === PlcComponentType.GROUP) {\r\n            (newItem as PlcGroupType).items.value = copyPlcList((newItem as PlcGroupType).items.value)\r\n        }\r\n        newItems.push(newItem)\r\n    })\r\n\r\n    return newItems\r\n}\r\n\r\nexport function formatPlc(\r\n    {\r\n        items,\r\n        config,\r\n        tableWidth,\r\n        headRowHeight,\r\n        bodyRowHeight,\r\n    }: {\r\n        items: (PlcType | PlcGroupType)[],                              // plc列原始数据\r\n        config: Function | undefined,                                   // 配置plc的函数\r\n        tableWidth: number                                              // 表格宽度\r\n        headRowHeight: number,                                          // 表头行高\r\n        bodyRowHeight: number,                                          // 表体行高\r\n    }) {\r\n\r\n    /*---------------------------------------复制一份plc，并且处理config以及state-------------------------------------------*/\r\n\r\n    /**\r\n     * 这里复制了一份这个items，所以如果这里对items进行修改，是不会导致引起响应式刷新的\r\n     * @author  韦胜健\r\n     * @date    2020/8/14 15:10\r\n     */\r\n    items = copyPlcList(items)\r\n\r\n    const {\r\n        notFitVirtual,\r\n        // autoFixedLeft,\r\n        // autoFixedRight,\r\n        // fixedLeft,\r\n        // fixedRight\r\n    } = configAndStatePlc({items, config})\r\n\r\n    /*---------------------------------------获取plc的排序索引-------------------------------------------*/\r\n\r\n    let {\r\n        totalFits,\r\n        totalNoFitPlcWidth,\r\n        fitPlcList,\r\n        flatPlcList,\r\n    } = sortPlc(items)\r\n\r\n    /*---------------------------------------计算表头需要的plc二维数组-------------------------------------------*/\r\n\r\n    const {headCols, maxLevel} = getHeadPlc(items)\r\n\r\n    /*---------------------------------------自动计算列宽-------------------------------------------*/\r\n\r\n    let externalWidth = tableWidth - totalNoFitPlcWidth\r\n\r\n    // 剩余宽度还大于0\r\n    if (externalWidth > 0) {\r\n        // 如果没有自适应宽度的列，则默认最后一列自适应宽度\r\n        if (totalFits === 0) {\r\n            totalFits = 1\r\n            const lastPlc = flatPlcList[flatPlcList.length - 1]\r\n            fitPlcList.push(lastPlc)\r\n            externalWidth += lastPlc.props.width as number\r\n        }\r\n        const fitBlockWidth = Math.floor(externalWidth / totalFits)\r\n        fitPlcList.forEach((plc, index) => {\r\n            if (index === fitPlcList.length - 1) {\r\n                // 如果是最后一个，用完剩下的宽度\r\n                plc.props.width = externalWidth - 1\r\n                externalWidth = 0\r\n            } else {\r\n                // 根据fit分配宽度\r\n                const newWidth = plc.props.fit * fitBlockWidth\r\n                plc.props.width = newWidth\r\n                externalWidth -= newWidth\r\n            }\r\n        })\r\n    }\r\n\r\n    /*---------------------------------------计算固定列的定位值，顺便计算左右固定列的总宽度-------------------------------------------*/\r\n\r\n    writeFixedPosition(flatPlcList)\r\n\r\n    /*---------------------------------------写入公共的style以及class-------------------------------------------*/\r\n\r\n    writeStylesAndClasses({\r\n        headCols,\r\n        headRowHeight,\r\n        bodyRowHeight,\r\n    })\r\n\r\n    /*---------------------------------------return-------------------------------------------*/\r\n\r\n    return {\r\n        notFitVirtualPlcList: notFitVirtual,                                                                // 不兼容虚拟列表的列数组\r\n        plcList: items,                                                                                     // 列数组数据，树形结构的数据\r\n        flatPlcList,                                                                                        // 展开之后最底层的列数组\r\n        flatPlcLength: flatPlcList.length,                                                                  // 展开之后最底层的列数组长度\r\n        plcListHasRenderAfterRow: flatPlcList.filter(item => !!item.props.renderAfterRow),        // 列需要在行之后多渲染的数据\r\n        headCols,\r\n        maxLevel,\r\n    }\r\n}","import {computed, defineComponent, inject, onMounted, provide, reactive, watch} from \"@vue/composition-api\";\r\nimport {TableHoverPart, TableProps, TablePropsType} from \"@/packages/table/table-utils\";\r\nimport {useSlots} from \"@/use/useSlots\";\r\nimport {FormatPropsType, useProps} from \"@/use/useProps\";\r\nimport {PlcType} from \"@/packages/table/plc/plc\";\r\nimport {PlcGroupType} from \"@/packages/table/plc/plc-group\";\r\nimport {CompRef, useRefs} from \"@/use/useRefs\";\r\nimport {printPlcData} from \"@/packages/table/plc/debug\";\r\nimport './table.scss'\r\nimport {TableMark} from \"@/packages/table/table/TableMark\";\r\nimport {getValidateConfigData} from \"@/packages/form/validate\";\r\nimport {useModel} from \"@/use/useModel\";\r\nimport {TableNode} from \"@/packages/table/table/TableNode\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {StyleShape, StyleSize, useStyle} from \"@/use/useStyle\";\r\nimport {PlainScroll} from \"@/packages/scroll/scroll\";\r\nimport {formatPlc} from \"@/packages/table/plc/format/formatPlc\";\r\nimport {useRefer} from \"@/use/useRefer\";\r\nimport {useFixedShadow} from \"@/packages/table/plc/plc-fixed\";\r\n\r\nconst PLAIN_TABLE_PROVIDER = '@@PLAIN_TABLE_PROVIDER'\r\nexport const injectTable = () => inject(PLAIN_TABLE_PROVIDER) as PlainTable\r\n\r\n/**\r\n * 递归遍历树形结构的表格数据\r\n * @author  韦胜健\r\n * @date    2020/6/16 16:20\r\n */\r\nfunction iterateTableNode(\r\n    tableNodes: TableNode[] | Readonly<TableNode[]> | null,\r\n    fn: (node: TableNode) => void,\r\n    iterateChildren?: (node: TableNode) => boolean\r\n) {\r\n    if (!tableNodes) return\r\n    tableNodes.forEach(node => {\r\n        fn(node)\r\n        if (!!node.children && (!!iterateChildren && iterateChildren(node))) {\r\n            iterateTableNode(node.children, fn, iterateChildren)\r\n        }\r\n    })\r\n}\r\n\r\nfunction tableSetup(props: TablePropsType) {\r\n\r\n    /*---------------------------------------event-------------------------------------------*/\r\n    const {emit, on, off} = useEvent({\r\n        scrollLeft: (e: Event, part: TableHoverPart) => {},\r\n        updateData: EmitFunc,\r\n\r\n        clickRow: (node: TableNode, e: MouseEvent) => {},                                       // 点击行事件\r\n        dblclickRow: (node: TableNode, e: MouseEvent) => {},                                    // 双击行事件\r\n\r\n        clickCell: (node: TableNode, e: MouseEvent) => {},                                      // 点击单元格事件（如果点击的内容节点不是 plt-inner-cell ，则不会触发该事件）\r\n        dblclickCell: (node: TableNode, e: MouseEvent) => {},                                   // 双击单元格事件（如果点击的内容节点不是 plt-inner-cell ，则不会触发该事件）\r\n    })\r\n    /*---------------------------------------slots-------------------------------------------*/\r\n    const {slots} = useSlots()\r\n    /*---------------------------------------refs-------------------------------------------*/\r\n    const refs = useRefs({\r\n        collector: CompRef,\r\n        body: CompRef,\r\n        head: CompRef,\r\n    })\r\n\r\n    /*---------------------------------------state-------------------------------------------*/\r\n    const propsState = useProps(props, {\r\n        headRowHeight: FormatPropsType.number,\r\n        bodyRowHeight: FormatPropsType.number,\r\n    })\r\n\r\n    // TableMark\r\n    const mark = new TableMark(() => ({\r\n        lazy: props.lazy as any,\r\n        according: props.according as any,\r\n        keyField: props.keyField as any,\r\n        childrenField: props.childrenField as any,\r\n        getChildren: props.getChildren as any,\r\n        isCheckable: props.isCheckable as any,\r\n        isLeaf: props.isLeaf as any,\r\n        filterNodeMethod: props.filterNodeMethod as any,\r\n        checkStrictly: props.checkStrictly as any,\r\n        autoExpandParent: props.autoExpandParent as any,\r\n    }), () => validateConfigData.value)\r\n\r\n    // 绑定的数据\r\n    const dataModel = useModel(() => props.data, emit.updateData, true, true, (val) => rootNode.setChildren(val as object[] || []))\r\n    // 数据模拟出来的父节点\r\n    const rootNode = mark.node.get({[props.childrenField]: dataModel.value}, 0, () => null as any, false)\r\n\r\n    const state = reactive({\r\n        tableWidth: null as null | number,                  // mounted的时候表格的宽度\r\n        current: null as null | TableNode,                  // 当前选中的节点\r\n        hoverPart: null as null | TableHoverPart,           // 当前鼠标所在的区域\r\n        loading: null as null | boolean,                    // 表格内部自定义的加载行为\r\n        bodyScrollGetter: null as (null | (() => PlainScroll)),// 获取body的函数，当body组件初始化之后，body会自动设置这个变量\r\n        mark,\r\n        rootNode,\r\n    })\r\n\r\n    const isLoading = computed({\r\n        get() {\r\n            return props.loading != null ? props.loading : state.loading\r\n        },\r\n        set(val: boolean | null) {\r\n            state.loading = val\r\n        },\r\n    })\r\n    /*---------------------------------------computed-------------------------------------------*/\r\n    /**\r\n     * 列相关数据\r\n     * @author  韦胜健\r\n     * @date    2020/8/13 22:29\r\n     */\r\n    const plcData = computed(() => {\r\n        // todo  plc的width属性变化之后，这里执行了两次，很奇怪\r\n\r\n        if (!state.tableWidth) return null\r\n        // plc: props = props + propsState\r\n        let items = refs.collector.items.value as (PlcType | PlcGroupType)[]\r\n        // table: config plc, and  combine: props + config + state\r\n        const result = formatPlc({\r\n            items,\r\n            config: props.config,\r\n            tableWidth: state.tableWidth,\r\n            headRowHeight: propsState.headRowHeight,\r\n            bodyRowHeight: propsState.bodyRowHeight,\r\n        })\r\n        return result\r\n    });\r\n\r\n    /**\r\n     * 表体渲染所需要的的列信息\r\n     * @author  韦胜健\r\n     * @date    2020/8/13 22:31\r\n     */\r\n    const bodyPlcList = computed(() => {\r\n        if (!state.tableWidth) return null\r\n        return plcData.value!.flatPlcList\r\n    })\r\n    /**\r\n     * 总的列宽度\r\n     * @author  韦胜健\r\n     * @date    2020/8/13 22:33\r\n     */\r\n    const totalContentWidth = computed(() => {\r\n        if (!bodyPlcList.value) return\r\n        return bodyPlcList.value.reduce((ret, plc) => {\r\n            return ret + (plc.props.width as number)\r\n        }, 0)\r\n    })\r\n    /**\r\n     * 校验所需要的的配置信息数据\r\n     * @author  韦胜健\r\n     * @date    2020/8/13 22:33\r\n     */\r\n    const validateConfigData = computed(() => getValidateConfigData(\r\n        (bodyPlcList.value || []).map(({props: {title, field, required, rules}}) => ({label: title, field, required, rules})),\r\n        props.rules,\r\n    ))\r\n    /**\r\n     * 表格数据，TableNode格式的数据\r\n     * @author  韦胜健\r\n     * @date    2020/8/13 22:33\r\n     */\r\n    const tableData = computed(() => mark.node.getList(dataModel.value, 1, () => state.rootNode as TableNode, false))\r\n\r\n    /**\r\n     * 表格合计行数据，TableNode格式的数据\r\n     * @author  韦胜健\r\n     * @date    2020/8/13 22:35\r\n     */\r\n    const tableSummaryData = computed(() => mark.node.getList(props.summaryData, 1, () => null as any, true))\r\n\r\n\r\n    const tableDataFlatter = computed(() => {\r\n        const formatData = tableData.value          // 格式化之后的数据\r\n        let index = 0                               // 索引\r\n        const formatDataFlat: TableNode[] = []      // 格式化之后的展开的数据\r\n        let maxShowLevel = 1                        // 树格式数据中，显示的最大层级数\r\n\r\n        iterateTableNode(\r\n            formatData,\r\n            (node) => {\r\n                if (node.level > maxShowLevel) {\r\n                    maxShowLevel = node.level\r\n                }\r\n                // 这个index应该是一个非响应式属性，避免出现计算属性死循环的情况\r\n                node.index = index++\r\n                formatDataFlat.push(node)\r\n            },\r\n            (node) => {\r\n                return !!props.childrenField && node.isExpand\r\n            },\r\n        )\r\n        return {\r\n            formatDataFlat: formatDataFlat.filter(node => node.isVisible),\r\n            maxShowLevel,\r\n        }\r\n    })\r\n\r\n    const formatFlatTableData = computed(() => tableDataFlatter.value.formatDataFlat)\r\n    const maxShowLevel = computed(() => tableDataFlatter.value.maxShowLevel)\r\n\r\n    /**\r\n     * 是否可以开启表格的虚拟滚动功能\r\n     * @author  韦胜健\r\n     * @date    2020/8/13 22:35\r\n     */\r\n    const isDisabledVirtualScroll = computed(() => {\r\n        if (!plcData.value) {\r\n            return true\r\n        }\r\n        if (plcData.value.notFitVirtualPlcList.length > 0) {\r\n            return true\r\n        }\r\n        return !props.virtual\r\n    })\r\n\r\n    const {styleComputed} = useStyle({shape: StyleShape.square, size: StyleSize.mini, status: null})\r\n\r\n    // @ts-ignore\r\n    const {fixedShadowClass} = useFixedShadow(() => !!state.bodyScrollGetter ? state.bodyScrollGetter!() : null)\r\n\r\n    const classes = computed(() => [\r\n        'pl-table',\r\n        `pl-table-size-${styleComputed.value.size}`,\r\n        `pl-table-shape-${styleComputed.value.shape}`,\r\n        {\r\n            'pl-table-border': props.border,\r\n        },\r\n        ...fixedShadowClass.value,\r\n    ])\r\n\r\n    /*---------------------------------------utils-------------------------------------------*/\r\n    const utils = {\r\n        bindScroll: (part: TableHoverPart, setLeft: (scrollLeft: number, part: TableHoverPart) => void) => {\r\n\r\n            on.scrollLeft((e: any, part) => setLeft(e.target.scrollLeft, part))\r\n\r\n            return {\r\n                handler: {\r\n                    mouseenter: () => state.hoverPart = part,\r\n                    scroll: (e: Event) => {\r\n                        if (state.hoverPart !== part) {\r\n                            return\r\n                        }\r\n                        emit.scrollLeft(e, part)\r\n                    },\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /*---------------------------------------handler-------------------------------------------*/\r\n    const handler = {\r\n        headMousewheel: (e: MouseEvent, scroll: PlainScroll) => {\r\n            e.preventDefault();\r\n\r\n            const {deltaX, deltaY} = e as any\r\n            // @ts-ignore\r\n            emit.scrollLeft({target: {scrollLeft: scroll.state.wrapperScrollLeft + (deltaX || deltaY)}}, null)\r\n        },\r\n        clickRow: (e: MouseEvent, node: TableNode) => {\r\n            methods.setCurrent(node)\r\n            emit.clickRow(node, e)\r\n\r\n            if ($plain.utils.hasClass(e.target as HTMLElement, ['plt-inner-cell', 'plt-cell'])) {\r\n                emit.clickCell(node, e)\r\n            }\r\n        },\r\n        dblclickRow: (e: MouseEvent, node) => {\r\n            emit.dblclickRow(node, e)\r\n\r\n            if ($plain.utils.hasClass(e.target as HTMLElement, ['plt-inner-cell', 'plt-cell'])) {\r\n                emit.dblclickCell(node, e)\r\n            }\r\n        },\r\n    }\r\n\r\n    const methods = {\r\n        setCurrent: (keyOrNode: string | TableNode | null) => {\r\n            if (typeof keyOrNode === \"string\") {\r\n                const node = mark.node.getByKey(keyOrNode)\r\n                state.current = node as TableNode\r\n            } else {\r\n                state.current = keyOrNode\r\n            }\r\n        },\r\n        getCurrent: () => {\r\n            return state.current\r\n        }\r\n    }\r\n\r\n\r\n    /*---------------------------------------refer-------------------------------------------*/\r\n    const refer = {\r\n        rootNode,\r\n\r\n        dataModel,\r\n        props,\r\n        mark,\r\n        slots,\r\n        state,\r\n        isLoading,\r\n        propsState,\r\n        plcData,\r\n        bodyPlcList,\r\n        totalContentWidth,\r\n\r\n        refs,\r\n\r\n        tableData,\r\n        tableSummaryData,\r\n        formatFlatTableData,\r\n        maxShowLevel,\r\n        isDisabledVirtualScroll,\r\n        classes,\r\n\r\n        emit,\r\n        on,\r\n        off,\r\n\r\n        validateConfigData,\r\n        utils,\r\n        handler,\r\n        methods,\r\n    }\r\n\r\n    useRefer(refer)\r\n\r\n    /*---------------------------------------provider-------------------------------------------*/\r\n    provide(PLAIN_TABLE_PROVIDER, refer)\r\n\r\n    /*---------------------------------------lifecycle-------------------------------------------*/\r\n    onMounted(() => {\r\n        state.tableWidth = refs.$el.offsetWidth\r\n    })\r\n\r\n\r\n    return refer\r\n}\r\n\r\nexport type PlainTable = ReturnType<typeof tableSetup>\r\n\r\nexport default defineComponent({\r\n    name: 'pl-table',\r\n    props: {\r\n        ...TableProps,\r\n    },\r\n    setup(props) {\r\n\r\n        const {\r\n            slots,\r\n            state,\r\n            plcData,\r\n            classes,\r\n            isLoading,\r\n        } = tableSetup(props)\r\n\r\n        return () => (\r\n            <div class={classes.value} {...{directives: [{name: 'loading', value: isLoading.value}]}}>\r\n\r\n                <plc-collector ref=\"collector\">{slots.default()}</plc-collector>\r\n\r\n                {!!state.tableWidth && [<plt-head ref=\"head\"/>, <plt-body ref=\"body\"/>,]}\r\n\r\n                {!!props.debugPlc && state.tableWidth && printPlcData(plcData.value!.plcList)}\r\n            </div>\r\n        )\r\n    },\r\n})","import {getCurrentInstance} from \"@vue/composition-api\";\r\nimport {VNode} from \"vue/types/umd\";\r\n\r\nexport class ScopedSlotFunc<T> {\r\n\r\n}\r\n\r\ntype ScopedSlotFuncType = object\r\n\r\ntype ScopedSlotsContentType = VNode | (VNode | null)[] | null | undefined | string | number\r\n\r\nexport function useScopedSlots<T extends { [key: string]: ScopedSlotFuncType }>(option?: T): {\r\n    scopedSlots: { [key in keyof T]: (data: { param: T[key], content: ScopedSlotsContentType }) => ScopedSlotsContentType }\r\n        &\r\n        { default: (data: { param: object, content: ScopedSlotsContentType }) => ScopedSlotsContentType },\r\n    $scopedSlots: { [key in keyof T]?: (...args: any[]) => ScopedSlotsContentType }\r\n} {\r\n\r\n    const ctx = getCurrentInstance()!\r\n    const scopedSlots = {}\r\n    const $scopedSlots = {}\r\n\r\n    Object.keys(Object.assign({default: ScopedSlotFunc}, option || {})).forEach(key => {\r\n        scopedSlots[key] = ({param, content}) => {\r\n            const node = !!ctx.$scopedSlots[key] ? ctx.$scopedSlots[key]!(param) : content\r\n            return Array.isArray(node) ? node.filter(Boolean) : node\r\n        }\r\n\r\n        Object.defineProperty($scopedSlots, key, {\r\n            get() {\r\n                return ctx.$scopedSlots[key]\r\n            },\r\n        })\r\n    })\r\n\r\n    // @ts-ignore\r\n    return {scopedSlots, $scopedSlots}\r\n}","module.exports = Vue;","import {getCurrentInstance, inject, onBeforeUnmount, onMounted, provide, ref} from \"@vue/composition-api\";\r\n\r\nconst COLLECT_PROVIDER = '@@COLLECT_PROVIDER'\r\n\r\nfunction getIndex(el: HTMLElement): number {\r\n    return Array\r\n        .from(el!.parentNode!.childNodes)\r\n        .filter((item: any) => item.nodeName !== '#comment' && (!item.style || item.style.display !== 'none'))\r\n        .indexOf(el)\r\n}\r\n\r\nexport function useCollectParent(\r\n    {\r\n        sort = false,\r\n        onAdd,\r\n        onRemove,\r\n        provideString = COLLECT_PROVIDER,\r\n    }: {\r\n        sort: boolean,\r\n        onAdd?: (addItem: any) => void,\r\n        onRemove?: (removeItem: any) => void,\r\n        provideString?: string\r\n    } = {} as any) {\r\n    const items = ref([] as any[])\r\n    const utils = {\r\n        addItem: (item) => {\r\n            !!onAdd && onAdd(item)\r\n            if (sort) {\r\n                const index = getIndex(item.$el)\r\n                items.value.splice(index, 0, item)\r\n            } else {\r\n                items.value.push(item)\r\n            }\r\n        },\r\n        removeItem: (item) => {\r\n            !!onRemove && onRemove(item)\r\n            items.value.splice(items.value.indexOf(item), 1)\r\n        },\r\n    }\r\n\r\n    provide(provideString, {\r\n        utils,\r\n    })\r\n\r\n    return items\r\n}\r\n\r\nexport function useCollectChild(\r\n    {\r\n        provideString = COLLECT_PROVIDER,\r\n    }:\r\n        {\r\n            provideString: string\r\n        } = {} as any) {\r\n    const injectData = inject(provideString) as any\r\n    const ctx = getCurrentInstance()\r\n\r\n\r\n    if (!!injectData) {\r\n        onMounted(() => {\r\n            injectData.utils.addItem(ctx)\r\n        })\r\n        onBeforeUnmount(() => {\r\n            injectData.utils.removeItem(ctx)\r\n        })\r\n    }\r\n    return ctx\r\n}","import {PlainScroll} from \"@/packages/scroll/scroll\";\r\nimport {StyleType} from \"@/types/utils\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {injectTable} from \"@/packages/table/table/table\";\r\n\r\nfunction createIndicator(hostEl: HTMLElement, vertical: boolean) {\r\n\r\n    const indicatorSize = 15\r\n\r\n    const {top, height, left, width} = hostEl.getBoundingClientRect()\r\n\r\n    const indicator = {\r\n        start: document.createElement('div'),\r\n        end: document.createElement('div'),\r\n    }\r\n\r\n    $plain.utils.addClass(indicator.start, `pl-auto-scroll-indicator-start pl-auto-scroll-indicator-${vertical ? 'vertical' : 'horizontal'}`)\r\n    $plain.utils.addClass(indicator.end, `pl-auto-scroll-indicator-end pl-auto-scroll-indicator-${vertical ? 'vertical' : 'horizontal'}`)\r\n\r\n    const publicStyles = {\r\n        position: 'fixed',\r\n        left: `${left}px`,\r\n        top: `${top}px`,\r\n\r\n        width: `${vertical ? width : indicatorSize}px`,\r\n        height: `${vertical ? indicatorSize : height}px`,\r\n        zIndex: `${$plain.nextIndex()}`,\r\n    } as StyleType\r\n\r\n    Object.assign(indicator.start.style, publicStyles)\r\n\r\n    if (vertical) {\r\n        let bottomIndicatorTop = top + height - indicatorSize\r\n        bottomIndicatorTop = Math.min(bottomIndicatorTop, document.body.offsetHeight - indicatorSize)\r\n\r\n        Object.assign(indicator.end.style, {\r\n            ...publicStyles,\r\n            top: `${bottomIndicatorTop}px`,\r\n        } as StyleType)\r\n    } else {\r\n        let rightIndicatorLeft = left + width - indicatorSize\r\n        rightIndicatorLeft = Math.min(rightIndicatorLeft, document.body.offsetWidth - indicatorSize)\r\n        Object.assign(indicator.end.style, {\r\n            ...publicStyles,\r\n            left: `${rightIndicatorLeft}px`,\r\n        } as StyleType)\r\n    }\r\n\r\n    document.body.appendChild(indicator.start)\r\n    document.body.appendChild(indicator.end)\r\n\r\n    return indicator\r\n}\r\n\r\nexport function useDraggierAutoScroller(config?: {\r\n    vertical: boolean,\r\n    getScroll: () => PlainScroll,\r\n}) {\r\n\r\n    const table = injectTable()\r\n\r\n    const {vertical, getScroll} = config || {\r\n        vertical: true,\r\n        getScroll: () => table.refs.body.$refs.virtualTable.$refs.scroll\r\n    }\r\n\r\n    const state = {\r\n        indicator: null as null | ReturnType<typeof createIndicator>\r\n    }\r\n\r\n    const methods = {\r\n        showHover() {\r\n\r\n            const scroll = getScroll()\r\n            state.indicator = createIndicator(scroll.refs.host, vertical)\r\n\r\n            const handler = {\r\n                enterStart: () => {\r\n                    vertical ? scroll.methods.autoScrollTop() : scroll.methods.autoScrollLeft()\r\n                },\r\n                enterEnd: () => {\r\n                    vertical ? scroll.methods.autoScrollBottom() : scroll.methods.autoScrollRight()\r\n                },\r\n                leave: () => {\r\n                    scroll.methods.stopAutoScroll()\r\n                }\r\n            }\r\n\r\n            state.indicator.start.addEventListener('mouseenter', handler.enterStart)\r\n            state.indicator.end.addEventListener('mouseenter', handler.enterEnd)\r\n\r\n            state.indicator.start.addEventListener('mouseleave', handler.leave)\r\n            state.indicator.end.addEventListener('mouseleave', handler.leave)\r\n        },\r\n        hideHover() {\r\n            if (!!state.indicator) {\r\n                state.indicator.start.parentNode!.removeChild(state.indicator.start)\r\n                state.indicator.end.parentNode!.removeChild(state.indicator.end)\r\n            }\r\n        },\r\n    }\r\n\r\n    return {\r\n        methods,\r\n    }\r\n}","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-menu.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-menu.vue?vue&type=style&index=0&lang=scss&\"","!function(e){var t,n,o,i,c,a,d,l='<svg><symbol id=\"plicon-diamond\" viewBox=\"0 0 1024 1024\"><path d=\"M414.686648 879.095035C336.077966 749.164235 253.378126 622.849727 150.112911 514.981959 253.378126 407.041135 336.077966 280.836211 414.686648 150.868884c78.535625 129.9308 161.235465 256.208779 264.537208 364.113075-103.301743 107.867768-185.965055 234.145748-264.537208 364.113076z\"  ></path></symbol><symbol id=\"plicon-git\" viewBox=\"0 0 1024 1024\"><path d=\"M0 520.886c0-69.368 13.51-135.697 40.498-199.02 26.987-63.323 63.322-117.826 109.006-163.51 45.65-45.65 100.154-81.985 163.51-109.006A502.289 502.289 0 0 1 512 8.92c69.335 0 135.663 13.477 198.986 40.497 63.356 26.988 117.86 63.323 163.51 109.007 45.684 45.65 82.02 100.154 109.006 163.51A502.289 502.289 0 0 1 1024 520.852c0 111.318-32.504 211.472-97.511 300.494-64.975 88.989-148.48 150.825-250.484 185.476-5.351 0-9.348-0.99-11.99-2.973-2.676-1.982-4.196-3.997-4.526-6.012a59.458 59.458 0 0 1-0.495-8.984 7.663 7.663 0 0 1-0.991-3.006v-128.99c0-40.63-14.336-75.314-43.008-103.986 76.667-13.345 134.011-41.819 171.999-85.487 37.987-43.669 57.013-96.52 57.013-158.522 0-58.005-18.663-108.346-56.022-150.99 13.345-42.678 11-87.668-6.97-135.003-18.697-1.322-39.011 1.85-61.01 9.513-22 7.663-38.318 14.831-49.02 21.47-10.637 6.673-20.316 13.016-28.97 19.027-38.68-10.669-81.854-16.02-129.486-16.02-47.7 0-90.509 5.351-128.529 16.02-7.333-5.35-15.855-11.164-25.5-17.507-9.68-6.342-26.493-14.005-50.507-22.99-23.982-9.018-45.65-12.85-65.008-11.495-18.663 47.996-20.645 93.646-5.979 136.984-36.665 42.678-54.998 92.986-54.998 150.99 0 62.002 18.663 114.689 55.99 157.994 37.326 43.339 94.67 72.01 171.998 86.016a142.303 142.303 0 0 0-39.969 70.029c-56.683 13.972-96.355 3.963-119.015-30.06-42.017-61.308-79.674-83.307-113.003-65.965-4.69 4.657-3.997 9.48 1.982 14.501 6.012 4.988 14.996 11.66 27.02 19.985 11.99 8.357 20.976 17.507 26.987 27.515 0.661 1.322 2.51 6.177 5.517 14.502a831.917 831.917 0 0 0 8.985 23.981c2.973 7.663 8.654 16.186 17.011 25.5 8.324 9.349 18.003 17.178 29.003 23.52 11 6.309 26.161 11 45.485 14.006 19.324 2.972 41.323 3.138 65.998 0.495v100.484c0 0.991-0.165 2.643-0.495 5.021-0.33 2.312-0.991 3.964-1.982 4.955-0.991 1.024-2.345 2.015-4.03 3.039a12.52 12.52 0 0 1-6.474 1.486c-2.676 0-6.012-0.33-10.009-0.99-101.343-35.345-183.825-97.182-247.51-185.51C31.842 731.037 0 631.577 0 520.92z\"  ></path></symbol><symbol id=\"plicon-gitee\" viewBox=\"0 0 1024 1024\"><path d=\"M512 1024C229.2224 1024 0 794.7776 0 512S229.2224 0 512 0s512 229.2224 512 512-229.2224 512-512 512z m259.1488-568.8832H480.4096a25.2928 25.2928 0 0 0-25.2928 25.2928l-0.0256 63.2064c0 13.952 11.3152 25.2928 25.2672 25.2928h177.024c13.9776 0 25.2928 11.3152 25.2928 25.2672v12.6464a75.8528 75.8528 0 0 1-75.8528 75.8528H366.592a25.2928 25.2928 0 0 1-25.2672-25.2928v-240.1792a75.8528 75.8528 0 0 1 75.8272-75.8528h353.9456a25.2928 25.2928 0 0 0 25.2672-25.2928l0.0768-63.2064a25.2928 25.2928 0 0 0-25.2672-25.2928H417.152a189.6192 189.6192 0 0 0-189.6192 189.6448v353.9456c0 13.9776 11.3152 25.2928 25.2928 25.2928h372.9408a170.6496 170.6496 0 0 0 170.6496-170.6496v-145.408a25.2928 25.2928 0 0 0-25.2928-25.2672z\"  ></path></symbol></svg>',s=(t=document.getElementsByTagName(\"script\"))[t.length-1].getAttribute(\"data-injectcss\");if(s&&!e.__iconfont__svg__cssinject__){e.__iconfont__svg__cssinject__=!0;try{document.write(\"<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>\")}catch(e){console&&console.log(e)}}function r(){a||(a=!0,i())}n=function(){var e,t,n,o,i,c=document.createElement(\"div\");c.innerHTML=l,l=null,(e=c.getElementsByTagName(\"svg\")[0])&&(e.setAttribute(\"aria-hidden\",\"true\"),e.style.position=\"absolute\",e.style.width=0,e.style.height=0,e.style.overflow=\"hidden\",t=e,(n=document.body).firstChild?(o=t,(i=n.firstChild).parentNode.insertBefore(o,i)):n.appendChild(t))},document.addEventListener?~[\"complete\",\"loaded\",\"interactive\"].indexOf(document.readyState)?setTimeout(n,0):(o=function(){document.removeEventListener(\"DOMContentLoaded\",o,!1),n()},document.addEventListener(\"DOMContentLoaded\",o,!1)):document.attachEvent&&(i=n,c=e.document,a=!1,(d=function(){try{c.documentElement.doScroll(\"left\")}catch(e){return void setTimeout(d,50)}r()})(),c.onreadystatechange=function(){\"complete\"==c.readyState&&(c.onreadystatechange=null,r())})}(window);","import {toArray} from \"@/util/util\";\r\nimport {reactive, watch} from \"@vue/composition-api\";\r\n\r\nexport enum FormatPropsType {\r\n    promise = 'promise',\r\n    function = 'function',\r\n    number = 'number',\r\n}\r\n\r\nfunction formatValue(state: any, key: string, val: any, types: FormatPropsType | FormatPropsType[]) {\r\n\r\n    if (val == null) {\r\n        return state[key] = val\r\n    }\r\n\r\n    types = toArray(types)\r\n    if (types.indexOf(FormatPropsType.promise) > -1 && !!val.then && typeof val.then === 'function') {\r\n        return val.then(val => state[key] = val)\r\n    }\r\n    if (types.indexOf(FormatPropsType.function) > -1 && typeof val === 'function') {\r\n        return state[key] = val()\r\n    }\r\n    if (types.indexOf(FormatPropsType.number) > -1) {\r\n        val = String(val)\r\n\r\n        if (/^[\\d]+$/.test(val)) {\r\n            val = Number(val)\r\n        } else {\r\n            if (val.lastIndexOf('px') === val.length - 2) {\r\n                val = Number(val.replace('px', ''))\r\n            }\r\n        }\r\n\r\n        return state[key] = val\r\n    }\r\n\r\n    return state[key] = val\r\n}\r\n\r\n/**\r\n * 格式化props中的部分属性，产生一个state，支持异步格式化\r\n * @author  韦胜健\r\n * @date    2020/5/13 14:53\r\n */\r\nexport function useProps<T extends object, O extends { [key in keyof T]?: FormatPropsType | FormatPropsType[] }>(props: T, option: O, watcher?: any): { [key in keyof O]: any } {\r\n    const keys = Object.keys(option)\r\n\r\n    let state = {} as any\r\n    keys.forEach(key => state[key] = null)\r\n    state = reactive(state)\r\n\r\n    keys.forEach(key => {\r\n        watch(\r\n            () => props[key],\r\n            (val) => {\r\n                formatValue(state, key, val, option[key])\r\n            },\r\n            {immediate: true}\r\n        )\r\n    })\r\n\r\n    return state\r\n}","import {getCurrentInstance} from \"@vue/composition-api\";\r\nimport {VNode} from \"vue/types/umd\";\r\n\r\ntype SlotFuncType = (vn?: VNode | null | string | number | (VNode | null | string | number)[]) => VNode | null | string | number | (VNode | null | string | number)[]\r\nexport const SlotFunc: SlotFuncType = () => 1\r\n\r\nfunction formatSlotResult(vnode: any) {\r\n    if (Array.isArray(vnode)) {\r\n        return vnode.filter(node => node != null)\r\n    } else {\r\n        return vnode\r\n    }\r\n}\r\n\r\nexport function useSlots<T extends { [key: string]: SlotFuncType }>(options?: T): { slots: { default: SlotFuncType } & T, $slots: { default: VNode | null } & { [key in keyof T]: VNode | null } } {\r\n\r\n    const ctx = getCurrentInstance()!\r\n\r\n    // 这样写就是响应式的了\r\n    const $slots = {};\r\n    [...Object.keys(options || {}), 'default'].forEach(key => {\r\n        Object.defineProperty($slots, key, {\r\n            get(): any {\r\n                return ctx.$slots[key]\r\n            }\r\n        })\r\n    })\r\n\r\n    return {\r\n        // @ts-ignore\r\n        slots: {\r\n            ...[...Object.keys(options || {}), 'default'].reduce((ret, key) => {\r\n                ret[key] = (vNode) => {\r\n                    return formatSlotResult(!!ctx.$slots[key] ? ctx.$slots[key] : vNode)\r\n                }\r\n                return ret\r\n            }, {})\r\n        },\r\n        // @ts-ignore\r\n        $slots,\r\n    }\r\n\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('app-home')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-home\"},[_c('app-header',{on:{\"click-refresh\":function($event){return _vm.$refs.nav.refresh()}}}),_c('app-menu',{attrs:{\"currentPath\":_vm.currentPath},on:{\"click-menu-item\":function (menu){ return this$1.$refs.nav.open(menu); }}}),_c('app-content',[_c('app-navigator',{ref:\"nav\",attrs:{\"default-path\":\"/normal/button\"},on:{\"open\":_vm.onOpen}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-content\",style:(_vm.rootStyles)},[_c('div',{staticClass:\"app-content-body\"},[_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"app-content\" :style=\"rootStyles\">\r\n        <div class=\"app-content-body\">\r\n            <slot></slot>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import PlainUtils from \"../../submodules/plain-utils\";\r\n\r\n    export default {\r\n        name: \"app-content\",\r\n        inject: {\r\n            appHome: {}\r\n        },\r\n        data() {\r\n            return {\r\n                label: new Promise((resolve) => {\r\n                    setTimeout(() => resolve('HELLO'), 1000)\r\n                })\r\n            }\r\n        },\r\n        computed: {\r\n            rootStyles() {\r\n                return {\r\n                    paddingTop: PlainUtils.suffixPx(this.appHome.headerHeight),\r\n                    paddingLeft: PlainUtils.suffixPx(this.appHome.menuWidth),\r\n                    paddingRight: '1px',\r\n                }\r\n            },\r\n        },\r\n        methods: {\r\n            onClick(e) {\r\n                console.log('click', new Date().getTime(), e,)\r\n            },\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    .app-content {\r\n        box-sizing: border-box;\r\n        width: 100%;\r\n\r\n        .app-content-body {\r\n            margin: 0 auto;\r\n            text-align: left;\r\n            width: 800px;\r\n            min-height: calc(100vh - 200px);\r\n            padding: 36px 0;\r\n        }\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-content.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-content.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./app-content.vue?vue&type=template&id=1951d8b6&\"\nimport script from \"./app-content.vue?vue&type=script&lang=js&\"\nexport * from \"./app-content.vue?vue&type=script&lang=js&\"\nimport style0 from \"./app-content.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{staticClass:\"app-header\",style:(_vm.rootStyles)},[_c('div',{staticClass:\"app-header-left\",style:(_vm.leftStyle)},[_c('plain-logo')],1),_c('ul',{staticClass:\"app-header-right\"},[_c('li',[_c('a',{attrs:{\"href\":_vm.codeUrl,\"target\":\"_blank\"}},[_c('pl-button',{attrs:{\"mode\":\"text\"}},[_vm._v(\" \"+_vm._s(_vm.codeUrl)+\" \")])],1)]),_c('li',[_vm._v(\"文档\")]),_c('li',[_vm._v(\"示例\")]),_c('li',[_vm._v(\"PLAIN\")]),_c('li',[_c('a',{attrs:{\"href\":\"https://gitee.com/plain-pot/plain-ui/blob/master\",\"target\":\"_blank\"}},[_c('pl-icon',{attrs:{\"icon\":\"plc-gitee\",\"status\":\"primary\"}})],1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <header class=\"app-header\" :style=\"rootStyles\">\r\n        <div class=\"app-header-left\" :style=\"leftStyle\">\r\n            <plain-logo/>\r\n        </div>\r\n        <ul class=\"app-header-right\">\r\n            <li>\r\n                <a :href=\"codeUrl\" target=\"_blank\">\r\n                    <pl-button mode=\"text\">\r\n                        {{codeUrl}}\r\n                    </pl-button>\r\n                </a>\r\n            </li>\r\n            <li>文档</li>\r\n            <li>示例</li>\r\n            <li>PLAIN</li>\r\n            <li>\r\n                <a href=\"https://gitee.com/plain-pot/plain-ui/blob/master\" target=\"_blank\">\r\n                    <pl-icon icon=\"plc-gitee\" status=\"primary\"/>\r\n                </a>\r\n            </li>\r\n            <!--<li>\r\n                <pl-icon icon=\"plc-git\"/>\r\n            </li>-->\r\n        </ul>\r\n    </header>\r\n</template>\r\n\r\n<script>\r\n    import PlainUtils from \"../../submodules/plain-utils\";\r\n\r\n    export default {\r\n        name: \"app-header\",\r\n        inject: {\r\n            appHome: {}\r\n        },\r\n        computed: {\r\n            codeUrl() {\r\n                return `https://gitee.com/plain-pot/plain-ui/tree/master/src-doc/page${this.appHome.currentPath}.vue`\r\n            },\r\n            leftStyle() {\r\n                return {\r\n                    width: PlainUtils.suffixPx(this.appHome.menuWidth)\r\n                }\r\n            },\r\n            rootStyles() {\r\n                return {\r\n                    height: PlainUtils.suffixPx(this.appHome.headerHeight)\r\n                }\r\n            },\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    @include theme {\r\n        .app-header {\r\n            position: fixed;\r\n            top: 0;\r\n            left: 0;\r\n            width: 100%;\r\n            box-shadow: $boxshadow;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: space-between;\r\n            background-color: white;\r\n            z-index: 2;\r\n\r\n            .app-header-left {\r\n                text-align: center;\r\n            }\r\n\r\n            .app-header-right {\r\n                height: 100%;\r\n                display: flex;\r\n                align-items: center;\r\n                justify-content: center;\r\n                padding-right: 64px;\r\n                list-style: none;\r\n\r\n                & > li {\r\n                    padding: 0 24px;\r\n                    font-size: 14px;\r\n                    cursor: pointer;\r\n                    color: $itl;\r\n                    height: 100%;\r\n                    display: flex;\r\n                    align-items: center;\r\n\r\n                    &:hover {\r\n                        color: $colorPrimary;\r\n                    }\r\n\r\n                    &:last-child {\r\n                        padding-right: 12px;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-header.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-header.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./app-header.vue?vue&type=template&id=8c265d3a&\"\nimport script from \"./app-header.vue?vue&type=script&lang=js&\"\nexport * from \"./app-header.vue?vue&type=script&lang=js&\"\nimport style0 from \"./app-header.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-menu\",style:(_vm.rootStyles)},[_c('pl-scroll',[_c('div',{staticClass:\"app-menu-list\"},[_c('ul',_vm._l((_vm.menus),function(menuGroup){return _c('li',{key:menuGroup.name},[_c('div',{staticClass:\"app-menu-group-name\"},[_c('pl-icon',{attrs:{\"icon\":\"plc-diamond\",\"status\":\"primary\"}}),_c('span',[_vm._v(_vm._s(menuGroup.name))])],1),_c('ul',_vm._l((menuGroup.children),function(menu){return _c('li',{key:menu.title,class:{'app-menu-active':_vm.currentPath === menu.page},on:{\"click\":function($event){return _vm.handleClickMenu(menu)}}},[_c('div',{staticClass:\"app-menu-name\"},[_c('span',[_vm._v(_vm._s(menu.name))]),_c('span',[_vm._v(_vm._s(menu.title))]),(!!menu.complete)?_c('pl-icon',{attrs:{\"icon\":\"el-icon-star-on\",\"status\":\"primary\"}}):_vm._e()],1)])}),0)])}),0)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default [\r\n    {name: '简介'},\r\n    {name: '快速上手'},\r\n    {\r\n        name: '基础', children: [\r\n            {name: 'Color', title: '颜色', icon: 'pl-color', page: '/normal/color', complete: true},\r\n            {name: 'Icon', title: '图标', icon: 'pad-font-colors', page: '/normal/icon', complete: true},\r\n            {name: 'Button', title: '按钮', icon: 'pad-play-circle', page: '/normal/button', complete: true},\r\n            {name: 'Grid', title: '栅格', icon: 'pad-play-circle', page: '/normal/grid', complete: true},\r\n            // {name: 'Container', title: '容器', icon: 'pad-play-circle', page: '/normal/container', complete: false},\r\n        ]\r\n    },\r\n    {\r\n        name: '表单元素', children: [\r\n            {name: 'Input', title: '输入框', icon: 'pl-edit-square-light', page: '/normal/input', complete: true},\r\n            // {name: 'Textarea', title: '文本域', icon: 'pl-textarea', page: '/normal/textarea', complete: false},\r\n            {name: 'Radio', title: '单选框', icon: 'pl-circle-radio', page: '/normal/radio', complete: true},\r\n            {name: 'Checkbox', title: '复选框', icon: 'pl-circle-radio', page: '/normal/checkbox', complete: true},\r\n            {name: 'Number', title: '数字输入', icon: 'pl-number', page: '/normal/number', complete: true},\r\n            {name: 'Loading', title: '加载', icon: 'pl-loading-section-three', page: '/normal/loading', complete: true},\r\n            {name: 'Select', title: '下拉选择', icon: 'pad-down', page: '/normal/select', complete: true},\r\n            {name: 'Toggle', title: '开关切换', icon: 'pl-toggle', page: '/normal/toggle', complete: true},\r\n            {name: 'Slider', title: '滑块', icon: 'pl-slider', page: '/normal/slider', complete: true},\r\n            {name: 'Tag', title: '标签', icon: 'pl-icon-tag', page: '/normal/tag', complete: true},\r\n            {name: 'Rate', title: '评分', icon: 'pad-star', page: '/normal/rate', complete: true},\r\n            {name: 'ColorPicker', title: '颜色选择', icon: 'pl-color', page: '/normal/color-picker', complete: true},\r\n\r\n            {name: 'Cascade', title: '级联选择', icon: 'pad-doubledown', page: '/normal/cascade', complete: true},\r\n            {name: 'Time', title: '时间选择', icon: 'pl-time-circle-light', page: '/normal/time', complete: true},\r\n            {name: 'Date', title: '日期选择', icon: 'pl-date-fill', page: '/normal/date', complete: true},\r\n            {name: 'Upload', title: '文件上传', icon: 'pad-file', page: '/normal/upload', complete: false},\r\n            {name: 'Img', title: '图片上传', icon: 'pad-image', page: '/normal/img', complete: false},\r\n        ]\r\n    },\r\n    {\r\n        name: '表单示例', children: [\r\n            {name: 'Form', title: '表单基础', icon: 'pl-form', page: '/form/form', complete: true},\r\n            {name: 'Form', title: '表单多列', icon: 'pl-form', page: '/form/form-multi-column', complete: true},\r\n            {name: 'Form', title: '表单尺寸', icon: 'pl-form', page: '/form/form-size', complete: true},\r\n            {name: 'Form', title: '表单控制', icon: 'pl-form', page: '/form/form-edit-control', complete: true},\r\n            {name: 'Form', title: '表单校验', icon: 'pl-form', page: '/form/form-validate', complete: true},\r\n            {name: 'Form', title: '校验blur', icon: 'pl-form', page: '/form/form-blur', complete: true},\r\n            {name: 'Form', title: '表单组件', icon: 'pl-form', page: '/form/form-elements', complete: true},\r\n            {name: 'Form', title: '校验模式', icon: 'pl-form', page: '/form/form-validate-mode', complete: true},\r\n        ]\r\n    },\r\n    {\r\n        name: '视图', children: [\r\n            {name: 'List', title: '列表', icon: 'pl-list', page: '/normal/list', complete: true},\r\n            {name: 'VirtualList', title: '虚拟列表', icon: 'pl-list', page: '/normal/virtual-list', complete: true},\r\n            {name: 'Progress', title: '进度条', icon: 'pl-progress', page: '/normal/progress', complete: true},\r\n            {name: 'Tree', title: '树形组件', icon: 'pl-tree', page: '/normal/tree', complete: true},\r\n            {name: 'Virtual Tree', title: '虚拟树', icon: 'pl-tree', page: '/normal/virtual-tree', complete: true},\r\n            {name: 'Pagination', title: '分页', icon: 'pl-book2', page: '/normal/pagination', complete: true},\r\n            {name: 'Badge', title: '标记', icon: 'pl-badge', page: '/normal/badge', complete: true},\r\n            {name: 'Step', title: '步骤条', icon: 'pl-step', page: '/normal/step', complete: true},\r\n            {name: 'Tab', title: '页签', icon: 'pl-tabs', page: '/normal/tab', complete: true},\r\n            // {name: 'Transform', title: '穿梭框', icon: 'pl-exchange', page: '/normal/transform', complete: false},\r\n        ]\r\n    },\r\n    {\r\n        name: '导航', children: [\r\n            {name: 'NavTab', title: '页签导航', icon: 'pl-tabs', page: '/nav/nav-tab', complete: false},\r\n            {name: 'NavPages', title: '页面导航', icon: 'pl-page', page: '/nav/nav-page', complete: false},\r\n            {name: 'Nav', title: '应用导航', icon: 'pl-tabs', page: '/nav/nav', complete: false},\r\n        ]\r\n    },\r\n    {\r\n        name: '其他', children: [\r\n            {name: 'Scroll', title: '滚动条', icon: 'icon-scroll', page: '/normal/scroll', complete: true},\r\n            {name: 'Dialog', title: '对话框', icon: 'pl-window', page: '/normal/dialog', complete: true},\r\n            {name: 'Tooltip', title: '文字提示', icon: 'pl-tooltip', page: '/normal/tooltip', complete: true},\r\n            {name: 'Dropdown', title: '悬浮层', icon: 'pl-popper', page: '/normal/dropdown', complete: true},\r\n            {name: 'Popover', title: '弹出框', icon: 'pl-popper', page: '/normal/popover', complete: true},\r\n            {name: 'Popper', title: '悬浮框', icon: 'pl-popper', page: '/normal/popper', complete: true},\r\n            {name: 'Card', title: '卡片', icon: 'pl-card', page: '/normal/card', complete: true},\r\n            {name: 'Carousel', title: '轮播', icon: 'pl-carousel', page: '/normal/carousel', complete: true},\r\n            {name: 'Collapse', title: '折叠面板', icon: 'pl-collapse', page: '/normal/collapse', complete: true},\r\n            {name: 'Alert', title: '提示信息', icon: 'pl-collapse', page: '/normal/alert', complete: true},\r\n            {name: 'Portal', title: '迁移DOM元素', icon: 'icon-scroll', page: '/normal/portal', complete: true},\r\n            {name: 'Triangle', title: '三角形元素', icon: 'icon-scroll', page: '/normal/triangle', complete: true},\r\n            {name: 'FilletCorner', title: '圆角', icon: 'icon-scroll', page: '/normal/fillet-corner', complete: true},\r\n            {name: 'TabHeader', title: '页签头组件', icon: 'icon-scroll', page: '/normal/tab-header', complete: true},\r\n        ]\r\n    },\r\n    {\r\n        name: '服务', children: [\r\n            {name: '$message', title: '消息服务', icon: 'pad-message', page: '/service/message-service', complete: true},\r\n            {name: '$select', title: '选择服务', icon: 'pad-message', page: '/service/select-service', complete: false},\r\n            // {name: '$popper', title: '悬浮框服务', icon: 'pad-message', page: '/service/popper-service', complete: false},\r\n            {name: '$dialog', title: '对话框服务', icon: 'pl-window', page: '/service/dialog-service', complete: true},\r\n            {name: '$notice', title: '通知', icon: 'pad-bell', page: '/service/notice-service', complete: true},\r\n            {name: '$file', title: '文件服务', icon: 'pad-bell', page: '/service/file', complete: false},\r\n        ]\r\n    },\r\n    {\r\n        name: '表格', children: [\r\n            {name: 'Virtual', title: 'pl-virtual-table', icon: 'pl-table-solid', page: '/table/virtual-table', complete: true},\r\n            {name: 'Basic', title: '基础表格', icon: 'pl-table-solid', page: '/table/table-basic', complete: true},\r\n            {name: 'Test', title: '基础测试', icon: 'pl-table-solid', page: '/table/table-base-test', complete: true},\r\n            {name: 'Config', title: '自定义配置', icon: 'pl-table-solid', page: '/table/table-config', complete: true},\r\n            {name: 'Fixed', title: '固定列', icon: 'pl-table-solid', page: '/table/table-fixed', complete: true},\r\n            {name: 'ScopedSlot', title: '列作用域插槽', icon: 'pl-table-solid', page: '/table/table-plc-scoped-slot', complete: true},\r\n\r\n            // {name: 'Table Fill', title: '宽高填满父元素', icon: 'pl-table-solid', page: '/table/base-table-fit-parent', complete: false},\r\n            // {name: 'Table Basic Props', title: '基本属性', icon: 'pl-table-solid', page: '/table/base-table-props', complete: false},\r\n            // {name: 'Table Edit', title: '基本编辑', icon: 'pl-table-solid', page: '/table/base-table-edit', complete: false},\r\n            // {name: 'Table Column Props', title: '列属性', icon: 'pl-table-solid', page: '/table/base-table-column-prop', complete: false},\r\n            {name: 'Dynamic Control', title: '列动态控制', icon: 'pl-table-solid', page: '/table/table-plc-editable', complete: true},\r\n            // {name: 'Table Column Slots', title: '列插槽', icon: 'pl-table-solid', page: '/table/base-table-slot', complete: false},\r\n            // {name: 'Table Tooltip', title: '列显示', icon: 'pl-table-solid', page: '/table/base-table-tooltip', complete: false},\r\n            {name: 'Plc', title: '列组件', icon: 'pl-table-solid', page: '/table/table-columns', complete: true},\r\n            // {name: 'Table Methods', title: '方法', icon: 'pl-table-solid', page: '/table/base-table-methods', complete: false},\r\n            {name: 'Expand', title: '展开列', icon: 'pl-table-solid', page: '/table/table-expand', complete: true},\r\n            {name: 'Span', title: '合并单元格', icon: 'pl-table-solid', page: '/table/span/table-span', complete: true},\r\n            {name: 'Tree', title: '树形表格', icon: 'pl-table-solid', page: '/table/tree/table-tree', complete: true},\r\n            {name: 'Row Draggable', title: '行拖拽排序', icon: 'pl-table-solid', page: '/table/table-row-draggable', complete: true},\r\n            {name: 'Col Draggable', title: '列拖拽排序', icon: 'pl-table-solid', page: '/table/table-col-draggable', complete: true},\r\n            {name: 'Table class-style', title: '行列样式', icon: 'pl-table-solid', page: '/table/table-class-style', complete: true},\r\n        ]\r\n    },\r\n    {\r\n        name: 'Sticky Table',\r\n        children: [\r\n            {name: 'Sticky Table', title: '另一种形式的表格', page: '/sticky-table/demo-sticky-table', complete: true},\r\n            {name: 'Sticky', title: '粘粘组件', page: '/sticky-table/demo-sticky', complete: true},\r\n        ]\r\n    },\r\n    {name: '指令'},\r\n    {\r\n        name: '测试', children: [\r\n            {name: 'Test', title: '测试手动渲染实例', icon: 'pl-table-solid', page: '/normal/test', complete: true},\r\n            {name: 'Drag', title: '测试拖拽节点', icon: 'pl-table-solid', page: '/test/test-drag', complete: true},\r\n            {name: 'Svg', title: '测试svg', icon: 'pl-table-solid', page: '/test/test-svg', complete: true},\r\n            {name: 'Canvas', title: '测试canvas', icon: 'pl-table-solid', page: '/test/test-canvas', complete: true},\r\n            {name: 'High', title: '测试高阶组件', icon: 'pl-table-solid', page: '/test/test-high', complete: true},\r\n            {name: 'Listener', title: '测试事件', icon: 'pl-table-solid', page: '/test/test-listener', complete: true},\r\n            {name: 'Filter', title: '异步过滤器', icon: 'pl-table-solid', page: '/test/test-filter', complete: true},\r\n            {name: 'List Draggier', title: '列表拖拽排序', icon: 'pl-table-solid', page: '/test/test-list-draggier', complete: true},\r\n        ]\r\n    },\r\n]","<template>\r\n    <div class=\"app-menu\" :style=\"rootStyles\">\r\n        <pl-scroll>\r\n            <div class=\"app-menu-list\">\r\n                <ul>\r\n                    <li v-for=\"menuGroup in menus\" :key=\"menuGroup.name\">\r\n                        <div class=\"app-menu-group-name\">\r\n                            <pl-icon icon=\"plc-diamond\" status=\"primary\"/>\r\n                            <span>{{menuGroup.name}}</span>\r\n                        </div>\r\n                        <ul>\r\n                            <li v-for=\"menu in menuGroup.children\" :key=\"menu.title\" @click=\"handleClickMenu(menu)\" :class=\"{'app-menu-active':currentPath === menu.page}\">\r\n                                <div class=\"app-menu-name\">\r\n                                    <span>{{menu.name}}</span>\r\n                                    <span>{{menu.title}}</span>\r\n                                    <pl-icon icon=\"el-icon-star-on\" status=\"primary\" v-if=\"!!menu.complete\"/>\r\n                                </div>\r\n                            </li>\r\n                        </ul>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </pl-scroll>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import PlainUtils from \"../../submodules/plain-utils\";\r\n    import menus from '../menus'\r\n\r\n    export default {\r\n        name: \"app-menu\",\r\n        inject: {\r\n            appHome: {}\r\n        },\r\n        props: {\r\n            currentPath: {type: String},\r\n        },\r\n        data() {\r\n            return {\r\n                menus,\r\n                handleClickMenu(menu) {\r\n                    this.$emit('click-menu-item', menu)\r\n                },\r\n            }\r\n        },\r\n        computed: {\r\n            rootStyles() {\r\n                return {\r\n                    width: PlainUtils.suffixPx(this.appHome.menuWidth),\r\n                    top: PlainUtils.suffixPx(this.appHome.headerHeight + 16),\r\n                }\r\n            },\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    @include theme {\r\n        .app-menu {\r\n            position: fixed;\r\n            left: 0;\r\n            bottom: 16px;\r\n\r\n            ul {\r\n                list-style: none;\r\n                margin: 0;\r\n                padding: 0;\r\n\r\n                .app-menu-name, .app-menu-group-name {\r\n                    font-size: 13px;\r\n                    height: 40px;\r\n                    line-height: 40px;\r\n                    white-space: nowrap;\r\n                    margin-bottom: 8px;\r\n                    margin-top: 4px;\r\n                    color: $itc;\r\n                    padding-left: 32px;\r\n                    cursor: pointer;\r\n                    transition: all 300ms linear;\r\n\r\n                    &:hover {\r\n                        background-color: rgba($colorPrimary, 0.1);\r\n                        color: $colorPrimary;\r\n                    }\r\n                }\r\n\r\n                .app-menu-name {\r\n                    position: relative;\r\n\r\n                    & > span {\r\n                        &:nth-child(2) {\r\n                            font-size: 12px;\r\n                            margin-left: 0.5em;\r\n                            color: #ccc;\r\n                        }\r\n                    }\r\n\r\n                    .pl-icon {\r\n                        position: absolute;\r\n                        right: 16px;\r\n                        line-height: 40px;\r\n                    }\r\n                }\r\n\r\n                .app-menu-group-name {\r\n                    padding-left: 20px;\r\n                    letter-spacing: 1px;\r\n                    font-size: 12px;\r\n                    font-weight: 600;\r\n                    color: $ihc;\r\n                }\r\n            }\r\n\r\n            &:after {\r\n                position: absolute;\r\n                top: 0;\r\n                bottom: 0;\r\n                right: -30px;\r\n                width: 30px;\r\n                content: '';\r\n                box-shadow: inset 10px 0 8px -8px #f0f1f2;\r\n            }\r\n        }\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-menu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-menu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./app-menu.vue?vue&type=template&id=63ec8578&\"\nimport script from \"./app-menu.vue?vue&type=script&lang=js&\"\nexport * from \"./app-menu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./app-menu.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-navigator\"},[(_vm.PageComponent)?_c(_vm.PageComponent,{key:_vm.key,tag:\"component\"}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"app-navigator\">\r\n        <component :is=\"PageComponent\" v-if=\"PageComponent\" :key=\"key\"/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"app-navigator\",\r\n        props: {\r\n            defaultPath: {require: true},\r\n        },\r\n        data() {\r\n            return {\r\n                PageComponent: null,\r\n                key: 0,\r\n            }\r\n        },\r\n        mounted() {\r\n            this.init()\r\n\r\n            window.addEventListener('hashchange', () => this.init())\r\n        },\r\n        methods: {\r\n            async init() {\r\n                let hash = window.location.hash || this.defaultPath;\r\n                hash = hash.replace('#', '')\r\n                this.openPage(hash)\r\n            },\r\n            async refresh() {\r\n                this.key++\r\n            },\r\n            async openPage(path) {\r\n                const PageComponent = await this.getPageComponent(path)\r\n                if (!PageComponent) return\r\n                window.location.hash = decodeURI(path)\r\n                this.$emit('open', path)\r\n                this.PageComponent = PageComponent\r\n            },\r\n            async getPageComponent(path) {\r\n                try {\r\n                    return (await import('src-doc/page' + path + '.vue')).default\r\n                } catch (e) {\r\n                    console.log(`未找到页面：` + path)\r\n                    return null\r\n                }\r\n            },\r\n            async open(menu) {\r\n                const path = menu.page\r\n                this.openPage(path)\r\n            },\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-navigator.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-navigator.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./app-navigator.vue?vue&type=template&id=3a46a236&\"\nimport script from \"./app-navigator.vue?vue&type=script&lang=js&\"\nexport * from \"./app-navigator.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"app-home\">\r\n        <app-header @click-refresh=\"$refs.nav.refresh()\"/>\r\n        <app-menu @click-menu-item=\"menu=>this.$refs.nav.open(menu)\" :currentPath=\"currentPath\"/>\r\n        <app-content>\r\n            <app-navigator default-path=\"/normal/button\" ref=\"nav\" @open=\"onOpen\"/>\r\n        </app-content>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import AppContent from \"./app-content\";\r\n    import AppHeader from \"./app-header\";\r\n    import AppMenu from \"./app-menu\";\r\n    import AppNavigator from \"./app-navigator\";\r\n\r\n    const DEMO_ROW_STORAGE_KEY = 'DEMO_ROW'\r\n\r\n    export default {\r\n        name: \"app-home\",\r\n        components: {AppNavigator, AppMenu, AppHeader, AppContent},\r\n        props: {\r\n            headerHeight: {type: Number, default: 64},\r\n            menuWidth: {type: Number, default: 280},\r\n        },\r\n        provide() {\r\n            return {\r\n                appHome: this,\r\n            }\r\n        },\r\n        data() {\r\n            let totalCache = localStorage.getItem(DEMO_ROW_STORAGE_KEY)\r\n            totalCache = !!totalCache ? JSON.parse(totalCache) : {}\r\n\r\n            return {\r\n                show: true,\r\n                currentPath: null,\r\n                totalCache,\r\n            }\r\n        },\r\n        computed: {\r\n            pathCache() {\r\n                return this.totalCache[this.currentPath] || {}\r\n            },\r\n        },\r\n        methods: {\r\n            onOpen(path) {\r\n                this.currentPath = path\r\n            },\r\n            updateDemoRowCache(title, val) {\r\n                const pathCache = this.pathCache\r\n                pathCache[title] = val\r\n                this.totalCache[this.currentPath] = pathCache\r\n                localStorage.setItem(DEMO_ROW_STORAGE_KEY, JSON.stringify(this.totalCache))\r\n            },\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    .app-home {\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./app-home.vue?vue&type=template&id=2ef3d75e&\"\nimport script from \"./app-home.vue?vue&type=script&lang=js&\"\nexport * from \"./app-home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./app-home.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div id=\"app\">\r\n        <app-home/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import AppHome from \"./home/app-home\";\r\n\r\n    export default {\r\n        name: \"App\",\r\n        components: {AppHome},\r\n        data() {\r\n            return {}\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    html, body {\r\n        margin: 0;\r\n        padding: 0;\r\n\r\n        #app {\r\n            width: 100%;\r\n        }\r\n    }\r\n</style>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=9f100076&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"demo-row\",class:{'demo-row-show':_vm.show}},[(!!_vm.title)?_c('div',{staticClass:\"demo-row-title\"},[_c('span',{on:{\"click\":function($event){_vm.show = !_vm.show}}},[_vm._v(_vm._s(_vm.title))]),_c('pl-icon',{staticClass:\"demo-row-icon-expand\",attrs:{\"icon\":\"el-icon-d-arrow-right\"}})],1):_vm._e(),_c('pl-collapse-transition',[(_vm.show)?_c('div',{staticClass:\"demo-row-content\"},[_vm._t(\"default\")],2):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"demo-row\" :class=\"{'demo-row-show':show}\">\r\n        <div v-if=\"!!title\" class=\"demo-row-title\">\r\n            <span @click=\"show = !show\">{{title}}</span>\r\n            <pl-icon icon=\"el-icon-d-arrow-right\" class=\"demo-row-icon-expand\"/>\r\n        </div>\r\n        <pl-collapse-transition>\r\n            <div class=\"demo-row-content\" v-if=\"show\">\r\n                <slot></slot>\r\n            </div>\r\n        </pl-collapse-transition>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    const STORAGE_KEY = 'DEMO_ROW'\r\n    export default {\r\n        name: \"demo-row\",\r\n        provide() {\r\n            return {\r\n                PlDemoRow: this,\r\n            }\r\n        },\r\n        inject: {\r\n            appHome: {},\r\n            PlDemoRow: {default: null}\r\n        },\r\n        props: {\r\n            title: {},\r\n        },\r\n        watch: {\r\n            show(val) {\r\n                this.appHome.updateDemoRowCache(this.id, val)\r\n                this.$emit('change', val)\r\n            },\r\n        },\r\n        data() {\r\n\r\n            const id = this.title + (!!this.PlDemoRow ? this.PlDemoRow.id : '')\r\n            let show = this.appHome.pathCache[id]\r\n            if (show == null) show = true\r\n\r\n            return {\r\n                maxTitleWidth: null,\r\n                show,\r\n                id,\r\n            }\r\n        },\r\n        methods: {\r\n            addItem(demoLine) {\r\n                if (!demoLine.$refs.title) return\r\n                const titleWidth = demoLine.$refs.title.offsetWidth\r\n                if (!this.maxTitleWidth || titleWidth > this.maxTitleWidth) {\r\n                    this.maxTitleWidth = titleWidth\r\n                }\r\n            },\r\n\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    .demo-row {\r\n        .demo-row-title {\r\n            border-bottom: dashed 1px #f1f1f1;\r\n            font-size: 14px;\r\n            padding: 14px 24px;\r\n            color: #606266;\r\n\r\n            span {\r\n                cursor: pointer;\r\n            }\r\n        }\r\n\r\n        .demo-row-content {\r\n            padding: 16px 24px;\r\n            font-size: 14px;\r\n\r\n            & > *:not(.demo-line) {\r\n                margin-right: 16px;\r\n            }\r\n        }\r\n\r\n        .demo-row-icon-expand {\r\n            transform: rotate(90deg);\r\n            transition: all linear 300ms;\r\n            margin-left: 12px;\r\n        }\r\n\r\n        &.demo-row-show {\r\n            & > .demo-row-title > .demo-row-icon-expand {\r\n                transform: rotate(-90deg);\r\n            }\r\n        }\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./demo-row.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./demo-row.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./demo-row.vue?vue&type=template&id=6020be6e&\"\nimport script from \"./demo-row.vue?vue&type=script&lang=js&\"\nexport * from \"./demo-row.vue?vue&type=script&lang=js&\"\nimport style0 from \"./demo-row.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"demo-line\"},[(!!_vm.title)?_c('span',{ref:\"title\",staticClass:\"demo-line-title\",style:(_vm.titleStyles)},[_vm._v(_vm._s(_vm.title))]):_vm._e(),_c('div',{staticClass:\"demo-line-content\"},[_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"demo-line\">\r\n        <span class=\"demo-line-title\" v-if=\"!!title\" ref=\"title\" :style=\"titleStyles\">{{title}}</span>\r\n        <div class=\"demo-line-content\">\r\n            <slot></slot>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import PlainUtils from \"../../submodules/plain-utils\";\r\n\r\n    export default {\r\n        name: \"demo-line\",\r\n        inject: {\r\n            PlDemoRow: {default: null}\r\n        },\r\n        props: {\r\n            title: {},\r\n            labelWidth: {type: [String, Number]},\r\n        },\r\n        data() {\r\n            return {}\r\n        },\r\n        computed: {\r\n            titleStyles() {\r\n                let styles = {}\r\n                let width;\r\n                if (this.labelWidth != null) width = this.labelWidth\r\n                else {\r\n                    if (!!this.PlDemoRow.maxTitleWidth) {\r\n                        width = this.PlDemoRow.maxTitleWidth + 9\r\n                    }\r\n                }\r\n                if (width != null) {\r\n                    styles.width = PlainUtils.suffixPx(width)\r\n                }\r\n                return styles\r\n            },\r\n        },\r\n        mounted() {\r\n            this.PlDemoRow.addItem(this)\r\n        },\r\n        methods: {},\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    .demo-line {\r\n        margin-bottom: 6px;\r\n\r\n        .demo-line-title {\r\n            display: inline-block;\r\n            text-align: right;\r\n            padding-right: 9px;\r\n            font-size: 12px;\r\n            color: #606266;\r\n        }\r\n\r\n        .demo-line-content {\r\n            display: inline-block;\r\n\r\n            & > * {\r\n                margin-right: 16px !important;\r\n            }\r\n        }\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./demo-line.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./demo-line.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./demo-line.vue?vue&type=template&id=a69ad8a8&\"\nimport script from \"./demo-line.vue?vue&type=script&lang=js&\"\nexport * from \"./demo-line.vue?vue&type=script&lang=js&\"\nimport style0 from \"./demo-line.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_vm._v(\" \"+_vm._s(_vm.title)+\" \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <span>\r\n        {{title}}\r\n    </span>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"demo-child\",\r\n        props: {\r\n            title: {type: String},\r\n        },\r\n        mounted() {\r\n            console.log(`demo child ${this.title} mounted`)\r\n        },\r\n        beforeDestroy() {\r\n            console.log(`demo child ${this.title} destroyed`)\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./demo-child.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./demo-child.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./demo-child.vue?vue&type=template&id=1ce6b673&\"\nimport script from \"./demo-child.vue?vue&type=script&lang=js&\"\nexport * from \"./demo-child.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"TestVuexComponent\"},[_vm._v(\" \"+_vm._s(_vm.label)+\"-\"),_c('span',[_vm._v(_vm._s(_vm.$store.state.count))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"TestVuexComponent\">\r\n        {{label}}-<span>{{$store.state.count}}</span>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"TestVuexComponent\",\r\n        props: {\r\n            label: {},\r\n        },\r\n        data() {\r\n            return {}\r\n        },\r\n        methods: {},\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TestVuexComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TestVuexComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TestVuexComponent.vue?vue&type=template&id=56644207&\"\nimport script from \"./TestVuexComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./TestVuexComponent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{staticClass:\"image-svg-svg\",attrs:{\"x\":\"0\",\"y\":\"0\",\"width\":\"60\",\"height\":\"40.388412514484365\",\"filtersec\":\"colorsb5048970264\"}},[_c('rect',{staticClass:\"rect-hover\",attrs:{\"x\":\"0\",\"y\":\"0\",\"fill-opacity\":\"0\",\"width\":\"60.00044631958008\",\"height\":\"40.374507904052734\"}}),_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 215.75 145.23\"}},[_c('defs',[_c('linearGradient',{attrs:{\"id\":\"1589357463163-39.70414150244448\",\"y1\":\"72.62\",\"x2\":\"215.75\",\"y2\":\"72.62\",\"gradientUnits\":\"userSpaceOnUse\"}},[_c('stop',{attrs:{\"offset\":\"0\",\"stop-color\":\"#12B4A5\"}}),_c('stop',{attrs:{\"offset\":\"1\",\"stop-color\":\"#12B4A5\"}})],1)],1),_c('g',[_c('path',{attrs:{\"d\":\"M153.72 65.64c31.5 0 23.2-26.07 17.73-30.2-7.94-6-38.19-4.1-50-4.1v34.3zM67 78.2v11.17h11.2V67h22.35v11.2zM0 67h11.17v11.2H0zm55.86 0v11.2H67V67zM44.69 55.86V67h11.17V55.86zm41-22.34H78.2V22.34H67v11.18H55.86V22.34H44.69v22.35h11.17v11.17H67V44.69h22.38V33.52zm3.64-22.35h11.18v11.17H89.37zm22.35 67h11.17v11.2h-11.13zM152.31 0c23.47 0 46 .81 57.86 24.5 11.4 22.68 7 61.66-28.83 70.06-13.27 3.11-44.82 2.17-59.85 2.17v48.45H78.2v-33.46h11.17v11.17H67v-11.17H55.86V89.37H67v11.18h22.38v11.17h11.17v11.17H89.38v11.17H67v-11.17H55.86v11.17H44.69v-11.17h11.17v-11.17H33.51v-11.17h11.18V89.37h11.17V78.2H33.52v11.17H22.34v11.18H11.17V89.37h11.17V78.2h11.17V67H22.34V55.86H11.17V44.69h11.17v11.17h22.35V44.69H33.51V33.52H22.34V22.34h22.35V11.17h11.17v11.17H67V11.17h11.2V0h74.11z\",\"fill-rule\":\"evenodd\",\"fill\":\"url(#1589357463163-39.70414150244448)\"}})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <svg x=\"0\" y=\"0\" width=\"60\" height=\"40.388412514484365\" filtersec=\"colorsb5048970264\" class=\"image-svg-svg\">\r\n        <rect x=\"0\" y=\"0\" fill-opacity=\"0\" width=\"60.00044631958008\" height=\"40.374507904052734\" class=\"rect-hover\"></rect>\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 215.75 145.23\">\r\n            <defs>\r\n                <linearGradient id=\"1589357463163-39.70414150244448\" y1=\"72.62\" x2=\"215.75\" y2=\"72.62\" gradientUnits=\"userSpaceOnUse\">\r\n                    <stop offset=\"0\" stop-color=\"#12B4A5\"></stop>\r\n                    <stop offset=\"1\" stop-color=\"#12B4A5\"></stop>\r\n                </linearGradient>\r\n            </defs>\r\n            <g>\r\n                <path d=\"M153.72 65.64c31.5 0 23.2-26.07 17.73-30.2-7.94-6-38.19-4.1-50-4.1v34.3zM67 78.2v11.17h11.2V67h22.35v11.2zM0 67h11.17v11.2H0zm55.86 0v11.2H67V67zM44.69 55.86V67h11.17V55.86zm41-22.34H78.2V22.34H67v11.18H55.86V22.34H44.69v22.35h11.17v11.17H67V44.69h22.38V33.52zm3.64-22.35h11.18v11.17H89.37zm22.35 67h11.17v11.2h-11.13zM152.31 0c23.47 0 46 .81 57.86 24.5 11.4 22.68 7 61.66-28.83 70.06-13.27 3.11-44.82 2.17-59.85 2.17v48.45H78.2v-33.46h11.17v11.17H67v-11.17H55.86V89.37H67v11.18h22.38v11.17h11.17v11.17H89.38v11.17H67v-11.17H55.86v11.17H44.69v-11.17h11.17v-11.17H33.51v-11.17h11.18V89.37h11.17V78.2H33.52v11.17H22.34v11.18H11.17V89.37h11.17V78.2h11.17V67H22.34V55.86H11.17V44.69h11.17v11.17h22.35V44.69H33.51V33.52H22.34V22.34h22.35V11.17h11.17v11.17H67V11.17h11.2V0h74.11z\"\r\n                      fill-rule=\"evenodd\" fill=\"url(#1589357463163-39.70414150244448)\"></path>\r\n            </g>\r\n        </svg>\r\n    </svg>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"plain-logo\"\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./plain-logo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./plain-logo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./plain-logo.vue?vue&type=template&id=64e71002&\"\nimport script from \"./plain-logo.vue?vue&type=script&lang=js&\"\nexport * from \"./plain-logo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import DemoRow from './demo-row'\r\nimport DemoLine from './demo-line'\r\nimport DemoChild from './demo-child'\r\nimport TestVuexComponent from \"./TestVuexComponent\";\r\nimport logo from './plain-logo'\r\n\r\nconst Components = {\r\n    logo,\r\n\r\n    DemoRow,\r\n    DemoLine,\r\n    DemoChild,\r\n    TestVuexComponent,\r\n}\r\n\r\n\r\nexport default {\r\n    install(Vue) {\r\n        Object.values(Components).forEach(component => Vue.component(component.name, component))\r\n    },\r\n}","import {computed, defineComponent, reactive} from \"@vue/composition-api\";\r\nimport {PLC_COLLECTOR, PlcComponentPublicData, PlcComponentType, PlcProps} from \"@/packages/table/plc/plc-utils\";\r\nimport {useCollectChild} from \"@/use/useCollect\";\r\nimport {useRefer} from \"@/use/useRefer\";\r\nimport {FormatPropsType, useProps} from \"@/use/useProps\";\r\n\r\nimport {useScopedSlots} from \"@/use/useScopedSlots\";\r\nimport {TableNode} from \"@/packages/table/table/TableNode\";\r\nimport {VNode} from \"vue/types/umd\";\r\nimport {$plain} from \"@/packages/base\";\r\n\r\nexport interface TableRenderData {\r\n    plc: PlcType,\r\n    rowData: TableNode,\r\n    row: any,\r\n}\r\n\r\n\r\ninterface PlcRenderType {\r\n    head?: (plc: any) => VNode | number | string | null | undefined,\r\n    default?: (renderData: TableRenderData) => VNode | number | string | null | undefined,\r\n    edit?: (renderData: TableRenderData) => VNode | number | string | null | undefined,\r\n    summary?: (renderData: TableRenderData) => VNode | number | string | null | undefined,\r\n}\r\n\r\nfunction usePlcSetup(props: (ExtractPropTypes<typeof PlcProps>)) {\r\n\r\n    const {$scopedSlots} = useScopedSlots({\r\n        head: {},\r\n        default: {},\r\n        edit: {},\r\n        summary: {},\r\n    })\r\n\r\n    const scopedSlots = $scopedSlots as {\r\n        head: (plc: typeof refer) => VNode | number | string | null | undefined,\r\n        default: (renderData: { rowData: TableNode, plc: typeof refer }) => VNode | number | string | null | undefined,\r\n        edit: (renderData: { rowData: TableNode, plc: typeof refer }) => VNode | number | string | null | undefined,\r\n        summary: (renderData: { rowData: TableNode, plc: typeof refer }) => VNode | number | string | null | undefined,\r\n    }\r\n\r\n    const ctx = useCollectChild({provideString: PLC_COLLECTOR})\r\n\r\n    // 转化后的 props\r\n    const propsState = useProps(props, {\r\n        width: FormatPropsType.number,\r\n        fit: FormatPropsType.number,\r\n        order: FormatPropsType.number,\r\n    })\r\n\r\n    // props = props + propsState\r\n    const targetProps = computed(() => ({\r\n        ...props,\r\n        ...propsState,\r\n    }))\r\n\r\n    // plc state：存储列动态变化的变量，优先级大于 props以及config\r\n    const state = reactive(Object.keys(PlcProps).reduce((ret, key) => {\r\n        ret[key] = null\r\n        return ret\r\n    }, {}) as PlainExtractPropTypes<typeof PlcProps> & { level: number })\r\n\r\n    function setDurWidth(durWidth: number) {\r\n        state.width = Number((state.width || targetProps.value.width)) as number + durWidth\r\n    }\r\n\r\n    const refer = {\r\n        ...$plain.utils.deepcopy(PlcComponentPublicData),\r\n        ctx,\r\n        scopedSlots,\r\n        type: PlcComponentType.PLC,\r\n        /*这里之所以强制做类型变化，是因为经过了collector的计算属性转化，在使用的时候是没有Ref这一层的*/\r\n        // @ts-ignore\r\n        props: targetProps as (PlainExtractPropTypes<typeof PlcProps>) & PlcRenderType,\r\n        state,\r\n        setDurWidth,\r\n    }\r\n\r\n    useRefer(refer)\r\n    useRefer({refer})\r\n\r\n    return refer\r\n}\r\n\r\nexport type PlcType = ReturnType<typeof usePlcSetup>\r\n\r\nexport function plcSetup(props: ExtractPropTypes<typeof PlcProps>) {\r\n    usePlcSetup(props as any)\r\n    return () => (<div class=\"plc\" field={props.field} title={props.title}/>)\r\n}\r\n\r\nexport default defineComponent({\r\n    name: 'plc',\r\n    props: {\r\n        ...PlcProps,\r\n    },\r\n    setup: plcSetup,\r\n})","import {defineComponent, set} from \"@vue/composition-api\";\r\nimport {PlcProps} from \"@/packages/table/plc/plc-utils\";\r\nimport {plcSetup} from \"@/packages/table/plc/plc\";\r\n\r\nimport {useRefer} from \"@/use/useRefer\";\r\n\r\ninterface ParamMixin {\r\n    name: string,\r\n    props?: Partial<{ [k in keyof typeof PlcProps]: any } & { [k: string]: any }>,\r\n    setup?: (props: ExtractPropTypes<typeof PlcProps>) => object\r\n}\r\n\r\nexport function definePlc<T extends ParamMixin>(\r\n    PlcComponent: T\r\n) {\r\n    let {name, props, setup, ...mixin} = PlcComponent\r\n    props = Object.assign({}, PlcProps, props)\r\n\r\n    return defineComponent({\r\n        name,\r\n        props: props as any,\r\n        setup: (setupProps: any) => {\r\n            if (!!setup) {\r\n                const external = setup(setupProps)\r\n                useRefer(external)\r\n            }\r\n            return plcSetup(setupProps)\r\n        },\r\n        mixins: [mixin],\r\n    })\r\n}\r\n\r\nexport function getBinding(row: any, field: string) {\r\n    return {\r\n        props: {\r\n            value: row[field]\r\n        },\r\n        on: {\r\n            input: val => {\r\n                if (row.hasOwnProperty(field)) {\r\n                    row[field] = val\r\n                } else {\r\n                    set(row, field, val)\r\n                }\r\n            }\r\n        },\r\n    }\r\n}","import {definePlc} from \"@/packages/table/plc-components/register\";\r\n\r\nexport default definePlc({\r\n    name: 'plc-index',\r\n    props: {\r\n        // custom\r\n        summaryText: {type: String, default: '合计'},\r\n\r\n        //standard\r\n        autoFixedLeft: {default: true},\r\n        order: {default: -9999},\r\n        width: {default: 40},\r\n        align: {default: 'center'},\r\n        noPadding: {type: Boolean, default: true},\r\n        summary: {\r\n            type: Function,\r\n            default: function ({plc}) {\r\n                return plc.props.summaryText\r\n            }\r\n        },\r\n        default: {\r\n            type: Function,\r\n            default: function ({rowData, plc}) {\r\n                return rowData.index + 1\r\n            }\r\n        },\r\n        head: {\r\n            type: Function,\r\n            default: function () {\r\n                return '#'\r\n            }\r\n        },\r\n    },\r\n})","import {definePlc} from \"@/packages/table/plc-components/register\";\r\nimport {PlcType, TableRenderData} from \"@/packages/table/plc/plc\";\r\nimport {computed, onUnmounted, reactive} from \"@vue/composition-api\";\r\nimport {TableNode} from \"@/packages/table/table/TableNode\";\r\nimport {injectTable} from \"@/packages/table/table/table\";\r\n\r\nexport default definePlc({\r\n    name: 'plc-check',\r\n\r\n    props: {\r\n        // custom\r\n        toggleOnClickRow: {type: Boolean},                      // 是否在点击行的时候触发点击动作\r\n        isCheckable: Function,                          // 是否可选\r\n\r\n        //standard\r\n        autoFixedLeft: {default: true},\r\n        order: {default: -9998},\r\n        width: {default: 40},\r\n        align: {default: 'center'},\r\n        noPadding: {type: Boolean, default: true},\r\n\r\n        summary: {\r\n            type: Function,\r\n            default: function () {return null}\r\n        },\r\n        head: {\r\n            type: Function,\r\n            default: function (plc: PlcType) {\r\n                const plcInstance = plc.ctx as any\r\n                return <pl-checkbox-indeterminate\r\n                    size={'normal'}\r\n                    status={plcInstance.checkPlc.status.value}\r\n                    onClick={plcInstance.checkPlc.handler.onClickHeadCheckbox}/>\r\n            }\r\n        },\r\n        default: {\r\n            type: Function,\r\n            default: function ({rowData, plc}: TableRenderData) {\r\n                const plcInstance = plc.ctx as any\r\n                return (\r\n                    <pl-checkbox\r\n                        readonly\r\n                        value={plcInstance.checkPlc.utils.isChecked(rowData)}\r\n                        size={'normal'}\r\n                        onClick={() => plcInstance.checkPlc.handler.onClickCheckbox(rowData)}\r\n                        disabled={!plcInstance.checkPlc.utils.isCheckable(rowData)}\r\n                    />\r\n                )\r\n            }\r\n        },\r\n    },\r\n    setup(props) {\r\n\r\n        const table = injectTable()\r\n\r\n        // @ts-ignore\r\n        const {toggleOnClickRow, isCheckable} = props as { toggleOnClickRow: boolean, isCheckable?: Function }\r\n\r\n        const state = reactive({\r\n            selected: [] as TableNode[],\r\n        })\r\n        const selectedKeys = computed(() => {\r\n            return state.selected.map(item => item.key)\r\n        })\r\n        const status = computed(() => {\r\n            if (state.selected.length === 0) return 'uncheck'\r\n            if (table.formatFlatTableData.value.every((item: TableNode) => selectedKeys.value.indexOf(item.key) > -1)) {\r\n                return 'check'\r\n            } else {\r\n                return 'minus'\r\n            }\r\n        })\r\n\r\n        const utils = {\r\n            isCheckable: (node: TableNode) => {\r\n                if (!!isCheckable) {\r\n                    const flag = isCheckable(node)\r\n                    return flag !== false\r\n                }\r\n                return true\r\n            },\r\n            isChecked: (node: TableNode) => selectedKeys.value.indexOf(node.key) > -1,\r\n            toggle: (node: TableNode) => {\r\n                const index = selectedKeys.value.indexOf(node.key)\r\n                if (index > -1) {\r\n                    state.selected.splice(index, 1)\r\n                } else {\r\n                    state.selected.push(node)\r\n                }\r\n            },\r\n        }\r\n\r\n        const handler = {\r\n            onClickCheckbox: (node: TableNode) => {\r\n                // 因为table中对点击的target做了判断，点击checkbox的时候，不是plt-inner-cell，所以不会触发onClickCell事件\r\n                /*if (toggleOnClickRow) {\r\n                    return\r\n                }*/\r\n                if (!utils.isCheckable(node)) {\r\n                    return\r\n                }\r\n                utils.toggle(node)\r\n            },\r\n            onClickHeadCheckbox: () => {\r\n                if (status.value === 'check') {\r\n                    state.selected = []\r\n                } else {\r\n                    const availableSelectItems = table.formatFlatTableData.value\r\n                        .filter(utils.isCheckable)\r\n                        .map((item: TableNode) => item)\r\n                    if (state.selected.length === availableSelectItems.length) {\r\n                        state.selected = []\r\n                    } else {\r\n                        state.selected = availableSelectItems\r\n                    }\r\n                }\r\n            },\r\n            onClickCell: (node: TableNode, e: MouseEvent) => {\r\n                handler.onClickCheckbox(node)\r\n            }\r\n        }\r\n\r\n        const methods = {\r\n            getSelected: () => {\r\n                return state.selected\r\n            },\r\n        }\r\n\r\n        const checkPlc = {\r\n            state,\r\n            selectedKeys,\r\n            status,\r\n            utils,\r\n            handler,\r\n        }\r\n\r\n        if (!!toggleOnClickRow) {\r\n            table.on.clickCell(handler.onClickCell)\r\n            onUnmounted(() => table.off.clickCell(handler.onClickCell))\r\n        }\r\n\r\n        return {\r\n            ...methods,\r\n            checkPlc,\r\n        }\r\n    },\r\n})","import {definePlc} from \"@/packages/table/plc-components/register\";\r\nimport {PlcType, TableRenderData} from \"@/packages/table/plc/plc\";\r\nimport {computed, reactive, set} from \"@vue/composition-api\";\r\nimport {TableNode} from \"@/packages/table/table/TableNode\";\r\nimport {injectTable} from \"@/packages/table/table/table\";\r\nimport {StyleType} from \"@/types/utils\";\r\nimport {$plain} from \"@/packages/base\";\r\n\r\ninterface ExpandDataType {\r\n    plc: PlcType,\r\n    rowData: TableNode,\r\n    isSummary: boolean\r\n}\r\n\r\nexport default definePlc({\r\n    name: 'plc-expand',\r\n    props: {\r\n        // custom\r\n        toggleOnClickRow: {type: Boolean},                      // 是否在点击行的时候触发点击动作\r\n\r\n        //standard\r\n        autoFixedLeft: {default: true},\r\n        order: {default: -9997},\r\n        width: {default: 60},\r\n        align: {default: 'center'},\r\n        notFitVirtual: {type: Boolean, default: true},\r\n        noPadding: {type: Boolean, default: true},\r\n\r\n        summary: {\r\n            type: Function,\r\n            default: function () {return null}\r\n        },\r\n        head: {\r\n            type: Function,\r\n            default: function (plc: PlcType) {\r\n                return '展开'\r\n            }\r\n        },\r\n        default: {\r\n            type: Function,\r\n            default: function (tableRenderData: TableRenderData) {\r\n                const plcInstance = tableRenderData.plc.ctx as any\r\n                return (\r\n                    <pl-button\r\n                        class={[\r\n                            'plc-expand-icon',\r\n                            {'plc-expand-icon-active': plcInstance.expandPlc.isExpand(tableRenderData.rowData.key)},\r\n                        ]}\r\n                        icon=\"el-icon-arrow-down\"\r\n                        mode=\"text\"\r\n                        onClick={e => plcInstance.expandPlc.toggle(tableRenderData, e)}/>\r\n                )\r\n            }\r\n        },\r\n        renderAfterRow: {\r\n            type: Function,\r\n            default: function ({plc, rowData, isSummary}: ExpandDataType) {\r\n\r\n                const ctx = plc.ctx as any\r\n\r\n                if (!ctx.expandPlc.isExpand(rowData.key)) {\r\n                    return null\r\n                }\r\n\r\n                if (!ctx.$scopedSlots.expand) {\r\n                    console.log('缺少expand作用域插槽')\r\n                    return null\r\n                }\r\n\r\n                return (\r\n                    <tr class='plt-row plt-expand-row'>\r\n                        <td class='plt-cell' rowspan={1} colspan={ctx.expandPlc.colspan.value}>\r\n                            <div style={ctx.expandPlc.styles.value}>\r\n                                {ctx.$scopedSlots.expand({\r\n                                    plc,\r\n                                    rowData: {\r\n                                        ...rowData,\r\n                                        isSummaryData: isSummary,\r\n                                    },\r\n                                    row: rowData.isEdit ? rowData.editRow : rowData.data\r\n                                } as TableRenderData)}\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                )\r\n            }\r\n        },\r\n    },\r\n    setup() {\r\n\r\n        const table = injectTable()\r\n\r\n        const state = reactive({\r\n            expandKeys: {} as { [key: string]: boolean },\r\n        })\r\n        const colspan = computed(() => table.plcData.value!.flatPlcLength)\r\n\r\n        const expandPlc = {\r\n            state,\r\n            colspan,\r\n            styles: computed(() => ({\r\n                position: 'sticky',\r\n                left: '0',\r\n                width: $plain.utils.suffixPx(table.state.tableWidth),\r\n            } as StyleType)),\r\n            isExpand: (key: string) => {\r\n                return state.expandKeys[key]\r\n            },\r\n            toggle: (renderData: TableRenderData, e: MouseEvent) => {\r\n                if (expandPlc.isExpand(renderData.rowData.key)) {\r\n                    expandPlc.close(renderData.rowData.key)\r\n                } else {\r\n                    expandPlc.expand(renderData.rowData.key)\r\n                }\r\n            },\r\n            expand: (key: string) => {\r\n                if (state.expandKeys.hasOwnProperty(key)) {\r\n                    state.expandKeys[key] = true\r\n                } else {\r\n                    set(state.expandKeys, key, true)\r\n                }\r\n            },\r\n            close: (key: string) => {\r\n                if (state.expandKeys.hasOwnProperty(key)) {\r\n                    state.expandKeys[key] = false\r\n                } else {\r\n                    set(state.expandKeys, key, false)\r\n                }\r\n            }\r\n        }\r\n\r\n        return {\r\n            expandPlc,\r\n        }\r\n    },\r\n})","import {TableNode} from \"@/packages/table/table/TableNode\";\r\nimport {TableMark} from \"@/packages/table/table/TableMark\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {computed, reactive, Ref} from \"@vue/composition-api\";\r\n\r\nexport function usePlcTree(\r\n    {\r\n        mark,\r\n        isLoading,\r\n        getChildren,\r\n        lazy,\r\n        according,\r\n        autoExpandParent,\r\n        dataModel,\r\n        rootNode,\r\n        emit,\r\n        tableData,\r\n        checkStrictly,\r\n    }: {\r\n        mark: TableMark,\r\n        isLoading: Ref<boolean | null>,\r\n        getChildren?: Function,\r\n        lazy: boolean | undefined,\r\n        according?: boolean,\r\n        autoExpandParent?: boolean,\r\n        dataModel: { value: any },\r\n        rootNode: TableNode,\r\n        emit: {\r\n            expand: (node: TableNode) => void,\r\n            collapse: (node: TableNode) => void,\r\n            expandChange: (expandKeys: string[]) => void,\r\n\r\n            check: (node: TableNode) => void,\r\n            uncheck: (node: TableNode) => void,\r\n            checkChange: (checkKeys: string[]) => void,\r\n        },\r\n        tableData: Ref<TableNode[]>,\r\n        checkStrictly: boolean | undefined,\r\n    }) {\r\n\r\n    const emitExpandKeys = computed(() => mark.expand.getActiveKeys())\r\n    const emitCheckKeys = computed(() => mark.check.getActiveKeys())\r\n\r\n    const utils = {\r\n        /**\r\n         * 处理keys\r\n         * @author  韦胜健\r\n         * @date    2020/8/17 10:00\r\n         */\r\n        handleKeys: async (keys: string | string[], handler: (value: string, index: number, array: string[]) => unknown) => {\r\n            keys = Array.isArray(keys) ? keys : [keys]\r\n            return await Promise.all(keys.map(handler))\r\n        },\r\n        /**\r\n         * 遍历所有的treeNode\r\n         * @author  韦胜健\r\n         * @date    2020/8/17 9:59\r\n         */\r\n        iterateAll: (treeNodes: TableNode[] | null, fn: (node: TableNode) => void, iterateChildren?: Function): void => {\r\n            if (!treeNodes) return\r\n            treeNodes.forEach(treeNode => {\r\n                fn(treeNode)\r\n                if (!!treeNode.children && (!iterateChildren || iterateChildren(treeNode))) {\r\n                    utils.iterateAll(treeNode.children, fn, iterateChildren)\r\n                }\r\n            })\r\n        },\r\n        /**\r\n         * 通过 key 寻找TableNode\r\n         * @author  韦胜健\r\n         * @date    2020/8/17 9:59\r\n         */\r\n        findNodeByKey: (key: string): TableNode | null => {\r\n            const node = mark.node.getByKey(key)\r\n            if (!node) {\r\n                console.warn(`无法找到treeNode：${key}`, mark.node.state.map)\r\n                return null\r\n            }\r\n            // @ts-ignore\r\n            return node\r\n        },\r\n        /**\r\n         * 获取子节点数据异步方法\r\n         * @author  韦胜健\r\n         * @date    2020/3/31 15:21\r\n         */\r\n        getChildrenAsync: (node: TableNode): Promise<TableNode[]> => {\r\n            return new Promise((resolve) => {\r\n                if (!node.key) {\r\n                    isLoading.value = true\r\n                } else {\r\n                    node.loading(true)\r\n                }\r\n                getChildren!(node, (...results) => {\r\n\r\n                    if (!node.key) {\r\n                        isLoading.value = false\r\n                    } else {\r\n                        node.loading(false)\r\n                        node.loaded(true)\r\n                    }\r\n\r\n                    resolve(...results)\r\n                })\r\n            })\r\n        },\r\n        /**\r\n         * 懒加载模式下，第一次初始化数据\r\n         * @author  韦胜健\r\n         * @date    2020/8/17 10:05\r\n         */\r\n        async initLazy() {\r\n            if (!lazy) {\r\n                return\r\n            }\r\n            dataModel.value = await utils.getChildrenAsync(rootNode)\r\n        },\r\n    }\r\n\r\n    const methods = {\r\n\r\n        /*---------------------------------------expand-------------------------------------------*/\r\n\r\n        /**\r\n         * 展开节点\r\n         * @author  韦胜健\r\n         * @date    2020/8/17 10:17\r\n         */\r\n        async expand(keys: string | string[]) {\r\n            await utils.handleKeys(keys, async key => {\r\n                const node = utils.findNodeByKey(key)\r\n                if (!node) return\r\n                if (!node.isExpand) {\r\n                    if (\r\n                        lazy &&\r\n                        !node.isLoaded &&\r\n                        !node.isLeaf\r\n                    ) {\r\n                        const children = await utils.getChildrenAsync(node)\r\n                        node.setChildren(children)\r\n                        await $plain.nextTick()\r\n                    }\r\n\r\n                    const parent = node.parentRef()\r\n\r\n                    if (according) {\r\n                        if (!!parent && !!parent.children) {\r\n                            parent.children.forEach(child => child.key !== node.key && methods.collapse(child.key))\r\n                        }\r\n                    }\r\n\r\n                    node.expand(true)\r\n                    await $plain.nextTick()\r\n                    emit.expand(node)\r\n                    emit.expandChange(emitExpandKeys.value as string[])\r\n\r\n                    if (autoExpandParent && !!parent && !!parent.key) {\r\n                        await methods.expand(parent.key)\r\n                    }\r\n                }\r\n            })\r\n        },\r\n        /**\r\n         * 收起节点\r\n         * @author  韦胜健\r\n         * @date    2020/8/17 10:17\r\n         */\r\n        async collapse(keys: string | string[]) {\r\n            await utils.handleKeys(keys, async key => {\r\n                const node = utils.findNodeByKey(key)\r\n                if (!node) return\r\n                if (node.isExpand) {\r\n                    node.expand(false)\r\n                    await $plain.nextTick()\r\n                    emit.collapse(node)\r\n                    emit.expandChange(emitExpandKeys.value as string[])\r\n                }\r\n            })\r\n        },\r\n        /**\r\n         * 开启/关闭节点\r\n         * @author  韦胜健\r\n         * @date    2020/8/17 10:20\r\n         */\r\n        async toggleExpand(key: string) {\r\n            const node = utils.findNodeByKey(key)\r\n            if (!node) return node\r\n            if (node.isExpand) {\r\n                await methods.collapse(node.key)\r\n            } else {\r\n                await methods.expand(node.key)\r\n            }\r\n        },\r\n        /**\r\n         * 开启所有节点\r\n         * @author  韦胜健\r\n         * @date    2020/8/17 10:21\r\n         */\r\n        async expandAll() {\r\n            if (!!tableData.value && tableData.value.length > 0) {\r\n                utils.iterateAll(tableData.value, node => methods.expand(node.key))\r\n            }\r\n        },\r\n        /**\r\n         *\r\n         * @author  收起所有节点\r\n         * @date    2020/8/17 10:33\r\n         */\r\n        async collapseAll() {\r\n            mark.expand.state.map = reactive({})\r\n        },\r\n\r\n        /*---------------------------------------check-------------------------------------------*/\r\n\r\n        /**\r\n         * 根据keys选中节点\r\n         * @author  韦胜健\r\n         * @date    2020/8/17 15:20\r\n         */\r\n        async check(keys: string | string[]) {\r\n            await utils.handleKeys(keys, async key => {\r\n                const node = utils.findNodeByKey(key)\r\n                if (!node) return\r\n                if (!node.isCheck) {\r\n                    node.check(true)\r\n\r\n                    if (!checkStrictly) {\r\n                        // 选中所有子节点\r\n                        utils.iterateAll(node.children || [], (child) => child.check(true))\r\n\r\n                        // 更新父节点状态，如果父节点所有的子节点都处于选中状态，则更新父节点为选中状态\r\n                        let parent = node.parentRef()\r\n                        while (!!parent && !!parent.key) {\r\n                            if ((parent.children || []).every(child => child.isCheck)) {\r\n                                parent.check(true)\r\n                                parent = parent.parentRef()\r\n                            } else {\r\n                                break\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    await $plain.nextTick()\r\n                    emit.check(node)\r\n                    emit.checkChange(emitCheckKeys.value as string[])\r\n                }\r\n            })\r\n        },\r\n\r\n        /**\r\n         * 根据keys取消选中节点\r\n         * @author  韦胜健\r\n         * @date    2020/8/17 15:33\r\n         */\r\n        async uncheck(keys: string | string[]) {\r\n            await utils.handleKeys(keys, async key => {\r\n                const node = utils.findNodeByKey(key)\r\n                if (!node) return\r\n                if (node.isCheck) {\r\n                    node.check(false)\r\n                    if (!checkStrictly) {\r\n                        // 取消选中所有子节点\r\n                        utils.iterateAll(node.children || [], (child) => child.check(false))\r\n                        // 更新父节点状态，如果父节点所有的子节点都处于非选中状态，则更新父节点为非选中状态\r\n                        let parent = node.parentRef()\r\n                        while (!!parent && !!parent.key) {\r\n                            if (parent.isCheck) {\r\n                                parent.check(false)\r\n                                parent = parent.parentRef()\r\n                            } else {\r\n                                break\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    await $plain.nextTick()\r\n                    emit.check(node)\r\n                    emit.checkChange(emitCheckKeys.value as string[])\r\n                }\r\n            })\r\n        },\r\n\r\n        /**\r\n         * 根据key选中或者取消选中树节点\r\n         * @author  韦胜健\r\n         * @date    2020/8/17 15:39\r\n         */\r\n        async toggleCheck(key) {\r\n            const node = utils.findNodeByKey(key)\r\n            if (!node) return\r\n            if (!node.isCheckable) return\r\n            if (node.isCheck) {\r\n                await methods.uncheck(key)\r\n            } else {\r\n                await methods.check(key)\r\n            }\r\n        },\r\n        /**\r\n         * 选中所有节点\r\n         * @author  韦胜健\r\n         * @date    2020/8/17 15:40\r\n         */\r\n        checkAll() {\r\n            utils.iterateAll(tableData.value, (node: TableNode) => node.check(true))\r\n        },\r\n        /**\r\n         * 取消选中所有节点\r\n         * @author  韦胜健\r\n         * @date    2020/8/17 15:40\r\n         */\r\n        uncheckAll() {\r\n            mark.check.state.map = reactive({})\r\n        },\r\n        /**\r\n         * 获取选中的数据\r\n         * @author  韦胜健\r\n         * @date    2020/8/17 15:41\r\n         */\r\n        getCheckedData() {\r\n            let ret: object[] = []\r\n            utils.iterateAll(tableData.value, (node: TableNode) => {\r\n                if (node.isCheck) {\r\n                    ret.push(node.data)\r\n                }\r\n            })\r\n            return ret\r\n        },\r\n    }\r\n\r\n    const handler = {\r\n        clickExpandIcon: async (e: MouseEvent, node: TableNode) => {\r\n            e.stopPropagation()\r\n            await methods.toggleExpand(node.key)\r\n        },\r\n        clickCheckbox: async (e: MouseEvent, node: TableNode) => {\r\n            e.stopPropagation()\r\n            await methods.toggleCheck(node.key)\r\n        }\r\n    }\r\n\r\n    utils.initLazy()\r\n\r\n    return {\r\n        utils,\r\n        handler,\r\n        methods,\r\n        emitExpandKeys,\r\n        emitCheckKeys,\r\n    }\r\n}","/**\r\n * 树列拖拽排序\r\n * @author  韦胜健\r\n * @date    2020/8/24 9:38\r\n */\r\nimport {Ref} from \"@vue/composition-api\";\r\nimport {getRowEl, getScrollParent} from \"@/packages/table/plc-components/standard/draggier/composition/utils\";\r\nimport {TableNode} from \"@/packages/table/table/TableNode\";\r\nimport {StyleType} from \"@/types/utils\";\r\nimport {useDraggierAutoScroller} from \"@/packages/table/plc-components/standard/draggier/composition/use-draggier-auto-scroller\";\r\n\r\n/**\r\n * 拖拽的过程中，在目标行移动时，应该放置的行为\r\n * @author  韦胜健\r\n * @date    2020/8/25 16:29\r\n */\r\nenum DropType {\r\n    prev = 'prev',                          // 将拖拽节点作为目标节点的兄节点放置在目标节点前面\r\n    inner = 'inner',                        // 将拖拽节点作为目标节点的子节点添加到目标节点的儿子节点中\r\n    next = 'next'                           // 将拖拽节点作为目标节点的弟节点，放置在目标节点后面\r\n}\r\n\r\nconst indicatorSize = 3;\r\n\r\n/**\r\n * 获取目标节点所有父节点\r\n * @author  韦胜健\r\n * @date    2020/8/25 16:33\r\n */\r\nfunction getParents(node: TableNode | null) {\r\n    const parents = [] as TableNode[]\r\n    while (!!node && node.level > 0) {\r\n        parents.push(node)\r\n        node = node.parentRef()\r\n    }\r\n    return parents\r\n}\r\n\r\nexport function usePlcTreeRowDraggable(\r\n    {\r\n        rowDraggable,\r\n        rowClass,\r\n        nodeClass,\r\n        levelPadding,\r\n        flatDataList,\r\n        showCheckbox,\r\n        checkStrictly,\r\n        allowRowDraggable,\r\n        allowRowDroppable,\r\n        expand,\r\n    }: {\r\n        rowDraggable: boolean | undefined,\r\n        rowClass: string,\r\n        nodeClass: string,\r\n        levelPadding: number,\r\n        flatDataList: Readonly<Ref<readonly TableNode[]>>,\r\n        showCheckbox: boolean | undefined,\r\n        checkStrictly: boolean | undefined,\r\n        allowRowDraggable: Function | undefined,\r\n        allowRowDroppable: Function | undefined,\r\n        expand: (key: string | string[]) => void,\r\n    }) {\r\n\r\n    const state = {\r\n\r\n        startNode: null as null | TableNode,\r\n        moveNode: null as null | TableNode,\r\n\r\n        startScrollTop: 0,\r\n        moveScrollTop: 0,\r\n\r\n        startClientY: 0,\r\n        moveClientY: 0,\r\n\r\n        rowHeight: 0,\r\n        scrollParent: null as null | HTMLElement,\r\n        rowEl: null as null | HTMLElement,\r\n        scrollParentRect: {\r\n            top: 0,\r\n            left: 0,\r\n            width: 0,\r\n            height: 0,\r\n        },\r\n        indicator: null as null | HTMLElement,\r\n        dragNodeBaseLeft: 0,\r\n\r\n        dropType: DropType.inner,\r\n        droppable: false,\r\n    }\r\n\r\n    const autoScroll = useDraggierAutoScroller()\r\n\r\n    const utils = {\r\n        allowRowDraggable: (node: TableNode) => {\r\n            return !allowRowDraggable || allowRowDraggable(node) !== false\r\n        },\r\n        allowRowDroppable: (startNode: TableNode, moveNode: TableNode, dropType: DropType) => {\r\n            return !allowRowDroppable || allowRowDroppable(startNode, moveNode, dropType) !== false\r\n        },\r\n        getIndicatorStyles(moveNode: TableNode, droppable: boolean, dropType: DropType) {\r\n\r\n            const styles: StyleType = {}\r\n\r\n            let top = moveNode.index * state.rowHeight + state.scrollParentRect.top - (state.moveScrollTop)\r\n            let paddingLeft = (moveNode.level - 1) * levelPadding\r\n            if (moveNode.isLeaf) paddingLeft += levelPadding\r\n\r\n            styles.top = `${dropType === DropType.next ? top + state.rowHeight - indicatorSize : top}px`\r\n            styles.left = `${state.dragNodeBaseLeft + paddingLeft}px`\r\n            styles.width = `${state.scrollParentRect.width - (state.dragNodeBaseLeft - state.scrollParentRect.left) - paddingLeft}px`\r\n            styles.height = `${dropType === DropType.inner ? state.rowHeight : indicatorSize}px`\r\n            styles.backgroundColor = droppable ? '#12b4a5' : '#F38585'\r\n            styles.opacity = dropType === DropType.inner ? '0.15' : ''\r\n\r\n            return styles\r\n        },\r\n        refresh() {\r\n            const top = state.startClientY - state.scrollParentRect.top + (state.moveScrollTop) + (state.moveClientY - state.startClientY)\r\n            let targetIndex = top / state.rowHeight\r\n            const external = targetIndex % 1\r\n            targetIndex = Math.floor(targetIndex)\r\n            let dropType: DropType = external < 0.3 ? DropType.prev : external > 0.7 ? DropType.next : DropType.inner\r\n            const moveNode = flatDataList.value[targetIndex]\r\n            if (!moveNode) {\r\n                return\r\n            }\r\n\r\n            let droppable = true\r\n\r\n            state.moveNode = moveNode\r\n            const parents = getParents(state.moveNode)\r\n            if (parents.indexOf(state.startNode!) > -1) {\r\n                droppable = false\r\n            }\r\n            if (!utils.allowRowDroppable(state.startNode!, moveNode, dropType)) {\r\n                droppable = false\r\n            }\r\n\r\n            state.dropType = dropType\r\n            state.droppable = droppable\r\n\r\n            Object.assign(state.indicator!.style, utils.getIndicatorStyles(moveNode, droppable, dropType))\r\n        },\r\n        refreshCheckStatus() {\r\n            if (!showCheckbox) return\r\n            if (checkStrictly) return;\r\n\r\n            const next = (node: TableNode) => {\r\n                let hasCheck = false\r\n                let hasUncheck = false\r\n\r\n                if (!!node.children) {\r\n                    node.children.forEach(child => {\r\n                        next(child)\r\n                        if (child.isCheck) {\r\n                            hasCheck = true\r\n                        } else {\r\n                            hasUncheck = true\r\n                        }\r\n                    })\r\n                }\r\n                if (hasCheck && !hasUncheck) {\r\n                    // 所有子节点选中\r\n                    if (!node.isCheck) {\r\n                        node.check(true)\r\n                    }\r\n                } else if (hasUncheck) {\r\n                    // 有子节点未选中\r\n                    if (node.isCheck) {\r\n                        node.check(false)\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (!!flatDataList.value) {\r\n                flatDataList.value.forEach(next)\r\n            }\r\n        }\r\n    }\r\n\r\n    const handler = {\r\n        mousedown: (e: DragEvent) => {\r\n            state.startClientY = state.moveClientY = e.clientY\r\n\r\n            state.rowEl = getRowEl(e, rowClass)\r\n            state.rowHeight = state.rowEl.offsetHeight\r\n            const vid = Number(state.rowEl.getAttribute('vid'))\r\n            state.moveNode = state.startNode = flatDataList.value[vid]\r\n\r\n            if (!utils.allowRowDraggable(state.startNode)) {\r\n                return\r\n            }\r\n\r\n            const dragNode = state.rowEl.querySelector(`.${nodeClass}`)!\r\n            state.dragNodeBaseLeft = Math.ceil(dragNode.getBoundingClientRect()!.left)\r\n\r\n            state.scrollParent = getScrollParent(state.rowEl)\r\n            state.startScrollTop = state.moveScrollTop = state.scrollParent.scrollTop\r\n            const {top, left, height, width} = (state.scrollParent.parentNode as HTMLElement).getBoundingClientRect()\r\n            state.scrollParentRect = {top, left, height, width}\r\n\r\n            state.indicator = document.createElement('div')\r\n            state.indicator.style.position = 'fixed'\r\n            state.indicator.style.pointerEvents = 'none'\r\n            state.indicator.style.height = `${indicatorSize}px`\r\n            state.indicator.style.width = `${state.scrollParentRect.width}px`\r\n            state.indicator.style.left = `${state.scrollParentRect.left}px`\r\n            state.indicator.style.backgroundColor = '#12b4a5'\r\n            document.body.appendChild(state.indicator)\r\n\r\n            state.scrollParent.addEventListener('scroll', handler.scroll)\r\n            document.addEventListener('mousemove', handler.mousemove)\r\n            document.addEventListener('mouseup', handler.mouseup)\r\n\r\n            utils.refresh()\r\n            autoScroll.methods.showHover()\r\n        },\r\n        scroll() {\r\n            state.moveScrollTop = state.scrollParent!.scrollTop\r\n            utils.refresh()\r\n        },\r\n        /**\r\n         * 在dragover中判断clientX以及clientY，如果这两个值没有变化，就不往下执行，节省性能\r\n         * @author  韦胜健\r\n         * @date    2020/8/25 22:22\r\n         */\r\n        mousemove: (e: MouseEvent) => {\r\n            const {top, height} = state.scrollParentRect\r\n            if (e.clientY < top || e.clientY > top + height) {\r\n                return;\r\n            }\r\n            state.moveClientY = e.clientY\r\n            utils.refresh()\r\n        },\r\n        mouseup: () => {\r\n\r\n            autoScroll.methods.hideHover()\r\n\r\n            const {startNode, moveNode, dropType, droppable} = state\r\n\r\n            state.scrollParent!.removeEventListener('scroll', handler.scroll)\r\n            document.removeEventListener('mousemove', handler.mousemove)\r\n            document.removeEventListener('mouseup', handler.mouseup)\r\n\r\n            state.indicator!.parentNode!.removeChild(state.indicator!)\r\n            state.startClientY = state.moveClientY = 0\r\n            state.rowEl = null\r\n            state.rowHeight = 0\r\n            state.moveNode = null\r\n            state.dragNodeBaseLeft = 0\r\n            state.scrollParent = null\r\n            state.startScrollTop = 0\r\n            state.scrollParentRect = {top: 0, left: 0, height: 0, width: 0}\r\n\r\n            if (!droppable) {\r\n                return\r\n            }\r\n\r\n            startNode!.removeSelf()\r\n\r\n            switch (dropType) {\r\n                case DropType.prev:\r\n                    moveNode!.previousSibling(startNode!)\r\n                    break\r\n                case DropType.inner:\r\n                    moveNode!.unshiftChild(startNode!)\r\n                    expand(moveNode!.key)\r\n                    break\r\n                case DropType.next:\r\n                    moveNode!.nextSibling(startNode!)\r\n                    break\r\n            }\r\n\r\n            utils.refreshCheckStatus()\r\n        }\r\n    }\r\n\r\n    return {\r\n        handler,\r\n        utils,\r\n    }\r\n}","import {definePlc} from \"@/packages/table/plc-components/register\";\r\nimport {PlcType, TableRenderData} from \"@/packages/table/plc/plc\";\r\nimport {TableNode} from \"@/packages/table/table/TableNode\";\r\nimport {injectTable} from \"@/packages/table/table/table\";\r\nimport {computed, getCurrentInstance, onMounted, Ref, watch} from \"@vue/composition-api\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {usePlcTree} from \"@/packages/table/plc-components/standard/tree/use-plc-tree\";\r\nimport {ScopedSlotFunc, useScopedSlots} from \"@/use/useScopedSlots\";\r\nimport {useEvent} from \"@/use/useEvent\";\r\nimport {usePlcTreeRowDraggable} from \"@/packages/table/plc-components/standard/tree/use-plc-tree-row-draggable\";\r\n\r\nimport {PlcProps} from \"@/packages/table/plc/plc-utils\";\r\n\r\n/*只显示展开收起按钮的时候的基本宽度，不算content宽度*/\r\nconst size = 30\r\n\r\nconst CustomProps = {\r\n    contentWidth: {type: Number, default: 100},                         // 显示的内容宽度\r\n    showCheckbox: {type: Boolean},                                      // 是否显示复选框\r\n    rowDraggable: {type: Boolean},                                      // 行是否可以拖拽排序\r\n    allowRowDraggable: Function,                                // 行是否可以被拖拽放置到其他位置\r\n    allowRowDroppable: Function,                                // 行是否可以被放置（放到子节点中，放到前面，放到后面）\r\n}\r\n\r\nexport default definePlc({\r\n    name: 'plc-tree',\r\n    props: {\r\n        // custom\r\n        ...CustomProps,\r\n\r\n        //standard\r\n        autoFixedLeft: {default: true},\r\n        noPadding: {default: true},\r\n        order: {default: -9996},\r\n        width: {default: size},\r\n        summary: {\r\n            type: Function,\r\n            default: function () {return null}\r\n        },\r\n        head: {\r\n            type: Function,\r\n            default: function (plc: PlcType) {\r\n                return (\r\n                    <pl-dropdown>\r\n                        <pl-button mode=\"text\" icon=\"el-icon-menu\" size={'normal'}/>\r\n                        <pl-dropdown-menu slot=\"dropdown\">\r\n                            <pl-dropdown-item label={'全部展开'} onClick={(plc.ctx as any).treePlc.methods.expandAll} icon={'el-icon-caret-right'}/>\r\n                            <pl-dropdown-item label={'全部收起'} onClick={(plc.ctx as any).treePlc.methods.collapseAll} icon={'el-icon-caret-bottom'}/>\r\n                            {\r\n                                (plc as any).ctx.showCheckbox && [\r\n                                    <pl-dropdown-item label={'全选'} onClick={(plc.ctx as any).treePlc.methods.checkAll} icon={'el-icon-check'}/>,\r\n                                    <pl-dropdown-item label={'反选'} onClick={(plc.ctx as any).treePlc.methods.uncheckAll} icon={'el-icon-close'}/>,\r\n                                ]\r\n                            }\r\n                        </pl-dropdown-menu>\r\n                    </pl-dropdown>\r\n                )\r\n            }\r\n        },\r\n        default: {\r\n            type: Function,\r\n            default: function (renderData: TableRenderData) {\r\n                const {rowData, plc} = renderData\r\n                const ctx = plc.ctx as any\r\n                return (\r\n                    <div style={ctx.treePlc.styleUtils.getStyles(rowData)}\r\n                         class={ctx.treePlc.styleUtils.getClasses(rowData)}>\r\n                        <div class=\"plc-tree-node-expander\">\r\n                            {rowData.isLoading ? (\r\n                                <pl-button loading\r\n                                           mode=\"text\"\r\n                                           icon=\" \"\r\n                                           size={'normal'}/>\r\n                            ) : (\r\n                                !rowData.isLeaf && <pl-button mode=\"text\"\r\n                                                              size={'normal'}\r\n                                                              icon={rowData.isExpand ? 'el-icon-caret-bottom' : 'el-icon-caret-right'}\r\n                                                              onClick={(e) => ctx.treePlc.handler.clickExpandIcon(e, rowData)}/>\r\n                            )}\r\n                        </div>\r\n                        {!!ctx.rowDraggable && (\r\n                            <pl-button icon=\"el-icon-rank\"\r\n                                       mode=\"text\"\r\n                                       disabled={!ctx.treeDraggablePlc.utils.allowRowDraggable(rowData)}\r\n                                       {...{nativeOn: {mousedown: ctx.treeDraggablePlc.handler.mousedown}}}\r\n                                       class=\"plc-tree-drag-btn\"\r\n                            />\r\n                        )}\r\n                        {!!ctx.showCheckbox && (\r\n                            <div class=\"plc-tree-node-check\">\r\n                                <pl-checkbox-indeterminate\r\n                                    size={'normal'}\r\n                                    checkboxProps={{value: rowData.checkStatus === 'check'}}\r\n                                    status={rowData.checkStatus}\r\n                                    disabled={!rowData.isCheckable}\r\n                                    {...{nativeOn: {click: e => ctx.treePlc.handler.clickCheckbox(e, rowData)}}}\r\n                                />\r\n                            </div>\r\n                        )}\r\n                        {\r\n                            !!ctx.$scopedSlots.content && (\r\n                                <div class=\"plc-tree-node-content\" style={ctx.treePlc.contentStyles}>\r\n                                    {ctx.$scopedSlots.content(renderData)}\r\n                                </div>\r\n                            )\r\n                        }\r\n                    </div>\r\n                )\r\n            }\r\n        },\r\n    },\r\n    // @ts-ignore\r\n    setup(props: ExtractPropTypes<typeof PlcProps> & ExtractPropTypes<typeof CustomProps>) {\r\n\r\n        const table = injectTable()\r\n        const ctx = getCurrentInstance() as any\r\n        const {$scopedSlots} = useScopedSlots({\r\n            content: ScopedSlotFunc,    // 自定义显示的内容的作用域插槽\r\n        })\r\n\r\n        const {emit} = useEvent({\r\n            expand: (node: TableNode) => {},\r\n            collapse: (node: TableNode) => {},\r\n            expandChange: (expandKeys: string[]) => {},\r\n\r\n            check: (node: TableNode) => {},\r\n            uncheck: (node: TableNode) => {},\r\n            checkChange: (checkKeys: string[]) => {},\r\n        })\r\n\r\n        const {\r\n            utils,\r\n            methods,\r\n            handler,\r\n            emitExpandKeys,\r\n            emitCheckKeys,\r\n        } = usePlcTree({\r\n            mark: table.mark,\r\n            isLoading: table.isLoading,\r\n            getChildren: table.props.getChildren,\r\n            lazy: table.props.lazy,\r\n            dataModel: table.dataModel,\r\n            rootNode: table.rootNode,\r\n            according: table.props.according,\r\n            autoExpandParent: table.props.autoExpandParent,\r\n            emit,\r\n            tableData: table.tableData as Ref<TableNode[]>,\r\n            checkStrictly: table.props.checkStrictly,\r\n        })\r\n\r\n        const styleUtils = {\r\n            getStyles(rowData: TableNode) {\r\n                return {\r\n                    paddingLeft: $plain.utils.suffixPx((rowData.level - 1) * size)\r\n                }\r\n            },\r\n            getClasses(rowData: TableNode) {\r\n                return [\r\n                    'plc-tree-node',\r\n                    {'plc-tree-node-expanded': rowData.isExpand},\r\n                ]\r\n            },\r\n        }\r\n\r\n        /**\r\n         * 动态列宽，当展开收起的时候，自动更新列宽\r\n         * @author  韦胜健\r\n         * @date    2020/8/24 9:35\r\n         */\r\n        const width = computed(() => {\r\n            // 展开按钮的基本宽度\r\n            let expand = size\r\n            // 内容宽度，如果有content插槽，则加上props.contentWidth\r\n            let content = !!$scopedSlots.content ? (props as any).contentWidth as number : 0\r\n            // 如果显示复选框，则宽度再加上size\r\n            let check = !!(props as any).showCheckbox ? size : 0\r\n            // 如果显示拖拽排序按钮，则宽度再加上size\r\n            let draggable = !!(props as any).rowDraggable ? size : 0\r\n\r\n            // 每一层都增加一个左边距 (expand + check) * level，所以每一层都加上这个宽度\r\n            const level = table.maxShowLevel.value\r\n\r\n            // 最后最大层的宽度\r\n            return expand * (level - 1) + (content + expand + check + draggable)\r\n        })\r\n\r\n        onMounted(() => {\r\n            watch(() => table.maxShowLevel.value, () => {\r\n                ctx.state.width = width.value\r\n            }, {immediate: true})\r\n        })\r\n\r\n        const treeDraggablePlc = usePlcTreeRowDraggable({\r\n            flatDataList: table.formatFlatTableData,\r\n            rowDraggable: props.rowDraggable,\r\n            rowClass: 'plt-row',\r\n            nodeClass: 'plc-tree-node',\r\n            levelPadding: size,\r\n            showCheckbox: props.showCheckbox,\r\n            checkStrictly: table.props.checkStrictly,\r\n            allowRowDraggable: props.allowRowDraggable,\r\n            allowRowDroppable: props.allowRowDroppable,\r\n            expand: methods.expand,\r\n        })\r\n\r\n        return {\r\n            treePlc: {\r\n                styleUtils,\r\n\r\n                utils,\r\n                methods,\r\n                handler,\r\n                emitExpandKeys,\r\n                emitCheckKeys,\r\n                contentStyles: {\r\n                    width: `${props.contentWidth}px`\r\n                }\r\n            },\r\n            treeDraggablePlc,\r\n        }\r\n    },\r\n})","import {definePlc} from \"@/packages/table/plc-components/register\";\r\nimport {useListDraggier} from \"@/packages/table/plc-components/standard/draggier/composition\";\r\nimport {injectTable} from \"@/packages/table/table/table\";\r\nimport {$plain} from \"@/packages/base\";\r\n\r\nexport default definePlc({\r\n    name: 'plc-draggier',\r\n    props: {\r\n\r\n        autoFixedLeft: {default: true},\r\n        order: {default: -9998},\r\n        width: {default: 40},\r\n        align: {default: 'center'},\r\n        noPadding: {type: Boolean, default: true},\r\n\r\n        head: {\r\n            type: Function,\r\n            default: function () {\r\n                return null\r\n            }\r\n        },\r\n        summary: {\r\n            type: Function,\r\n            default: function () {\r\n                return null\r\n            }\r\n        },\r\n        default: {\r\n            type: Function,\r\n            default: function ({plc}) {\r\n                return (\r\n                    <pl-button icon=\"el-icon-rank\"\r\n                               size=\"normal\"\r\n                               mode=\"text\"\r\n                               class=\"plc-draggier-handler\"\r\n                               {...{\r\n                                   nativeOn: {\r\n                                       mousedown: (plc.ctx as any).draggierPlc.handler.mousedown\r\n                                   }\r\n                               }}\r\n                    />\r\n                )\r\n            }\r\n        },\r\n    },\r\n    setup(props) {\r\n\r\n        const {dataModel, isDisabledVirtualScroll} = injectTable()\r\n\r\n        const {handler} = useListDraggier({\r\n            virtual: !isDisabledVirtualScroll.value && !$plain.utils.ie,\r\n            // virtual: true,\r\n            rowClass: 'plt-row',\r\n            onChange: async (start, end) => {\r\n                dataModel.value!.splice(end, 0, dataModel.value!.splice(start, 1)[0])\r\n            }\r\n        })\r\n\r\n        return {\r\n            draggierPlc: {\r\n                handler,\r\n            }\r\n        }\r\n    },\r\n})","import {definePlc, getBinding} from \"@/packages/table/plc-components/register\";\r\nimport {TableRenderData} from \"@/packages/table/plc/plc\";\r\n\r\nexport default definePlc({\r\n    name: 'plc-toggle',\r\n    props: {\r\n        addEditPadding: {default: true},\r\n        summary: {\r\n            type: Function,\r\n            default: null\r\n        },\r\n        default: {\r\n            type: Function,\r\n            default: function ({row, plc}: TableRenderData) {\r\n                return (\r\n                    <pl-toggle disabled {...getBinding(row, plc.props.field!)} trueValue={'Y'} falseValue={'N'}/>\r\n                )\r\n            }\r\n        },\r\n        edit: {\r\n            type: Function,\r\n            default: function ({row, plc}: TableRenderData) {\r\n                return (\r\n                    <pl-toggle {...getBinding(row, plc.props.field!)} trueValue={'Y'} falseValue={'N'}/>\r\n                )\r\n            }\r\n        },\r\n    },\r\n})","import {definePlc, getBinding} from \"@/packages/table/plc-components/register\";\r\nimport {TableRenderData} from \"@/packages/table/plc/plc\";\r\n\r\nexport default definePlc({\r\n    name: 'plc-input',\r\n    props: {\r\n        edit: {\r\n            type: Function,\r\n            default: function ({plc, row}: TableRenderData) {\r\n\r\n                /*return (\r\n                    <pl-input\r\n                        value={row[plc.props.field!]}\r\n                        onInput={val => set(row, plc.props.field, val)}\r\n                        {...{\r\n                            on: {\r\n                                // @ts-ignore\r\n                                'click-input': () => plc.ctx!.onClickItem(this, plc)\r\n                            }\r\n                        }}\r\n                    />\r\n                )*/\r\n\r\n                return (\r\n                    <pl-input {...getBinding(row, plc.props.field!)}/>\r\n                )\r\n            }\r\n        },\r\n    },\r\n    data() {\r\n        return {\r\n            selected: [\r\n                '123',\r\n                '4456'\r\n            ],\r\n        }\r\n    },\r\n    methods: {\r\n        addSelected() {\r\n            // @ts-ignore\r\n            this.selected.push(this.selected.length)\r\n        },\r\n        onClickItem(bodyCell, plc) {\r\n            // @ts-ignore\r\n            console.log(this.selected)\r\n            console.log({\r\n                bodyCell, plc\r\n            })\r\n        },\r\n    },\r\n})","import {definePlc, getBinding} from \"@/packages/table/plc-components/register\";\r\n\r\nexport default definePlc({\r\n    name: 'plc-number',\r\n    props: {\r\n        width: {default: 150},\r\n        edit: {\r\n            type: Function,\r\n            default: function ({plc, row}) {\r\n                return (\r\n                    <pl-number {...getBinding(row, plc.props.field!)}/>\r\n                )\r\n            }\r\n        },\r\n    },\r\n})","import {definePlc, getBinding} from \"@/packages/table/plc-components/register\";\r\n\r\nexport default definePlc({\r\n    name: 'plc-date',\r\n    props: {\r\n        width: {default: 150},\r\n        edit: {\r\n            type: Function,\r\n            default: function ({plc, row}) {\r\n                return (\r\n                    <pl-date {...getBinding(row, plc.props.field!)}/>\r\n                )\r\n            }\r\n        },\r\n    },\r\n})","import {definePlc, getBinding} from \"@/packages/table/plc-components/register\";\r\n\r\nexport default definePlc({\r\n    name: 'plc-color-picker',\r\n    props: {\r\n        width: {default: 150},\r\n        edit: {\r\n            type: Function,\r\n            default: function ({plc, row}) {\r\n                return (\r\n                    <pl-color-picker {...getBinding(row, plc.props.field!)}/>\r\n                )\r\n            }\r\n        },\r\n    },\r\n})","import {definePlc, getBinding} from \"@/packages/table/plc-components/register\";\r\nimport {TableRenderData} from \"@/packages/table/plc/plc\";\r\n\r\nexport default definePlc({\r\n    name: 'plc-rate',\r\n    props: {\r\n        addEditPadding: {default: true},\r\n        summary: {\r\n            type: Function,\r\n            default: null\r\n        },\r\n        default: {\r\n            type: Function,\r\n            default: function ({row, plc}: TableRenderData) {\r\n                return (\r\n                    <pl-rate disabled {...getBinding(row, plc.props.field!)} total={10}/>\r\n                )\r\n            }\r\n        },\r\n        edit: {\r\n            type: Function,\r\n            default: function ({row, plc}: TableRenderData) {\r\n                return (\r\n                    <pl-rate {...getBinding(row, plc.props.field!)} total={10}/>\r\n                )\r\n            }\r\n        },\r\n    },\r\n})","import {toArray} from \"@/util/util\";\r\nimport {VueConstructor} from \"vue/types/umd\";\r\nimport PLAIN from \"@/packages/base\";\r\n\r\ninterface VueType {\r\n    use: (plugin: PluginType) => void\r\n    component: (name: string, component: object) => void\r\n}\r\n\r\nexport interface PluginType {\r\n    name?: string\r\n    install?: (Vue: VueType) => void\r\n}\r\n\r\nexport function installPlugin(defaultPlugins: VueConstructor | VueConstructor[] | PluginType | PluginType[], externalsPlugins?: VueConstructor | PluginType | PluginType[]): PluginType {\r\n\r\n    const install: PluginType['install'] = Vue => {\r\n\r\n        Vue.use(PLAIN)\r\n\r\n        defaultPlugins = toArray(defaultPlugins) as PluginType[]\r\n        defaultPlugins.forEach(plugin => {\r\n            if (!plugin.install && !!plugin.name) {\r\n                plugin.install = Vue => Vue.component(plugin.name!, plugin)\r\n            }\r\n            Vue.use(plugin)\r\n        })\r\n\r\n        if (!!externalsPlugins) {\r\n            externalsPlugins = toArray(externalsPlugins) as PluginType[]\r\n            externalsPlugins.forEach(plugin => Vue.use(plugin))\r\n        }\r\n    }\r\n\r\n    if (typeof window !== 'undefined' && window.Vue) {\r\n        install(window.Vue as any);\r\n    }\r\n\r\n    return {\r\n        install\r\n    }\r\n}","import index from './standard/plc-index'\r\nimport check from './standard/plc-check'\r\nimport expand from './standard/plc-expand'\r\nimport tree from './standard/tree/plc-tree'\r\nimport draggier from './standard/draggier/plc-draggier'\r\n\r\nimport toggle from './external/plc-toggle'\r\nimport input from './external/plc-input'\r\nimport number from './external/plc-number'\r\nimport date from './external/plc-date'\r\nimport color from './external/plc-color-picker'\r\nimport rate from './external/plc-rate'\r\n\r\n\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    index,\r\n    check,\r\n    expand,\r\n    tree,\r\n    draggier,\r\n\r\n    toggle,\r\n    input,\r\n    number,\r\n    date,\r\n    color,\r\n    rate,\r\n]);","export enum KEY {\r\n    'shift' = 'shift',\r\n    'ctrl' = 'ctrl',\r\n    'alt' = 'alt',\r\n    'backspace' = 'backspace',\r\n    'tab' = 'tab',\r\n    'enter' = 'enter',\r\n    'esc' = 'esc',\r\n    'space' = 'space',\r\n    'del' = 'del',\r\n    'left' = 'left',\r\n    'up' = 'up',\r\n    'right' = 'right',\r\n    'down' = 'down',\r\n    'minus' = 'minus',\r\n    'equal' = 'equal',\r\n    'num_0' = 'num_0',\r\n    'num_1' = 'num_1',\r\n    'num_2' = 'num_2',\r\n    'num_3' = 'num_3',\r\n    'num_4' = 'num_4',\r\n    'num_5' = 'num_5',\r\n    'num_6' = 'num_6',\r\n    'num_7' = 'num_7',\r\n    'num_8' = 'num_8',\r\n    'num_9' = 'num_9',\r\n    'a' = 'a',\r\n    'b' = 'b',\r\n    'c' = 'c',\r\n    'd' = 'd',\r\n    'e' = 'e',\r\n    'f' = 'f',\r\n    'g' = 'g',\r\n    'h' = 'h',\r\n    'i' = 'i',\r\n    'j' = 'j',\r\n    'k' = 'k',\r\n    'l' = 'l',\r\n    'm' = 'm',\r\n    'n' = 'n',\r\n    'o' = 'o',\r\n    'p' = 'p',\r\n    'q' = 'q',\r\n    'r' = 'r',\r\n    's' = 's',\r\n    't' = 't',\r\n    'u' = 'u',\r\n    'v' = 'v',\r\n    'w' = 'w',\r\n    'x' = 'x',\r\n    'y' = 'y',\r\n    'z' = 'z',\r\n    'F1' = 'F1',\r\n    'F2' = 'F2',\r\n    'F3' = 'F3',\r\n    'F4' = 'F4',\r\n    'F5' = 'F5',\r\n    'F6' = 'F6',\r\n    'F7' = 'F7',\r\n    'F8' = 'F8',\r\n    'F9' = 'F9',\r\n    'F10' = 'F10',\r\n    'F11' = 'F11',\r\n    'F12' = 'F12',\r\n}\r\n\r\nexport const KeyBoardMap = {\r\n    16: 'shift',\r\n    17: 'ctrl',\r\n    18: 'alt',\r\n\r\n    8: 'backspace',\r\n    9: 'tab',\r\n    13: 'enter',\r\n    27: 'esc',\r\n    32: 'space',\r\n    46: 'del',\r\n\r\n    37: 'left',\r\n    38: 'up',\r\n    39: 'right',\r\n    40: 'down',\r\n\r\n    189: 'minus',\r\n    187: 'equal',\r\n\r\n    48: 'num_0',\r\n    49: 'num_1',\r\n    50: 'num_2',\r\n    51: 'num_3',\r\n    52: 'num_4',\r\n    53: 'num_5',\r\n    54: 'num_6',\r\n    55: 'num_7',\r\n    56: 'num_8',\r\n    57: 'num_9',\r\n\r\n    65: 'a',\r\n    66: 'b',\r\n    67: 'c',\r\n    68: 'd',\r\n    69: 'e',\r\n    70: 'f',\r\n    71: 'g',\r\n    72: 'h',\r\n    73: 'i',\r\n    74: 'j',\r\n    75: 'k',\r\n\r\n    76: 'l',\r\n    77: 'm',\r\n    78: 'n',\r\n    79: 'o',\r\n    80: 'p',\r\n    81: 'q',\r\n    82: 'r',\r\n    83: 's',\r\n    84: 't',\r\n    85: 'u',\r\n    86: 'v',\r\n    87: 'w',\r\n    88: 'x',\r\n    89: 'y',\r\n    90: 'z',\r\n\r\n    112: 'F1',\r\n    113: 'F2',\r\n    114: 'F3',\r\n    115: 'F4',\r\n    116: 'F5',\r\n    117: 'F6',\r\n    118: 'F7',\r\n    119: 'F8',\r\n    120: 'F9',\r\n    121: 'F10',\r\n    122: 'F11',\r\n    123: 'F12',\r\n}\r\n\r\nexport function getKey(e: KeyboardEvent): KEY | null {\r\n    let key = KeyBoardMap[e.keyCode]\r\n    if (!!KEY[key]) {\r\n        return KEY[key]\r\n    } else {\r\n        /*if (e.keyCode !== 229) {\r\n            console.warn(`Can't recognise key`, e)\r\n        }*/\r\n        return null\r\n    }\r\n}\r\n\r\nexport class KeyboardServiceOption {\r\n    [key: string]: (e?: KeyboardEvent) => (void | undefined | boolean)\r\n}\r\n\r\nexport const KeyboardService = {\r\n    options: [] as KeyboardServiceOption[],\r\n    /*订阅点击事件*/\r\n    listen(option: KeyboardServiceOption) {\r\n        if (!option) return\r\n        this.options.push(option)\r\n    },\r\n    /*取消订阅事件*/\r\n    unbindListener(option: KeyboardServiceOption) {\r\n        let index = this.options.indexOf(option)\r\n        if (index > -1) {\r\n            this.options.splice(index, 1)\r\n        }\r\n    },\r\n    /*取消当前激活的元素*/\r\n    cancelActiveElement() {\r\n        const activeElement = document.activeElement as HTMLElement\r\n        if (!!activeElement) activeElement.blur()\r\n        return activeElement\r\n    },\r\n    /*处理window的点击事件*/\r\n    _onkeydown(e) {\r\n        if (e.currentTarget !== e.target) return\r\n        const names = [] as string[];\r\n        e.ctrlKey && names.push('ctrl')\r\n        e.shiftKey && names.push('shift')\r\n        e.altKey && names.push('alt')\r\n        names.push(KeyBoardMap[e.keyCode])\r\n        const compositionKeyName = names.join('+')\r\n\r\n        const option = this.options[this.options.length - 1]\r\n        if (!!option && !!option[compositionKeyName]) {\r\n            const flag = option[compositionKeyName](e)\r\n            /*默认阻止事件冒泡*/\r\n            if (flag !== false) {\r\n                e.stopPropagation()\r\n                e.preventDefault()\r\n            }\r\n        }\r\n    },\r\n}\r\n\r\nexport function handleKeyboard(option: { [key in KEY]?: (e: KeyboardEvent) => any }) {\r\n    return (e: KeyboardEvent) => {\r\n        const key = getKey(e)\r\n        if (!!key && !!option[key]) {\r\n            return option[key]!(e)\r\n        }\r\n    }\r\n}\r\n\r\ndocument.body.addEventListener('keydown', e => KeyboardService._onkeydown(e))\r\n\r\nexport default {\r\n    install(Vue) {\r\n        let $plain = Vue.prototype.$plain;\r\n        $plain.$keyboard = KeyboardService\r\n    },\r\n}","const map = new WeakMap()\r\n\r\nclass ClickWaveData {\r\n\r\n    option: any\r\n    on: () => void\r\n    wavingTimer: number | null = null\r\n    el: HTMLElement\r\n    updateOption: (option: any) => void\r\n\r\n    constructor(el: HTMLElement, option: any) {\r\n        this.option = {}\r\n        this.on = () => {\r\n            // console.log(this.option,this.option.disabled === true)\r\n            if (this.option.disabled === true) return;\r\n            if (!!this.wavingTimer) return\r\n\r\n            this.el.setAttribute('plain-click-node-waving', 'active')\r\n            this.wavingTimer = setTimeout(() => {\r\n                this.el.removeAttribute('plain-click-node-waving')\r\n                this.wavingTimer = null\r\n            }, 500)\r\n        }\r\n        this.updateOption = (option) => {\r\n            option = option || {}\r\n            if (typeof option === \"string\") {\r\n                option = {\r\n                    size: option\r\n                }\r\n            }\r\n            option.size = option.size || 'normal'\r\n            this.option = option\r\n        }\r\n        this.updateOption(option)\r\n        this.el = el\r\n        this.el.setAttribute(`plain-click-node-${this.option.size}`, 'active')\r\n\r\n        el.addEventListener('click', this.on, true)\r\n    }\r\n\r\n    unbind() {\r\n        this.el.removeEventListener('click', this.on, true)\r\n    }\r\n}\r\n\r\nconst ClickWave = {\r\n    bind(el, binding) {\r\n        map.set(el, new ClickWaveData(el, binding.value))\r\n    },\r\n    componentUpdated(el, binding) {\r\n        const data = map.get(el)\r\n        if (!!data) {\r\n            data.updateOption(binding.value)\r\n        }\r\n    },\r\n    unbind(el) {\r\n        const data = map.get(el)\r\n        if (!!data) {\r\n            data.unbind()\r\n        }\r\n    },\r\n}\r\n\r\nexport default ClickWave","import {computed, inject, provide, reactive, getCurrentInstance, ref} from \"@vue/composition-api\";\r\nimport {useWrapper} from \"@/use/useWrapper\";\r\n\r\n/**\r\n * 生成editComputed，用于继承父组件的edit属性\r\n * @author  韦胜健\r\n * @date    2020/5/13 14:55\r\n */\r\nexport const EditProvider = '@@PLAIN_EDIT_PROVIDER'\r\n\r\nexport const EditProps = {\r\n    disabled: {type: Boolean, default: null},\r\n    readonly: {type: Boolean, default: null},\r\n    loading: {type: Boolean, default: null},\r\n}\r\n\r\nexport const useEdit = useWrapper('edit', () => {\r\n\r\n    const ctx = getCurrentInstance()!\r\n    const parent = inject(EditProvider, null) as any\r\n\r\n    const editState = reactive({loading: null} as { loading: boolean | null })\r\n\r\n    const editComputed = computed(() => {\r\n        let {disabled, readonly, loading} = ctx.$props\r\n        const p = {disabled, readonly, loading}\r\n\r\n        if (p.disabled == null) {\r\n            p.disabled = !!parent ? parent.value.disabled : false\r\n        }\r\n        if (p.readonly == null) {\r\n            p.readonly = !!parent ? parent.value.readonly : false\r\n        }\r\n        if (editState.loading == null) {\r\n            p.loading = p.loading != null ? p.loading : (!!parent ? parent.value.loading : false)\r\n        } else {\r\n            p.loading = editState.loading\r\n        }\r\n        return {\r\n            disabled: p.disabled,\r\n            loading: p.loading,\r\n            readonly: p.readonly,\r\n            editable: !p.disabled && !p.readonly && !p.loading\r\n        }\r\n    })\r\n\r\n    ctx.$on('blur', (...args) => {\r\n        if (!!parent && !!parent.value.onBlur) {\r\n            parent.value.onBlur(...args)\r\n        }\r\n    });\r\n    ctx.$on('change', (...args) => {\r\n        if (!!parent && !!parent.value.onChange) {\r\n            parent.value.onChange(...args)\r\n        }\r\n    });\r\n\r\n    provide(EditProvider, editComputed)\r\n\r\n    return {\r\n        editState,\r\n        editComputed,\r\n    }\r\n})\r\n\r\nexport const useEditOuterLoading = useWrapper('loading', () => {\r\n    const loading = ref(false)\r\n    const {editComputed} = useEdit()\r\n\r\n    // @ts-ignore\r\n    return computed({\r\n        get: () => loading.value || editComputed.value.loading,\r\n        set: (val) => {\r\n            loading.value = val\r\n        },\r\n    }) as { value: boolean }\r\n})","import {computed, defineComponent, inject, provide} from \"@vue/composition-api\";\r\nimport {EditProps, useEdit} from \"@/use/useEdit\";\r\nimport {StyleProps, useStyle} from \"@/use/useStyle\";\r\nimport {useSlots} from \"@/use/useSlots\";\r\nimport {DEFAULT_STATUS} from \"@/packages/base\";\r\n\r\n\r\nexport const BUTTON_GROUP_PROVIDER = '@@BUTTON_GROUP_PROVIDER'\r\n\r\nexport default defineComponent({\r\n    name: 'pl-button-group',\r\n    props: {\r\n        mode: {type: String, default: 'fill'},                  // fill,stroke,text\r\n        vertical: {type: Boolean},\r\n\r\n        ...EditProps,\r\n        ...StyleProps,\r\n    },\r\n    setup(props, context) {\r\n\r\n        const {slots} = useSlots()\r\n\r\n        const {styleComputed} = useStyle({status: DEFAULT_STATUS})\r\n\r\n        const {editComputed} = useEdit()\r\n\r\n        const buttonGroupProvide = computed(() => ({mode: props.mode}))\r\n\r\n        provide(BUTTON_GROUP_PROVIDER, buttonGroupProvide)\r\n\r\n        const buttonGroup = inject(BUTTON_GROUP_PROVIDER, null) as any\r\n\r\n        const otherComputed = computed(() => ({\r\n            mode: !!buttonGroup ? buttonGroup.value.mode : props.mode\r\n        }))\r\n\r\n        const classes = computed(() => ([\r\n            `pl-button-group`,\r\n            `pl-button-group-status-${styleComputed.value.status}`,\r\n            `pl-button-group-mode-${otherComputed.value.mode}`,\r\n            `pl-button-group-shape-${styleComputed.value.shape}`,\r\n            `pl-button-group-size-${styleComputed.value.size}`,\r\n            `pl-button-group-direction-${props.vertical ? 'vertical' : 'horizontal'}`,\r\n            {\r\n                'pl-button-group-disabled': !!editComputed.value.disabled,\r\n            },\r\n        ]))\r\n\r\n        return () => (\r\n            <div class={classes.value}>\r\n                {slots.default()}\r\n            </div>\r\n        )\r\n    },\r\n})","import {computed, defineComponent, inject, reactive, watch} from \"@vue/composition-api\";\r\n\r\nimport PlainUtils from '../../../submodules/plain-utils'\r\nimport ClickWave from \"@/directives/click-wave\";\r\nimport {BUTTON_GROUP_PROVIDER} from \"@/packages/button/button-group\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {EditProps, useEdit} from \"@/use/useEdit\";\r\nimport {StyleProps, useStyle} from \"@/use/useStyle\";\r\nimport {FormatPropsType, useProps} from \"@/use/useProps\";\r\nimport {useSlots} from \"@/use/useSlots\";\r\nimport {DEFAULT_STATUS} from \"@/packages/base\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-button',\r\n    directives: {ClickWave},\r\n    props: {\r\n        mode: {type: String, default: 'fill'},                  // fill,stroke,text\r\n        label: {type: String},                                  // 按钮文本\r\n        width: {type: [String, Number]},                        // 按钮宽度\r\n        icon: {type: String},                                   // 按钮图标\r\n        active: {type: Boolean},                                // 按钮是否高亮\r\n        noPadding: {type: Boolean},                             // 按钮是否无边距\r\n        block: {type: Boolean},                                 // 块级元素\r\n        throttleClick: {type: [Boolean, Number]},               // click节流\r\n        autoLoading: {type: Boolean},                           // 在执行click处理函数时，是否自动变更为加载状态\r\n\r\n        ...EditProps,\r\n        ...StyleProps,\r\n\r\n        /*native*/\r\n        type: {type: String, default: 'button'},\r\n        nativeProps: {},\r\n    },\r\n    setup(props, context) {\r\n\r\n        const {slots} = useSlots()\r\n\r\n        /*---------------------------------------state-------------------------------------------*/\r\n\r\n        const propsState = useProps(props, {\r\n            width: FormatPropsType.number,\r\n            label: FormatPropsType.promise,\r\n        })\r\n\r\n        const {styleComputed} = useStyle({status: DEFAULT_STATUS})\r\n        const {editState, editComputed} = useEdit()\r\n\r\n        const buttonGroup = inject(BUTTON_GROUP_PROVIDER, null) as any\r\n\r\n        const otherComputed = computed(() => ({\r\n            mode: !!buttonGroup ? buttonGroup.value.mode : props.mode\r\n        }))\r\n\r\n        const state = reactive({\r\n            handleClick: null as any,\r\n            handleClickInner: async (e) => {\r\n                if (editComputed.value.editable) {\r\n                    if (props.autoLoading) {\r\n                        editState.loading = true\r\n                        try {\r\n                            if (!!context.listeners.click) {\r\n                                await context.listeners.click(e)\r\n                            }\r\n                        } catch (e) {\r\n                        } finally {\r\n                            editState.loading = null\r\n                        }\r\n                    } else {\r\n                        emit.click(e)\r\n                    }\r\n                }\r\n            },\r\n        })\r\n\r\n        /*---------------------------------------watch-------------------------------------------*/\r\n\r\n        watch(\r\n            () => props.throttleClick,\r\n            (val) => {\r\n                if (!val) {\r\n                    return state.handleClick = state.handleClickInner\r\n                }\r\n                if (val === true) {\r\n                    val = 1000\r\n                }\r\n                state.handleClick = PlainUtils.throttle(state.handleClickInner, val, {trailing: false})\r\n            },\r\n            {immediate: true}\r\n        )\r\n\r\n        /*---------------------------------------emitter-------------------------------------------*/\r\n\r\n        const {emit} = useEvent({\r\n            click: EmitFunc,\r\n            focus: EmitFunc,\r\n        })\r\n\r\n        /*---------------------------------------computed-------------------------------------------*/\r\n\r\n        const classes = computed(() => ([\r\n            'pl-button',\r\n            'plain-click-node',\r\n\r\n            `pl-button-mode-${otherComputed.value.mode}`,\r\n            `pl-button-status-${styleComputed.value.status}`,\r\n            `pl-button-shape-${styleComputed.value.shape}`,\r\n            `pl-button-size-${styleComputed.value.size}`,\r\n\r\n            {\r\n                'pl-button-icon': !!props.icon,\r\n                'pl-button-active': !!props.active,\r\n                'pl-button-noPadding': !!props.noPadding,\r\n\r\n                'pl-button-loading': !!editComputed.value.loading,\r\n                'pl-button-has-icon': !!props.icon,\r\n                'pl-button-block': !!props.block,\r\n                'pl-button-disabled': !!editComputed.value.disabled,\r\n                'pl-button-icon-only': !!props.icon && !propsState.label,\r\n            },\r\n        ]))\r\n\r\n        const styles = computed(() => ({\r\n            width: !!propsState.width ? PlainUtils.suffixPx(propsState.width) : null,\r\n        }))\r\n\r\n        /*---------------------------------------render-------------------------------------------*/\r\n\r\n        return () => (\r\n            <button\r\n                style={styles.value}\r\n                class={classes.value}\r\n                type={props.type}\r\n                disabled={editComputed.value.disabled}\r\n                readonly={editComputed.value.readonly}\r\n\r\n                {...{\r\n                    attrs: props.nativeProps,\r\n                    directives: [{name: 'click-wave', value: 'large'}],\r\n                }}\r\n\r\n                onClick={state.handleClick}\r\n            >\r\n                {!!editComputed.value.loading && <pl-loading type=\"gamma\" v-if=\"isLoading\"/>}\r\n                {slots.default(\r\n                    [\r\n                        (!!props.icon && !editComputed.value.loading) ? <pl-icon icon={props.icon}/> : null,\r\n                        propsState.label ? <span>{propsState.label}</span> : null\r\n                    ]\r\n                )}\r\n            </button>\r\n        )\r\n    },\r\n})","import './button.scss'\r\nimport button from \"@/packages/button/button\";\r\nimport buttonGroup from './button-group'\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    button,\r\n    buttonGroup,\r\n])","import {computed, defineComponent, reactive, watch} from '@vue/composition-api'\r\nimport {StyleProps, useStyle} from \"@/use/useStyle\";\r\nimport {EditProps, useEdit} from \"@/use/useEdit\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {FormatPropsType, useProps} from \"@/use/useProps\";\r\nimport {useModel} from \"@/use/useModel\";\r\nimport {useRefer} from \"@/use/useRefer\";\r\n\r\nimport {HTMLInputEvent, StyleType} from \"@/types/utils\";\r\nimport {PlainUtils} from \"@/util/util\";\r\nimport {getKey, KEY} from \"@/packages/keyboard\";\r\nimport {CompRef, ElRef, useRefs} from \"@/use/useRefs\";\r\nimport {SlotFunc, useSlots} from \"@/use/useSlots\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-input',\r\n    props: {\r\n        ...EditProps,\r\n        ...StyleProps,\r\n\r\n        value: {type: String},\r\n        placeValue: {type: String},\r\n\r\n        width: {type: [Number, String], default: null,},        // 输入框默认宽度\r\n        minHeight: {type: [Number, String], default: 100},      // 文本域最小高度\r\n        maxHeight: {type: [Number, String], default: 156},      // 文本域最大高度\r\n        block: {type: Boolean},                                 // 块级元素\r\n        textarea: {type: Boolean},                              // 当前是否为文本域输入框\r\n        suffixIcon: {type: [String, Function]},                 // 右侧图标\r\n        prefixIcon: {type: String},                             // 左侧图标\r\n        clearIcon: {type: Boolean},                             // 清除图标\r\n        clearHandler: Function,                         // 点击清除图标处理逻辑\r\n\r\n        autoHeight: {type: Boolean},                            // 自适应高度\r\n        isFocus: {type: Boolean},                               // 当前是否处于激活状态\r\n        inputReadonly: {type: Boolean},                         // 输入框只读\r\n        throttleEnter: {type: [Boolean, Number]},               // enter按键事件节流\r\n        autoLoading: {type: Boolean},                           // enter自动处理异步任务，开启/关闭loading状态\r\n\r\n        /*---------------------------------------原生属性-------------------------------------------*/\r\n        inputInnerTabindex: {type: Number, default: 0},\r\n        type: {type: String, default: 'text'},\r\n        placeholder: {type: String},\r\n        nativeProps: {type: Object, default: () => ({})},\r\n    },\r\n    setup(props, context) {\r\n\r\n        const {$slots} = useSlots({\r\n            prepend: SlotFunc,\r\n            append: SlotFunc,\r\n            hidden: SlotFunc,\r\n        })\r\n\r\n        /*---------------------------------------ref-------------------------------------------*/\r\n\r\n        const refs = useRefs({\r\n            input: CompRef,\r\n            hiddenInput: ElRef,\r\n        })\r\n\r\n        /*---------------------------------------emitter-------------------------------------------*/\r\n\r\n        const {emit} = useEvent({\r\n            input: EmitFunc,\r\n            focus: EmitFunc,\r\n            blur: EmitFunc,\r\n            keydown: EmitFunc,\r\n            enter: EmitFunc,\r\n\r\n            clickInput: EmitFunc,\r\n            clickPrefixIcon: EmitFunc,\r\n            clickSuffixIcon: EmitFunc,\r\n            clickClearIcon: EmitFunc,\r\n        })\r\n\r\n        /*---------------------------------------state-------------------------------------------*/\r\n\r\n        const propsState = useProps(props, {\r\n            width: [FormatPropsType.number, FormatPropsType.function, FormatPropsType.promise],\r\n            minHeight: [FormatPropsType.number, FormatPropsType.function, FormatPropsType.promise],\r\n            maxHeight: [FormatPropsType.number, FormatPropsType.function, FormatPropsType.promise],\r\n        })\r\n\r\n        const {styleComputed} = useStyle({status: undefined})\r\n        const {editState, editComputed} = useEdit()\r\n\r\n        const state = reactive({\r\n            autoHeight: null as null | number,\r\n            handlerEnter: null as null | Function,\r\n            handleEnterInner: async (e) => {\r\n                if (editComputed.value.editable) {\r\n                    if (props.autoLoading) {\r\n                        editState.loading = true\r\n                        try {\r\n                            if (!!context.listeners.enter) {\r\n                                await context.listeners.enter(e)\r\n                            }\r\n                        } catch (e) {\r\n                        } finally {\r\n                            editState.loading = null\r\n                        }\r\n                    } else {\r\n                        emit.enter(e)\r\n                    }\r\n                }\r\n            },\r\n        })\r\n\r\n        const model = useModel(() => props.value, emit.input)\r\n\r\n        /*---------------------------------------handler-------------------------------------------*/\r\n\r\n        const handler = {\r\n            input: (e: HTMLInputEvent) => {\r\n                model.value = e.target.value\r\n            },\r\n            enter: (e: KeyboardEvent) => {\r\n                state.handlerEnter!(e)\r\n            },\r\n            clickPrefixIcon: (e: MouseEvent) => {\r\n                if (!editComputed.value.editable) {\r\n                    return\r\n                }\r\n                e.stopPropagation()\r\n                e.preventDefault()\r\n                emit.clickPrefixIcon(e)\r\n            },\r\n            clickSuffixIcon: (e: MouseEvent) => {\r\n                if (!editComputed.value.editable) {\r\n                    return\r\n                }\r\n                e.stopPropagation()\r\n                e.preventDefault()\r\n                emit.clickSuffixIcon(e)\r\n            },\r\n            clickClearIcon: (e: MouseEvent) => {\r\n                if (!editComputed.value.editable) {\r\n                    return\r\n                }\r\n                e.stopPropagation()\r\n                e.preventDefault()\r\n                emit.clickClearIcon(e)\r\n                if (!!props.clearHandler) {\r\n                    props.clearHandler(e)\r\n                } else {\r\n                    methods.clearValue()\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        /*---------------------------------------computer-------------------------------------------*/\r\n\r\n        const classes = computed(() => ([\r\n            `pl-input-shape-${styleComputed.value.shape}`,\r\n            `pl-input-size-${styleComputed.value.size}`,\r\n            {\r\n                [`pl-input-status-${styleComputed.value.status}`]: !!styleComputed.value.status,\r\n                'pl-input-block': props.block,\r\n                'pl-input-disabled': !!editComputed.value.disabled,\r\n                'pl-input-prefix-padding': !!props.prefixIcon,\r\n                'pl-input-suffix-padding': !!props.suffixIcon || !!props.clearIcon || editComputed.value.loading,\r\n                'pl-input-prefix': !!props.prefixIcon,\r\n                'pl-input-suffix': !!props.suffixIcon || editComputed.value.loading,\r\n                'pl-input-clear': !!props.clearIcon,\r\n                'pl-input-empty': !model.value && !props.placeValue,\r\n                'pl-input-focus': props.isFocus,\r\n                'pl-input-not-editable': !editComputed.value.editable,\r\n            }\r\n        ]))\r\n\r\n        const styles = computed(() => {\r\n            const styles: StyleType = {}\r\n            /*没有前置以及后置插槽以及非块级元素的情况下，设置宽度*/\r\n            if (propsState.width !== null && !props.block) {\r\n                styles.width = PlainUtils.suffixPx(propsState.width)\r\n            }\r\n            /*textarea自动高度的时候，取最大高度最小高度以及滚动高度*/\r\n            if (!!props.textarea) {\r\n                if (!props.autoHeight || state.autoHeight == null) {\r\n                    styles.height = PlainUtils.suffixPx(state.autoHeight)\r\n                } else {\r\n                    if (propsState.maxHeight != null && state.autoHeight > propsState.maxHeight) {\r\n                        styles.height = PlainUtils.suffixPx(propsState.maxHeight)\r\n                    } else if (state.autoHeight < propsState.minHeight) {\r\n                        styles.height = PlainUtils.suffixPx(propsState.minHeight)\r\n                    } else {\r\n                        styles.height = PlainUtils.suffixPx(state.autoHeight)\r\n                    }\r\n                }\r\n            }\r\n            return styles\r\n        })\r\n\r\n        const publicProps = computed(() => ({\r\n            style: styles.value,\r\n            attrs: {\r\n                disabled: editComputed.value.disabled,\r\n                readonly: props.inputReadonly || editComputed.value.readonly || editComputed.value.loading,\r\n            },\r\n            domProps: {\r\n                value: model.value,\r\n                placeholder: props.placeholder,\r\n                ...(props.nativeProps || {}),\r\n            },\r\n            on: {\r\n                // 发现一个非常奇怪的现象，div.pl-input-inner 里面的input、派发的input事件，居然也能够在 div.pl-input-inner这个div节点上监听到。神奇\r\n                ...(!$slots.default ? {\r\n                    input: e => {\r\n                        /*ie 下不知道为什么页面初始化的之后这里默认就执行了一次，这里判断绕过这个问题*/\r\n                        if (e.target === document.activeElement) {\r\n                            handler.input(e)\r\n                        }\r\n                    },\r\n                } : {}),\r\n                click: emit.clickInput,\r\n                focus: emit.focus,\r\n                blur: emit.blur,\r\n                keydown: (e) => {\r\n                    emit.keydown(e)\r\n                    if (getKey(e) === KEY.enter) {\r\n                        handler.enter(e)\r\n                    }\r\n                },\r\n            },\r\n            ref: \"input\",\r\n        }))\r\n\r\n\r\n        /*---------------------------------------methods-------------------------------------------*/\r\n\r\n        const methods = {\r\n            clearValue: () => {\r\n                model.value = undefined\r\n            },\r\n            focus: () => {\r\n                if (!!refs.input && !!refs.input.focus) {\r\n                    refs.input.focus()\r\n                }\r\n            },\r\n            blur: () => {\r\n                if (!!refs.input && !!refs.input.blur) {\r\n                    refs.input.blur()\r\n                }\r\n            },\r\n            /*重置文本域高度*/\r\n            resetTextAreaHeight: PlainUtils.throttle(() => {\r\n                if (!!props.autoHeight && !!props.textarea) {\r\n                    setTimeout(() => state.autoHeight = refs.hiddenInput!.scrollHeight + 12, 0)\r\n                }\r\n            }, 300),\r\n        }\r\n\r\n        /*---------------------------------------watcher-------------------------------------------*/\r\n\r\n        watch(() => model.value, () => {\r\n            methods.resetTextAreaHeight()\r\n        })\r\n        watch(() => props.throttleEnter, (val) => {\r\n            if (!val) {\r\n                state.handlerEnter = state.handleEnterInner\r\n            }\r\n            if (val === true) {\r\n                val = 1000\r\n            }\r\n            state.handlerEnter = PlainUtils.throttle(state.handleEnterInner, val as number, {trailing: true})\r\n        }, {immediate: true})\r\n\r\n        useRefer({\r\n            methods,\r\n            model,\r\n            propsState,\r\n            styleComputed,\r\n            editState,\r\n            editComputed,\r\n            state,\r\n        })\r\n\r\n        /*---------------------------------------render-------------------------------------------*/\r\n\r\n        return () => {\r\n\r\n            if (props.textarea) {\r\n                /*渲染文本域*/\r\n                return (\r\n                    <div class={['pl-textarea', classes.value]}>\r\n                        <textarea class=\"pl-textarea-inner\" {...publicProps.value}></textarea>\r\n                        <textarea class=\"pl-textarea-inner pl-textarea-hidden\" ref=\"hiddenInput\" value={model.value}></textarea>\r\n                    </div>\r\n                )\r\n            } else {\r\n                /*普通输入框*/\r\n                const input = (\r\n                    <div class={['pl-input', classes.value]}>\r\n                        {!!props.prefixIcon && <span class=\"pl-input-prefix-icon\" onClick={handler.clickPrefixIcon}><pl-icon icon={props.prefixIcon}/></span>}\r\n\r\n                        {!!$slots.default ?\r\n                            <div tabIndex={props.inputInnerTabindex} class=\"pl-input-inner\" {...publicProps.value}>\r\n                                {$slots.default}\r\n                            </div>\r\n                            :\r\n                            <input class=\"pl-input-inner\" {...publicProps.value}/>}\r\n\r\n                        {!!props.suffixIcon && <span class=\"pl-input-suffix-icon\">\r\n                            {typeof props.suffixIcon === 'function' ? (props.suffixIcon as any)() : <pl-icon nativeOn={{mousedown: handler.clickSuffixIcon}} icon={props.suffixIcon}/>}\r\n                        </span>}\r\n                        {!!props.clearIcon && (<span class=\"pl-input-suffix-icon pl-input-clear-icon\"><pl-icon nativeOn={{mousedown: handler.clickClearIcon}} icon=\"el-icon-error\"/></span>)}\r\n                        {!!editComputed.value.loading && <pl-loading class=\"pl-input-suffix-icon\"/>}\r\n                        {!!$slots.hidden && <div class=\"pl-input-inner-hidden\">{$slots.hidden}</div>}\r\n                    </div>\r\n                )\r\n\r\n                if (!$slots.prepend && !$slots.append) {\r\n                    return input\r\n                } else {\r\n                    /*输入框组*/\r\n                    return (\r\n                        <div class=\"pl-input-group\">\r\n                            {!!$slots.prepend && <div class=\"pl-input-prepend\">{$slots.prepend}</div>}\r\n                            {input}\r\n                            {!!$slots.append && <div class=\"pl-input-append\">{$slots.append}</div>}\r\n                        </div>\r\n                    )\r\n                }\r\n            }\r\n        }\r\n    },\r\n})","import {defineComponent} from \"@vue/composition-api\";\r\nimport {useScopedSlots} from \"@/use/useScopedSlots\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-input-inner-tags',\r\n    props: {\r\n        data: {type: Array},\r\n        collapseTags: {type: Boolean, default: true},\r\n    },\r\n    setup(props) {\r\n\r\n        const {scopedSlots} = useScopedSlots({\r\n            default: {item: Object, index: Number}\r\n        })\r\n\r\n        return () => (\r\n            <div class=\"pl-input-inner-tags\">\r\n                <span class=\"pl-input-inner-tag-item pl-input-inner-tag-item-takeover\">&nbsp;</span>\r\n                {\r\n                    (props.collapseTags ? props.data!.slice(0, 3) : props.data!).map((item, index) => (\r\n                        <span key={index} class=\"pl-input-inner-tag-item\">\r\n                            {scopedSlots.default({\r\n                                param: {item, index},\r\n                                content: null\r\n                            })}\r\n                        </span>\r\n                    ))\r\n                }\r\n                {props.collapseTags && props.data!.length > 3 && <span class=\"pl-input-inner-tag-item\">+{props.data!.length - 3}</span>}\r\n            </div>\r\n        )\r\n    },\r\n})","import './input.scss'\r\nimport input from \"@/packages/input/input\";\r\nimport inputInnerTags from './input-inner-tags'\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    input,\r\n    inputInnerTags,\r\n])","import {computed, defineComponent} from \"@vue/composition-api\";\r\n\r\nconst iconfont = {} as { [k: string]: string }\r\n\r\nfunction registry(prefix: string, fontFamily: string) {\r\n    iconfont[prefix] = fontFamily\r\n}\r\n\r\nexport default defineComponent({\r\n    name: 'pl-icon',\r\n    // @ts-ignore\r\n    registry,\r\n    props: {\r\n        icon: {type: String, require: true},\r\n        status: {type: String},\r\n    },\r\n    setup(props, context) {\r\n\r\n        function onClick(e) {\r\n            context.emit('click', e)\r\n        }\r\n\r\n        const prefix = computed(() => {\r\n            if (!props.icon) {\r\n                return null\r\n            }\r\n            return props.icon.slice(0, props.icon.indexOf('-'))\r\n        })\r\n\r\n        const isSvg = computed(() => {\r\n            if (!prefix.value) {\r\n                return false\r\n            }\r\n            if (prefix.value === 'el') {\r\n                return false\r\n            }\r\n            return !iconfont[prefix.value];\r\n        })\r\n\r\n        const classes = computed(() => ([\r\n            'pl-icon',\r\n            props.icon,\r\n            {\r\n                [`pl-icon-status-${props.status}`]: !!props.status,\r\n                [iconfont[prefix.value!]]: !isSvg.value && prefix.value !== 'el',\r\n            }\r\n        ]))\r\n\r\n        const binding = computed(() => ({\r\n            class: classes.value,\r\n            on: {\r\n                click: onClick,\r\n            }\r\n        }))\r\n\r\n        return () => {\r\n            if (!props.icon) {\r\n                // console.warn('pl-icon: icon is require!')\r\n                return null\r\n            }\r\n            if (isSvg.value) {\r\n                return (\r\n                    <svg aria-hidden=\"true\" {...binding.value}>\r\n                        <use {...{attrs: {'xlink:href': `#${props.icon}`}}}/>\r\n                    </svg>\r\n                )\r\n            }\r\n            return <i {...binding.value}/>\r\n        }\r\n    },\r\n})","import './icon.scss'\r\n\r\nimport {installPlugin} from \"@/util/install\";\r\nimport icon from './icon'\r\n\r\nexport default {\r\n    ...installPlugin(icon),\r\n    // @ts-ignore\r\n    registry: icon.registry,\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{on:{\"before-enter\":_vm.beforeEnter,\"enter\":_vm.enter,\"after-enter\":_vm.afterEnter,\"before-leave\":_vm.beforeLeave,\"leave\":_vm.leave,\"after-leave\":_vm.afterLeave}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <transition\r\n            v-on:before-enter=\"beforeEnter\"\r\n            v-on:enter=\"enter\"\r\n            v-on:after-enter=\"afterEnter\"\r\n\r\n            v-on:before-leave=\"beforeLeave\"\r\n            v-on:leave=\"leave\"\r\n            v-on:after-leave=\"afterLeave\"\r\n    >\r\n        <slot></slot>\r\n    </transition>\r\n</template>\r\n\r\n<script>\r\n    import PlainUtils from \"../../../submodules/plain-utils\";\r\n\r\n    export default {\r\n        name: \"pl-collapse-transition\",\r\n        methods: {\r\n            beforeEnter(el) {\r\n                PlainUtils.addClass(el, 'pl-collapse-transition');\r\n                if (!el.dataset) el.dataset = {};\r\n\r\n                el.dataset.oldPaddingTop = el.style.paddingTop;\r\n                el.dataset.oldPaddingBottom = el.style.paddingBottom;\r\n\r\n                el.style.height = '0';\r\n                el.style.paddingTop = 0;\r\n                el.style.paddingBottom = 0;\r\n            },\r\n            enter(el) {\r\n                el.dataset.oldOverflow = el.style.overflow;\r\n                if (el.scrollHeight !== 0) {\r\n                    el.style.height = el.scrollHeight + 'px';\r\n                    el.style.paddingTop = el.dataset.oldPaddingTop;\r\n                    el.style.paddingBottom = el.dataset.oldPaddingBottom;\r\n                } else {\r\n                    el.style.height = '';\r\n                    el.style.paddingTop = el.dataset.oldPaddingTop;\r\n                    el.style.paddingBottom = el.dataset.oldPaddingBottom;\r\n                }\r\n\r\n                el.style.overflow = 'hidden';\r\n            },\r\n            afterEnter(el) {\r\n                PlainUtils.removeClass(el, 'pl-collapse-transition');\r\n                el.style.height = '';\r\n                el.style.overflow = el.dataset.oldOverflow;\r\n            },\r\n            beforeLeave(el) {\r\n                if (!el.dataset) el.dataset = {};\r\n                el.dataset.oldPaddingTop = el.style.paddingTop;\r\n                el.dataset.oldPaddingBottom = el.style.paddingBottom;\r\n                el.dataset.oldOverflow = el.style.overflow;\r\n\r\n                el.style.height = el.scrollHeight + 'px';\r\n                el.style.overflow = 'hidden';\r\n            },\r\n            leave(el) {\r\n                if (el.scrollHeight !== 0) {\r\n                    PlainUtils.addClass(el, 'pl-collapse-transition');\r\n                    el.style.height = 0;\r\n                    el.style.paddingTop = 0;\r\n                    el.style.paddingBottom = 0;\r\n                }\r\n            },\r\n            afterLeave(el) {\r\n                PlainUtils.removeClass(el, 'pl-collapse-transition');\r\n                el.style.height = '';\r\n                el.style.overflow = el.dataset.oldOverflow;\r\n                el.style.paddingTop = el.dataset.oldPaddingTop;\r\n                el.style.paddingBottom = el.dataset.oldPaddingBottom;\r\n                this.$emit('afterLeave')\r\n            }\r\n        }\r\n    }\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pl-collapse-transition.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pl-collapse-transition.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./pl-collapse-transition.vue?vue&type=template&id=5b573110&\"\nimport script from \"./pl-collapse-transition.vue?vue&type=script&lang=js&\"\nexport * from \"./pl-collapse-transition.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import {computed, defineComponent, provide, reactive} from \"@vue/composition-api\";\r\nimport {useSlots} from \"@/use/useSlots\";\r\n\r\nexport const COLLAPSE_GROUP_PROVIDER = '@@COLLAPSE_GROUP_PROVIDER'\r\n\r\nexport default defineComponent({\r\n    name: 'pl-collapse-group',\r\n    props: {\r\n        limit: {type: Number},                                  // 限制最多能展开的个数\r\n        shape: {type: String, default: 'none'},                 // 形状\r\n    },\r\n    setup(props) {\r\n\r\n        const {slots} = useSlots()\r\n\r\n        const state = reactive({\r\n            items: [] as any[],\r\n            stack: [] as any[],\r\n        })\r\n\r\n        const methods = {\r\n            addItem: (item) => {\r\n                state.items.push(item)\r\n                if (item.model.value) {\r\n                    state.stack.push(item)\r\n                }\r\n            },\r\n            removeItem: (item) => {\r\n                state.items.splice(state.items.indexOf(item), 1)\r\n                const stackIndex = state.stack.indexOf(item)\r\n                if (stackIndex > -1) {\r\n                    state.stack.splice(stackIndex, 1)\r\n                }\r\n            },\r\n        }\r\n\r\n        const handler = {\r\n            clickItem:(item)=>{\r\n                if (!item.model.value) {\r\n                    item.methods.open()\r\n                    state.stack.push(item)\r\n\r\n                    if (!!props.limit && props.limit > 0 && state.stack.length > props.limit) {\r\n                        const item = state.stack.shift()\r\n                        item.methods.close()\r\n                    }\r\n                } else {\r\n                    state.stack.splice(state.stack.indexOf(item), 1)\r\n                    item.methods.close()\r\n                }\r\n            }\r\n        }\r\n\r\n        const classes = computed(() => ([\r\n            'pl-collapse-group',\r\n            `pl-collapse-group-shape-${props.shape}`\r\n        ]))\r\n\r\n        provide(COLLAPSE_GROUP_PROVIDER, {\r\n            state,\r\n            methods,\r\n            handler,\r\n        })\r\n\r\n        return () => (\r\n            <div class={classes.value}>\r\n                {slots.default()}\r\n            </div>\r\n        )\r\n    },\r\n})","import {defineComponent, getCurrentInstance, inject, onBeforeUnmount} from \"@vue/composition-api\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {useModel} from \"@/use/useModel\";\r\nimport {COLLAPSE_GROUP_PROVIDER} from \"@/packages/collapse/collapse-group\";\r\nimport {useRefer} from \"@/use/useRefer\";\r\nimport {SlotFunc, useSlots} from \"@/use/useSlots\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-collapse',\r\n    props: {\r\n        title: {type: String},\r\n        value: {type: Boolean},\r\n        noIcon: {type: Boolean},\r\n        iconColor: {type: String},\r\n        disabledClickHead: {type: Boolean},\r\n    },\r\n    setup(props) {\r\n\r\n        const {slots} = useSlots({\r\n            head: SlotFunc,\r\n        })\r\n\r\n        const {emit} = useEvent({\r\n            open: EmitFunc,\r\n            close: EmitFunc,\r\n            input: EmitFunc,\r\n            clickHeader: EmitFunc,\r\n        })\r\n\r\n        const ctx = getCurrentInstance()\r\n\r\n        const model = useModel(() => props.value, emit.input)\r\n\r\n        const methods = {\r\n            open: () => {\r\n                if (model.value) return\r\n                model.value = true\r\n                emit.open()\r\n            },\r\n            close: () => {\r\n                if (!model.value) return\r\n                model.value = false\r\n                emit.close()\r\n            },\r\n            toggle: () => {\r\n                model.value ? methods.close() : methods.open()\r\n            },\r\n        }\r\n\r\n        const handler = {\r\n            clickHeader: () => {\r\n                if (props.disabledClickHead) return\r\n                emit.clickHeader(ctx)\r\n                if (!!collapseGroup) {\r\n                    collapseGroup.handler.clickItem(ctx)\r\n                } else {\r\n                    methods.toggle()\r\n                }\r\n            },\r\n        }\r\n\r\n        useRefer({\r\n            methods,\r\n            model,\r\n            props,\r\n        })\r\n\r\n        const collapseGroup = inject(COLLAPSE_GROUP_PROVIDER) as any\r\n        if (!!collapseGroup) {\r\n            collapseGroup.methods.addItem(ctx)\r\n        }\r\n\r\n        onBeforeUnmount(() => {\r\n            if (!!collapseGroup) {\r\n                collapseGroup.methods.removeItem(ctx)\r\n            }\r\n        })\r\n\r\n        return () => (\r\n            <div class={['pl-collapse', {'pl-collapse-active': model.value}]}>\r\n                <div class=\"pl-collapse-head\" onClick={handler.clickHeader}>\r\n                    {slots.head(\r\n                        !!props.title ? <span>{props.title}</span> : null\r\n                    )}\r\n                    {\r\n                        !props.noIcon && (\r\n                            <div class=\"pl-collapse-head-icon-wrapper\">\r\n                                <pl-icon icon=\"el-icon-arrow-down\" color={props.iconColor}/>\r\n                            </div>\r\n                        )\r\n                    }\r\n\r\n                </div>\r\n                <pl-collapse-transition>\r\n                    <div class=\"pl-collapse-body\" {...{directives: [{name: 'show', value: model.value}]}}>\r\n                        {slots.default()}\r\n                    </div>\r\n                </pl-collapse-transition>\r\n            </div>\r\n        )\r\n    },\r\n})","import './collapse.scss'\r\nimport {installPlugin} from \"@/util/install\";\r\nimport transition from './pl-collapse-transition.vue'\r\nimport group from './collapse-group'\r\nimport collapse from './collapse'\r\n\r\nexport default installPlugin([\r\n    collapse,\r\n    group,\r\n    transition,\r\n])","var render = function () {\nvar _obj;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"pl-loading\",class:( _obj = {}, _obj[(\"pl-loading-status-\" + _vm.status)] = !!_vm.status, _obj )})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\r\n * 判断元素是否存在于数组中\r\n * @author  韦胜健\r\n * @date    2019/10/18 21:26\r\n */\r\nexport function oneOf(array: any[], target: any | any[]): boolean {\r\n    if (!array || array.length === 0) return false\r\n\r\n    let targetList: any[]\r\n    if (typeOf(target) === 'array') {\r\n        targetList = target as any[]\r\n    } else {\r\n        targetList = [target as any]\r\n    }\r\n\r\n    return array.some(arrayItem => targetList.some(targetItem => (targetItem == arrayItem)))\r\n}\r\n\r\n(window as any).oneOf = oneOf\r\n\r\n/**\r\n * 判断类型\r\n * @author  韦胜健\r\n * @date    2019/10/18 21:36\r\n */\r\nconst TypeMap = {\r\n    '[object Boolean]': 'boolean',\r\n    '[object Number]': 'number',\r\n    '[object String]': 'string',\r\n    '[object Function]': 'function',\r\n    '[object Array]': 'array',\r\n    '[object Date]': 'date',\r\n    '[object RegExp]': 'regExp',\r\n    '[object Undefined]': 'undefined',\r\n    '[object Null]': 'null',\r\n    '[object Object]': 'object',\r\n    '[object Promise]': 'promise',\r\n}\r\nconst toString = Object.prototype.toString\r\n\r\nfunction isValidType(data: string): data is keyof typeof TypeMap {\r\n    return data in TypeMap\r\n}\r\n\r\nexport function typeOf(obj: any): string | null {\r\n    const type = toString.call(obj)\r\n    if (isValidType(type)) return TypeMap[type]\r\n    else {\r\n        console.log('unrecognise type:' + type)\r\n        return null\r\n    }\r\n}","import {oneOf, typeOf} from \"./utils\";\r\n\r\n/**\r\n * 判断元素是否包含某个class\r\n * @author  韦胜健\r\n * @date    2019/10/18 22:02\r\n */\r\nexport function hasClass(el: HTMLElement, cls: string[] | string): boolean {\r\n    let clazz: string[]\r\n    if (typeOf(cls) === 'string') {\r\n        clazz = [cls as string]\r\n    } else {\r\n        clazz = cls as string[]\r\n    }\r\n\r\n    if (!!el.classList && !!el.classList.value) {\r\n        return oneOf(clazz, el.classList.value.split(' '))\r\n    } else {\r\n        return oneOf(clazz, ((el.className || '') as string).split(' '))\r\n    }\r\n}\r\n\r\n/**\r\n * 给元素添加样式\r\n * @author  韦胜健\r\n * @date    2019/10/18 22:02\r\n */\r\nexport function addClass(el: HTMLElement, addCls: string | string[]): void {\r\n    if (!el || !addCls) return\r\n    let addClazz: string[]\r\n    if (typeOf(addCls) === 'string') {\r\n        addClazz = (addCls as string).split(' ')\r\n    } else {\r\n        addClazz = addCls as string[]\r\n    }\r\n    if (!!el.classList && !!el.classList.value) {\r\n        addClazz.forEach(clazz => el.classList.add(clazz))\r\n    } else {\r\n        let currentClassList = ((el.className || '') as string).split(' ')\r\n        addClazz.forEach(addClz => {\r\n            if (currentClassList.indexOf(addClz) === -1) currentClassList.push(addClz)\r\n        })\r\n        el.className = currentClassList.filter(cln => !!cln).join(' ')\r\n    }\r\n}\r\n\r\nexport function removeClass(el: HTMLElement, emCls: string | string[]): void {\r\n    if (!el || !emCls) return\r\n    let rmClazz: string[]\r\n    if (typeOf(emCls) === 'string') {\r\n        rmClazz = (emCls as string).split(' ')\r\n    } else {\r\n        rmClazz = emCls as string[]\r\n    }\r\n    if (!!el.classList && !!el.classList.value) {\r\n        rmClazz.forEach(clazz => el.classList.remove(clazz))\r\n    } else {\r\n        let currentClassList = ((el.className || '') as string).split(' ')\r\n        for (let i = 0; i < currentClassList.length; i++) {\r\n            const curCls = currentClassList[i];\r\n            if (rmClazz.indexOf(curCls) > -1) {\r\n                currentClassList.splice(i)\r\n                i--\r\n            }\r\n        }\r\n        el.className = currentClassList.filter(cln => !!cln).join(' ')\r\n    }\r\n}","import {addClass} from \"./dom\";\r\n\r\nexport function IceWrapper(template: string): HTMLElement {\r\n    const div = document.createElement('div')\r\n    addClass(div, 'plain-loading')\r\n    div.innerHTML = template\r\n    return div\r\n}","import {IceWrapper} from \"../utils/ice\";\r\nimport {addClass} from \"../utils/dom\";\r\n\r\nfunction getItem(): string {\r\n    return `\r\n            <div class=\"plain-loading-inner\"></div>\r\n        `.trim()\r\n}\r\n\r\nexport default function (): HTMLElement {\r\n    const innerHTML = `\r\n            <div class=\"plain-loading-tag\">\r\n                ${[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12].map(() => getItem()).join('\\n')}\r\n            </div>\r\n    `.trim();\r\n    const el = IceWrapper(innerHTML)\r\n    addClass(el, 'plain-loading-alpha')\r\n    return el\r\n}","import {IceWrapper} from \"../utils/ice\";\r\nimport {addClass} from \"../utils/dom\";\r\n\r\nfunction getItem(index: number): string {\r\n    return `\r\n            <div class=\"plain-loading-tag plain-loading-tag-${index + 1}\">\r\n                <div class=\"plain-loading-inner plain-loading-inner-${index + 1}\"></div>\r\n            </div>\r\n        `.trim()\r\n}\r\n\r\nexport default function (): HTMLElement {\r\n    const innerHTML = `\r\n        ${[0, 1, 2, 3, 4, 5, 6, 7, 8, 9].map(index => getItem(index)).join('\\n')}\r\n    `.trim();\r\n\r\n    const el = IceWrapper(innerHTML)\r\n    addClass(el, 'plain-loading-beta')\r\n    return el\r\n}","import {IceWrapper} from \"../utils/ice\";\r\nimport {addClass} from \"../utils/dom\";\r\n\r\nfunction getItem(index: number): string {\r\n    return `\r\n            <div class=\"plain-loading-tag plain-loading-tag-${index + 1}\">\r\n                <div class=\"plain-loading-inner plain-loading-inner-${index + 1}\"></div>\r\n            </div>\r\n        `.trim();\r\n}\r\n\r\nexport default function (): HTMLElement {\r\n    const innerHTML = `\r\n        ${[0, 1, 2, 3, 4].map(index => getItem(index)).join('\\n')}\r\n    `.trim();\r\n    const el = IceWrapper(innerHTML)\r\n    addClass(el, 'plain-loading-gamma')\r\n    return el\r\n}","import {IceWrapper} from \"../utils/ice\";\r\nimport {addClass} from \"../utils/dom\";\r\n\r\nfunction getUse(): string {\r\n    return [0, 1, 2, 3, 4, 5].map(index => `<use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#bar\" transform=\"rotate(${index * 60},60,60)\"></use>`).join('\\n')\r\n}\r\n\r\nexport default function (loading: boolean = true): HTMLElement {\r\n    const innerHTML = `\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 120 120\" class=\"${!loading ? 'plain-loading-ice-inactive' : ''}\">\r\n                    ${getUse()}\r\n                    <symbol id=\"bar\">\r\n                        <polyline points=\"60,8 60,30 70,15 60,30 50,15 60,30 60,60 60,40 70,30 60,60\" style=\"fill:none\"></polyline>\r\n                    </symbol>\r\n                </svg>\r\n        `.trim();\r\n    const el = IceWrapper(innerHTML)\r\n    addClass(el, 'plain-loading-ice')\r\n    return el\r\n}\r\n","var render, staticRenderFns\nimport script from \"./pl-notice-service.vue?vue&type=script&lang=js&\"\nexport * from \"./pl-notice-service.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export const enum PLAIN_CHECK_STATUS {\r\n    uncheck = 'uncheck',\r\n    check = 'check',\r\n    minus = 'minus',\r\n}","import {IceWrapper} from \"../utils/ice\";\r\nimport {addClass} from \"../utils/dom\";\r\n\r\nexport default function (): HTMLElement {\r\n    const innerHTML = `\r\n        <svg viewBox=\"0 0 110 110\"> \r\n            <circle cx=\"55\" cy=\"55\" r=\"50\"/>\r\n        </svg>\r\n    `.trim()\r\n    const el = IceWrapper(innerHTML)\r\n    addClass(el, 'plain-loading-delta')\r\n    return el\r\n}","import './index.scss'\r\n\r\nimport alpha from \"./loading/alpha\";\r\nimport beta from \"./loading/beta\";\r\nimport gamma from \"./loading/gamma\";\r\nimport ice from \"./loading/ice\";\r\nimport delta from './loading/delta'\r\n\r\nexport default {\r\n    alpha,\r\n    beta,\r\n    gamma,\r\n    ice,\r\n    delta,\r\n}","import PlainLoading from './src'\r\n\r\nexport default PlainLoading","<template>\r\n    <span class=\"pl-loading\" :class=\"{[`pl-loading-status-${status}`]:!!status}\"/>\r\n</template>\r\n\r\n<script>\r\n\r\n    import PlainLoading from 'plain-loading'\r\n\r\n    export default {\r\n        name: \"pl-loading\",\r\n        props: {\r\n            loading: {type: Boolean, default: true},\r\n            type: {type: String, default: 'alpha'},\r\n            status: {type: String, default: null},\r\n        },\r\n        data() {\r\n            return {\r\n                loadingEl: null,\r\n            }\r\n        },\r\n        watch: {\r\n            type() {\r\n                this.reset()\r\n            },\r\n            loading() {\r\n                this.reset()\r\n            },\r\n        },\r\n        mounted() {\r\n            this.reset()\r\n        },\r\n        methods: {\r\n            reset() {\r\n                if (!PlainLoading[this.type]) {\r\n                    console.error(`pl-loading: can't recognise loading type:${this.type}`)\r\n                    return\r\n                }\r\n                const loadingEl = PlainLoading[this.type](this.loading)\r\n                if (!!this.loadingEl) {\r\n                    this.$el.replaceChild(loadingEl, this.loadingEl)\r\n                } else {\r\n                    this.$el.appendChild(loadingEl)\r\n                }\r\n                this.loadingEl = loadingEl\r\n            },\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pl-loading.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pl-loading.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./pl-loading.vue?vue&type=template&id=239b05d6&\"\nimport script from \"./pl-loading.vue?vue&type=script&lang=js&\"\nexport * from \"./pl-loading.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"pl-transition-loading-mask\"}},[(_vm.value || _vm.p_value)?_c('div',{staticClass:\"pl-loading-mask\",class:_vm.classes,style:({background:_vm.background,zIndex: _vm.zIndex})},[_c('pl-loading',{attrs:{\"type\":_vm.loadingType}}),(!!_vm.message)?_c('span',[_vm._v(\" \"+_vm._s(_vm.message)+\" \")]):_vm._e()],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <transition name=\"pl-transition-loading-mask\">\r\n        <div class=\"pl-loading-mask\" v-if=\"value || p_value\" :style=\"{background:background,zIndex}\" :class=\"classes\">\r\n            <pl-loading :type=\"loadingType\"/>\r\n            <span v-if=\"!!message\">\r\n            {{message}}\r\n        </span>\r\n        </div>\r\n    </transition>\r\n</template>\r\n\r\n<script>\r\n\r\n    export default {\r\n        name: \"pl-loading-mask\",\r\n        props: {\r\n            value: {type: Boolean},                                         // 是否打开loading遮罩\r\n            message: {type: String},                                        // 提示信息\r\n            loadingType: {type: String, default: 'delta'},                  // loading类型\r\n            background: {type: String, default: 'rgba(255,255,255,0.85)'},  // 遮罩背景色\r\n            unlock: {type: Boolean},                                        // 取消阻止点击事件\r\n            fixedPosition: {type: Boolean},                                 // 是否为根节点的加载遮罩\r\n        },\r\n        watch: {\r\n            value(val) {\r\n                if (!!val) {\r\n                    this.zIndex = this.$plain.nextIndex()\r\n                }\r\n            },\r\n        },\r\n        data() {\r\n            return {\r\n                p_value: false,\r\n                zIndex: null,\r\n            }\r\n        },\r\n        computed: {\r\n            classes() {\r\n                return {\r\n                    'pl-loading-mask-unlock': this.unlock,\r\n                    'pl-loading-mask-fixed-position': this.fixedPosition\r\n                }\r\n            },\r\n        },\r\n        mounted() {\r\n            const parentNode = this.$el.parentNode\r\n            if (!!parentNode) {\r\n                const position = parentNode.style.position\r\n                if (['absolute', 'relative', 'fixed'].indexOf(position) === -1) {\r\n                    parentNode.style.position = 'relative'\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    @include theme {\r\n\r\n        .pl-loading {\r\n            @include statusMixin(loading) {\r\n                color: $value;\r\n            }\r\n        }\r\n        .pl-loading-mask {\r\n            color: $colorPrimary;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            flex-direction: column;\r\n            position: absolute;\r\n            top: 0;\r\n            left: 0;\r\n            right: 0;\r\n            bottom: 0;\r\n            background-color: rgba(255, 255, 255, 0.5);\r\n            transition: all linear 300ms;\r\n            transform-origin: center center;\r\n            cursor: progress;\r\n            pointer-events: auto;\r\n\r\n            .pl-loading {\r\n                margin-bottom: 20px;\r\n                font-size: 32px;\r\n\r\n                & + span {\r\n                    font-size: 14px;\r\n                }\r\n            }\r\n\r\n            &.pl-loading-mask-unlock {\r\n                pointer-events: none;\r\n            }\r\n\r\n            &.pl-loading-mask-fixed-position {\r\n                position: fixed;\r\n            }\r\n        }\r\n    }\r\n\r\n    .pl-transition-loading-mask-enter-active, .pl-transition-loading-mask-leave-active {\r\n        opacity: 1;\r\n    }\r\n\r\n    .pl-transition-loading-mask-enter, .pl-transition-loading-mask-leave-to {\r\n        opacity: 0;\r\n    }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pl-loading-mask.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pl-loading-mask.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./pl-loading-mask.vue?vue&type=template&id=543f00ca&\"\nimport script from \"./pl-loading-mask.vue?vue&type=script&lang=js&\"\nexport * from \"./pl-loading-mask.vue?vue&type=script&lang=js&\"\nimport style0 from \"./pl-loading-mask.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Mask from './pl-loading-mask.vue'\r\n\r\nconst WrapMask = {\r\n    render(h) {\r\n        // @ts-ignore\r\n        return <Mask {...{props: this.binding}}/>\r\n    },\r\n    data() {\r\n        return {\r\n            binding: {},\r\n        }\r\n    },\r\n}\r\n\r\nclass LoadingService {\r\n    $plain;\r\n    mask;\r\n\r\n    constructor(private el: HTMLElement, private option: boolean | object, private context: any) {\r\n        this.$plain = context.$plain\r\n        this.mask = this.$plain.newInstance(WrapMask, {parent: context, parentNode: el})\r\n        this.updateOption(option)\r\n    }\r\n\r\n    updateOption(option: boolean | object) {\r\n        if (typeof option === 'boolean') {\r\n            this.mask.binding = {value: option}\r\n        } else if (typeof option === 'object') {\r\n            this.mask.binding = {...option}\r\n        }\r\n    }\r\n\r\n    unbind() {\r\n        if (!!this.mask.$el.parentNode) {\r\n            this.mask.$el.parentNode.removeChild(this.mask.$el)\r\n        }\r\n        this.mask.$destroy()\r\n    }\r\n\r\n    static install(Vue) {\r\n        let mask;\r\n        const $plain = Vue.prototype.$plain\r\n        const $loading = (option) => {\r\n\r\n            option = typeof option === 'boolean' ? {value: option} : option\r\n            option.fixedPosition = true\r\n\r\n            if (!mask) {\r\n                mask = new LoadingService(document.body, option, $plain.$root)\r\n            }\r\n            mask.updateOption(option)\r\n        }\r\n        Vue.prototype.$loading = $loading\r\n    }\r\n}\r\n\r\nexport {\r\n    LoadingService\r\n}","import {LoadingService} from \"./LoadingService\";\r\n\r\nconst map = new WeakMap()\r\n\r\nexport const PlLoadingDirective = {\r\n    install(Vue) {\r\n        Vue.directive('loading', {\r\n            bind(el, binding, vnode) {\r\n                map.set(el, new LoadingService(el, binding.value, vnode.context))\r\n            },\r\n            componentUpdated(el, binding) {\r\n                const data = map.get(el) as LoadingService\r\n                if (!!data) {\r\n                    data.updateOption(binding.value)\r\n                }\r\n            },\r\n            unbind(el) {\r\n                const data = map.get(el) as LoadingService\r\n                if (!!data) {\r\n                    data.unbind()\r\n                }\r\n            },\r\n        })\r\n    }\r\n}","import loading from './pl-loading.vue'\r\nimport loadingMask from './pl-loading-mask.vue'\r\nimport {PlLoadingDirective} from \"./LoadingDirective\";\r\nimport {LoadingService} from \"./LoadingService\";\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([loading, loadingMask], [PlLoadingDirective, LoadingService])","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(_vm.disabled?_vm.tag:'transition-group',{tag:\"component\",staticClass:\"pl-list\",attrs:{\"name\":(\"pl-list-move-\" + _vm.direction),\"tag\":_vm.tag}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <component :is=\"disabled?tag:'transition-group'\" :name=\"`pl-list-move-${direction}`\" :tag=\"tag\" class=\"pl-list\">\r\n        <slot></slot>\r\n    </component>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"pl-list\",\r\n        props: {\r\n            direction: {                            //item入场出场动画 'left', 'right', 'top', 'bottom', 'left-top', 'top-left', 'right-top', 'top-right', 'left-bottom', 'bottom-left', 'right-bottom', 'bottom-right'\r\n                type: String,\r\n                default: 'bottom-right',\r\n\r\n            },\r\n            tag: {type: String, default: 'div'},\r\n            disabled: {type: Boolean},\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    @include theme {\r\n        .pl-item {\r\n            transition: all 300ms $transition;\r\n            @include public-style;\r\n        }\r\n\r\n        .pl-list {\r\n            display: block;\r\n            width: 100%;\r\n            position: relative;\r\n            @include public-style;\r\n\r\n            .pl-item-block {\r\n                display: block;\r\n                width: 100% !important;\r\n            }\r\n        }\r\n\r\n        $directions: (\r\n                top:(x:0, y:-30%),\r\n                left:(x:-80%, y:0),\r\n                right:(x:80%, y:0),\r\n                bottom:(x:0, y:30%),\r\n                left-top:(x:-80%, y:-30%),\r\n                top-left:(x:-80%, y:-30%),\r\n                right-top:(x:80%, y:-30%),\r\n                top-right:(x:80%, y:-30%),\r\n                left-bottom:(x:-80%, y:30%),\r\n                bottom-left:(x:-80%, y:30%),\r\n                right-bottom:(x:80%, y:30%),\r\n                bottom-right:(x:80%, y:30%),\r\n        );\r\n\r\n        @each $key, $value in $directions {\r\n            .pl-list-move-#{$key}-enter {\r\n                opacity: 0;\r\n                transform: translateX(map_get($value, x)) translateY(map_get($value, y));\r\n            }\r\n\r\n            .pl-list-move-#{$key}-leave-to {\r\n                opacity: 0;\r\n            }\r\n\r\n            .pl-list-move-#{$key}-leave-active {\r\n                position: absolute;\r\n            }\r\n        }\r\n    }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pl-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pl-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./pl-list.vue?vue&type=template&id=fca650a0&\"\nimport script from \"./pl-list.vue?vue&type=script&lang=js&\"\nexport * from \"./pl-list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./pl-list.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(_vm.tag,{tag:\"component\",staticClass:\"pl-item\",class:{'pl-item-block':_vm.block},on:{\"click\":function (e){ return _vm.$emit('click',e); }}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <component :is=\"tag\" class=\"pl-item\" @click=\"e=>$emit('click',e)\" :class=\"{'pl-item-block':block}\">\r\n        <slot></slot>\r\n    </component>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"pl-item\",\r\n        props: {\r\n            block: {type: Boolean},\r\n            tag: {type: String, default: 'div'},\r\n        },\r\n    }\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pl-item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pl-item.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./pl-item.vue?vue&type=template&id=1ed58c80&\"\nimport script from \"./pl-item.vue?vue&type=script&lang=js&\"\nexport * from \"./pl-item.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import list from './pl-list.vue'\r\nimport item from './pl-item.vue'\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    list, item,\r\n])","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pl-message-container\",class:_vm.classes},[_c('pl-list',{attrs:{\"direction\":\"top\"}},_vm._l((_vm.messages),function(item,index){return _c('pl-item',{key:item.id},[_c('pl-message-item',_vm._b({on:{\"done\":function($event){return _vm.done(item,index)}}},'pl-message-item',item,false))],1)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pl-message-item\",class:[(\"pl-message-item-status-\" + (_vm.STATUS[_vm.status].status || 'primary'))],on:{\"click\":_vm.pl_click}},[_c('div',{staticClass:\"pl-message-item-content\"},[_c('pl-icon',{staticClass:\"pl-message-item-icon\",attrs:{\"icon\":_vm.icon || _vm.STATUS[_vm.status].icon}}),_c('span',[_vm._v(_vm._s(_vm.message))])],1),_c('pl-icon',{staticClass:\"pl-message-item-close\",attrs:{\"icon\":\"el-icon-close\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.close($event)}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"pl-message-item\"\r\n         :class=\"[`pl-message-item-status-${STATUS[status].status || 'primary'}`]\" @click=\"pl_click\">\r\n        <div class=\"pl-message-item-content\">\r\n            <pl-icon :icon=\"icon || STATUS[status].icon\" class=\"pl-message-item-icon\"/>\r\n            <span>{{message}}</span>\r\n        </div>\r\n        <pl-icon icon=\"el-icon-close\" class=\"pl-message-item-close\" @click.stop=\"close\"/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n    export default {\r\n        name: \"pl-message-item\",\r\n        props: {\r\n            message: {type: String},\r\n            status: {type: String},\r\n            icon: {type: String},\r\n            time: {type: Number},\r\n            done: Function,\r\n            click: Function,\r\n        },\r\n        created() {\r\n            if (this.time !== null) this.timer = setTimeout(() => {\r\n                this.close()\r\n                !!this.done && (this.done())\r\n            }, this.time)\r\n        },\r\n        data() {\r\n            return {\r\n                STATUS: this.$plain.STATUS,\r\n                timer: null,\r\n            }\r\n        },\r\n        methods: {\r\n            close() {\r\n                this.$emit('done')\r\n            },\r\n            pl_click(e) {\r\n                !!this.click && this.click(e)\r\n            },\r\n        },\r\n    }\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pl-message-item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pl-message-item.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./pl-message-item.vue?vue&type=template&id=201bdeda&\"\nimport script from \"./pl-message-item.vue?vue&type=script&lang=js&\"\nexport * from \"./pl-message-item.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"pl-message-container\"\r\n         :class=\"classes\">\r\n        <pl-list direction=\"top\">\r\n            <pl-item v-for=\"(item,index) in messages\" :key=\"item.id\">\r\n                <pl-message-item v-bind=\"item\" @done=\"done(item,index)\"/>\r\n            </pl-item>\r\n        </pl-list>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import PlList from \"../list/pl-list\";\r\n    import PlItem from \"../list/pl-item\";\r\n    import PlMessageItem from \"./pl-message-item\";\r\n\r\n    export default {\r\n        name: \"pl-message-container\",\r\n        components: {PlMessageItem, PlItem, PlList},\r\n        props: {\r\n            horizontal: {type: String, default: 'center'},\r\n            vertical: {type: String, default: 'start'},\r\n            messages: {type: Array, default: () => []},\r\n            duration: {default: '30px'},\r\n        },\r\n        computed: {\r\n            targetVertical() {\r\n                return this.p_vertical || this.vertical\r\n            },\r\n            targetHorizontal() {\r\n                return this.p_horizontal || this.horizontal\r\n            },\r\n            classes() {\r\n                return [\r\n                    `pl-message-container-${this.targetHorizontal}-${this.targetVertical}`\r\n                ]\r\n            },\r\n        },\r\n        data() {\r\n            return {\r\n                p_vertical: null,\r\n                p_horizontal: null,\r\n            }\r\n        },\r\n        methods: {\r\n            done(item, index) {\r\n                this.messages.splice(index, 1)\r\n            },\r\n            add(message) {\r\n                this.messages.push(message)\r\n            },\r\n            remove(message) {\r\n                const index = this.messages.indexOf(message)\r\n                if (index > -1) this.messages.splice(index, 1)\r\n            },\r\n        }\r\n    }\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pl-message-container.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pl-message-container.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./pl-message-container.vue?vue&type=template&id=7ffd1634&\"\nimport script from \"./pl-message-container.vue?vue&type=script&lang=js&\"\nexport * from \"./pl-message-container.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Container from './pl-message-container.vue'\r\n\r\nimport {PlainUtils} from \"@/util/util\";\r\nimport {$plain} from \"@/packages/base\";\r\n\r\nexport default class MessageService {\r\n\r\n    _el: HTMLElement | null\r\n    containers: object\r\n    defaultOption: any\r\n\r\n    get el() {\r\n        if (!this._el) {\r\n            this._el = document.createElement('div')\r\n            PlainUtils.addClass(this._el, 'pl-message-containers')\r\n            document.body.appendChild(this._el)\r\n        }\r\n        return this._el\r\n    }\r\n\r\n    constructor() {\r\n\r\n        this._el = null;\r\n        this.containers = {}\r\n        this.defaultOption = {\r\n            id: null,\r\n            horizontal: 'center',\r\n            vertical: 'start',\r\n            status: 'primary',\r\n            time: 3000,\r\n            done: null,\r\n            click: null,\r\n            icon: null,\r\n        }\r\n    }\r\n\r\n    newInstance(horizontal, vertical) {\r\n        const instance = $plain.newInstance(Container)\r\n        instance.p_horizontal = horizontal\r\n        instance.p_vertical = vertical\r\n        this.el.appendChild(instance.$el)\r\n        return instance\r\n    }\r\n\r\n    close(messageOption) {\r\n        this.containers[`${messageOption.horizontal}-${messageOption.vertical}`].remove(messageOption)\r\n    }\r\n\r\n    /**\r\n     * 显示提示消息\r\n     * @author  韦胜健\r\n     * @date    2018/12/24 09:58\r\n     */\r\n    show(message, option) {\r\n        option = option || {}\r\n        switch (PlainUtils.typeOf(message)) {\r\n            case 'number':\r\n                message = String(message)\r\n            case 'string':\r\n                option.message = message\r\n                break\r\n            case 'object':\r\n                option = message\r\n                break;\r\n        }\r\n        option = Object.assign({}, this.defaultOption, option)\r\n        option.id = option.id || PlainUtils.uuid()\r\n\r\n        const position = `${option.horizontal}-${option.vertical}`\r\n        const container = this.containers[position] || this.newInstance(option.horizontal, option.vertical)\r\n        if (!this.containers[position]) this.containers[position] = container\r\n\r\n        $plain.nextTick().then(() => container.add(option))\r\n        return option\r\n    }\r\n\r\n    static install(Vue) {\r\n        const messageService = new MessageService()\r\n        const $message = (message, option = {}) => messageService.show(message, option)\r\n        Object.keys($plain.STATUS).forEach(status => $message[status] = (message, option = {}) => messageService.show(message, {status, ...option}))\r\n        Vue.prototype.$message = $message\r\n    }\r\n}\r\n","import './message.scss'\r\nimport container from './pl-message-container.vue'\r\nimport message from './pl-message-item.vue'\r\nimport service from './MessageService'\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    container,\r\n    message,\r\n], [\r\n    service\r\n])","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pl-notice-container\",class:(\"pl-notice-container-\" + _vm.vertical + \"-\" + _vm.horizontal)},[_c('pl-list',{attrs:{\"direction\":_vm.horizontal === 'start'?'left':'right'}},_vm._l((_vm.options),function(option){return _c('pl-notice-service',{key:option.id,attrs:{\"option\":option},on:{\"close\":function($event){return _vm.close(option)}}})}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\r\n    export default {\r\n        name: \"pl-notice-service\",\r\n        props: {\r\n            option: {type: Object},\r\n        },\r\n        data() {\r\n            return {\r\n                closeTimer: null,\r\n                onMouseenter: () => {\r\n                    this.$el.removeEventListener('mouseenter', this.onMouseenter)\r\n                    if (!!this.closeTimer) {\r\n                        clearTimeout(this.closeTimer)\r\n                    }\r\n                    this.$el.addEventListener('mouseleave', this.onMouseleave)\r\n                },\r\n                onMouseleave: () => {\r\n                    this.$el.removeEventListener('mouseleave', this.onMouseleave)\r\n                    this.setCloseTimer()\r\n                },\r\n            }\r\n        },\r\n        computed: {\r\n            classes() {\r\n                return [\r\n                    'pl-notice-service',\r\n                    {\r\n                        [`pl-notice-service-status-${this.option.status}`]: !!this.option.status && this.$plain.STATUS[this.option.status]\r\n                    },\r\n                ]\r\n            },\r\n        },\r\n        render(h) {\r\n            return (\r\n                <pl-item class={this.classes}>\r\n                    <div class=\"pl-notice-service-content\" onClick={() => !!this.option.onClick && this.option.onClick()}>\r\n                        <div class=\"pl-notice-service-head\">\r\n                            提示\r\n                        </div>\r\n                        <div class=\"pl-notice-service-body\">\r\n                            {!!this.option.render ? this.option.render(h) : this.option.message}\r\n                        </div>\r\n                        {!this.option.noClose && <pl-button mode=\"text\" icon=\"el-icon-close\" class=\"pl-notice-service-close\" onClick={() => this.close()}/>}\r\n                        {!!this.option.status && this.$plain.STATUS[this.option.status] && <pl-icon icon={this.$plain.STATUS[this.option.status].icon} class=\"pl-notice-service-status-icon\"/>}\r\n                    </div>\r\n                </pl-item>\r\n            )\r\n        },\r\n        mounted() {\r\n            this.setCloseTimer()\r\n        },\r\n        methods: {\r\n            close() {\r\n                this.$emit('close')\r\n            },\r\n            setCloseTimer() {\r\n                let time = this.option.time === undefined ? 3000 : this.option.time\r\n                if (!!time) {\r\n                    this.closeTimer = setTimeout(() => {\r\n                        this.close()\r\n                        this.closeTimer = null\r\n                    }, time)\r\n                    this.$el.addEventListener('mouseenter', this.onMouseenter)\r\n                }\r\n            },\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pl-notice-service.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pl-notice-service.vue?vue&type=script&lang=js&\"","<template>\r\n    <div class=\"pl-notice-container\" :class=\"`pl-notice-container-${vertical}-${horizontal}`\">\r\n        <pl-list :direction=\"horizontal === 'start'?'left':'right'\">\r\n            <pl-notice-service v-for=\"option in options\" :key=\"option.id\" :option=\"option\" @close=\"close(option)\"/>\r\n        </pl-list>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import PlNoticeService from \"./pl-notice-service\";\r\n\r\n    export default {\r\n        name: \"pl-notice-container\",\r\n        components: {PlNoticeService},\r\n        data() {\r\n            return {\r\n                options: [],\r\n                vertical: null,\r\n                horizontal: null,\r\n            }\r\n        },\r\n        methods: {\r\n            newService(option) {\r\n                this.options.push(option)\r\n                option.close = () => this.close(option)\r\n                return option\r\n            },\r\n            close(option) {\r\n                let index = this.options.findIndex(item => item.id === option.id)\r\n                if (index !== -1) {\r\n                    this.options.splice(index, 1)\r\n                }\r\n            },\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    @include theme {\r\n        .pl-notice-container {\r\n            position: fixed;\r\n            z-index: 9999;\r\n            padding: 20px;\r\n\r\n            .pl-notice-service {\r\n                margin-bottom: 16px;\r\n\r\n                .pl-notice-service-content {\r\n                    background-color: white;\r\n                    width: 300px;\r\n                    box-shadow: 0 2px 12px 0 rgba(0, 0, 0, .1);\r\n                    padding: 12px 16px;\r\n                    position: relative;\r\n                    border-radius: $shapeFillet;\r\n                    border: solid 1px $ibc;\r\n                }\r\n\r\n                .pl-notice-service-head {\r\n                    font-size: 16px;\r\n                    color: $ihc;\r\n                }\r\n\r\n                .pl-notice-service-body {\r\n                    font-size: 14px;\r\n                    padding-top: 16px;\r\n                    color: $itc;\r\n                    max-height: 300px;\r\n                    overflow-y: auto;\r\n                }\r\n\r\n                .pl-notice-service-close {\r\n                    position: absolute;\r\n                    top: 8px;\r\n                    right: 8px;\r\n\r\n                    .pl-icon {\r\n                        color: $icc\r\n                    }\r\n\r\n                    &:hover {\r\n                        .pl-icon {\r\n                            color: inherit;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                .pl-notice-service-status-icon {\r\n                    position: absolute;\r\n                    top: 12px;\r\n                    left: 16px;\r\n                }\r\n\r\n                @include statusMixin(notice-service) {\r\n                    .pl-notice-service-content {\r\n                        padding-left: 56px;\r\n                    }\r\n                    .pl-notice-service-status-icon {\r\n                        color: $value;\r\n                        font-size: 24px;\r\n                    }\r\n                }\r\n            }\r\n\r\n            &.pl-notice-container-start-start {\r\n                top: 0;\r\n                left: 0;\r\n            }\r\n\r\n            &.pl-notice-container-start-end {\r\n                top: 0;\r\n                right: 0;\r\n            }\r\n\r\n            &.pl-notice-container-end-start {\r\n                bottom: 0;\r\n                left: 0;\r\n            }\r\n\r\n            &.pl-notice-container-end-end {\r\n                bottom: 0;\r\n                right: 0;\r\n            }\r\n        }\r\n    }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pl-notice-container.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pl-notice-container.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./pl-notice-container.vue?vue&type=template&id=5cd8b9f1&\"\nimport script from \"./pl-notice-container.vue?vue&type=script&lang=js&\"\nexport * from \"./pl-notice-container.vue?vue&type=script&lang=js&\"\nimport style0 from \"./pl-notice-container.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Container from './pl-notice-container.vue'\r\n\r\n\r\nexport interface NoticeServiceOption {\r\n    id: string,\r\n\r\n    message: string,\r\n    time: number,\r\n    noClose: boolean,\r\n    render: Function,\r\n    status: string,\r\n    onClick: Function,\r\n    vertical: string,\r\n    horizontal: string,\r\n}\r\n\r\nconst NoticeService = {\r\n    install(Vue) {\r\n        const $plain = Vue.prototype.$plain\r\n        let containers = {};\r\n\r\n        const notice = async (message: string | NoticeServiceOption, option: NoticeServiceOption) => {\r\n            if (typeof message === 'object') {\r\n                option = message\r\n            } else {\r\n                // @ts-ignore\r\n                option = option || {}\r\n                option.message = String(message)\r\n            }\r\n            if (option.status === undefined) {\r\n                option.status = 'primary'\r\n            }\r\n            if (!option.id) {\r\n                option.id = $plain.utils.uuid()\r\n            }\r\n            if (!option.vertical) {\r\n                option.vertical = 'start'\r\n            }\r\n            if (!option.horizontal) {\r\n                option.horizontal = 'end'\r\n            }\r\n\r\n            let container = containers[`${option.vertical}-${option.horizontal}`]\r\n            if (!container) {\r\n                container = await $plain.newInstance(Container)\r\n                container.vertical = option.vertical\r\n                container.horizontal = option.horizontal\r\n                containers[`${option.vertical}-${option.horizontal}`] = container\r\n                await $plain.nextTick()\r\n            }\r\n\r\n            return container.newService(option)\r\n        }\r\n\r\n        Object.keys($plain.STATUS).forEach(status => {\r\n            notice[status] = (message: string | NoticeServiceOption, option: NoticeServiceOption) => {\r\n                // @ts-ignore\r\n                return notice(message, {status, ...(option || {})})\r\n            }\r\n        })\r\n\r\n        Vue.prototype.$notice = notice\r\n    },\r\n}\r\n\r\nexport {NoticeService}\r\n","import Container from './pl-notice-container.vue'\r\nimport Notice from './pl-notice-service.vue'\r\nimport {NoticeService} from './NoticeService'\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    Container,\r\n    Notice,\r\n], [\r\n    NoticeService,\r\n])","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pl-row\",class:_vm.classes,style:(_vm.styles)},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"pl-row\" :class=\"classes\" :style=\"styles\">\r\n        <slot></slot>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"pl-row\",\r\n        props: {\r\n            type: {type: String},                               //类型,type\r\n            align: {type: String},                              //对其方式,left|center|right\r\n            justify: {type: String},                            //内容弹性布局方式,start,end,center,space-around,space-between\r\n            gutter: {type: [String, Number], default: 0},       //间隔\r\n        },\r\n        provide() {\r\n            return {\r\n                plRow: this,\r\n            }\r\n        },\r\n        data() {\r\n            return {\r\n                items: [],\r\n            }\r\n        },\r\n        watch: {\r\n            gutter(val) {\r\n                this.updateGutter(val);\r\n            }\r\n        },\r\n        computed: {\r\n            classes() {\r\n                return [\r\n                    {\r\n                        [`pl-row-${this.type}`]: !!this.type,\r\n                        [`pl-row-${this.type}-${this.align}`]: !!this.align,\r\n                        [`pl-row-${this.type}-${this.justify}`]: !!this.justify,\r\n                    }\r\n                ]\r\n            },\r\n            styles() {\r\n                let style = {};\r\n                if ((this.gutter - 0) !== 0) {\r\n                    style = {\r\n                        marginLeft: (this.gutter - 0) / -2 + 'px',\r\n                        marginRight: (this.gutter - 0) / -2 + 'px'\r\n                    };\r\n                }\r\n                return style;\r\n            },\r\n        },\r\n        methods: {\r\n            /**\r\n             * 收集子组件\r\n             * @author  韦胜健\r\n             * @date    2020/3/4 19:09\r\n             */\r\n            addItem(item) {\r\n                this.items.push(item)\r\n            },\r\n            /**\r\n             * 删除子组件\r\n             * @author  韦胜健\r\n             * @date    2020/3/4 19:09\r\n             */\r\n            removeItem(item) {\r\n                const index = this.items.indexOf(item)\r\n                index > -1 && this.items.splice(index, 1)\r\n            },\r\n            updateGutter(val) {\r\n                this.items.forEach((child) => {\r\n                    if ((val - 0) !== 0) {\r\n                        child.gutter = (val - 0);\r\n                    }\r\n                });\r\n            }\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pl-row.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pl-row.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./pl-row.vue?vue&type=template&id=78b3dedd&\"\nimport script from \"./pl-row.vue?vue&type=script&lang=js&\"\nexport * from \"./pl-row.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pl-col\",class:_vm.classes,style:(_vm.styles)},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"pl-col\" :class=\"classes\" :style=\"styles\">\r\n        <slot></slot>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"pl-col\",\r\n        props: {\r\n            span: [Number, String],\r\n            order: [Number, String],\r\n            offset: [Number, String],\r\n            push: [Number, String],\r\n            pull: [Number, String],\r\n            className: String,\r\n            xs: [Number, Object],\r\n            sm: [Number, Object],\r\n            md: [Number, Object],\r\n            lg: [Number, Object]\r\n        },\r\n        inject: {\r\n            plRow: {},\r\n        },\r\n        data() {\r\n            return {\r\n                gutter: 0,\r\n            }\r\n        },\r\n        computed: {\r\n            classes() {\r\n                let classList = [\r\n                    {\r\n                        [`pl-col-span-${this.span}`]: this.span,\r\n                        [`pl-col-order-${this.order}`]: this.order,\r\n                        [`pl-col-offset-${this.offset}`]: this.offset,\r\n                        [`pl-col-push-${this.push}`]: this.push,\r\n                        [`pl-col-pull-${this.pull}`]: this.pull,\r\n                        [`${this.className}`]: !!this.className\r\n                    }\r\n                ];\r\n                ['xs', 'sm', 'md', 'lg'].forEach(size => {\r\n                    if (typeof this[size] === 'number') {\r\n                        classList.push(`pl-col-${size}-${this[size]}`);\r\n                    } else if (typeof this[size] === 'object') {\r\n                        let props = this[size];\r\n                        Object.keys(props).forEach(prop => {\r\n                            classList.push(\r\n                                prop !== 'span'\r\n                                    ? `pl-col-${size}-${prop}-${props[prop]}`\r\n                                    : `pl-col-span-${size}-${props[prop]}`\r\n                            );\r\n                        });\r\n                    }\r\n                });\r\n                return classList;\r\n            },\r\n            styles() {\r\n                let style = {};\r\n                if ((Number(this.gutter)) !== 0) {\r\n                    style = {\r\n                        paddingLeft: (Number(this.gutter)) / 2 + 'px',\r\n                        paddingRight: (Number(this.gutter)) / 2 + 'px'\r\n                    };\r\n                }\r\n                return style;\r\n            }\r\n        },\r\n        methods: {\r\n            updateGutter() {\r\n                if (!!this.plRow) {\r\n                    this.plRow.updateGutter(this.plRow.gutter);\r\n                }\r\n            }\r\n        },\r\n        mounted() {\r\n            if (!!this.plRow) {\r\n                this.plRow.addItem(this)\r\n            }\r\n            this.updateGutter();\r\n        },\r\n        beforeDestroy() {\r\n            if (!!this.plRow) {\r\n                this.plRow.removeItem(this)\r\n            }\r\n            this.updateGutter();\r\n        }\r\n    }\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pl-col.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pl-col.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./pl-col.vue?vue&type=template&id=5213b461&\"\nimport script from \"./pl-col.vue?vue&type=script&lang=js&\"\nexport * from \"./pl-col.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import {installPlugin} from \"@/util/install\";\r\nimport row from './pl-row.vue'\r\nimport col from './pl-col.vue'\r\nimport './grid.scss'\r\n\r\nexport default installPlugin([\r\n    row, col\r\n])","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{staticClass:\"pl-radio-inner\",class:(\"pl-radio-inner-\" + _vm.status),attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 100 100\"}},[(_vm.status === 'check')?_c('circle',{attrs:{\"cx\":\"50\",\"cy\":\"50\",\"r\":\"30\"}}):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\" class=\"pl-radio-inner\" :class=\"`pl-radio-inner-${status}`\">\r\n        <circle cx=\"50\" cy=\"50\" r=\"30\" v-if=\"status === 'check'\"/>\r\n    </svg>\r\n\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"pl-radio-inner\",\r\n        props: {\r\n            status: {},\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pl-radio-inner.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pl-radio-inner.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./pl-radio-inner.vue?vue&type=template&id=1015d21b&\"\nimport script from \"./pl-radio-inner.vue?vue&type=script&lang=js&\"\nexport * from \"./pl-radio-inner.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import {defineComponent, provide} from \"@vue/composition-api\";\r\nimport {StyleProps, useStyle} from \"@/use/useStyle\";\r\nimport {EditProps, useEdit} from \"@/use/useEdit\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {FormatPropsType, useProps} from \"@/use/useProps\";\r\nimport {useModel} from \"@/use/useModel\";\r\nimport {useSlots} from \"@/use/useSlots\";\r\nimport {DEFAULT_STATUS} from \"@/packages/base\";\r\n\r\nexport const PLAIN_RADIO_GROUP_PROVIDER = '@@PLAIN_RADIO_GROUP_PROVIDER'\r\n\r\nexport default defineComponent({\r\n    name: 'pl-radio-group',\r\n    props: {\r\n        ...EditProps,\r\n        ...StyleProps,\r\n\r\n        value: {},\r\n        itemWidth: {type: [String, Number]},                       // 每一个单选框的宽度\r\n    },\r\n    setup(props, context) {\r\n\r\n        const {slots} = useSlots()\r\n\r\n        useEdit()\r\n        useStyle({status: DEFAULT_STATUS})\r\n\r\n        /*---------------------------------------emit-------------------------------------------*/\r\n        const {emit} = useEvent({\r\n            input: EmitFunc,\r\n        })\r\n\r\n        /*---------------------------------------state-------------------------------------------*/\r\n\r\n        const model = useModel(() => props.value, emit.input)\r\n\r\n        const propsState = useProps(props, {\r\n            itemWidth: FormatPropsType.number,\r\n        })\r\n\r\n        provide(PLAIN_RADIO_GROUP_PROVIDER, {\r\n            propsState,\r\n\r\n            onClickRadio: (val: any) => {\r\n                model.value = val\r\n            },\r\n            /**\r\n             * 判断 checkbox是否选中\r\n             * @author  韦胜健\r\n             * @date    2020/3/4 18:50\r\n             */\r\n            isChecked(val: any) {\r\n                return model.value === val\r\n            },\r\n        })\r\n\r\n        return () => (\r\n            <div class={'pl-radio-group'}>\r\n                {slots.default()}\r\n            </div>\r\n        )\r\n    },\r\n})","import {computed, defineComponent, inject} from \"@vue/composition-api\";\r\nimport ClickWave from \"@/directives/click-wave\";\r\nimport {StyleProps, useStyle} from \"@/use/useStyle\";\r\nimport {EditProps, useEdit} from \"@/use/useEdit\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {FormatPropsType, useProps} from \"@/use/useProps\";\r\nimport {useModel} from \"@/use/useModel\";\r\n\r\nimport {PLAIN_RADIO_GROUP_PROVIDER} from \"@/packages/radio/radio-group\";\r\nimport {PlainUtils} from \"@/util/util\";\r\nimport {getKey, KEY} from \"@/packages/keyboard\";\r\nimport {useSlots} from \"@/use/useSlots\";\r\nimport {DEFAULT_STATUS} from \"@/packages/base\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-radio',\r\n    directives: {ClickWave},\r\n    props: {\r\n        ...EditProps,\r\n        ...StyleProps,\r\n\r\n        value: {type: Boolean},                                     // 双向绑定值\r\n        val: {type: String},                                        // 在group中的唯一标识\r\n        label: {type: String},                                      // 显示文本\r\n        width: {type: [String, Number]},                            // 宽度\r\n        trueValue: {default: true},                                 // 真值\r\n        falseValue: {default: false},                               // 假值\r\n        ignore: {type: Boolean},                                    // 忽略 plCheckboxGroup\r\n    },\r\n    setup(props, context) {\r\n\r\n        const {slots} = useSlots()\r\n\r\n        /*---------------------------------------emitter-------------------------------------------*/\r\n        const {emit} = useEvent({\r\n            input: EmitFunc,\r\n        })\r\n\r\n        /*---------------------------------------state-------------------------------------------*/\r\n\r\n        const {editComputed} = useEdit()\r\n        const {styleComputed} = useStyle({status: DEFAULT_STATUS})\r\n\r\n        const propsState = useProps(props, {\r\n            width: FormatPropsType.number,\r\n        })\r\n\r\n        const model = useModel(() => props.value, emit.input)\r\n\r\n        const radioGroupProvider: any = inject(PLAIN_RADIO_GROUP_PROVIDER, null)\r\n\r\n        /*---------------------------------------computer-------------------------------------------*/\r\n\r\n        const targetWidth = computed(() => {\r\n            if (!!propsState.width) return propsState.width\r\n            if (radioGroupProvider != null && !!radioGroupProvider.propsState.itemWidth) return radioGroupProvider.propsState.itemWidth\r\n            return null\r\n        })\r\n\r\n        const isChecked = computed(() => {\r\n            if (!!radioGroupProvider) {\r\n                return radioGroupProvider.isChecked(props.val)\r\n            } else {\r\n                return model.value === props.trueValue\r\n            }\r\n        })\r\n\r\n        const classes = computed(() => [\r\n            'pl-radio',\r\n            `pl-radio-status-${styleComputed.value.status}`,\r\n            `pl-radio-size-${styleComputed.value.size}`,\r\n            {\r\n                'pl-radio-checked': isChecked.value,\r\n                'pl-radio-disabled': editComputed.value.disabled,\r\n            },\r\n        ])\r\n\r\n        const styles = computed(() => {\r\n            return !!targetWidth.value ? {width: PlainUtils.suffixPx(targetWidth.value)} : null\r\n        })\r\n\r\n        const handler = {\r\n            click: () => {\r\n                if (!editComputed.value.editable) {\r\n                    return\r\n                }\r\n                if (!!radioGroupProvider) {\r\n                    if (isChecked.value) {\r\n                        return;\r\n                    }\r\n                    radioGroupProvider.onClickRadio(props.val)\r\n                } else {\r\n                    model.value = isChecked.value ? props.falseValue : props.trueValue\r\n                }\r\n            },\r\n            keydown: (e: KeyboardEvent) => {\r\n                if (getKey(e) === KEY.space) {\r\n                    e.preventDefault()\r\n                    e.stopPropagation()\r\n                    handler.click()\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        return () => (\r\n            <div class={classes.value}\r\n                 style={styles.value}\r\n                 tabindex={0}\r\n                 {...{directives: [{name: 'click-wave', value: {disabled: !editComputed.value.editable}}]}}\r\n\r\n                 onClick={handler.click}\r\n                 onKeydown={handler.keydown}\r\n            >\r\n                {\r\n                    slots.default(\r\n                        [\r\n                            <span class=\"plain-click-node\">\r\n                                <transition name=\"pl-transition-fade\" mode=\"out-in\">\r\n                                    {!!isChecked.value && <pl-radio-inner status=\"check\" key=\"check\" disabled={editComputed.value.disabled}/>}\r\n                                    {!isChecked.value && <pl-radio-inner status=\"uncheck\" key=\"uncheck\" disabled={editComputed.value.disabled}/>}\r\n                                </transition>\r\n                            </span>,\r\n                            !!props.label ? <div class=\"pl-radio-label\">{props.label}</div> : null\r\n                        ]\r\n                    )\r\n                }\r\n            </div>\r\n        )\r\n    },\r\n})","import './radio.scss'\r\nimport inner from './pl-radio-inner.vue'\r\nimport radio from './radio'\r\nimport group from './radio-group'\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    radio,\r\n    group,\r\n    inner,\r\n])","import {computed, defineComponent, provide, reactive, Ref} from \"@vue/composition-api\";\r\n\r\nimport {PLAIN_CHECK_STATUS} from \"@/util/constant\";\r\nimport {$plain, DEFAULT_STATUS} from \"@/packages/base\";\r\nimport {StyleProps, useStyle} from \"@/use/useStyle\";\r\nimport {EditProps, useEdit} from \"@/use/useEdit\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {FormatPropsType, useProps} from \"@/use/useProps\";\r\nimport {useModel} from \"@/use/useModel\";\r\nimport {useSlots} from \"@/use/useSlots\";\r\n\r\nexport const PLAIN_CHECKBOX_PROVIDER = '@@PLAIN_CHECKBOX_PROVIDER'\r\n\r\nexport default defineComponent({\r\n    name: 'pl-checkbox-group',\r\n    props: {\r\n        ...EditProps,\r\n        ...StyleProps,\r\n\r\n        value: {type: Array},\r\n\r\n        min: {type: Number},                                        // 最大勾选个数\r\n        max: {type: Number},                                        // 最小勾选个数\r\n        itemWidth: {type: [String, Number]},                       // 文本宽度\r\n    },\r\n    setup(props, context) {\r\n\r\n        const {slots} = useSlots()\r\n\r\n        /*---------------------------------------emitter-------------------------------------------*/\r\n        const {emit} = useEvent({\r\n            input: EmitFunc,\r\n        })\r\n\r\n        /*---------------------------------------state-------------------------------------------*/\r\n\r\n        const {editComputed} = useEdit()\r\n        useStyle({status: DEFAULT_STATUS})\r\n\r\n        const propsState = useProps(props, {\r\n            min: FormatPropsType.number,\r\n            max: FormatPropsType.number,\r\n            itemWidth: FormatPropsType.number,\r\n        })\r\n\r\n        const model = useModel(() => (props.value), emit.input)\r\n\r\n        const state = reactive({\r\n            itemValList: [] as any[],\r\n        })\r\n\r\n        /*---------------------------------------utils-------------------------------------------*/\r\n\r\n        const utils = {\r\n            isChecked: (val) => {\r\n                const vals = model.value || []\r\n                return vals.indexOf(val) > -1\r\n            },\r\n            checkTypeOfValue: () => {\r\n                if (!!model.value && !Array.isArray(model.value)) {\r\n                    console.error('pl-checkbox: typeof value must be array')\r\n                }\r\n            },\r\n        }\r\n\r\n        utils.checkTypeOfValue()\r\n\r\n        /*---------------------------------------computer-------------------------------------------*/\r\n\r\n        const checkStatus: Ref<PLAIN_CHECK_STATUS> = computed(() => {\r\n            if (!model.value || model.value.length === 0) return PLAIN_CHECK_STATUS.uncheck\r\n            if (state.itemValList.every(val => utils.isChecked(val))) return PLAIN_CHECK_STATUS.check\r\n            return PLAIN_CHECK_STATUS.minus\r\n        })\r\n\r\n        /*---------------------------------------handler-------------------------------------------*/\r\n\r\n        const handler = {\r\n            /**\r\n             * 处理选中 checkbox 的动作\r\n             * @author  韦胜健\r\n             * @date    2020/3/4 18:50\r\n             */\r\n            onClickCheckbox: (val) => {\r\n                if (!editComputed.value.editable) return\r\n                let value = model.value || []\r\n\r\n                if (utils.isChecked(val)) {\r\n                    // 删除\r\n                    if (!!propsState.min && value.length <= propsState.min) {\r\n                        return $plain.$message.warn(`最少选择 ${propsState.min} 个选项！`)\r\n                    }\r\n                    model.value = value.filter(item => item !== val)\r\n                } else {\r\n                    // 添加\r\n                    if (!!propsState.max && value.length >= propsState.max) {\r\n                        return $plain.$message.warn(`最多选择 ${propsState.max} 个选项！`)\r\n                    }\r\n                    value.push(val)\r\n                    model.value = [...value]\r\n                }\r\n            },\r\n            /**\r\n             * 点击全选按钮\r\n             * @author  韦胜健\r\n             * @date    2020/3/4 19:11\r\n             */\r\n            onClickCheckBoxForAll: () => {\r\n                if (!editComputed.value.editable) return\r\n                switch (checkStatus.value) {\r\n                    case PLAIN_CHECK_STATUS.check:\r\n                        model.value = []\r\n                        break\r\n                    case PLAIN_CHECK_STATUS.uncheck:\r\n                    case PLAIN_CHECK_STATUS.minus:\r\n                        model.value = Array.from(new Set((!!propsState.max ? state.itemValList.slice(0, propsState.max) : [...state.itemValList])))\r\n                        break\r\n                }\r\n            },\r\n            addItem: (val) => {\r\n                state.itemValList.push(val)\r\n            },\r\n            removeItem: (val) => {\r\n                const index = state.itemValList.indexOf(val)\r\n                index > -1 && state.itemValList.splice(index, 1)\r\n            },\r\n        }\r\n\r\n        provide(PLAIN_CHECKBOX_PROVIDER, {\r\n            propsState,\r\n            utils,\r\n            handler,\r\n        })\r\n\r\n\r\n        return () => (\r\n            <div class={'pl-checkbox-group'}>\r\n                <pl-checkbox-indeterminate checkboxProps={{label: '全选', ignore: true, value: checkStatus.value === PLAIN_CHECK_STATUS.check}}\r\n                                           status={checkStatus.value}\r\n                                           disabled={editComputed.value.disabled}\r\n                                           onClick={handler.onClickCheckBoxForAll}/>\r\n                {slots.default()}\r\n            </div>\r\n        )\r\n    },\r\n})","import {computed, defineComponent, inject, onBeforeUnmount} from \"@vue/composition-api\";\r\n\r\nimport {PLAIN_CHECKBOX_PROVIDER} from \"@/packages/checkbox/checkbox-group\";\r\nimport {$plain, DEFAULT_STATUS} from \"@/packages/base\";\r\nimport ClickWave from \"@/directives/click-wave\";\r\nimport {handleKeyboard} from \"@/packages/keyboard\";\r\nimport {EditProps, useEdit} from \"@/use/useEdit\";\r\nimport {StyleProps, useStyle} from \"@/use/useStyle\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {useModel} from \"@/use/useModel\";\r\nimport {FormatPropsType, useProps} from \"@/use/useProps\";\r\nimport {useScopedSlots} from \"@/use/useScopedSlots\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-checkbox',\r\n    directives: {ClickWave},\r\n    props: {\r\n        ...EditProps,\r\n        ...StyleProps,\r\n\r\n        value: {},\r\n        val: {},                                                    // 多选时选中值\r\n        label: {type: String},                                      // 显示文本\r\n        width: {type: [String, Number]},                            // 宽度\r\n        trueValue: {default: true},                                 // 选中实际值\r\n        falseValue: {default: false},                               // 非选中值\r\n\r\n        ignore: {type: Boolean},                                    // 忽略 plCheckboxGroup\r\n        isYes:{type:Function},\r\n    },\r\n    setup(props, context) {\r\n\r\n        const isYes = props.isYes!\r\n\r\n        const {scopedSlots} = useScopedSlots({\r\n            default: {checked: Boolean},\r\n        })\r\n\r\n        const {emit} = useEvent({\r\n            input: EmitFunc,\r\n            click: EmitFunc,\r\n        })\r\n        const model = useModel(() => props.value, emit.input)\r\n        const propsState = useProps(props, {\r\n            label: FormatPropsType.promise,\r\n            width: FormatPropsType.number,\r\n        })\r\n        const {editComputed} = useEdit()\r\n        const {styleComputed} = useStyle({status: DEFAULT_STATUS})\r\n\r\n        const checkboxGroupProvider = inject(PLAIN_CHECKBOX_PROVIDER, null) as ({ propsState, utils, handler } | null)\r\n\r\n        /*---------------------------------------computer-------------------------------------------*/\r\n\r\n        const isChecked = computed(() => {\r\n            if (!!checkboxGroupProvider && !props.ignore) {\r\n                return checkboxGroupProvider.utils.isChecked(props.val)\r\n            } else {\r\n                return model.value === props.trueValue\r\n            }\r\n        })\r\n        const targetWidth = computed(() => {\r\n            if (!!propsState.width) return propsState.width\r\n            if (!!checkboxGroupProvider && !!checkboxGroupProvider.propsState.itemWidth) return checkboxGroupProvider.propsState.itemWidth\r\n            return null\r\n        })\r\n\r\n        const classes = computed(() => ([\r\n            'pl-checkbox',\r\n            `pl-checkbox-status-${styleComputed.value.status}`,\r\n            `pl-checkbox-size-${styleComputed.value.size}`,\r\n            {\r\n                'pl-checkbox-checked': isChecked.value,\r\n                'pl-checkbox-disabled': editComputed.value.disabled,\r\n            },\r\n        ]))\r\n\r\n        const styles = computed(() => {\r\n            return !!targetWidth.value ? {width: $plain.utils.suffixPx(targetWidth.value)} : null\r\n        })\r\n\r\n        /*---------------------------------------handler-------------------------------------------*/\r\n\r\n        const handler = {\r\n            click: (e) => {\r\n                emit.click(e)\r\n                if (!editComputed.value.editable) return\r\n                if (!!checkboxGroupProvider && !props.ignore) {\r\n                    checkboxGroupProvider.handler.onClickCheckbox(props.val)\r\n                } else {\r\n                    model.value = isChecked.value ? props.falseValue : props.trueValue\r\n                }\r\n            },\r\n            keydown: handleKeyboard({\r\n                space: (e) => {\r\n                    e.preventDefault()\r\n                    e.stopPropagation()\r\n                    handler.click(e)\r\n                },\r\n            })\r\n        }\r\n\r\n        /*---------------------------------------lifecycle-------------------------------------------*/\r\n        if (!!checkboxGroupProvider && !props.ignore) {\r\n            checkboxGroupProvider.handler.addItem(props.val)\r\n            onBeforeUnmount(() => {\r\n                checkboxGroupProvider.handler.removeItem(props.val)\r\n            })\r\n        }\r\n\r\n        return () => (\r\n            <div class={classes.value}\r\n                 style={styles.value}\r\n                 {...{directives: [{name: 'click-wave', value: {disabled: !editComputed.value.editable}}]}}\r\n                 tabindex={0}\r\n                 onClick={handler.click}\r\n                 onKeydown={handler.keydown}\r\n            >\r\n                {\r\n                    scopedSlots.default({\r\n                        param: {checked: isChecked.value},\r\n                        content: [\r\n                            <span class=\"plain-click-node\">\r\n                                <transition name=\"pl-transition-fade\" mode=\"out-in\">\r\n                                    {!!context.slots['checkbox-inner'] ? context.slots['checkbox-inner']() : (\r\n                                        isChecked.value ?\r\n                                            <pl-checkbox-inner status=\"check\" key=\"check\" disabled={editComputed.value.disabled}/> :\r\n                                            <pl-checkbox-inner status=\"uncheck\" key=\"uncheck\" disabled={editComputed.value.disabled}/>\r\n                                    )}\r\n                                </transition>\r\n                            </span>,\r\n                            !propsState.label ? null : (\r\n                                <div class=\"pl-checkbox-label\">\r\n                                    {propsState.label}\r\n                                </div>\r\n                            )\r\n                        ]\r\n                    })\r\n                }\r\n            </div>\r\n        )\r\n    },\r\n})","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{staticClass:\"pl-checkbox-inner\",class:_vm.classes,attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 100 100\"}},[(_vm.status === 'check')?_c('polyline',{staticClass:\"pl-checkbox-inner-check-polyline\",attrs:{\"points\":\"22,50 45,75 75,25\"}}):_vm._e(),(_vm.status === 'minus')?_c('rect',{staticClass:\"pl-checkbox-inner-minus-polyline\",attrs:{\"x\":\"15\",\"y\":\"15\",\"width\":\"70\",\"height\":\"70\"}}):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\" class=\"pl-checkbox-inner\" :class=\"classes\">\r\n        <polyline points=\"22,50 45,75 75,25\" v-if=\"status === 'check'\" class=\"pl-checkbox-inner-check-polyline\"/>\r\n        <rect v-if=\"status === 'minus'\" x=\"15\" y=\"15\" width=\"70\" height=\"70\" class=\"pl-checkbox-inner-minus-polyline\"/>\r\n    </svg>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"pl-checkbox-inner\",\r\n        props: {\r\n            disabled: {type: Boolean},\r\n            status: {default: 'check'},                             // check,uncheck,minus\r\n        },\r\n        data() {\r\n            return {}\r\n        },\r\n        computed: {\r\n            classes() {\r\n                return [\r\n                    `pl-checkbox-inner-status-${this.status}`,\r\n                    {\r\n                        'pl-checkbox-inner-disabled': this.disabled,\r\n                    }\r\n                ]\r\n            },\r\n        },\r\n    }\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pl-checkbox-inner.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pl-checkbox-inner.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./pl-checkbox-inner.vue?vue&type=template&id=0a0910c7&\"\nimport script from \"./pl-checkbox-inner.vue?vue&type=script&lang=js&\"\nexport * from \"./pl-checkbox-inner.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('pl-checkbox',_vm._b({staticClass:\"pl-checkbox-indeterminate\",attrs:{\"size\":_vm.size,\"disabled\":_vm.disabled},nativeOn:{\"click\":function($event){return (function (e){ return _vm.$emit('click',e); })($event)}}},'pl-checkbox',_vm.checkboxProps,false),[_c('template',{slot:\"checkbox-inner\"},[(_vm.status === 'check')?_c('pl-checkbox-inner',{key:\"check\",attrs:{\"status\":\"check\",\"disabled\":_vm.disabled}}):_vm._e(),(_vm.status === 'uncheck')?_c('pl-checkbox-inner',{key:\"uncheck\",attrs:{\"status\":\"uncheck\",\"disabled\":_vm.disabled}}):_vm._e(),(_vm.status === 'minus')?_c('pl-checkbox-inner',{key:\"minus\",attrs:{\"status\":\"minus\",\"disabled\":_vm.disabled}}):_vm._e()],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <pl-checkbox class=\"pl-checkbox-indeterminate\"\r\n                 :size=\"size\"\r\n                 :disabled=\"disabled\"\r\n                 v-bind=\"checkboxProps\"\r\n                 @click.native=\"e=>$emit('click',e)\">\r\n        <template slot=\"checkbox-inner\">\r\n            <pl-checkbox-inner status=\"check\" key=\"check\" v-if=\"status === 'check'\" :disabled=\"disabled\"/>\r\n            <pl-checkbox-inner status=\"uncheck\" key=\"uncheck\" v-if=\"status === 'uncheck'\" :disabled=\"disabled\"/>\r\n            <pl-checkbox-inner status=\"minus\" key=\"minus\" v-if=\"status === 'minus'\" :disabled=\"disabled\"/>\r\n        </template>\r\n    </pl-checkbox>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"pl-checkbox-indeterminate\",\r\n        props: {\r\n            size: {type: String},\r\n            status: {type: String},                         // check,uncheck,minus\r\n            disabled: {type: Boolean, default: null},\r\n            checkboxProps: {type: Object},\r\n        },\r\n        data() {\r\n            return {}\r\n        },\r\n        methods: {},\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pl-checkbox-indeterminate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pl-checkbox-indeterminate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./pl-checkbox-indeterminate.vue?vue&type=template&id=e5bfa47a&\"\nimport script from \"./pl-checkbox-indeterminate.vue?vue&type=script&lang=js&\"\nexport * from \"./pl-checkbox-indeterminate.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import './checkbox.scss'\r\nimport {installPlugin} from \"@/util/install\";\r\nimport checkbox from './checkbox'\r\nimport group from './checkbox-group'\r\nimport inner from './pl-checkbox-inner.vue'\r\nimport indeterminate from './pl-checkbox-indeterminate.vue'\r\n\r\nexport default installPlugin([\r\n    checkbox,\r\n    group,\r\n    inner,\r\n    indeterminate,\r\n])","import {computed, defineComponent, reactive} from \"@vue/composition-api\";\r\nimport ClickWave from \"@/directives/click-wave\";\r\nimport {StyleProps, useStyle} from \"@/use/useStyle\";\r\nimport {EditProps, useEdit} from \"@/use/useEdit\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {FormatPropsType, useProps} from \"@/use/useProps\";\r\nimport {useModel} from \"@/use/useModel\";\r\n\r\nimport {HTMLInputEvent} from \"@/types/utils\";\r\nimport {getKey, KEY} from \"@/packages/keyboard\";\r\n\r\nconst NAN = 'NAN'\r\n\r\nexport default defineComponent({\r\n    name: 'pl-number',\r\n    directives: {ClickWave},\r\n    props: {\r\n        ...StyleProps,\r\n        ...EditProps,\r\n\r\n        value: {type: [String, Object]},                            // 双向绑定值\r\n        min: {type: [String, Number]},                              // 最小值\r\n        max: {type: [String, Number]},                              // 最大值\r\n        step: {type: [String, Number], default: 1},                 // 计数器步长\r\n        stepStrictly: {type: Boolean},                              // 是否只能输入 step 的倍数\r\n        precision: {type: Number},                                  // 数值精度\r\n        hideButton: {type: Boolean},                                // 隐藏操作按钮\r\n\r\n        /*---------------------------------------input-------------------------------------------*/\r\n        inputProps: {type: Object},                                 // pl-input属性配置对象\r\n    },\r\n    setup(props, context) {\r\n\r\n        /*---------------------------------------emit-------------------------------------------*/\r\n\r\n        const {emit} = useEvent({\r\n            focus: EmitFunc,\r\n            blur: EmitFunc,\r\n            input: EmitFunc,\r\n            enter: EmitFunc,\r\n        })\r\n\r\n        /*---------------------------------------state-------------------------------------------*/\r\n\r\n        const model = useModel(() => props.value, emit.input, false)\r\n\r\n        useStyle({status: undefined})\r\n        const {editComputed} = useEdit()\r\n\r\n        const state = reactive({\r\n            isFocus: false,                     // 当前是否获取焦点\r\n            interval: null,                     // 进步器长摁定时器\r\n        } as {\r\n            isFocus: boolean,\r\n            interval: null | number,\r\n        })\r\n\r\n        const propsState = useProps(props, {\r\n            min: FormatPropsType.number,\r\n            max: FormatPropsType.number,\r\n            step: FormatPropsType.number,\r\n            precision: FormatPropsType.number,\r\n        })\r\n\r\n        /*---------------------------------------utils-------------------------------------------*/\r\n\r\n        const getValue: (val: any) => (null | number | 'NAN') = (val) => {\r\n            if (val == null) return null\r\n            val = String(val).trim()\r\n            if (val === '') return null\r\n            val = Number(val)\r\n            if (isNaN(val)) {\r\n                return NAN\r\n            } else {\r\n                return val\r\n            }\r\n        }\r\n        const getEffectiveValue: () => number | null = () => {\r\n            let value = formatModelValue.value\r\n            if (value === NAN) {\r\n                value = formatValue.value\r\n                if (value === NAN) {\r\n                    if (propsState.min != null) return propsState.min\r\n                    else if (propsState.max != null) return propsState.max\r\n                    else if (props.stepStrictly) return propsState.step\r\n                    else return 0\r\n                }\r\n            }\r\n            return value\r\n        }\r\n        const checkValue: (value: number | null) => number | null = (value) => {\r\n            if (value != null) {\r\n                // min\r\n                if (propsState.min != null && value < propsState.min) {\r\n                    value = propsState.min\r\n                }\r\n                // max\r\n                if (propsState.max != null && value! > propsState.max) {\r\n                    value = propsState.max\r\n                }\r\n                // stepStrictly\r\n                if (props.stepStrictly && value! % propsState.step !== 0) {\r\n                    console.log('props.value', props.value)\r\n                    value = props.value\r\n                }\r\n                // precision\r\n                if (propsState.precision != null) {\r\n                    value = Number(value!.toFixed(propsState.precision))\r\n                }\r\n            }\r\n            return value\r\n        }\r\n\r\n        const utils = {\r\n            getValue,\r\n            getEffectiveValue,\r\n            checkValue,\r\n        }\r\n\r\n        /*---------------------------------------computer-------------------------------------------*/\r\n\r\n        const classes = computed(() => ([\r\n            `pl-number`,\r\n            {\r\n                'pl-number-hide-button': props.hideButton,\r\n                'pl-number-disabled': editComputed.value.disabled,\r\n            }\r\n        ]))\r\n        const formatModelValue = computed(() => utils.getValue(model.value))\r\n        const formatValue = computed(() => utils.getValue(props.value))\r\n\r\n        /*---------------------------------------methods-------------------------------------------*/\r\n\r\n        const methods = {\r\n            add: () => {\r\n                if (!editComputed.value.editable) {\r\n                    return\r\n                }\r\n                let value = utils.getEffectiveValue()\r\n                if (value == null) {\r\n                    value = 0\r\n                }\r\n                value += propsState.step\r\n                value = utils.checkValue(value)\r\n                model.value = value\r\n                emit.input(model.value)\r\n            },\r\n            minus: () => {\r\n                if (!editComputed.value.editable) {\r\n                    return\r\n                }\r\n                let value = utils.getEffectiveValue()\r\n                if (value == null) {\r\n                    value = 0\r\n                }\r\n                value -= propsState.step\r\n                value = utils.checkValue(value)\r\n                model.value = value\r\n                emit.input(model.value)\r\n            },\r\n            clearInterval: () => {              // 清除定时器\r\n                if (state.interval != null) {\r\n                    clearInterval(state.interval)\r\n                }\r\n                window.removeEventListener('mouseup', methods.clearInterval)\r\n            }\r\n        }\r\n\r\n        /*---------------------------------------handler-------------------------------------------*/\r\n\r\n        const handler = {\r\n            focus: (e) => {\r\n                state.isFocus = true\r\n                emit.focus(e)\r\n            },\r\n            blur: (e) => {\r\n                model.value = utils.checkValue(utils.getEffectiveValue())\r\n                emit.input(model.value)\r\n                state.isFocus = false\r\n                emit.blur(e)\r\n            },\r\n            input: (e: HTMLInputEvent) => {\r\n                model.value = e.target.value\r\n            },\r\n            enter: (e: KeyboardEvent) => {\r\n                model.value = utils.checkValue(utils.getEffectiveValue())\r\n                emit.input(model.value)\r\n                emit.enter(e)\r\n            },\r\n            intervalAdd: () => {\r\n                methods.add()\r\n                state.interval = setInterval(methods.add, 100)\r\n                window.addEventListener('mouseup', methods.clearInterval)\r\n            },\r\n            intervalMinus: () => {\r\n                methods.minus()\r\n                state.interval = setInterval(() => methods.minus(), 100)\r\n                window.addEventListener('mouseup', methods.clearInterval)\r\n            },\r\n            clearHandler: () => {\r\n                model.value = null\r\n                emit.input(model.value)\r\n            },\r\n            keydown: (e: KeyboardEvent) => {\r\n\r\n                const key = getKey(e)\r\n\r\n                switch (key) {\r\n                    case KEY.up:\r\n                        e.preventDefault()\r\n                        e.stopPropagation()\r\n                        methods.add()\r\n                        break\r\n                    case KEY.down:\r\n                        e.preventDefault()\r\n                        e.stopPropagation()\r\n                        methods.minus()\r\n                        break\r\n                    case KEY.enter:\r\n                        handler.enter(e)\r\n                        break\r\n                }\r\n            },\r\n        }\r\n\r\n        return () => (\r\n            <pl-input class={classes.value}\r\n                      isFocus={state.isFocus}\r\n                      inputInnerTabindex={null}\r\n                      {...{props: props.inputProps}}\r\n            >\r\n                {!props.hideButton && (\r\n                    <div class=\"pl-number-prepend-button plain-click-node\" onMousedown={handler.intervalMinus} {...{directives: [{name: 'click-wave'}]}}>\r\n                        <pl-icon icon=\"el-icon-minus\"/>\r\n                    </div>\r\n                )}\r\n                <input type=\"text\"\r\n                       value={model.value}\r\n                       disabled={editComputed.value.disabled}\r\n                       readonly={editComputed.value.readonly}\r\n                       onFocus={handler.focus}\r\n                       onBlur={handler.blur}\r\n                       onInput={handler.input}\r\n                       onKeydown={handler.keydown}/>\r\n                {!props.hideButton && (\r\n                    <div class=\"pl-number-append-button plain-click-node\" onMousedown={handler.intervalAdd} {...{directives: [{name: 'click-wave'}]}}>\r\n                        <pl-icon icon=\"el-icon-plus\"/>\r\n                    </div>\r\n                )}\r\n            </pl-input>\r\n        )\r\n    },\r\n})","import './number.scss'\r\nimport number from './number'\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    number,\r\n])","import {computed, defineComponent, reactive} from \"@vue/composition-api\";\r\nimport {StyleProps, useStyle} from \"@/use/useStyle\";\r\nimport {EditProps, useEdit} from \"@/use/useEdit\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {useModel} from \"@/use/useModel\";\r\n\r\nimport {getKey, KEY} from \"@/packages/keyboard\";\r\nimport ClickWave from \"@/directives/click-wave\";\r\nimport {DEFAULT_STATUS} from \"@/packages/base\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-toggle',\r\n    directives: {ClickWave},\r\n    props: {\r\n        ...EditProps,\r\n        ...StyleProps,\r\n\r\n        value: {},                                                              // 双向绑定值\r\n        trueValue: {default: true},                                             // 选中时绑定的值\r\n        falseValue: {default: false},                                           // 未选中时绑定的值\r\n    },\r\n    setup(props, context) {\r\n\r\n        const {emit} = useEvent({\r\n            input: EmitFunc,\r\n            mouseup: EmitFunc,\r\n            mousedown: EmitFunc,\r\n            click: EmitFunc,\r\n            focus: EmitFunc,\r\n            blur: EmitFunc,\r\n        })\r\n\r\n        /*---------------------------------------state-------------------------------------------*/\r\n\r\n        const {editComputed} = useEdit()\r\n        const {styleComputed} = useStyle({status: DEFAULT_STATUS})\r\n\r\n        const model = useModel(() => props.value, emit.input)\r\n\r\n        const state = reactive({\r\n            isActive: false,\r\n        })\r\n\r\n        /*---------------------------------------computer-------------------------------------------*/\r\n\r\n        const isChecked = computed(() => model.value === props.trueValue)\r\n\r\n        const classes = computed(() => ([\r\n            `pl-toggle`,\r\n            `plain-click-node`,\r\n            `pl-toggle-status-${styleComputed.value.status}`,\r\n            `pl-toggle-size-${styleComputed.value.size}`,\r\n            {\r\n                'pl-toggle-on': !!isChecked.value,\r\n                'pl-toggle-active': !!state.isActive,\r\n                'pl-toggle-disabled': editComputed.value.disabled,\r\n            },\r\n        ]))\r\n\r\n        /*---------------------------------------handler-------------------------------------------*/\r\n\r\n        const handler = {\r\n            mousedown: (e: MouseEvent) => {\r\n                state.isActive = true\r\n                window.addEventListener('mouseup', handler.mouseup)\r\n                emit.mousedown(e)\r\n            },\r\n            mouseup: (e: MouseEvent) => {\r\n                state.isActive = false\r\n                window.removeEventListener('mouseup', handler.mouseup)\r\n                emit.mouseup(e)\r\n            },\r\n            click: (e: MouseEvent) => {\r\n                if (!editComputed.value.editable) {\r\n                    return\r\n                }\r\n                model.value = isChecked.value ? props.falseValue : props.trueValue\r\n                emit.click(e)\r\n            },\r\n            keydown: (e: KeyboardEvent) => {\r\n                const key = getKey(e)\r\n                if (key === KEY.space || key === KEY.enter) {\r\n                    e.preventDefault()\r\n                    e.stopPropagation()\r\n                    handler.click(e as any)\r\n                }\r\n            },\r\n            focus: emit.focus,\r\n            blur: emit.blur,\r\n        }\r\n\r\n        return () => (\r\n            <div class={classes.value}\r\n                 tabindex={0}\r\n                 onMousedown={handler.mousedown}\r\n                 onClick={handler.click}\r\n                 onkeydown={handler.keydown}\r\n                 onFocus={handler.focus}\r\n                 onBlur={handler.blur}\r\n                 {...{directives: [{name: 'click-wave', value: 'large'}]}}\r\n            >\r\n                <div class=\"pl-toggle-inner\"/>\r\n            </div>\r\n        )\r\n    },\r\n})","import './toggle.scss'\r\nimport toggle from './toggle'\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    toggle,\r\n])","import {computed, onBeforeUnmount, onMounted, reactive} from \"@vue/composition-api\";\r\nimport {useWrapper} from \"@/use/useWrapper\";\r\n\r\nexport const useMounted = useWrapper('mounted', () => {\r\n    const state = reactive({\r\n        val: false,\r\n    })\r\n    const flag = computed(() => state.val)\r\n    onMounted(() => state.val = true)\r\n    onBeforeUnmount(() => state.val = false)\r\n    return flag\r\n})","import {computed, defineComponent, reactive} from \"@vue/composition-api\";\r\nimport {StyleProps, useStyle} from \"@/use/useStyle\";\r\nimport {EditProps, useEdit} from \"@/use/useEdit\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {useModel} from \"@/use/useModel\";\r\nimport {ElRef, useRefs} from \"@/use/useRefs\";\r\n\r\nimport {$plain, DEFAULT_STATUS} from \"@/packages/base\";\r\nimport {useMounted} from \"@/use/useMounted\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-slider',\r\n    props: {\r\n        ...EditProps,\r\n        ...StyleProps,\r\n\r\n        value: {type: Number, default: 0},                          //非范围选择时，双向绑定值\r\n        start: {type: Number, default: 0},                          //范围选择时，起始绑定值\r\n        end: {type: Number, default: 0},                            //范围选择时，末尾绑定值\r\n        total: {type: Number, default: 100},                        //总数，value,start以及end不应该超过total\r\n        alignEnd: {type: Boolean},                                  //是否末尾对其\r\n        full: {type: Boolean},                                      //是否占满父元素大小\r\n        length: {type: [Number, String], default: '156px'},         //滑动条长度\r\n        size: {type: [Number, String], default: '6px'},             //滑动条宽度\r\n        vertical: {type: Boolean},                                  //是否纵向\r\n        step: {type: Number, default: 1},                           //滑条分块的个数，默认是不分块\r\n        min: {type: Number},                                        //最小值\r\n        max: {type: Number},                                        //最大值\r\n\r\n        showSteps: {type: Boolean, default: true},                  //是否显示步骤点\r\n        tooltip: {type: Boolean, default: true},                    //是否tooltip显示值\r\n        tooltipFormatter: Function,                                 //tooltip显示格式化函数\r\n        range: {type: Boolean},                                     //是否为范围选择\r\n    },\r\n    setup(props, context) {\r\n\r\n        /*---------------------------------------refs-------------------------------------------*/\r\n\r\n        const refs = useRefs()\r\n\r\n        /*---------------------------------------emitter-------------------------------------------*/\r\n\r\n        const {emit} = useEvent({\r\n            input: EmitFunc,\r\n            updateStart: EmitFunc,\r\n            updateEnd: EmitFunc,\r\n        })\r\n\r\n        /*---------------------------------------state-------------------------------------------*/\r\n\r\n        const {editComputed} = useEdit()\r\n        const {styleComputed} = useStyle({status: DEFAULT_STATUS})\r\n\r\n        const model = useModel(() => props.value, emit.input)\r\n        const start = useModel(() => props.start, emit.updateStart)\r\n        const end = useModel(() => props.end, emit.updateEnd)\r\n\r\n        const isMounted = useMounted()\r\n\r\n        const state = reactive({\r\n            dragStart: null as null | boolean,\r\n            touching: false,\r\n            temp_start: null as null | number,\r\n            temp_end: null as null | number,\r\n            startX: null as null | number,\r\n            startY: null as null | number,\r\n            totalLength: null as null | number,\r\n            position: {\r\n                'vertical-start': 'bottom',\r\n                'vertical-end': 'top',\r\n                'horizontal-start': 'right',\r\n                'horizontal-end': 'left',\r\n            },\r\n        })\r\n\r\n        /*---------------------------------------utils-------------------------------------------*/\r\n\r\n        const utils = {\r\n            transferValueToLength(value) {\r\n                return totalLength.value * value / props.total\r\n            },\r\n            transferLengthToValue(length) {\r\n                return props.total * length / totalLength.value\r\n            },\r\n            setValue(val) {\r\n                model.value = val\r\n            },\r\n            setStart(val) {\r\n                start.value = val\r\n            },\r\n            setEnd(val) {\r\n                end.value = val\r\n            },\r\n        }\r\n\r\n        /*---------------------------------------computer-------------------------------------------*/\r\n\r\n        const styles = computed(() => ({\r\n            [props.vertical ? 'height' : 'width']: !!props.full ? '100%' : $plain.utils.unit(props.length),\r\n            [props.vertical ? 'width' : 'height']: $plain.utils.unit(props.size),\r\n        }))\r\n\r\n        const classes = computed(() => ([\r\n            'pl-slider',\r\n            {\r\n                'pl-slider-full': !!props.full,\r\n                'pl-slider-touching': state.touching,\r\n                'pl-slider-range': props.range,\r\n                'pl-slider-place-end': start.value === end.value && start.value === props.total\r\n            },\r\n            `pl-slider-${!!props.vertical ? 'vertical' : 'horizontal'}`,\r\n            `pl-slider-align-${!!props.alignEnd ? 'end' : 'start'}`,\r\n            `pl-slider-status-${!!editComputed.value.disabled ? 'info' : (styleComputed.value.status)}`,\r\n        ]))\r\n\r\n        const totalLength = computed(() => {\r\n            if (!isMounted.value) return 0\r\n            if (state.totalLength == null) state.totalLength = refs.$el[!!props.vertical ? 'offsetHeight' : 'offsetWidth']\r\n            return state.totalLength\r\n        })\r\n\r\n        const c_start = computed(() => {\r\n            return !!props.range ? utils.transferValueToLength(start.value) : props.alignEnd ? (totalLength.value - utils.transferValueToLength(model.value)) : 0\r\n        })\r\n\r\n        const c_end = computed(() => {\r\n            return !!props.range ? totalLength.value - utils.transferValueToLength(end.value) : props.alignEnd ? 0 : (totalLength.value - utils.transferValueToLength(model.value))\r\n        })\r\n\r\n        const progressStyles = computed(() => {\r\n            const ret = {}\r\n            ret[props.vertical ? 'top' : 'left'] = `${c_start.value}px`\r\n            ret[props.vertical ? 'bottom' : 'right'] = `${c_end.value}px`\r\n            return ret\r\n        })\r\n\r\n        const startTooltip = computed(() => {\r\n            let ret = !!props.range ? start.value : model.value\r\n            return !!props.tooltipFormatter ? props.tooltipFormatter(ret) : ret\r\n        })\r\n\r\n        const endTooltip = computed(() => {\r\n            let ret = !!props.range ? end.value : model.value\r\n            return !!props.tooltipFormatter ? props.tooltipFormatter(ret) : ret\r\n        })\r\n\r\n        const steps = computed(() => {\r\n            const ret: number[] = []\r\n            let i = 0\r\n            while (i < props.step - 1) {\r\n                ret.push(i)\r\n                i++\r\n            }\r\n            return ret\r\n        })\r\n\r\n        const stepItemStyles = computed(() => {\r\n            return {\r\n                ['height']: $plain.utils.unit($plain.utils.removePx(props.size) as any / 2),\r\n                ['width']: $plain.utils.unit($plain.utils.removePx(props.size) as any / 2),\r\n            }\r\n        })\r\n\r\n        const handler = {\r\n            dragstart: (e: DragEvent, dragStart: boolean) => {\r\n                if ((!!props.alignEnd !== dragStart && !props.range) || !editComputed.value.editable) return\r\n                document.addEventListener('mousemove', handler.mousemove)\r\n                document.addEventListener('mouseup', handler.mouseup)\r\n                state.dragStart = dragStart\r\n                state.touching = true\r\n                state.startX = e.clientX\r\n                state.startY = e.clientY\r\n                state.temp_start = c_start.value\r\n                state.temp_end = c_end.value\r\n                $plain.disableSelect\r\n            },\r\n            mousemove: (e: MouseEvent) => {\r\n                if (!state.touching) return\r\n                const durX = e.clientX - state.startX!\r\n                const durY = e.clientY - state.startY!\r\n                let temp = !!state.dragStart ? state.temp_start : state.temp_end\r\n                let dur = (!!props.vertical ? durY : durX) * (!!state.dragStart ? 1 : -1)\r\n                let ret = Math.min(Math.max(temp! + dur, 0), totalLength.value)\r\n\r\n                if (props.step > 1) {\r\n                    const stepLength = totalLength.value / props.step\r\n                    const divisor = Number((ret / stepLength).toFixed(0)) + 1\r\n                    if (ret > stepLength * divisor) ret = stepLength * divisor\r\n                    else ret = stepLength * (divisor - 1)\r\n                }\r\n\r\n                if (!!state.dragStart) {\r\n                    start.value = utils.transferLengthToValue(ret)\r\n                } else {\r\n                    end.value = utils.transferLengthToValue(ret)\r\n                }\r\n\r\n                if (!props.range) {\r\n                    ret = Number(utils.transferLengthToValue(totalLength.value - ret).toFixed(2))\r\n                    props.max != null && ret > props.max && (ret = props.max)\r\n                    props.min != null && ret < props.min && (ret = props.min)\r\n                    utils.setValue(ret)\r\n                } else {\r\n                    ret = Number(utils.transferLengthToValue(state.dragStart ? ret : totalLength.value - ret).toFixed(2))\r\n                    props.max != null && ret > props.max && (ret = props.max)\r\n                    props.min != null && ret < props.min && (ret = props.min)\r\n                    if (!!state.dragStart) {\r\n                        if (ret > end.value) ret = end.value\r\n                    } else {\r\n                        if (ret < start.value) ret = start.value\r\n                    }\r\n                    state.dragStart ? utils.setStart(ret) : utils.setEnd(ret)\r\n                }\r\n            },\r\n            mouseup: (e: MouseEvent) => {\r\n                if (!state.touching) return\r\n                state.touching = false\r\n                document.removeEventListener('mousemove', handler.mousemove)\r\n                document.removeEventListener('mouseup', handler.mouseup)\r\n                $plain.enableSelect\r\n            }\r\n        }\r\n\r\n        return () => (\r\n            <div class={classes.value} style={styles.value} ref={'el'}>\r\n                {\r\n                    props.showSteps && props.step > 1 && (\r\n                        <div class=\"pl-slider-step\">\r\n                            {\r\n                                steps.value.map((item) => (\r\n                                    <span class=\"pl-slider-step-item-wrapper\" key={item}>\r\n                                        <div class=\"pl-slider-step-item\" style={stepItemStyles.value}></div>\r\n                                    </span>\r\n                                ))\r\n                            }\r\n                        </div>\r\n                    )\r\n                }\r\n                <div class=\"pl-slider-progress\" style={progressStyles.value}>\r\n                <span class=\"pl-slider-dot-wrapper pl-slider-dot-wrapper-start\" onMousedown={e => handler.dragstart(e, true)}><span class=\"pl-slider-dot\"><span class=\"pl-slider-dot-inner\">\r\n                    {!!props.tooltip && <span class=\"pl-slider-dot-tooltip\">{startTooltip.value}</span>}\r\n                </span></span></span>\r\n                    <span class=\"pl-slider-dot-wrapper pl-slider-dot-wrapper-end\" onMousedown={e => handler.dragstart(e, false)}><span class=\"pl-slider-dot\"><span class=\"pl-slider-dot-inner\">\r\n                    {!!props.tooltip && <span class=\"pl-slider-dot-tooltip\">{endTooltip.value}</span>}\r\n                </span></span></span>\r\n                </div>\r\n            </div>\r\n        )\r\n    },\r\n})","import './slider.scss'\r\nimport slider from './slider'\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    slider,\r\n])","import {computed, defineComponent} from \"@vue/composition-api\";\r\nimport {StyleProps, useStyle} from \"@/use/useStyle\";\r\nimport {EditProps, useEdit} from \"@/use/useEdit\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {SlotFunc, useSlots} from \"@/use/useSlots\";\r\nimport {DEFAULT_STATUS} from \"@/packages/base\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-tag',\r\n    props: {\r\n        ...EditProps,\r\n        ...StyleProps,\r\n        mode: {type: String, default: 'stroke'},\r\n        label: {type: String},\r\n        close: {type: Boolean},\r\n    },\r\n    setup(props) {\r\n\r\n        const {slots} = useSlots()\r\n\r\n        const {emit} = useEvent({\r\n            click: EmitFunc,\r\n            close: EmitFunc,\r\n        })\r\n\r\n        const {editComputed} = useEdit()\r\n        const {styleComputed} = useStyle({status: DEFAULT_STATUS})\r\n\r\n        const classes = computed(() => ([\r\n            `pl-tag`,\r\n            `pl-tag-mode-${props.mode}`,\r\n            `pl-tag-status-${styleComputed.value.status}`,\r\n            `pl-tag-shape-${styleComputed.value.shape}`,\r\n            `pl-tag-size-${styleComputed.value.size}`,\r\n            {\r\n                'pl-tag-disabled': !!editComputed.value.disabled,\r\n            },\r\n        ]))\r\n\r\n        const handler = {\r\n            click: (e: MouseEvent) => {\r\n                if (!editComputed.value.editable) {\r\n                    return\r\n                }\r\n                emit.click(e)\r\n            },\r\n            clickClose: (e: MouseEvent) => {\r\n                e.stopPropagation()\r\n                if (!editComputed.value.editable) {\r\n                    return\r\n                }\r\n                emit.close(e)\r\n            }\r\n        }\r\n\r\n        return () => (\r\n            <div class={classes.value} onClick={handler.click}>\r\n                {slots.default(props.label)}\r\n                {!!props.close && <pl-icon icon=\"el-icon-close\" class=\"pl-tag-close\" onClick={handler.clickClose}/>}\r\n            </div>\r\n        )\r\n    },\r\n})","import {computed, defineComponent, onBeforeUnmount, reactive} from \"@vue/composition-api\";\r\nimport {StyleProps, useStyle} from \"@/use/useStyle\";\r\nimport {EditProps, useEdit} from \"@/use/useEdit\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {useModel} from \"@/use/useModel\";\r\nimport {CompRef, useRefs} from \"@/use/useRefs\";\r\n\r\nimport {$plain} from \"@/packages/base\";\r\nimport {getKey, KEY} from \"@/packages/keyboard\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-tag-input',\r\n    props: {\r\n        ...EditProps,\r\n        ...StyleProps,\r\n\r\n        value: {type: Array},                                                           // 数组，双向绑定值\r\n        close: {type: Boolean, default: true},                                          // 是否可删除\r\n        beforeAdd: Function,                                                    // 添加前校验\r\n        beforeRemove: Function,                                                 // 删除前校验\r\n        formatValue: Function,                                                  // 格式化输入值，返回一个值，或者对象\r\n        noInput: Function,                                                      // 是否显示输入框\r\n    },\r\n    setup(props, context) {\r\n\r\n        const refs = useRefs({\r\n            input: CompRef,\r\n        })\r\n\r\n        const {emit} = useEvent({\r\n            input: EmitFunc,\r\n        })\r\n\r\n        const model = useModel(() => props.value, emit.input)\r\n\r\n        const state = reactive({\r\n            isEditing: false,\r\n            inputValue: null as string | null,\r\n        })\r\n        const {editComputed} = useEdit()\r\n        const {styleComputed} = useStyle()\r\n\r\n        const classes = computed(() => ([\r\n            'pl-tag-input',\r\n            `pl-tag-input-status-${styleComputed.value.status}`,\r\n            {\r\n                'pl-tag-input-disabled': editComputed.value.disabled,\r\n            },\r\n        ]))\r\n\r\n\r\n        onBeforeUnmount(() => {\r\n            window.removeEventListener('click', handler.clickWindow, true)\r\n        })\r\n\r\n        const handler = {\r\n            clickWindow: (e: MouseEvent) => {\r\n                if (!refs.input.$refs.input.contains(e.target as Node)) {\r\n                    state.isEditing = false\r\n                    window.removeEventListener('click', handler.clickWindow, true)\r\n                }\r\n            },\r\n            clickEditButton: async () => {\r\n                if (!editComputed.value.editable) {\r\n                    return\r\n                }\r\n                state.isEditing = true\r\n                await $plain.nextTick()\r\n                refs.input.methods.focus()\r\n\r\n                // 点击其他元素的时候关闭输入状态\r\n                await $plain.utils.delay(0)\r\n                window.addEventListener('click', handler.clickWindow, true)\r\n            },\r\n            inputEnter: async () => {\r\n                if (!editComputed.value.editable) {\r\n                    return\r\n                }\r\n\r\n                let inputValue = state.inputValue\r\n\r\n                if (inputValue != '0' && !inputValue) {\r\n                    return\r\n                }\r\n\r\n                if (!!props.beforeAdd) {\r\n                    await props.beforeAdd(inputValue)\r\n                }\r\n                if (!!props.formatValue) {\r\n                    inputValue = await props.formatValue(inputValue)\r\n                }\r\n\r\n                let value = [...(model.value || [])]\r\n                value.push(inputValue)\r\n                model.value = value\r\n                state.inputValue = null\r\n            },\r\n            tagClose: async (item, index) => {\r\n                if (!editComputed.value.editable) {\r\n                    return\r\n                }\r\n                if (!!props.beforeRemove) {\r\n                    await props.beforeRemove(item, index)\r\n                }\r\n\r\n                model.value!.splice(index, 1)\r\n                model.value = [...model.value!]\r\n            },\r\n            input: (val) => {\r\n                state.inputValue = val\r\n            },\r\n            keydown: (e: KeyboardEvent) => {\r\n                if (getKey(e) === KEY.enter) {\r\n                    handler.inputEnter()\r\n                }\r\n            }\r\n        }\r\n\r\n        return () => (\r\n            <div class={classes.value}>\r\n                {\r\n                    (model.value || []).map((item, index) => (\r\n                        !!context.slots.default ? context.slots.default({item, index}) : (\r\n                            <pl-tag key={index} label={item} close={editComputed.value.editable && props.close} onClose={() => handler.tagClose(item, index)}/>\r\n                        )\r\n                    ))\r\n                }\r\n                {!props.noInput && (\r\n                    <pl-input value={state.inputValue}\r\n                              onInput={handler.input}\r\n                              ref=\"input\"\r\n                              key={state.isEditing ? 1 : 2}\r\n                              onKeydown={handler.keydown}>\r\n                        {!state.isEditing ? (\r\n                            <div class=\"pl-tag-input-not-edit\"\r\n                                 onClick={handler.clickEditButton}>\r\n                                <pl-icon icon=\"el-icon-plus\"/>\r\n                                <span>添加</span>\r\n                            </div>\r\n                        ) : null}\r\n                    </pl-input>\r\n                )}\r\n            </div>\r\n        )\r\n    },\r\n})","import './tag.scss'\r\nimport tag from './tag'\r\nimport input from './tag-input'\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    tag,\r\n    input,\r\n])","import {computed, defineComponent, reactive} from \"@vue/composition-api\";\r\nimport {StyleProps, useStyle} from \"@/use/useStyle\";\r\nimport {EditProps, useEdit} from \"@/use/useEdit\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {useModel} from \"@/use/useModel\";\r\nimport {ElRef, useRefs} from \"@/use/useRefs\";\r\n\r\nimport {$plain, DEFAULT_STATUS} from \"@/packages/base\";\r\nimport {useMounted} from \"@/use/useMounted\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-rate',\r\n    props: {\r\n        ...EditProps,\r\n        ...StyleProps,\r\n\r\n        value: {type: Number, default: 0},                              //vModel双向绑定值\r\n        total: {type: Number, default: 5},                              //总分\r\n        count: {type: Number, default: 5},                              //显示图标的个数\r\n        mode: {type: String, default: 'normal'},                        //模式，normal，all整个图标为单位，half：半个图标为单位\r\n        status: {type: String,},                                        //标准颜色\r\n        activeIcon: {type: String},                                     //激活的时候的图标\r\n        inactiveIcon: {type: String},                                   //未激活的时候的图标\r\n    },\r\n    setup(props, context) {\r\n\r\n        const refs = useRefs()\r\n\r\n        const {emit} = useEvent({\r\n            input: EmitFunc,\r\n        })\r\n\r\n        /*---------------------------------------state-------------------------------------------*/\r\n\r\n        const model = useModel(() => props.value, emit.input)\r\n\r\n        const state = reactive({\r\n            totalWidth: null as null | number,\r\n            elLeft: null as null | number,\r\n        })\r\n\r\n        const {editComputed} = useEdit()\r\n        const {styleComputed} = useStyle({status: DEFAULT_STATUS})\r\n\r\n        const mounted = useMounted()\r\n\r\n        /*---------------------------------------computer-------------------------------------------*/\r\n\r\n        const classes = computed(() => ([\r\n            `pl-rate`,\r\n            `pl-rate-status-${styleComputed.value.status}`,\r\n            `pl-rate-size-${styleComputed.value.size}`,\r\n            {\r\n                'pl-rate-disabled': editComputed.value.disabled,\r\n            },\r\n        ]))\r\n\r\n        const data = computed(() => {\r\n            let i = 0\r\n            let ret: number[] = []\r\n            while (i < props.count) {\r\n                ret.push(i)\r\n                i++\r\n            }\r\n            return ret\r\n        })\r\n\r\n        const activeStyles = computed(() => ({\r\n            width: (model.value / props.total) * 100 + '%'\r\n        }))\r\n\r\n        const totalWidth = computed(() => {\r\n            if (!mounted.value) return 0\r\n            if (!state.totalWidth) state.totalWidth = refs.$el.offsetWidth\r\n            return state.totalWidth\r\n        })\r\n\r\n        const elLeft = computed(() => {\r\n            if (!state.elLeft) state.elLeft = refs.$el.getBoundingClientRect().left\r\n            return state.elLeft\r\n        })\r\n\r\n        /*---------------------------------------methods-------------------------------------------*/\r\n\r\n\r\n        const methods = {\r\n            reset: (e: MouseEvent) => {\r\n                let dur = e.clientX - elLeft.value\r\n                let start = 0\r\n                let end = totalWidth.value\r\n                let step = end / props.count\r\n                switch (props.mode) {\r\n                    case 'all':\r\n                        for (; start < end; start += step) {\r\n                            if (start < dur && dur < start + step) {\r\n                                dur = start + step\r\n                                break\r\n                            }\r\n                        }\r\n                        break\r\n                    case 'half':\r\n                        for (; start < end; start += step) {\r\n                            let half = (start + start + step) / 2\r\n                            if (start < dur && dur < half) {\r\n                                dur = half\r\n                                break\r\n                            }\r\n                            if (half < dur && dur < start + step) {\r\n                                dur = start + step\r\n                                break\r\n                            }\r\n                        }\r\n                        break\r\n                }\r\n\r\n                model.value = Number((Math.max(0, Math.min((dur) / totalWidth.value, 1)) * props.total).toFixed(2))\r\n            },\r\n        }\r\n\r\n        /*---------------------------------------handler-------------------------------------------*/\r\n\r\n        const handler = {\r\n            mousedown: (e: MouseEvent) => {\r\n                if (!editComputed.value.editable) return\r\n                window.document.addEventListener('mousemove', handler.mousemove)\r\n                window.document.addEventListener('mouseup', handler.mouseup)\r\n                $plain.disableSelect\r\n                methods.reset(e)\r\n            },\r\n            mousemove: (e: MouseEvent) => {\r\n                methods.reset(e)\r\n            },\r\n            mouseup: (e: MouseEvent) => {\r\n                window.document.removeEventListener('mousemove', handler.mousemove)\r\n                window.document.removeEventListener('mouseup', handler.mouseup)\r\n                $plain.enableSelect\r\n            }\r\n        }\r\n\r\n        return () => (\r\n            <div class={classes.value} onMousedown={handler.mousedown} ref=\"el\">\r\n                <div class=\"pl-rate-active\" style={activeStyles.value}>\r\n                    {data.value.map(i => <pl-icon icon={props.activeIcon || 'el-icon-star-on'} key={i}/>)}\r\n                </div>\r\n                <div class=\"pl-rate-inactive\">\r\n                    {data.value.map(i => <pl-icon icon={props.inactiveIcon || 'el-icon-star-off'} key={i}/>)}\r\n                </div>\r\n            </div>\r\n        )\r\n    },\r\n})","import './rate.scss'\r\nimport rate from './rate'\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    rate,\r\n])","import {ResizeDetectFunc, ResizeDetectFuncParam} from \"@/types/utils\";\r\n\r\nexport default class ResizeDetector {\r\n\r\n    observer?: MutationObserver\r\n    width?: number\r\n    height?: number\r\n\r\n    constructor(public el: HTMLElement, public callback: ResizeDetectFunc) {\r\n\r\n        if (!el) {\r\n            console.error(`el is ${typeof el}`)\r\n            return\r\n        }\r\n\r\n        this.observer = new MutationObserver(this.detect)\r\n\r\n        this.observer.observe(el, {\r\n            childList: true,\r\n            subtree: true\r\n        })\r\n\r\n        // const {width, height} = el.getBoundingClientRect()\r\n        const {scrollHeight: height, scrollWidth: width} = el\r\n        this.width = width\r\n        this.height = height\r\n        this.runCallback({\r\n            width,\r\n            height,\r\n            el\r\n        })\r\n    }\r\n\r\n    detect = () => {\r\n        // const {width, height} = this.el.getBoundingClientRect()\r\n        const {scrollHeight: height, scrollWidth: width} = this.el\r\n        if (width === this.width && height === this.height) return\r\n        const ret = {} as ResizeDetectFuncParam\r\n        if (width !== this.width) {\r\n            ret.width = width\r\n            ret.oldWidth = this.width\r\n            this.width = width\r\n        }\r\n        if (height !== this.height) {\r\n            ret.height = height\r\n            ret.oldHeight = this.height\r\n            this.height = height\r\n        }\r\n        this.runCallback(ret)\r\n    }\r\n\r\n    runCallback(data: ResizeDetectFuncParam) {\r\n        Object.keys(data).forEach(key => {\r\n            if (data[key] != null && typeof data[key] === 'number') data[key] = Math.ceil(data[key])\r\n        })\r\n        this.callback(data)\r\n    }\r\n\r\n    destroy() {\r\n        if (!!this.observer) {\r\n            this.observer.disconnect();\r\n            this.observer = undefined\r\n        }\r\n    }\r\n}\r\n\r\nexport const ResizeDetectorDirective = {\r\n    inserted(el: any, binding: any, vnode: any) {\r\n        el.__resizedetextor__ = new ResizeDetector(el, (data) => binding.value(data))\r\n    },\r\n    unbind(el: any) {\r\n        (el.__resizedetextor__ as ResizeDetector).destroy()\r\n        delete el.__resizedetextor__\r\n    },\r\n}\r\n\r\n","import {PopperTrigger, PopperTriggerType} from \"@/packages/popper/PopperTrigger\";\r\n\r\nexport function getBaseTrigger(\r\n    triggerName: PopperTriggerType,\r\n    {\r\n        model,\r\n        openModel,\r\n\r\n        show,\r\n        hide,\r\n\r\n        hoverOpenDelay,\r\n        hoverCloseDelay,\r\n        reference,\r\n\r\n        on,\r\n        off,\r\n        emit,\r\n    }: {\r\n        model: { value: boolean | undefined },\r\n        openModel: { value: boolean | undefined },\r\n\r\n        show: Function,\r\n        hide: Function,\r\n\r\n        hoverOpenDelay: number,\r\n        hoverCloseDelay: number,\r\n        reference: HTMLElement,\r\n\r\n        on: {\r\n            enterReference: Function,\r\n            leaveReference: Function,\r\n\r\n            enterPopper: Function,\r\n            leavePopper: Function,\r\n\r\n            referenceFocus: Function,\r\n            referenceBlur: Function,\r\n\r\n            clickReference: Function,\r\n            clickBody: Function,\r\n            clickPopper: Function,\r\n        },\r\n        off: {\r\n            enterReference: Function,\r\n            leaveReference: Function,\r\n\r\n            enterPopper: Function,\r\n            leavePopper: Function,\r\n\r\n            referenceFocus: Function,\r\n            referenceBlur: Function,\r\n\r\n            clickReference: Function,\r\n            clickBody: Function,\r\n            clickPopper: Function,\r\n        },\r\n        emit: {\r\n            referenceFocus: Function,\r\n            referenceBlur: Function,\r\n\r\n            enterReference: Function,\r\n            leaveReference: Function,\r\n\r\n            enterPopper: Function,\r\n            leavePopper: Function,\r\n        },\r\n    },\r\n) {\r\n    switch (triggerName) {\r\n        case PopperTriggerType.hover:\r\n            return getHoverTrigger({\r\n                model,\r\n                show,\r\n                hide,\r\n                hoverOpenDelay,\r\n                hoverCloseDelay,\r\n                on,\r\n                off,\r\n                emit,\r\n            })\r\n        case PopperTriggerType.click:\r\n            return getClickTrigger({\r\n                model,\r\n                show,\r\n                hide,\r\n                openModel,\r\n                on,\r\n                off,\r\n            })\r\n        case PopperTriggerType.focus:\r\n            return getFocusTrigger({\r\n                show,\r\n                hide,\r\n                reference,\r\n                on,\r\n                off,\r\n                emit,\r\n            })\r\n        case PopperTriggerType.manual:\r\n            return getManualTrigger()\r\n    }\r\n}\r\n\r\nfunction getHoverTrigger({\r\n                             model,\r\n                             show,\r\n                             hide,\r\n                             hoverOpenDelay,\r\n                             hoverCloseDelay,\r\n\r\n                             on,\r\n                             off,\r\n                             emit,\r\n                         }: {\r\n    model: { value: boolean | undefined },\r\n    show: Function,\r\n    hide: Function,\r\n    hoverOpenDelay: number,\r\n    hoverCloseDelay: number,\r\n\r\n    on: {\r\n        enterReference: Function,\r\n        leaveReference: Function,\r\n\r\n        enterPopper: Function,\r\n        leavePopper: Function,\r\n\r\n        referenceFocus: Function,\r\n        referenceBlur: Function,\r\n\r\n        clickReference: Function,\r\n        clickPopper: Function,\r\n    },\r\n    off: {\r\n        enterReference: Function,\r\n        leaveReference: Function,\r\n\r\n        enterPopper: Function,\r\n        leavePopper: Function,\r\n\r\n        referenceFocus: Function,\r\n        referenceBlur: Function,\r\n\r\n        clickReference: Function,\r\n        clickPopper: Function,\r\n    },\r\n    emit: {\r\n        referenceFocus: Function,\r\n        referenceBlur: Function,\r\n\r\n        enterReference: Function,\r\n        leaveReference: Function,\r\n\r\n        enterPopper: Function,\r\n        leavePopper: Function,\r\n    },\r\n}) {\r\n    let closeTimer: number | undefined;\r\n    let openTimer: number | undefined;\r\n\r\n    const handler = {\r\n        reference: {\r\n            enter: () => {\r\n                if (!!closeTimer) {\r\n                    clearTimeout(closeTimer)\r\n                    closeTimer = undefined\r\n                }\r\n                openTimer = setTimeout(() => {\r\n                    show()\r\n                    openTimer = undefined\r\n                    emit.enterReference(model.value)\r\n                }, hoverOpenDelay)\r\n            },\r\n            leave: () => {\r\n                if (!!openTimer) {\r\n                    clearTimeout(openTimer)\r\n                    openTimer = undefined\r\n                }\r\n                closeTimer = setTimeout(() => {\r\n                    hide()\r\n                    closeTimer = undefined\r\n                    emit.leaveReference(model.value)\r\n                }, hoverCloseDelay)\r\n            },\r\n        },\r\n        popper: {\r\n            enter: () => {\r\n                if (!!closeTimer) {\r\n                    clearTimeout(closeTimer)\r\n                    closeTimer = undefined\r\n                }\r\n                openTimer = setTimeout(() => {\r\n                    show()\r\n                    openTimer = undefined\r\n                    emit.enterPopper(model.value)\r\n                }, hoverOpenDelay)\r\n            },\r\n            leave: () => {\r\n                if (!!openTimer) {\r\n                    clearTimeout(openTimer)\r\n                    openTimer = undefined\r\n                }\r\n                closeTimer = setTimeout(() => {\r\n                    hide()\r\n                    closeTimer = undefined\r\n                    emit.leavePopper(model.value)\r\n                }, hoverCloseDelay)\r\n            },\r\n        },\r\n    }\r\n\r\n    return new PopperTrigger(\r\n        PopperTriggerType.hover,\r\n        () => {\r\n            on.enterReference(handler.reference.enter)\r\n            on.leaveReference(handler.reference.leave)\r\n\r\n            on.enterPopper(handler.popper.enter)\r\n            on.leavePopper(handler.popper.leave)\r\n        },\r\n        () => {\r\n            off.enterReference(handler.reference.enter)\r\n            off.leaveReference(handler.reference.leave)\r\n\r\n            off.enterPopper(handler.popper.enter)\r\n            off.leavePopper(handler.popper.leave)\r\n        }\r\n    )\r\n}\r\n\r\nfunction getClickTrigger({\r\n                             model,\r\n                             show,\r\n                             hide,\r\n                             openModel,\r\n                             on,\r\n                             off,\r\n                         }: {\r\n    model: { value: boolean | undefined },\r\n    show: Function,\r\n    hide: Function,\r\n    openModel: { value: boolean | undefined },\r\n\r\n    on: {\r\n        clickReference: Function,\r\n        clickBody: Function,\r\n    },\r\n    off: {\r\n        clickReference: Function,\r\n        clickBody: Function,\r\n    },\r\n\r\n}) {\r\n\r\n    const handler = {\r\n        clickReference: () => {\r\n            if (model.value) {\r\n                hide()\r\n            } else {\r\n                show()\r\n            }\r\n        },\r\n        clickBody: () => {\r\n            if (openModel.value) {\r\n                hide()\r\n            }\r\n        },\r\n    }\r\n\r\n    return new PopperTrigger(\r\n        PopperTriggerType.click,\r\n        () => {\r\n            on.clickReference(handler.clickReference)\r\n            on.clickBody(handler.clickBody)\r\n        },\r\n        () => {\r\n            off.clickReference(handler.clickReference)\r\n            off.clickBody(handler.clickBody)\r\n        },\r\n    )\r\n}\r\n\r\nfunction getFocusTrigger(\r\n    {\r\n        show,\r\n        hide,\r\n        reference,\r\n        on,\r\n        off,\r\n        emit,\r\n    }: {\r\n        show: Function,\r\n        hide: Function,\r\n        reference: HTMLElement,\r\n\r\n        on: {\r\n            referenceFocus: Function,\r\n            referenceBlur: Function,\r\n        },\r\n        off: {\r\n            referenceFocus: Function,\r\n            referenceBlur: Function,\r\n        },\r\n        emit: {\r\n            referenceFocus: Function,\r\n            referenceBlur: Function,\r\n        },\r\n    }\r\n) {\r\n\r\n    let oldTabIndex;\r\n    const handler = {\r\n        focus: (e) => {\r\n            emit.referenceFocus(e)\r\n            show()\r\n        },\r\n        blur: (e) => {\r\n            emit.referenceBlur(e)\r\n            hide()\r\n        },\r\n    }\r\n\r\n    return new PopperTrigger(PopperTriggerType.focus,\r\n        () => {\r\n            oldTabIndex = reference.getAttribute('tabindex')\r\n            if (oldTabIndex == null) {\r\n                reference.setAttribute('tabindex', '0')\r\n            }\r\n            on.referenceFocus(handler.focus)\r\n            on.referenceBlur(handler.blur)\r\n        },\r\n        () => {\r\n            if (oldTabIndex == null) {\r\n                reference.removeAttribute('tabindex')\r\n            } else {\r\n                reference.setAttribute('tabindex', oldTabIndex)\r\n            }\r\n            off.referenceFocus(handler.focus)\r\n            off.referenceBlur(handler.blur)\r\n        },\r\n    )\r\n}\r\n\r\nfunction getManualTrigger() {\r\n    return new PopperTrigger(PopperTriggerType.manual,\r\n        () => {\r\n        },\r\n        () => {\r\n        },\r\n    )\r\n}","import {getBaseTrigger} from \"@/packages/popper/BaseTrigger\";\r\n\r\nexport class PopperTrigger {\r\n    data: any\r\n\r\n    constructor(\r\n        public name: PopperTriggerType,     // 触发器名称\r\n        public init: Function,              // 触发器初始化的时候执行函数\r\n        public destroy: Function            // 触发器销毁的时候执行函数\r\n    ) {\r\n    }\r\n}\r\n\r\nexport enum PopperTriggerType {\r\n    hover = 'hover',\r\n    click = 'click',\r\n    focus = 'focus',\r\n    manual = 'manual'\r\n}\r\n\r\nexport function getPopperTrigger(triggerName: PopperTriggerType, {\r\n    model,\r\n    openModel,\r\n\r\n    show,\r\n    hide,\r\n\r\n    hoverOpenDelay,\r\n    hoverCloseDelay,\r\n    reference,\r\n\r\n    on,\r\n    off,\r\n    emit,\r\n}: {\r\n    model: { value: boolean | undefined },\r\n    openModel: { value: boolean | undefined },\r\n\r\n    show: Function,\r\n    hide: Function,\r\n\r\n    hoverOpenDelay: number,\r\n    hoverCloseDelay: number,\r\n    reference: HTMLElement,\r\n\r\n    on: {\r\n        clickReference: Function,\r\n        clickBody: Function,\r\n        clickPopper: Function,\r\n        enterPopper: Function,\r\n        leavePopper: Function,\r\n    },\r\n    off: {\r\n        clickReference: Function,\r\n        clickBody: Function,\r\n        clickPopper: Function,\r\n        enterPopper: Function,\r\n        leavePopper: Function,\r\n    },\r\n    emit: {\r\n        referenceFocus: Function,\r\n        referenceBlur: Function,\r\n        enterReference: Function,\r\n        leaveReference: Function,\r\n        enterPopper: Function,\r\n        leavePopper: Function,\r\n    },\r\n\r\n}) {\r\n    return getBaseTrigger(triggerName, {\r\n        model,\r\n        openModel,\r\n        show,\r\n        hide,\r\n\r\n        hoverOpenDelay,\r\n        hoverCloseDelay,\r\n        reference,\r\n\r\n        on: {\r\n            enterReference: (cb) => reference.addEventListener('mouseenter', cb),\r\n            leaveReference: (cb) => reference.addEventListener('mouseleave', cb),\r\n            referenceFocus: (cb) => reference.addEventListener('focus', cb),\r\n            referenceBlur: (cb) => reference.addEventListener('blur', cb),\r\n\r\n            enterPopper: on.enterPopper,\r\n            leavePopper: on.leavePopper,\r\n            clickReference: on.clickReference,\r\n            clickBody: on.clickBody,\r\n            clickPopper: on.clickPopper,\r\n        },\r\n        off: {\r\n            enterReference: (cb) => reference.removeEventListener('mouseenter', cb),\r\n            leaveReference: (cb) => reference.removeEventListener('mouseleave', cb),\r\n            referenceFocus: (cb) => reference.removeEventListener('focus', cb),\r\n            referenceBlur: (cb) => reference.removeEventListener('blur', cb),\r\n\r\n            enterPopper: off.enterPopper,\r\n            leavePopper: off.leavePopper,\r\n            clickReference: off.clickReference,\r\n            clickBody: off.clickBody,\r\n            clickPopper: off.clickPopper,\r\n        },\r\n        emit: emit,\r\n    })\r\n}","import {computed, defineComponent, getCurrentInstance, onBeforeUnmount, onMounted, provide, reactive, watch} from \"@vue/composition-api\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {FormatPropsType, useProps} from \"@/use/useProps\";\r\nimport {useModel} from \"@/use/useModel\";\r\nimport {PlainPopper} from \"../../../src-doc/page/plain-popper/PlainPopper\";\r\nimport {ElRef, useRefs} from \"@/use/useRefs\";\r\nimport {getPopperTrigger, PopperTrigger, PopperTriggerType} from \"@/packages/popper/PopperTrigger\";\r\nimport {StyleType} from \"@/types/utils\";\r\nimport {SlotFunc, useSlots} from \"@/use/useSlots\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {PlainPlacementType} from \"../../../submodules/plain-popper/types\";\r\nimport {useRefer} from \"@/use/useRefer\";\r\n\r\nexport const PLAIN_POPPER_PROVIDER = '@@PLAIN_POPPER_PROVIDER'\r\n\r\nexport const POPPER_PROPS = {\r\n    value: {type: Boolean},                                     // 双向绑定是否显示\r\n    open: {type: Boolean},                                      // 当前是否显示，与value不同的是，value为false，动画可能才开始关闭，而 open 则是动画结束之后才会派发false出去\r\n\r\n    trigger: {type: String, default: 'hover'},                  // hover,click,focus,manual\r\n    title: {type: String},                                      // 标题\r\n    content: {type: String},                                    // 内容\r\n    disabled: {type: Boolean},                                  // 是否可以弹出\r\n    transition: {type: String, default: 'pl-transition-fade'},  // 动画名称：pl-transition-fade, pl-transition-scale, pl-transition-scale-y, pl-transition-popper-drop\r\n    popperClass: {type: String},                                // popper容器节点样式\r\n    offset: {type: [Number, String]},                           // 偏移量\r\n    width: {type: [Number, String]},                            // 宽度\r\n    height: {type: [Number, String]},                           // 高度\r\n    hoverOpenDelay: {type: [Number, String], default: 0},       // hover触发条件下，打开延迟时间\r\n    hoverCloseDelay: {type: [Number, String], default: 200},    // hover触发条件下，关闭延迟时间\r\n    noContentPadding: {type: Boolean},                          // 去掉默认内容内边距\r\n\r\n    reference: {type: [Function, Element]},                     // 目标dom元素\r\n    placement: {type: String, default: 'bottom-start'},            // 位置\r\n    arrow: {type: Boolean, default: true},                      // 是否需要箭头\r\n    boundary: {default: 'window'},                              // 边界元素\r\n\r\n    sizeEqual: {type: Boolean},                                 // 与reference在方向上大小相等\r\n    rootProps: {type: Object},                                  // 根节点dom元素的属性\r\n}\r\n\r\n/*\r\n* 1. 不能将 v-show 放在 pl-popper-el 元素上，因为这个元素需要使用 transform来定位，会跟 打开/关闭动画有冲突；\r\n* 2. 不能根据 打开|关闭状态来设置content的样式，可能会导致打开的时候有弹跳的问题出现；\r\n* 3. pl-popper-el的pointer-event应该是none，否则会导致遮住页面元素的问题出现；\r\n*/\r\n\r\nexport default defineComponent({\r\n    name: 'pl-popper',\r\n    props: {\r\n        ...POPPER_PROPS,\r\n    },\r\n    setup(props) {\r\n\r\n        const refs = useRefs({\r\n            popper: ElRef,\r\n            content: ElRef,\r\n        })\r\n\r\n        const {slots} = useSlots({\r\n            popper: SlotFunc,\r\n        })\r\n\r\n        const {emit, on, off} = useEvent({\r\n            input: EmitFunc,                                        // v-model绑定\r\n            updateOpen: EmitFunc,                                   // open属性更新\r\n            open: EmitFunc,                                         // 派发打开事件，打开完毕，打开动画执行完毕\r\n            close: EmitFunc,                                        // 派发关闭事件，关闭完毕，关闭动画执行完毕\r\n            init: EmitFunc,                                         // 初始化事件，reference el以及popper el已经确认，popper实例已经创建，完成popper el的定位工作\r\n            dstry: EmitFunc,                                        // 销毁事件，popper已经销毁\r\n            show: EmitFunc,                                         // 打开事件，刚刚打开，动画未结束\r\n            hide: EmitFunc,                                         // 关闭事件，刚刚关闭，动画未结束\r\n\r\n            clickReference: EmitFunc,                               // 点击reference事件\r\n            clickPopper: EmitFunc,                                  // 点击popper的事件\r\n            clickBody: EmitFunc,                                         // 点击除了reference 以及popper派发的事件\r\n            mousedownPopper: EmitFunc,                              // 鼠标摁住popperEl派发的事件\r\n\r\n            enterReference: EmitFunc,                               // trigger为hover下，进入 reference 事件\r\n            leaveReference: EmitFunc,                               // trigger为hover下，离开 reference 事件\r\n            enterPopper: EmitFunc,                                  // trigger为hover下，进入popper事件\r\n            leavePopper: EmitFunc,                                  // trigger为hover下，离开popper事件\r\n            referenceFocus: EmitFunc,                               // trigger为focus下，reference 获取焦点事件\r\n            referenceBlur: EmitFunc,                                // trigger为focus下，reference失去焦点事件\r\n        })\r\n\r\n        /*---------------------------------------state-------------------------------------------*/\r\n\r\n        const propsState = useProps(props, {\r\n            hoverOpenDelay: FormatPropsType.number,\r\n            hoverCloseDelay: FormatPropsType.number,\r\n            offset: FormatPropsType.number,\r\n            width: FormatPropsType.number,\r\n            height: FormatPropsType.number,\r\n        })\r\n\r\n        const model = useModel(() => props.value, emit.input, false, false)\r\n        const openModel = useModel(() => props.open, emit.updateOpen, false, false)\r\n\r\n        const state = reactive({\r\n            trigger: null as PopperTrigger | null,\r\n            referenceEl: null as HTMLElement | null,\r\n\r\n            popper: null as PlainPopper | null,\r\n            zIndex: $plain.nextIndex(),\r\n            init: false,\r\n            ready: false,\r\n\r\n            onTransitionend: null as Function | null,\r\n        })\r\n\r\n        /*---------------------------------------computer-------------------------------------------*/\r\n\r\n        const direction = computed(() => {\r\n            const [direction] = props.placement.split('-')\r\n            return direction\r\n        })\r\n\r\n        const classes = computed(() => [\r\n            'pl-popper',\r\n            props.transition,\r\n            {\r\n                'pl-popper-show': model.value,\r\n                'pl-popper-ready': state.ready,\r\n                'pl-popper-show-arrow': props.arrow,\r\n            }\r\n        ])\r\n\r\n        const popperStyles = computed(() => {\r\n            const styles = {} as StyleType\r\n            styles.zIndex = String(state.zIndex)\r\n            return styles\r\n        })\r\n\r\n        const popperClasses = computed(() => [\r\n            'plain-popper',\r\n            {\r\n                'plain-popper-show': model.value\r\n            }\r\n        ])\r\n\r\n        const contentStyles = computed(() => {\r\n            const styles = {} as StyleType\r\n            propsState.height != null && (styles.height = `${propsState.height}px`);\r\n            propsState.width != null && (styles.width = `${propsState.width}px`);\r\n\r\n            if (!!props.sizeEqual && !!state.referenceEl) {\r\n                if (['top', 'bottom'].indexOf(direction.value) > -1) {\r\n                    styles.width = (state.referenceEl as HTMLElement).offsetWidth + 'px'\r\n                } else if (['left', 'right'].indexOf(direction.value) > -1) {\r\n                    styles.height = (state.referenceEl as HTMLElement).offsetHeight + 'px'\r\n                }\r\n            }\r\n\r\n            return styles\r\n        })\r\n\r\n\r\n        /*---------------------------------------methods-------------------------------------------*/\r\n\r\n        const methods = {\r\n            show: async (emitInput: boolean = true) => {\r\n\r\n                if (!state.init) {\r\n                    state.init = true\r\n                    await $plain.nextTick()\r\n                    await utils.initPopper()\r\n                    await $plain.utils.delay(50)\r\n                    state.ready = true\r\n                }\r\n\r\n                state.zIndex = $plain.nextIndex()\r\n                await $plain.nextTick()\r\n                model.value = true\r\n                emit.show()\r\n                if (emitInput) {\r\n                    emit.input(model.value)\r\n                }\r\n                state.onTransitionend = () => {\r\n                    openModel.value = true\r\n                    state.onTransitionend = null\r\n                }\r\n            },\r\n            hide: (emitInput: boolean = true) => {\r\n\r\n                model.value = false\r\n                emit.hide()\r\n                if (emitInput) {\r\n                    emit.input(model.value)\r\n                }\r\n                state.onTransitionend = () => {\r\n                    openModel.value = false\r\n                    state.onTransitionend = null\r\n                }\r\n            },\r\n            toggle: async () => {\r\n                model.value ? await methods.hide() : await methods.show()\r\n            },\r\n            refresh: () => {\r\n                if (!state.referenceEl) return\r\n                state.popper!.refresh()\r\n            },\r\n        }\r\n\r\n        /*---------------------------------------utils-------------------------------------------*/\r\n\r\n        const utils = {\r\n            async init() {\r\n                const children = Array.from(refs.$el.children)\r\n\r\n                if (children[0] !== refs.popper) {\r\n                    state.referenceEl = children[0] as HTMLElement\r\n                } else if (!!props.reference) {\r\n                    if (typeof props.reference === 'function') {\r\n                        // @ts-ignore\r\n                        const reference = props.reference()\r\n                        state.referenceEl = reference.$el || reference\r\n                    } else {\r\n                        // @ts-ignore\r\n                        state.referenceEl = props.reference.$el || props.reference\r\n                    }\r\n                } else {\r\n                    /*没有reference，等待reference初始化在初始化popper*/\r\n                    return\r\n                }\r\n\r\n                utils.bindEvents()\r\n\r\n                state.trigger = getPopperTrigger(props.trigger as PopperTriggerType, {\r\n                    model,\r\n                    openModel: openModel,\r\n                    show: methods.show,\r\n                    hide: methods.hide,\r\n\r\n                    hoverOpenDelay: propsState.hoverOpenDelay,\r\n                    hoverCloseDelay: propsState.hoverCloseDelay,\r\n\r\n                    reference: state.referenceEl as HTMLElement,\r\n\r\n                    on,\r\n                    off,\r\n                    emit,\r\n                })\r\n\r\n                state.trigger.init()\r\n                emit.init()\r\n            },\r\n            async initPopper() {\r\n                state.popper = new PlainPopper({\r\n                    popper: refs.popper,\r\n                    reference: state.referenceEl!,\r\n                    padding: 50,\r\n                    placement: props.placement as any,\r\n                    offset: Number(props.offset || (!!props.arrow ? 0 : 2)),\r\n                    boundary: props.boundary,\r\n                    arrowSize: !props.arrow ? 0 : undefined\r\n                })\r\n            },\r\n            destroy: () => {\r\n                utils.unbindEvents()\r\n                if (!!state.trigger) {\r\n                    state.trigger.destroy()\r\n                }\r\n                if (!!state.popper) {\r\n                    state.popper.destroy()\r\n                }\r\n                emit.dstry()\r\n            },\r\n            bindEvents: () => {\r\n                if (!!state.referenceEl) {\r\n                    state.referenceEl.addEventListener('click', handler.clickReference)\r\n                }\r\n                document.body.addEventListener('click', handler.clickBody)\r\n            },\r\n            unbindEvents: () => {\r\n                if (!!state.referenceEl) {\r\n                    state.referenceEl.removeEventListener('click', handler.clickReference)\r\n                }\r\n                document.body.removeEventListener('click', handler.clickBody)\r\n            },\r\n        }\r\n\r\n        /*---------------------------------------handler-------------------------------------------*/\r\n\r\n        const handler = {\r\n            clickReference: (e: Event) => {\r\n                emit.clickReference(e)\r\n            },\r\n            clickPopper: (e: Event) => {\r\n                emit.clickPopper(e)\r\n            },\r\n            clickBody: (e: Event) => {\r\n                if (state.referenceEl!.contains(e.target as Node)) {\r\n                    /*点击了reference*/\r\n                    return\r\n                }\r\n                if (!!refs.content && refs.content!.contains(e.target as Node)) {\r\n                    /*点击了content*/\r\n                    return\r\n                }\r\n                emit.clickBody(e)\r\n            },\r\n            popperTransitionEnd: (e) => {\r\n                if (!!state.onTransitionend) {\r\n                    state.onTransitionend(e)\r\n                }\r\n            }\r\n        }\r\n\r\n        /*---------------------------------------watch-------------------------------------------*/\r\n        watch(() => props.value, (val) => {\r\n            if (val === model.value) {\r\n                return\r\n            }\r\n            if (val) {\r\n                methods.show(false)\r\n            } else {\r\n                methods.hide(false)\r\n            }\r\n        })\r\n        // watch(() => model.value, (val) => {})\r\n        watch(() => openModel.value, (val) => {\r\n            if (!!val) {\r\n                emit.updateOpen(true)\r\n                emit.open()\r\n            } else {\r\n                emit.updateOpen(false)\r\n                emit.close()\r\n            }\r\n        })\r\n        watch(() => props.placement, (val) => {\r\n            if (!!state.popper) {\r\n                state.popper.setPlacement(val as PlainPlacementType)\r\n            }\r\n        })\r\n\r\n        const popperConfigChangeHandler = async () => {\r\n            await utils.destroy()\r\n            await utils.init()\r\n            if (!!state.popper) {\r\n                await utils.initPopper()\r\n            }\r\n        }\r\n        watch(() => props.reference, popperConfigChangeHandler)\r\n        watch(() => props.arrow, popperConfigChangeHandler)\r\n        watch(() => props.trigger, popperConfigChangeHandler)\r\n\r\n        /*---------------------------------------lifecycle-------------------------------------------*/\r\n\r\n        onMounted(async () => {\r\n            await utils.init()\r\n            if (model.value) {\r\n                await methods.show(false)\r\n            }\r\n        })\r\n\r\n        onBeforeUnmount(() => {\r\n            utils.destroy()\r\n        })\r\n\r\n        useRefer({\r\n            methods,\r\n            direction,\r\n            state,\r\n            model,\r\n            openModel,\r\n            propsState,\r\n            emit, on, off,\r\n            refs,\r\n        })\r\n\r\n        provide(PLAIN_POPPER_PROVIDER, getCurrentInstance())\r\n\r\n        return () => {\r\n\r\n            const popperListener = props.trigger === 'hover' ? {\r\n                mouseenter: emit.enterPopper,\r\n                mouseleave: emit.leavePopper,\r\n            } : {}\r\n\r\n            return (\r\n                <div class={classes.value}\r\n                >\r\n                    {slots.default()}\r\n                    {!!state.init && (\r\n                        <div ref=\"popper\"\r\n                             class={popperClasses.value}\r\n                             style={popperStyles.value}\r\n                        >\r\n                            <div class=\"plain-popper-content\"\r\n                                 ref=\"content\"\r\n                                 style={contentStyles.value}\r\n                                 onClick={handler.clickPopper}\r\n                                 {...{\r\n                                     on: {\r\n                                         ...popperListener,\r\n                                         transitionend: handler.popperTransitionEnd,\r\n                                         mousedown: emit.mousedownPopper,\r\n                                     }\r\n                                 }}\r\n                            >\r\n                                <div class=\"plain-popper-arrow\"/>\r\n                                {slots.popper()}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {computed, defineComponent, inject, onBeforeUnmount, onMounted, provide, reactive, SetupContext} from \"@vue/composition-api\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {ElRef, useRefs} from \"@/use/useRefs\";\r\nimport {useRefer} from \"@/use/useRefer\";\r\n\r\nimport {ResizeDetectorDirective} from \"@/util/ResizeDetector\";\r\nimport {PLAIN_POPPER_PROVIDER} from \"@/packages/popper/popper\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {ResizeDetectFuncParam, StyleType} from \"@/types/utils\";\r\nimport {useMounted} from \"@/use/useMounted\";\r\nimport {SlotFunc, useSlots} from \"@/use/useSlots\";\r\n\r\nimport {useScopedSlots} from \"@/use/useScopedSlots\";\r\n\r\nexport const enum PLAIN_SCROLL_VERTICAL_POSITION {\r\n    top = 'top',\r\n    center = 'center',\r\n    bottom = 'bottom'\r\n}\r\n\r\nconst Props = {\r\n    scrollbarSize: {type: Number},                                                                  // 滚动条大小\r\n    scrollbarColor: {type: String, default: 'rgba(144,147,153,.3)'},                                // 滚动条颜色\r\n    scrollX: {type: Boolean},                                                                       // 可以横向滚动\r\n    scrollY: {type: Boolean, default: true},                                                        // 可以纵向滚动\r\n    hideScrollbar: {type: Boolean},                                                                 // 隐藏滚动条\r\n    alwaysShowScrollbar: {type: Boolean},                                                           // 一直显示滚动条\r\n    fitContentWidth: {type: Boolean},                                                               // 适配内容宽度\r\n    fitContentHeight: {type: Boolean},                                                              // 适配内容高度\r\n    fitHostWidth: {type: Boolean},                                                                  // 适配容器宽度\r\n    fitHostHeight: {type: Boolean},                                                                 // 适配容器高度\r\n    topThreshold: {type: Number, default: 20},                                                      // 距离顶部多少距离派发滚动到顶部事件\r\n    bottomThreshold: {type: Number, default: 20},                                                   // 距离底部多少距离派发滚动到底部事件\r\n    autoScrollSpeed: {type: Number, default: 400},                                                  // 自动滚动的时候的速度，每秒钟滚动的距离\r\n}\r\n\r\nfunction scrollSetup(props: ExtractPropTypes<typeof Props>, context: SetupContext) {\r\n\r\n    const {slots} = useSlots({\r\n        content: SlotFunc,\r\n    })\r\n    const {scopedSlots} = useScopedSlots({\r\n        'horizontal-scrollbar': {style: {} as StyleType, onMousedown: (e: MouseEvent) => {}},\r\n        'vertical-scrollbar': {style: {} as StyleType, onMousedown: (e: MouseEvent) => {}},\r\n    })\r\n\r\n    const {emit, on, off} = useEvent({\r\n        scroll: EmitFunc,\r\n        verticalScrollTop: EmitFunc,\r\n        verticalScrollBottom: EmitFunc,\r\n        verticalScrollCenter: EmitFunc,\r\n    })\r\n\r\n    /*---------------------------------------ref-------------------------------------------*/\r\n\r\n    const refs = useRefs({\r\n        host: ElRef,\r\n        wrapper: ElRef,\r\n        content: ElRef,\r\n    })\r\n\r\n    /*---------------------------------------state-------------------------------------------*/\r\n\r\n    const mounted = useMounted()\r\n\r\n    const popperProvider = inject<any>(PLAIN_POPPER_PROVIDER, null)\r\n\r\n    const state = reactive({\r\n        verticalPosition: PLAIN_SCROLL_VERTICAL_POSITION.top,\r\n        wrapperScrollTop: 0,\r\n        wrapperScrollLeft: 0,\r\n\r\n        dragTop: 0,\r\n        dragY: 0,\r\n        dragLeft: 0,\r\n        dragX: 0,\r\n\r\n        contentWidth: 0,\r\n        contentHeight: 0,\r\n        hostWidth: 0,\r\n        hostHeight: 0,\r\n        hover: false,\r\n        draging: false,\r\n\r\n        cancelAnimate: null as null | number,\r\n    })\r\n\r\n    /*---------------------------------------computed-------------------------------------------*/\r\n\r\n    const targetScrollbarSize = computed(() => {\r\n        if (!props.scrollX) {\r\n            return props.scrollbarSize || 6\r\n        } else {\r\n            return props.scrollbarSize || 9\r\n        }\r\n    })\r\n\r\n    const classes = computed(() => [\r\n        `pl-scroll`,\r\n        {\r\n            'pl-scroll-draging': state.draging,\r\n            // 'pl-scroll-disabled': props.disableScroll,\r\n            'pl-scroll-always-show-scroll-bar': props.alwaysShowScrollbar,\r\n        }\r\n    ])\r\n\r\n    const hostStyles = computed(() => {\r\n        if (!mounted.value) return null\r\n        const style: StyleType = {}\r\n        if (props.fitContentHeight) {\r\n            style.height = `${state.contentHeight}px`\r\n        }\r\n        return style\r\n    })\r\n\r\n    const wrapperStyles = computed(() => {\r\n        if (!mounted.value) return null\r\n        const style: StyleType = {}\r\n        if (props.fitContentHeight) {\r\n            style.height = `${state.contentHeight + 17}px`\r\n        }\r\n        return style\r\n    })\r\n\r\n    const contentStyles = computed(() => {\r\n        if (!mounted.value) return null\r\n        const styles: StyleType = {}\r\n\r\n        if (!props.scrollX) {\r\n            styles.width = props.fitContentWidth && state.contentWidth > 0 ? `${state.contentWidth}px` : `100%`;\r\n            styles.overflowX = 'hidden'\r\n        }\r\n\r\n        if (!props.scrollY) {\r\n            styles.height = props.fitContentHeight && state.contentHeight > 0 ? `${state.contentHeight}px` : `100%`;\r\n            styles.overflowY = 'hidden'\r\n        }\r\n\r\n        if (props.fitHostHeight) {\r\n            styles.height = '100%'\r\n        }\r\n        if (props.fitHostWidth) {\r\n            styles.width = '100%'\r\n        }\r\n        if (props.fitContentWidth) {\r\n            styles.width = `${state.contentWidth}px`\r\n        }\r\n        if (props.fitContentHeight) {\r\n            styles.height = `${state.contentHeight}px`\r\n        }\r\n\r\n        return styles\r\n    })\r\n\r\n    const verticalScrollbarHeight = computed(() => {\r\n        return state.contentHeight > state.hostHeight ? (state.hostHeight * state.hostHeight / state.contentHeight) : 0\r\n    })\r\n\r\n    const verticalScrollbarTop = computed(() => {\r\n        return (state.hostHeight - verticalScrollbarHeight.value) * state.wrapperScrollTop / (state.contentHeight - state.hostHeight)\r\n    })\r\n\r\n    const horizontalScrollbarWidth = computed(() => {\r\n        return state.contentWidth > state.hostWidth ? (state.hostWidth * state.hostWidth) / state.contentWidth : 0\r\n    })\r\n\r\n    const horizontalScrollbarLeft = computed(() => {\r\n        return (state.hostWidth - horizontalScrollbarWidth.value) * state.wrapperScrollLeft / (state.contentWidth - state.hostWidth)\r\n    })\r\n\r\n    const horizontalScrollbarStyles = computed(() => {\r\n        return {\r\n            height: `${targetScrollbarSize.value}px`,\r\n            width: `${horizontalScrollbarWidth.value}px`,\r\n            left: `${horizontalScrollbarLeft.value}px`,\r\n            backgroundColor: props.scrollbarColor,\r\n        } as StyleType\r\n    })\r\n\r\n    const verticalScrollbarStyles = computed(() => {\r\n        return {\r\n            height: `${verticalScrollbarHeight.value}px`,\r\n            width: `${targetScrollbarSize.value}px`,\r\n            top: `${verticalScrollbarTop.value}px`,\r\n            backgroundColor: props.scrollbarColor,\r\n        } as StyleType\r\n    })\r\n\r\n\r\n    /*---------------------------------------methods-------------------------------------------*/\r\n\r\n\r\n    const methods = {\r\n        refresh: async () => {\r\n            await $plain.nextTick()\r\n\r\n            const {scrollWidth: width1, scrollHeight: height1} = refs.content\r\n            handler.contentResize({\r\n                width: Math.ceil(width1),\r\n                height: Math.ceil(height1),\r\n            })\r\n\r\n            const {scrollWidth: width2, scrollHeight: height2} = refs.host\r\n            handler.hostResize({\r\n                width: Math.ceil(width2),\r\n                height: Math.ceil(height2),\r\n            })\r\n        },\r\n        scroll(point: { x?: number, y?: number }, time?: number) {\r\n            if (!refs.wrapper) return\r\n\r\n            // if (point.x != null) this.wrapper!.scrollLeft = point.x\r\n            // if (point.y != null) this.wrapper!.scrollTop = point.y\r\n            if (!time) {\r\n                if (point.x != null) refs.wrapper!.scrollLeft = point.x\r\n                if (point.y != null) refs.wrapper!.scrollTop = point.y\r\n            } else {\r\n\r\n                if (!!state.cancelAnimate) {\r\n                    cancelAnimationFrame(state.cancelAnimate)\r\n                    state.cancelAnimate = null\r\n                }\r\n\r\n                let ny = refs.wrapper!.scrollTop\r\n                let nx = refs.wrapper!.scrollLeft\r\n\r\n                let ky = (point.y! - ny) / time\r\n                let kx = (point.x! - nx) / time\r\n\r\n                let startTime = Date.now()\r\n                const run = () => {\r\n                    let nowTime = Date.now()\r\n                    let delta = nowTime - startTime\r\n                    let top;\r\n                    let left;\r\n\r\n                    if (delta >= time) {\r\n                        state.cancelAnimate = null\r\n                        top = time * ky + ny\r\n                        left = time * kx + nx\r\n\r\n                        if (!!refs.wrapper) {\r\n                            refs.wrapper.scrollTop = top\r\n                            refs.wrapper.scrollLeft = left\r\n                        }\r\n                    } else {\r\n                        top = delta * ky + ny\r\n                        left = delta * kx + nx\r\n\r\n                        if (!!refs.wrapper) {\r\n                            refs.wrapper.scrollTop = top\r\n                            refs.wrapper.scrollLeft = left\r\n                        }\r\n                        state.cancelAnimate = requestAnimationFrame(run)\r\n                    }\r\n                }\r\n                run()\r\n            }\r\n        },\r\n        scrollTop(scrollTop: number, time?: number) {\r\n            methods.scroll({y: scrollTop}, time)\r\n        },\r\n        scrollLeft(scrollLeft: number, time?: number) {\r\n            methods.scroll({x: scrollLeft}, time)\r\n        },\r\n        scrollEnd(point: { x: boolean, y?: boolean } = {x: true, y: true}) {\r\n            if (!!point.x) refs.wrapper!.scrollLeft = refs.wrapper!.scrollWidth\r\n            if (!!point.y) refs.wrapper!.scrollTop = refs.wrapper!.scrollHeight\r\n        },\r\n        autoScrollTop() {\r\n            const {wrapperScrollTop, hostHeight, contentHeight} = state\r\n            const scrollHeight = contentHeight - hostHeight\r\n            if (scrollHeight <= 0) {\r\n                return\r\n            }\r\n            const height = wrapperScrollTop\r\n            if (height <= 0) {\r\n                return\r\n            }\r\n            const duration = (height / props.autoScrollSpeed) * 1000\r\n            methods.scrollTop(0, duration)\r\n        },\r\n        autoScrollBottom() {\r\n            const {wrapperScrollTop, hostHeight, contentHeight} = state\r\n            const scrollHeight = contentHeight - hostHeight\r\n            if (scrollHeight <= 0) {\r\n                return\r\n            }\r\n            const height = scrollHeight - wrapperScrollTop\r\n            if (height <= 0) {\r\n                return\r\n            }\r\n            const duration = (height / props.autoScrollSpeed) * 1000\r\n            methods.scrollTop(scrollHeight, duration)\r\n        },\r\n        autoScrollLeft() {\r\n            const {wrapperScrollLeft, hostWidth, contentWidth} = state\r\n            const scrollWidth = contentWidth - hostWidth\r\n            if (scrollWidth <= 0) {\r\n                return\r\n            }\r\n            const width = wrapperScrollLeft\r\n            if (width <= 0) {\r\n                return\r\n            }\r\n            const duration = (width / props.autoScrollSpeed) * 1000\r\n            methods.scrollLeft(0, duration)\r\n        },\r\n        autoScrollRight() {\r\n            const {wrapperScrollLeft, hostWidth, contentWidth} = state\r\n            const scrollWidth = contentWidth - hostWidth\r\n            if (scrollWidth <= 0) {\r\n                return\r\n            }\r\n            const width = scrollWidth - wrapperScrollLeft\r\n            if (width <= 0) {\r\n                return\r\n            }\r\n            const duration = (width / props.autoScrollSpeed) * 1000\r\n            methods.scrollLeft(scrollWidth, duration)\r\n        },\r\n        stopAutoScroll() {\r\n            if (!!state.cancelAnimate) {\r\n                cancelAnimationFrame(state.cancelAnimate)\r\n                state.cancelAnimate = null\r\n            }\r\n        },\r\n    }\r\n\r\n\r\n    /*---------------------------------------handler-------------------------------------------*/\r\n\r\n    const handler = {\r\n        windowResize: $plain.utils.throttle(() => methods.refresh(), 500),\r\n        popperOpen: () => {\r\n            methods.refresh()\r\n        },\r\n        popperShow: () => {\r\n            $plain.nextTick(() => methods.scroll({y: 0}))\r\n        },\r\n        contentResize: (data: ResizeDetectFuncParam) => {\r\n            if (data.width != null) state.contentWidth = data.width\r\n            if (data.height != null) state.contentHeight = data.height\r\n        },\r\n        hostResize: (data: ResizeDetectFuncParam) => {\r\n            if (data.width != null) state.hostWidth = data.width - 16\r\n            if (data.height != null) state.hostHeight = data.height - 16\r\n        },\r\n        wrapperMousewheel: (e: MouseWheelEvent) => {\r\n            if (!!state.cancelAnimate) {\r\n                cancelAnimationFrame(state.cancelAnimate)\r\n                state.cancelAnimate = null\r\n            }\r\n        },\r\n        wrapperScroll: (e: MouseEvent) => {\r\n            const target = e.target as HTMLElement\r\n            state.wrapperScrollTop = target.scrollTop\r\n            state.wrapperScrollLeft = target.scrollLeft\r\n\r\n            emit.scroll(e)\r\n\r\n            if (state.verticalPosition === PLAIN_SCROLL_VERTICAL_POSITION.top && state.wrapperScrollTop > props.topThreshold!) {\r\n                /*进入center*/\r\n                emit.verticalScrollCenter(e)\r\n                state.verticalPosition = PLAIN_SCROLL_VERTICAL_POSITION.center\r\n            } else if (state.verticalPosition === PLAIN_SCROLL_VERTICAL_POSITION.center) {\r\n                // console.log(this.contentHeight - this.hostHeight - this.contentWrapperScrollTop, this.bottomScrollDuration)\r\n                if (state.wrapperScrollTop < props.topThreshold!) {\r\n                    /*进入top*/\r\n                    emit.verticalScrollTop(e)\r\n                    state.verticalPosition = PLAIN_SCROLL_VERTICAL_POSITION.top\r\n                } else if (state.contentHeight - state.hostHeight - state.wrapperScrollTop < props.bottomThreshold!) {\r\n                    /*进入bottom*/\r\n                    emit.verticalScrollBottom(e)\r\n                    state.verticalPosition = PLAIN_SCROLL_VERTICAL_POSITION.bottom\r\n                }\r\n\r\n            } else if (state.verticalPosition === PLAIN_SCROLL_VERTICAL_POSITION.bottom) {\r\n                if (state.contentHeight - state.hostHeight - state.wrapperScrollTop > props.bottomThreshold!) {\r\n                    /*进入center*/\r\n                    emit.verticalScrollCenter(e)\r\n                    state.verticalPosition = PLAIN_SCROLL_VERTICAL_POSITION.center\r\n                }\r\n            }\r\n        },\r\n        vertical: {\r\n            dragstart: (e: MouseEvent) => {\r\n                state.draging = true\r\n                state.dragTop = verticalScrollbarTop.value\r\n                state.dragY = e.clientY\r\n                document.addEventListener('mousemove', handler.vertical.dragmove)\r\n                document.addEventListener('mouseup', handler.vertical.dragend)\r\n                $plain.disableSelect()\r\n            },\r\n            dragmove: (e: MouseEvent) => {\r\n                let deltaY = e.clientY - state.dragY\r\n                let top = state.dragTop + deltaY\r\n                refs.wrapper.scrollTop = top * (state.contentHeight - state.hostHeight) / (state.hostHeight - verticalScrollbarHeight.value)\r\n            },\r\n            dragend: () => {\r\n                state.draging = false\r\n                document.removeEventListener('mousemove', handler.vertical.dragmove)\r\n                document.removeEventListener('mouseup', handler.vertical.dragend)\r\n                $plain.enableSelect()\r\n            }\r\n        },\r\n        horizontal: {\r\n            dragstart: (e: MouseEvent) => {\r\n                state.draging = true\r\n                state.dragLeft = horizontalScrollbarLeft.value\r\n                state.dragX = e.clientX\r\n                document.addEventListener('mousemove', handler.horizontal.dragmove)\r\n                document.addEventListener('mouseup', handler.horizontal.dragend)\r\n                $plain.disableSelect()\r\n            },\r\n            dragmove: (e: MouseEvent) => {\r\n                let deltaX = e.clientX - state.dragX\r\n                const left = state.dragLeft + deltaX\r\n                refs.wrapper.scrollLeft = left * (state.contentWidth - state.hostWidth) / (state.hostWidth - horizontalScrollbarWidth.value)\r\n            },\r\n            dragend: () => {\r\n                state.draging = false\r\n                document.removeEventListener('mousemove', handler.horizontal.dragmove)\r\n                document.removeEventListener('mouseup', handler.horizontal.dragend)\r\n                $plain.enableSelect()\r\n            },\r\n        },\r\n    }\r\n\r\n    const refer = {\r\n        refs,\r\n        on, off,\r\n        slots,\r\n        scopedSlots,\r\n\r\n        classes,\r\n        handler,\r\n        hostStyles,\r\n        contentStyles,\r\n        wrapperStyles,\r\n        verticalScrollbarStyles,\r\n        horizontalScrollbarStyles,\r\n\r\n        methods,\r\n        state,\r\n    }\r\n\r\n    useRefer(refer)\r\n\r\n    provide(SCROLL_PROVIDER, refer)\r\n\r\n    /*---------------------------------------lifecycle-------------------------------------------*/\r\n\r\n    onMounted(() => {\r\n        window.addEventListener('resize', handler.windowResize)\r\n        if (!!popperProvider) {\r\n            popperProvider.on.open(handler.popperOpen)\r\n            popperProvider.on.show(handler.popperShow)\r\n        }\r\n    })\r\n\r\n    onBeforeUnmount(() => {\r\n        window.removeEventListener('resize', handler.windowResize)\r\n        if (!!popperProvider) {\r\n            popperProvider.off.open(handler.popperOpen)\r\n            popperProvider.off.show(handler.popperShow)\r\n        }\r\n    })\r\n\r\n    return refer\r\n}\r\n\r\ntype ScrollType = ReturnType<typeof scrollSetup>\r\n\r\nexport type PlainScroll = {\r\n    methods: ScrollType[\"methods\"],\r\n    state: ScrollType[\"state\"],\r\n    on: ScrollType[\"on\"],\r\n    off: ScrollType[\"off\"],\r\n    refs: ScrollType[\"refs\"],\r\n}\r\n\r\nconst SCROLL_PROVIDER = '@@SCROLL_PROVIDER'\r\n\r\nexport const injectScroll = () => inject(SCROLL_PROVIDER) as PlainScroll\r\n\r\nexport default defineComponent({\r\n    name: 'pl-scroll',\r\n    props: {\r\n        ...Props,\r\n    },\r\n    directives: {resize: ResizeDetectorDirective},\r\n    setup(props, context) {\r\n\r\n        const {\r\n            slots,\r\n            scopedSlots,\r\n            classes,\r\n            handler,\r\n            hostStyles,\r\n            contentStyles,\r\n            wrapperStyles,\r\n            verticalScrollbarStyles,\r\n            horizontalScrollbarStyles,\r\n        } = scrollSetup(props, context)\r\n        return () => (\r\n            <div ref=\"host\"\r\n                 class={classes.value}\r\n                 {...{directives: [{name: 'resize', value: handler.hostResize}]}}\r\n                 style={hostStyles.value}>\r\n                <div ref=\"wrapper\"\r\n                     class=\"pl-scroll-wrapper\"\r\n                     style={wrapperStyles.value}\r\n                     onScroll={handler.wrapperScroll}\r\n                     onMousewheel={handler.wrapperMousewheel}>\r\n                    <div ref=\"content\"\r\n                         class=\"pl-scroll-content\"\r\n                         style={contentStyles.value}\r\n                         {...{directives: [{name: 'resize', value: handler.contentResize}]}}\r\n                    >\r\n                        {slots.default()}\r\n                    </div>\r\n                    {slots.content()}\r\n                </div>\r\n\r\n                {\r\n                    !props.hideScrollbar && props.scrollY && (\r\n                        <div class=\"pl-vertical-scrollbar-wrapper\">\r\n                            {\r\n                                scopedSlots[\"vertical-scrollbar\"]({\r\n                                    param: {style: verticalScrollbarStyles.value, onMousedown: handler.vertical.dragstart},\r\n                                    content: (\r\n                                        <div class=\"pl-vertical-scrollbar\"\r\n                                             style={verticalScrollbarStyles.value}\r\n                                             onMousedown={handler.vertical.dragstart}>\r\n                                        </div>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </div>\r\n                    )\r\n                }\r\n                {\r\n                    !props.hideScrollbar && props.scrollX && (\r\n                        <div class=\"pl-horizontal-scrollbar-wrapper\">\r\n                            {\r\n                                scopedSlots[\"horizontal-scrollbar\"]({\r\n                                    param: {style: horizontalScrollbarStyles.value, onMousedown: handler.horizontal.dragstart},\r\n                                    content: (\r\n                                        <div class=\"pl-horizontal-scrollbar\"\r\n                                             style={horizontalScrollbarStyles.value}\r\n                                             onMousedown={handler.horizontal.dragstart}>\r\n                                        </div>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </div>\r\n                    )\r\n                }\r\n            </div>\r\n        )\r\n    },\r\n})","import {computed, defineComponent, onBeforeUnmount, onMounted} from \"@vue/composition-api\";\r\nimport {useSlots} from \"@/use/useSlots\";\r\nimport {injectScroll} from \"@/packages/scroll/scroll\";\r\nimport {useRefs} from \"@/use/useRefs\";\r\nimport {StyleType} from \"@/types/utils\";\r\nimport {$plain} from \"@/packages/base\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-scroll-sticky',\r\n    props: {\r\n        top: {type: Number},                                    // 粘粘距离顶部距离\r\n        left: {type: Number},                                   // 粘粘距离左侧距离\r\n        bottom: {type: Number},                                 // 粘粘距离底部距离\r\n        right: {type: Number},                                  // 粘粘距离右侧距离\r\n        zIndex: {type: Number, default: 1},                     // zIndex值\r\n        tag: {type: String, default: 'div'},                    // 跟节点标签\r\n    },\r\n    setup(props) {\r\n\r\n        const {slots} = useSlots()\r\n\r\n        // 当前dom元素的一些基本信息\r\n        let offset = {top: 0, left: 0, height: 0, width: 0,}\r\n        // 滚动容器的一些基本信息\r\n        let content = {\r\n            width: 0,\r\n            height: 0,\r\n        }\r\n\r\n        const Tag = props.tag\r\n\r\n        let ie = $plain.utils.ie;\r\n        ie === 'edge' && (ie = false);\r\n        // const ie = true\r\n\r\n        const classes = computed(() => {\r\n            return [\r\n                'pl-scroll-sticky',\r\n                {\r\n                    'pl-scroll-sticky-compatible': ie\r\n                }\r\n            ]\r\n        })\r\n\r\n        const styles = computed(() => {\r\n\r\n            const styles = {} as StyleType\r\n            styles.zIndex = String(props.zIndex)\r\n\r\n            if (!ie) {\r\n                if (props.top !== null) styles.top = $plain.utils.suffixPx(props.top)\r\n                if (props.left !== null) styles.left = $plain.utils.suffixPx(props.left)\r\n                if (props.right !== null) styles.right = $plain.utils.suffixPx(props.right)\r\n                if (props.bottom !== null) styles.bottom = $plain.utils.suffixPx(props.bottom)\r\n            }\r\n\r\n            return styles\r\n        })\r\n\r\n        if (ie) {\r\n            const refs = useRefs()\r\n            const scroll = injectScroll()\r\n\r\n            const state = {\r\n                prev: {\r\n                    scrollTop: null as null | number,\r\n                    scrollLeft: null as null | number,\r\n                }\r\n            }\r\n\r\n            function fresh(data: { scrollTop: number, scrollLeft: number }) {\r\n                const {scrollTop, scrollLeft} = data\r\n\r\n                if (scrollTop !== state.prev.scrollTop) {\r\n                    state.prev.scrollTop = scrollTop\r\n                    if (props.top != null) {\r\n                        refs.$el.style.transform = `translateY(${(Math.max(0, scrollTop - (offset.top - props.top))) + 'px'})`\r\n                    }\r\n\r\n                    if (props.bottom != null) {\r\n                        refs.$el.style.transform = `translateY(-${Math.max(0, offset.top + offset.height - content.height - scrollTop + props.bottom) + 'px'})`\r\n                    }\r\n                }\r\n\r\n                if (scrollLeft !== state.prev.scrollLeft) {\r\n                    state.prev.scrollLeft = scrollLeft\r\n                    if (props.left != null) {\r\n                        refs.$el.style.transform = `translateX(${(Math.max(0, scrollLeft - (offset.left - props.left))) + 'px'})`\r\n                    }\r\n\r\n                    if (props.right != null) {\r\n                        refs.$el.style.transform = `translateX(-${Math.max(0, offset.left + offset.width - content.width - scrollLeft + props.right) + 'px'})`\r\n                    }\r\n                }\r\n\r\n                /*if (props.top != null) {\r\n                    refs.$el.style.top = (Math.max(0, scrollTop - (offset.top - props.top))) + 'px'\r\n                }\r\n\r\n                if (props.bottom != null) {\r\n                    refs.$el.style.bottom = Math.max(0, offset.top + offset.height - content.height - scrollTop + props.bottom) + 'px'\r\n                }\r\n\r\n                if (props.left != null) {\r\n                    refs.$el.style.left = (Math.max(0, scrollLeft - (offset.left - props.left))) + 'px'\r\n                }\r\n\r\n                if (props.right != null) {\r\n                    refs.$el.style.right = Math.max(0, offset.left + offset.width - content.width - scrollLeft + props.right) + 'px'\r\n                }*/\r\n            }\r\n\r\n            function onScroll(e) {\r\n                fresh({\r\n                    scrollTop: e.target.scrollTop,\r\n                    scrollLeft: e.target.scrollLeft,\r\n                })\r\n            }\r\n\r\n            scroll.on.scroll(onScroll)\r\n\r\n            onBeforeUnmount(() => scroll.off.scroll(onScroll));\r\n\r\n            onMounted(() => {\r\n                setTimeout(() => {\r\n                    offset.top = refs.$el.offsetTop\r\n                    offset.left = refs.$el.offsetLeft\r\n                    offset.width = refs.$el.offsetWidth\r\n                    offset.height = refs.$el.offsetHeight\r\n\r\n                    content.width = scroll.state.hostWidth\r\n                    content.height = scroll.state.hostHeight\r\n\r\n                    fresh({scrollLeft: 0, scrollTop: 0})\r\n                }, 0)\r\n            })\r\n        }\r\n\r\n        return () => {\r\n            return (\r\n                <Tag class={classes.value} style={styles.value}>\r\n                    {slots.default()}\r\n                </Tag>\r\n            )\r\n        }\r\n    }\r\n})","import './scroll.scss'\r\nimport scroll from './scroll'\r\nimport scrollSticky from './scroll-sticky'\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    scroll,\r\n    scrollSticky,\r\n])","import {computed, defineComponent, onBeforeUnmount, reactive, watch} from \"@vue/composition-api\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {ElRef, useRefs} from \"@/use/useRefs\";\r\n\r\nimport {$plain} from \"@/packages/base\";\r\nimport {useSlots} from \"@/use/useSlots\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-portal',\r\n    props: {\r\n        value: {type: Boolean, default: true},                          // 是否将组件移动到body下\r\n        container: {},                                                  // 移动所在的父节点\r\n        autoCreateContainer: {type: Boolean},                           // 通过 querySelector 查询 container 不存在时。是否自动 创建 container\r\n        contentClass: {},                                               // content节点的class\r\n        contentStyle: {},                                               // content节点的style\r\n    },\r\n    setup(props, context) {\r\n\r\n        const {slots} = useSlots()\r\n\r\n        const refs = useRefs({\r\n            content: ElRef,\r\n        })\r\n\r\n        const {emit} = useEvent({\r\n            clickContent: EmitFunc,\r\n        })\r\n\r\n        const state = reactive({\r\n            contentEl: null as null | HTMLElement,                      // content节点\r\n            parentNode: null as null | HTMLElement,                     // pl-portal 在 mounted 的时候的父节点\r\n            containerNode: null as null | HTMLElement,                  // 移动内容所挂载的父节点\r\n            commentNode: document.createComment('pl-portal'),     // 注释节点，用来在 parentNode 中替代 childNode\r\n            isMoved: false,                                             // 标志位，判断当前是否已经移动到containerNode下\r\n        })\r\n\r\n        const targetContainer = computed(() => {\r\n            if (!props.container || props.container === 'document.body' || props.container === 'body') return document.body\r\n            if (props.container instanceof window.Node) return props.container\r\n            if (typeof props.container === \"string\") {\r\n                const node = document.querySelector(props.container)\r\n                if (!node) {\r\n                    if (!!props.autoCreateContainer) {\r\n                        const container = document.createElement('div')\r\n                        $plain.utils.addClass(container, props.container.replace('.', ''))\r\n                        document.body.appendChild(container)\r\n                        return container\r\n                    } else {\r\n                        console.error(`can'y find node:${props.container}`)\r\n                        return document.body\r\n                    }\r\n                } else {\r\n                    return node\r\n                }\r\n            }\r\n        })\r\n\r\n        /*---------------------------------------methods-------------------------------------------*/\r\n\r\n        const methods = {\r\n            update: (val) => {\r\n                if (val) {\r\n                    if (!state.isMoved) {\r\n                        // 当前没有移动\r\n                        state.contentEl = refs.content\r\n                        state.containerNode = targetContainer.value as HTMLElement\r\n\r\n                        // @ts-ignore\r\n                        refs.$el.replaceChild(state.commentNode, state.contentEl)\r\n                        state.containerNode.appendChild(state.contentEl)\r\n\r\n                        state.isMoved = true\r\n                    } else {\r\n                        // 当前已经移动过 do nothing\r\n                    }\r\n                } else {\r\n                    if (!!state.isMoved) {\r\n                        state.containerNode!.removeChild(state.contentEl!)\r\n                        // @ts-ignore\r\n                        refs.$el.replaceChild(state.contentEl, state.commentNode)\r\n\r\n                        state.contentEl = null\r\n                        state.containerNode = null\r\n\r\n                        state.isMoved = false\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        watch(() => props.value, (val) => {\r\n            $plain.nextTick(() => methods.update(val))\r\n        },{immediate: true})\r\n\r\n        watch(() => props.container, () => {\r\n            methods.update(false)\r\n            methods.update(true)\r\n        })\r\n\r\n        onBeforeUnmount(() => {\r\n            methods.update(false)\r\n        })\r\n\r\n        return () => (\r\n            <span class=\"pl-portal\" ref=\"el\">\r\n                <span ref=\"content\" class={['pl-portal-content', props.contentClass]} style={props.contentStyle} onClick={emit.clickContent}>\r\n                    {slots.default()}\r\n                </span>\r\n            </span>\r\n        )\r\n    },\r\n})","import './portal.scss'\r\nimport portal from './portal'\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    portal,\r\n])","import {computed, defineComponent, onBeforeUnmount, onMounted, reactive, ref, watch} from \"@vue/composition-api\";\r\nimport {StyleProps, useStyle} from \"@/use/useStyle\";\r\nimport {EditProps, useEdit, useEditOuterLoading} from \"@/use/useEdit\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {FormatPropsType, useProps} from \"@/use/useProps\";\r\nimport {ElRef, useRefs} from \"@/use/useRefs\";\r\n\r\nimport {$plain, DEFAULT_STATUS} from \"@/packages/base\";\r\nimport {KeyboardService, KeyboardServiceOption} from \"@/packages/keyboard\";\r\nimport {SlotFunc, useSlots} from \"@/use/useSlots\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-dialog',\r\n    props: {\r\n        ...StyleProps,\r\n        ...EditProps,\r\n\r\n        value: {type: Boolean},                                                 // model绑定是否打开对话框\r\n\r\n        height: {type: [String, Number]},                                       // 对话框高度\r\n        width: {type: [String, Number]},                                        // 对话框宽度\r\n        minHeight: {type: [String, Number]},                                    // 最小高度\r\n        minWidth: {type: [String, Number]},                                     // 最小宽度\r\n        maxHeight: {type: [String, Number]},                                    // 最大高度\r\n        maxWidth: {type: [String, Number]},                                     // 最大宽度\r\n        fullHeight: {type: Boolean},                                            // 撑满高度\r\n        fullWidth: {type: Boolean},                                             // 撑满宽度\r\n\r\n        wrapperPadding: {type: String, default: '15vh 5vw'},                    // body的内边距\r\n        contentPadding: {type: Boolean, default: true},                         // 内容内边距\r\n        showHead: {type: Boolean, default: true},                               // 是否展示对话框标题栏\r\n        transition: {type: String, default: 'pl-transition-dialog'},            // 弹框动画, pl-transition-dialog，pl-transition-dialog-top,pl-transition-dialog-left,pl-transition-dialog-right,pl-transition-dialog-bottom\r\n\r\n        title: {type: String, default: '提示'},                                 // 对话框标题\r\n        fullscreen: {type: Boolean},                                            // 是否全屏\r\n        mask: {type: Boolean, default: true},                                   // 是否需要遮罩\r\n        dialogClass: {type: String},                                            // 对话框内容自定义类名\r\n        serviceClass: {type: String},                                           // 对话框服务内容自定义类名\r\n        cancelOnClickMask: {type: Boolean, default: true},                       // 是否在点击遮罩的时候关闭对话框\r\n        showClose: {type: Boolean, default: true},                              // 是否展示关闭按钮\r\n        beforeClose: Function,                                                  // 关闭之前的回调\r\n        center: {type: Boolean},                                                // 是否纵向居中对其\r\n        destroyOnClose: {type: Boolean, default: true},                         // 关闭的时候是否销毁内容\r\n\r\n        confirmButton: {type: Boolean},                                         // 是否显示确认按钮\r\n        cancelButton: {type: Boolean},                                          // 是否显示取消按钮\r\n        closeOnConfirm: {type: Boolean, default: true},                         // 是否点击确认按钮之后自动关闭\r\n        closeOnCancel: {type: Boolean, default: true},                          // 是否点击取消按钮之后自动关闭\r\n        confirmButtonText: {type: [String, Object], default: '确认'},           // 确认按钮文本\r\n        cancelButtonText: {type: [String, Object], default: '取消'},            // 取消按钮文本\r\n        confirmOnEnter: {type: Boolean, default: true},                         // 是否在点击 enter 按键的时候触发 confirm 事件\r\n        cancelOnEsc: {type: Boolean, default: true},                            // 是否在点击 esc 按键的时候出发 cancel事件\r\n        disabledCancel: {type: Boolean},                                        // 禁用cancel，当任何动作触发cancel时，不做任何处理，适用于开发者完全控制对话框的情况，对话框内置的按钮以及键盘事件不做任何处理\r\n        disabledConfirm: {type: Boolean},                                       // 禁用confirm，当任何动作触发confirm时，不做任何处理,适用于开发者完全控制对话框的情况,对话框内置的按钮以及键盘事件不做任何处理\r\n\r\n        vertical: {type: String, default: 'start'},                             // 纵向对其方式：start,center,end\r\n        horizontal: {type: String, default: 'center'},                          // 横向对其方式：start,center,end\r\n        loading: {type: Boolean},                                               // 弹出框添加 加载中的遮罩\r\n    },\r\n    setup(props) {\r\n\r\n        const {slots, $slots} = useSlots({\r\n            head: SlotFunc,\r\n            foot: SlotFunc,\r\n        })\r\n\r\n        const refs = useRefs({\r\n            body: ElRef\r\n        })\r\n\r\n        const {emit} = useEvent({\r\n            input: EmitFunc,\r\n            confirm: EmitFunc,\r\n            cancel: EmitFunc,\r\n        })\r\n\r\n        /*---------------------------------------state-------------------------------------------*/\r\n\r\n        const loading = useEditOuterLoading()\r\n\r\n        const {styleComputed} = useStyle({status: null})\r\n\r\n        const propsState = useProps(props, {\r\n            height: FormatPropsType.number,\r\n            width: FormatPropsType.number,\r\n            minHeight: FormatPropsType.number,\r\n            minWidth: FormatPropsType.number,\r\n            maxHeight: FormatPropsType.number,\r\n            maxWidth: FormatPropsType.number,\r\n\r\n            title: FormatPropsType.promise,\r\n        })\r\n\r\n        const state = reactive({\r\n            zIndex: 0,\r\n            isMoved: false,\r\n        })\r\n\r\n        const model = ref(false)\r\n\r\n        /*---------------------------------------computer-------------------------------------------*/\r\n\r\n        const wrapperStyles = computed(() => ({\r\n            alignItems: props.center ? null : `flex-${props.vertical}`.replace('flex-center', 'center'),\r\n            justifyContent: `flex-${props.horizontal}`.replace('flex-center', 'center'),\r\n            zIndex: state.zIndex,\r\n            padding: !!props.center ? null : props.wrapperPadding,\r\n        }))\r\n\r\n        const wrapperClasses = computed(() => ({\r\n            [props.transition]: true,\r\n            ['pl-dialog-wrapper']: true,\r\n            [props.dialogClass!]: !!props.dialogClass,\r\n            [props.serviceClass!]: !!props.serviceClass,\r\n            'pl-dialog-fullscreen': props.fullscreen,\r\n            'pl-dialog-no-mask': !props.mask,\r\n            'pl-dialog-vertical-center': props.center,\r\n            'pl-dialog-no-content-padding': !props.contentPadding,\r\n        }))\r\n\r\n        const bodyClasses = computed(() => [\r\n            'pl-dialog-body',\r\n            `pl-dialog-body-shape-${styleComputed.value.shape}`,\r\n        ])\r\n\r\n        const hasHead = computed(() => {\r\n            return props.showHead\r\n        })\r\n        const hasFoot = computed(() => {\r\n            return !!$slots.foot || props.confirmButton || props.cancelButton\r\n        })\r\n\r\n        const contentStyle = computed(() => {\r\n            let height = props.fullHeight ? `calc(100vh - ${(!!hasHead.value ? 40 : 0) + (!!hasFoot.value ? 60 : 0)}px)` : propsState.height\r\n            let width = props.fullWidth ? '100vw' : propsState.width\r\n\r\n            let minHeight = propsState.minHeight != null ? propsState.minHeight : height != null ? null : '15vh'\r\n            let minWidth = propsState.minWidth != null ? propsState.minWidth : width != null ? null : '25vw'\r\n            let maxHeight = propsState.maxHeight != null ? propsState.maxHeight : height != null ? null : '80vh'\r\n            let maxWidth = propsState.maxWidth != null ? propsState.maxWidth : width != null ? null : '60vw'\r\n\r\n            return {\r\n                height: $plain.utils.suffixPx(height),\r\n                width: $plain.utils.suffixPx(width),\r\n                minHeight: $plain.utils.suffixPx(minHeight),\r\n                minWidth: $plain.utils.suffixPx(minWidth),\r\n                maxHeight: $plain.utils.suffixPx(maxHeight),\r\n                maxWidth: $plain.utils.suffixPx(maxWidth),\r\n            }\r\n        })\r\n\r\n        /*---------------------------------------handler-------------------------------------------*/\r\n\r\n        const handler = {\r\n            keyboardEventOption: {\r\n                \"enter\": () => {\r\n                    if (loading.value) return\r\n                    if (!!props.confirmOnEnter) {\r\n                        methods.confirm()\r\n                    }\r\n                },\r\n                \"esc\": () => {\r\n                    if (loading.value) return\r\n                    if (!!props.cancelOnEsc) {\r\n                        methods.cancel()\r\n                    }\r\n                }\r\n            } as KeyboardServiceOption,\r\n            clickWrapper: (e: MouseEvent) => {\r\n                if (loading.value) {\r\n                    return\r\n                }\r\n                if (!!props.cancelOnClickMask) {\r\n                    if (!!refs.body && !refs.body.contains(e.target as HTMLElement)) {\r\n                        methods.cancel()\r\n                    }\r\n                }\r\n            },\r\n            clickClose: () => {\r\n                if (loading.value) {\r\n                    return\r\n                }\r\n                methods.cancel()\r\n            }\r\n        }\r\n\r\n        /*---------------------------------------methods-------------------------------------------*/\r\n\r\n        const methods = {\r\n            show: async () => {\r\n                if (!!model.value) return\r\n                if (!state.isMoved) {\r\n                    state.isMoved = true\r\n                    await $plain.nextTick()\r\n                }\r\n                KeyboardService.listen(handler.keyboardEventOption)\r\n                KeyboardService.cancelActiveElement()\r\n\r\n                state.zIndex = $plain.nextIndex()\r\n                await methods.open()\r\n            },\r\n            async hide() {\r\n                if (!model.value) return\r\n                KeyboardService.unbindListener(handler.keyboardEventOption)\r\n\r\n                await this.close()\r\n            },\r\n            confirm() {\r\n                if (props.disabledConfirm) {\r\n                    return\r\n                }\r\n                if (props.closeOnConfirm) {\r\n                    methods.hide()\r\n                }\r\n                emit.confirm()\r\n            },\r\n            cancel() {\r\n                if (props.disabledCancel) {\r\n                    return\r\n                }\r\n                if (props.closeOnCancel) {\r\n                    methods.hide()\r\n                }\r\n                emit.cancel()\r\n            },\r\n            open() {\r\n                model.value = true\r\n                emit.input(model.value)\r\n            },\r\n            async close() {\r\n                try {\r\n                    if (!!props.beforeClose) {\r\n                        loading.value = true\r\n                        let flag = await props.beforeClose!()\r\n                        if (flag === false) return\r\n                    }\r\n                    model.value = false\r\n                    emit.input(model.value)\r\n                } catch (e) {\r\n                    console.error(e)\r\n                } finally {\r\n                    loading.value = false\r\n                }\r\n            },\r\n        }\r\n\r\n        /*---------------------------------------watch-------------------------------------------*/\r\n\r\n        watch(() => props.value, (val) => {\r\n            if (val) {\r\n                methods.show()\r\n            } else {\r\n                methods.hide()\r\n            }\r\n        })\r\n\r\n        /*---------------------------------------lifecycle-------------------------------------------*/\r\n\r\n        onMounted(() => {\r\n            if (!!props.value) {\r\n                methods.show()\r\n            }\r\n        })\r\n\r\n        onBeforeUnmount(() => {\r\n            KeyboardService.unbindListener(handler.keyboardEventOption)\r\n        })\r\n\r\n        return () => {\r\n            const directives = props.destroyOnClose ? [] : [{name: 'show', value: model.value,}]\r\n\r\n            return (\r\n                <pl-portal class=\"pl-dialog\"\r\n                           container=\".pl-dialog-container\"\r\n                           autoCreateContainer\r\n                           value={state.isMoved}>\r\n                    <transition name={props.transition}>\r\n                        {(!props.destroyOnClose ? true : model.value) && <div onClick={handler.clickWrapper} style={wrapperStyles.value} class={wrapperClasses.value} {...{directives}}>\r\n                            <div class={bodyClasses.value} ref=\"body\">\r\n                                {hasHead.value && <div class=\"pl-dialog-head\">\r\n                                    {slots.head(<span>{propsState.title}</span>)}\r\n                                    {!!props.showClose && <pl-button icon=\"el-icon-close\" class=\"pl-dialog-head-close\" shape=\"round\" mode=\"text\" onClick={handler.clickClose}/>}\r\n                                </div>}\r\n                                <div class=\"pl-dialog-content\" style={contentStyle.value}>\r\n                                    {slots.default()}\r\n                                </div>\r\n                                {hasFoot.value && <div class=\"pl-dialog-foot\">\r\n                                    {slots.foot()}\r\n\r\n                                    {!!props.cancelButton && <pl-button label={props.cancelButtonText} mode=\"stroke\" onClick={methods.cancel}/>}\r\n                                    {!!props.confirmButton && <pl-button label={props.confirmButtonText} onClick={methods.confirm}/>}\r\n                                </div>}\r\n                                <pl-loading-mask value={loading.value}/>\r\n                            </div>\r\n                        </div>}\r\n                    </transition>\r\n                </pl-portal>\r\n            )\r\n        }\r\n    },\r\n})","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pl-dialog-service-controller\"},_vm._l((_vm.count),function(item){return _c('pl-dialog-service-item',{key:item,ref:\"items\",refInFor:true})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"pl-dialog-service-controller\">\r\n        <pl-dialog-service-item v-for=\"item in count\" :key=\"item\" ref=\"items\"/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n    export default {\r\n        name: \"pl-dialog-service-controller\",\r\n        props: {},\r\n        data() {\r\n            return {\r\n                count: 1,\r\n            }\r\n        },\r\n        methods: {\r\n            async newService(...args) {\r\n                let service = this.$refs.items.find(({state: {show}}) => !show)\r\n                if (!service) {\r\n                    this.count++\r\n                    await this.$plain.nextTick()\r\n                    return this.newService(...args)\r\n                } else {\r\n                    return service.methods.open(...args)\r\n                }\r\n            },\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pl-dialog-service-controller.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pl-dialog-service-controller.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./pl-dialog-service-controller.vue?vue&type=template&id=493d0e82&\"\nimport script from \"./pl-dialog-service-controller.vue?vue&type=script&lang=js&\"\nexport * from \"./pl-dialog-service-controller.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import {computed, defineComponent, reactive} from \"@vue/composition-api\";\r\nimport {CompRef, useRefs} from \"@/use/useRefs\";\r\nimport {useRefer} from \"@/use/useRefer\";\r\n\r\nimport {$plain} from \"@/packages/base\";\r\n\r\nconst optionKeys = [\r\n    'message',\r\n    'editType',\r\n    'editValue',\r\n    'editReadonly',\r\n    'status',\r\n    'render',\r\n    'onConfirm',\r\n    'onCancel',\r\n]\r\n\r\nexport default defineComponent({\r\n    name: 'pl-dialog-service-item',\r\n    setup(props, context) {\r\n\r\n        const refs = useRefs({\r\n            input: CompRef,\r\n        })\r\n\r\n        const state = reactive({\r\n            show: false,\r\n            key: 0,\r\n            message: null as null | string | object,\r\n            option: null as null | object,\r\n            editValue: null as null | string,\r\n        })\r\n\r\n        const targetOption = computed(() => {\r\n            let option = {} as any\r\n            let binding = {} as any\r\n\r\n            if (!state.message) {\r\n                return {\r\n                    option,\r\n                    binding,\r\n                }\r\n            }\r\n\r\n            if (typeof state.message === 'object') {\r\n                Object.keys(state.message).forEach((key) => {\r\n                    if (optionKeys.indexOf(key) > -1) {\r\n                        option[key] = state.message![key]\r\n                    } else {\r\n                        binding[key] = state.message![key]\r\n                    }\r\n                })\r\n            } else {\r\n                option.message = String(state.message)\r\n                if (!!state.option) {\r\n                    Object.keys(state.option).forEach((key) => {\r\n                        if (optionKeys.indexOf(key) > -1) {\r\n                            option[key] = state.option![key]\r\n                        } else {\r\n                            binding[key] = state.option![key]\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n\r\n            // console.log({option,binding})\r\n\r\n            return {\r\n                option,\r\n                binding,\r\n            }\r\n        })\r\n\r\n        const handler = {\r\n            confirm: () => {\r\n                if (!!targetOption.value.option.onConfirm) {\r\n                    targetOption.value.option.onConfirm(!targetOption.value.option.editType ? undefined : state.editValue)\r\n                }\r\n            },\r\n            cancel: () => {\r\n                if (!!targetOption.value.option.onCancel) {\r\n                    targetOption.value.option.onCancel()\r\n                }\r\n            }\r\n        }\r\n\r\n        const methods = {\r\n            open: (message, option) => {\r\n                state.message = message\r\n                state.option = option\r\n\r\n                state.key++\r\n                state.show = true\r\n\r\n                $plain.nextTick(async () => {\r\n                    await $plain.utils.delay(0)\r\n                    if (!!targetOption.value.option.editType) {\r\n                        state.editValue = targetOption.value.option.editValue\r\n                        refs.input.methods.focus()\r\n                    }\r\n                })\r\n\r\n                return () => methods.close()\r\n            },\r\n            close() {\r\n                state.show = false\r\n            },\r\n        }\r\n\r\n        useRefer({\r\n            methods,\r\n            targetOption,\r\n            state,\r\n        })\r\n\r\n        return () => {\r\n\r\n            let content = null as any\r\n            let {option, binding} = targetOption.value\r\n\r\n            let serviceClass = 'pl-dialog-service';\r\n            let status = option.status === null ? null : (option.status || 'primary')\r\n\r\n            if (!!option.editType) {\r\n                binding = {...binding}\r\n                if (option.editType === 'input') {\r\n                    binding.height = binding.height || '50px'\r\n                } else {\r\n                    binding.height = binding.height || '500px'\r\n                }\r\n                serviceClass += ` pl-dialog-service-edit`\r\n\r\n                content = <pl-input ref=\"input\"\r\n                                    minHeight={null}\r\n                                    maxHeight={null}\r\n                                    autoHeight={false}\r\n                                    block\r\n                                    value={option.editValue}\r\n                                    onInput={val => state.editValue = val}\r\n                                    readonly={option.editReadonly}\r\n                                    textarea={option.editType === 'textarea'}/>\r\n            } else if (!!option.message) {\r\n                if (!!status) {\r\n                    serviceClass += ` pl-dialog-service-status-${status}`\r\n                }\r\n                content = <div class=\"pl-dialog-service-item-message\">{!!status && $plain.STATUS[status] && <pl-icon icon={$plain.STATUS[status].icon}/>}{option.message}</div>\r\n            } else if (!!option.render) {\r\n                content = option.render(context.parent!.$createElement)\r\n            }\r\n\r\n\r\n            return (\r\n                <pl-dialog class=\"pl-dialog-service-item\"\r\n                           serviceClass={serviceClass}\r\n                           value={state.show}\r\n                           onInput={val => state.show = val}\r\n                           key={state.key}\r\n\r\n                           onConfirm={handler.confirm}\r\n                           onCancel={handler.cancel}\r\n\r\n                           {...{props: binding}}>{content}</pl-dialog>\r\n            )\r\n        }\r\n    },\r\n})","import Controller from './pl-dialog-service-controller.vue'\r\n\r\nexport default {\r\n    install(Vue) {\r\n        const $plain = Vue.prototype.$plain\r\n        let controller = null as any\r\n\r\n        const dialog = async (...args) => {\r\n            if (!controller) {\r\n                controller = await $plain.newInstance(Controller)\r\n            }\r\n            return controller.newService(...args)\r\n        }\r\n\r\n        Object.keys($plain.STATUS).forEach(status => {\r\n            dialog[status] = (message, option) => {\r\n                return dialog(message, {status, ...(option || {})})\r\n            }\r\n        })\r\n\r\n        Vue.prototype.$dialog = dialog\r\n    }\r\n};","import './dialog.scss'\r\nimport dialog from './dialog'\r\nimport controller from './pl-dialog-service-controller.vue'\r\nimport serviceItem from './dialog-service-item'\r\nimport Service from './DialogService'\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    dialog,\r\n    controller,\r\n    serviceItem,\r\n], [Service])","import './popper.scss'\r\nimport popper from './popper'\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    popper,\r\n])","import {computed, defineComponent} from \"@vue/composition-api\";\r\nimport {POPPER_PROPS} from \"@/packages/popper/popper\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {useModel} from \"@/use/useModel\";\r\nimport {SlotFunc, useSlots} from \"@/use/useSlots\";\r\n\r\n\r\nexport default defineComponent({\r\n    name: 'pl-popover',\r\n    props: {\r\n        ...POPPER_PROPS,\r\n\r\n        /* adjust default props*/\r\n        sizeEqual: {type: Boolean, default: true},\r\n        trigger: {type: String, default: 'click'},\r\n        transition: {type: String, default: 'pl-transition-popper-drop'},\r\n        placement: {type: String, default: 'bottom-start'},\r\n        offset: {type: [Number, String], default: 2},\r\n        arrow: {type: Boolean, default: false},\r\n        height: {type: [Number, String], default: 156},\r\n\r\n        scrollProps: {type: Object},\r\n    },\r\n    setup(props) {\r\n\r\n        const {slots} = useSlots({\r\n            popper: SlotFunc,\r\n        })\r\n\r\n        const {emit} = useEvent({\r\n            input: EmitFunc,\r\n        })\r\n\r\n        const popperProps = computed(() => {\r\n            const result = Object.keys(POPPER_PROPS).reduce((ret, key) => {\r\n                switch (key) {\r\n                    case 'popperClass':\r\n                        ret[key] = !!props[key] ? ['pl-popover-popper', props[key]].join(' ') : 'pl-popover-popper'\r\n                        break\r\n                    default:\r\n                        ret[key] = props[key]\r\n                        break\r\n                }\r\n\r\n                return ret\r\n            }, {})\r\n            // console.log('popperProps', result)\r\n            return result\r\n        })\r\n\r\n        const model = useModel(() => props.value, emit.input, false)\r\n\r\n        const handler = {\r\n            input: (val) => {\r\n                model.value = val\r\n            },\r\n        }\r\n\r\n        return () => (\r\n            <pl-popper class=\"pl-popover\"\r\n                       {...{props: popperProps.value}}\r\n                       value={model.value}\r\n                       noContentPadding\r\n                       onInput={handler.input}\r\n            >\r\n                {slots.default()}\r\n                <template slot=\"popper\">\r\n                    {props.width == null && props.height == null && !props.sizeEqual ? (\r\n                        slots.popper()\r\n                    ) : (\r\n                        <pl-scroll ref=\"scroll\" fitHostWidth {...{props: props.scrollProps}}>\r\n                            {slots.popper()}\r\n                        </pl-scroll>\r\n                    )}\r\n                </template>\r\n            </pl-popper>\r\n\r\n        )\r\n    },\r\n})","import './popover.scss'\r\nimport popover from './popover'\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    popover,\r\n])","import {computed, defineComponent, reactive, watch} from \"@vue/composition-api\";\r\nimport {EditProps} from \"@/use/useEdit\";\r\nimport {FormatPropsType, useProps} from \"@/use/useProps\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {ElRef, useRefs} from \"@/use/useRefs\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\n\r\nconst bg = require('./opacity.png')\r\n\r\nexport default defineComponent({\r\n    name: 'pl-color-alpha-slider',\r\n    props: {\r\n        ...EditProps,\r\n\r\n        color: {type: String},                                      // 当前颜色\r\n        value: {type: Number, default: 0},                          // 透明度\r\n        size: {type: [String, Number]},                             // 大小\r\n        thumbSize: {type: [String, Number], default: 10},           // 指示器宽度\r\n    },\r\n    setup(props) {\r\n\r\n        const refs = useRefs({\r\n            el: ElRef,\r\n        })\r\n\r\n        const {emit} = useEvent({\r\n            input: EmitFunc,\r\n        })\r\n\r\n        const propsState = useProps(props, {\r\n            size: FormatPropsType.number,\r\n            thumbSize: FormatPropsType.number,\r\n        })\r\n\r\n        const state = reactive({\r\n            top: 0,\r\n            tempTop: 0,\r\n            startY: null as null | number,\r\n        })\r\n\r\n        const styles = computed(() => ({\r\n            height: $plain.utils.suffixPx(propsState.size),\r\n            backgroundImage: `url(${bg})`,\r\n        }))\r\n\r\n        const shadowStyles = computed(() => ({\r\n            background: `linear-gradient(to top, ${props.color}, rgba(255,255,255,0))`,\r\n        }))\r\n\r\n        const thumbStyles = computed(() => ({\r\n            top: `${state.top}px`,\r\n            width: $plain.utils.suffixPx(propsState.thumbSize)\r\n        }))\r\n\r\n        const height = computed(() => propsState.size - propsState.thumbSize)\r\n\r\n        const methods = {\r\n            setTop: (top) => {\r\n                state.top = Math.max(0, Math.min(height.value, top))\r\n            },\r\n            emitValue: () => {\r\n                emit.input(Number((state.top / height.value * 100).toFixed(0)))\r\n            }\r\n        }\r\n\r\n        const handler = {\r\n            mousedown: (e: MouseEvent) => {\r\n                document.body.addEventListener('mousemove', handler.mousemove)\r\n                document.body.addEventListener('mouseup', handler.mouseup)\r\n                if (e.target === refs.$el) {\r\n                    methods.setTop(e.offsetY - propsState.thumbSize / 2)\r\n                    methods.emitValue()\r\n                }\r\n                $plain.disableSelect()\r\n                state.startY = e.clientY\r\n                state.tempTop = state.top\r\n            },\r\n            mousemove: (e: MouseEvent) => {\r\n                const durY = e.clientY - state.startY!\r\n                methods.setTop(state.tempTop + durY)\r\n                methods.emitValue()\r\n            },\r\n            mouseup: (e: MouseEvent) => {\r\n                document.body.removeEventListener('mousemove', handler.mousemove)\r\n                document.body.removeEventListener('mouseup', handler.mouseup)\r\n                $plain.enableSelect()\r\n            },\r\n        }\r\n\r\n        watch(() => props.value, (val) => {\r\n            $plain.nextTick(() => methods.setTop(val / 100 * height.value))\r\n        },{immediate: true})\r\n\r\n        return () => (\r\n            <div class=\"pl-color-alpha-slider\" style={styles.value} onMousedown={handler.mousedown} ref={\"el\"}>\r\n                <div class=\"pl-color-alpha-shadow\" style={shadowStyles.value}/>\r\n                <span class=\"pl-color-alpha-thumb\" style={thumbStyles.value}/>\r\n            </div>\r\n        )\r\n    },\r\n})","import {computed, defineComponent, reactive, watch} from \"@vue/composition-api\";\r\nimport {FormatPropsType, useProps} from \"@/use/useProps\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {ElRef, useRefs} from \"@/use/useRefs\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-color-hue-slider',\r\n    props: {\r\n        value: {type: Number, default: 0},                          // 当前色相\r\n        size: {type: [String, Number]},                             // 宽度\r\n        thumbSize: {type: [String, Number], default: 10},           // 指示器宽度\r\n    },\r\n    setup(props) {\r\n\r\n        const refs = useRefs()\r\n\r\n        const propsState = useProps(props, {\r\n            size: FormatPropsType.number,\r\n            thumbSize: FormatPropsType.number,\r\n        })\r\n\r\n        const {emit} = useEvent({\r\n            input: EmitFunc,\r\n        })\r\n\r\n        const state = reactive({\r\n            left: 0,                                                // 指示器左偏移位置\r\n            tempLeft: 0,                                            // 拖拽的时候，指示器的缓存左偏移位置\r\n            startX: null as null | number,                          // 拖拽的时候起始位置\r\n        })\r\n\r\n        const styles = computed(() => ({\r\n            width: $plain.utils.suffixPx(propsState.size)\r\n        }))\r\n\r\n        const thumbStyles = computed(() => ({\r\n            left: `${state.left}px`,\r\n            width: $plain.utils.suffixPx(propsState.thumbSize)\r\n        }))\r\n\r\n        const width = computed(() => propsState.size - propsState.thumbSize)\r\n\r\n        const methods = {\r\n            setLeft: (left) => {\r\n                state.left = Math.max(0, Math.min(width.value, left))\r\n            },\r\n            emitValue: () => {\r\n                emit.input(Number((state.left / width.value * 360).toFixed(0)))\r\n            }\r\n        }\r\n\r\n        const handler = {\r\n            mousedown: (e: MouseEvent) => {\r\n                document.body.addEventListener('mousemove', handler.mousemove)\r\n                document.body.addEventListener('mouseup', handler.mouseup)\r\n                if (e.target === refs.$el) {\r\n                    methods.setLeft(e.offsetX - propsState.thumbSize / 2)\r\n                    methods.emitValue()\r\n                }\r\n                $plain.disableSelect()\r\n                state.startX = e.clientX\r\n                state.tempLeft = state.left\r\n            },\r\n            mousemove: (e: MouseEvent) => {\r\n                const durX = e.clientX - state.startX!\r\n                methods.setLeft(state.tempLeft + durX)\r\n                methods.emitValue()\r\n            },\r\n            mouseup: () => {\r\n                document.body.removeEventListener('mousemove', handler.mousemove)\r\n                document.body.removeEventListener('mouseup', handler.mouseup)\r\n                $plain.enableSelect()\r\n            },\r\n        }\r\n\r\n        watch(() => props.value, (val) => {\r\n            $plain.nextTick(() => methods.setLeft(val / 360 * width.value))\r\n        },{immediate: true})\r\n\r\n        return () => (\r\n            <div class=\"pl-color-hue-slider\" onMousedown={handler.mousedown} style={styles.value}>\r\n                <div class=\"pl-color-hue-slider-thumb\" style={thumbStyles.value}/>\r\n            </div>\r\n        )\r\n    },\r\n})","/*---------------------------------------rgb to hex-------------------------------------------*/\r\n\r\nconst INT_HEX_MAP = {10: 'A', 11: 'B', 12: 'C', 13: 'D', 14: 'E', 15: 'F'};\r\n\r\nconst hexOne = function (value: number) {\r\n    value = Math.min(Math.round(value), 255);\r\n    const high = Math.floor(value / 16);\r\n    const low = value % 16;\r\n    return '' + (INT_HEX_MAP[high] || high) + (INT_HEX_MAP[low] || low);\r\n};\r\n\r\n/**\r\n * rgb -> hex\r\n * @author  韦胜健\r\n * @date    2020/4/4 8:58\r\n */\r\nexport const rgb2hex = function (r: number, g: number, b: number): string {\r\n    if (isNaN(r) || isNaN(g) || isNaN(b)) return '';\r\n    return '#' + hexOne(r) + hexOne(g) + hexOne(b);\r\n};\r\n\r\n/*---------------------------------------rgb to hsv-------------------------------------------*/\r\n\r\n/*是否为0.**形式的字符串*/\r\nconst isOnePointZero = function (n: string | number): boolean {\r\n    return typeof n === 'string' && n.indexOf('.') !== -1 && parseFloat(n) === 1;\r\n};\r\n\r\n/*是否为百分比字符串*/\r\nconst isPercentage = function (n: any): boolean {\r\n    return typeof n === 'string' && n.indexOf('%') !== -1;\r\n};\r\n\r\n/*将[0,n]转换为[0,1]*/\r\nconst bound01 = function (value, max): number {\r\n    if (isOnePointZero(value)) value = '100%';\r\n    const processPercent = isPercentage(value);\r\n    value = Math.min(max, Math.max(0, parseFloat(value)));\r\n    // Automatically convert percentage into number\r\n    if (processPercent) {\r\n        value = parseInt(String(value * max), 10) / 100;\r\n    }\r\n    // Handle floating point rounding errors\r\n    if ((Math.abs(value - max) < 0.000001)) {\r\n        return 1;\r\n    }\r\n    // Convert into [0, 1] range if it isn't already\r\n    return (value % max) / parseFloat(max);\r\n};\r\n\r\n/**\r\n * rgb -> hsv\r\n * @author  韦胜健\r\n * @date    2020/4/4 9:09\r\n */\r\nexport const rgb2hsv = function (r: number, g: number, b: number): { h: number, s: number, v: number } {\r\n    r = bound01(r, 255);\r\n    g = bound01(g, 255);\r\n    b = bound01(b, 255);\r\n\r\n    const max = Math.max(r, g, b);\r\n    const min = Math.min(r, g, b);\r\n    let h, s;\r\n    let v = max;\r\n\r\n    const d = max - min;\r\n    s = max === 0 ? 0 : d / max;\r\n\r\n    if (max === min) {\r\n        h = 0; // achromatic\r\n    } else {\r\n        switch (max) {\r\n            case r:\r\n                h = (g - b) / d + (g < b ? 6 : 0);\r\n                break;\r\n            case g:\r\n                h = (b - r) / d + 2;\r\n                break;\r\n            case b:\r\n                h = (r - g) / d + 4;\r\n                break;\r\n        }\r\n        h /= 6;\r\n    }\r\n    const ret = {h: h * 360, s: s * 100, v: v * 100}\r\n    Object.keys(ret).forEach(key => ret[key] = ret[key].toFixed(0) - 0)\r\n    return ret;\r\n};\r\n\r\n/*---------------------------------------hsv -> rgb-------------------------------------------*/\r\n/*\r\n *  hsv颜色值转rgb颜色值\r\n *  @author              martsforever\r\n *  @datetime           2019/2/16 22:43\r\n *  @param hue          色调，用角度度量，取值范围为0°～360°，从红色开始按逆时针方向计算，红色为0°，绿色为120°,蓝色为240°。它们的补色是：黄色为60°，青色为180°,品红为300°；\r\n *  @param saturation   饱和度，一种颜色，可以看成是某种光谱色与白色混合的结果。其中光谱色所占的比例愈大，颜色接近光谱色的程度就愈高，颜色的饱和度也就愈高。饱和度高，颜色则深而艳。光谱色的白光成分为0，饱和度达到最高。通常取值范围为0%～100%，值越大，颜色越饱和。\r\n *  @param value        明度，明度表示颜色明亮的程度，对于光源色，明度值与发光体的光亮度有关；对于物体色，此值和物体的透射比或反射比有关。通常取值范围为0%（黑）到100%（白）。\r\n */\r\nexport const hsv2rgb = function (hue: number, saturation: number, value: number): { r: number, g: number, b: number } {\r\n    hue = bound01(hue, 360) * 6;\r\n    saturation = bound01(saturation, 100);\r\n    value = bound01(value, 100);\r\n\r\n    const i = Math.floor(hue);\r\n    const f = hue - i;\r\n    const p = value * (1 - saturation);\r\n    const q = value * (1 - f * saturation);\r\n    const t = value * (1 - (1 - f) * saturation);\r\n    const mod = i % 6;\r\n    const r = [value, q, p, p, t, value][mod];\r\n    const g = [t, value, value, q, p, p][mod];\r\n    const b = [p, p, t, value, value, q][mod];\r\n\r\n    return {\r\n        r: Math.round(r * 255),\r\n        g: Math.round(g * 255),\r\n        b: Math.round(b * 255)\r\n    };\r\n};\r\n\r\n/*---------------------------------------other-------------------------------------------*/\r\n\r\nconst HEX_INT_MAP = {A: 10, B: 11, C: 12, D: 13, E: 14, F: 15};\r\n\r\nexport const parseHexChannel = function (hex) {\r\n    if (hex.length === 2) {\r\n        return (HEX_INT_MAP[hex[0].toUpperCase()] || +hex[0]) * 16 + (HEX_INT_MAP[hex[1].toUpperCase()] || +hex[1]);\r\n    }\r\n\r\n    return HEX_INT_MAP[hex[1].toUpperCase()] || +hex[1];\r\n};\r\n\r\n/**\r\n * 判断是否为一个有效的颜色值\r\n * @author  韦胜健\r\n * @date    2020/4/7 11:32\r\n */\r\nexport function isEffectiveColorString(color: string): boolean {\r\n    if (!color) return true\r\n    if (color.indexOf('#') === 0 && /^#[0-9a-fA-F]{6}$/.test(color)) {\r\n        return true\r\n    } else if (color.indexOf('rgb') === 0 && /^rgb(\\(\\d{1,3}(,\\d{1,3}){2}|a\\(\\d{1,3}(,\\d{1,3}){2},(1\\.?0*|0\\.\\d+))\\)$/.test(color)) {\r\n        return true\r\n    }\r\n    return false\r\n}","import {computed, defineComponent, reactive, watch} from \"@vue/composition-api\";\r\nimport {FormatPropsType, useProps} from \"@/use/useProps\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {hsv2rgb} from \"@/packages/color-picker/color/ColorUtils\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-color-sv-panel',\r\n    props: {\r\n        hue: {type: Number, default: 360},                      // 色相\r\n        saturation: {type: Number},                             // 饱和度\r\n        value: {type: Number},                                  // 亮度\r\n\r\n        height: {type: [String, Number], default: 180},         // 面板高度\r\n        width: {type: [String, Number], default: 240},          // 面板宽度\r\n    },\r\n    setup(props) {\r\n\r\n        const {emit} = useEvent({\r\n            change: EmitFunc,\r\n            dblclick: EmitFunc,\r\n        })\r\n\r\n        const propsState = useProps(props, {\r\n            height: FormatPropsType.number,\r\n            width: FormatPropsType.number,\r\n        })\r\n\r\n        const state = reactive({\r\n            val: props.value == null ? null : 100 - Number(props.value),\r\n            saturation: props.saturation,\r\n\r\n            startX: 0,\r\n            startY: 0,\r\n            tempSaturation: 0,\r\n            tempValue: 0,\r\n        })\r\n\r\n        const styles = computed(() => {\r\n            const color = hsv2rgb(props.hue, 100, 100)\r\n            return {\r\n                width: $plain.utils.suffixPx(propsState.width),\r\n                height: $plain.utils.suffixPx(propsState.height),\r\n                backgroundColor: `rgb(${color.r},${color.g},${color.b})`,\r\n            }\r\n        })\r\n\r\n        const thumbStyles = computed(() => {\r\n            let {val, saturation} = state\r\n            val = val == null ? 50 : val\r\n            saturation = saturation == null ? 50 : saturation\r\n\r\n            return {\r\n                transform: `translate3d(${saturation * propsState.width / 100}px,${val * propsState.height / 100}px,0)`,\r\n            }\r\n        })\r\n\r\n\r\n        const methods = {\r\n            updatePosition: (x: number, y: number, isMouseDown = true): void => {\r\n                const durX = Number((x / propsState.width * 100).toFixed(0));\r\n                const durY = Number((y / propsState.height * 100).toFixed(0));\r\n\r\n                state.saturation = (isMouseDown ? 0 : state.tempSaturation) + durX\r\n                state.val = (isMouseDown ? 0 : state.tempValue) + durY\r\n                state.saturation = Math.max(0, Math.min(100, state.saturation))\r\n                state.val = Math.max(0, Math.min(100, state.val))\r\n\r\n                emit.change({hue: props.hue, saturation: state.saturation, value: 100 - state.val})\r\n            },\r\n        }\r\n\r\n        const handler = {\r\n            mousedown: (e: MouseEvent) => {\r\n                document.body.addEventListener('mousemove', handler.mousemove)\r\n                document.body.addEventListener('mouseup', handler.mouseup)\r\n                $plain.disableSelect()\r\n                methods.updatePosition(e.offsetX, e.offsetY)\r\n                state.startX = e.clientX\r\n                state.startY = e.clientY\r\n                state.tempSaturation = state.saturation as number\r\n                state.tempValue = state.val as number\r\n            },\r\n            mousemove: (e: MouseEvent) => {\r\n                methods.updatePosition(e.clientX - state.startX, e.clientY - state.startY, false)\r\n            },\r\n            mouseup: () => {\r\n                document.body.removeEventListener('mousemove', handler.mousemove)\r\n                document.body.removeEventListener('mouseup', handler.mouseup)\r\n                $plain.enableSelect()\r\n            },\r\n            dblclick: async (e: MouseEvent) => {\r\n                await $plain.nextTick()\r\n                emit.dblclick(e)\r\n            },\r\n        }\r\n\r\n        watch(() => props.value, (val) => {\r\n            if (val == null) {\r\n                state.val = null\r\n                return\r\n            }\r\n            if (state.val !== 100 - val) state.val = 100 - val\r\n        })\r\n        watch(() => props.saturation, (val) => {\r\n            if (val == null) {\r\n                state.saturation = undefined\r\n                return\r\n            }\r\n            if (state.saturation !== val) state.saturation = val\r\n        })\r\n\r\n\r\n        return () => (\r\n            <div class=\"pl-color-sv-panel\" style={styles.value} onMousedown={handler.mousedown} onDblclick={handler.dblclick}>\r\n                <span class=\"pl-color-sv-thumb\" style={thumbStyles.value}/>\r\n            </div>\r\n        )\r\n    },\r\n})","import {hsv2rgb, parseHexChannel, rgb2hex, rgb2hsv} from \"./ColorUtils\";\r\n\r\nexport enum ColorFormat {\r\n    hex = 'hex',\r\n    rgb = 'rgb'\r\n}\r\n\r\nexport class Color {\r\n    red: number = 0                                     // 红\r\n    green: number = 0                                   // 绿\r\n    blue: number = 0                                    // 蓝\r\n\r\n    hue: number = 0                                     // 色相\r\n    saturation: number = 0                              // 饱和度\r\n    val: number = 0                                     // 明亮度\r\n\r\n    alpha: number = 0                                   // 透明度\r\n    hex: string = ''                                    // 十六进制值\r\n    enableAlpha: boolean = false                        // 是否启用透明度\r\n    format: ColorFormat = ColorFormat.hex               // 格式\r\n\r\n    _value;                                             // 当前值，hex或者rgb字符串\r\n\r\n    /*当前rgb颜色值，如果启用透明度，则为rgba*/\r\n    get rgbColor(): string | undefined {\r\n        if (!this.red && !this.green && !this.blue) {\r\n            return undefined\r\n        }\r\n        return `rgb${this.enableAlpha ? 'a' : ''}(${this.red},${this.green},${this.blue}${this.enableAlpha ? ',' + (this.alpha / 100).toFixed(2) : ''})`\r\n    }\r\n\r\n    /*当前颜色，可能是rgb，也可能是hex*/\r\n    get currentColor(): string | undefined {\r\n        /*如果是带透明度的，强制使用rgb格式*/\r\n        return this.enableAlpha || this.format === 'rgb' ? this.rgbColor : this.hex\r\n    }\r\n\r\n    /*当前颜色值*/\r\n    get color(): string | undefined {\r\n        if (this._value == null) return undefined\r\n        return this.currentColor\r\n    }\r\n\r\n    constructor(value: string, enableAlpha: boolean, format: ColorFormat) {\r\n        if (format != null) {\r\n            this.format = format\r\n        }\r\n        if (enableAlpha != null) {\r\n            this.enableAlpha = enableAlpha\r\n        }\r\n\r\n        this.updateByString(value, true, enableAlpha)\r\n    }\r\n\r\n    /**\r\n     * 根据值更新color信息\r\n     * @author  韦胜健\r\n     * @date    2020/4/4 21:57\r\n     */\r\n    public setValue(value: string): void {\r\n        this.updateByString(value, false)\r\n    }\r\n\r\n    /**\r\n     * 根据新值更新当前color信息\r\n     * @author  韦胜健\r\n     * @date    2020/4/4 12:10\r\n     */\r\n    public updateByString(value: string, needInitializedEnableAlpha: boolean = false, enableAlpha?: boolean): void {\r\n        this._value = value\r\n        if (value == null) {\r\n            this.hue = 0\r\n            this.saturation = 0\r\n            this.val = 100\r\n            this.alpha = 100\r\n            return\r\n        }\r\n        /*如果输入值是rgb格式*/\r\n        if (value.indexOf('rgb') !== -1) {\r\n            const parts = value.replace(/rgba|rgb|\\(|\\)/gm, '').split(/\\s|,/g).filter((val) => val !== '').map((val, index) => index > 2 ? parseFloat(val) : parseInt(val, 10));\r\n            if (parts.length === 4) {\r\n                this.alpha = Math.floor(parseFloat(`${parts[3]}`) * 100);\r\n                needInitializedEnableAlpha && (enableAlpha == null) && (this.enableAlpha = true)\r\n            } else if (parts.length === 3) {\r\n                this.alpha = 100;\r\n                needInitializedEnableAlpha && (enableAlpha == null) && (this.enableAlpha = false)\r\n            }\r\n            if (parts.length >= 3) {\r\n                this.setRgb(parts[0], parts[1], parts[2])\r\n            }\r\n            return\r\n        }\r\n\r\n        /*如果是16进制格式*/\r\n        if (value.indexOf('#') !== -1) {\r\n            const hex = value.replace('#', '').trim();\r\n            if (hex.length === 8) {\r\n                this.alpha = Math.floor(parseHexChannel(hex.substring(6)) / 255 * 100);\r\n                needInitializedEnableAlpha && (enableAlpha == null) && (this.enableAlpha = true)\r\n            } else if (hex.length === 3 || hex.length === 6) {\r\n                this.alpha = 100;\r\n                needInitializedEnableAlpha && (enableAlpha == null) && (this.enableAlpha = false)\r\n            }\r\n            this.setHex(value)\r\n        }\r\n    }\r\n\r\n    /*\r\n   *  通过rgb设置当前颜色\r\n   *  @author     martsforever\r\n   *  @datetime   2019/2/17 19:49\r\n   */\r\n    setRgb(r: number, g: number, b: number): void {\r\n        this.red = r\r\n        this.green = g\r\n        this.blue = b\r\n\r\n        /*设置hsv*/\r\n        const {h, s, v} = rgb2hsv(r, g, b)\r\n        this.hue = h\r\n        this.saturation = s\r\n        this.val = v\r\n\r\n        /*设置hex*/\r\n        this.hex = rgb2hex(r, g, b)\r\n\r\n        this._value = this.currentColor\r\n    }\r\n\r\n    /*\r\n     *  根据当前rgb更新颜色\r\n     *  @author     martsforever\r\n     *  @datetime   2019/2/17 19:51\r\n     */\r\n    updateByRgb(): void {\r\n        this.setRgb(this.red, this.green, this.blue)\r\n    }\r\n\r\n    /*\r\n     *  通过十六进制色改变当前颜色\r\n     *  @author     martsforever\r\n     *  @datetime   2019/2/17 19:13\r\n     */\r\n    setHex(hex: string): void {\r\n        this.hex = hex\r\n\r\n        /*设置rgb*/\r\n        hex = hex.replace('#', '').trim();\r\n        if (hex.length === 3) {\r\n            this.red = parseHexChannel(hex[0] + hex[0]);\r\n            this.green = parseHexChannel(hex[1] + hex[1]);\r\n            this.blue = parseHexChannel(hex[2] + hex[2]);\r\n        } else if (hex.length === 6 || hex.length === 8) {\r\n            this.red = parseHexChannel(hex.substring(0, 2));\r\n            this.green = parseHexChannel(hex.substring(2, 4));\r\n            this.blue = parseHexChannel(hex.substring(4, 6));\r\n        }\r\n        if (hex.length === 8) {\r\n            this.alpha = Math.floor(parseHexChannel(hex.substring(6)) / 255 * 100);\r\n        } else if (hex.length === 3 || hex.length === 6) {\r\n            this.alpha = 100;\r\n        }\r\n\r\n        /*设置hsv*/\r\n        const {h, s, v} = rgb2hsv(this.red, this.green, this.blue)\r\n        this.hue = h\r\n        this.saturation = s\r\n        this.val = v\r\n\r\n        this._value = this.currentColor\r\n    }\r\n\r\n    /*\r\n     *  根据当前hex更新rgb以及hsv\r\n     *  @author     martsforever\r\n     *  @datetime   2019/2/17 19:23\r\n     */\r\n    updateByHex() {\r\n        this.setHex(this.hex)\r\n    }\r\n\r\n    /*\r\n     *  通过设置Hsv改变当前颜色\r\n     *  @author     martsforever\r\n     *  @datetime   2019/2/17 19:14\r\n     */\r\n    setHsv(hue: number, saturation: number, val: number) {\r\n        this.hue = hue\r\n        this.saturation = saturation\r\n        this.val = val\r\n\r\n        /*设置rgb*/\r\n        const {r, g, b} = hsv2rgb(hue, saturation, val)\r\n        this.red = r\r\n        this.green = g\r\n        this.blue = b\r\n\r\n        /*设置hex*/\r\n        this.hex = rgb2hex(r, g, b)\r\n\r\n        this._value = this.currentColor\r\n    }\r\n\r\n    /*\r\n     *  根据hsv更新当前rgbyijihex\r\n     *  @author     martsforever\r\n     *  @datetime   2019/2/17 19:23\r\n     */\r\n    updateByHsv() {\r\n        this.setHsv(this.hue, this.saturation, this.val)\r\n    }\r\n\r\n    updateByAlpha() {\r\n        this._value = this.currentColor\r\n    }\r\n}","import {defineComponent, reactive, watch} from \"@vue/composition-api\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {Color, ColorFormat} from \"@/packages/color-picker/color/Color\";\r\nimport {isEffectiveColorString} from \"@/packages/color-picker/color/ColorUtils\";\r\nimport {CompRef, useRefs} from \"@/use/useRefs\";\r\nimport {$plain} from \"@/packages/base\";\r\n\r\nfunction getDefaultColor(format: ColorFormat, enableAlpha: boolean) {\r\n    if (format === ColorFormat.hex) {\r\n        return '#12b4a5'\r\n    } else {\r\n        if (enableAlpha) {\r\n            return 'rgba(18,180,165,0.5)'\r\n        } else {\r\n            return 'rgb(18,180,165)'\r\n        }\r\n    }\r\n}\r\n\r\nexport default defineComponent({\r\n    name: 'pl-color-panel',\r\n    props: {\r\n        value: {type: String},                      // 当前颜色值\r\n        enableAlpha: {type: Boolean},               // 是否启用透明度\r\n        format: {type: String},                     // 格式类型：hex、rgb\r\n    },\r\n    setup(props) {\r\n\r\n        const refs = useRefs({\r\n            input: CompRef,\r\n        })\r\n\r\n        const {emit} = useEvent({\r\n            input: EmitFunc,\r\n            dblclickSvPanel: EmitFunc,\r\n        })\r\n\r\n        const defaultColor = () => getDefaultColor(props.format as ColorFormat, props.enableAlpha as boolean)\r\n\r\n        const state = reactive({\r\n            val: props.value,\r\n            color: new Color(\r\n                props.value || defaultColor(),\r\n                props.enableAlpha as boolean,\r\n                props.format as ColorFormat\r\n            ),\r\n        })\r\n\r\n        const methods = {\r\n            reset: () => {\r\n                state.val = props.value\r\n                state.color.setValue(props.value || defaultColor())\r\n            },\r\n        }\r\n        const handler = {\r\n            svChange: ({value, saturation}) => {\r\n                state.color.val = value\r\n                state.color.saturation = saturation\r\n                state.color.updateByHsv()\r\n                state.val = state.color.color\r\n            },\r\n            hueChange: (hue) => {\r\n                state.color.hue = hue\r\n                state.color.updateByHsv()\r\n                state.val = state.color.color\r\n            },\r\n            alphaChange: (alpha) => {\r\n                state.color.alpha = alpha\r\n                state.color.updateByAlpha()\r\n                state.val = state.color.color\r\n            },\r\n            confirm: () => {\r\n                emit.input(state.val)\r\n            },\r\n            dblclickSvPanel: (e) => {\r\n                handler.confirm()\r\n                emit.dblclickSvPanel(e)\r\n            },\r\n            inputChange: (val: string) => {\r\n                if (!val) {\r\n                    state.color.setValue(val)\r\n                    return\r\n                }\r\n                let formatVal = val.replace(/\\s/g, '')\r\n                if (!isEffectiveColorString(formatVal)) {\r\n                    return;\r\n                } else {\r\n                    state.color.setValue(formatVal)\r\n                    if (val !== formatVal) {\r\n                        refs.input.model.value = formatVal\r\n                    }\r\n                }\r\n            },\r\n            inputBlur: () => {\r\n                if (!!refs.input.model.value && refs.input.model.value !== state.color.color) {\r\n                    $plain.$message('请输入正确的颜色值！')\r\n                    refs.input.model.value = state.color.color\r\n                }\r\n            },\r\n            inputEnter: async () => {\r\n                await $plain.nextTick()\r\n                if (!!refs.input.model.value && refs.input.model.value !== state.color.color) {\r\n                    $plain.$message('请输入正确的颜色值！')\r\n                    refs.input.model.value = state.color.color\r\n                } else {\r\n                    handler.confirm()\r\n                }\r\n            },\r\n        }\r\n\r\n        /*---------------------------------------watch-------------------------------------------*/\r\n\r\n        watch(() => props.value, (val) => {\r\n            state.color.setValue(val || defaultColor())\r\n            state.val = state.color.color\r\n        })\r\n\r\n        watch(() => props.enableAlpha, (val) => {\r\n            state.color.enableAlpha = val as boolean\r\n            state.color.updateByAlpha()\r\n        })\r\n\r\n        watch(() => props.format, (val) => {\r\n            state.color.format = val as ColorFormat || ColorFormat.hex\r\n            state.color.format === ColorFormat.hex ? state.color.updateByHex() : state.color.updateByRgb()\r\n        })\r\n\r\n        return () => (\r\n            <div class=\"pl-color-panel\">\r\n                <pl-color-sv-panel height=\"180\"\r\n                                   width=\"240\"\r\n                                   hue={state.color.hue}\r\n                                   value={state.color.val}\r\n                                   saturation={state.color.saturation}\r\n                                   onChange={handler.svChange} onDblclick={handler.dblclickSvPanel}/>\r\n\r\n                {!!state.color.enableAlpha && (\r\n                    <pl-color-alpha-slider\r\n                        size=\"180\"\r\n                        color={state.color.hex}\r\n                        value={state.color.alpha}\r\n                        onChange={handler.alphaChange}/>\r\n                )}\r\n\r\n\r\n                <pl-color-hue-slider size=\"240\"\r\n                                     value={state.color.hue}\r\n                                     onInput={val => state.color.hue = val}\r\n                                     onChange={handler.hueChange}/>\r\n                <div class=\"pl-color-panel-input-group\">\r\n                    <pl-input ref=\"input\"\r\n                              size=\"mini\"\r\n                              shape=\"round\"\r\n                              value={state.val}\r\n                              width={props.enableAlpha ? 204 : 186}\r\n                              onChange={handler.inputChange}\r\n                              onBlur={handler.inputBlur}\r\n                              onEnter={handler.inputEnter}/>\r\n                    <pl-button-group size=\"mini\" shape=\"round\">\r\n                        <pl-button icon=\"el-icon-close\" onClick={methods.reset}/>\r\n                        <pl-button icon=\"el-icon-check\" onClick={handler.confirm}/>\r\n                    </pl-button-group>\r\n                </div>\r\n            </div>\r\n        )\r\n    },\r\n})","import {PopperAgentOption} from \"@/packages/popper/service/PopperAgentOption\";\r\nimport {computed, onBeforeUnmount, reactive, Ref} from \"@vue/composition-api\";\r\nimport {PopperController} from \"@/packages/popper/service/PopperController\";\r\nimport {PopperServiceComponent} from \"@/packages/popper/service/PopperServiceComponent\";\r\nimport {useEdit} from \"@/use/useEdit\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\n\r\nexport interface PopperAgent {\r\n    option: PopperAgentOption | (() => PopperAgentOption),\r\n    controller: PopperController,\r\n    service?: PopperServiceComponent,\r\n\r\n    show: () => void | Promise<any>,\r\n    hide: () => void | Promise<any>,\r\n    toggle: () => void | Promise<any>,\r\n    destroy: () => void | Promise<any>,\r\n\r\n    isShow: boolean,\r\n    isOpen: boolean,\r\n}\r\n\r\nexport function usePopperAgent(option: PopperAgentOption, controller: PopperController): PopperAgent {\r\n\r\n    const state = reactive({\r\n        option,\r\n        controller,\r\n        service: null as PopperServiceComponent | null,\r\n\r\n        show: null,\r\n        hide: null,\r\n        toggle: null,\r\n        destroy: null,\r\n\r\n        isShow: null,\r\n        isOpen: null,\r\n    })\r\n\r\n    const isShow = computed(() => {\r\n        if (!state.service) return false\r\n        return state.service.state.show\r\n    })\r\n\r\n    const isOpen = computed(() => {\r\n        if (!state.service) return false\r\n        return state.service.state.open\r\n    })\r\n\r\n    const methods = {\r\n        show: async () => {\r\n            if (isShow.value) return\r\n            if (!isOpen.value) {\r\n                state.service = await controller.getInstance()\r\n                state.service!.bind(state)\r\n            }\r\n            await state.service!.show()\r\n        },\r\n        hide: async () => {\r\n            if (!isShow.value) return\r\n            await state.service!.hide()\r\n        },\r\n        toggle: async () => {\r\n            if (!!isShow.value) {\r\n                await methods.hide()\r\n            } else {\r\n                await methods.show()\r\n            }\r\n        },\r\n        destroy: () => {\r\n            if (!!isShow.value) {\r\n                methods.hide()\r\n            }\r\n            if (!!state.service) {\r\n                state.service.unbind(state)\r\n            }\r\n        },\r\n    }\r\n\r\n    Object.assign(state, {\r\n        ...methods,\r\n        isShow,\r\n        isOpen,\r\n    })\r\n\r\n    // @ts-ignore\r\n    return state as PopperAgent\r\n}\r\n\r\nexport function usePopperAgentEditor(creator: () => Promise<PopperAgent>) {\r\n\r\n    const {editComputed} = useEdit()\r\n\r\n    const {emit} = useEvent({\r\n        blur: EmitFunc,\r\n        focus: EmitFunc,\r\n    })\r\n\r\n    const state = reactive({\r\n        agent: null as PopperAgent | null,\r\n        focusCounter: 0,\r\n    })\r\n\r\n    const isShow = computed(() => {\r\n        if (!state.agent) return false\r\n        return state.agent.isShow\r\n    })\r\n\r\n    const isOpen = computed(() => {\r\n        if (!state.agent) return false\r\n        return state.agent.isOpen\r\n    })\r\n\r\n    const methods = {\r\n        show: async () => {\r\n            if (!editComputed.value.editable) return\r\n            if (isShow.value) return;\r\n            if (!state.agent) {\r\n                state.agent = await creator()\r\n            }\r\n            state.agent.show()\r\n        },\r\n        hide: async () => {\r\n            if (!isShow.value) return\r\n            state.agent!.hide()\r\n        },\r\n        toggle: async () => {\r\n            if (isShow.value) {\r\n                methods.hide()\r\n            } else {\r\n                methods.show()\r\n            }\r\n        }\r\n    }\r\n\r\n    const handler = {\r\n        clickInput: () => {\r\n            methods.toggle()\r\n        },\r\n        blur: () => {\r\n            state.focusCounter--\r\n            if (state.focusCounter === 0) {\r\n                emit.blur()\r\n                methods.hide()\r\n            }\r\n        },\r\n        focus: () => {\r\n            if (state.focusCounter === 0) {\r\n                emit.focus()\r\n            }\r\n            state.focusCounter = 1\r\n        },\r\n        esc: () => {\r\n            methods.hide()\r\n        },\r\n        enter: (e: KeyboardEvent) => {\r\n            e.stopPropagation()\r\n            e.preventDefault()\r\n            methods.show()\r\n        }\r\n    }\r\n\r\n    onBeforeUnmount(() => {\r\n        if (!!state.agent) {\r\n            state.agent.destroy()\r\n        }\r\n    })\r\n\r\n    return {\r\n        methods,\r\n        handler,\r\n        state,\r\n        isShow,\r\n        isOpen,\r\n    }\r\n}\r\n\r\nexport type PopperAgentStateType = ReturnType<typeof usePopperAgentEditor>","import {defineComponent, reactive, watch} from \"@vue/composition-api\";\r\nimport {EditProps} from \"@/use/useEdit\";\r\nimport {StyleProps, useStyle} from \"@/use/useStyle\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {usePopperAgentEditor} from \"@/packages/popper/service/PopperAgent\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {CompRef, ElRef, useRefs} from \"@/use/useRefs\";\r\nimport {isEffectiveColorString} from \"@/packages/color-picker/color/ColorUtils\";\r\nimport {getKey, KEY} from \"@/packages/keyboard\";\r\n\r\nconst opacityBg = require('./sub/opacity.png')\r\n\r\nexport default defineComponent({\r\n    name: 'pl-color-picker',\r\n    props: {\r\n        ...EditProps,\r\n        ...StyleProps,\r\n\r\n        value: {type: String},                                  // 当前颜色值\r\n        enableAlpha: {type: Boolean, default: true},            // 是否启用透明度\r\n        format: {type: String, default: 'hex'},                 // 颜色格式\r\n    },\r\n    setup(props) {\r\n\r\n        useStyle()\r\n\r\n        const refs = useRefs({\r\n            input: CompRef,\r\n        })\r\n\r\n        const {emit} = useEvent({\r\n            input: EmitFunc,\r\n            blur: EmitFunc,\r\n            focus: EmitFunc,\r\n        })\r\n\r\n        const state = reactive({\r\n            val: props.value,\r\n            inputValue: props.value,\r\n\r\n        })\r\n\r\n        const agentState = usePopperAgentEditor(() => ($plain as any).$cs(() => {\r\n            return ({\r\n                props: {\r\n                    value: state.val,\r\n                    enableAlpha: props.enableAlpha,\r\n                    format: props.format,\r\n                },\r\n                popperProps: {\r\n                    reference: refs.input,\r\n                },\r\n                listener: {\r\n                    change: (val) => {\r\n                        state.inputValue = val\r\n                        methods.emitValue(val)\r\n                    },\r\n                },\r\n                popperListener: {\r\n                    'mousedown-popper': async () => {\r\n                        agentState.state.focusCounter++\r\n                    },\r\n                    'click-popper': () => {\r\n                        refs.input.methods.focus()\r\n                    },\r\n                }\r\n            })\r\n        }))\r\n\r\n        const methods = {\r\n            emitValue(val) {\r\n                state.val = val\r\n                emit.input(val)\r\n            },\r\n        }\r\n\r\n        const suffixIcon = () => (\r\n            <div class=\"pl-color-picker-suffix\" style={{backgroundImage: `url(${opacityBg})`}}>\r\n                <div class=\"pl-color-picker-suffix-inner\" style={{backgroundColor: state.val}}/>\r\n            </div>\r\n        )\r\n\r\n        const handler = {\r\n            inputChange: (val: string) => {\r\n                state.inputValue = val\r\n                if (isEffectiveColorString(val)) {\r\n                    methods.emitValue(val)\r\n                }\r\n            },\r\n            enter: () => {\r\n                if (!!state.inputValue && state.inputValue !== state.val) {\r\n                    $plain.$message('请输入有效的颜色值')\r\n                    state.inputValue = state.val\r\n                }\r\n            },\r\n            blur: () => {\r\n                agentState.state.focusCounter--\r\n                if (agentState.state.focusCounter === 0) {\r\n                    emit.blur()\r\n                    agentState.methods.hide()\r\n                    state.val = props.value\r\n                    state.inputValue = props.value\r\n                }\r\n            },\r\n            keydown: (e: KeyboardEvent) => {\r\n                switch (getKey(e)) {\r\n                    case KEY.enter:\r\n                        agentState.handler.enter(e)\r\n                        break\r\n                    case KEY.esc:\r\n                        agentState.handler.esc()\r\n                        break\r\n                }\r\n            },\r\n\r\n        }\r\n\r\n        watch(() => props.value, (val) => {\r\n            state.val = val\r\n            state.inputValue = val\r\n        },{immediate: true})\r\n\r\n        return () => (\r\n            <pl-input ref=\"input\"\r\n                      class=\"pl-color-picker\"\r\n                      value={state.inputValue}\r\n                      suffixIcon={suffixIcon}\r\n                      isFocus={agentState.state.focusCounter > 0}\r\n\r\n                      {\r\n                          ...{\r\n                              on: {\r\n                                  'click-input': agentState.handler.clickInput,\r\n                                  change: handler.inputChange,\r\n                                  keydown: handler.keydown,\r\n                                  blur: agentState.handler.blur,\r\n                                  focus: agentState.handler.focus,\r\n                              }\r\n                          }\r\n                      }\r\n            />\r\n        )\r\n    },\r\n})","import {computed, defineComponent, getCurrentInstance, reactive} from \"@vue/composition-api\";\r\nimport {PopperAgent} from \"@/packages/popper/service/PopperAgent\";\r\nimport {PopperAgentOption} from \"@/packages/popper/service/PopperAgentOption\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {useRefer} from \"@/use/useRefer\";\r\n\r\nconst POPPER_SERVICE_DEFAULT_POPPER_PROPS = {\r\n    placement: 'bottom-start',\r\n    trigger: 'manual',\r\n    transition: 'pl-transition-scale',\r\n}\r\n\r\nexport interface PopperServiceComponent {\r\n    state: any,\r\n    popperBinding: any,\r\n    isPrivate: any,\r\n    options: any,\r\n\r\n    show: Function,\r\n    hide: Function,\r\n    bind: Function,\r\n    unbind: Function,\r\n    toggle: Function,\r\n}\r\n\r\nexport function usePopperServiceComponent(\r\n    {\r\n        name,\r\n        content,\r\n        externalListener,\r\n        externalPopperListener,\r\n        defaultPopperProps,\r\n        hideOnClickBody = true,\r\n    }: {\r\n        name: string,                                                       // service组件名称\r\n        content: (h: Function, Service: any) => any,                        // 内容渲染函数\r\n        externalListener?: { [key: string]: Function },                     // 额外的事件监听器\r\n        externalPopperListener?: { [key: string]: Function },               // 额外的popper事件监听器\r\n        defaultPopperProps?: { [key: string]: any },                        // 默认的popper参数\r\n        hideOnClickBody?: boolean                                            // 点击body的时候是否自动关闭\r\n    }\r\n) {\r\n\r\n    externalListener = externalListener || {}\r\n    externalPopperListener = externalPopperListener || {}\r\n    defaultPopperProps = defaultPopperProps || {}\r\n\r\n    return defineComponent({\r\n        name,\r\n        setup: function () {\r\n\r\n            const ctx = getCurrentInstance()!\r\n\r\n            /*---------------------------------------state-------------------------------------------*/\r\n\r\n            const state = reactive({\r\n                show: false,\r\n                open: false,\r\n                agent: null as PopperAgent | null,\r\n                count: 0,\r\n            })\r\n\r\n            const options = computed(() => {\r\n                let option: PopperAgentOption | (() => PopperAgentOption) = !!state.agent ? state.agent.option : {} as PopperAgentOption\r\n\r\n                if (typeof option === 'function') {\r\n                    option = option()\r\n                }\r\n\r\n                let {props, popperProps, listener, popperListener, beforeShow, beforeHide, isPrivate} = option\r\n\r\n                props = props || {}\r\n                popperProps = popperProps || {}\r\n                listener = listener || {}\r\n                popperListener = popperListener || {}\r\n\r\n                const contentListener = {\r\n                    emit: ({event, args}: { event: string, args: any[] }) => {\r\n                        if (!!externalListener![event]) {\r\n                            externalListener![event].apply(ctx, args)\r\n                        }\r\n                        if (!!externalListener!['emit']) {\r\n                            externalListener!['emit'].apply(ctx, [{event, args}])\r\n                        }\r\n                        if (!!listener![event]) {\r\n                            listener![event].apply(ctx, args)\r\n                        }\r\n                        if (!!listener!['emit']) {\r\n                            listener!['emit'].apply(ctx, [{event, args}])\r\n                        }\r\n                    },\r\n                }\r\n\r\n                popperProps = {\r\n                    ...POPPER_SERVICE_DEFAULT_POPPER_PROPS,\r\n                    ...defaultPopperProps,\r\n                    ...popperProps,\r\n                }\r\n\r\n                return {\r\n                    popperProps,\r\n                    props,\r\n                    listener: contentListener,\r\n                    popperListener,\r\n                    beforeShow,\r\n                    beforeHide,\r\n                    isPrivate,\r\n                }\r\n\r\n            })\r\n\r\n            const isPrivate = computed(() => {\r\n                if (!state.agent) return false\r\n                return options.value.isPrivate\r\n            })\r\n\r\n            const popperBinding = computed(() => {\r\n                const {popperListener, popperProps} = options.value\r\n\r\n                return {\r\n                    props: {\r\n                        value: state.show,\r\n                        open: state.open,\r\n                        popperClass: `${name}-popper`,\r\n                        ...popperProps,\r\n                    },\r\n                    on: {\r\n                        emit: ({event, args}: { event: string, args: any[] }) => {\r\n                            if (!!externalPopperListener![event]) {\r\n                                externalPopperListener![event].apply(ctx, args)\r\n                            }\r\n                            if (!!popperListener[event]) {\r\n                                popperListener[event].apply(ctx, args)\r\n                            }\r\n                        },\r\n                        input: val => state.show = val,\r\n                        'update:open': val => state.open = val,\r\n                        close: () => {\r\n                            if (!!state.agent && !!state.agent.service) {\r\n                                state.agent.service = undefined\r\n                                state.agent = null\r\n                            }\r\n                        },\r\n                        'click-body': () => {\r\n                            if (hideOnClickBody && state.show) {\r\n                                methods.hide()\r\n                            }\r\n                        },\r\n                    }\r\n                }\r\n            })\r\n\r\n            const methods = {\r\n                show: async () => {\r\n                    if (!!state.show) return\r\n                    state.count++\r\n                    await $plain.nextTick()\r\n                    if (!!options.value.beforeShow) await options.value.beforeShow()\r\n                    state.show = true\r\n                },\r\n                hide: async () => {\r\n                    if (!state.show) return\r\n                    if (!!options.value.beforeHide) await options.value.beforeHide()\r\n                    state.show = false\r\n                },\r\n                bind: (agent: PopperAgent) => {\r\n                    if (!!state.agent) {\r\n                        state.agent.service = undefined\r\n                    }\r\n                    state.agent = agent\r\n                    // @ts-ignore\r\n                    state.agent.service = ctx\r\n                },\r\n                unbind: (agent) => {\r\n                    if (agent === state.agent) {\r\n                        state.agent = null\r\n                    }\r\n                    agent.service = null\r\n                },\r\n                toggle: () => {\r\n                    if (state.show) {\r\n                        methods.hide()\r\n                    } else {\r\n                        methods.show()\r\n                    }\r\n                }\r\n            }\r\n            useRefer({\r\n                ...methods,\r\n                popperBinding,\r\n                isPrivate,\r\n                state,\r\n                options,\r\n            })\r\n\r\n            return () => (\r\n                <pl-popper class={name} {...popperBinding.value}>\r\n                    {content(ctx.$createElement, ctx)}\r\n                </pl-popper>\r\n            )\r\n        },\r\n    })\r\n}","import {defineComponent, getCurrentInstance, ref} from \"@vue/composition-api\";\r\nimport {useRefs} from \"@/use/useRefs\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {PopperServiceComponent} from \"@/packages/popper/service/PopperServiceComponent\";\r\n\r\nexport interface PopperController {\r\n    getInstance: () => Promise<PopperServiceComponent>\r\n}\r\n\r\nexport function usePopperController(name: string, PSC: any) {\r\n    return defineComponent({\r\n        name,\r\n        setup() {\r\n            const count = ref(1)\r\n\r\n            const ctx = getCurrentInstance()\r\n\r\n            const refs = useRefs({\r\n                items: [] as any[],\r\n            })\r\n\r\n            Object.assign(ctx, {\r\n                async getInstance() {\r\n                    let service = refs.items.find(item => !item.state.show && !item.state.open && !item.isPrivate.value)\r\n                    if (!service) {\r\n                        count.value++\r\n                        await $plain.nextTick()\r\n                        return await this.getInstance()\r\n                    } else {\r\n                        return service\r\n                    }\r\n                },\r\n            })\r\n\r\n            return () => (\r\n                <div class={[name, 'pl-service-controller']}>\r\n                    {new Array(count.value).fill(0).map((item, index) => <PSC {...{key: index, ref: 'items', refInFor: true}}/>)}\r\n                </div>\r\n            )\r\n        },\r\n    })\r\n}","import {usePopperAgent} from \"@/packages/popper/service/PopperAgent\";\r\nimport {usePopperServiceComponent} from \"@/packages/popper/service/PopperServiceComponent\";\r\nimport {usePopperController} from \"@/packages/popper/service/PopperController\";\r\n\r\nexport default {\r\n    install(Vue) {\r\n\r\n        let controllerService;\r\n\r\n        const $plain = Vue.prototype.$plain\r\n\r\n        const ColorServiceComponent = usePopperServiceComponent({\r\n            name: 'pl-color-service',\r\n            content: (h, ctx) => {\r\n                return (\r\n                    <pl-color-panel\r\n                        slot=\"popper\"\r\n                        key={ctx.state.count}\r\n                        {\r\n                            ...{\r\n                                props: ctx.options.value.props,\r\n                                on: ctx.options.value.listener,\r\n                            }\r\n                        }\r\n                    />\r\n                )\r\n            },\r\n            externalListener: {\r\n                change() {\r\n                    this.hide()\r\n                },\r\n            }\r\n        })\r\n\r\n        const ColorController = usePopperController('pl-color-service-controller', ColorServiceComponent)\r\n\r\n        $plain.$cs = (option) => {\r\n            if (!controllerService) {\r\n                controllerService = $plain.newInstance(ColorController)\r\n            }\r\n            return usePopperAgent(option, controllerService)\r\n        }\r\n\r\n    },\r\n}","import './color-picker.scss'\r\n\r\nimport alpha from './sub/color-alpha-slider'\r\nimport hue from './sub/color-hue-slider'\r\nimport sv from './sub/color-sv-panel'\r\nimport panel from './color-panel'\r\nimport picker from './color-picker'\r\nimport service from './color-service'\r\n\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    panel,\r\n    alpha,\r\n    hue,\r\n    sv,\r\n    picker,\r\n], [\r\n    service,\r\n])","import {computed, defineComponent, onBeforeUnmount, onMounted, reactive, watch} from \"@vue/composition-api\";\r\nimport {useRefs} from \"@/use/useRefs\";\r\nimport {FormatPropsType, useProps} from \"@/use/useProps\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {useSlots} from \"@/use/useSlots\";\r\nimport {useRefer} from \"@/use/useRefer\";\r\nimport {PlainTooltip} from \"../../../src-doc/page/plain-popper/PlainTooltip\";\r\nimport {PlacementType} from \"../../../src-doc/page/plain-popper/PlainPopperUtils\";\r\n\r\nconst props = {\r\n    text: {type: [String, Object]},                             // tooltip 文本\r\n    showOverflowTooltip: {type: Boolean},                       // 是否当文本超过宽度的时候才悬浮显示tooltip\r\n\r\n    // popper\r\n    offset: {type: [Number, String]},                           // 偏移量\r\n    placement: {type: String, default: 'top'},                  // 位置\r\n    arrow: {type: Boolean, default: true},                      // 是否需要箭头\r\n    boundary: {default: 'window'},                              // 边界元素\r\n\r\n    // tooltip\r\n    theme: {type: String},                                      // 主题 dark,light\r\n    animate: {type: String},                                    // 动画 drop,scale,fade\r\n    trigger: {type: String, default: 'hover'},                  // 触发方式 click,hover,focus,manual,always\r\n}\r\n\r\nexport default defineComponent({\r\n    name: 'pl-tooltip',\r\n    props: {\r\n        ...props,\r\n    },\r\n    setup(props) {\r\n\r\n        const refs = useRefs()\r\n        const {slots} = useSlots()\r\n\r\n        const propsState = useProps(props, {\r\n            text: FormatPropsType.promise,\r\n            offset: FormatPropsType.number,\r\n        })\r\n\r\n        const state = reactive({\r\n            tooltip: null as null | PlainTooltip,\r\n            unwatch: null as Function | null,\r\n        })\r\n\r\n        const isShow = computed(() => {\r\n            if (!state.tooltip) return false\r\n            return state.tooltip.state.isShow\r\n        })\r\n\r\n        const classes = computed(() => [\r\n            'pl-tooltip',\r\n            {\r\n                'pl-tooltip-show-overflow-tooltip': props.showOverflowTooltip\r\n            }\r\n        ])\r\n\r\n        const utils = {\r\n            initTooltip: () => {\r\n                // @ts-ignore\r\n                state.tooltip = new PlainTooltip({\r\n                    content: props.text,\r\n\r\n                    reference: refs.$el,\r\n                    offset: propsState.offset,\r\n                    placement: props.placement as PlacementType,\r\n                    arrowSize: props.arrow ? undefined : 0,\r\n                    boundary: props.boundary,\r\n                    theme: props.theme as any,\r\n                    animate: props.animate as any,\r\n                    trigger: props.trigger as any,\r\n                })\r\n            },\r\n            destroyTooltip: () => {\r\n                if (!!state.tooltip) {\r\n                    state.tooltip.hide()\r\n                    state.tooltip.destroy()\r\n                    state.tooltip = null\r\n                }\r\n            },\r\n            reset: () => {\r\n                if (!!state.tooltip) {\r\n                    utils.destroyTooltip()\r\n                }\r\n                utils.initTooltip()\r\n            }\r\n        }\r\n\r\n        const methods = {\r\n            show: () => {\r\n                if (!state.tooltip) {\r\n                    utils.initTooltip()\r\n                }\r\n                state.tooltip!.show()\r\n            },\r\n            hide: () => {\r\n                if (!!state.tooltip) {\r\n                    state.tooltip.hide()\r\n                }\r\n            }\r\n        }\r\n\r\n        onMounted(() => {\r\n            utils.initTooltip()\r\n        })\r\n\r\n        onBeforeUnmount(() => {\r\n            utils.destroyTooltip()\r\n            if (!!state.unwatch) {\r\n                state.unwatch()\r\n            }\r\n        })\r\n\r\n        Object.keys(props).forEach(propsName => {\r\n            if (propsName === 'showOverflowTooltip') {\r\n                watch(() => props.showOverflowTooltip, (val) => {\r\n                    if (val) {\r\n                        state.unwatch = watch(() => props.text, async () => {\r\n                            await $plain.nextTick()\r\n                            const {offsetWidth, scrollWidth} = refs.$el\r\n                            if (offsetWidth >= scrollWidth) {\r\n                                if (!!state.tooltip) {\r\n                                    utils.destroyTooltip()\r\n                                }\r\n                            } else {\r\n                                if (!state.tooltip) {\r\n                                    utils.initTooltip()\r\n                                }\r\n                            }\r\n                        })\r\n                    } else {\r\n                        !!state.unwatch && state.unwatch()\r\n                    }\r\n                }, {immediate: true})\r\n            } else {\r\n                watch(() => props[propsName], () => {\r\n                    utils.reset()\r\n                }, {immediate: true})\r\n            }\r\n        })\r\n\r\n        useRefer({\r\n            utils,\r\n            methods,\r\n            isShow,\r\n            state,\r\n            propsState,\r\n            refs,\r\n            slots,\r\n        })\r\n\r\n        return () => (\r\n            <span class={classes.value} tabIndex={props.trigger === 'focus' ? '0' : null}>\r\n                {slots.default(propsState.text)}&nbsp;&nbsp;\r\n            </span>\r\n        )\r\n    },\r\n})","import {$plain} from \"@/packages/base\";\r\nimport {PlainTooltip} from \"../../../src-doc/page/plain-popper/PlainTooltip\";\r\nimport {PlainTooltipConfig} from \"../../../src-doc/page/plain-popper/PlainTooltipUtils\";\r\n\r\nclass Tooltip {\r\n\r\n    static DEFAULT_OPTION = {\r\n        placement: 'top',\r\n        theme: 'dark',\r\n        animate: 'fade',\r\n        trigger: 'hover',\r\n    }\r\n\r\n    tooltip: PlainTooltip | null = null\r\n\r\n    constructor(el: HTMLElement, option: object | string) {\r\n        this.updateOption(el, option)\r\n    }\r\n\r\n    async updateOption(el: HTMLElement, option: object | string) {\r\n        await $plain.nextTick()\r\n        if (!!this.tooltip) {\r\n            this.tooltip.destroy()\r\n            this.tooltip = null\r\n        }\r\n        if (!!option) {\r\n            if (typeof option === \"string\") {\r\n                option = {content: option}\r\n            }\r\n            option = Object.assign({reference: el} as Partial<PlainTooltipConfig>, Tooltip.DEFAULT_OPTION, option)\r\n            // @ts-ignore\r\n            this.tooltip = new PlainTooltip(option)\r\n        }\r\n    }\r\n\r\n    unbind() {\r\n        if (!!this.tooltip) {\r\n            this.tooltip.destroy()\r\n        }\r\n    }\r\n}\r\n\r\nconst map = new WeakMap()\r\n\r\nexport const TooltipDirective = {\r\n    install(Vue) {\r\n        Vue.directive('tooltip', {\r\n            bind(el, binding, vnode) {\r\n                if (!!binding.value) {\r\n                    let service = new Tooltip(el, binding.value)\r\n                    map.set(el, service)\r\n                    service.updateOption(el, binding.value)\r\n                }\r\n            },\r\n            componentUpdated(el, binding, vnode) {\r\n                if (!!binding.value) {\r\n                    let service = map.get(el) as Tooltip | null\r\n                    if (!service) {\r\n                        service = new Tooltip(el, binding.value)\r\n                        map.set(el, service)\r\n                    }\r\n                    service.updateOption(el, binding.value)\r\n                } else {\r\n                    let service = map.get(el) as Tooltip | null\r\n                    if (!!service) {\r\n                        service.unbind()\r\n                        service = null\r\n                        map.set(el, service)\r\n                    }\r\n                }\r\n            },\r\n            unbind(el) {\r\n                const service = map.get(el) as Tooltip\r\n                if (!!service) {\r\n                    service.unbind()\r\n                }\r\n            },\r\n        })\r\n    }\r\n}\r\n","import './tooltip.scss'\r\nimport tooltip from './tooltip'\r\nimport {installPlugin} from \"@/util/install\";\r\nimport {TooltipDirective} from \"@/packages/tooltip/TooltipDirective\";\r\n\r\nexport default installPlugin([\r\n    tooltip,\r\n], [\r\n    TooltipDirective,\r\n])","import {PopperTriggerType} from \"@/packages/popper/PopperTrigger\";\r\nimport {getBaseTrigger} from \"@/packages/popper/BaseTrigger\";\r\n\r\nexport function getDropdownTrigger(triggerName: PopperTriggerType, {\r\n    model,\r\n    open,\r\n    show,\r\n    hide,\r\n    hoverCloseDelay,\r\n    hoverOpenDelay,\r\n    reference,\r\n    on,\r\n    off,\r\n    emit,\r\n}: {\r\n    model: { value: boolean | undefined },\r\n    open: { value: boolean | undefined },\r\n\r\n    show: Function,\r\n    hide: Function,\r\n\r\n    hoverOpenDelay: number,\r\n    hoverCloseDelay: number,\r\n    reference: HTMLElement,\r\n\r\n    on: {\r\n        enterPopper: Function,\r\n        leavePopper: Function,\r\n\r\n        clickReference: Function,\r\n        clickBody: Function,\r\n        clickPopper: Function,\r\n    },\r\n    off: {\r\n        enterPopper: Function,\r\n        leavePopper: Function,\r\n\r\n        clickReference: Function,\r\n        clickBody: Function,\r\n        clickPopper: Function,\r\n    },\r\n    emit: {\r\n        referenceFocus: Function,\r\n        referenceBlur: Function,\r\n\r\n        enterReference: Function,\r\n        leaveReference: Function,\r\n    },\r\n}) {\r\n    return getBaseTrigger(triggerName, {\r\n        model,\r\n        openModel: open,\r\n        show,\r\n        hide,\r\n        hoverOpenDelay,\r\n        hoverCloseDelay,\r\n        reference,\r\n        on: {\r\n            enterReference: (cb) => reference.addEventListener('mouseenter', cb),\r\n            leaveReference: (cb) => reference.addEventListener('mouseleave', cb),\r\n            enterPopper: on.enterPopper,\r\n            leavePopper: on.leavePopper,\r\n            referenceFocus: (cb) => reference.addEventListener('focus', cb),\r\n            referenceBlur: (cb) => reference.addEventListener('blur', cb),\r\n            clickReference: on.clickReference,\r\n            clickBody: on.clickBody,\r\n            clickPopper: on.clickPopper,\r\n        },\r\n        off: {\r\n            enterReference: (cb) => reference.removeEventListener('mouseenter', cb),\r\n            leaveReference: (cb) => reference.removeEventListener('mouseleave', cb),\r\n            enterPopper: off.enterPopper,\r\n            leavePopper: off.leavePopper,\r\n            referenceFocus: (cb) => reference.removeEventListener('focus', cb),\r\n            referenceBlur: (cb) => reference.removeEventListener('blur', cb),\r\n            clickReference: off.clickReference,\r\n            clickBody: off.clickBody,\r\n            clickPopper: off.clickPopper,\r\n        },\r\n        emit: {\r\n            referenceFocus: emit.referenceFocus,\r\n            referenceBlur: emit.referenceBlur,\r\n\r\n            enterReference: emit.enterReference,\r\n            leaveReference: emit.leaveReference,\r\n\r\n            enterPopper: () => undefined,\r\n            leavePopper: () => undefined,\r\n        },\r\n    })\r\n}","import {computed, defineComponent, onBeforeUnmount, onMounted, reactive, watch} from \"@vue/composition-api\";\r\nimport {SlotFunc, useSlots} from \"@/use/useSlots\";\r\nimport {useScopedSlots} from \"@/use/useScopedSlots\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {useModel} from \"@/use/useModel\";\r\nimport {usePopperAgentEditor} from \"@/packages/popper/service/PopperAgent\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {useRefs} from \"@/use/useRefs\";\r\nimport {getDropdownTrigger} from \"@/packages/dropdown/DropdownTrigger\";\r\nimport {PopperTrigger, PopperTriggerType} from \"@/packages/popper/PopperTrigger\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-dropdown',\r\n    props: {\r\n        value: {type: Boolean},                                         // model绑定是否打开下拉列表\r\n        open: {type: Boolean},                                          // open绑定是否已经打开下拉列表\r\n        trigger: {type: String, default: 'click'},                      // click, focus, hover, manual\r\n        width: {type: [String, Number]},                                // popper 宽度\r\n        height: {type: [String, Number]},                               // popper高度\r\n\r\n        hoverOpenDelay: {type: [Number, String], default: 0},           // hover触发条件下，打开延迟时间\r\n        hoverCloseDelay: {type: [Number, String], default: 200},        // hover触发条件下，关闭延迟时间\r\n\r\n        closeOnClickItem: {type: Boolean, default: true},               // 点击选项的时候是否自动关闭\r\n        popperProps: {type: Object},                                    // popper 属性参数\r\n    },\r\n    setup(props) {\r\n\r\n        const refs = useRefs()\r\n\r\n        const {$slots, slots} = useSlots({\r\n            dropdown: SlotFunc,\r\n        })\r\n        const {$scopedSlots} = useScopedSlots()\r\n\r\n        const {emit, on, off} = useEvent({\r\n            input: EmitFunc,\r\n            updateOpen: EmitFunc,\r\n\r\n            enterReference: EmitFunc,\r\n            leaveReference: EmitFunc,\r\n\r\n            enterPopper: EmitFunc,\r\n            leavePopper: EmitFunc,\r\n\r\n            referenceFocus: EmitFunc,\r\n            referenceBlur: EmitFunc,\r\n\r\n            clickReference: EmitFunc,\r\n            clickPopper: EmitFunc,\r\n            clickBody: EmitFunc,\r\n\r\n            clickWindow: EmitFunc,\r\n\r\n            clickItem: EmitFunc,\r\n        })\r\n\r\n        /*---------------------------------------state-------------------------------------------*/\r\n\r\n        const model = useModel(() => props.value, emit.input)\r\n        const open = useModel(() => props.open, emit.updateOpen)\r\n\r\n        const state = reactive({\r\n            el: null as HTMLElement | null,\r\n            val: props.value,\r\n            trigger: null as PopperTrigger | null,\r\n        })\r\n\r\n        const popperProps = computed(() => {\r\n            return Object.assign({\r\n                width: props.width === undefined ? null : props.width,\r\n                height: props.height,\r\n                placement: 'bottom-start',\r\n                sizeEqual: false,\r\n            }, props.popperProps || {})\r\n        })\r\n\r\n        const agentState = usePopperAgentEditor(() => ($plain as any).$dropdown(() => {\r\n            return ({\r\n                props: {\r\n                    height: props.height,\r\n                    closeOnClickItem: props.closeOnClickItem && props.trigger !== PopperTriggerType.manual,\r\n                    content: (h) => {\r\n                        return slots.dropdown()\r\n                    },\r\n                },\r\n                popperProps: {\r\n                    trigger: PopperTriggerType.manual,\r\n                    reference: refs.$el,\r\n                    ...(popperProps.value),\r\n                },\r\n                listener: {\r\n                    'click-item': handler.clickItem,\r\n                    'enter-popper': emit.enterPopper,\r\n                    'leave-popper': emit.leavePopper,\r\n                },\r\n                popperListener: {\r\n                    emit: emit.handleEmit,\r\n                    'update:open': val => open.value = val,\r\n                    'show': () => model.value = true,\r\n                    'hide': () => model.value = false,\r\n                }\r\n            })\r\n        }))\r\n\r\n        /*---------------------------------------methods-------------------------------------------*/\r\n\r\n        const methods = {\r\n            show: () => {\r\n                agentState.methods.show()\r\n            },\r\n            hide: () => {\r\n                agentState.methods.hide()\r\n            },\r\n            toggle: () => {\r\n                agentState.methods.toggle()\r\n            }\r\n        }\r\n\r\n        /*---------------------------------------handler-------------------------------------------*/\r\n\r\n        const handler = {\r\n            clickReference: (e) => {\r\n                emit.clickReference(e)\r\n            },\r\n            clickBody: (e: MouseEvent) => {\r\n                emit.clickWindow(e)\r\n                if (!agentState.isShow.value) {\r\n                    return\r\n                }\r\n\r\n                if (state.el!.contains(e.target as Node)) {\r\n                    /*点击了reference*/\r\n                    return\r\n                }\r\n                if ((agentState as any).state.agent!.service.$el!.contains(e.target as Node)) {\r\n                    /*点击了content*/\r\n                    return\r\n                }\r\n                emit.clickBody(e)\r\n            },\r\n            clickItem: (e) => {\r\n                emit.clickItem(e)\r\n            },\r\n        }\r\n\r\n        /*---------------------------------------utils-------------------------------------------*/\r\n\r\n        const utils = {\r\n            bindEvent: () => {\r\n                state.el!.addEventListener('click', handler.clickReference)\r\n                document.body.addEventListener('click', handler.clickBody)\r\n            },\r\n            unbindEvent: () => {\r\n                state.el!.removeEventListener('click', handler.clickReference)\r\n                document.body.removeEventListener('click', handler.clickBody)\r\n            }\r\n        }\r\n\r\n        /*---------------------------------------watcher-------------------------------------------*/\r\n\r\n        watch(() => props.value, (val) => {\r\n            if (!!val) {\r\n                $plain.nextTick(() => {\r\n                    methods.show()\r\n                })\r\n            } else {\r\n                methods.hide()\r\n            }\r\n        },{immediate: true})\r\n\r\n        watch(() => model.value, async (val) => {\r\n            await $plain.nextTick()\r\n            if (!!state.el) {\r\n                state.el.setAttribute('pl-dropdown', val ? 'open' : 'close')\r\n            }\r\n        },{immediate: true})\r\n\r\n        /*---------------------------------------lifecycle-------------------------------------------*/\r\n\r\n\r\n        onMounted(() => {\r\n            state.el = refs.$el\r\n\r\n            state.trigger = getDropdownTrigger(props.trigger as PopperTriggerType, {\r\n                model,\r\n                open,\r\n\r\n                show: methods.show,\r\n                hide: methods.hide,\r\n\r\n                reference: refs.$el,\r\n\r\n                hoverOpenDelay: props.hoverOpenDelay as number,\r\n                hoverCloseDelay: props.hoverCloseDelay as number,\r\n\r\n                on,\r\n                off,\r\n                emit,\r\n            })\r\n\r\n            if (!!state.trigger) {\r\n                state.trigger.init()\r\n            } else {\r\n                throw new Error('initialize dropdown trigger filed! trigger:' + props.trigger)\r\n            }\r\n\r\n            utils.bindEvent()\r\n        })\r\n\r\n        onBeforeUnmount(() => {\r\n            if (!!state.trigger) {\r\n                state.trigger.destroy()\r\n            }\r\n            if (!!agentState.state.agent) {\r\n                agentState.state.agent.destroy()\r\n            }\r\n            utils.unbindEvent()\r\n        })\r\n\r\n\r\n        return () => {\r\n            if (!!$slots.default && !!$slots.default[0]) return $slots.default[0]\r\n            else if (!!$scopedSlots.default) return $scopedSlots.default({show: model.value, open: open.value})\r\n            return null\r\n        }\r\n    },\r\n})","import {computed, defineComponent, getCurrentInstance, provide} from \"@vue/composition-api\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\n\r\nexport const DROPDOWN_CONTENT_PROVIDER = '@@DROPDOWN_CONTENT_PROVIDER'\r\n\r\nexport default defineComponent({\r\n    name: 'pl-dropdown-content',\r\n    props: {\r\n        height: {type: [String, Number]},                                               // popper高度\r\n        content: Function,                                                      // 内容渲染函数\r\n    },\r\n    setup(props) {\r\n\r\n        const {emit} = useEvent({\r\n            clickItem: EmitFunc,\r\n            enterPopper: EmitFunc,\r\n            leavePopper: EmitFunc,\r\n        })\r\n\r\n        const ctx = getCurrentInstance()!\r\n\r\n        const styles = computed(() => {\r\n            return {\r\n                height: $plain.utils.suffixPx(props.height),\r\n            }\r\n        })\r\n\r\n        provide(DROPDOWN_CONTENT_PROVIDER, {\r\n            handler: {\r\n                clickItem: (e: MouseEvent, dropdownItem: any) => {\r\n                    const {label, icon, disabled} = dropdownItem\r\n                    emit.clickItem({label, icon, disabled})\r\n                }\r\n            }\r\n        })\r\n\r\n        return () => {\r\n            return (\r\n                <div class=\"pl-dropdown-content\" style={styles.value} onMouseenter={emit.enterPopper} onMouseleave={emit.leavePopper}>\r\n                    {props.height == null ? (\r\n                        !!props.content && props.content(ctx.$createElement)\r\n                    ) : (\r\n                        <pl-scroll>\r\n                            {!!props.content && props.content(ctx.$createElement)}\r\n                        </pl-scroll>\r\n                    )}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {usePopperController} from \"@/packages/popper/service/PopperController\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {usePopperAgent} from \"@/packages/popper/service/PopperAgent\";\r\nimport {usePopperServiceComponent} from \"@/packages/popper/service/PopperServiceComponent\";\r\n\r\nexport default {\r\n    install() {\r\n\r\n        let controllerService;\r\n        const DropdownServiceComponent = usePopperServiceComponent({\r\n            name: 'pl-dropdown-service',\r\n            content: (h, ctx) => {\r\n                return (\r\n                    <pl-dropdown-content\r\n                        slot=\"popper\"\r\n                        key={ctx.state.count}\r\n                        {\r\n                            ...{\r\n                                props: ctx.options.value.props,\r\n                                on: ctx.options.value.listener,\r\n                            }\r\n                        }\r\n                    />\r\n                )\r\n            },\r\n            defaultPopperProps: {\r\n                noContentPadding: true,\r\n            },\r\n            externalListener: {\r\n                'click-item'() {\r\n                    if ((this as any).options.value.props.closeOnClickItem !== false) {\r\n                        this.hide()\r\n                    }\r\n                },\r\n            },\r\n            hideOnClickBody: false,\r\n        })\r\n\r\n        const DropdownController = usePopperController('pl-dropdown-service-controller', DropdownServiceComponent)\r\n\r\n        // @ts-ignore\r\n        $plain.$dropdown = (option) => {\r\n            if (!controllerService) {\r\n                controllerService = $plain.newInstance(DropdownController)\r\n            }\r\n            return usePopperAgent(option, controllerService)\r\n        }\r\n    },\r\n}","import {defineComponent} from \"@vue/composition-api\";\r\nimport {useSlots} from \"@/use/useSlots\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-dropdown-group',\r\n    props: {\r\n        label: {type: String}\r\n    },\r\n    setup(props,) {\r\n\r\n        const {slots} = useSlots()\r\n\r\n        return () => {\r\n            return (\r\n                <div class={\"pl-dropdown-group\"}>\r\n                    {!!props.label && (\r\n                        <div class={\"pl-dropdown-group-label\"}>\r\n                            {props.label}\r\n                        </div>\r\n                    )}\r\n                    {slots.default()}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {defineComponent} from \"@vue/composition-api\";\r\nimport {useSlots} from \"@/use/useSlots\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-dropdown-menu',\r\n    setup() {\r\n\r\n        const {slots} = useSlots()\r\n\r\n        return () => {\r\n            return (\r\n                <div class={\"pl-dropdown-menu\"}>\r\n                    {slots.default()}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {defineComponent, inject} from \"@vue/composition-api\";\r\nimport {DROPDOWN_CONTENT_PROVIDER} from \"@/packages/dropdown/sub/dropdown-content\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {useSlots} from \"@/use/useSlots\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-dropdown-item',\r\n    props: {\r\n        label: {type: [String, Object]},\r\n        icon: {type: String},\r\n        disabled: {type: Boolean}\r\n    },\r\n    setup(props) {\r\n\r\n        const {handler: {clickItem}} = inject(DROPDOWN_CONTENT_PROVIDER) as any\r\n\r\n        const {slots} = useSlots()\r\n\r\n        const {emit} = useEvent({\r\n            click: EmitFunc,\r\n        })\r\n\r\n        const handler = {\r\n            click: (e: MouseEvent) => {\r\n                if (!props.disabled) {\r\n                    emit.click(e)\r\n                    clickItem(e, props)\r\n                }\r\n            }\r\n        }\r\n\r\n        return () => {\r\n            return (\r\n                <div onClick={handler.click} class={['pl-dropdown-item', {'pl-dropdown-item-disabled': props.disabled}]}>\r\n                    {!!props.icon && <pl-icon icon={props.icon}/>}\r\n                    {slots.default(props.label)}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import './dropdown.scss'\r\nimport dropdown from './dropdown'\r\nimport content from './sub/dropdown-content'\r\nimport service from './dropdown-service'\r\nimport group from './sub/dropdown-group'\r\nimport menu from './sub/dropdown-menu'\r\nimport item from './sub/dropdown-item'\r\n\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    dropdown,\r\n    content,\r\n    group,\r\n    menu,\r\n    item,\r\n], [\r\n    service,\r\n])","import {computed, defineComponent} from \"@vue/composition-api\";\r\nimport {FormatPropsType, useProps} from \"@/use/useProps\";\r\nimport {StyleType} from \"@/types/utils\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {useSlots} from \"@/use/useSlots\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-card',\r\n    props: {\r\n        width: {type: [String, Number], default: '300px'},\r\n        height: {type: [String, Number], default: '300px'},\r\n        shadow: {type: String, default: 'always'},\r\n    },\r\n    setup(props) {\r\n\r\n        const {slots} = useSlots()\r\n\r\n        const propsState = useProps(props, {\r\n            width: FormatPropsType.number,\r\n            height: FormatPropsType.number,\r\n        })\r\n\r\n        const styles = computed(() => {\r\n            const styles = {} as StyleType\r\n            propsState.width !== null && (styles.width = $plain.utils.suffixPx(propsState.width))\r\n            propsState.height !== null && (styles.height = $plain.utils.suffixPx(propsState.height))\r\n            return styles\r\n        })\r\n\r\n        const classes = computed(() => [\r\n            'pl-card',\r\n            `pl-card-shadow-${props.shadow}`\r\n        ])\r\n\r\n        return () => (\r\n            <div style={styles.value} class={classes.value}>\r\n                {slots.default()}\r\n            </div>\r\n        )\r\n    },\r\n})","import {defineComponent} from \"@vue/composition-api\";\r\nimport {useSlots} from \"@/use/useSlots\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-card-content',\r\n    setup() {\r\n\r\n        const {slots} = useSlots()\r\n\r\n        return () => (\r\n            <div class=\"pl-card-content\">\r\n                {slots.default()}\r\n            </div>\r\n        )\r\n    }\r\n})","import {defineComponent} from \"@vue/composition-api\";\r\nimport {useSlots} from \"@/use/useSlots\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-card-header',\r\n    setup() {\r\n\r\n        const {slots} = useSlots()\r\n\r\n        return () => (\r\n            <div class=\"pl-card-header\">\r\n                {slots.default()}\r\n            </div>\r\n        )\r\n    }\r\n})","import './card.scss'\r\nimport card from './card'\r\nimport content from './card-content'\r\nimport header from './card-header'\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    card,\r\n    content,\r\n    header,\r\n])","import {computed, defineComponent} from \"@vue/composition-api\";\r\nimport {StyleProps, useStyle} from \"@/use/useStyle\";\r\nimport {$plain, DEFAULT_STATUS} from \"@/packages/base\";\r\nimport {SlotFunc, useSlots} from \"@/use/useSlots\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-alert',\r\n    props: {\r\n        ...StyleProps,\r\n\r\n        title: {type: String},\r\n        message: {type: String},\r\n        icon: {type: String},\r\n    },\r\n    setup(props,) {\r\n\r\n        const {slots, $slots} = useSlots({\r\n            title: SlotFunc,\r\n        })\r\n\r\n        const {styleComputed} = useStyle({status: DEFAULT_STATUS})\r\n\r\n        const icon = computed(() => {\r\n            if (props.icon === null) {\r\n                return null\r\n            }\r\n            return props.icon || $plain.STATUS[styleComputed.value.status].icon\r\n        })\r\n\r\n        const classes = computed(() => [\r\n            'pl-alert',\r\n            `pl-alert-status-${styleComputed.value.status}`,\r\n            `pl-alert-shape-${styleComputed.value.shape}`,\r\n            {\r\n                'pl-alert-has-icon': !!icon.value,\r\n                'pl-alert-has-title': !!props.title || $slots.title,\r\n            }\r\n        ])\r\n\r\n        return () => (\r\n            <div class={classes.value}>\r\n                {(!!props.title || $slots.title) && (\r\n                    <div class={'pl-alert-title'}>\r\n                        {slots.title(props.title)}\r\n                    </div>\r\n                )}\r\n                {(!!props.message || $slots.default) && (\r\n                    <div class={'pl-alert-message'}>\r\n                        {slots.default(props.message)}\r\n                    </div>\r\n                )}\r\n                <div class=\"pl-alert-icon\">\r\n                    <pl-icon icon={icon.value}/>\r\n                </div>\r\n            </div>\r\n        )\r\n    },\r\n})","import './alert.scss'\r\nimport alert from './alert'\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    alert,\r\n])","import {computed, defineComponent, onMounted, reactive, watch} from \"@vue/composition-api\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {useModel} from \"@/use/useModel\";\r\nimport {StyleType} from \"@/types/utils\";\r\nimport {useRefs} from \"@/use/useRefs\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {useScopedSlots} from \"@/use/useScopedSlots\";\r\nimport {SlotFunc, useSlots} from \"@/use/useSlots\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-carousel',\r\n    props: {\r\n        value: {type: Number, default: 0},\r\n        data: {type: Array, default: () => []},                     //遍历的数组数据\r\n        disabledSwipe: {type: Boolean,},                            //禁用滑动\r\n        autoPlay: {type: Boolean},                                  //自定播放\r\n        autoPlayDuration: {type: Number, default: 3000},            //自动播放的时间间隔\r\n        disabledButton: {type: Boolean},                            //禁用左右翻页按钮\r\n        disabledDot: {type: Boolean},                               //禁用指示器\r\n    },\r\n    setup(props) {\r\n\r\n        const {scopedSlots} = useScopedSlots({\r\n            default: {item: Object, index: Number}\r\n        })\r\n        const {slots} = useSlots({\r\n            hover: SlotFunc,\r\n        })\r\n\r\n        const {emit} = useEvent({\r\n            input: EmitFunc,\r\n        })\r\n\r\n        const refs = useRefs()\r\n\r\n        const model = useModel(() => props.value == null ? 0 : props.value, emit.input)\r\n\r\n        const state = reactive({\r\n            containerWidth: null as null | number,\r\n            startX: 0,\r\n            x: 0,\r\n            tempX: 0,\r\n            moving: false,\r\n            timer: null as null | number,\r\n        })\r\n\r\n        const contentStyles = computed(() => ({\r\n            transform: `translateX(${state.x}px)`\r\n        } as StyleType))\r\n\r\n        const utils = {\r\n            update: () => {\r\n                state.x = -model.value * state.containerWidth!\r\n            },\r\n            clearTimer: () => {\r\n                if (!!state.timer) {\r\n                    clearTimeout(state.timer)\r\n                    state.timer = null\r\n                }\r\n            }\r\n        }\r\n\r\n        const methods = {\r\n            refresh: () => {\r\n                state.containerWidth = refs.$el.offsetWidth\r\n            },\r\n            next: () => {\r\n                if (!props.data || props.data.length === 0) return\r\n                const target = model.value + 1\r\n                const last = props.data.length - 1\r\n                model.value = target > last ? last : target\r\n                utils.update()\r\n                emit.input(model.value)\r\n            },\r\n            prev: () => {\r\n                if (!props.data || props.data.length === 0) return\r\n                const target = model.value - 1\r\n                model.value = target < 0 ? 0 : target\r\n                utils.update()\r\n                emit.input(model.value)\r\n            },\r\n            play: () => {\r\n                if (!props.autoPlay || !props.data || props.data.length === 0) {\r\n                    return\r\n                }\r\n                if (model.value === props.data.length - 1) {\r\n                    model.value = -1\r\n                    emit.input(model.value)\r\n                }\r\n                utils.clearTimer()\r\n                state.timer = setTimeout(() => {\r\n                    methods.next()\r\n                    methods.play()\r\n                }, props.autoPlayDuration)\r\n            }\r\n        }\r\n\r\n\r\n        const handler = {\r\n            clickButton: (next = true) => {\r\n                methods.play()\r\n                next ? methods.next() : methods.prev()\r\n            },\r\n            clickDot: (e: MouseEvent, item, index) => {\r\n                e.preventDefault()\r\n                e.stopPropagation()\r\n\r\n                model.value = index\r\n                emit.input(model.value)\r\n                utils.update()\r\n            },\r\n            mouse: {\r\n                down: (e: MouseEvent) => {\r\n                    utils.clearTimer()\r\n                    state.moving = true\r\n                    state.tempX = state.x\r\n                    state.startX = e.clientX\r\n\r\n                    document.addEventListener('mousemove', handler.mouse.move)\r\n                    document.addEventListener('mouseup', handler.mouse.up)\r\n\r\n                    $plain.disableSelect\r\n                },\r\n                move: (e: MouseEvent) => {\r\n                    if (!state.moving) {\r\n                        return\r\n                    }\r\n                    let deltaX = e.clientX - state.startX\r\n                    state.x = deltaX + state.tempX\r\n                },\r\n                up: () => {\r\n                    if (!state.moving) return\r\n                    state.moving = false\r\n                    if (state.x > 0) {\r\n                        state.x = 0\r\n                        model.value = 0\r\n                        emit.input(model.value)\r\n                        return\r\n                    }\r\n                    const x = -state.x\r\n                    for (let i = 0; i < props.data.length - 1; i++) {\r\n                        const current = i * state.containerWidth!\r\n                        const next = (i + 1) * state.containerWidth!\r\n                        const half = (current + next) / 2\r\n                        if (current <= x && x <= half) {\r\n                            state.x = -current\r\n                            model.value = i\r\n                            emit.input(model.value)\r\n                            methods.play()\r\n                            return\r\n                        }\r\n                        if (half <= x && x <= next) {\r\n                            state.x = -next\r\n                            model.value = i + 1\r\n                            emit.input(model.value)\r\n                            methods.play()\r\n                            return\r\n                        }\r\n                    }\r\n                    state.x = -(props.data.length - 1) * state.containerWidth!\r\n                    model.value = props.data.length - 1\r\n                    emit.input(model.value)\r\n                    $plain.enableSelect\r\n                    window.document.removeEventListener('mousemove', handler.mouse.move)\r\n                    window.document.removeEventListener('mouseup', handler.mouse.up)\r\n                    methods.play()\r\n                },\r\n            }\r\n        }\r\n\r\n        onMounted(() => {\r\n            state.containerWidth = refs.$el.offsetWidth\r\n            if (!props.disabledSwipe) {\r\n                refs.$el.addEventListener('mousedown', handler.mouse.down)\r\n            }\r\n            methods.play()\r\n            if (!props.data || props.data.length === 0) return\r\n            utils.update()\r\n        })\r\n\r\n        watch(() => props.value, (val) => {\r\n            if (val > -1 && val < props.data.length) {\r\n                state.x = -val * state.containerWidth!\r\n            }\r\n        })\r\n\r\n        return () => (\r\n            <div class=\"pl-carousel\">\r\n                <div style={contentStyles.value} class={['pl-carousel-content', {'pl-carousel-content-moving': !!state.moving}]}>\r\n                    {\r\n                        !!props.data && (props.data.map((item, index) => (\r\n                            <div class=\"pl-carousel-item\" key={index}>\r\n                                {scopedSlots.default({\r\n                                    param: {item, index},\r\n                                    content: null,\r\n                                })}\r\n                            </div>\r\n                        )))\r\n                    }\r\n                </div>\r\n                {!props.disabledDot && (\r\n                    <div class=\"pl-carousel-dot\">\r\n                        {\r\n                            !!props.data && props.data.map((item, index) => (\r\n                                <div onClick={e => handler.clickDot(e, item, index)}\r\n                                     key={index} class={['pl-carousel-dot-item', {'pl-carousel-dot-item-active': index === model.value}]}>\r\n                                </div>\r\n                            ))\r\n                        }\r\n                    </div>\r\n                )}\r\n                {\r\n                    !props.disabledButton && (\r\n                        <div class=\"pl-carousel-prev-button\">\r\n                            <span onClick={() => handler.clickButton(false)}><pl-icon icon=\"el-icon-arrow-left\"/></span>\r\n                        </div>\r\n                    )\r\n                }\r\n                {\r\n                    !props.disabledButton && (\r\n                        <div class=\"pl-carousel-next-button\">\r\n                            <span onClick={() => handler.clickButton(true)}><pl-icon icon=\"el-icon-arrow-right\"/></span>\r\n                        </div>\r\n                    )\r\n                }\r\n                {\r\n                    slots.hover()\r\n                }\r\n            </div>\r\n        )\r\n    },\r\n})","import './carousel.scss'\r\nimport carousel from './carousel'\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    carousel,\r\n])","import {computed, defineComponent, getCurrentInstance, onUpdated, reactive, watch} from \"@vue/composition-api\";\r\nimport {ElRef, useRefs} from \"@/use/useRefs\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {useScopedSlots} from \"@/use/useScopedSlots\";\r\nimport {PlainScroll} from \"@/packages/scroll/scroll\";\r\n\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\n\r\ninterface DataInfo {\r\n    top: number\r\n    bottom: number\r\n    height: number\r\n}\r\n\r\nexport const VirtualListProps = {\r\n    data: {type: Array, require: true, default: []},            // 要渲染的长数据\r\n    size: {type: Number, require: true, default: 40},           // 每一行高度\r\n    remain: {type: Number, require: true},                      // 一屏渲染的行数，总共渲染三屏，一屏渲染个数越多，滚动效果越好，但是浏览器卡顿的效果可能更明显；如果不传remain，则根据size以及 pl-virtual-list 跟节点的高度自动计算行数\r\n    dynamicSize: {type: Boolean},                               // 标识列表中的每一行高度不是固定的，但是还是需要提供 size 属性，而且size属性不能与每一行的高度差距太多；\r\n    renderContent: Function,                            // 渲染content节点的渲染函数\r\n    disabled: {type: Boolean},\r\n\r\n    contentIs: {},\r\n    contentProps: {},\r\n}\r\n\r\nexport function virtualListSetup(props: ExtractPropTypes<typeof VirtualListProps>) {\r\n\r\n    const {$scopedSlots} = useScopedSlots()\r\n    const {emit} = useEvent({\r\n        scroll: EmitFunc,\r\n    })\r\n\r\n    const refs = useRefs({\r\n        scroll: {} as PlainScroll,\r\n        content: ElRef,\r\n    })\r\n\r\n    const state = reactive({\r\n        start: 0,\r\n        end: props.remain || 0,\r\n        offset: 0,\r\n        remain: 0,\r\n        dataInfo: null as null | DataInfo[],\r\n    })\r\n\r\n    const ctx = getCurrentInstance()!\r\n\r\n    /*---------------------------------------computer-------------------------------------------*/\r\n\r\n    const isDisabled = computed(() => props.disabled)\r\n\r\n    const classes = computed(() => [\r\n        'pl-virtual-list',\r\n        {\r\n            'pl-virtual-list-disabled': isDisabled.value,\r\n        }\r\n    ])\r\n\r\n    const targetStart = computed(() => {\r\n        return state.start - Math.min(state.start, state.remain)\r\n    })\r\n\r\n    const targetEnd = computed(() => {\r\n        return state.end + Math.min(props.data.length - state.end, state.remain)\r\n    })\r\n\r\n    const targetData = computed(() => {\r\n        if (isDisabled.value) {\r\n            return props.data.map((item, index) => ({item, index}))\r\n        }\r\n        if (!state.remain) return []\r\n        return (props.data || []).map((item, index) => ({item, index})).slice(targetStart.value, targetEnd.value)\r\n    })\r\n\r\n    const strutStyles = computed(() => {\r\n        if (isDisabled.value) return\r\n        return {\r\n            height: `${!!props.dynamicSize ? state.dataInfo![state.dataInfo!.length - 1].bottom : props.data.length * props.size}px`\r\n        }\r\n    })\r\n\r\n    const contentStyles = computed(() => {\r\n        if (isDisabled.value) return\r\n        return {\r\n            top: `${state.offset}px`\r\n        }\r\n    })\r\n\r\n    const utils = {\r\n        /**\r\n         * 使用二分查找算法，根据当前的scrollTop查找在dataInfo中对应的开始元素\r\n         * @author  韦胜健\r\n         * @date    2020/3/11 14:39\r\n         */\r\n        getStartByDynamic: (scrollTop) => {\r\n            let start = 0;\r\n            let end = state.dataInfo!.length - 1\r\n            let temp = 0;\r\n\r\n            while (start <= end) {\r\n                let middle = Math.floor((start + end) / 2)\r\n                let middleBottom = state.dataInfo![middle].bottom\r\n                if (middleBottom === scrollTop) {\r\n                    return middle + 1\r\n                } else if (middleBottom < scrollTop) {\r\n                    start = middle + 1\r\n                } else if (middleBottom > scrollTop) {\r\n                    if (!temp || temp > middle) {\r\n                        temp = middle\r\n                    }\r\n                    end = middle - 1\r\n                }\r\n            }\r\n            return temp\r\n        },\r\n    }\r\n\r\n    /*---------------------------------------handler-------------------------------------------*/\r\n\r\n    const handler = {\r\n        scroll: (e: any) => {\r\n            if (!isDisabled.value) {\r\n                const scrollTop = e.target!.scrollTop\r\n\r\n                if (!props.dynamicSize) {\r\n                    // 固定高度\r\n                    state.start = Math.floor(scrollTop / props.size)\r\n                    state.offset = (targetStart.value) * props.size\r\n                } else {\r\n                    // 动态高度\r\n                    state.start = utils.getStartByDynamic(scrollTop)\r\n                    state.offset = (state.dataInfo![targetStart.value]).top\r\n                }\r\n\r\n                state.end = state.start + state.remain\r\n            }\r\n\r\n            emit.scroll(e)\r\n        },\r\n    }\r\n\r\n    /*---------------------------------------watcher-------------------------------------------*/\r\n    watch(() => props.remain, (val) => {\r\n        if (isDisabled.value) return\r\n\r\n        if (!!val) state.remain = val\r\n        else {\r\n            // 自动计算 remain\r\n            $plain.nextTick(() => {\r\n                state.start = 0\r\n                state.remain = Math.floor(refs.$el.offsetHeight / props.size)\r\n                state.end = state.remain\r\n            })\r\n        }\r\n    },{immediate: true})\r\n    watch(() => props.data, (val) => {\r\n        if (isDisabled.value) return\r\n\r\n        if (!props.dynamicSize) return\r\n        val = val || []\r\n        state.dataInfo = val.map((item, index) => ({\r\n            top: index * props.size,\r\n            height: props.size,\r\n            bottom: props.size * (index + 1),\r\n        }));\r\n        !!refs.scroll && refs.scroll.methods.scrollTop(0, 0)\r\n    },{immediate: true})\r\n\r\n    onUpdated(async () => {\r\n        if (isDisabled.value) return\r\n\r\n        if (!props.dynamicSize) return\r\n        // 页面渲染完成之后，需要根据当前展示的数据，更新缓存的内容\r\n        await $plain.nextTick()\r\n\r\n        const content = ((refs.content as any).$el || refs.content) as HTMLElement\r\n        const nodes = Array.from(content.childNodes || []) as HTMLElement[]\r\n\r\n        for (let i = 0; i < nodes.length; i++) {\r\n            const node = nodes[i];\r\n            const height = node.offsetHeight\r\n            let vid = node.getAttribute('vid') as null | number | string\r\n            if (vid == null) {\r\n                throw new Error('Each item of the virtual-list must have an attribute named \"vid\", please set :vid=\"index\"')\r\n            }\r\n            vid = Number(vid)\r\n            const prevDataInfo = state.dataInfo![vid]\r\n            const prevHeight = prevDataInfo.height\r\n            let delta = prevHeight - height\r\n            if (delta !== 0) {\r\n                prevDataInfo.height = height\r\n                prevDataInfo.bottom = prevDataInfo.bottom - delta\r\n                for (let j = vid + 1; j < state.dataInfo!.length; j++) {\r\n                    state.dataInfo![j].top = state.dataInfo![j - 1].bottom\r\n                    state.dataInfo![j].bottom = state.dataInfo![j].bottom - delta\r\n                }\r\n            }\r\n        }\r\n    })\r\n\r\n    return {\r\n        $scopedSlots,\r\n        refs,\r\n        state,\r\n        ctx,\r\n        isDisabled,\r\n        classes,\r\n        targetStart,\r\n        targetEnd,\r\n        targetData,\r\n        strutStyles,\r\n        contentStyles,\r\n        utils,\r\n        handler,\r\n    }\r\n}\r\n\r\nexport default defineComponent({\r\n    name: 'pl-virtual-list',\r\n    props: {\r\n        ...VirtualListProps,\r\n    },\r\n    setup(props) {\r\n\r\n        const {\r\n            handler,\r\n            classes,\r\n            strutStyles,\r\n            contentStyles,\r\n            ctx,\r\n            targetData,\r\n            $scopedSlots,\r\n        } = virtualListSetup(props)\r\n\r\n        return () => {\r\n            const Content = props.contentIs || 'div' as any\r\n\r\n            return (\r\n                <pl-scroll onScroll={handler.scroll} ref=\"scroll\" class={classes.value}>\r\n                    <div class=\"pl-virtual-list-strut\" style={strutStyles.value}>\r\n                        <Content class=\"pl-virtual-list-content\" style={contentStyles.value} ref=\"content\" {...{props: props.contentProps || {}}}>\r\n                            {!!props.renderContent ?\r\n                                props.renderContent(ctx.$createElement, targetData.value) :\r\n                                (!!$scopedSlots.default ? targetData.value.map(({item, index},virtualIndex) => $scopedSlots.default!({item, index,virtualIndex})) : null)}\r\n                        </Content>\r\n                    </div>\r\n                </pl-scroll>\r\n            )\r\n        }\r\n    },\r\n})","import {computed, defineComponent, getCurrentInstance, inject, onBeforeUnmount, Ref} from \"@vue/composition-api\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {STEP_GROUP_PROVIDER} from \"@/packages/step/setp-group\";\r\nimport {SlotFunc, useSlots} from \"@/use/useSlots\";\r\nimport {useCollectChild} from \"@/use/useCollect\";\r\nimport {StepUtils} from \"@/packages/step/step-utils\";\r\n\r\n/**\r\n * v-if会触发created，会重新刷新index，但是v-show不会，暂时不管v-show\r\n * @author  韦胜健\r\n * @date    2020/4/3 10:39\r\n */\r\n\r\n/*节点状态类型*/\r\nexport enum StepStatus {\r\n    wait = 'wait',\r\n    finish = 'finish',\r\n    process = 'process',\r\n    error = 'error',\r\n}\r\n\r\nexport default defineComponent({\r\n    name: 'pl-step',\r\n    props: {\r\n        icon: {type: String},\r\n        status: {type: String},\r\n        title: {type: String},\r\n        content: {type: String},\r\n        val: {type: String},\r\n    },\r\n    setup(props) {\r\n\r\n        const ctx = getCurrentInstance()\r\n\r\n        const {slots} = useSlots({\r\n            title: SlotFunc,\r\n            content: SlotFunc,\r\n        })\r\n\r\n        const {emit} = useEvent({\r\n            click: EmitFunc\r\n        })\r\n\r\n        const stepGroup = inject(STEP_GROUP_PROVIDER) as any\r\n\r\n        /*---------------------------------------computer-------------------------------------------*/\r\n\r\n        const index = computed(() => {\r\n            return stepGroup.items.value.indexOf(ctx) as number\r\n        })\r\n\r\n        const icon = computed(() => {\r\n            if (!!props.icon) return props.icon\r\n            return null\r\n        })\r\n\r\n        const isLast = computed(() => {\r\n            return index.value === stepGroup.items.value.length - 1\r\n        })\r\n\r\n        const currentStatus: Ref<StepStatus | null> = computed(() => {\r\n            return StepUtils.getStepStatus({\r\n                currentIndex: stepGroup.currentIndex,\r\n                currentStatus: stepGroup.props.currentStatus\r\n            }, {\r\n                status: props.status,\r\n                index\r\n            })\r\n        })\r\n\r\n\r\n        const classes = computed(() => [\r\n            'pl-step',\r\n            `pl-step-status-${currentStatus.value}`,\r\n            {\r\n                'pl-step-has-icon': !!icon.value,\r\n                'pl-step-last': isLast.value,\r\n            }\r\n        ])\r\n\r\n        useCollectChild()\r\n\r\n        return () => (\r\n            <div class={classes.value} onClick={emit.click}>\r\n                <div class=\"pl-step-head\">\r\n                    {!stepGroup.props.vertical && (stepGroup.isTitleAlignBottom.value || isLast.value) && <span class=\"pl-step-divider pl-step-divider-prev\" v-if=\"\"/>}\r\n                    <span class=\"pl-step-icon\">\r\n                        {\r\n                            !!icon.value ?\r\n                                (currentStatus.value !== 'process' ? <pl-icon icon={icon.value}/> : <pl-loading type=\"delta\"/>)\r\n                                :\r\n                                (\r\n                                    !!stepGroup.props.dotIcon ?\r\n                                        (<span class=\"pl-step-dot\"/>)\r\n                                        :\r\n                                        (\r\n                                            <span class=\"pl-step-number\">\r\n                                                {currentStatus.value === StepStatus.finish ?\r\n                                                    <pl-icon icon=\"el-icon-check\"/>\r\n                                                    :\r\n                                                    (currentStatus.value === StepStatus.error ?\r\n                                                            <pl-icon icon=\"el-icon-close\"/>\r\n                                                            :\r\n                                                            <span v-else>{index.value + 1}</span>\r\n                                                    )\r\n                                                }\r\n                                            </span>\r\n                                        )\r\n                                )\r\n                        }\r\n                    </span>\r\n                    {!stepGroup.isTitleAlignBottom.value && (\r\n                        <span class=\"pl-step-title\">\r\n                            {slots.title(props.title)}\r\n                        </span>\r\n                    )}\r\n                    {(stepGroup.isTitleAlignBottom.value || !isLast.value) && <span class=\"pl-step-divider pl-step-divider-next\"/>}\r\n                </div>\r\n                <div class=\"pl-step-body\">\r\n                    {!stepGroup.isTitleAlignBottom.value ?\r\n                        <span class=\"pl-step-icon\"/>\r\n                        :\r\n                        <span class=\"pl-step-title\">\r\n                            {slots.title(props.title)}\r\n                        </span>\r\n                    }\r\n                    <span class=\"pl-step-content\">\r\n                        {slots.content(props.content)}\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        )\r\n    },\r\n})","import './virtual-list.scss'\r\nimport list from './virtual-list'\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    list,\r\n])","export const PROGRESS_DEFAULT_PROPS = {\r\n    value: {type: Number, default: 100},                        // 进度百分比，双向绑定值\r\n    outerColor: {type: String, default: '#f2f2f2'},\r\n    innerColor: {type: String, default: '#12b4a5'},\r\n    speed: {type: Number, default: 3},\r\n    status: {type: String, default: 'normal'},\r\n    successColor: {type: String, default: '#42E67F'},\r\n    errorColor: {type: String, default: '#FF6235'},\r\n}\r\n","import {computed, defineComponent} from \"@vue/composition-api\";\r\nimport {PROGRESS_DEFAULT_PROPS} from \"@/packages/progress/progress\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-progress-bar',\r\n    props: {\r\n        width: {type: String, default: '300px'},\r\n        height: {type: String, default: '6px'},\r\n        inlineText: {type: Boolean},\r\n\r\n        ...PROGRESS_DEFAULT_PROPS,\r\n    },\r\n    setup(props) {\r\n\r\n        const iconColor = computed(() => {\r\n            switch (props.status) {\r\n                case 'success':\r\n                    return props.successColor\r\n                case 'error':\r\n                    return props.errorColor\r\n                default:\r\n                    return null\r\n            }\r\n        })\r\n\r\n        const outerStyles = computed(() => ({\r\n            height: !!props.inlineText ? '16px' : props.height,\r\n            width: props.width,\r\n            backgroundColor: props.outerColor,\r\n            borderRadius: props.width,\r\n        }))\r\n\r\n        const innerStyles = computed(() => ({\r\n            width: `${props.value}%`,\r\n            backgroundColor: iconColor.value || props.innerColor,\r\n            borderRadius: props.width,\r\n        }))\r\n\r\n        return () => (\r\n            <div class=\"pl-progress-bar\">\r\n                <div class=\"pl-progress-bar-outer\" style={outerStyles.value}>\r\n                    <div class=\"pl-progress-bar-inner\" style={innerStyles.value}>\r\n                        {props.inlineText && props.value > 20 && (\r\n                            <div>\r\n                                <div class=\"pl-progress-bar-content\">\r\n                                    {props.status === 'success' && <pl-icon icon=\"el-icon-check\" class=\"pl-progress-bar-icon-success\" style={{color: 'white'}}/>}\r\n                                    {props.status === 'error' && <pl-icon icon=\"el-icon-close\" class=\"pl-progress-bar-icon-error\" style={{color: 'white'}}/>}\r\n                                    {props.status !== 'success' && props.status !== 'error' && <span>{props.value}%</span>}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                    {props.inlineText && props.value < 20 && (\r\n                        <div>\r\n                            <div class=\"pl-progress-bar-content\">\r\n                                {props.status === 'success' && <pl-icon icon=\"el-icon-check\" class=\"pl-progress-bar-icon-success\" style={{color: props.successColor}}/>}\r\n                                {props.status === 'error' && <pl-icon icon=\"el-icon-close\" class=\"pl-progress-bar-icon-error\" style={{color: props.errorColor}}/>}\r\n                                {props.status !== 'success' && props.status !== 'error' && <span>{props.value}%</span>}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                {\r\n                    !props.inlineText && (\r\n                        <div class=\"pl-progress-bar-content\">\r\n                            {props.status === 'success' && <pl-icon icon=\"el-icon-success\" class=\"pl-progress-bar-icon-success\" style={{color: props.successColor}}/>}\r\n                            {props.status === 'error' && <pl-icon icon=\"el-icon-error\" class=\"pl-progress-bar-icon-error\" style={{color: props.errorColor}}/>}\r\n                            {props.status !== 'success' && props.status !== 'error' && <span>{props.value}%</span>}\r\n                        </div>\r\n                    )\r\n                }\r\n            </div>\r\n        )\r\n    },\r\n})","import {computed, defineComponent, onMounted, reactive, watch} from \"@vue/composition-api\";\r\nimport {PROGRESS_DEFAULT_PROPS} from \"@/packages/progress/progress\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {ElRef, useRefs} from \"@/use/useRefs\";\r\nimport {useScopedSlots} from \"@/use/useScopedSlots\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-progress-circle',\r\n    props: {\r\n        size: {type: Number, default: 100},                                                     // 大小尺寸\r\n        lineSize: {type: Number, default: 6},                                                   // 线条尺寸\r\n        startAngle: {type: Number, default: -0.5 * Math.PI},                                    // 起始角度\r\n\r\n        ...PROGRESS_DEFAULT_PROPS,\r\n    },\r\n    setup(props) {\r\n\r\n        const {scopedSlots} = useScopedSlots({\r\n            default: {animatePercent: Number, value: Number}\r\n        })\r\n\r\n        const refs = useRefs({\r\n            canvas: ElRef,\r\n        })\r\n\r\n        const state = reactive({\r\n            ctx: null as any,\r\n            animatePercent: 0,\r\n            cancelAnimate: null as null | number,\r\n        })\r\n\r\n        const arcParam = computed(() => {\r\n            return [props.size / 2, props.size / 2, props.size / 2 - props.lineSize,]\r\n        })\r\n\r\n        const utils = {\r\n            animateDrawing: $plain.utils.throttle((percent) => {\r\n                if (!!state.cancelAnimate) {\r\n                    cancelAnimationFrame(state.cancelAnimate)\r\n                }\r\n\r\n                let time = 300\r\n                let startTime = Date.now()\r\n\r\n                let n = state.animatePercent\r\n                let k = (percent - n) / time\r\n\r\n                const run = () => {\r\n                    let nowTime = Date.now()\r\n                    let deltaTime = nowTime - startTime\r\n\r\n                    if (deltaTime > time) {\r\n                        state.cancelAnimate = null\r\n                        state.animatePercent = percent\r\n                        utils.draw(state.animatePercent)\r\n                        return\r\n                    }\r\n\r\n                    state.animatePercent = Number((deltaTime * k + n).toFixed(2))\r\n                    utils.draw(state.animatePercent)\r\n\r\n                    state.cancelAnimate = requestAnimationFrame(run)\r\n                }\r\n\r\n                run()\r\n            }, 300, {trailing: true, leading: true}),\r\n            draw: (animatePercent: number) => {\r\n                state.ctx.clearRect(0, 0, props.size, props.size)\r\n                utils.drawOuterCircle()\r\n                utils.drawInnerCircle(animatePercent)\r\n            },\r\n            drawOuterCircle: () => {\r\n                state.ctx.save();                                                                        //save和restore可以保证样式属性只运用于该段canvas元素\r\n                state.ctx.beginPath();                                                                   //开始路径\r\n                state.ctx.strokeStyle = props.outerColor;                                                 //设置边线的颜色\r\n                state.ctx.lineWidth = props.lineSize;\r\n                state.ctx.arc(...arcParam.value, 0, Math.PI * 2, false);                                  //画一个圆的路径\r\n                state.ctx.stroke();                                                                      //绘制边线\r\n                state.ctx.closePath();\r\n            },\r\n            drawInnerCircle: (animatePercent: number) => {\r\n                state.ctx.save();\r\n                state.ctx.strokeStyle = props.status === 'normal' ? props.innerColor : props.status === 'success' ? props.successColor : props.errorColor\r\n                state.ctx.lineWidth = props.lineSize;\r\n                state.ctx.lineCap = 'round';\r\n                state.ctx.beginPath();\r\n                state.ctx.arc(...arcParam.value, props.startAngle, props.startAngle + animatePercent / 100 * 2 * Math.PI, false);\r\n                state.ctx.stroke();\r\n                state.ctx.restore();\r\n            },\r\n        }\r\n\r\n        const methods = {\r\n            reload: () => {\r\n                utils.animateDrawing(props.value || 0)\r\n            },\r\n        }\r\n\r\n        watch(() => props.value, () => {\r\n            methods.reload()\r\n        })\r\n\r\n        onMounted(() => {\r\n            // @ts-ignore\r\n            state.ctx = refs.canvas.getContext(\"2d\")\r\n            methods.reload()\r\n        })\r\n\r\n        return () => (\r\n            <div class=\"pl-progress-circle\">\r\n                <canvas ref=\"canvas\" height={props.size} width={props.size}/>\r\n                <div class=\"pl-progress-circle-label\">\r\n                    {props.status === 'normal' && scopedSlots.default({\r\n                        param: {animatePercent: state.animatePercent, value: props.value},\r\n                        content: (<span>{state.animatePercent}%</span>)\r\n                    })}\r\n                    {props.status === 'success' && <pl-icon icon=\"el-icon-check\" class=\"pl-progress-bar-icon-success\" style={{color: props.successColor}}/>}\r\n                    {props.status === 'error' && <pl-icon icon=\"el-icon-close\" class=\"pl-progress-bar-icon-error\" style={{color: props.errorColor}}/>}\r\n                </div>\r\n            </div>\r\n        )\r\n    },\r\n})","import {computed, defineComponent, onMounted, reactive, watch} from \"@vue/composition-api\";\r\nimport {PROGRESS_DEFAULT_PROPS} from \"@/packages/progress/progress\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {ElRef, useRefs} from \"@/use/useRefs\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-progress-mini',\r\n    props: {\r\n        size: {default: 16},\r\n        ...PROGRESS_DEFAULT_PROPS,\r\n        innerColor: {type: String, default: 'rgba(0,0,0,0.6)'},\r\n        reverse: {type: Boolean},\r\n    },\r\n    setup(props) {\r\n\r\n        const refs = useRefs({\r\n            canvas: ElRef,\r\n        })\r\n\r\n        const state = reactive({\r\n            ctx: null as any,\r\n            animatePercent: 0,\r\n            cancelAnimate: null as null | number,\r\n        })\r\n\r\n        /*---------------------------------------computer-------------------------------------------*/\r\n\r\n        const arcParam = computed(() => {\r\n            return [props.size / 2, props.size / 2, props.size / 2, 0]\r\n        })\r\n\r\n        const color = computed(() => {\r\n            switch (props.status) {\r\n                case 'success':\r\n                    return props.successColor\r\n                case 'error':\r\n                    return props.errorColor\r\n                default:\r\n                    return props.innerColor\r\n            }\r\n        })\r\n\r\n        const percent = computed(() => {\r\n            return props.reverse ? ((100 - state.animatePercent) / 100) : (state.animatePercent / 100)\r\n        })\r\n\r\n        const classes = computed(() => [\r\n            'pl-progress-mini',\r\n            {\r\n                [`pl-progress-mini-status-${props.status}`]: !!props.status,\r\n            },\r\n        ])\r\n\r\n        const utils = {\r\n            animateDrawing: $plain.utils.throttle((percent) => {\r\n                if (!!state.cancelAnimate) {\r\n                    cancelAnimationFrame(state.cancelAnimate)\r\n                }\r\n\r\n                let time = 300\r\n                let startTime = Date.now()\r\n\r\n                let n = state.animatePercent\r\n                let k = (percent - n) / time\r\n\r\n                const run = () => {\r\n                    let nowTime = Date.now()\r\n                    let deltaTime = nowTime - startTime\r\n\r\n                    if (deltaTime > time) {\r\n                        state.cancelAnimate = null\r\n                        state.animatePercent = percent\r\n                        utils.draw()\r\n                        return\r\n                    }\r\n\r\n                    state.animatePercent = Number((deltaTime * k + n).toFixed(2))\r\n                    utils.draw()\r\n\r\n                    state.cancelAnimate = requestAnimationFrame(run)\r\n                }\r\n\r\n                run()\r\n            }, 300, {trailing: true, leading: true}),\r\n            draw: () => {\r\n                state.ctx.clearRect(0, 0, props.size, props.size)\r\n                utils.drawSector()\r\n            },\r\n            drawSector: () => {\r\n                state.ctx.save();\r\n\r\n                state.ctx.fillStyle = color.value\r\n                state.ctx.beginPath()\r\n                state.ctx.moveTo(props.size / 2, props.size / 2)\r\n                state.ctx.arc(...arcParam.value, (percent.value) * Math.PI * 2, false);\r\n                state.ctx.closePath();\r\n                state.ctx.fill();\r\n                state.ctx.restore();\r\n            }\r\n        }\r\n\r\n        const methods = {\r\n            reload: () => {\r\n                utils.animateDrawing(props.value || 0)\r\n            },\r\n        }\r\n\r\n        watch(() => props.value, methods.reload)\r\n        watch(() => props.status, () => {\r\n            $plain.nextTick(() => utils.draw())\r\n        })\r\n\r\n        onMounted(() => {\r\n            // @ts-ignore\r\n            state.ctx = refs.canvas.getContext(\"2d\")\r\n            methods.reload()\r\n        })\r\n\r\n        return () => (\r\n            <div class={classes.value}>\r\n                <canvas class=\"pl-progress-mini-canvas\" ref=\"canvas\" width={props.size} height={props.size}/>\r\n            </div>\r\n        )\r\n    },\r\n})","import './progress.scss'\r\nimport {installPlugin} from \"@/util/install\";\r\nimport bar from './progress-bar'\r\nimport circle from './progress-circle'\r\nimport mini from './progress-mini'\r\n\r\nexport default installPlugin([\r\n    bar,\r\n    circle,\r\n    mini,\r\n])","import {computed, defineComponent, ref, watch} from \"@vue/composition-api\";\r\nimport {StyleProps, useStyle} from \"@/use/useStyle\";\r\nimport {EditProps, useEdit} from \"@/use/useEdit\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {useSlots} from \"@/use/useSlots\";\r\n\r\nconst SizesWidth = {\r\n    large: 115,\r\n    normal: 100,\r\n    mini: 85,\r\n}\r\n\r\nexport default defineComponent({\r\n    name: 'pl-pagination',\r\n    props: {\r\n        ...StyleProps,\r\n        ...EditProps,\r\n\r\n        pageSize: {type: Number},                                                               // 页大小\r\n        total: {type: Number},                                                                  // 总共条目数\r\n        totalPage: {type: Number},                                                              // 总页数，与 total/pageSize 作用类似，用来确定总页数；\r\n        pagerCount: {type: Number, default: 7},                                                 // 页码按钮数量，当总页数超过时会折叠\r\n        currentPage: {type: Number},                                                            // 当前页\r\n        layout: {type: String, default: 'sizes,jumper,prev,pager,next,loading,blank,total,slot'},       // 组件布局\r\n        pageSizes: {type: Array, default: [10, 20, 50, 100]},                                   // 页大小下拉选项数组\r\n        prevText: {type: String},                                                               // 上一页按钮替换文本\r\n        nextText: {type: String},                                                               // 下一页按钮替换文本\r\n\r\n        jumperNumberWidth: {type: Number},                                                      // 跳转页的数字输入框宽度\r\n    },\r\n    setup(props) {\r\n\r\n        const {editComputed} = useEdit()\r\n        const {styleComputed} = useStyle()\r\n\r\n        const {$slots} = useSlots()\r\n\r\n        const {emit} = useEvent({\r\n            jump: EmitFunc,\r\n            prev: EmitFunc,\r\n            next: EmitFunc,\r\n            currentChange: EmitFunc,\r\n            sizeChange: EmitFunc,\r\n        })\r\n\r\n        const jumperValue = ref(null as number | null)\r\n        watch(() => props.currentPage, (val) => jumperValue.value = val == null ? 1 : Number(val),{immediate: true})\r\n\r\n        const classes = computed(() => [\r\n            'pl-pagination',\r\n            `pl-pagination-size-${styleComputed.value.size}`,\r\n            `pl-pagination-shape-${styleComputed.value.shape}`,\r\n            {\r\n                'pl-pagination-disabled': editComputed.value.disabled,\r\n            },\r\n        ])\r\n\r\n        const jumperNumberWidth = computed(() => {\r\n            if (!!props.jumperNumberWidth) {\r\n                return props.jumperNumberWidth\r\n            } else {\r\n                return {\r\n                    large: 78,\r\n                    normal: 64,\r\n                    mini: 56,\r\n                }[styleComputed.value.size]\r\n            }\r\n        })\r\n\r\n        const totalPageData = computed(() => {\r\n            if (props.totalPage != null) {\r\n                return props.totalPage\r\n            } else if (props.pageSize != null && props.total != null) {\r\n                return Math.ceil(props.total / props.pageSize)\r\n            } else {\r\n                return 0\r\n            }\r\n        })\r\n\r\n        const pageInfo = computed(() => {\r\n            let currentPage = Number(props.currentPage)\r\n            let pagerCount = Number(props.pagerCount)\r\n            let totalPage = Number(totalPageData.value)\r\n            const midPagerCount = (pagerCount - 1) / 2                      // 从0开始计算中间索引\r\n\r\n            let showPrevMore = false\r\n            let showNextMore = false\r\n\r\n            if (totalPage > pagerCount) {\r\n                if (currentPage > pagerCount - midPagerCount) {\r\n                    showPrevMore = true\r\n                }\r\n                if (currentPage < totalPage - midPagerCount) {\r\n                    showNextMore = true\r\n                }\r\n            }\r\n\r\n            return {\r\n                currentPage,                // 当前页\r\n                pagerCount,                 // 页码按钮数量，包括左折叠左边的一个按钮以及右折叠右边的一个按钮\r\n                totalPage,                  // 总页数\r\n                midPagerCount,              // 中间页码按钮位置索引\r\n                showPrevMore,               // 是否显示左折叠\r\n                showNextMore,               // 是否显示右折叠\r\n            }\r\n        })\r\n\r\n        const pagers = computed(() => {\r\n            const {\r\n                currentPage,\r\n                pagerCount,\r\n                totalPage,\r\n                showPrevMore,\r\n                showNextMore\r\n            } = pageInfo.value\r\n\r\n            const array: number[] = []\r\n\r\n            if (showPrevMore && !showNextMore) {\r\n                const startPage = totalPage - (pagerCount - 2);\r\n                for (let i = startPage; i < totalPage; i++) {\r\n                    array.push(i);\r\n                }\r\n            } else if (!showPrevMore && showNextMore) {\r\n                for (let i = 2; i < pagerCount; i++) {\r\n                    array.push(i);\r\n                }\r\n            } else if (showPrevMore && showNextMore) {\r\n                const offset = Math.floor(pagerCount / 2) - 1;\r\n                for (let i = currentPage - offset; i <= currentPage + offset; i++) {\r\n                    array.push(i);\r\n                }\r\n            } else {\r\n                for (let i = 2; i < totalPage; i++) {\r\n                    array.push(i);\r\n                }\r\n            }\r\n\r\n            return array\r\n        })\r\n\r\n        const utils = {\r\n            /**\r\n             * 获取页码按钮的 class\r\n             * @author  韦胜健\r\n             * @date    2020/3/30 12:07\r\n             */\r\n            getPagerButtonClass(page) {\r\n                return [\r\n                    'pl-pagination-pager-button',\r\n                    {\r\n                        'pl-pagination-pager-button-active': page === pageInfo.value.currentPage\r\n                    },\r\n                ]\r\n            },\r\n            /**\r\n             * 跳转到指定页\r\n             * @author  韦胜健\r\n             * @date    2020/3/30 14:02\r\n             */\r\n            changeCurrent(val) {\r\n                if (!editComputed.value.editable) return;\r\n                emit.currentChange(val)\r\n            },\r\n        }\r\n\r\n        const handler = {\r\n            /**\r\n             * 跳转到上一页\r\n             * @author  韦胜健\r\n             * @date    2020/3/30 14:08\r\n             */\r\n            onPrev() {\r\n                if (!editComputed.value.editable) return;\r\n                if (pageInfo.value.currentPage === 1) {\r\n                    return\r\n                }\r\n                utils.changeCurrent(pageInfo.value.currentPage - 1)\r\n                emit.prev()\r\n            },\r\n            /**\r\n             * 跳转到下一页\r\n             * @author  韦胜健\r\n             * @date    2020/3/30 14:09\r\n             */\r\n            onNext() {\r\n                if (!editComputed.value.editable) return;\r\n                if (pageInfo.value.totalPage != null && pageInfo.value.currentPage == pageInfo.value.totalPage) {\r\n                    return\r\n                }\r\n                utils.changeCurrent(pageInfo.value.currentPage + 1)\r\n                emit.next()\r\n            },\r\n            /**\r\n             * 跳转到指定页\r\n             * @author  韦胜健\r\n             * @date    2020/3/30 14:29\r\n             */\r\n            async onJump() {\r\n                if (!editComputed.value.editable) return;\r\n                await $plain.nextTick()\r\n                let val = jumperValue.value\r\n                if (!val && val !== 0) {\r\n                    val = 1\r\n                    await $plain.nextTick()\r\n                    jumperValue.value = val\r\n                }\r\n                emit.jump(val)\r\n            },\r\n        }\r\n\r\n        return () => {\r\n            const sizes = (\r\n                <pl-select\r\n                    class=\"pl-pagination-sizes\"\r\n                    value={props.pageSize}\r\n\r\n                    loading={false}\r\n                    readonly={editComputed.value.readonly || editComputed.value.loading}\r\n                    filterable={false}\r\n                    inputProps={{width: SizesWidth[styleComputed.value.size], clearIcon: false}}\r\n                    onChange={emit.sizeChange}>\r\n                    {(props.pageSizes || []).map(item => (\r\n                        <pl-select-option label={`${item} 条/页`} val={item} key={item}/>\r\n                    ))}\r\n                </pl-select>\r\n            )\r\n\r\n            const jumper = (\r\n                <div class=\"pl-pagination-jumper\">\r\n                    <span>前往</span>\r\n                    <pl-number inputProps={{width: jumperNumberWidth.value}}\r\n                               readonly={editComputed.value.readonly || editComputed.value.loading}\r\n                               hideButton\r\n                               loading={false}\r\n                               value={jumperValue.value}\r\n                               onInput={val => jumperValue.value = val}\r\n                               onEnter={handler.onJump}/>\r\n                    <span>页</span>\r\n                </div>\r\n            )\r\n\r\n            const prev = (\r\n                <div class=\"pl-pagination-prev pl-pagination-pager-button\" onClick={handler.onPrev}>\r\n                    {!!props.prevText ? props.prevText : <pl-icon icon=\"el-icon-arrow-left\"/>}\r\n                </div>\r\n            )\r\n            const next = (\r\n                <div class=\"pl-pagination-next pl-pagination-pager-button\" onClick={handler.onNext}>\r\n                    {!!props.nextText ? props.nextText : <pl-icon icon=\"el-icon-arrow-right\"/>}\r\n                </div>\r\n            )\r\n\r\n            const pager = (\r\n                <ul class=\"pl-pagination-pager\">\r\n                    {pageInfo.value.totalPage > 0 && <li key=\"first\" class={utils.getPagerButtonClass(1)} onClick={() => utils.changeCurrent(1)}>1</li>}\r\n                    {!!pageInfo.value.showPrevMore && <li key=\"prev-more\" class={utils.getPagerButtonClass('prev')}>\r\n                        <pl-icon icon=\"el-icon-more\"/>\r\n                    </li>}\r\n                    {pagers.value.map((page, index) => <li class={utils.getPagerButtonClass(page)} key={index} onClick={() => utils.changeCurrent(page)}>{page}</li>)}\r\n                    {!!pageInfo.value.showNextMore && <li key=\"prev-more\" class={utils.getPagerButtonClass('next')}>\r\n                        <pl-icon icon=\"el-icon-more\"/>\r\n                    </li>}\r\n                    {pageInfo.value.totalPage > 1 && <li key=\"last\" class={utils.getPagerButtonClass(pageInfo.value.totalPage)} onClick={() => utils.changeCurrent(pageInfo.value.totalPage)}>{pageInfo.value.totalPage}</li>}\r\n                </ul>\r\n            )\r\n\r\n            const blank = (<div class=\"pl-pagination-blank\"></div>)\r\n            const total = props.total == null ? null : (<div class=\"pl-pagination-total\"><span>总共 {props.total} 条记录</span></div>)\r\n            const slot = !$slots.default ? null : (<div class=\"pl-pagination-slot\">{$slots.default}</div>)\r\n            const loading = !editComputed.value.loading ? null : (\r\n                <div class=\"pl-pagination-loading\">\r\n                    <pl-loading type=\"beta\"/>\r\n                </div>\r\n            )\r\n\r\n            let parts = {sizes, jumper, prev, pager, next, loading, blank, total, slot,}\r\n\r\n            let layout = props.layout.replace(/\\s+/g, '').split(',').reduce((ret: any[], item) => {\r\n                let part = parts[item]\r\n                if (!!part) {\r\n                    ret.push(part)\r\n                }\r\n                return ret\r\n            }, [])\r\n\r\n            return (\r\n                <div class={classes.value}>\r\n                    {layout}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import './pagination.scss'\r\nimport pagination from './pagination'\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    pagination,\r\n])","import {computed, defineComponent} from \"@vue/composition-api\";\r\nimport {SlotFunc, useSlots} from \"@/use/useSlots\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-badge',\r\n    props: {\r\n        data: {},                                       //显示的数据\r\n        bottom: {type: Boolean},                        //标记纵向是否在底部\r\n        start: {type: Boolean},                         //标记横向是否在右边\r\n        status: {type: String, default: 'error'},       //标记背景色\r\n        dot: {type: Boolean,},                          //标记是否只是一个小圆点\r\n        max: {type: Number,},                           //标记显示文本最大值\r\n    },\r\n    setup(props) {\r\n\r\n        const {slots} = useSlots({\r\n            badge: SlotFunc,\r\n        })\r\n\r\n        const contentClass = computed(() => [\r\n            'pl-badge-content',\r\n            {\r\n                'pl-badge-content-dot': !!props.dot,\r\n            },\r\n            `pl-badge-content-${!!props.bottom ? 'bottom' : 'top'}`,\r\n            `pl-badge-content-${!!props.start ? 'start' : 'end'}`,\r\n            `pl-badge-content-status-${props.status}`,\r\n        ])\r\n\r\n        const showValue = computed(() => {\r\n            if (props.data == null) return null\r\n            if (props.max != null && (Number(props.data)) > props.max) return props.max + '+'\r\n            return props.data\r\n        })\r\n\r\n        return () => (\r\n            <div class=\"pl-badge\">\r\n                {slots.default()}\r\n                <div class={contentClass.value}>\r\n                    {slots.badge(props.data != null ? <span>{showValue.value}</span> : null)}\r\n                </div>\r\n            </div>\r\n        )\r\n    },\r\n})","import './badge.scss'\r\nimport badge from './badge'\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    badge,\r\n])","import {StepStatus} from \"@/packages/step/step\";\r\n\r\nexport const StepUtils = {\r\n    getCurrentIndex: (current: any, items: any[]) => {\r\n        if (typeof current === \"number\") {\r\n            return current\r\n        } else {\r\n            for (let i = 0; i < items.length; i++) {\r\n                const item = items[i];\r\n                if (item.val === current) return i\r\n            }\r\n        }\r\n    },\r\n    getStepStatus: (group: { currentStatus, currentIndex }, child: { status, index }): StepStatus | null => {\r\n\r\n        const {currentStatus, currentIndex} = group\r\n        const {status, index} = child\r\n\r\n        if (!!status) return status as StepStatus\r\n        if (currentIndex.value > index.value) {\r\n            return StepStatus.finish\r\n        } else if (currentIndex.value === index.value) {\r\n            if (!!currentStatus) {\r\n                return currentStatus as StepStatus\r\n            } else {\r\n                return StepStatus.process\r\n            }\r\n        } else if (currentIndex.value < index.value) {\r\n            return StepStatus.wait\r\n        } else {\r\n            return null\r\n        }\r\n    }\r\n}","import {computed, defineComponent, provide} from \"@vue/composition-api\";\r\nimport {useSlots} from \"@/use/useSlots\";\r\nimport {StepUtils} from \"@/packages/step/step-utils\";\r\nimport {useCollectParent} from \"@/use/useCollect\";\r\n\r\nexport const STEP_GROUP_PROVIDER = '@@STEP_GROUP_PROVIDER'\r\n\r\nexport default defineComponent({\r\n    name: 'pl-step-group',\r\n    props: {\r\n        current: {type: [String, Number]},                              // 双向绑定，指定当前步骤条的步骤，在step组件中，可以通过 status 属性覆盖状态\r\n        currentStatus: {type: String},                                  // 当前激活节点的状态\r\n        type: {type: String, default: 'normal'},                        // 步骤条类型，normal、navigation\r\n        vertical: {type: Boolean},                                      // 步骤条是否为纵向\r\n        titleAlignBottom: {type: Boolean},                              // 默认情况下，标题会放在图标右侧，设置该属性可以改为放在图标下面\r\n        mini: {type: Boolean, default: true},                           // 迷你步骤条\r\n        dotIcon: {type: Boolean},                                       // 图标是否采用小圆点替代\r\n    },\r\n    setup(props) {\r\n\r\n        const {slots} = useSlots()\r\n\r\n        const items = useCollectParent({sort:true})\r\n\r\n        /*---------------------------------------computer-------------------------------------------*/\r\n        const isTitleAlignBottom = computed(() => {\r\n            return props.titleAlignBottom || props.vertical\r\n        })\r\n        const classes = computed(() => [\r\n            'pl-step-group',\r\n            `pl-step-group-${props.vertical ? 'vertical' : 'horizontal'}`,\r\n            {\r\n                'pl-step-group-title-align-bottom': isTitleAlignBottom.value,\r\n                'pl-step-group-mini': props.mini,\r\n                'pl-step-group-dot-icon': props.dotIcon,\r\n            },\r\n        ])\r\n\r\n        const currentIndex = computed(() => StepUtils.getCurrentIndex(props.current, items.value))\r\n\r\n\r\n        provide(STEP_GROUP_PROVIDER, {\r\n            items,\r\n            currentIndex,\r\n            props,\r\n            isTitleAlignBottom,\r\n        })\r\n\r\n        return () => (\r\n            <div class={classes.value}>\r\n                {slots.default()}\r\n            </div>\r\n        )\r\n    },\r\n})","import {computed, defineComponent, provide, reactive} from \"@vue/composition-api\";\r\nimport {useSlots} from \"@/use/useSlots\";\r\nimport {StepUtils} from \"@/packages/step/step-utils\";\r\nimport {useCollectParent} from \"@/use/useCollect\";\r\n\r\nexport const ARROW_STEP_GROUP_PROVIDER = '@@ARROW_STEP_GROUP_PROVIDER'\r\n\r\nexport default defineComponent({\r\n    name: 'pl-arrow-step-group',\r\n    props: {\r\n        current: {},\r\n        currentStatus: {type: String},\r\n\r\n    },\r\n    setup: (props) => {\r\n\r\n        const {slots} = useSlots()\r\n        const items = useCollectParent({sort:true})\r\n        const currentIndex = computed(() => StepUtils.getCurrentIndex(props.current, items.value))\r\n\r\n        provide(ARROW_STEP_GROUP_PROVIDER, {\r\n            items,\r\n            currentIndex,\r\n            props,\r\n        })\r\n\r\n        return () => (\r\n            <div class=\"pl-arrow-step-group\">\r\n                {slots.default()}\r\n            </div>\r\n        )\r\n    }\r\n})","import {computed, defineComponent, getCurrentInstance, inject, Ref} from \"@vue/composition-api\";\r\nimport {SlotFunc, useSlots} from \"@/use/useSlots\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {ARROW_STEP_GROUP_PROVIDER} from \"@/packages/step/arrow-step/arrow-step-group\";\r\nimport {StepStatus} from \"@/packages/step/step\";\r\nimport {useCollectChild} from \"@/use/useCollect\";\r\nimport {StepUtils} from \"@/packages/step/step-utils\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-arrow-step',\r\n    props: {\r\n        status: {type: String},\r\n        title: {type: String},\r\n        val: {type: String},\r\n        hideIndex: {type: Boolean},\r\n    },\r\n    setup: (props) => {\r\n\r\n        const ctx = getCurrentInstance()\r\n\r\n        const {slots} = useSlots({\r\n            title: SlotFunc,\r\n        })\r\n\r\n        const {emit} = useEvent({\r\n            click: EmitFunc\r\n        })\r\n\r\n        const stepGroup = inject(ARROW_STEP_GROUP_PROVIDER) as any\r\n\r\n        /*---------------------------------------computer-------------------------------------------*/\r\n\r\n        const index = computed(() => {\r\n            return stepGroup.items.value.indexOf(ctx) as number\r\n        })\r\n\r\n        const isLast = computed(() => {\r\n            return index.value === stepGroup.items.value.length - 1\r\n        })\r\n\r\n        const isFirst = computed(() => {\r\n            return index.value === 0\r\n        })\r\n\r\n        const currentStatus: Ref<StepStatus | null> = computed(() => {\r\n            return StepUtils.getStepStatus({\r\n                currentIndex: stepGroup.currentIndex,\r\n                currentStatus: stepGroup.props.currentStatus\r\n            }, {\r\n                status: props.status,\r\n                index\r\n            })\r\n        })\r\n\r\n        const classes = computed(() => [\r\n            'pl-arrow-step',\r\n            `pl-arrow-step-status-${currentStatus.value}`,\r\n        ])\r\n\r\n        useCollectChild()\r\n\r\n        return () => (\r\n            index.value != null ? (\r\n                <div class={classes.value} onClick={emit.click}>\r\n                    <div class=\"pl-arrow-step-content\">\r\n                        {!props.hideIndex && <span class=\"pl-arrow-step-sequence\">{index.value + 1}. &nbsp;</span>}\r\n                        <span>{slots.default(props.title)}</span>\r\n                    </div>\r\n                    {!isLast.value ? <pl-triangle direction=\"right\" size={null}/> : null}\r\n                    {!isFirst.value ? [\r\n                        <pl-triangle direction=\"bottom\" half=\"start\" size={null}/>,\r\n                        <pl-triangle direction=\"top\" half=\"start\" size={null}/>\r\n                    ] : null}\r\n                </div>\r\n            ) : <div/>\r\n        )\r\n    },\r\n})","import {installPlugin} from \"@/util/install\";\r\nimport step from './arrow-step'\r\nimport group from './arrow-step-group'\r\n\r\nexport default installPlugin([\r\n    step,\r\n    group,\r\n])","import './step.scss'\r\nimport step from './step'\r\nimport group from './setp-group'\r\nimport arrowStep from './arrow-step'\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    step,\r\n    group,\r\n], [\r\n    arrowStep\r\n])","import {computed, defineComponent, onMounted} from \"@vue/composition-api\";\r\nimport {FormatPropsType, useProps} from \"@/use/useProps\";\r\nimport {StyleType} from \"@/types/utils\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {useRefs} from \"@/use/useRefs\";\r\n\r\nconst DirectionMap = {\r\n    top: 'bottom',\r\n    bottom: 'top',\r\n    left: 'right',\r\n    right: 'left',\r\n}\r\n\r\nfunction uppercaseFirstLetter(name: string): string {\r\n    if (!name) return name\r\n    return name.charAt(0).toUpperCase() + name.slice(1)\r\n}\r\n\r\nexport default defineComponent({\r\n    name: 'pl-triangle',\r\n    props: {\r\n        direction: {type: String, default: 'top'},\r\n        half: {type: String},\r\n        size: {type: [Number, String], default: 20},\r\n    },\r\n    setup(props) {\r\n\r\n        const refs = useRefs()\r\n\r\n        const propsState = useProps(props, {\r\n            size: FormatPropsType.number,\r\n        })\r\n\r\n        const classes = computed(() => [\r\n            'pl-triangle',\r\n            `pl-triangle-direction-${props.direction}`,\r\n            {\r\n                [`pl-triangle-half-${props.half}`]: !!props.half\r\n            }\r\n        ])\r\n\r\n        const styles = computed(() => {\r\n            const ret = {} as StyleType\r\n            if (!props.half) {\r\n                return ret\r\n            }\r\n            if (props.direction === 'top' || props.direction === 'bottom') {\r\n                ret.width = $plain.utils.suffixPx(propsState.size)\r\n            } else {\r\n                ret.height = $plain.utils.suffixPx(propsState.size)\r\n            }\r\n            return ret\r\n        })\r\n\r\n        const targetStyles = computed(() => {\r\n            const ret = {} as StyleType\r\n            ret.border = `solid transparent ${$plain.utils.suffixPx(propsState.size)}`\r\n            ret[`border${uppercaseFirstLetter(props.direction)}Width`] = '0'\r\n            ret[`border${uppercaseFirstLetter(DirectionMap[props.direction])}Color`] = 'currentColor'\r\n\r\n            if (!!props.half) {\r\n                if (props.direction === 'top' || props.direction === 'bottom') {\r\n                    props.half === 'end' && (ret.right = $plain.utils.suffixPx(propsState.size))\r\n                } else {\r\n                    props.half === 'end' && (ret.bottom = $plain.utils.suffixPx(propsState.size))\r\n                }\r\n            }\r\n\r\n            return ret\r\n        })\r\n\r\n        if (propsState.size == null) {\r\n            onMounted(() => {\r\n                // @ts-ignore\r\n                propsState.size = refs.$el.parentNode.offsetHeight / 2\r\n            })\r\n        }\r\n\r\n        return () => (\r\n            propsState.size == null ? null : (\r\n                <div class={classes.value} style={styles.value}>\r\n                    <div class=\"pl-triangle-target\" style={targetStyles.value}/>\r\n                </div>\r\n            )\r\n        )\r\n    },\r\n})","import {computed, defineComponent, provide} from \"@vue/composition-api\";\r\nimport {useSlots} from \"@/use/useSlots\";\r\nimport {useRefs} from \"@/use/useRefs\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {PlainScroll} from \"@/packages/scroll/scroll\";\r\n\r\nexport const enum TabHeaderType {\r\n    text = 'text',\r\n    card = 'card',\r\n    fillet = 'fillet',\r\n    verticalText = 'vertical-text'\r\n}\r\n\r\nexport const enum TabHeaderPosition {\r\n    top = 'top',\r\n    bottom = 'bottom',\r\n    left = 'left',\r\n    right = 'right'\r\n}\r\n\r\nexport const TAB_HEADER_PROVIDER = '@@TAB_HEADER_PROVIDER'\r\n\r\nexport default defineComponent({\r\n    name: 'pl-tab-header',\r\n    props: {\r\n        type: {type: String, default: TabHeaderType.text},\r\n        position: {type: String, default: TabHeaderPosition.top},\r\n        width: {type: Number, default: '120'},\r\n    },\r\n    setup(props) {\r\n\r\n        const refs = useRefs({\r\n            scroll: {} as PlainScroll,\r\n        })\r\n\r\n        const {slots} = useSlots()\r\n\r\n        const type = computed(() => {\r\n            return props.position === TabHeaderPosition.left || props.position === TabHeaderPosition.right ? TabHeaderType.verticalText : props.type\r\n        })\r\n\r\n        const classes = computed(() => [\r\n            'pl-tab-header',\r\n            `pl-tab-header-type-${type.value}`,\r\n            `pl-tab-header-position-${props.position}`,\r\n        ])\r\n\r\n        const styles = computed(() => {\r\n            if (type.value !== TabHeaderType.verticalText) return {}\r\n            return {\r\n                width: $plain.utils.suffixPx(props.width)\r\n            }\r\n        })\r\n\r\n        const handler = {\r\n            mousewheel: e => {\r\n                if (type.value !== TabHeaderType.verticalText) {\r\n                    e.stopPropagation()\r\n                    e.preventDefault()\r\n                    const delta = e.deltaX || e.deltaY\r\n                    let oldLeft = refs.scroll.state.wrapperScrollLeft\r\n                    refs.scroll.methods.scroll({x: delta + oldLeft})\r\n                }\r\n            }\r\n        }\r\n\r\n        provide(TAB_HEADER_PROVIDER, {\r\n            props,\r\n            type,\r\n        })\r\n\r\n        const scrollBinding = computed(() => {\r\n            return type.value === TabHeaderType.verticalText ?\r\n                {\r\n                    scrollbarSize: 4,\r\n\r\n                    scrollX: false,\r\n                    scrollY: true,\r\n                } :\r\n                {\r\n                    scrollbarSize: 4,\r\n\r\n                    scrollX: true,\r\n                    scrollY: false,\r\n                    fitHostHeight: true,\r\n                }\r\n        })\r\n\r\n        return () => (\r\n            <div class={classes.value} style={styles.value}>\r\n                <pl-scroll {...{props: scrollBinding.value}} ref={\"scroll\"}>\r\n                    <div class=\"pl-tab-header-item-list\" onMousewheel={handler.mousewheel}>\r\n                        {slots.default()}\r\n                    </div>\r\n                </pl-scroll>\r\n            </div>\r\n        )\r\n    },\r\n})","import './triangle.scss'\r\nimport triangle from './triangle'\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    triangle,\r\n])","import {computed, defineComponent} from \"@vue/composition-api\";\r\nimport {useCollectChild} from \"@/use/useCollect\";\r\nimport {useSlots} from \"@/use/useSlots\";\r\nimport {useScopedSlots} from \"@/use/useScopedSlots\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-tab',\r\n    props: {\r\n        title: {type: String},                          // 标签标题\r\n        init: {type: Boolean},                          // 标签是否立即初始化\r\n        val: {},                                        // 标签唯一标识，没有值则使用title，tab-group根据该值判断显示哪一个tab的内容\r\n        destroyOnHide: {type: Boolean},                 // 是否在关闭页签的时候，销毁内容\r\n    },\r\n    setup(props) {\r\n\r\n        const {slots} = useSlots()\r\n        const {scopedSlots} = useScopedSlots({\r\n            head: {active: Boolean},\r\n        })\r\n\r\n        const ctx = useCollectChild()\r\n        const targetVal = computed(() => props.val || props.title)\r\n\r\n        Object.assign(ctx, {\r\n            props,\r\n            targetVal,\r\n            slots,\r\n            scopedSlots,\r\n        })\r\n\r\n        return () => <span>{props.title}</span>\r\n    },\r\n})","import {computed, defineComponent, onMounted, ref} from \"@vue/composition-api\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {useRefs} from \"@/use/useRefs\";\r\n\r\nexport const enum FilletCornerDirection {\r\n    horizontal = 'horizontal',\r\n    vertical = 'vertical',\r\n}\r\n\r\nexport default defineComponent({\r\n    name: 'pl-fillet-corner',\r\n    props: {\r\n        direction: {type: String, default: FilletCornerDirection.vertical},\r\n        top: {type: Boolean, default: true},\r\n        start: {type: Boolean, default: false},\r\n    },\r\n    setup(props) {\r\n\r\n        const refs = useRefs()\r\n        const size = ref(0)\r\n\r\n        const styles = computed(() => ({\r\n            height: $plain.utils.suffixPx(refs.$el.offsetHeight),\r\n            width: $plain.utils.suffixPx(refs.$el.offsetHeight),\r\n        }))\r\n\r\n        const path = computed(() => {\r\n            let part1 = props.top ? 1 : -1\r\n            let part2 = props.start ? 1 : -1\r\n\r\n            const startPos = [0, part1 * part2 * -1 < 0 ? 100 : 0]\r\n            const endPos = [100 - startPos[0], 100 - startPos[1]]\r\n\r\n            const firstCornerPoint = props.direction === FilletCornerDirection.horizontal ?\r\n                [startPos[0], 50] :\r\n                [50, startPos[1]]\r\n\r\n            const secondCornerPoint = props.direction === FilletCornerDirection.horizontal ?\r\n                [endPos[0], 50] :\r\n                [50, endPos[1]]\r\n\r\n            // \"M0,0 Q50,0 50,50 Q50,100 100,100 L0,100 Z\"\r\n\r\n            const d = [\r\n                `M${startPos[0]},${startPos[1]}`,\r\n                `Q${firstCornerPoint[0]},${firstCornerPoint[1]} 50,50`,\r\n                `Q${secondCornerPoint[0]},${secondCornerPoint[1]} ${endPos[0]},${endPos[1]}`,\r\n                part2 > 0 ? `L${endPos[0]},${startPos[1]}` : `L${startPos[0]},${endPos[1]}`,\r\n                `Z`\r\n            ]\r\n\r\n            return d.join(' ')\r\n        })\r\n\r\n        onMounted(() => {\r\n            setTimeout(() => {\r\n                size.value = refs.$el.offsetHeight\r\n            }, 0)\r\n        })\r\n\r\n        return () => (\r\n            !size.value ?\r\n                <div class={'pl-fillet-corner'}/>\r\n                :\r\n                <svg viewBox=\"0 0 100 100\" style={styles.value} class={'pl-fillet-corner'}>\r\n                    <path d={path.value}/>\r\n                </svg>\r\n        )\r\n    },\r\n})","import {computed, defineComponent, onMounted, provide, reactive} from \"@vue/composition-api\";\r\nimport {useSlots} from \"@/use/useSlots\";\r\nimport {useRefer} from \"@/use/useRefer\";\r\nimport {useCollectParent} from \"@/use/useCollect\";\r\nimport {useModel} from \"@/use/useModel\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {TabHeaderPosition, TabHeaderType} from \"@/packages/tab-header/tab-header\";\r\n\r\nexport const TAB_GROUP_PROVIDER = '@@TAB_GROUP_PROVIDER'\r\n\r\nexport default defineComponent({\r\n    name: 'pl-tab-group',\r\n    props: {\r\n        value: {},\r\n        headType: {type: String, default: TabHeaderType.text},\r\n        headPosition: {type: String, default: TabHeaderPosition.top},\r\n        closeIcon: {type: Boolean},\r\n    },\r\n    setup(props) {\r\n\r\n        const {slots} = useSlots()\r\n        const {emit} = useEvent({\r\n            input: EmitFunc,\r\n            clickHeadItem: (item: any, index: number) => undefined,\r\n            close: (item: any, index: number) => undefined,\r\n        })\r\n\r\n        /*---------------------------------------state-------------------------------------------*/\r\n\r\n        const items = useCollectParent({\r\n            sort: true,\r\n            onRemove: (removeItem) => {\r\n                if (removeItem.targetVal.value === model.value) {\r\n                    let index = items.value.indexOf(removeItem)\r\n                    if (!!items.value[index + 1]) {\r\n                        model.value = items.value[index + 1].targetVal.value\r\n                    } else if (!!items.value[index - 1]) {\r\n                        model.value = items.value[index - 1].targetVal.value\r\n                    } else {\r\n                        model.value = null\r\n                    }\r\n                }\r\n            }\r\n        })\r\n\r\n        const model = useModel(() => props.value, emit.input)\r\n\r\n        /*---------------------------------------computer-------------------------------------------*/\r\n\r\n        const classes = computed(() => [\r\n            'pl-tab-group',\r\n        ])\r\n\r\n        const innerGroupClasses = computed(() => [\r\n            'pl-tab-inner-group',\r\n            `pl-tab-inner-group-head-position-${props.headPosition}`,\r\n            `pl-tab-inner-group-direction-${['top', 'bottom'].indexOf(props.headPosition) > -1 ? 'horizontal' : 'vertical'}`\r\n        ])\r\n\r\n        /*---------------------------------------utils-------------------------------------------*/\r\n\r\n        const utils = {}\r\n\r\n        /*---------------------------------------handler-------------------------------------------*/\r\n\r\n        const handler = {\r\n            clickHeadItem: (item, index) => {\r\n                model.value = item.targetVal.value\r\n                emit.clickHeadItem(item, index)\r\n            },\r\n            clickCloseIcon: (item, index) => {\r\n                emit.close(item, index)\r\n            }\r\n        }\r\n\r\n        const ctx = useRefer({\r\n            items,\r\n            utils,\r\n            handler,\r\n\r\n            props,\r\n            model,\r\n        })\r\n\r\n        provide(TAB_GROUP_PROVIDER, ctx)\r\n\r\n        onMounted(() => {\r\n            if (model.value == null && !!items.value && items.value.length > 0) {\r\n                model.value = items.value[0].targetVal.value\r\n            }\r\n        })\r\n\r\n        return () => {\r\n            return (\r\n                <div class={classes.value}>\r\n                    <span class=\"pl-tab-group-slot\">{slots.default()}</span>\r\n\r\n                    <div class={innerGroupClasses.value}>\r\n                        <pl-tab-header type={props.headType} position={props.headPosition}>\r\n                            {items.value.map((item, index) => (\r\n                                <pl-tab-header-item key={item.targetVal.value} active={item.targetVal.value === model.value} onClick={() => handler.clickHeadItem(item, index)}>\r\n                                    <span>\r\n                                        {item.scopedSlots.head({\r\n                                            param: {active: item.targetVal.value === model.value},\r\n                                            content: item.props.title\r\n                                        })}\r\n                                    </span>\r\n                                    {!!props.closeIcon && <pl-icon icon=\"el-icon-close\" onClick={() => handler.clickCloseIcon(item, index)}/>}\r\n                                </pl-tab-header-item>\r\n                            ))}\r\n                        </pl-tab-header>\r\n\r\n                        <div class=\"pl-tab-group-inner-tab-list\">\r\n                            {items.value.map((item, index) => (\r\n                                <pl-inner-tab item={item} index={index} key={item.targetVal.value}/>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {defineComponent, inject, reactive, watch} from \"@vue/composition-api\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {TAB_GROUP_PROVIDER} from \"@/packages/tab/tab-group\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-inner-tab',\r\n    props: {\r\n        item: {type: Object},\r\n        index: {type: Number},\r\n    },\r\n    setup(props) {\r\n\r\n        const tabGroup = inject(TAB_GROUP_PROVIDER) as any\r\n\r\n        const state = reactive({\r\n            show: false,\r\n            init: props.item!.props.init,\r\n        })\r\n\r\n        const methods = {\r\n            show: async () => {\r\n                if (state.show) return\r\n                else {\r\n                    if (!state.init) {\r\n                        state.init = true\r\n                        await $plain.nextTick()\r\n                    }\r\n                    state.show = true\r\n                }\r\n            },\r\n            hide: async () => {\r\n                if (!state.show) return\r\n                else {\r\n                    state.show = false\r\n                    if (props.item!.props.destroyOnHide) {\r\n                        await $plain.nextTick()\r\n                        state.init = false\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        watch(() => tabGroup.model.value, (val) => {\r\n            if (val === props.item!.targetVal.value) {\r\n                methods.show()\r\n            } else {\r\n                methods.hide()\r\n            }\r\n        },{immediate: true})\r\n\r\n        return () => {\r\n            return (\r\n                <transition name=\"pl-transition-tab\">\r\n                    <div class=\"pl-inner-tab\" {...{directives: [{name: 'show', value: state.show}]}}>\r\n                        {!!state.init && props.item!.slots.default()}\r\n                    </div>\r\n                </transition>\r\n            )\r\n        }\r\n    },\r\n})","import './tab.scss'\r\nimport tab from './tab'\r\nimport innerTab from './inner-tab'\r\nimport group from './tab-group'\r\n\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    tab,\r\n    innerTab,\r\n    group,\r\n])","import {computed, defineComponent, inject} from \"@vue/composition-api\";\r\nimport {useSlots} from \"@/use/useSlots\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {TAB_HEADER_PROVIDER, TabHeaderPosition} from \"@/packages/tab-header/tab-header\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-tab-header-item',\r\n    props: {\r\n        active: {type: Boolean},\r\n    },\r\n    setup(props) {\r\n        return () => {\r\n\r\n            const tabHeader = inject(TAB_HEADER_PROVIDER) as any\r\n\r\n            const {emit} = useEvent({\r\n                click: EmitFunc,\r\n            })\r\n            const {slots} = useSlots()\r\n            const classes = computed(() => [\r\n                'pl-tab-header-item',\r\n                {\r\n                    'pl-tab-header-item-active': props.active\r\n                }\r\n            ])\r\n\r\n            return (\r\n                <div class={classes.value} onClick={emit.click}>\r\n                    {!!tabHeader && tabHeader.type.value === 'fillet' && <pl-fillet-corner top={tabHeader.props.position !== TabHeaderPosition.top} start/>}\r\n                    <div class=\"pl-tab-header-item-content\">\r\n                        {slots.default()}\r\n                    </div>\r\n                    {!!tabHeader && tabHeader.type.value === 'fillet' && <pl-fillet-corner top={tabHeader.props.position === TabHeaderPosition.top}/>}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import './tab-header.scss'\r\nimport header from './tab-header'\r\nimport item from './tab-header-item'\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    header,\r\n    item,\r\n])","/**\r\n * 拖拽放置的类型\r\n * @author  韦胜健\r\n * @date    2020/4/1 17:15\r\n */\r\nexport enum TreeDropType {\r\n    prev = 'prev',\r\n    inner = 'inner',\r\n    next = 'next',\r\n    null = 'null',\r\n}\r\n\r\nexport const enum TreeNodeCheckStatus {\r\n    check = 'check',\r\n    uncheck = 'uncheck',\r\n    minus = 'minus',\r\n}","import './fillet-corner.scss'\r\nimport filletCorner from './fillet-corner'\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    filletCorner,\r\n])","import {TreeNodeCheckStatus} from \"@/packages/tree/utils/tree-constant\";\r\nimport {TreeConfig, TreeMark} from \"@/packages/tree/utils/TreeMark\";\r\nimport {set} from \"@vue/composition-api\";\r\n\r\nexport class TreeNode {\r\n\r\n    constructor(\r\n        public key: string,\r\n        public data: object,\r\n        public level: number,\r\n        public config: () => TreeConfig,\r\n        public parentRef: () => (TreeNode),\r\n        public markRef: () => TreeMark,\r\n    ) {}\r\n\r\n    selfGetter = () => this;\r\n\r\n    /*---------------------------------------format prop-------------------------------------------*/\r\n\r\n    get label(): string {return (!!this.config().labelField && !!this.data) ? this.data[this.config().labelField] : undefined}\r\n\r\n    get childrenData(): object[] {return (!!this.config().childrenField && !!this.data) ? this.data[this.config().childrenField] : undefined}\r\n\r\n    get children(): TreeNode[] | null {\r\n        if (!this.childrenData) {return null}\r\n        return this.childrenData.map(child => this.markRef().node.get(child, this.level + 1, this.selfGetter))\r\n    }\r\n\r\n    /*---------------------------------------mark props-------------------------------------------*/\r\n\r\n    get isExpand(): boolean {return this.markRef().expand.get(this.key)}\r\n\r\n    get isCheck(): boolean {return this.markRef().check.get(this.key)}\r\n\r\n    get isLoading(): boolean {return this.markRef().loading.get(this.key)}\r\n\r\n    get isLoaded(): boolean {return this.markRef().loaded.get(this.key)}\r\n\r\n    /*---------------------------------------judge props-------------------------------------------*/\r\n\r\n    get isCheckable(): boolean {return !this.config().isCheckable || this.config().isCheckable(this)}\r\n\r\n    get isLeaf(): boolean {\r\n        const {isLeaf} = this.config()\r\n        if (!!isLeaf) {\r\n            return isLeaf(this)\r\n        } else {\r\n            return !this.childrenData || this.childrenData.length === 0\r\n        }\r\n    }\r\n\r\n    get isVisible(): boolean {\r\n        const {filterNodeMethod} = this.config()\r\n        if (!filterNodeMethod) {\r\n            return true\r\n        }\r\n        let visible = filterNodeMethod(this)\r\n        if (visible) {\r\n            return true\r\n        } else {\r\n            return (this.children || []).some(child => child.isVisible)\r\n        }\r\n    }\r\n\r\n    /*---------------------------------------other-------------------------------------------*/\r\n\r\n    /*当前选中状态：选中、未选中、半选中*/\r\n    get checkStatus(): TreeNodeCheckStatus {\r\n\r\n        if (this.isLeaf || this.config().checkStrictly) {\r\n            // 叶子节点或者父子互不关联情况下，节点只有选中以及非选中的状态，不会处于半选中状态\r\n            return this.isCheck ? TreeNodeCheckStatus.check : TreeNodeCheckStatus.uncheck\r\n        } else {\r\n            // 当前已经选中，则处于选中状态\r\n            if (this.isCheck) return TreeNodeCheckStatus.check\r\n\r\n            // 当前未选中，判断子节点是否全部都是未选中状态，是则自身为未选中状态，否则为半选中状态\r\n            if ((this.children || []).every(child => child.checkStatus === 'uncheck')) {\r\n                return TreeNodeCheckStatus.uncheck\r\n            } else {\r\n                return TreeNodeCheckStatus.minus\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 拖拽指示器的左偏移距离\r\n     * @author  韦胜健\r\n     * @date    2020/4/3 0:09\r\n     */\r\n    get indicatorLeft() {\r\n        let left = this.config().intent * (this.level - 1)\r\n        if (this.isLeaf && !this.isLoading) {\r\n            left += 18\r\n        }\r\n        return left\r\n    }\r\n\r\n    /*---------------------------------------methods-------------------------------------------*/\r\n\r\n    loading(val: boolean) {\r\n        this.markRef().loading.set(this.key, val)\r\n    }\r\n\r\n    loaded(val: boolean) {\r\n        this.markRef().loaded.set(this.key, val)\r\n    }\r\n\r\n    /**\r\n     * 选中/取消选中 当前节点\r\n     * @author  韦胜健\r\n     * @date    2020/4/1 22:37\r\n     */\r\n    check(val: boolean) {\r\n        if (!this.isCheckable) return\r\n        this.markRef().check.set(this.key, val)\r\n    }\r\n\r\n    /**\r\n     * 展开/收起当前节点\r\n     * @author  韦胜健\r\n     * @date    2020/5/12 9:47\r\n     */\r\n    expand(val: boolean) {\r\n        if (this.isLeaf) return\r\n        this.markRef().expand.set(this.key, val)\r\n    }\r\n\r\n    /**\r\n     * 设置子节点数据\r\n     * @author  韦胜健\r\n     * @date    2020/4/3 0:09\r\n     */\r\n    setChildren(children: object[]) {\r\n        set(this.data, this.config().childrenField, children)\r\n    }\r\n\r\n    getReactiveChildrenData(): object[] {\r\n        let childrenData = this.childrenData\r\n        if (!childrenData) {\r\n            childrenData = []\r\n            this.setChildren(childrenData)\r\n        }\r\n        return childrenData\r\n    }\r\n\r\n    removeSelf() {\r\n        const parentChildrenData = this.parentRef().childrenData\r\n        parentChildrenData.splice(parentChildrenData.indexOf(this.data), 1)\r\n    }\r\n\r\n    previousSibling(treeNode: TreeNode) {\r\n        let parentChildrenData = this.parentRef().getReactiveChildrenData()\r\n        treeNode.parentRef = this.parentRef\r\n        treeNode.level = this.level\r\n        parentChildrenData.splice(parentChildrenData.indexOf(this.data), 0, treeNode.data)\r\n    }\r\n\r\n    nextSibling(treeNode: TreeNode) {\r\n        let parentChildrenData = this.parentRef().getReactiveChildrenData()\r\n        treeNode.parentRef = this.parentRef\r\n        treeNode.level = this.level\r\n        parentChildrenData.splice(parentChildrenData.indexOf(this.data) + 1, 0, treeNode.data)\r\n    }\r\n\r\n    unshiftChild(treeNode: TreeNode) {\r\n        let childrenData = this.getReactiveChildrenData()\r\n        treeNode.parentRef = () => this\r\n        treeNode.level = this.level + 1\r\n        childrenData.unshift(treeNode.data)\r\n    }\r\n}","import {TreeNode} from \"@/packages/tree/utils/TreeNode\";\r\nimport {reactive} from \"@vue/composition-api\";\r\nimport {KeyGenerator} from \"../../../../src-doc/page/normal/test-table/KeyGenerator\";\r\nimport {createFlagManager} from \"@/util/NodeWrapper\";\r\n\r\nconst generator = new KeyGenerator('tree_node')\r\n\r\nexport interface TreeConfig {\r\n    keyField: string,\r\n    labelField: string,\r\n    childrenField: string,\r\n    isCheckable: Function,\r\n    isLeaf: Function,\r\n    checkStrictly: boolean,\r\n    filterNodeMethod: Function,\r\n    intent: number,\r\n}\r\n\r\nexport class TreeMark {\r\n\r\n    constructor(\r\n        public config: () => TreeConfig,\r\n    ) {}\r\n\r\n    selfGetter = () => this;\r\n\r\n    node = {\r\n        state: reactive({\r\n            map: {} as { [k: string]: TreeNode }\r\n        }),\r\n        get: (\r\n            data: any,\r\n            level: number,\r\n            parentRef: () => (TreeNode),\r\n        ): TreeNode => {\r\n            const key = generator.get(data, this.config().keyField)\r\n            let node: TreeNode = this.node.state.map[key]\r\n            if (!!node) {\r\n                node.data = data\r\n                node.level = level\r\n                node.parentRef = parentRef\r\n            } else {\r\n                node = new TreeNode(\r\n                    key,\r\n                    data,\r\n                    level,\r\n                    this.config,\r\n                    parentRef,\r\n                    this.selfGetter,\r\n                )\r\n                this.node.state.map[key] = node\r\n            }\r\n            return node\r\n        },\r\n        getList: (list: any[] | undefined, level, parentRef: () => (TreeNode)): TreeNode[] => {\r\n            if (!list) return []\r\n            return list.map(item => this.node.get(item, level, parentRef))\r\n        },\r\n        getByKey(key: string) {\r\n            return this.state.map[key]\r\n        },\r\n    }\r\n\r\n    expand = createFlagManager()\r\n    check = createFlagManager()\r\n    loading = createFlagManager()\r\n    loaded = createFlagManager()\r\n}","import {UseTreeReturnType} from \"@/packages/tree/use/use-tree\";\r\nimport {getCurrentInstance, reactive} from \"@vue/composition-api\";\r\nimport {StyleType} from \"@/types/utils\";\r\nimport {TreeDropType} from \"@/packages/tree/utils/tree-constant\";\r\nimport {TreeNode} from \"@/packages/tree/utils/TreeNode\";\r\n\r\nexport function useTreeDragger(utils: UseTreeReturnType['utils'], methods: UseTreeReturnType['methods']) {\r\n\r\n    const ctx = getCurrentInstance()!\r\n\r\n    const state = reactive({\r\n        show: false,                                                 // 当前拖拽指示器是否展示\r\n        reflow: false,                                               // 当前是否正在重新渲染，重新渲染的时候不要展开动画\r\n        indicatorStyles: {} as StyleType,                            // 当前指示器样式\r\n        dropInnerKey: null as null | string,                         // 当前拖拽，即将放入内部的节点的key\r\n    })\r\n\r\n    const freezeState = {\r\n        dropType: TreeDropType.null as TreeDropType,                 // 当前拖拽在目标节点的位置\r\n        dropTreeNode: null as null | TreeNode,                       // 当前放置目标节点的treeNode对象\r\n        dragTreeNode: null as null | TreeNode,                       // 当前拖拽目标节点的treeNode对象\r\n    }\r\n\r\n    const handler = {\r\n        dragstart: (e) => {\r\n            e.stopPropagation()\r\n            e.dataTransfer.effectAllowed = 'move'\r\n\r\n            const dragTreeNode = utils.getTreeNodeFromEl(e.currentTarget)\r\n            if (!!dragTreeNode && !utils.isAllowDrag(dragTreeNode, e)) {\r\n                e.preventDefault()\r\n                return\r\n            }\r\n            freezeState.dragTreeNode = dragTreeNode\r\n        },\r\n        dragend: (e) => {\r\n            e.stopPropagation()\r\n\r\n            state.show = false\r\n            state.dropInnerKey = null\r\n            state.indicatorStyles = {}\r\n\r\n            let {dropTreeNode, dragTreeNode, dropType} = freezeState\r\n\r\n            if (!!dropTreeNode) {\r\n                dragTreeNode!.removeSelf()\r\n\r\n                state.reflow = true\r\n                switch (dropType) {\r\n                    case TreeDropType.prev:\r\n                        // console.log(`添加到 ${dropTreeNode.label} 之前`)\r\n                        dropTreeNode.previousSibling(dragTreeNode!)\r\n                        break\r\n                    case TreeDropType.inner:\r\n                        // console.log(`添加到 ${dropTreeNode.label} 内部`)\r\n                        dropTreeNode.unshiftChild(dragTreeNode!)\r\n                        methods.expand(dropTreeNode.key)\r\n                        break\r\n                    case TreeDropType.next:\r\n                        // console.log(`添加到 ${dropTreeNode.label} 之后`)\r\n                        dropTreeNode.nextSibling(dragTreeNode!)\r\n                        break\r\n                    default:\r\n                        // console.log(`无任何变化`)\r\n                        break\r\n                }\r\n                utils.refreshCheckStatus()\r\n                setTimeout(() => state.reflow = false, 100)\r\n            }\r\n        },\r\n        dragover: (e) => {\r\n            e.stopPropagation()\r\n            e.preventDefault()\r\n            e.dataTransfer.dropEffect = 'move'\r\n\r\n            const treeNode = utils.getTreeNodeFromEl(e.currentTarget)\r\n\r\n            let nothing = () => {\r\n                e.dataTransfer.dropEffect = 'none'\r\n                state.show = false\r\n                state.dropInnerKey = null\r\n                state.indicatorStyles = {}\r\n                freezeState.dropType = TreeDropType.null\r\n                freezeState.dropTreeNode = null\r\n            }\r\n\r\n            // 如果当前 over 的节点为拖拽节点的子节点，则什么事也不干，清空标记信息并且什么也不做\r\n            if (treeNode === freezeState.dragTreeNode) {\r\n                nothing()\r\n                return;\r\n            } else {\r\n                let containsFlag = false\r\n                utils.iterateAll(freezeState.dragTreeNode!.children, (child) => {\r\n                    if (child === treeNode) {\r\n                        containsFlag = true\r\n                    }\r\n                })\r\n                if (containsFlag) {\r\n                    nothing()\r\n                    return;\r\n                }\r\n            }\r\n\r\n            let content = e.currentTarget.querySelector('.pl-tree-node-content')\r\n            let rect = content.getBoundingClientRect()\r\n\r\n            if (!!rect) {\r\n                freezeState.dropTreeNode = treeNode\r\n\r\n                let {height, width, left, top} = rect\r\n                width -= freezeState.dropTreeNode!.indicatorLeft\r\n                left += freezeState.dropTreeNode!.indicatorLeft\r\n\r\n                let deltaY = e.clientY - top\r\n                let allowDrop;\r\n\r\n\r\n                if (deltaY < height / 4) {\r\n                    // 上\r\n                    allowDrop = utils.isAllowDrop(freezeState.dragTreeNode!, freezeState.dropTreeNode!, TreeDropType.prev, e)\r\n                    if (!allowDrop) return nothing()\r\n\r\n                    freezeState.dropType = TreeDropType.prev\r\n                    state.show = true\r\n                    state.dropInnerKey = null\r\n                    state.indicatorStyles = {top, width, left}\r\n                } else if (deltaY < height * (3 / 4)) {\r\n                    // 中\r\n                    allowDrop = utils.isAllowDrop(freezeState.dragTreeNode!, freezeState.dropTreeNode!, TreeDropType.inner, e)\r\n                    if (!allowDrop) return nothing()\r\n\r\n                    freezeState.dropType = TreeDropType.inner\r\n                    state.show = false\r\n                    state.indicatorStyles = {}\r\n                    state.dropInnerKey = treeNode!.key\r\n\r\n                } else {\r\n                    // 下\r\n                    allowDrop = utils.isAllowDrop(freezeState.dragTreeNode!, freezeState.dropTreeNode!, TreeDropType.next, e)\r\n                    if (!allowDrop) return nothing()\r\n\r\n                    if (treeNode!.isExpand && !!treeNode!.children && treeNode!.children.length > 0) {\r\n                        // 节点已经展开，并且有子节点，表示插入到第一个子节点之前\r\n                        let firstChildTreeNodeDom = undefined\r\n\r\n                        if (ctx.$options.name === 'pl-tree') {\r\n                            firstChildTreeNodeDom = e.currentTarget.querySelector('.pl-tree-node')\r\n                        } else if (ctx.$options.name === 'pl-virtual-tree') {\r\n                            firstChildTreeNodeDom = e.currentTarget.nextSibling\r\n                        } else {\r\n                            console.warn(`can't recognise ${ctx.$options.name}`)\r\n                            return nothing\r\n                        }\r\n\r\n                        content = (firstChildTreeNodeDom! as HTMLElement).querySelector('.pl-tree-node-content')\r\n                        rect = content.getBoundingClientRect()\r\n                        if (!!rect) {\r\n                            freezeState.dropTreeNode = utils.getTreeNodeFromEl(firstChildTreeNodeDom)\r\n\r\n                            width = rect.width\r\n                            left = rect.left\r\n                            top = rect.top\r\n\r\n                            width -= freezeState.dropTreeNode!.indicatorLeft\r\n                            left += freezeState.dropTreeNode!.indicatorLeft\r\n\r\n                            freezeState.dropType = TreeDropType.prev\r\n                            state.show = true\r\n                            state.dropInnerKey = null\r\n                            state.indicatorStyles = {top, width, left}\r\n                        }\r\n\r\n                    } else {\r\n                        // 否则这时候应该将节点插入到目标节点之后\r\n                        freezeState.dropType = TreeDropType.next\r\n                        state.show = true\r\n                        state.dropInnerKey = null\r\n                        state.indicatorStyles = {top: top + height, width, left,}\r\n                    }\r\n                }\r\n            }\r\n        },\r\n    }\r\n\r\n    return {\r\n        state,\r\n        handler,\r\n    }\r\n}","import {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {computed, provide, reactive} from \"@vue/composition-api\";\r\nimport {useModel} from \"@/use/useModel\";\r\nimport {TreeMark} from \"@/packages/tree/utils/TreeMark\";\r\nimport {TreeNode} from \"@/packages/tree/utils/TreeNode\";\r\nimport {TreeDropType} from \"@/packages/tree/utils/tree-constant\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {useRefer} from \"@/use/useRefer\";\r\nimport {useScopedSlots} from \"@/use/useScopedSlots\";\r\nimport {useTreeDragger} from \"@/packages/tree/use/use-tree-dragger\";\r\n\r\nexport const TreeProps = {\r\n    data: {type: Array},                                        // 树形结构数据\r\n    loading: {type: Boolean},                                   // 当前是否处于loading状态\r\n    nodeIcon: Function,                                 // 节点图标\r\n\r\n    // 部分key\r\n    keyField: {type: String, required: true},                   // 每一个树节点用来标识的唯一树形\r\n    labelField: {type: String},                                 // 树节点展示文本对应字段\r\n    childrenField: {type: String},                              // 树节点对应子节点数据对应字段\r\n\r\n    // 普通属性\r\n    renderContent: Function,                            // 树节点内容渲染函数\r\n    filterNodeMethod: Function,                         // 对树节点进行筛选的方法，返回true表示可以显示，返回false表示隐藏\r\n    highlightCurrent: {type: Boolean, default: true},           // 是否高亮当前选中节点\r\n    currentKey: {type: String},                                 // 当前选中节点的key\r\n\r\n    // 展开相关属性\r\n    emptyText: {type: String, default: '暂无数据'},              // 没有子节点的时候展示的文本\r\n    defaultExpandAll: {type: Boolean},                          // 是否默认展开所有节点\r\n    according: {type: Boolean},                                 // 是否每次只展开一个同级的树节点\r\n    expandIcon: {type: String},                                 // 树展开图标\r\n    intent: {type: Number, default: 14},                        // 相邻级节点水平缩进距离，默认16，单位px\r\n    lazy: {type: Boolean},                                      // 是否懒加载子节点数据\r\n    isLeaf: Function,                                   // 判断树节点是否为叶子节点的函数，仅在lazy模式有效\r\n    getChildren: Function,                              // 加载子节点数据的函数，仅当 lazy 为true时有效\r\n\r\n    renderAfterExpand: {type: Boolean, default: true},          // 是否在第一次展开节点之后才渲染内容\r\n    expandOnClickNode: {type: Boolean, default: null},          // 是否点击树节点的时候展开子节点\r\n    autoExpandParent: {type: Boolean, default: true},           // 是否展开节点的时候，自动展开父节点\r\n\r\n    // 勾选相关属性\r\n    showCheckbox: {type: Boolean},                              // 是否展示勾选框\r\n    checkOnClickNode: {type: Boolean},                          // 是否点击树节点的时候选中节点\r\n    checkStrictly: {type: Boolean},                             // 在显示复选框的情况下，是否严格遵循父子互不关联的做法，默认为false\r\n    isCheckable: Function,                              // 当即将选中树节点时，判断是否可以选中该树节点\r\n\r\n    // 拖拽属性\r\n    draggable: {type: Boolean},                                 // 是否可拖拽\r\n    allowDrag: Function,                                // 判断节点是否可以拖拽\r\n    allowDrop: Function,                                // 判断目标节点能够被放置\r\n}\r\n\r\nexport const TREE_PROVIDER = '@@TREE_PROVIDER'\r\n\r\nexport function useTree(props: ExtractPropTypes<typeof TreeProps>) {\r\n\r\n    const {emit} = useEvent({\r\n        clickNode: EmitFunc,\r\n        updateCurrent: EmitFunc,\r\n        currentChange: EmitFunc,\r\n        updateData: EmitFunc,\r\n\r\n        expandChange: EmitFunc,\r\n        expand: EmitFunc,\r\n        collapse: EmitFunc,\r\n\r\n        checkChange: EmitFunc,\r\n        check: EmitFunc,\r\n        uncheck: EmitFunc,\r\n\r\n        dragstart: EmitFunc,\r\n        dragenter: EmitFunc,\r\n        dragleave: EmitFunc,\r\n        dragover: EmitFunc,\r\n        dragend: EmitFunc,\r\n        drop: EmitFunc,\r\n    })\r\n\r\n    const {scopedSlots} = useScopedSlots({\r\n        default: TreeNode\r\n    })\r\n\r\n    /*---------------------------------------state-------------------------------------------*/\r\n    const data = useModel(() => props.data, emit.updateData)\r\n    const current = useModel(() => props.currentKey, emit.updateCurrent)\r\n\r\n    const treeMark = new TreeMark(() => ({\r\n        keyField: props.keyField as any,\r\n        labelField: props.labelField as any,\r\n        childrenField: props.childrenField as any,\r\n        isCheckable: props.isCheckable as any,\r\n        isLeaf: props.isLeaf as any,\r\n        checkStrictly: props.checkStrictly as any,\r\n        filterNodeMethod: props.filterNodeMethod as any,\r\n        intent: props.intent as any,\r\n    }))\r\n\r\n    const rootTreeNode = treeMark.node.get(\r\n        {[props.childrenField!]: data.value},\r\n        0,\r\n        () => ({}) as any\r\n    )\r\n\r\n    const state = reactive({\r\n        loading: false,\r\n        virtualScrollFlag: false,\r\n        treeMark,\r\n        rootTreeNode,\r\n    })\r\n\r\n    /*---------------------------------------computer-------------------------------------------*/\r\n\r\n    const isLoading = computed(() => state.loading || props.loading)\r\n    const formatData = computed(() => state.treeMark.node.getList(data.value, 1, () => state.rootTreeNode))\r\n    const classes = computed(() => [\r\n        'pl-tree',\r\n        'pl-tree-node-list',\r\n        {\r\n            'pl-tree-highlight-current': props.highlightCurrent,\r\n            'pl-tree-reflow': dragState.state.reflow,\r\n            'pl-tree-virtual-scrolling': state.virtualScrollFlag,\r\n        }\r\n    ])\r\n    const indicatorStyles = computed(() => {\r\n        let styles = {} as any\r\n        const indicatorStyles = dragState.state.indicatorStyles\r\n        if (!!indicatorStyles.left) {\r\n            styles.left = `${indicatorStyles.left + 6}px`\r\n        }\r\n        if (!!indicatorStyles.width) {\r\n            styles.width = `${indicatorStyles.width}px`\r\n        }\r\n        if (!!indicatorStyles.top) {\r\n            styles.top = `${indicatorStyles.top}px`\r\n        }\r\n        return styles\r\n    })\r\n\r\n    const emitExpandKeys = computed(() => state.treeMark.expand.getActiveKeys())\r\n    const emitCheckKeys = computed(() => state.treeMark.check.getActiveKeys())\r\n\r\n    /*---------------------------------------utils-------------------------------------------*/\r\n\r\n    const utils = {\r\n        /**\r\n         * 处理keys\r\n         * @author  韦胜健\r\n         * @date    2020/3/31 15:23\r\n         */\r\n        handleKeys: async (keys: string | string[], handler: (value: string, index: number, array: string[]) => unknown) => {\r\n            keys = Array.isArray(keys) ? keys : [keys]\r\n            return await Promise.all(keys.map(handler))\r\n        },\r\n        /**\r\n         * 遍历所有的treeNode\r\n         * @author  韦胜健\r\n         * @date    2020/3/30 19:30\r\n         */\r\n        iterateAll: (treeNodes: TreeNode[] | Readonly<TreeNode[]> | null, fn, iterateChildren?: Function): void => {\r\n            if (!treeNodes) return\r\n            treeNodes.forEach(treeNode => {\r\n                fn(treeNode)\r\n                if (!!treeNode.children && (!iterateChildren || iterateChildren(treeNode))) {\r\n                    utils.iterateAll(treeNode.children, fn, iterateChildren)\r\n                }\r\n            })\r\n        },\r\n        /**\r\n         * 检查props是否合法\r\n         * @author  韦胜健\r\n         * @date    2020/3/30 18:48\r\n         */\r\n        checkProps: (): boolean => {\r\n            if (!props.keyField) {\r\n                console.error('pl-tree 的 keyField属性不能为空，每一条记录必须要有一个key标识')\r\n                return false\r\n            }\r\n            if (!props.childrenField) {\r\n                console.error('pl-tree 的 childrenKey不能为空')\r\n                return false\r\n            }\r\n            return true\r\n        },\r\n        /**\r\n         * 通过 key 寻找treeNode\r\n         * @author  韦胜健\r\n         * @date    2020/3/30 20:52\r\n         */\r\n        findTreeNodeByKey: (key: string): TreeNode | null => {\r\n            const treeNode = state.treeMark.node.getByKey(key)\r\n            if (!treeNode) {\r\n                console.warn(`无法找到treeNode：${key}`, state.treeMark.node.state.map)\r\n                return null\r\n            }\r\n            return treeNode\r\n        },\r\n        /**\r\n         * 获取子节点数据异步方法\r\n         * @author  韦胜健\r\n         * @date    2020/3/31 15:21\r\n         */\r\n        getChildrenAsync: (treeNode: TreeNode): Promise<TreeNode[]> => {\r\n            return new Promise((resolve) => {\r\n                if (treeNode.level === 0) {\r\n                    state.loading = true\r\n                } else {\r\n                    treeNode.loading(true)\r\n                }\r\n                props.getChildren!(treeNode, (...results) => {\r\n                    if (!treeNode.key) {\r\n                        state.loading = false\r\n                    } else {\r\n                        treeNode.loading(false)\r\n                        treeNode.loaded(true)\r\n                    }\r\n                    resolve(...results)\r\n                })\r\n            })\r\n        },\r\n        getTreeNodeFromEl(el: any): TreeNode | null {\r\n            const instance = el.__vue__\r\n            if (!!instance.treeNode) return instance.treeNode\r\n            if (!!instance.$parent && !!instance.$parent.treeNode) return instance.$parent.treeNode\r\n            return null\r\n        },\r\n        /**\r\n         * 刷新节点选中状态\r\n         * @author  韦胜健\r\n         * @date    2020/4/1 22:17\r\n         */\r\n        refreshCheckStatus() {\r\n            if (!props.showCheckbox) return\r\n            if (props.checkStrictly) return;\r\n\r\n            const next = (treeNode: TreeNode) => {\r\n                let hasCheck = false\r\n                let hasUncheck = false\r\n\r\n                if (!!treeNode.children) {\r\n                    treeNode.children.forEach(child => {\r\n                        next(child)\r\n                        if (child.isCheck) {\r\n                            hasCheck = true\r\n                        } else {\r\n                            hasUncheck = true\r\n                        }\r\n                    })\r\n                }\r\n                if (hasCheck && !hasUncheck) {\r\n                    // 所有子节点选中\r\n                    if (!treeNode.isCheck) {\r\n                        treeNode.check(true)\r\n                    }\r\n                } else if (hasUncheck) {\r\n                    // 有子节点未选中\r\n                    if (treeNode.isCheck) {\r\n                        treeNode.check(false)\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (!!formatData.value) {\r\n                formatData.value.forEach(next)\r\n            }\r\n        },\r\n        /**\r\n         * 判断是否可以拖拽\r\n         * @author  韦胜健\r\n         * @date    2020/4/1 23:12\r\n         */\r\n        isAllowDrag(dragTreeNode: TreeNode, event: DragEvent) {\r\n            return !props.allowDrag || props.allowDrag(dragTreeNode, event)\r\n        },\r\n        /**\r\n         * 判断是否可以放置\r\n         * @author  韦胜健\r\n         * @date    2020/4/1 23:12\r\n         */\r\n        isAllowDrop(dragTreeNode: TreeNode, dropTreeNode: TreeNode, dropType: TreeDropType, event) {\r\n            return !props.allowDrop || props.allowDrop(dragTreeNode, dropTreeNode, dropType, event)\r\n        },\r\n        async initLazy() {\r\n            if (!props.lazy) {\r\n                return\r\n            }\r\n            data.value = await this.getChildrenAsync(state.rootTreeNode)\r\n        },\r\n    }\r\n\r\n    /*---------------------------------------handler-------------------------------------------*/\r\n\r\n    const handler = {\r\n        /**\r\n         * 处理树节点点击展开图标的动作\r\n         * @author  韦胜健\r\n         * @date    2020/3/30 19:02\r\n         */\r\n        clickExpandIcon: (e, treeNode: TreeNode): void => {\r\n            e.stopPropagation()\r\n            methods.toggleExpand(treeNode.key)\r\n        },\r\n        /**\r\n         * 处理点击节点内容动作\r\n         * @author  韦胜健\r\n         * @date    2020/3/30 19:17\r\n         */\r\n        clickNodeContent: (treeNode: TreeNode): void => {\r\n            emit.clickNode(treeNode)\r\n            methods.setCurrent(treeNode.key)\r\n            if (props.expandOnClickNode !== false) {\r\n                methods.toggleExpand(treeNode.key)\r\n            }\r\n            if (props.checkOnClickNode == true) {\r\n                methods.toggleCheck(treeNode.key)\r\n            }\r\n        },\r\n        /**\r\n         * 处理点击子节点 checkbox 动作\r\n         * @author  韦胜健\r\n         * @date    2020/3/31 15:06\r\n         */\r\n        clickCheckbox(e, treeNode) {\r\n            e.stopPropagation()\r\n            methods.toggleCheck(treeNode.key)\r\n        },\r\n    }\r\n\r\n    /*---------------------------------------methods-------------------------------------------*/\r\n\r\n    const methods = {\r\n        /**\r\n         * 选中某一个树节点\r\n         * @author  韦胜健\r\n         * @date    2020/3/31 9:26\r\n         */\r\n        setCurrent(key: string) {\r\n            current.value = key\r\n            emit.currentChange(utils.findTreeNodeByKey(key))\r\n        },\r\n        /**\r\n         * 获取当前选中节点\r\n         * @author  韦胜健\r\n         * @date    2020/3/31 9:39\r\n         */\r\n        getCurrent(): TreeNode | null {\r\n            if (!current.value) return null\r\n            return utils.findTreeNodeByKey(current.value)\r\n        },\r\n        /**\r\n         * 展开树节点\r\n         * @author  韦胜健\r\n         * @date    2020/3/30 18:58\r\n         */\r\n        async expand(keys: string | string[]) {\r\n            await utils.handleKeys(keys, async (key: string) => {\r\n                const treeNode = utils.findTreeNodeByKey(key)\r\n                if (!treeNode) return\r\n                const parent = treeNode.parentRef()\r\n                if (!treeNode.isExpand) {\r\n\r\n                    if (\r\n                        props.lazy &&                               // 懒加载模式\r\n                        !treeNode.isLoaded &&                       // 未曾加载过子节点数据\r\n                        !treeNode.isLeaf                            // 节点不是叶子节点\r\n                    ) {\r\n                        const children = await utils.getChildrenAsync(treeNode)\r\n                        treeNode.setChildren(children || [])\r\n                        await $plain.nextTick()\r\n                    }\r\n\r\n                    if (props.according) {\r\n                        // 手风琴模式，展开某一个节点的时候，关闭兄弟节点\r\n                        if (!!parent && !!parent.children) {\r\n                            parent.children.forEach((child: TreeNode) => child.key !== treeNode.key && methods.collapse(child.key))\r\n                        }\r\n                    }\r\n\r\n                    treeNode.expand(true)\r\n                    await $plain.nextTick()\r\n                    // console.log('expand ', treeNode.key)\r\n                    emit.expand(treeNode)\r\n                    emit.expandChange(emitExpandKeys.value)\r\n                }\r\n                if (!!props.autoExpandParent && !!parent && parent.level !== 0) {\r\n                    await this.expand(parent.key)\r\n                }\r\n            })\r\n        },\r\n        /**\r\n         * 折叠树节点\r\n         * @author  韦胜健\r\n         * @date    2020/3/30 18:58\r\n         */\r\n        async collapse(keys: string | string[]) {\r\n            await utils.handleKeys(keys, async (key: string) => {\r\n                const treeNode = utils.findTreeNodeByKey(key)\r\n                if (!treeNode) return\r\n                if (treeNode.isExpand) {\r\n                    treeNode.expand(false)\r\n                    await $plain.nextTick()\r\n                    emit.collapse(treeNode)\r\n                    emit.expandChange(emitExpandKeys.value)\r\n                }\r\n            })\r\n        },\r\n        /**\r\n         * 根据树节点当前的展开状态，反向展开或者收起内容\r\n         * @author  韦胜健\r\n         * @date    2020/3/30 19:19\r\n         */\r\n        toggleExpand(key: string) {\r\n            const treeNode = utils.findTreeNodeByKey(key)\r\n            if (!treeNode) return\r\n            if (treeNode.isExpand) {\r\n                this.collapse(key)\r\n            } else {\r\n                this.expand(key)\r\n            }\r\n        },\r\n        expandAll() {\r\n            if (!!formatData.value) {\r\n                utils.iterateAll(formatData.value, treeNode => this.expand(treeNode.key))\r\n            }\r\n        },\r\n        collapseAll() {\r\n            state.treeMark.expand.state.map = reactive({})\r\n        },\r\n\r\n        /**\r\n         * 根据key选中树节点\r\n         * @author  韦胜健\r\n         * @date    2020/3/31 17:33\r\n         */\r\n        async check(keys: string | string[]) {\r\n            await utils.handleKeys(keys, async (key: string) => {\r\n                const treeNode = utils.findTreeNodeByKey(key)\r\n                if (!treeNode) return\r\n                if (!treeNode.isCheck) {\r\n                    treeNode.check(true)\r\n\r\n                    // 父子关联模式下，改变子节点以及父节点状态\r\n                    if (!props.checkStrictly) {\r\n                        // 选中所有子节点\r\n                        utils.iterateAll(treeNode.children || [], (child) => child.check(true))\r\n                        // 更新父节点状态，如果父节点所有的子节点都处于选中状态，则更新父节点为选中状态\r\n                        let parent = treeNode.parentRef()\r\n                        while (!!parent && !!parent.key) {\r\n                            if ((parent.children || []).every(child => child.isCheck)) {\r\n                                parent.check(true)\r\n                                parent = parent.parentRef()\r\n                            } else {\r\n                                break\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    await $plain.nextTick()\r\n                    emit.check(treeNode)\r\n                    emit.checkChange(emitCheckKeys.value)\r\n                }\r\n            })\r\n        },\r\n        /**\r\n         * 根据key取消选中树节点\r\n         * @author  韦胜健\r\n         * @date    2020/3/31 17:33\r\n         */\r\n        async uncheck(keys: string | string[]) {\r\n            await utils.handleKeys(keys, async (key: string) => {\r\n                const treeNode = utils.findTreeNodeByKey(key)\r\n                if (!treeNode) return\r\n                if (treeNode.isCheck) {\r\n                    treeNode.check(false)\r\n\r\n                    // 父子关联模式下，改变子节点以及父节点状态\r\n                    if (!props.checkStrictly) {\r\n                        // 取消选中所有子节点\r\n                        utils.iterateAll(treeNode.children || [], (child) => child.check(false))\r\n                        // 更新父节点状态，如果父节点所有的子节点都处于非选中状态，则更新父节点为非选中状态\r\n                        let parent = treeNode.parentRef()\r\n                        while (!!parent && !!parent.key) {\r\n                            if (parent.isCheck) {\r\n                                parent.check(false)\r\n                                parent = parent.parentRef()\r\n                            } else {\r\n                                break\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    await $plain.nextTick()\r\n                    emit.uncheck(treeNode)\r\n                    emit.checkChange(emitCheckKeys.value)\r\n                }\r\n            })\r\n        },\r\n        /**\r\n         * 根据key选中或者取消选中树节点\r\n         * @author  韦胜健\r\n         * @date    2020/3/31 17:33\r\n         */\r\n        toggleCheck(key) {\r\n            const treeNode = utils.findTreeNodeByKey(key)\r\n            if (!treeNode) return\r\n            if (!treeNode.isCheckable) return\r\n            if (treeNode.isCheck) {\r\n                this.uncheck(key)\r\n            } else {\r\n                this.check(key)\r\n            }\r\n        },\r\n        /**\r\n         * 选中所有节点\r\n         * @author  韦胜健\r\n         * @date    2020/3/31 17:33\r\n         */\r\n        checkAll() {\r\n            utils.iterateAll(formatData.value, (treeNode: TreeNode) => treeNode.check(true))\r\n        },\r\n        /**\r\n         * 取消选中所有节点\r\n         * @author  韦胜健\r\n         * @date    2020/3/31 17:33\r\n         */\r\n        uncheckAll() {\r\n            state.treeMark.check.state.map = reactive({})\r\n        },\r\n\r\n        /**\r\n         * 获取选中的数据\r\n         * @author  韦胜健\r\n         * @date    2020/3/31 17:34\r\n         */\r\n        getCheckedData() {\r\n            let ret: object[] = []\r\n            utils.iterateAll(formatData.value, (treeNode: TreeNode) => {\r\n                if (treeNode.isCheck) {\r\n                    ret.push(treeNode.data)\r\n                }\r\n            })\r\n            return ret\r\n        },\r\n    }\r\n\r\n    const dragState = useTreeDragger(utils, methods)\r\n\r\n    const refer = {\r\n        props,\r\n        emit,\r\n        current,\r\n        state,\r\n        isLoading,\r\n        formatData,\r\n        classes,\r\n        indicatorStyles,\r\n        emitExpandKeys,\r\n        emitCheckKeys,\r\n        utils,\r\n        handler,\r\n        methods,\r\n        scopedSlots,\r\n        dragState,\r\n    }\r\n\r\n\r\n    useRefer(refer)\r\n    provide(TREE_PROVIDER, refer)\r\n\r\n    utils.initLazy()\r\n\r\n    if (props.defaultExpandAll) {\r\n        $plain.nextTick(() => methods.expandAll())\r\n    }\r\n\r\n    return refer\r\n}\r\n\r\nexport type UseTreeReturnType = ReturnType<typeof useTree>","import {defineComponent} from \"@vue/composition-api\";\r\nimport {TreeProps, useTree} from \"@/packages/tree/use/use-tree\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-tree',\r\n    props: {\r\n        ...TreeProps,\r\n    },\r\n    setup(props) {\r\n\r\n        const data = useTree(props)\r\n\r\n        return () => (\r\n            <div class={data.classes.value} {...{directives: [{name: 'loading', value: data.isLoading.value}]}}>\r\n                {(!data.formatData.value || data.formatData.value!.length === 0) ? (\r\n                    <div class=\"pl-tree-node-empty-text\">\r\n                        <pl-icon icon=\"el-icon-reading\"/>\r\n                        <span>{props.emptyText}</span>\r\n                    </div>\r\n                ) : data.formatData.value!.map((item, index) => (<pl-tree-node key={item.key || index} tree-node={item}/>))}\r\n                {!!props.draggable && <span class=\"pl-tree-drag-indicator\" style={data.indicatorStyles.value} {...{directives: [{name: 'show', value: data.dragState.state.show}]}}/>}\r\n            </div>\r\n        )\r\n    },\r\n})","import {computed, getCurrentInstance, inject, reactive} from \"@vue/composition-api\";\r\nimport {TREE_PROVIDER, UseTreeReturnType} from \"@/packages/tree/use/use-tree\";\r\nimport {TreeNode} from \"@/packages/tree/utils/TreeNode\";\r\n\r\nimport {$plain} from \"@/packages/base\";\r\n\r\nexport const TreeNodeProps = {\r\n    treeNode: {type: TreeNode, default: ({} as TreeNode)},\r\n}\r\n\r\nexport function useTreeNode(props: ExtractPropTypes<typeof TreeNodeProps>) {\r\n    const tree = inject(TREE_PROVIDER) as UseTreeReturnType\r\n\r\n    const state = reactive({\r\n        init: !tree.props.renderAfterExpand,\r\n        show: !tree.props.renderAfterExpand,\r\n    })\r\n\r\n    /*---------------------------------------computer-------------------------------------------*/\r\n\r\n    const isExpand = computed(() => {\r\n        let isExpand = props.treeNode.isExpand\r\n        if (!state.init && !!isExpand) {\r\n            state.init = true\r\n            $plain.nextTick(() => state.show = true)\r\n        }\r\n        return isExpand\r\n    })\r\n\r\n    const classes = computed(() => [\r\n        'pl-tree-node',\r\n        {\r\n            'pl-tree-node-expand': isExpand.value,\r\n            'pl-tree-node-current': props.treeNode.key === tree.current.value,\r\n            'pl-tree-node-drop-inner': tree.dragState.state.dropInnerKey === props.treeNode.key\r\n        },\r\n    ])\r\n\r\n    function getStyles() {\r\n        const level = props.treeNode.level - 1\r\n\r\n        const contentPaddingLeft = (() => {\r\n            let paddingLeft = tree.props.intent * level + 6\r\n            paddingLeft += 18\r\n            if (tree.props.showCheckbox) {\r\n                paddingLeft += 24\r\n            }\r\n            return paddingLeft\r\n        })();\r\n\r\n        const contentStyles = (() => ({\r\n            paddingLeft: `${contentPaddingLeft}px`\r\n        }))();\r\n\r\n        const expanderStyles = (() => {\r\n            let paddingLeft = tree.props.intent * level + 6\r\n            return {\r\n                paddingLeft: `${paddingLeft}px`\r\n            }\r\n        })();\r\n\r\n        return {\r\n            expanderStyles,\r\n            contentStyles,\r\n        }\r\n    }\r\n\r\n    function getEmptyTextStyle() {\r\n        const level = props.treeNode.level - 1\r\n        return {\r\n            paddingLeft: `${tree.props.intent * level + 6 + 6 + 14}px`\r\n        }\r\n    }\r\n\r\n    /*---------------------------------------methods-------------------------------------------*/\r\n\r\n    const ctx = getCurrentInstance()!\r\n    const h = ctx.$createElement\r\n\r\n    const methods = {\r\n        getTreeNodeWrapper: () => {\r\n\r\n            const {expanderStyles, contentStyles} = getStyles()\r\n\r\n            return (\r\n                <div class=\"pl-tree-node-wrapper\">\r\n                    <div class=\"pl-tree-node-operator\" style={expanderStyles}>\r\n                            <span class=\"pl-tree-node-expander\">\r\n                                {\r\n                                    props.treeNode.isLoading ?\r\n                                        <pl-loading type=\"beta\"/>\r\n                                        :\r\n                                        (!props.treeNode.isLeaf && <pl-icon icon={tree.props.expandIcon || 'el-icon-arrow-right'} onClick={e => tree.handler.clickExpandIcon(e, props.treeNode)} class=\"pl-tree-expand-icon\"/>)\r\n                                }\r\n                            </span>\r\n                        {!!tree.props.showCheckbox && <pl-checkbox-indeterminate\r\n                            checkboxProps={{value: props.treeNode.checkStatus === 'check'}}\r\n                            status={props.treeNode.checkStatus}\r\n                            disabled={!props.treeNode.isCheckable}\r\n                            {...{nativeOn: {click: e => tree.handler.clickCheckbox(e, props.treeNode)}}}\r\n                        />}\r\n                    </div>\r\n                    <div class=\"pl-tree-node-content\" onClick={() => tree.handler.clickNodeContent(props.treeNode)} style={contentStyles}>\r\n                        {\r\n                            tree.scopedSlots.default({\r\n                                param: props.treeNode,\r\n                                content: (!!tree.props.renderContent ?\r\n                                    tree.props.renderContent(h, props.treeNode)\r\n                                    :\r\n                                    [\r\n                                        !tree.props.nodeIcon ? null : <pl-icon icon={tree.props.nodeIcon(props.treeNode)}/>,\r\n                                        <span class=\"pl-tree-node-label\">{props.treeNode.label}</span>\r\n                                    ])\r\n                            })\r\n                        }\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    return {\r\n        tree,\r\n        state,\r\n\r\n        isExpand,\r\n        classes,\r\n        ctx,\r\n        h,\r\n        methods,\r\n        getEmptyTextStyle,\r\n    }\r\n}","import {defineComponent} from \"@vue/composition-api\";\r\nimport {TreeNodeProps, useTreeNode} from \"@/packages/tree/use/use-tree-node\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-tree-node',\r\n    props: {\r\n        ...TreeNodeProps,\r\n    },\r\n    setup(props) {\r\n\r\n        const data = useTreeNode(props)\r\n\r\n        return () => {\r\n\r\n            const nodeDirectives = [{\r\n                name: 'show',\r\n                value: props.treeNode.isVisible\r\n            }]\r\n            const nodeOn = {\r\n                ...(!!data.tree.props.draggable ? {\r\n                    dragstart: data.tree.dragState.handler.dragstart,\r\n                    dragend: data.tree.dragState.handler.dragend,\r\n                    dragover: data.tree.dragState.handler.dragover,\r\n                } : {})\r\n            }\r\n\r\n            const nodeListDirectives = [{\r\n                name: 'show',\r\n                value: data.isExpand.value && data.state.show\r\n            }]\r\n\r\n            return (\r\n                <div class={data.classes.value} {...{directives: nodeDirectives, on: nodeOn}} draggable={data.tree.props.draggable}>\r\n                    {data.methods.getTreeNodeWrapper()}\r\n\r\n                    <pl-collapse-transition>\r\n                        {!props.treeNode.isLeaf && data.state.init && <div class=\"pl-tree-node-list\" {...{directives: nodeListDirectives}}>\r\n                            {!!props.treeNode.children && props.treeNode.children.length > 0 ?\r\n                                props.treeNode.children.map((item, index) => <pl-tree-node key={index} tree-node={item}/>)\r\n                                :\r\n                                <div class=\"pl-tree-node-empty-text\" style={data.getEmptyTextStyle()}>\r\n                                    <pl-icon icon=\"el-icon-wallet\"/>\r\n                                    <span>{data.tree.props.emptyText}</span>\r\n                                </div>\r\n                            }\r\n                        </div>}\r\n                    </pl-collapse-transition>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import fecha from 'fecha'\r\n\r\nconst zeroize = (value, length = 2) => {\r\n    if (value == null) {\r\n        value = '';\r\n    }\r\n    value = String(value);\r\n    const zeroLen = length - value.length;\r\n    if (zeroLen <= 0)\r\n        return value;\r\n    return new Array(zeroLen).fill('0').join('') + value;\r\n};\r\n\r\n\r\nenum CompareMode {\r\n    time = 'time',\r\n    date = 'date',\r\n    datetime = 'datetime',\r\n    yearmonth = 'yearmonth',\r\n}\r\n\r\nexport class PlainDate {\r\n\r\n    displayFormat: string                                                       // 显示值格式字符串\r\n    valueFormat: string                                                         // 实际值格式字符串\r\n    dateObject: Date | null = null                                              // 日期对象\r\n\r\n    constructor(value, displayFormat: string, valueFormat: string) {\r\n        this.displayFormat = displayFormat\r\n        this.valueFormat = valueFormat\r\n\r\n        if (value != null) {\r\n            this.setValue(value)\r\n        }\r\n    }\r\n\r\n    /*---------------------------------------attrs-------------------------------------------*/\r\n\r\n    get isNull(): boolean {return !this.dateObject}\r\n\r\n    get year() {return this.isNull ? null : this.dateObject!.getFullYear()}\r\n\r\n    get month() {return this.isNull ? null : this.dateObject!.getMonth()}\r\n\r\n    get date() {return this.isNull ? null : this.dateObject!.getDate()}\r\n\r\n    get hour() {return this.isNull ? null : this.dateObject!.getHours()}\r\n\r\n    get minute() {return this.isNull ? null : this.dateObject!.getMinutes()}\r\n\r\n    get second() {return this.isNull ? null : this.dateObject!.getSeconds()}\r\n\r\n    get day() {return this.isNull ? null : this.dateObject!.getDay()}\r\n\r\n    get time() {return this.isNull ? null : this.dateObject!.getTime()}\r\n\r\n    get displayString() {return this.isNull ? null : fecha.format(this.dateObject!, this.displayFormat)}\r\n\r\n    get valueString() {return this.isNull ? null : fecha.format(this.dateObject!, this.valueFormat)}\r\n\r\n    get timeString() {return this.isNull ? null : `${zeroize(this.hour)}${zeroize(this.minute)}${zeroize(this.second)}`}\r\n\r\n    get dateString() {return this.isNull ? null : `${zeroize(this.year)}${zeroize(this.month! + 1)}${zeroize(this.date)}`}\r\n\r\n    get Y() {return this.isNull ? null : this.year}\r\n\r\n    get YM() {return this.isNull ? null : Number(`${this.year}${zeroize(this.month! + 1)}`)}\r\n\r\n    get YMD() {return this.isNull ? null : Number(this.dateString)}\r\n\r\n    get YMDHms() {return this.isNull ? null : Number(this.dateString! + this.timeString!)}\r\n\r\n    get Hms() {return this.isNull ? null : Number(this.timeString)}\r\n\r\n    /*---------------------------------------static-------------------------------------------*/\r\n\r\n    static defaultDate(): Date {\r\n        const date = new Date()\r\n        date.setMonth(0, 1)\r\n        date.setHours(0, 0, 0)\r\n        return date\r\n    }\r\n\r\n    static format(dateObject: Date, formatString: string) {\r\n        if (!dateObject) return null\r\n        return fecha.format(dateObject, formatString)\r\n    }\r\n\r\n    static parse(dateString: string, formatString: string) {\r\n        if (!dateString) return null\r\n        return fecha.parse(dateString, formatString)\r\n    }\r\n\r\n    static today(displayFormat: string, valueFormat: string): PlainDate {\r\n        let today = new PlainDate(null, displayFormat, valueFormat)\r\n        today.setTime(new Date().getTime())\r\n        return today\r\n    }\r\n\r\n    static CompareMode = CompareMode\r\n\r\n    /*---------------------------------------methods-------------------------------------------*/\r\n\r\n    setValue(value: string | undefined) {this.dateObject = !value ? null : PlainDate.parse(String(value), this.valueFormat)}\r\n\r\n    setDisplayValue(value: string) {this.dateObject = !value ? null : this.dateObject = PlainDate.parse(String(value), this.displayFormat)}\r\n\r\n    setYear(year: number): void {\r\n        if (this.isNull) this.dateObject = PlainDate.defaultDate()\r\n        this.dateObject!.setFullYear(year)\r\n    }\r\n\r\n    setMonthDate(month: number, date: number): void {\r\n        if (this.isNull) this.dateObject = PlainDate.defaultDate()\r\n        this.dateObject!.setMonth(month, date)\r\n    }\r\n\r\n    setHour(hour: number): void {\r\n        if (this.isNull) this.dateObject = PlainDate.defaultDate()\r\n        this.dateObject!.setHours(hour)\r\n    }\r\n\r\n    setMinute(minute: number): void {\r\n        if (this.isNull) this.dateObject = PlainDate.defaultDate()\r\n        this.dateObject!.setMinutes(minute)\r\n    }\r\n\r\n    setSecond(second: number): void {\r\n        if (this.isNull) this.dateObject = PlainDate.defaultDate()\r\n        this.dateObject!.setSeconds(second)\r\n    }\r\n\r\n    setTime(time: number): void {\r\n        if (this.isNull) this.dateObject = PlainDate.defaultDate()\r\n        this.dateObject!.setTime(time)\r\n    }\r\n\r\n    setHms(hour: number | PlainDate, minute?: number, second?: number): void {\r\n        if (typeof hour === \"number\") {\r\n            this.setHour(hour)\r\n            if (minute != null) this.setMinute(minute)\r\n            if (second != null) this.setSecond(second)\r\n        } else {\r\n            const pd = hour as PlainDate\r\n            this.setHour(pd.hour!)\r\n            this.setMinute(pd.minute!)\r\n            this.setSecond(pd.second!)\r\n        }\r\n    }\r\n\r\n    setYMD(year: number | PlainDate, month?: number, date?: number) {\r\n        if (typeof year === 'string') {\r\n            this.setYear(year)\r\n            if (month != null && date != null) this.setMonthDate(month, date)\r\n        } else {\r\n            const pd = year as PlainDate\r\n            this.setYear(pd.year!)\r\n            this.setMonthDate(pd.month!, pd.date!)\r\n        }\r\n    }\r\n\r\n    format(dateObject: Date | null): string | null {\r\n        if (!dateObject) return null\r\n        return PlainDate.format(dateObject, this.displayFormat)\r\n    }\r\n\r\n    parseDisplayString(displayString: string | null): Date | null {\r\n        if (!displayString) return null\r\n        return PlainDate.parse(displayString, this.displayFormat)\r\n    }\r\n\r\n    parseValueString(valueString: string | null): Date | null {\r\n        if (!valueString) return null\r\n        return PlainDate.parse(valueString, this.valueFormat)\r\n    }\r\n\r\n    copy(): PlainDate {\r\n        return new PlainDate(this.valueString, this.displayFormat, this.valueFormat)\r\n    }\r\n}","import './tree.scss'\r\nimport tree from './tree'\r\nimport node from './tree-node'\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    tree,\r\n    node,\r\n])","import {computed, defineComponent} from \"@vue/composition-api\";\r\nimport {TreeProps, useTree} from \"@/packages/tree/use/use-tree\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {StyleType} from \"@/types/utils\";\r\nimport {TreeNode} from \"@/packages/tree/utils/TreeNode\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-virtual-tree',\r\n    props: {\r\n        ...TreeProps,\r\n\r\n        virtual: {type: Boolean},\r\n        width: {type: [Number, String]},\r\n        height: {type: [Number, String]},\r\n    },\r\n    setup(props) {\r\n\r\n        const data = useTree(props)\r\n\r\n        const styles = computed(() => {\r\n            const styles = {} as StyleType\r\n            if (!!props.width) styles.width = $plain.utils.suffixPx(props.width)!\r\n            if (!!props.height) styles.height = $plain.utils.suffixPx(props.height)!\r\n            return styles\r\n        })\r\n\r\n        const formatDataFlat = computed(() => {\r\n            const formatData = data.formatData.value\r\n            const formatDataFlat: TreeNode[] = []\r\n            data.utils.iterateAll(formatData, (treeNode: TreeNode) => {\r\n                formatDataFlat.push(treeNode)\r\n            }, (treeNode: TreeNode) => {\r\n                return treeNode.isExpand === true\r\n            })\r\n            return formatDataFlat.filter((treeNode: TreeNode) => !!treeNode.isVisible)\r\n        })\r\n\r\n        const utils = {\r\n            disabledQueueAnimation: $plain.utils.debounce(() => data.state.virtualScrollFlag = false, 300, true)\r\n        }\r\n        const handler = {\r\n            virtualScroll: () => {\r\n                data.state.virtualScrollFlag = true\r\n                utils.disabledQueueAnimation()\r\n            }\r\n        }\r\n\r\n        return () => {\r\n\r\n            const directives = [{name: 'loading', value: data.isLoading.value}]\r\n\r\n            return (\r\n                <div {...{directives}} class={data.classes.value} style={styles.value}>\r\n                    {(!formatDataFlat.value || formatDataFlat.value.length === 0) && (\r\n                        <div class=\"pl-tree-node-empty-text\"\r\n                             key=\"pl-tree-node-empty-text\">\r\n                            <pl-icon icon=\"el-icon-reading\"/>\r\n                            <span>{props.emptyText}</span>\r\n                        </div>\r\n                    )}\r\n                    {!!props.draggable && <span class=\"pl-tree-drag-indicator\" key=\"pl-tree-drag-indicator\" {...{directives: [{name: 'show', value: data.dragState.state.show}]}} style={data.indicatorStyles.value}></span>}\r\n\r\n                    {!!props.virtual ?\r\n                        <pl-virtual-list data={formatDataFlat.value}\r\n                                         size={24}\r\n                                         contentIs=\"pl-list\"\r\n                                         contentProps={{direction: \"right\", disabled: data.state.virtualScrollFlag}}\r\n                                         onScroll={handler.virtualScroll}\r\n                                         {...{\r\n                                             scopedSlots: {default: ({item, index}) => <pl-virtual-tree-node treeNode={item} key={item.key} vid={index}/>}\r\n                                         }}/> :\r\n                        <pl-list direction=\"right\">\r\n                            {formatDataFlat.value.map((item) => <pl-virtual-tree-node treeNode={item} key={item.key}/>)}\r\n                        </pl-list>\r\n                    }\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {defineComponent} from \"@vue/composition-api\";\r\nimport {TreeNodeProps, useTreeNode} from \"@/packages/tree/use/use-tree-node\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-virtual-tree-node',\r\n    props: {\r\n        ...TreeNodeProps,\r\n    },\r\n    setup(props) {\r\n        const data = useTreeNode(props)\r\n\r\n        return () => {\r\n            const nodeOn = {\r\n                ...(!!data.tree.props.draggable ? {\r\n                    dragstart: data.tree.dragState.handler.dragstart,\r\n                    dragend: data.tree.dragState.handler.dragend,\r\n                    dragover: data.tree.dragState.handler.dragover,\r\n                } : {})\r\n            }\r\n            return (\r\n                <pl-item class={data.classes.value} draggable={data.tree.props.draggable} {...{nativeOn: nodeOn}}>\r\n                    {data.methods.getTreeNodeWrapper()}\r\n                </pl-item>\r\n            )\r\n        }\r\n    },\r\n})","import './virtual-tree.scss'\r\nimport tree from './virtual-tree'\r\nimport node from './virtual-tree-node'\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    tree,\r\n    node,\r\n])","import {CascadeNode} from \"@/packages/cascade/CascadeNode\";\r\nimport {VNode} from \"vue/types/umd\";\r\n\r\nexport const CascadePanelProps = {\r\n    value: {type: Array},                                               // 数组，双向绑定值\r\n    data: {type: Array},                                                // 选择的数据\r\n    trigger: {type: Array, default: 'click'},                           // 展开触发类型：click，hover\r\n    hoverDebounce: {type: Number, default: 300},                        // 触发器为hover的时候，防抖时间间隔\r\n    emptyText: {type: Boolean, default: '暂无数据'},                     // 没有子节点时展示的文本\r\n    nodeDisabled: Function,                                     // 是否禁用判断函数\r\n    renderContent: {                                                    // 渲染内容的渲染函数\r\n        type: Function as any as new() => ((h: any, data: { node: CascadeNode, index: number }) => VNode | VNode[] | null | undefined | string | number)\r\n    },\r\n    selectBranch: {type: Boolean},                                      // 点击分支的时候也能够触发 change 事件\r\n\r\n    isLeaf: {                                                           // 函数，用来判断是否为叶子节点，默认根据节点是否存在子节点来判断是否为叶子节点，懒加载模式下，改属性为必需属性\r\n        type: Function as any as new() => ((node: CascadeNode) => boolean)\r\n    },\r\n    lazy: {type: Boolean},                                              // 数据是否为懒加载\r\n    getChildren: {                                                      // 懒加载数据函数\r\n        type: Function as any as new() => ((node: CascadeNode | null, cb: (...args: any[]) => void) => any)\r\n    },\r\n\r\n    labelField: {type: String},                                         // 记录显示文本的字段名\r\n    keyField: {type: String},                                           // 记录值的字段名\r\n    childrenField: {type: String},                                      // 记录的子节点数据的字段名\r\n\r\n    filterText: {type: String},                                         // 筛选文本\r\n    filterMethod: Function,                                      // 自定义筛选函数\r\n}\r\n\r\nexport const CascadeProps = {\r\n    ...CascadePanelProps,\r\n\r\n    showLast: {type: Boolean},                                          // 格式化显示值函数\r\n    separator: {type: String, default: ' / '},                          // 显示值分隔符\r\n    filterable: {type: Boolean, default: true},                         // 是否可筛选\r\n    showFormat: {                                                       // 显示值格式化函数\r\n        type: Function as any as new() => ((value: any[]) => string)\r\n    },\r\n\r\n    inputProps: {type: Object},                                        // 输入框属性值\r\n}\r\n\r\nexport type CascadeContextType = ExtractPropTypes<typeof CascadePanelProps> & { expandKeys: string[] }","import {CascadeConfig, CascadeMark} from \"@/packages/cascade/CascadeMark\";\r\nimport {set} from \"@vue/composition-api\";\r\n\r\nexport class CascadeNode {\r\n\r\n    constructor(\r\n        public key: string,\r\n        public data: object,\r\n        public level: number,\r\n        public config: () => CascadeConfig,\r\n        public parentRef: () => (CascadeNode | null),\r\n        public markRef: () => CascadeMark,\r\n        public ctxState: () => {\r\n            expandKeys: string[],\r\n            filterText: string | undefined,\r\n        }\r\n    ) {}\r\n\r\n    selfGetter = () => this;\r\n\r\n    /*---------------------------------------prop-------------------------------------------*/\r\n\r\n    /*节点显示文本*/\r\n    get label(): string {return this.data[this.config().labelField]}\r\n\r\n    /*节点子数据*/\r\n    get childrenData(): object[] | undefined {\r\n        const data = this.data[this.config().childrenField]\r\n        return typeof data === \"function\" ? data() : data\r\n    }\r\n\r\n    /*子节点*/\r\n    get children(): CascadeNode[] | undefined {\r\n        if (!this.childrenData) return undefined\r\n        return this.childrenData.map(child => this.markRef().node.get(\r\n            child,\r\n            this.level + 1,\r\n            this.selfGetter,\r\n        ))\r\n    }\r\n\r\n    /*是否为叶子节点（无子节点）*/\r\n    get isLeaf(): boolean {\r\n        const {isLeaf} = this.config()\r\n        if (!!isLeaf) {\r\n            return isLeaf(this)\r\n        } else {\r\n            return !this.children || this.children.length === 0\r\n        }\r\n    }\r\n\r\n    /*当前节点展开时包含的keys*/\r\n    get expandKeys(): string[] {\r\n        let expandKeys = [this.key]\r\n        let parent = this.parentRef()\r\n        while (!!parent && !!parent.key) {\r\n            expandKeys.unshift(parent.key)\r\n            parent = parent.parentRef()\r\n        }\r\n        return expandKeys\r\n    }\r\n\r\n    /*当前节点是否已经展开*/\r\n    get isExpand() {\r\n        let expandKeys = this.ctxState().expandKeys\r\n        let selfExpandKeys = this.expandKeys\r\n        return expandKeys.toString() === selfExpandKeys.toString()\r\n    }\r\n\r\n    /*当前是否处于加载状态*/\r\n    get isLoading(): boolean {\r\n        return this.markRef().loading.get(this.key)\r\n    }\r\n\r\n    get isLoaded(): boolean {\r\n        return this.markRef().loaded.get(this.key)\r\n    }\r\n\r\n    /*当前节点是否禁用*/\r\n    get nodeDisabled(): boolean {\r\n        const nodeDisabled = this.config().nodeDisabled\r\n        return !!nodeDisabled && nodeDisabled(this)\r\n    }\r\n\r\n    /*当有过滤文本时，显示的文本*/\r\n    get filterData(): CascadeNode[] {\r\n        let filterData: CascadeNode[] = [this]\r\n        let parent = this.parentRef()\r\n        while (!!parent && !!parent.key) {\r\n            filterData.unshift(parent)\r\n            parent = parent.parentRef()\r\n        }\r\n        return filterData\r\n    }\r\n\r\n    /*是否通过筛选，当子节点通过筛选时，当前节点也算通过筛选*/\r\n    get isPassFilter(): boolean {\r\n        const {filterText} = this.ctxState()\r\n        if (!filterText) return false\r\n\r\n        const {filterMethod} = this.config()\r\n        let filterData = this.filterData\r\n        if (!!filterMethod) {\r\n            return filterMethod(filterData, filterText)\r\n        }\r\n        return filterData.some(item => item.label.indexOf(filterText!) > -1)\r\n    }\r\n\r\n    /*---------------------------------------action-------------------------------------------*/\r\n\r\n    /*设置子节点数据*/\r\n    setChildren(children: object[]) {\r\n        set(this.data, this.config().childrenField, children)\r\n    }\r\n\r\n    loading(val: boolean) {\r\n        this.markRef().loading.set(this.key, val)\r\n    }\r\n\r\n    loaded(val: boolean) {\r\n        this.markRef().loaded.set(this.key, val)\r\n    }\r\n}","import {CascadeNode} from \"@/packages/cascade/CascadeNode\";\r\nimport {reactive, set} from \"@vue/composition-api\";\r\nimport {KeyGenerator} from \"../../../src-doc/page/normal/test-table/KeyGenerator\";\r\nimport {createFlagManager} from \"@/util/NodeWrapper\";\r\n\r\nconst generator = new KeyGenerator('cascade_node')\r\n\r\nexport interface CascadeConfig {\r\n    nodeDisabled?: (node: CascadeNode) => boolean,\r\n    isLeaf?: (node: CascadeNode) => boolean,\r\n    lazy?: boolean,\r\n    getChildren?: (node: CascadeNode, cb: (...args: any[]) => void) => void,\r\n    filterMethod?: (filterData: CascadeNode[], filterText: string) => boolean\r\n\r\n    labelField: string,\r\n    keyField: string,\r\n    childrenField: string,\r\n}\r\n\r\nexport class CascadeMark {\r\n\r\n    constructor(public config: () => CascadeConfig, public ctxState: () => {\r\n        expandKeys: string[],\r\n        filterText: string | undefined,\r\n    }) {}\r\n\r\n    selfGetter = () => this;\r\n\r\n    node = {\r\n        state: reactive({\r\n            map: {} as { [k: string]: CascadeNode }\r\n        }),\r\n        get: (\r\n            data: any,\r\n            level: number,\r\n            parentRef: () => (CascadeNode | null),\r\n        ): CascadeNode => {\r\n            const key = generator.get(data, this.config().keyField)\r\n            let node: CascadeNode = this.node.state.map[key]\r\n            if (!!node) {\r\n                node.data = data\r\n                node.level = level\r\n                node.parentRef = parentRef\r\n            } else {\r\n                node = new CascadeNode(\r\n                    key,\r\n                    data,\r\n                    level,\r\n                    this.config,\r\n                    parentRef,\r\n                    this.selfGetter,\r\n                    this.ctxState,\r\n                )\r\n                this.node.state.map[key] = node\r\n            }\r\n            return node\r\n        },\r\n        getList: (list: any[] | undefined, level, parentRef: () => (CascadeNode | null)): CascadeNode[] => {\r\n            if (!list) return []\r\n            return list.map(item => this.node.get(item, level, parentRef))\r\n        }\r\n    }\r\n\r\n    loading = createFlagManager()\r\n    loaded = createFlagManager()\r\n\r\n}","import {computed, defineComponent, reactive, watch} from \"@vue/composition-api\";\r\nimport {CascadeProps} from \"@/packages/cascade/cascade-constant\";\r\nimport {StyleProps, useStyle} from \"@/use/useStyle\";\r\nimport {EditProps, useEdit} from \"@/use/useEdit\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {useModel} from \"@/use/useModel\";\r\nimport {usePopperAgentEditor} from \"@/packages/popper/service/PopperAgent\";\r\nimport {$plain} from \"@/packages/base\";\r\n\r\nimport {CompRef, useRefs} from \"@/use/useRefs\";\r\nimport {useScopedSlots} from \"@/use/useScopedSlots\";\r\nimport {CascadeNode} from \"@/packages/cascade/CascadeNode\";\r\nimport {CascadeMark} from \"@/packages/cascade/CascadeMark\";\r\nimport {handleKeyboard} from \"@/packages/keyboard\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-cascade',\r\n    props: {\r\n        ...CascadeProps,\r\n        ...StyleProps,\r\n        ...EditProps,\r\n    },\r\n    setup(props) {\r\n\r\n        useStyle()\r\n        useEdit()\r\n\r\n        const refs = useRefs({\r\n            input: CompRef\r\n        })\r\n        const {$scopedSlots} = useScopedSlots({\r\n            default: {node: CascadeNode, index: Number}\r\n        })\r\n\r\n        const {emit} = useEvent({\r\n            input: (expandKeys: string[] | null | undefined, nodes?: CascadeNode[]) => undefined,\r\n            blur: EmitFunc,\r\n            focus: EmitFunc,\r\n            clickItem: EmitFunc,\r\n            getChildren: EmitFunc,\r\n            updateData: EmitFunc,\r\n        })\r\n\r\n        /*---------------------------------------state-------------------------------------------*/\r\n\r\n        const model = useModel(() => props.value, emit.input, false)\r\n        const data = useModel(() => props.data, emit.updateData)\r\n\r\n        const cascadeMark = computed(() => new CascadeMark(\r\n            () => ({\r\n                nodeDisabled: props.nodeDisabled as any,\r\n                isLeaf: props.isLeaf as any,\r\n                lazy: props.lazy as any,\r\n                getChildren: props.getChildren as any,\r\n                filterMethod: props.filterMethod as any,\r\n\r\n                labelField: props.labelField as any,\r\n                keyField: props.keyField as any,\r\n                childrenField: props.childrenField as any,\r\n            }),\r\n            () => ({\r\n                expandKeys: state.expandKeys,\r\n                filterText: '',\r\n            })\r\n        ))\r\n\r\n        const state = reactive({\r\n            inputValue: null as null | string,\r\n            cacheData: {} as { [key: string]: object[] },\r\n            expandKeys: [] as string[],\r\n        })\r\n\r\n        const agentState = usePopperAgentEditor(() => ($plain as any).$cascade(() => ({\r\n            props: {\r\n                ...props,\r\n                value: model.value,\r\n                filterText: state.inputValue,\r\n                getChildren: utils.getChildren,\r\n                renderContent: (!!$scopedSlots.default || !!props.renderContent) ? (h, {node, index}) => {\r\n                    if (!!$scopedSlots.default) return $scopedSlots.default({node, index})\r\n                    if (!!props.renderContent) return props.renderContent(h, {node, index})\r\n                } : null,\r\n            } as ExtractPropTypes<typeof CascadeProps>,\r\n            popperProps: {\r\n                reference: refs.$el,\r\n            },\r\n            listener: {\r\n                emit: ({event, args}) => {\r\n                    if (event === 'change') {\r\n                        model.value = args[0]\r\n                    }\r\n                    if (!!emit[event]) {\r\n                        emit[event](...args)\r\n                    }\r\n                }\r\n            },\r\n            popperListener: {\r\n                'mousedown-popper': async () => {\r\n                    agentState.state.focusCounter++\r\n                },\r\n                'click-popper': () => {\r\n                    refs.input.methods.focus()\r\n                },\r\n                'hide': () => {\r\n                    state.inputValue = null\r\n                },\r\n            }\r\n        })))\r\n\r\n        /*---------------------------------------computer-------------------------------------------*/\r\n\r\n        const classes = computed(() => ([\r\n            'pl-cascade',\r\n            {\r\n                'pl-cascade-open': agentState.isShow.value,\r\n            }\r\n        ]))\r\n\r\n        const formatData = computed(() => cascadeMark.value.node.getList(data.value, 1, () => null))\r\n\r\n        const showValue = computed(() => {\r\n            if (!model.value) return null\r\n            if (!!props.showFormat) return props.showFormat(model.value)\r\n\r\n            let result: string[] = []\r\n            let list = formatData.value || []\r\n            for (let i = 0; i < model.value.length; i++) {\r\n                const sourceKey = model.value[i];\r\n                let flag: boolean = false\r\n                for (let j = 0; j < list.length; j++) {\r\n                    const target = list[j];\r\n                    if (sourceKey === target.key) {\r\n                        result.push(target.label)\r\n                        list = target.children || []\r\n                        flag = true\r\n                        break\r\n                    }\r\n                }\r\n                if (!flag) {\r\n                    result = [...result, ...(model.value.slice(i)) as string[]]\r\n                    break\r\n                }\r\n            }\r\n            if (props.showLast && result.length > 0) {\r\n                return result[result.length - 1]\r\n            }\r\n            return result.join(' / ')\r\n        })\r\n\r\n\r\n        const utils = {\r\n            getChildren: (node: CascadeNode | null, resolve: Function) => {\r\n\r\n                let key = !!node ? node.key : 'root'\r\n\r\n                if (state.cacheData[key]) {\r\n                    resolve(state.cacheData[key])\r\n                } else {\r\n                    props.getChildren!(node, (data) => {\r\n                        state.cacheData[key] = data\r\n                        resolve(data)\r\n                    })\r\n                }\r\n            },\r\n            /**\r\n             * 检查props是否合法\r\n             * @author  韦胜健\r\n             * @date    2020/3/30 18:48\r\n             */\r\n            checkProps() {\r\n                if (!props.data) return true\r\n                if (!props.keyField) {\r\n                    console.error('pl-cascade 的 keyField属性不能为空，每一条记录必须要有一个key标识')\r\n                    return false\r\n                }\r\n                if (!props.childrenField) {\r\n                    console.error('pl-cascade 的 childrenKey不能为空')\r\n                    return false\r\n                }\r\n                return true\r\n            },\r\n        }\r\n\r\n        const handler = {\r\n            keydown: handleKeyboard({\r\n                esc: agentState.handler.esc,\r\n                enter: agentState.handler.enter,\r\n            }),\r\n            clear: () => {\r\n                model.value = undefined\r\n                emit.input(model.value)\r\n\r\n                state.inputValue = null\r\n                refs.input.methods.focus()\r\n            },\r\n            inputChange: (val) => {\r\n                state.inputValue = val\r\n                if (!agentState.isShow.value && !$plain.utils.ie) {\r\n                    agentState.methods.show()\r\n                }\r\n            },\r\n        }\r\n\r\n        watch(() => props.value, () => {\r\n            state.inputValue = null\r\n        })\r\n\r\n        return () => (\r\n            <pl-input\r\n                ref=\"input\"\r\n                class={classes.value}\r\n                clearIcon\r\n                suffixIcon=\"el-icon-d-arrow-right\"\r\n                value={(agentState.isShow.value && props.filterable) ? state.inputValue : showValue.value}\r\n                placeValue={showValue.value}\r\n                placeholder={((agentState.isShow.value && props.filterable) ? showValue.value : (!!props.inputProps ? props.inputProps!.placeholder : null)) || ''}\r\n                clearHandler={handler.clear}\r\n                inputReadonly={!props.filterable}\r\n                isFocus={agentState.state.focusCounter > 0}\r\n                {\r\n                    ...{\r\n                        on: {\r\n                            change: handler.inputChange,\r\n                            'click-input': agentState.handler.clickInput,\r\n                            blur: agentState.handler.blur,\r\n                            focus: agentState.handler.focus,\r\n                            keydown: handler.keydown\r\n                        },\r\n                    }\r\n                }\r\n            />\r\n        )\r\n    },\r\n})","import {computed, defineComponent, getCurrentInstance, reactive, watch} from \"@vue/composition-api\";\r\nimport {CascadePanelProps} from \"@/packages/cascade/cascade-constant\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {useModel} from \"@/use/useModel\";\r\nimport {CascadeNode} from \"@/packages/cascade/CascadeNode\";\r\nimport {CascadeMark} from \"@/packages/cascade/CascadeMark\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {useScopedSlots} from \"@/use/useScopedSlots\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-cascade-panel',\r\n    props: {\r\n        ...CascadePanelProps,\r\n    },\r\n    setup(props,) {\r\n\r\n        const {scopedSlots} = useScopedSlots({\r\n            default: {node: CascadeNode, index: Number}\r\n        })\r\n\r\n        const ctx = getCurrentInstance()!\r\n\r\n        const h = ctx.$createElement\r\n\r\n        const {emit} = useEvent({\r\n            input: (expandKeys: string[] | null, nodes?: CascadeNode[]) => undefined,\r\n            clickItem: EmitFunc,\r\n            getChildren: EmitFunc,\r\n            updateData: EmitFunc,\r\n        })\r\n\r\n        /*---------------------------------------state-------------------------------------------*/\r\n\r\n        const model = useModel(() => props.value, emit.input, false)\r\n        const data = useModel(() => props.data, emit.updateData)\r\n\r\n        const state = reactive({\r\n            loading: false,\r\n            expandKeys: [] as string[],\r\n            cascadeMark: new CascadeMark(\r\n                () => ({\r\n                    nodeDisabled: props.nodeDisabled as any,\r\n                    isLeaf: props.isLeaf as any,\r\n                    lazy: props.lazy as any,\r\n                    getChildren: props.getChildren as any,\r\n                    filterMethod: props.filterMethod as any,\r\n\r\n                    labelField: props.labelField as any,\r\n                    keyField: props.keyField as any,\r\n                    childrenField: props.childrenField as any,\r\n                }),\r\n                () => ({\r\n                    expandKeys: state.expandKeys,\r\n                    filterText: props.filterText,\r\n                })\r\n            )\r\n        })\r\n\r\n        /*---------------------------------------computer-------------------------------------------*/\r\n\r\n        const formatData = computed(() => state.cascadeMark.node.getList(data.value, 1, () => null))\r\n\r\n        const cascadeData = computed(() => {\r\n            const data = formatData.value || []\r\n            if (data.length === 0) return []\r\n            let expandKeys: string[] = []\r\n            if (!!state.expandKeys && state.expandKeys.length > 0) {\r\n                expandKeys = state.expandKeys\r\n            } else if (!!model.value && model.value.length > 0 && !props.lazy) {\r\n                expandKeys = model.value as string[]\r\n            }\r\n\r\n            let children = data as CascadeNode[]\r\n            let cascadeData: CascadeNode[][] = []\r\n\r\n            cascadeData.push(children)\r\n\r\n            expandKeys.forEach((key: string) => {\r\n                for (let i = 0; i < children.length; i++) {\r\n                    const child = children[i];\r\n                    if (child.key === key && !child.isLeaf) {\r\n                        children = child.children || []\r\n                        cascadeData.push(children)\r\n                        break\r\n                    }\r\n                }\r\n            })\r\n\r\n            return cascadeData\r\n        })\r\n\r\n        /*---------------------------------------utils-------------------------------------------*/\r\n\r\n        const utils = {\r\n            /**\r\n             * 检查props是否合法\r\n             * @author  韦胜健\r\n             * @date    2020/3/30 18:48\r\n             */\r\n            checkProps() {\r\n                if (!props.data) return true\r\n                if (!props.keyField) {\r\n                    console.error('pl-cascade 的 keyField属性不能为空，每一条记录必须要有一个key标识')\r\n                    return false\r\n                }\r\n                if (!props.childrenField) {\r\n                    console.error('pl-cascade 的 childrenKey不能为空')\r\n                    return false\r\n                }\r\n                return true\r\n            },\r\n            iterateAll: (nodes: CascadeNode[], fn: Function, iterateChildren?: Function) => {\r\n                if (!nodes) return\r\n                nodes.forEach(node => {\r\n                    fn(node)\r\n                    if (!!node.children && (!iterateChildren || iterateChildren(node))) {\r\n                        utils.iterateAll(node.children, fn, iterateChildren)\r\n                    }\r\n                })\r\n            },\r\n            getChildrenAsync(node: CascadeNode | null): Promise<CascadeNode[]> {\r\n                return new Promise((resolve) => {\r\n                    if (!node) {\r\n                        state.loading = true\r\n                    } else {\r\n                        node.loading(true)\r\n                    }\r\n                    props.getChildren!(node, (...results) => {\r\n                        if (!node) {\r\n                            state.loading = false\r\n                        } else {\r\n                            node.loading(false)\r\n                            node.loaded(true)\r\n                        }\r\n                        emit.getChildren(...results)\r\n                        resolve(...results)\r\n                    })\r\n                })\r\n            },\r\n            async initLazy() {\r\n                if (!props.lazy) {\r\n                    return\r\n                }\r\n                data.value = await utils.getChildrenAsync(null)\r\n            },\r\n        }\r\n\r\n        const filterData = computed(() => {\r\n            let filterData: CascadeNode[][] = []\r\n            utils.iterateAll((formatData.value || []) as CascadeNode[], (node: CascadeNode) => {\r\n                if (node.isPassFilter && (node.isLeaf || props.selectBranch)) {\r\n                    filterData.push(node.filterData)\r\n                }\r\n            })\r\n            return filterData\r\n        })\r\n\r\n        const expandNodes = computed(() => {\r\n            if (!state.expandKeys) return []\r\n            let result: CascadeNode[] = []\r\n            let nodes = formatData.value || []\r\n\r\n            state.expandKeys.forEach((key: string) => {\r\n                for (let i = 0; i < nodes.length; i++) {\r\n                    const child = nodes[i];\r\n                    if (child.key === key) {\r\n                        result.push(child)\r\n                        if (!child.children || child.children.length === 0) {\r\n                            break\r\n                        } else {\r\n                            nodes = child.children\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n            return result\r\n        })\r\n\r\n        /*---------------------------------------handler-------------------------------------------*/\r\n\r\n        const handler = {\r\n            mouseenterItem: $plain.utils.debounce((node: CascadeNode) => {\r\n                if (props.trigger === 'hover') {\r\n                    methods.expand(node)\r\n                }\r\n            }, props.hoverDebounce),\r\n            clickItem: async (node: CascadeNode) => {\r\n                if (props.trigger === 'click') {\r\n                    await methods.expand(node)\r\n                }\r\n\r\n                if (node.nodeDisabled) return\r\n                if (node.isLeaf || props.selectBranch) {\r\n                    model.value = state.expandKeys\r\n                    emit.input(model.value as string[], expandNodes.value as CascadeNode[])\r\n                }\r\n                emit.clickItem(node)\r\n            }\r\n        }\r\n\r\n        /*---------------------------------------methods-------------------------------------------*/\r\n\r\n        const methods = {\r\n            expand: async (node: CascadeNode) => {\r\n                if (!node.isExpand) {\r\n                    state.expandKeys = node.expandKeys\r\n\r\n                    if (\r\n                        props.lazy &&                                               // 懒加载模式\r\n                        !node.isLoaded &&                                             // 未曾加载过子节点数据\r\n                        !node.isLeaf                                                // 节点不是叶子节点\r\n                    ) {\r\n                        const children = await utils.getChildrenAsync(node)\r\n                        node.setChildren(children || [])\r\n                        await $plain.nextTick()\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        utils.initLazy()\r\n\r\n        return () => {\r\n            const empty = (\r\n                <pl-item class=\"pl-cascade-item pl-cascade-empty\" key=\"empty\" block>\r\n                    <pl-icon icon=\"el-icon-reading\"/>\r\n                    {props.emptyText}\r\n                </pl-item>\r\n            )\r\n\r\n            const filterList = (\r\n                <pl-item class=\"pl-cascade-list pl-cascade-filter-list\" key={0}>\r\n                    <pl-scroll>\r\n                        <pl-list>\r\n                            {(!filterData.value || filterData.value.length === 0) && empty}\r\n                            {filterData.value.map((nodes) => (\r\n                                <pl-item block\r\n                                         class={[\r\n                                             'pl-cascade-item',\r\n                                             {\r\n                                                 'pl-cascade-item-active': !!model.value && model.value.toString() === nodes.map(node => node.key).toString(),\r\n                                                 'pl-cascade-item-disabled': nodes.some(node => node.nodeDisabled),\r\n                                             }\r\n                                         ]}\r\n                                         key={nodes.map(node => node.key).join(' ')}\r\n                                         {...{\r\n                                             nativeOn: {\r\n                                                 click: () => {\r\n                                                     handler.clickItem(nodes[nodes.length - 1])\r\n                                                 },\r\n                                             }\r\n                                         }}>\r\n                                    <div class=\"pl-cascade-content\">\r\n                                        {nodes.map(node => node.label).join(' / ')}\r\n                                    </div>\r\n                                </pl-item>\r\n                            ))}\r\n                        </pl-list>\r\n                    </pl-scroll>\r\n                </pl-item>\r\n            )\r\n\r\n            const cascadeList = cascadeData.value.map((list, listIndex) => (\r\n                <pl-item class=\"pl-cascade-list\" key={listIndex} v-loading={listIndex > 0 && state.cascadeMark.loading.get(state.expandKeys[listIndex - 1])}>\r\n                    <pl-scroll>\r\n                        <pl-list>\r\n                            {list.map((node, nodeIndex) => (\r\n                                <pl-item block\r\n                                         class={[\r\n                                             'pl-cascade-item',\r\n                                             {\r\n                                                 'pl-cascade-item-expand': node.key === state.expandKeys[listIndex],\r\n                                                 'pl-cascade-item-active': !!model.value && model.value[listIndex] === node.key,\r\n                                                 'pl-cascade-item-disabled': node.nodeDisabled,\r\n                                             }\r\n                                         ]}\r\n                                         key={node.key}\r\n\r\n                                         {...{\r\n                                             nativeOn: {\r\n                                                 click: () => handler.clickItem(node),\r\n                                                 ...(props.trigger === 'hover' ? {\r\n                                                     mouseenter: () => handler.mouseenterItem(node),\r\n                                                 } : {})\r\n                                             },\r\n                                         }}>\r\n                                    <div class=\"pl-cascade-content\">\r\n                                        {scopedSlots.default({\r\n                                            param: {node, index: nodeIndex},\r\n                                            content: !!props.renderContent ? props.renderContent(h, {node, index: nodeIndex}) : node.label\r\n                                        })}\r\n                                        {!node.isLeaf && (\r\n                                            <div class=\"pl-cascade-arrow\">\r\n                                                {node.isLoading ? <pl-loading type=\"gamma\" status=\"primary\"/> : <pl-icon icon=\"el-icon-arrow-right\"/>}\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                </pl-item>\r\n                            ))}\r\n                            {list.length === 0 && (\r\n                                <pl-item class=\"pl-cascade-item pl-cascade-empty\" key=\"empty\" block>\r\n                                    <pl-icon icon=\"el-icon-reading\"/>\r\n                                    {props.emptyText}\r\n                                </pl-item>\r\n                            )}\r\n                        </pl-list>\r\n                    </pl-scroll>\r\n                </pl-item>\r\n            ))\r\n\r\n            const isEmpty = !!props.filterText ? (filterData.value.length === 0) : (cascadeData.value.length === 0)\r\n\r\n            return (\r\n                <div class=\"pl-cascade-panel\" v-loading={state.loading}>\r\n                    {!!props.filterText ? filterList : (\r\n                        <pl-list>\r\n                            {isEmpty ? (\r\n                                <div class=\"pl-cascade-list\" key=\"empty\">\r\n                                    {empty}\r\n                                </div>\r\n                            ) : cascadeList}\r\n                        </pl-list>\r\n                    )}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {usePopperServiceComponent} from \"@/packages/popper/service/PopperServiceComponent\";\r\nimport {usePopperController} from \"../popper/service/PopperController\";\r\nimport {usePopperAgent} from \"../popper/service/PopperAgent\";\r\n\r\nexport default {\r\n    install(Vue) {\r\n        let controllerService;\r\n\r\n        const $plain = Vue.prototype.$plain\r\n\r\n        const ColorServiceComponent = usePopperServiceComponent({\r\n            name: 'pl-cascade-service',\r\n            content: (h, ctx) => {\r\n                return (\r\n                    <pl-cascade-panel\r\n                        slot=\"popper\"\r\n                        key={ctx.state.count}\r\n                        {\r\n                            ...{\r\n                                props: ctx.options.value.props,\r\n                                on: ctx.options.value.listener,\r\n                            }\r\n                        }\r\n                    />\r\n                )\r\n            },\r\n            externalListener: {\r\n                change() {\r\n                    // @ts-ignore\r\n                    if (!this.options.value.props.selectBranch) {\r\n                        this.hide()\r\n                    }\r\n                },\r\n            },\r\n            defaultPopperProps: {\r\n                transition: 'pl-transition-popper-drop',\r\n                arrow: false,\r\n                height: '200px',\r\n            }\r\n        })\r\n\r\n        const ColorController = usePopperController('pl-cascade-service-controller', ColorServiceComponent)\r\n\r\n        $plain.$cascade = (option) => {\r\n            if (!controllerService) {\r\n                controllerService = $plain.newInstance(ColorController)\r\n            }\r\n            return usePopperAgent(option, controllerService)\r\n        }\r\n    },\r\n}","import './cascade.scss'\r\nimport cascade from './cascade'\r\nimport panel from './cascade-panel'\r\nimport service from './cascade-service'\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    cascade,\r\n    panel,\r\n], [\r\n    service,\r\n])","export const TimePublicProps = {\r\n    displayFormat: {type: String, default: 'HH:mm:ss'},\r\n    valueFormat: {type: String, default: 'HH:mm:ss'},\r\n    max: {type: String},\r\n    min: {type: String},\r\n    layout: {type: Array, default: () => (['h', 'm', 's'])},\r\n    custom: Function,\r\n    checkDisabled: Function,\r\n}","import {computed, defineComponent} from \"@vue/composition-api\";\r\nimport {TimePublicProps} from \"@/packages/time/subs/time-subs\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {useModel} from \"@/use/useModel\";\r\nimport {PlainDate} from \"@/util/PlainDate\";\r\n\r\nexport enum TimeRangePanelType {\r\n    start = 'start',\r\n    end = 'end',\r\n}\r\n\r\nexport default defineComponent({\r\n    name: 'pl-time-range-panel',\r\n    props: {\r\n        start: {type: String},\r\n        end: {type: String},\r\n        ...TimePublicProps,\r\n    },\r\n    setup(props) {\r\n\r\n        const {emit} = useEvent({\r\n            input: (value: string | undefined, type: TimeRangePanelType) => undefined,\r\n            updateStart: EmitFunc,\r\n            updateEnd: EmitFunc,\r\n\r\n            mousedownStartPanel: EmitFunc,\r\n            mousedownEndPanel: EmitFunc,\r\n        })\r\n\r\n        const start = useModel(() => props.start, emit.updateStart)\r\n        const end = useModel(() => props.end, emit.updateEnd)\r\n        const formatData = computed(() => {\r\n            const {displayFormat, valueFormat} = props\r\n            return {\r\n                start: new PlainDate(start.value, displayFormat, valueFormat),\r\n                end: new PlainDate(end.value, displayFormat, valueFormat),\r\n                max: new PlainDate(props.max, displayFormat, valueFormat),\r\n                min: new PlainDate(props.min, displayFormat, valueFormat)\r\n            }\r\n        })\r\n        const bindind = computed(() => {\r\n            const publicProps = Object.keys(TimePublicProps).reduce((ret, key) => {\r\n                ret[key] = props[key]\r\n                return ret\r\n            }, {})\r\n\r\n            const {max, min} = props\r\n\r\n            const startBinding = {\r\n                props: {\r\n                    value: start.value,\r\n                    ...publicProps,\r\n                    max,\r\n                    min,\r\n                },\r\n                on: {\r\n                    change: (value) => {\r\n                        start.value = value\r\n                        emit.input(value, TimeRangePanelType.start)\r\n\r\n                        const {end: endPd, start: startPd} = formatData.value\r\n\r\n                        if (endPd.isNull || startPd.Hms! > endPd.Hms!) {\r\n                            end.value = start.value\r\n                            emit.input(end.value, TimeRangePanelType.end)\r\n                        }\r\n                    },\r\n                    'mousedown-panel': emit.mousedownStartPanel,\r\n                }\r\n            }\r\n\r\n            const endBinding = {\r\n                props: {\r\n                    value: end.value,\r\n                    ...publicProps,\r\n                    max,\r\n                    min,\r\n                },\r\n                on: {\r\n                    change: (value) => {\r\n                        end.value = value\r\n                        emit.input(value, TimeRangePanelType.end)\r\n                        const {end: endPd, start: startPd} = formatData.value\r\n\r\n                        if (startPd.isNull || endPd.Hms! < startPd.Hms!) {\r\n                            start.value = end.value\r\n                            emit.input(start.value, TimeRangePanelType.start)\r\n                        }\r\n                    },\r\n                    'mousedown-panel': emit.mousedownEndPanel,\r\n                }\r\n            }\r\n\r\n            return {\r\n                start: startBinding,\r\n                end: endBinding,\r\n            }\r\n        })\r\n\r\n        return () => (\r\n            <div class=\"pl-time-range-panel\">\r\n                <pl-time-base-panel {...bindind.value.start}/>\r\n                <pl-time-base-panel {...bindind.value.end}/>\r\n            </div>\r\n        )\r\n    },\r\n})","import {computed, defineComponent} from \"@vue/composition-api\";\r\nimport {TimePublicProps} from \"@/packages/time/subs/time-subs\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {useModel} from \"@/use/useModel\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {TimeRangePanelType} from \"@/packages/time/subs/time-range-panel\";\r\n\r\nexport const TimePanelProps = {\r\n    value: {type: String},\r\n    start: {type: String},\r\n    end: {type: String},\r\n    range: {type: Boolean},\r\n    ...TimePublicProps,\r\n}\r\n\r\nexport default defineComponent({\r\n    name: 'pl-time-panel',\r\n    props: {\r\n        ...TimePanelProps,\r\n    },\r\n    setup(props) {\r\n\r\n        const {emit} = useEvent({\r\n            input: (value: string | undefined, type: TimeRangePanelType) => undefined,\r\n            updateStart: EmitFunc,\r\n            updateEnd: EmitFunc,\r\n\r\n            mousedownBasePanel: EmitFunc,\r\n            mousedownStartPanel: EmitFunc,\r\n            mousedownEndPanel: EmitFunc,\r\n        })\r\n\r\n        const value = useModel(() => props.value, emit.input)\r\n        const start = useModel(() => props.start, emit.updateStart)\r\n        const end = useModel(() => props.end, emit.updateEnd)\r\n\r\n        const bindingProps = computed(() => {\r\n            const publicProps = Object.keys(TimePublicProps).reduce((ret, key) => {\r\n                ret[key] = props[key]\r\n                return ret\r\n            }, {})\r\n\r\n            const base = {\r\n                props: {\r\n                    ...publicProps,\r\n                    value: value.value,\r\n                },\r\n                on: {\r\n                    change: async (val) => {\r\n                        await $plain.nextTick()\r\n                        value.value = val\r\n                    },\r\n                    'mousedown-panel': emit.mousedownBasePanel,\r\n                },\r\n            }\r\n\r\n            const range = {\r\n                props: {\r\n                    ...publicProps,\r\n                    start: start.value,\r\n                    end: end.value,\r\n                },\r\n                on: {\r\n                    change: async (val, type) => {\r\n                        await $plain.nextTick()\r\n                        if (type === TimeRangePanelType.start) {\r\n                            start.value = val\r\n                        } else if (type === TimeRangePanelType.end) {\r\n                            end.value = val\r\n                        }\r\n                        emit.input(val, type)\r\n                    },\r\n                    'mousedown-start-panel': emit.mousedownStartPanel,\r\n                    'mousedown-end-panel': emit.mousedownEndPanel,\r\n                },\r\n            }\r\n\r\n            return {\r\n                base, range\r\n            }\r\n        })\r\n\r\n        return () => {\r\n            return !props.range ?\r\n                <pl-time-base-panel class=\"pl-time-panel\" {...bindingProps.value.base} key=\"base\"/> :\r\n                <pl-time-range-panel class=\"pl-time-panel\" {...bindingProps.value.range} key=\"range\"/>\r\n        }\r\n    },\r\n})","import {ModelType} from \"@/use/useModel\";\r\nimport {PopperAgentStateType} from \"@/packages/popper/service/PopperAgent\";\r\nimport {CompRef, useRefs} from \"@/use/useRefs\";\r\nimport {computed} from \"@vue/composition-api\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {handleKeyboard} from \"@/packages/keyboard\";\r\nimport {useEdit} from \"@/use/useEdit\";\r\nimport {useStyle} from \"@/use/useStyle\";\r\n\r\nexport function useDateTime(\r\n    {\r\n        value,\r\n        start,\r\n        end,\r\n        props,\r\n        agentState,\r\n        emit,\r\n    }: {\r\n        value: ModelType,\r\n        start: ModelType,\r\n        end: ModelType,\r\n        props: {\r\n            range?: boolean,\r\n        },\r\n        agentState: PopperAgentStateType,\r\n        emit: {\r\n            blur: Function\r\n        },\r\n    }) {\r\n\r\n    const {editComputed, editState} = useEdit()\r\n    useStyle()\r\n\r\n    const refs = useRefs({\r\n        valueInput: CompRef,\r\n        startInput: CompRef,\r\n        endInput: CompRef,\r\n        plInput: CompRef,\r\n    })\r\n\r\n    const inputValue = computed(() => {\r\n        return !props.range ? value.value : ((start.value || '') + (end.value || ''))\r\n    })\r\n\r\n    const handler = {\r\n        clearHandler: () => {\r\n            if (!props.range) {\r\n                value.value = null\r\n            } else {\r\n                start.value = null\r\n                end.value = null\r\n            }\r\n        },\r\n        clickInput() {\r\n            if (!props.range) {\r\n                agentState.methods.toggle()\r\n            } else {\r\n                agentState.methods.show()\r\n            }\r\n        },\r\n        customInputFocus() {\r\n            agentState.handler.focus()\r\n        },\r\n        async customInputBlur() {\r\n            if (!props.range) {\r\n                agentState.handler.blur()\r\n            } else {\r\n                await $plain.utils.delay(0)\r\n                if ([\r\n                    refs.startInput.refs.$el,\r\n                    refs.endInput.refs.$el,\r\n                ].indexOf(document.activeElement) === -1) {\r\n                    agentState.state.focusCounter--\r\n                    if (agentState.state.focusCounter === 0) {\r\n                        emit.blur()\r\n                        agentState.methods.hide()\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        keydown: handleKeyboard({\r\n            enter: agentState.handler.enter,\r\n            esc: agentState.handler.esc,\r\n        })\r\n    }\r\n\r\n    return {\r\n        refs,\r\n        inputValue,\r\n        handler,\r\n        editComputed,\r\n        editState,\r\n    }\r\n}","import {computed, defineComponent} from \"@vue/composition-api\";\r\nimport {TimePanelProps} from \"@/packages/time/time-panel\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {useModel} from \"@/use/useModel\";\r\nimport {PlainDate} from \"@/util/PlainDate\";\r\nimport {usePopperAgentEditor} from \"@/packages/popper/service/PopperAgent\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {useDateTime} from \"@/packages/date-time-input/useDateTime\";\r\nimport {EditProps} from \"@/use/useEdit\";\r\nimport {StyleProps} from \"@/use/useStyle\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-time',\r\n    props: {\r\n        ...StyleProps,\r\n        ...EditProps,\r\n        ...TimePanelProps,\r\n    },\r\n    setup(props) {\r\n\r\n        const {emit} = useEvent({\r\n            input: EmitFunc,\r\n            blur: EmitFunc,\r\n            focus: EmitFunc,\r\n            updateStart: EmitFunc,\r\n            updateEnd: EmitFunc,\r\n        })\r\n\r\n        const value = useModel(() => props.value, emit.input)\r\n        const start = useModel(() => props.start, emit.updateStart)\r\n        const end = useModel(() => props.end, emit.updateEnd)\r\n\r\n        const formatData = computed(() => ({\r\n            value: new PlainDate(value.value, props.displayFormat, props.valueFormat),\r\n            start: new PlainDate(start.value, props.displayFormat, props.valueFormat),\r\n            end: new PlainDate(end.value, props.displayFormat, props.valueFormat),\r\n        }))\r\n\r\n        const agentState = usePopperAgentEditor(() => ($plain as any).$time(() => ({\r\n            props: {\r\n                ...(Object.keys(TimePanelProps).reduce((ret, key) => {\r\n                    ret[key] = props[key]\r\n                    return ret\r\n                }, {})),\r\n                value: value.value,\r\n                start: start.value,\r\n                end: end.value,\r\n            },\r\n            popperProps: {\r\n                reference: refs.$el,\r\n            },\r\n            listener: {\r\n                change: (val, type) => {\r\n                    if (!props.range) {\r\n                        value.value = val\r\n                    } else {\r\n                        if (type === 'start') {\r\n                            start.value = val\r\n                        } else {\r\n                            end.value = val\r\n                        }\r\n                    }\r\n                },\r\n                'mousedown-base-panel': async () => {\r\n                    agentState.state.focusCounter++\r\n                    await $plain.utils.delay(0)\r\n                    refs.valueInput.methods.focus()\r\n                },\r\n                'mousedown-start-panel': async () => {\r\n                    agentState.state.focusCounter++\r\n                    await $plain.utils.delay(0)\r\n                    refs.startInput.methods.focus()\r\n                },\r\n                'mousedown-end-panel': async () => {\r\n                    agentState.state.focusCounter++\r\n                    await $plain.utils.delay(0)\r\n                    refs.endInput.methods.focus()\r\n                },\r\n            }\r\n        })))\r\n\r\n        const {\r\n            refs,\r\n            handler,\r\n            inputValue,\r\n        } = useDateTime({\r\n            value,\r\n            start,\r\n            end,\r\n            props,\r\n            agentState,\r\n            emit,\r\n        })\r\n\r\n        const customHandler = {\r\n            change: (val: string, type: 'start' | 'end' | 'value') => {\r\n                const {value: valuePd, start: startPd, end: endPd} = formatData.value\r\n\r\n                switch (type) {\r\n                    case \"value\":\r\n                        if (!val) {\r\n                            valuePd.setValue(undefined)\r\n                            value.value = undefined\r\n                            return;\r\n                        }\r\n                        if (valuePd.format(valuePd.parseDisplayString(val)) != val) {\r\n                            return;\r\n                        }\r\n\r\n                        valuePd.setDisplayValue(val)\r\n                        value.value = valuePd.valueString as string\r\n\r\n                        break\r\n                    case \"start\":\r\n                        if (!val) {\r\n                            return;\r\n                        }\r\n                        if (startPd.format(startPd.parseDisplayString(val)) != val) {\r\n                            return;\r\n                        }\r\n\r\n                        startPd.setDisplayValue(val)\r\n                        start.value = startPd.valueString as string\r\n\r\n                        if (endPd.isNull || startPd.Hms! > endPd.Hms!) {\r\n                            end.value = start.value\r\n                        }\r\n\r\n                        break\r\n\r\n                    case \"end\":\r\n                        if (!val) {\r\n                            return;\r\n                        }\r\n                        if (endPd.format(endPd.parseDisplayString(val)) != val) {\r\n                            return;\r\n                        }\r\n\r\n                        endPd.setDisplayValue(val)\r\n                        end.value = endPd.valueString as string\r\n\r\n                        if (startPd.isNull || endPd.Hms! < startPd.Hms!) {\r\n                            start.value = end.value\r\n                        }\r\n\r\n                        break\r\n                }\r\n            },\r\n        }\r\n\r\n        return () => (\r\n            <pl-input\r\n                class=\"pl-time pl-input-custom\"\r\n                value={inputValue.value}\r\n                suffixIcon=\"el-icon-time\"\r\n                clearIcon\r\n                isFocus={agentState.state.focusCounter > 0}\r\n                width={null}\r\n                inputInnerTabindex={null}\r\n                clearHandler={handler.clearHandler}\r\n                {...{\r\n                    on: {\r\n                        'click-input': handler.clickInput,\r\n                        'keydown': handler.keydown,\r\n                    }\r\n                }}\r\n            >\r\n                <div class=\"pl-input-custom-inner\" range={props.range}>\r\n                    {\r\n                        !props.range ? (\r\n                            <pl-date-time-input value={formatData.value.value.displayString}\r\n                                                displayFormat={props.displayFormat}\r\n                                                ref=\"valueInput\"\r\n                                                {...{\r\n                                                    on: {\r\n                                                        change: val => customHandler.change(val, 'value'),\r\n                                                        focus: handler.customInputFocus,\r\n                                                        blur: handler.customInputBlur,\r\n                                                    }\r\n                                                }}\r\n                            />\r\n                        ) : (\r\n                            [\r\n                                <pl-date-time-input width=\"100\"\r\n                                                    value={formatData.value.start.displayString}\r\n                                                    displayFormat={props.displayFormat}\r\n                                                    ref=\"startInput\"\r\n                                                    {...{\r\n                                                        on: {\r\n                                                            change: val => customHandler.change(val, 'start'),\r\n                                                            focus: handler.customInputFocus,\r\n                                                            blur: handler.customInputBlur,\r\n                                                        }\r\n                                                    }}/>,\r\n                                <span>~</span>,\r\n                                <pl-date-time-input width=\"100\"\r\n                                                    value={formatData.value.end.displayString}\r\n                                                    displayFormat={props.displayFormat}\r\n                                                    ref=\"endInput\"\r\n                                                    {...{\r\n                                                        on: {\r\n                                                            change: val => customHandler.change(val, 'end'),\r\n                                                            focus: handler.customInputFocus,\r\n                                                            blur: handler.customInputBlur,\r\n                                                        }\r\n                                                    }}/>,\r\n                            ]\r\n                        )\r\n                    }\r\n                </div>\r\n            </pl-input>\r\n        )\r\n    },\r\n})","import {PlainDate} from \"@/util/PlainDate\";\r\n\r\nexport const enum DateView {\r\n    year = 'year',\r\n    month = 'month',\r\n    date = 'date',\r\n    time = 'time',\r\n}\r\n\r\nexport const enum SlideTransitionDirection {\r\n    next = 'next',\r\n    prev = 'prev'\r\n}\r\n\r\nexport const enum DateEmitInputType {\r\n    start = 'start',\r\n    end = 'end',\r\n}\r\n\r\nexport interface PanelItemParam {\r\n    max?: PlainDate,\r\n    min?: PlainDate,\r\n    value?: PlainDate | PlainDate[],\r\n    hoverRange?: [PlainDate, PlainDate] | null,\r\n    valueRange: [PlainDate, PlainDate],\r\n    range?: boolean,\r\n}\r\n\r\nexport type PanelItemParamType = {\r\n    range: boolean,\r\n    value?: PlainDate | PlainDate[],\r\n    hoverRange?: [PlainDate, PlainDate] | null,\r\n    valueRange: [PlainDate, PlainDate]\r\n}\r\n\r\nexport interface PanelParentProvider {\r\n    year?: PanelItemParam,\r\n    month?: PanelItemParam,\r\n    date?: PanelItemParam,\r\n}\r\n\r\nexport const DefaultFormatString = {\r\n    year: 'YYYY',\r\n    month: 'YYYY-MM',\r\n    date: 'YYYY-MM-DD',\r\n    datetime: 'YYYY-MM-DD HH:mm:ss',\r\n    week: 'YYYY-MM-DD',\r\n    dates: 'YYYY-MM-DD',\r\n}\r\n\r\nexport const DateViewSeq = {\r\n    year: 1,\r\n    month: 2,\r\n    date: 3,\r\n    time: 4,\r\n}\r\n\r\nexport const DatePublicProps = {\r\n    value: {type: String},\r\n    displayFormat: {type: String},\r\n    valueFormat: {type: String},\r\n    max: {type: String},\r\n    min: {type: String},\r\n    range: {type: Boolean},\r\n    start: {type: String},\r\n    end: {type: String},\r\n\r\n    direction: {type: String, default: 'horizontal'},                                   // 根节点在 pl-transition-slide 动画下的动画方向，是horizontal还是vertical\r\n    view: {type: String, default: DateView.month},                                      //\r\n\r\n    /* base panel date 专用*/\r\n    datetime: {type: Boolean},                                                          // 是否为选择日期时间\r\n    firstWeekDay: {type: Number, default: 1},                                           // 一周的第一个是星期几，0是星期天，1是星期一\r\n    defaultTime: {type: String},                                                        // 默认时间，如果没有初始值，选择日期的时候时间会取这里的默认时间\r\n    selectDate: {type: PlainDate},                                                      // 当前面板的年月日期对象\r\n}\r\n\r\nexport class DateBasePanelItemData {\r\n    label: string | number = ''\r\n    active: boolean = false\r\n    now: boolean = false\r\n    disabled: boolean = false\r\n    hoverStart: boolean = false\r\n    hover: boolean = false\r\n    hoverEnd: boolean = false\r\n    ipd?: PlainDate = PlainDate.today(DefaultFormatString.date, DefaultFormatString.date)\r\n\r\n    range: boolean = false;\r\n\r\n    [key: string]: any\r\n}\r\n\r\nexport const DATE_PANEL_PROVIDER = '@@DATE_PANEL_PROVIDER'","import {computed, defineComponent, onMounted, Ref, watch} from \"@vue/composition-api\";\r\nimport {EditProps, useEdit} from \"@/use/useEdit\";\r\nimport {useRefs} from \"@/use/useRefs\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {useModel} from \"@/use/useModel\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {PlainScroll} from \"@/packages/scroll/scroll\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-time-base-column',\r\n    props: {\r\n        ...EditProps,\r\n\r\n        layout: {type: String, default: 'h'},   // 模式，h：时，m：分，s：秒\r\n        value: {type: Number},                  // 当前值\r\n        max: {type: Number},                    // 最大值\r\n        min: {type: Number},                    // 最小值\r\n        custom: Function,               // 自定义选项函数\r\n        checkDisabled: Function,        // 用来判断选项是否禁用的函数\r\n    },\r\n    setup(props) {\r\n\r\n        const {editComputed} = useEdit()\r\n\r\n        const refs = useRefs({\r\n            scroll: {} as PlainScroll,\r\n        })\r\n\r\n        const {emit} = useEvent({\r\n            input: EmitFunc,\r\n            clickItem: EmitFunc,\r\n        })\r\n\r\n        const model = useModel(() => props.value, emit.input)\r\n\r\n        const options: Ref<readonly string[]> = computed(() => {\r\n            if (!!props.custom) {\r\n                return props.custom(props.layout).map(item => $plain.utils.zeroize(item, 2)) as string[]\r\n            }\r\n            let count = props.layout === 'h' ? 24 : 60\r\n            let options: string[] = []\r\n            for (let i = 0; i < count; i++) {\r\n                options.push($plain.utils.zeroize(i, 2))\r\n            }\r\n            return options\r\n        })\r\n\r\n        const methods = {\r\n            resetPosition: () => {\r\n                let value = model.value || 0\r\n                let start = 0\r\n                let find = $plain.utils.findOne(options.value as any[], item => item == value, true)\r\n                if (!!find) {\r\n                    start = find.index\r\n                }\r\n                let scrollTop = start * 24\r\n                refs.scroll.methods.scroll({y: scrollTop}, 150)\r\n            },\r\n        }\r\n\r\n        const utils = {\r\n            checkDisabled: (item: string | number) => {\r\n                item = Number(item)\r\n                if (editComputed.value.disabled) return true\r\n                if (!!props.checkDisabled && props.checkDisabled(item, props.layout)) return true\r\n\r\n                if (props.max != null && props.max < item) return true\r\n                if (props.min != null && props.min > item) return true\r\n                return false\r\n            }\r\n        }\r\n\r\n        const handler = {\r\n            clickItem: (item: string | number) => {\r\n                item = Number(item)\r\n                if (utils.checkDisabled(item)) {\r\n                    return\r\n                }\r\n                model.value = item\r\n                emit.clickItem(item)\r\n            }\r\n        }\r\n\r\n        watch(() => props.value, methods.resetPosition)\r\n\r\n        onMounted(methods.resetPosition)\r\n\r\n        return () => (\r\n            <div class=\"pl-time-base-column\">\r\n                <pl-scroll ref=\"scroll\">\r\n                    <ul class=\"pl-time-base-column-list\">\r\n                        {[1, 2, 3].map(item => (<li class=\"pl-time-base-column-item\" key={-item}/>))}\r\n\r\n                        {\r\n                            options.value.map(item => (\r\n                                <li class={[\r\n                                    'pl-time-base-column-item',\r\n                                    'pl-time-base-column-option-item',\r\n                                    {\r\n                                        'pl-time-base-column-item-current': model.value != null && model.value == Number(item),\r\n                                        'pl-time-base-column-item-disabled': utils.checkDisabled(item),\r\n                                    }\r\n                                ]}\r\n                                    key={item}\r\n                                    onClick={() => handler.clickItem(item)}>\r\n                                    {item}\r\n                                </li>\r\n                            ))\r\n                        }\r\n\r\n                        {[1, 2, 3].map(item => (<li class=\"pl-time-base-column-item\" key={-item - 3}/>))}\r\n                    </ul>\r\n                </pl-scroll>\r\n            </div>\r\n        )\r\n    }\r\n})","import {computed, defineComponent} from \"@vue/composition-api\";\r\nimport {TimePublicProps} from \"@/packages/time/subs/time-subs\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {PlainDate} from \"@/util/PlainDate\";\r\n\r\nconst layoutMap = {\r\n    h: 'hour',\r\n    m: 'minute',\r\n    s: 'second',\r\n}\r\n\r\nexport default defineComponent({\r\n    name: 'pl-time-base-panel',\r\n    props: {\r\n        value: {type: String},\r\n        ...TimePublicProps,\r\n    },\r\n    setup(props) {\r\n\r\n        const {emit} = useEvent({\r\n            input: EmitFunc,\r\n            mousedownPanel: EmitFunc,\r\n        })\r\n\r\n        const formatData = computed(() => {\r\n            return {\r\n                value: new PlainDate(props.value, props.displayFormat, props.valueFormat),\r\n                max: new PlainDate(props.max, props.displayFormat, props.valueFormat),\r\n                min: new PlainDate(props.min, props.displayFormat, props.valueFormat),\r\n            }\r\n        })\r\n\r\n        const maxmin = computed(() => {\r\n\r\n            const max = {\r\n                hour: null as null | number,\r\n                minute: null as null | number,\r\n                second: null as null | number,\r\n            }\r\n            const min = {\r\n                hour: null as null | number,\r\n                minute: null as null | number,\r\n                second: null as null | number,\r\n            }\r\n\r\n            const {max: maxpd, min: minpd, value: vpd} = formatData.value\r\n\r\n            if (!!maxpd.hour) {\r\n                max.hour = maxpd.hour\r\n                if (vpd.hour == null) {\r\n                    // 有最大值，但是没有选择【时】的情况下，分以及秒不能选择任意选项\r\n                    max.minute = -Infinity\r\n                    max.second = -Infinity\r\n                } else {\r\n                    if (vpd.hour < max.hour) {\r\n                        // 有最大值，但是【时】没有达到最大值，此时分以及秒可以任意选择\r\n                        max.minute = null\r\n                        max.second = null\r\n                    } else {\r\n                        max.minute = maxpd.minute\r\n                        if (vpd.minute == null) {\r\n                            max.second = -Infinity\r\n                        } else {\r\n                            if (vpd.minute < max.minute!) {\r\n                                max.second = null\r\n                            } else {\r\n                                max.second = maxpd.second\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (!!minpd.hour) {\r\n                min.hour = minpd.hour\r\n                if (vpd.hour == null) {\r\n                    // 有最小值，但是没有选择【时】的情况下，分以及秒不能选择任意选项\r\n                    min.minute = Infinity\r\n                    min.second = Infinity\r\n                } else {\r\n                    if (vpd.hour > min.hour) {\r\n                        // 有最小值，但是【时】没有达到最小值，此时分以及秒可以任意选择\r\n                        min.minute = null\r\n                        min.second = null\r\n                    } else {\r\n                        min.minute = minpd.minute\r\n                        if (vpd.minute == null) {\r\n                            min.second = Infinity\r\n                        } else {\r\n                            if (vpd.minute > min.minute!) {\r\n                                min.second = null\r\n                            } else {\r\n                                min.second = minpd.second\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            return {\r\n                max, min,\r\n            }\r\n        })\r\n\r\n        const checkDisabled = computed(() => !props.checkDisabled ? null : (num, layout) => props.checkDisabled!(num, layout, formatData.value.value))\r\n\r\n        const custom = computed(() => !props.custom ? null : (layout) => props.custom!(layout, formatData.value.value))\r\n\r\n        const handler = {\r\n            columnChange: (value, type) => {\r\n                const {value: vpd, max: maxpd, min: minpd} = formatData.value\r\n\r\n                switch (type) {\r\n                    case 'h':\r\n                        vpd.setHour(value)\r\n                        break\r\n                    case 'm':\r\n                        vpd.setMinute(value)\r\n                        break\r\n                    case 's':\r\n                        vpd.setSecond(value)\r\n                        break\r\n                }\r\n\r\n                if (!maxpd.isNull && vpd.Hms! > maxpd.Hms!) {\r\n                    vpd.setValue(maxpd.valueString!)\r\n                }\r\n\r\n                if (!minpd.isNull && vpd.Hms! < minpd.Hms!) {\r\n                    vpd.setValue(minpd.valueString!)\r\n                }\r\n\r\n                emit.input(vpd.valueString)\r\n            }\r\n        }\r\n\r\n        return () => {\r\n            return (\r\n                <div class=\"pl-time-base-panel\" onMousedown={emit.mousedownPanel}>\r\n                    {props.layout.map(layout => (\r\n                        <pl-time-base-column layout={layout}\r\n                                             value={formatData.value.value[layoutMap[layout as string]]}\r\n                                             max={maxmin.value.max[layoutMap[layout as string]]}\r\n                                             min={maxmin.value.min[layoutMap[layout as string]]}\r\n                                             checkDisabled={checkDisabled.value}\r\n                                             custom={custom.value}\r\n                                             onChange={val => handler.columnChange(val, layout)}/>\r\n                    ))}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {installPlugin} from \"@/util/install\";\r\nimport column from './time-base-column'\r\nimport basePanel from './time-base-panel'\r\nimport rangePanel from './time-range-panel'\r\n\r\nexport default installPlugin([\r\n    column,\r\n    basePanel,\r\n    rangePanel,\r\n])","import {usePopperServiceComponent} from \"@/packages/popper/service/PopperServiceComponent\";\r\nimport {usePopperController} from \"../popper/service/PopperController\";\r\nimport {usePopperAgent} from \"../popper/service/PopperAgent\";\r\n\r\nexport default {\r\n    install(Vue) {\r\n        let controllerService;\r\n\r\n        const $plain = Vue.prototype.$plain\r\n\r\n        const TimeServiceComponent = usePopperServiceComponent({\r\n            name: 'pl-time-service',\r\n            content: (h, ctx) => {\r\n                return (\r\n                    <pl-time-panel\r\n                        slot=\"popper\"\r\n                        key={ctx.state.count}\r\n                        {\r\n                            ...{\r\n                                props: ctx.options.value.props,\r\n                                on: ctx.options.value.listener,\r\n                            }\r\n                        }\r\n                    />\r\n                )\r\n            },\r\n        })\r\n\r\n        const TimeController = usePopperController('pl-time-service-controller', TimeServiceComponent)\r\n\r\n        $plain.$time = (option) => {\r\n            if (!controllerService) {\r\n                controllerService = $plain.newInstance(TimeController)\r\n            }\r\n            return usePopperAgent(option, controllerService)\r\n        }\r\n    },\r\n}","import './time.scss'\r\nimport time from './time'\r\nimport panel from './time-panel'\r\nimport {installPlugin} from \"@/util/install\";\r\nimport subs from './subs'\r\nimport service from './time-service'\r\n\r\nexport default installPlugin([\r\n    time,\r\n    panel,\r\n], [\r\n    subs,\r\n    service,\r\n])","import {computed, defineComponent} from \"@vue/composition-api\";\r\nimport {EditProps, useEdit} from \"@/use/useEdit\";\r\nimport {CompRef, useRefs} from \"@/use/useRefs\";\r\nimport {FormatPropsType, useProps} from \"@/use/useProps\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {useModel} from \"@/use/useModel\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {HTMLInputEvent} from \"@/types/utils\";\r\nimport {useRefer} from \"@/use/useRefer\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-date-time-input',\r\n    props: {\r\n        ...EditProps,\r\n\r\n        width: {type: [String, Number], default: 138},\r\n        value: {type: String},\r\n\r\n        displayFormat: {type: String},\r\n    },\r\n    setup(props) {\r\n\r\n        const refs = useRefs({\r\n            input: CompRef,\r\n        })\r\n\r\n        const {editComputed} = useEdit()\r\n\r\n        const propsState = useProps(props, {\r\n            width: FormatPropsType.number,\r\n        })\r\n\r\n        const {emit} = useEvent({\r\n            input: EmitFunc,\r\n            blur: EmitFunc,\r\n            focus: EmitFunc,\r\n        })\r\n\r\n        const model = useModel(() => props.value, emit.input, false)\r\n\r\n        const styles = computed(() => ({\r\n            width: $plain.utils.suffixPx(propsState.width)\r\n        }))\r\n\r\n        const regexp = computed(() => {\r\n            return new RegExp('^' + props.displayFormat!.replace(/[a-zA-Z]/g, '\\\\d') + '$')\r\n        })\r\n\r\n        const methods = {\r\n            focus: () => {\r\n                refs.input.focus()\r\n            }\r\n        }\r\n\r\n        const handler = {\r\n            input: (e: HTMLInputEvent) => {\r\n                model.value = e.target.value\r\n                if (!model.value || regexp.value.test(model.value)) {\r\n                    emit.input(model.value)\r\n                }\r\n            },\r\n            blur: (e) => {\r\n                model.value = props.value\r\n                emit.blur(e)\r\n            },\r\n            focus: (e) => {\r\n                emit.focus(e)\r\n            },\r\n        }\r\n\r\n        useRefer({\r\n            refs,\r\n            props,\r\n            propsState,\r\n            model,\r\n            methods,\r\n        })\r\n\r\n        return () => (\r\n            <input type=\"text\"\r\n                   ref=\"input\"\r\n                   class=\"pl-date-time-inner-input pl-input-custom-inner-input\"\r\n                   style={styles.value}\r\n                   value={model.value}\r\n                   onInput={handler.input}\r\n                   onBlur={handler.blur}\r\n                   onFocus={handler.focus}\r\n                   disabled={editComputed.value.disabled}\r\n                   readOnly={editComputed.value.readonly}\r\n            />\r\n        )\r\n    },\r\n})","import './date-time-input.scss'\r\nimport dateTimeInput from './date-time-input'\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    dateTimeInput,\r\n])","import {computed, defineComponent} from \"@vue/composition-api\";\r\nimport {DateEmitInputType, DatePublicProps} from \"@/packages/date/date-utils\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {useModel} from \"@/use/useModel\";\r\n\r\nexport const enum DatePanelType {\r\n    year = 'year',\r\n    month = 'month',\r\n    date = 'date',\r\n    datetime = 'datetime',\r\n    week = 'week',\r\n    dates = 'dates',\r\n}\r\n\r\nexport default defineComponent({\r\n    name: 'pl-date-panel',\r\n    props: {\r\n        ...DatePublicProps,\r\n\r\n        panel: {type: String, default: DatePanelType.date},\r\n    },\r\n    setup(props) {\r\n\r\n        const {emit} = useEvent({\r\n            input: (val: string | undefined, type?: DateEmitInputType) => undefined,\r\n            updateStart: EmitFunc,\r\n            updateEnd: EmitFunc,\r\n            mousedownPanel: EmitFunc,\r\n        })\r\n\r\n        const model = useModel(() => props.value, emit.input)\r\n        const startModel = useModel(() => props.start, emit.updateStart)\r\n        const endModel = useModel(() => props.end, emit.updateEnd)\r\n\r\n        const panelBinding = computed(() => {\r\n            const {\r\n                range,\r\n                max,\r\n                min,\r\n                displayFormat,\r\n                valueFormat,\r\n                firstWeekDay,\r\n                defaultTime,\r\n            } = props\r\n\r\n            const value = model.value\r\n            const start = startModel.value\r\n            const end = endModel.value\r\n\r\n            const publicProps = {\r\n                range,\r\n                value,\r\n                start,\r\n                end,\r\n                max,\r\n                min,\r\n\r\n                firstWeekDay,\r\n                defaultTime,\r\n            }\r\n            const publicChange = (val: string | undefined, type?: DateEmitInputType) => {\r\n                if (!range) {\r\n                    model.value = val\r\n                } else {\r\n                    if (type === DateEmitInputType.start) {\r\n                        startModel.value = val\r\n                    } else {\r\n                        endModel.value = val\r\n                    }\r\n                    emit.input(val, type)\r\n                }\r\n            }\r\n\r\n            switch (props.panel) {\r\n                case DatePanelType.year:\r\n                    return {\r\n                        props: {\r\n                            ...publicProps,\r\n                            displayFormat: displayFormat || 'YYYY',\r\n                            valueFormat: valueFormat || 'YYYY',\r\n                        },\r\n                        on: {change: publicChange,},\r\n                    }\r\n                case DatePanelType.month:\r\n                    return {\r\n                        props: {\r\n                            ...publicProps,\r\n                            displayFormat: displayFormat || 'YYYY-MM',\r\n                            valueFormat: valueFormat || 'YYYY-MM',\r\n                        },\r\n                        on: {change: publicChange,},\r\n                    }\r\n                case DatePanelType.date:\r\n                    return {\r\n                        props: {\r\n                            ...publicProps,\r\n                            displayFormat: displayFormat || 'YYYY-MM-DD',\r\n                            valueFormat: valueFormat || 'YYYY-MM-DD',\r\n                        },\r\n                        on: {change: publicChange,},\r\n                    }\r\n                case DatePanelType.datetime:\r\n                    return {\r\n                        props: {\r\n                            ...publicProps,\r\n                            displayFormat: displayFormat || 'YYYY-MM-DD HH:mm:ss',\r\n                            valueFormat: valueFormat || 'YYYY-MM-DD HH:mm:ss',\r\n                            datetime: true,\r\n                        },\r\n                        on: {change: publicChange,},\r\n                    }\r\n                case DatePanelType.week:\r\n                    return {\r\n                        props: {\r\n                            ...publicProps,\r\n                            displayFormat: displayFormat || 'YYYY-MM-DD',\r\n                            valueFormat: valueFormat || 'YYYY-MM-DD',\r\n                        },\r\n                        on: {change: publicChange,},\r\n                    }\r\n                case DatePanelType.dates:\r\n                    return {\r\n                        props: {\r\n                            ...publicProps,\r\n                            displayFormat: displayFormat || 'YYYY-MM-DD',\r\n                            valueFormat: valueFormat || 'YYYY-MM-DD',\r\n                        },\r\n                        on: {change: publicChange,},\r\n                    }\r\n                default:\r\n                    throw new Error(`pl-date-panel: invalid panel:${props.panel}`)\r\n            }\r\n        })\r\n\r\n        return () => {\r\n            const binding = panelBinding.value\r\n\r\n            const panel = {\r\n                year: 'pl-date-base-panel-year',\r\n                month: 'pl-date-base-panel-month',\r\n                date: binding.props.range ? 'pl-date-panel-date-range' : 'pl-date-base-panel-date',\r\n                datetime: binding.props.range ? 'pl-date-panel-date-range' : 'pl-date-base-panel-date',\r\n                week: 'pl-date-panel-week',\r\n                dates: 'pl-date-panel-dates',\r\n            }\r\n            const Component = panel[props.panel]\r\n\r\n            return <Component {...panelBinding.value} {...{\r\n                on: {\r\n                    'mousedown-panel': emit.mousedownPanel\r\n                }\r\n            }}/>\r\n        }\r\n    },\r\n})","import {computed, defineComponent, Ref} from \"@vue/composition-api\";\r\nimport {EditProps} from \"@/use/useEdit\";\r\nimport {DatePublicProps, DefaultFormatString} from \"@/packages/date/date-utils\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {useModel} from \"@/use/useModel\";\r\nimport {PlainDate} from \"@/util/PlainDate\";\r\nimport {usePopperAgentEditor} from \"@/packages/popper/service/PopperAgent\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {TimePanelProps} from \"@/packages/time/time-panel\";\r\nimport {useDateTime} from \"@/packages/date-time-input/useDateTime\";\r\nimport {StyleProps} from \"@/use/useStyle\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-date',\r\n    props: {\r\n        ...StyleProps,\r\n        ...EditProps,\r\n        ...DatePublicProps,\r\n\r\n        panel: {type: String, default: 'date'},\r\n        collapseTags: {type: Boolean, default: true},\r\n    },\r\n    setup(props) {\r\n\r\n        const {emit} = useEvent({\r\n            input: EmitFunc,\r\n            blur: EmitFunc,\r\n            focus: EmitFunc,\r\n            updateStart: EmitFunc,\r\n            updateEnd: EmitFunc,\r\n        })\r\n\r\n        const model = useModel(() => props.value, emit.input)\r\n        const startModel = useModel(() => props.start, emit.updateStart)\r\n        const endModel = useModel(() => props.end, emit.updateEnd)\r\n\r\n        const agentState = usePopperAgentEditor(() => ($plain as any).$date(() => {\r\n            return {\r\n                props: {\r\n                    ...(Object.keys(TimePanelProps).reduce((ret, key) => {\r\n                        ret[key] = props[key]\r\n                        return ret\r\n                    }, {})),\r\n                    panel: props.panel,\r\n                    value: model.value,\r\n                    start: startModel.value,\r\n                    end: endModel.value,\r\n                },\r\n                popperProps: {\r\n                    reference: refs.$el,\r\n                },\r\n                listener: {\r\n                    change: (val, type) => {\r\n                        if (!props.range) {\r\n                            model.value = val\r\n                        } else {\r\n                            if (type === 'start') {\r\n                                startModel.value = val\r\n                            } else {\r\n                                endModel.value = val\r\n                            }\r\n                        }\r\n                    },\r\n                    'mousedown-panel': async (e, type) => {\r\n                        agentState.state.focusCounter++\r\n                        await $plain.utils.delay(0)\r\n\r\n                        if (props.panel === 'dates') {\r\n                            refs.plInput.methods.focus()\r\n                        } else if (!props.range) {\r\n                            refs.valueInput.methods.focus()\r\n                        } else {\r\n                            if (type === 'start') {\r\n                                refs.startInput.methods.focus()\r\n                            } else {\r\n                                refs.endInput.methods.focus()\r\n                            }\r\n                        }\r\n                    },\r\n                }\r\n            }\r\n        }))\r\n\r\n        const {\r\n            refs,\r\n            handler,\r\n            inputValue,\r\n            editComputed,\r\n        } = useDateTime({\r\n            value: model,\r\n            start: startModel,\r\n            end: endModel,\r\n            props,\r\n            agentState,\r\n            emit,\r\n        })\r\n\r\n        /*---------------------------------------:computer:format-------------------------------------------*/\r\n\r\n        const displayFormat = computed(() => props.displayFormat || DefaultFormatString[props.panel] as string) as Ref<string>\r\n        const valueFormat = computed(() => props.valueFormat || DefaultFormatString[props.panel] as string) as Ref<string>\r\n\r\n        /*---------------------------------------computer-------------------------------------------*/\r\n\r\n        const formatData = computed(() => {\r\n\r\n            if (props.panel === 'dates') {\r\n                let value = (model.value || []) as string[]\r\n                const valuePds = value.map(item => new PlainDate(item, displayFormat.value, valueFormat.value))\r\n                const datesString = valuePds.map(item => item.displayString)\r\n                return {\r\n                    value: valuePds,\r\n                    datesString,\r\n                }\r\n            }\r\n\r\n            const value = new PlainDate(model.value, displayFormat.value, valueFormat.value)\r\n            const start = new PlainDate(startModel.value, displayFormat.value, valueFormat.value)\r\n            const end = new PlainDate(endModel.value, displayFormat.value, valueFormat.value)\r\n\r\n            return {\r\n                value, start, end\r\n            }\r\n        })\r\n\r\n        const inputBinding = computed(() => {\r\n            const {panel} = props\r\n            const isDates = panel === 'dates'\r\n            return {\r\n                class: [\r\n                    'pl-date',\r\n                    {\r\n                        'pl-input-custom': !isDates,\r\n                        'pl-input-tags': isDates,\r\n                    },\r\n                ],\r\n                props: {\r\n                    value: inputValue.value,\r\n                    suffixIcon: 'el-icon-date',\r\n                    clearIcon: true,\r\n                    isFocus: agentState.state.focusCounter > 0,\r\n                    width: isDates ? undefined : null,\r\n                    inputInnerTabindex: isDates ? 0 : null,\r\n                    clearHandler: handler.clearHandler,\r\n                },\r\n                on: {\r\n                    'click-input': handler.clickInput,\r\n                    focus: agentState.handler.focus,\r\n                    blur: agentState.handler.blur,\r\n                },\r\n            }\r\n        })\r\n\r\n        const customHandler = {\r\n            onInputChange(val, type) {\r\n                const {value, start, end} = formatData.value as { value: PlainDate, start: PlainDate, end: PlainDate }\r\n\r\n                if (props.panel === 'dates') {\r\n                    model.value = val\r\n                }\r\n\r\n                switch (type) {\r\n                    case 'value':\r\n\r\n                        if (!val) {\r\n                            value.setValue(undefined)\r\n                            model.value = undefined\r\n                            return;\r\n                        }\r\n                        if (value.format(value.parseDisplayString(val)) != val) {\r\n                            return;\r\n                        }\r\n\r\n                        value.setDisplayValue(val)\r\n                        model.value = value.valueString!\r\n\r\n                        break\r\n                    case 'start':\r\n\r\n                        if (!val) {\r\n                            return;\r\n                        }\r\n                        if (start.format(start.parseDisplayString(val)) != val) {\r\n                            return;\r\n                        }\r\n\r\n                        start.setDisplayValue(val)\r\n                        startModel.value = start.valueString!\r\n\r\n                        if (end.isNull || (!!props.datetime ? start.YMDHms! > end.YMDHms! : start.YMD! > end.YMD!)) {\r\n                            endModel.value = start.valueString!\r\n                        }\r\n\r\n                        break\r\n                    case 'end':\r\n\r\n                        if (!val) {\r\n                            return;\r\n                        }\r\n                        if (end.format(end.parseDisplayString(val)) != val) {\r\n                            return;\r\n                        }\r\n\r\n                        end.setDisplayValue(val)\r\n                        endModel.value = end.valueString!\r\n\r\n                        if (start.isNull || (!!props.datetime ? start.YMDHms! > end.YMDHms! : start.YMD! > end.YMD!)) {\r\n                            startModel.value = end.valueString!\r\n                        }\r\n\r\n                        break\r\n                }\r\n            },\r\n            onClickItemCloseIcon(item, index, e: MouseEvent) {\r\n                e.stopPropagation()\r\n                e.preventDefault()\r\n\r\n                if (!editComputed.value.editable) {\r\n                    return\r\n                }\r\n                // @ts-ignore\r\n                const value = model.value as string[]\r\n                value.splice(index, 1)\r\n                // @ts-ignore\r\n                model.value = [...value]\r\n            },\r\n        }\r\n\r\n        return () => (\r\n            <pl-input\r\n                ref=\"plInput\"\r\n                {...inputBinding.value}\r\n            >\r\n                <div class=\"pl-input-custom-inner\" range={props.range}>\r\n                    {\r\n                        props.panel === 'dates' ?\r\n                            (\r\n                                <pl-input-inner-tags\r\n                                    data={formatData.value.datesString || []}\r\n                                    collapseTags={props.collapseTags}\r\n                                    {...{\r\n                                        scopedSlots: {\r\n                                            default: ({item, index}) => [\r\n                                                <span>{item}</span>,\r\n                                                <pl-icon icon=\"el-icon-close\" onClick={(e) => customHandler.onClickItemCloseIcon(item, index, e)}/>\r\n                                            ]\r\n                                        }\r\n                                    }}\r\n                                />\r\n                            ) :\r\n                            (\r\n                                !props.range ?\r\n                                    (\r\n                                        <pl-date-time-input value={(formatData.value.value as PlainDate).displayString}\r\n                                                            ref=\"valueInput\"\r\n                                                            onChange={val => customHandler.onInputChange(val, 'value')}\r\n                                                            displayFormat={displayFormat.value}\r\n                                                            onFocus={handler.customInputFocus}\r\n                                                            onBlur={handler.customInputBlur}\r\n                                        />\r\n                                    ) :\r\n                                    (\r\n                                        [\r\n                                            <pl-date-time-input\r\n                                                width=\"100\"\r\n                                                value={formatData.value.start!.displayString}\r\n                                                ref=\"startInput\"\r\n                                                displayFormat={displayFormat.value}\r\n\r\n                                                onChange={val => customHandler.onInputChange(val, 'start')}\r\n                                                onFocus={handler.customInputFocus}\r\n                                                onBlur={handler.customInputBlur}\r\n                                            />,\r\n                                            <span>~</span>,\r\n                                            <pl-date-time-input\r\n                                                width=\"100\"\r\n                                                value={formatData.value.end!.displayString}\r\n                                                ref=\"endInput\"\r\n                                                onChange={val => customHandler.onInputChange(val, 'end')}\r\n                                                displayFormat={displayFormat.value}\r\n                                                onFocus={handler.customInputFocus}\r\n                                                onBlur={handler.customInputBlur}\r\n                                            />,\r\n                                        ]\r\n                                    )\r\n                            )\r\n                    }\r\n                </div>\r\n            </pl-input>\r\n        )\r\n    },\r\n})","import {defineComponent} from \"@vue/composition-api\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {SlotFunc, useSlots} from \"@/use/useSlots\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-date-base-panel',\r\n    props: {\r\n        direction: {type: String},                          // 面板切换动画所需要的属性\r\n    },\r\n    setup(props) {\r\n\r\n        const {slots} = useSlots({\r\n            left: SlotFunc,\r\n            center: SlotFunc,\r\n            right: SlotFunc,\r\n            content: SlotFunc,\r\n        })\r\n\r\n        const {emit} = useEvent({\r\n            mousedownPanel: EmitFunc,\r\n        })\r\n\r\n        return () => (\r\n            <div class=\"pl-date-base-panel\" direction={props.direction} onMousedown={emit.mousedownPanel}>\r\n                <pl-date-base-panel-header>\r\n                    <template slot=\"left\">{slots.left()}</template>\r\n                    <template slot=\"center\">{slots.center()}</template>\r\n                    <template slot=\"right\">{slots.right()}</template>\r\n                </pl-date-base-panel-header>\r\n                <div class=\"pl-date-base-panel-body\">\r\n                    {slots.content()}\r\n                </div>\r\n            </div>\r\n        )\r\n    },\r\n})","import {defineComponent} from \"@vue/composition-api\";\r\nimport {SlotFunc, useSlots} from \"@/use/useSlots\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-date-base-panel-header',\r\n    setup() {\r\n\r\n        const {slots} = useSlots({\r\n            left: SlotFunc,\r\n            center: SlotFunc,\r\n            right: SlotFunc,\r\n        })\r\n\r\n        return () => (\r\n            <div class=\"pl-date-base-panel-header\">\r\n                <div>\r\n                    {slots.left()}\r\n                </div>\r\n                <div>\r\n                    {slots.center()}\r\n                </div>\r\n                <div>\r\n                    {slots.right()}\r\n                </div>\r\n            </div>\r\n        )\r\n    },\r\n})","import {computed, defineComponent} from \"@vue/composition-api\";\r\nimport {DateBasePanelItemData} from \"@/packages/date/date-utils\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-date-base-panel-item',\r\n    props: {\r\n        item: {type: DateBasePanelItemData, default: () => new DateBasePanelItemData()},\r\n        component: {default: 'li'},\r\n        componentProps: {type: Object},\r\n        nativeListener: {type: Boolean},\r\n    },\r\n    setup(props) {\r\n\r\n        const {emit} = useEvent({\r\n            click: EmitFunc,\r\n            mouseenter: EmitFunc,\r\n        })\r\n\r\n        const classes = computed(() => [\r\n            'pl-date-base-panel-item',\r\n            {\r\n                'pl-date-base-panel-item-active': props.item.active,\r\n                'pl-date-base-panel-item-now': props.item.now,\r\n                'pl-date-base-panel-item-disabled': props.item.disabled,\r\n                'pl-date-base-panel-item-hover-start': props.item.hoverStart,\r\n                'pl-date-base-panel-item-hover': props.item.hover,\r\n                'pl-date-base-panel-item-hover-end': props.item.hoverEnd,\r\n            }\r\n        ])\r\n\r\n        const listener = computed(() => {\r\n            if (props.item.disabled) {\r\n                return {}\r\n            }\r\n            return {\r\n                [props.nativeListener ? 'nativeOn' : 'on']: {\r\n                    click: () => {\r\n                        emit.click(props.item)\r\n                    },\r\n                    ...(props.item.range ? {\r\n                        mouseenter: () => {\r\n                            emit.mouseenter(props.item)\r\n                        },\r\n                    } : {})\r\n                },\r\n            }\r\n        })\r\n\r\n        return () => {\r\n            const Component = props.component\r\n            return (\r\n                <Component class={classes.value} {...{props: props.componentProps, ...listener.value}}>\r\n                    <div><span>{props.item.label}</span></div>\r\n                </Component>\r\n            )\r\n        }\r\n    },\r\n})","\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {computed, inject, provide, reactive, Ref} from \"@vue/composition-api\";\r\nimport {PlainDate} from \"@/util/PlainDate\";\r\nimport {useModel} from \"@/use/useModel\";\r\nimport {DATE_PANEL_PROVIDER, DatePublicProps, DateView, PanelItemParam, PanelItemParamType, SlideTransitionDirection} from \"@/packages/date/date-utils\";\r\n\r\nexport function getFormatString(formatString: string | undefined, datetime: boolean | undefined) {\r\n    if (!!formatString) return formatString\r\n    return datetime ? 'YYYY-MM-DD HH:mm:ss' : 'YYYY-MM-DD'\r\n}\r\n\r\nexport function useDate(\r\n    {\r\n        props,\r\n        getProvideData,\r\n        injectView,\r\n        getChildDisabled,\r\n        getChildActive,\r\n        getChildHoverStart,\r\n        getChildHover,\r\n        getChildHoverEnd,\r\n\r\n        modelAutoEmit,\r\n        startModelAutoEmit,\r\n        endModelAutoEmit,\r\n\r\n        onModelChange,\r\n        onStartChange,\r\n        onEndChange,\r\n    }\r\n        : {\r\n        props: ExtractPropTypes<typeof DatePublicProps>,\r\n        getProvideData: (panelItemParam: PanelItemParam) => {\r\n            year: PanelItemParamType,\r\n            month?: PanelItemParamType,\r\n            date?: PanelItemParamType,\r\n        },\r\n        injectView: DateView,\r\n        getChildDisabled?: (ipd: PlainDate | number, view: DateView) => boolean,\r\n        getChildActive?: (ipd: PlainDate, view: DateView) => boolean,\r\n        getChildHoverStart?: (ipd: PlainDate, view: DateView) => boolean,\r\n        getChildHover?: (ipd: PlainDate, view: DateView) => boolean,\r\n        getChildHoverEnd?: (ipd: PlainDate, view: DateView) => boolean,\r\n\r\n        modelAutoEmit?: boolean\r\n        onModelChange?: (val: string | undefined) => void,\r\n\r\n        startModelAutoEmit?: boolean\r\n        onStartChange?: (val: string | undefined) => void,\r\n\r\n        endModelAutoEmit?: boolean\r\n        onEndChange?: (val: string | undefined) => void,\r\n    }\r\n) {\r\n\r\n    /*---------------------------------------event-------------------------------------------*/\r\n\r\n    const {emit} = useEvent({\r\n        input: EmitFunc,\r\n        updateStart: EmitFunc,\r\n        updateEnd: EmitFunc,\r\n        updateView: EmitFunc,\r\n    })\r\n\r\n    /*---------------------------------------:computer:format-------------------------------------------*/\r\n\r\n    const displayFormat = computed(() => getFormatString(props.displayFormat, props.datetime))\r\n\r\n    const valueFormat = computed(() => getFormatString(props.valueFormat, props.datetime))\r\n\r\n    /*---------------------------------------state-------------------------------------------*/\r\n\r\n    const today = PlainDate.today(displayFormat.value, valueFormat.value)\r\n    const vpd = new PlainDate(props.value, displayFormat.value, valueFormat.value)\r\n    const startPd = new PlainDate(props.start, displayFormat.value, valueFormat.value)\r\n    const endPd = new PlainDate(props.end, displayFormat.value, valueFormat.value)\r\n    const tempPd = vpd.copy()\r\n\r\n    const model = useModel(() => props.value, emit.input, modelAutoEmit, undefined, onModelChange)\r\n    const startModel = useModel(() => props.start, emit.updateStart, startModelAutoEmit, undefined, onStartChange)\r\n    const endModel = useModel(() => props.end, emit.updateEnd, endModelAutoEmit, undefined, onEndChange)\r\n    const viewModel = useModel(() => props.view, emit.updateView)\r\n\r\n    let selectDate = props.selectDate as (PlainDate | undefined)\r\n    if (!selectDate) {\r\n        if (!props.range) {\r\n            selectDate = !vpd.isNull ? vpd : today.copy()\r\n        } else {\r\n            selectDate = !startPd.isNull ? startPd : today.copy()\r\n        }\r\n    }\r\n\r\n    const transitionDirection: SlideTransitionDirection = SlideTransitionDirection.next\r\n\r\n    const hoverRange: [PlainDate, PlainDate] | null = null\r\n    const valueRange: [PlainDate, PlainDate] = [startPd, endPd]\r\n\r\n    const state = reactive({\r\n        today,\r\n        selectDate,\r\n        tempPd,\r\n\r\n        hoverRange,\r\n        valueRange,\r\n        transitionDirection,\r\n    })\r\n\r\n    /*---------------------------------------inject-------------------------------------------*/\r\n\r\n    const datePanel = inject(DATE_PANEL_PROVIDER) as (typeof ret | null)\r\n\r\n    /*---------------------------------------computer-------------------------------------------*/\r\n\r\n    const firstDatePanel = computed(() => {\r\n        let parent = datePanel\r\n        while (!!parent && parent.datePanel) {\r\n            parent = parent.datePanel\r\n        }\r\n        return parent\r\n    }) as Ref<typeof ret | null>\r\n\r\n    const panelItemParam = computed(() => {\r\n        let {max, min, range} = props\r\n        return {\r\n            max: new PlainDate(max, displayFormat.value, valueFormat.value),\r\n            min: new PlainDate(min, displayFormat.value, valueFormat.value),\r\n            value: new PlainDate(model.value, displayFormat.value, valueFormat.value),\r\n            hoverRange: state.hoverRange,\r\n            valueRange: state.valueRange,\r\n            range,\r\n        }\r\n    }) as Ref<PanelItemParam>\r\n\r\n    const provideData = computed(() => getProvideData(panelItemParam.value))\r\n\r\n    const targetPanelItemParam = computed(() => {\r\n        if (!!firstDatePanel.value && firstDatePanel.value!.provideData.value && firstDatePanel.value!.provideData.value[injectView]) {\r\n            return firstDatePanel.value!.provideData.value[injectView]\r\n        } else {\r\n            return panelItemParam.value\r\n        }\r\n    }) as Ref<PanelItemParamType>\r\n\r\n    function setSelectDate(selectDate: PlainDate) {\r\n        state.selectDate = selectDate.copy()\r\n    }\r\n\r\n    const ret = {\r\n        displayFormat,\r\n        valueFormat,\r\n\r\n        model,\r\n        startModel,\r\n        endModel,\r\n        viewModel,\r\n\r\n        state,\r\n\r\n        datePanel,\r\n        firstDatePanel,\r\n\r\n        provideData,\r\n        panelItemParam,\r\n        targetPanelItemParam,\r\n\r\n        setSelectDate,\r\n        emit,\r\n        props,\r\n\r\n        getChildDisabled,\r\n        getChildActive,\r\n        getChildHoverStart,\r\n        getChildHover,\r\n        getChildHoverEnd,\r\n    }\r\n\r\n    provide(DATE_PANEL_PROVIDER, ret)\r\n\r\n    return ret\r\n}\r\n\r\nexport type UseDateType = ReturnType<typeof useDate>","import {computed, defineComponent, watch} from \"@vue/composition-api\";\r\nimport {DateBasePanelItemData, DateEmitInputType, DatePublicProps, DateView, DefaultFormatString, PanelItemParam, SlideTransitionDirection} from \"@/packages/date/date-utils\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {useDate} from \"@/packages/date/useDate\";\r\nimport {PlainDate} from \"@/util/PlainDate\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-date-base-panel-year',\r\n    props: {\r\n        ...DatePublicProps,\r\n        displayFormat: {type: String, default: DefaultFormatString.year},\r\n        valueFormat: {type: String, default: DefaultFormatString.year},\r\n    },\r\n    setup(props) {\r\n\r\n        const {emit} = useEvent({\r\n            input: (value: string, type: DateEmitInputType) => undefined,\r\n            updateStart: EmitFunc,\r\n            updateEnd: EmitFunc,\r\n            mousedownPanel: EmitFunc,\r\n        })\r\n\r\n        const {targetPanelItemParam, firstDatePanel, state, setSelectDate, model, startModel, endModel, viewModel, displayFormat, valueFormat} = useDate({\r\n            props,\r\n            injectView: DateView.year,\r\n            getProvideData: (panelItemParam) => ({} as any),\r\n\r\n            onModelChange: (val) => {\r\n                state.transitionDirection = val == null ? 'next' : val > data.value.selectYear + 19 ? 'next' : 'prev'\r\n                state.selectDate.setYear(val || state.today.year)\r\n                setSelectDate(state.selectDate)\r\n            },\r\n            onStartChange: (val) => {\r\n                const startPd = new PlainDate(val, displayFormat.value, valueFormat.value)\r\n                const endPd = new PlainDate(endModel.value, displayFormat.value, valueFormat.value)\r\n\r\n                state.valueRange = [startPd, endPd]\r\n                state.hoverRange = null\r\n\r\n                state.transitionDirection = val == null ? 'next' : val > data.value.selectYear + 19 ? 'next' : 'prev'\r\n                state.selectDate.setYear(val || state.today.year)\r\n                setSelectDate(state.selectDate)\r\n            },\r\n            onEndChange: (val) => {\r\n                const startPd = new PlainDate(startModel.value, displayFormat.value, valueFormat.value)\r\n                const endPd = new PlainDate(val, displayFormat.value, valueFormat.value)\r\n\r\n                state.valueRange = [startPd, endPd]\r\n                state.hoverRange = null\r\n            }\r\n        })\r\n\r\n        const data = computed(() => {\r\n            let {selectDate, today} = state\r\n            let selectYear = selectDate.year\r\n            selectYear = selectYear - selectYear % 20\r\n\r\n            const panelItemPanel = targetPanelItemParam.value\r\n            const {range} = panelItemPanel\r\n\r\n            let list: DateBasePanelItemData[] = []\r\n            for (let i = selectYear; i < selectYear + 20; i++) {\r\n\r\n                state.tempPd.setYear(i)\r\n                const ipd = state.tempPd.copy()\r\n\r\n                let item: DateBasePanelItemData = {\r\n                    label: i,\r\n                    now: i === today.year,\r\n                    disabled: utils.getDisabled(i, panelItemPanel),\r\n                    active: utils.getActive(i, panelItemPanel),\r\n                    hoverStart: false,\r\n                    hover: false,\r\n                    hoverEnd: false,\r\n                    ipd,\r\n\r\n                    range,\r\n                    year: i,\r\n                }\r\n\r\n                if (range) {\r\n                    item.hoverStart = utils.getHoverStart(i, panelItemPanel)\r\n                    item.hover = utils.getHover(i, panelItemPanel)\r\n                    item.hoverEnd = utils.getHoverEnd(i, panelItemPanel)\r\n                }\r\n\r\n                list.push(item)\r\n            }\r\n\r\n            return {\r\n                list,                                               // 年份可选列表\r\n                title: `${selectYear}-${selectYear + 19}`,          // 年份面板标题，展示列表中年份的范围\r\n                selectYear,                                         // 当前选择的年份\r\n            }\r\n        })\r\n\r\n        const utils = {\r\n            /**\r\n             * 检查年份是否需要禁用\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 11:17\r\n             */\r\n            getDisabled(item, {max, min}: PanelItemParam) {\r\n                if (!!firstDatePanel.value && !!firstDatePanel.value!.getChildDisabled) {\r\n                    return firstDatePanel.value!.getChildDisabled(item, DateView.year)\r\n                }\r\n                if (!!max && !max.isNull && max.year! < item) return true\r\n                if (!!min && !min.isNull && min.year! > item) return true\r\n            },\r\n            /**\r\n             * 检查需要激活高亮的年份\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 11:17\r\n             */\r\n            getActive(item, {value, valueRange: [valueStart, valueEnd], range}: PanelItemParam): boolean {\r\n                if (!!firstDatePanel.value && !!firstDatePanel.value!.getChildActive) {\r\n                    return firstDatePanel.value!.getChildActive(item, DateView.year)\r\n                }\r\n                if (!range) {\r\n                    if (!Array.isArray(value)) {\r\n                        value = [value!]\r\n                    }\r\n                    return value.some(iv => (!iv.isNull && iv.year === item))\r\n                } else {\r\n                    return valueStart.year == item || valueEnd.year == item\r\n                }\r\n            },\r\n\r\n            getHoverStart(item, {hoverRange, valueRange}: PanelItemParam): boolean {\r\n                if (!!firstDatePanel.value && !!firstDatePanel.value!.getChildHoverStart) {\r\n                    return firstDatePanel.value!.getChildHoverStart(item, DateView.year)\r\n                }\r\n                return !!hoverRange ? (hoverRange[0].year == item) : valueRange[0].year == item\r\n            },\r\n            getHover(item, {hoverRange, valueRange}: PanelItemParam): boolean {\r\n                if (!!firstDatePanel.value && !!firstDatePanel.value!.getChildHover) {\r\n                    return firstDatePanel.value!.getChildHover(item, DateView.year)\r\n                }\r\n                return !!hoverRange ? (hoverRange[0].year! < item && hoverRange[1].year! > item) : ((!valueRange[0].isNull && !valueRange[1].isNull) && valueRange[0].year! < item && valueRange[1].year! > item)\r\n            },\r\n            getHoverEnd(item, {hoverRange, valueRange}: PanelItemParam): boolean {\r\n                if (!!firstDatePanel.value && !!firstDatePanel.value!.getChildHoverEnd) {\r\n                    return firstDatePanel.value!.getChildHoverEnd(item, DateView.year)\r\n                }\r\n                return !!hoverRange ? (hoverRange[1].year == item) : valueRange[1].year == item\r\n            },\r\n        }\r\n\r\n        const methods = {\r\n            /**\r\n             * 切换上一个年份列表\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 11:17\r\n             */\r\n            prevYearList() {\r\n                state.transitionDirection = SlideTransitionDirection.prev\r\n                state.selectDate.setYear(data.value.selectYear - 20)\r\n                setSelectDate(state.selectDate)\r\n            },\r\n            /**\r\n             *\r\n             * @author  切换下一个年份列表\r\n             * @date    2020/4/15 11:18\r\n             */\r\n            nextYearList() {\r\n                state.transitionDirection = SlideTransitionDirection.next\r\n                state.selectDate.setYear(data.value.selectYear + 20)\r\n                setSelectDate(state.selectDate)\r\n            },\r\n        }\r\n\r\n        const handler = {\r\n            /**\r\n             * 处理点击分年元素动作\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 11:18\r\n             */\r\n            clickItem({ipd}: DateBasePanelItemData) {\r\n\r\n                if (!props.range) {\r\n                    model.value = ipd!.year\r\n                } else {\r\n                    if (!state.hoverRange) {\r\n                        state.hoverRange = [ipd, ipd]\r\n                        state.valueRange = [ipd, ipd]\r\n                    } else {\r\n\r\n                        const [startPd, endPd] = state.hoverRange as [PlainDate, PlainDate]\r\n\r\n                        startModel.value = startPd.year\r\n                        endModel.value = endPd.year\r\n\r\n                        state.hoverRange = null\r\n                        state.valueRange = [startPd, endPd]\r\n\r\n                        emit.input(startModel.value, DateEmitInputType.start)\r\n                        emit.input(endModel.value, DateEmitInputType.end)\r\n                    }\r\n                }\r\n            },\r\n            /**\r\n             * 处理鼠标进入年份元素动作\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 11:18\r\n             */\r\n            onMouseEnterItem({ipd}) {\r\n                if (!!state.hoverRange) {\r\n                    let mid = state.valueRange[0]\r\n                    state.hoverRange = mid.year > ipd.year ? [ipd, mid] : [mid, ipd]\r\n                }\r\n            },\r\n        }\r\n\r\n        return () => (\r\n            <pl-date-base-panel class=\"pl-date-base-panel-year\" direction={props.direction} {...{on: {'mousedown-panel': emit.mousedownPanel}}}>\r\n                <template slot=\"left\">\r\n                    <pl-button icon=\"el-icon-d-arrow-left\" mode=\"text\" size=\"mini\" onClick={methods.prevYearList}/>\r\n                </template>\r\n                <template slot=\"center\">\r\n                    <span class=\"pl-date-base-panel-header-static-label\">{data.value.title}</span>\r\n                </template>\r\n                <template slot=\"right\">\r\n                    <pl-button icon=\"el-icon-d-arrow-right\" mode=\"text\" size=\"mini\" onClick={methods.nextYearList}/>\r\n                </template>\r\n                <template slot=\"content\">\r\n                    <transition name={`pl-transition-slide-${state.transitionDirection}`}>\r\n                        <ul class=\"pl-date-base-panel-year-list\" key={data.value.selectYear} direction=\"vertical\">\r\n                            {data.value.list.map(item => (\r\n                                <pl-date-base-panel-item\r\n                                    class=\"pl-date-base-panel-year-item\"\r\n                                    item={item}\r\n                                    onClick={handler.clickItem}\r\n                                    onMouseenter={handler.onMouseEnterItem}\r\n                                    key={item.year}\r\n                                />\r\n                            ))}\r\n                        </ul>\r\n                    </transition>\r\n                </template>\r\n            </pl-date-base-panel>\r\n        )\r\n    },\r\n})","import {computed, defineComponent, watch} from \"@vue/composition-api\";\r\nimport {DateBasePanelItemData, DateEmitInputType, DatePublicProps, DateView, DefaultFormatString, PanelItemParam, SlideTransitionDirection} from \"@/packages/date/date-utils\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {useDate} from \"@/packages/date/useDate\";\r\nimport {PlainDate} from \"@/util/PlainDate\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-date-base-panel-month',\r\n    props: {\r\n        ...DatePublicProps,\r\n\r\n        displayFormat: {type: String, default: DefaultFormatString.month},\r\n        valueFormat: {type: String, default: DefaultFormatString.month},\r\n        view: {type: String, default: DateView.month},\r\n    },\r\n    setup(props) {\r\n\r\n        const {emit} = useEvent({\r\n            input: (value: string, type: DateEmitInputType) => undefined,\r\n            updateStart: EmitFunc,\r\n            updateEnd: EmitFunc,\r\n            mousedownPanel: EmitFunc,\r\n        })\r\n\r\n        const months = computed(() => ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月',])\r\n\r\n        const {\r\n            state,\r\n            targetPanelItemParam,\r\n            firstDatePanel,\r\n            setSelectDate,\r\n            model,\r\n            startModel,\r\n            endModel,\r\n            viewModel,\r\n            displayFormat,\r\n            valueFormat,\r\n        } = useDate({\r\n            props,\r\n            injectView: DateView.month,\r\n            getProvideData: (panelItemParam) => {\r\n                const {value, hoverRange, valueRange, range} = panelItemParam\r\n                return {\r\n                    year: {\r\n                        range: !!range,\r\n                        value,\r\n                        hoverRange,\r\n                        valueRange,\r\n                    }\r\n                }\r\n            },\r\n            onModelChange(val) {\r\n                // 这个val 是按照displayFormat和valueFormat格式的字符串，不能直接 setSelectYear 赋值\r\n                if (!val) {\r\n                    methods.setSelectYear(state.today.year)\r\n                } else {\r\n                    state.tempPd.setValue(val)\r\n                    methods.setSelectYear(state.tempPd.year)\r\n                }\r\n            },\r\n            onStartChange(val) {\r\n                const startPd = new PlainDate(val, displayFormat.value, valueFormat.value)\r\n                const endPd = new PlainDate(endModel.value, displayFormat.value, valueFormat.value)\r\n\r\n                state.valueRange = [startPd, endPd]\r\n                state.hoverRange = null\r\n\r\n                methods.setSelectYear(startPd.year || state.today.year)\r\n            },\r\n            onEndChange(val) {\r\n                const startPd = new PlainDate(startModel.value, displayFormat.value, valueFormat.value)\r\n                const endPd = new PlainDate(val, displayFormat.value, valueFormat.value)\r\n\r\n                state.valueRange = [startPd, endPd]\r\n                state.hoverRange = null\r\n            },\r\n        })\r\n\r\n        const monthList = computed(() => {\r\n            const {selectDate, today, tempPd} = state\r\n\r\n            const panelItemParam = targetPanelItemParam.value\r\n            const {range} = panelItemParam\r\n\r\n\r\n            let ret: DateBasePanelItemData[] = [];\r\n            [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11].forEach(i => {\r\n\r\n                tempPd.setYear(selectDate.year)\r\n                tempPd.setMonthDate(i, 1)\r\n                const ipd = tempPd.copy()\r\n\r\n                const item = {\r\n                    label: months.value[i],\r\n                    now: today.YM === ipd.YM,\r\n\r\n                    disabled: utils.getDisabled(ipd, panelItemParam),\r\n                    active: utils.getActive(ipd, panelItemParam),\r\n                    hoverStart: false,\r\n                    hoverEnd: false,\r\n                    hover: false,\r\n\r\n                    range,\r\n                    month: i,\r\n                    ipd,\r\n                }\r\n\r\n                if (range || (!!firstDatePanel.value && !!firstDatePanel.value!.props.range)) {\r\n                    item.hoverStart = utils.getHoverStart(ipd, panelItemParam)\r\n                    item.hoverEnd = utils.getHoverEnd(ipd, panelItemParam)\r\n                    item.hover = utils.getHover(ipd, panelItemParam)\r\n                }\r\n\r\n                ret.push(item)\r\n            })\r\n            return ret\r\n        })\r\n\r\n        const yearPanelBinding = computed(() => {\r\n            const {selectDate} = state\r\n            return {\r\n                props: {\r\n                    value: selectDate.year,\r\n                },\r\n                on: {\r\n                    change: handler.onSelectYearChange,\r\n                },\r\n            }\r\n        })\r\n\r\n        const utils = {\r\n            /**\r\n             * 检查需要禁用的月份\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 11:13\r\n             */\r\n            getDisabled(ipd: PlainDate, {max, min}: PanelItemParam): boolean {\r\n                if (!!firstDatePanel.value && !!firstDatePanel.value!.getChildDisabled) {\r\n                    return firstDatePanel.value!.getChildDisabled(ipd, DateView.month)\r\n                }\r\n                if (!!max && !max.isNull && max.YM! < ipd.YM!) return true\r\n                if (!!min && !min.isNull && min.YM! > ipd.YM!) return true\r\n                return false\r\n            },\r\n            /**\r\n             * 检查当前需要激活的月份\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 11:13\r\n             */\r\n            getActive(ipd: PlainDate, {range, value, valueRange: [start, end]}: PanelItemParam): boolean {\r\n                if (!!firstDatePanel.value && !!firstDatePanel.value!.getChildActive) {\r\n                    return firstDatePanel.value!.getChildActive(ipd, DateView.month)\r\n                }\r\n                if (!range) {\r\n                    if (!Array.isArray(value)) {\r\n                        value = [value] as PlainDate[]\r\n                    }\r\n                    return value.some(iv => (!iv.isNull && iv.YM === ipd.YM))\r\n                } else {\r\n                    return ((!start.isNull && start.YM === ipd.YM) || (!end.isNull && end.YM === ipd.YM))\r\n                }\r\n            },\r\n            getHoverStart(ipd: PlainDate, {hoverRange, valueRange: [start]}: PanelItemParam): boolean {\r\n                if (!!firstDatePanel.value && !!firstDatePanel.value!.getChildHoverStart) {\r\n                    return firstDatePanel.value!.getChildHoverStart(ipd, DateView.month)\r\n                }\r\n                return !!hoverRange ? hoverRange[0].YM === ipd.YM : (!start.isNull && start.YM === ipd.YM)\r\n            },\r\n            getHover(ipd: PlainDate, {hoverRange, valueRange: [start, end]}: PanelItemParam): boolean {\r\n                if (!!firstDatePanel.value && !!firstDatePanel.value!.getChildHover) {\r\n                    return firstDatePanel.value!.getChildHover(ipd, DateView.month)\r\n                }\r\n                return !!hoverRange ? hoverRange[0].YM! < ipd.YM! && hoverRange[1].YM! > ipd.YM! :\r\n                    (!start.isNull && !end.isNull) && (start.YM! < ipd.YM! && end.YM! > ipd.YM!)\r\n            },\r\n            getHoverEnd(ipd: PlainDate, {hoverRange, valueRange: [, end]}: PanelItemParam): boolean {\r\n                if (!!firstDatePanel.value && !!firstDatePanel.value!.getChildHoverEnd) {\r\n                    return firstDatePanel.value!.getChildHoverEnd(ipd, DateView.month)\r\n                }\r\n                return !!hoverRange ? hoverRange[1].YM === ipd.YM : (!end.isNull && end.YM === ipd.YM)\r\n            },\r\n        }\r\n\r\n        const methods = {\r\n            /**\r\n             * 设置当前选择的年份\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 11:12\r\n             */\r\n            setSelectYear(target: number) {\r\n                if (!target) {\r\n                    target = state.today.year\r\n                }\r\n                state.transitionDirection = state.selectDate.year > target ? SlideTransitionDirection.prev : SlideTransitionDirection.next\r\n                state.selectDate.setYear(target)\r\n                setSelectDate(state.selectDate)\r\n            },\r\n            /**\r\n             * 切换到上一年\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 11:12\r\n             */\r\n            prevYear() {\r\n                state.transitionDirection = SlideTransitionDirection.prev\r\n                state.selectDate.setYear(state.selectDate.year - 1)\r\n                setSelectDate(state.selectDate)\r\n            },\r\n            /**\r\n             * 切换到下一年\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 11:12\r\n             */\r\n            nextYear() {\r\n                state.transitionDirection = SlideTransitionDirection.next\r\n                state.selectDate.setYear(state.selectDate.year + 1)\r\n                setSelectDate(state.selectDate)\r\n            },\r\n        }\r\n\r\n        const handler = {\r\n            /**\r\n             * 处理点击月份元素的动作\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 11:13\r\n             */\r\n            onClickItem(item: DateBasePanelItemData) {\r\n\r\n                const temp = state.selectDate.copy()\r\n                temp.setMonthDate(item.month, 1)\r\n\r\n                if (!props.range) {\r\n                    model.value = temp.valueString\r\n                } else {\r\n\r\n                    if (!state.hoverRange) {\r\n\r\n                        temp.setMonthDate(item.month, 1)\r\n                        state.hoverRange = [temp, temp]\r\n                        state.valueRange = [temp, temp]\r\n\r\n                    } else {\r\n                        const [startPd, endPd] = state.hoverRange\r\n\r\n                        startModel.value = startPd.valueString\r\n                        endModel.value = endPd.valueString\r\n\r\n                        state.hoverRange = null\r\n                        state.valueRange = [startPd, endPd]\r\n\r\n                        emit.input(startModel.value, DateEmitInputType.start)\r\n                        emit.input(endModel.value, DateEmitInputType.end)\r\n                    }\r\n                }\r\n            },\r\n            /**\r\n             * 处理鼠标进入月份元素的动作\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 11:13\r\n             */\r\n            onMouseEnterItem(item) {\r\n                if (!!state.hoverRange) {\r\n                    let midPd = state.valueRange[0]\r\n                    const temp = state.selectDate.copy()\r\n                    temp.setMonthDate(item.month, 1)\r\n                    state.hoverRange = midPd.YM > temp.YM ? [temp, midPd] : [midPd, temp]\r\n                }\r\n            },\r\n            /**\r\n             * 处理年份面板选择年份变化动作\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 11:14\r\n             */\r\n            onSelectYearChange(val) {\r\n                viewModel.value = DateView.month\r\n                state.selectDate.setYear(val)\r\n                setSelectDate(state.selectDate)\r\n            },\r\n        }\r\n\r\n        return () => (\r\n            <div class=\"pl-date-base-panel-month-wrapper pl-date-base-panel\" direction={props.direction} onMousedown={emit.mousedownPanel}>\r\n                <transition name={`pl-transition-slide-${viewModel.value === DateView.year ? 'prev' : 'next'}`}>\r\n                    {viewModel.value === DateView.month ? (\r\n                        <pl-date-base-panel class=\"pl-date-base-panel-month\" direction=\"horizontal\">\r\n                            <template slot=\"left\">\r\n                                <pl-button icon=\"el-icon-d-arrow-left\" mode=\"text\" size=\"mini\" onClick={methods.prevYear}/>\r\n                            </template>\r\n                            <template slot=\"center\">\r\n                                <span onClick={() => viewModel.value = DateView.year}>{state.selectDate.year}</span>\r\n                            </template>\r\n                            <template slot=\"right\">\r\n                                <pl-button icon=\"el-icon-d-arrow-right\" mode=\"text\" size=\"mini\" onClick={methods.nextYear}/>\r\n                            </template>\r\n                            <template slot=\"content\">\r\n                                <transition name={`pl-transition-slide-${state.transitionDirection}`}>\r\n                                    <ul class=\"pl-date-base-panel-month-list\" key={state.selectDate.year} direction=\"vertical\">\r\n                                        {monthList.value.map(item => (\r\n                                            <pl-date-base-panel-item\r\n                                                class=\"pl-date-base-panel-month-item\"\r\n                                                item={item}\r\n                                                onClick={handler.onClickItem}\r\n                                                onMouseenter={handler.onMouseEnterItem}\r\n                                                key={item.month}\r\n                                            />\r\n                                        ))}\r\n                                    </ul>\r\n                                </transition>\r\n                            </template>\r\n                        </pl-date-base-panel>\r\n                    ) : (\r\n                        <pl-date-base-panel-year {...yearPanelBinding.value} direction=\"horizontal\"/>\r\n                    )}\r\n                </transition>\r\n            </div>\r\n        )\r\n    },\r\n})","import {computed, defineComponent, watch} from \"@vue/composition-api\";\r\nimport {DateBasePanelItemData, DatePublicProps, DateView, DateViewSeq, PanelItemParam} from \"@/packages/date/date-utils\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {PlainDate} from \"@/util/PlainDate\";\r\nimport {useDate} from \"@/packages/date/useDate\";\r\nimport {$plain} from \"@/packages/base\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-date-base-panel-date',\r\n    props: {\r\n        ...DatePublicProps,\r\n\r\n        dateListBinding: {type: Object},\r\n        view: {type: String, default: DateView.date},\r\n    },\r\n    setup(props) {\r\n\r\n        const {emit} = useEvent({\r\n            input: (value: string, vpd: PlainDate) => undefined,\r\n            clickItem: EmitFunc,\r\n            selectTime: EmitFunc,\r\n            mouseenterItem: EmitFunc,\r\n            selectDateChange: EmitFunc,\r\n            mousedownPanel: EmitFunc,\r\n        })\r\n\r\n        const {\r\n            state,\r\n            targetPanelItemParam,\r\n            panelItemParam,\r\n            firstDatePanel,\r\n            model,\r\n            viewModel,\r\n            displayFormat,\r\n            valueFormat,\r\n        } = useDate({\r\n            props,\r\n            injectView: DateView.date,\r\n\r\n            modelAutoEmit: false,\r\n            startModelAutoEmit: false,\r\n            endModelAutoEmit: false,\r\n\r\n            getProvideData(panelItemParam) {\r\n                const {value, hoverRange, valueRange} = panelItemParam\r\n                return {\r\n                    year: {\r\n                        range: false,\r\n                        value,\r\n                        hoverRange,\r\n                        valueRange,\r\n                    },\r\n                    month: {\r\n                        range: false,\r\n                        value,\r\n                        hoverRange,\r\n                        valueRange,\r\n                    },\r\n                }\r\n            },\r\n\r\n            onModelChange(val) {\r\n                model.value = val\r\n                if (!props.selectDate) {\r\n                    utils.setSelectDate(val, false)\r\n                }\r\n            },\r\n        })\r\n\r\n        /*---------------------------------------computer-------------------------------------------*/\r\n\r\n        const weekList = computed(() => {\r\n            const weeks = ['日', '一', '二', '三', '四', '五', '六']\r\n            return weeks.slice(props.firstWeekDay).concat(weeks.slice(0, props.firstWeekDay))\r\n        })\r\n\r\n        const dateList = computed(() => {\r\n            const {today, selectDate, tempPd} = state\r\n\r\n            tempPd.setYear(selectDate.year)\r\n            tempPd.setMonthDate(selectDate.month, 1)\r\n\r\n            const currentMonthFirstDate = tempPd.copy()\r\n\r\n            let weekDayDuration = currentMonthFirstDate.day - props.firstWeekDay\r\n            let offsetDay = weekDayDuration === 0 ? 7 : weekDayDuration > 0 ? weekDayDuration : 7 + weekDayDuration\r\n\r\n            let firstDateTime = new Date(currentMonthFirstDate.time - (offsetDay) * 24 * 60 * 60 * 1000).getTime()\r\n\r\n            const panelItemParam = targetPanelItemParam.value\r\n            const {range} = panelItemParam\r\n\r\n            let list: DateBasePanelItemData[] = []\r\n            for (let i = 0; i < 42; i++) {\r\n\r\n                const ipd = tempPd.copy()\r\n                ipd.setTime(firstDateTime)\r\n\r\n                let item = {\r\n                    label: ipd.date,\r\n                    now: today.YMD === ipd.YMD,\r\n                    disabled: utils.getDisabled(ipd, panelItemParam),\r\n                    active: utils.getActive(ipd, panelItemParam),\r\n\r\n                    hover: false,\r\n                    hoverStart: false,\r\n                    hoverEnd: false,\r\n\r\n                    range,\r\n                    ipd,\r\n                    isSelectMonth: ipd.YM === selectDate.YM,\r\n                }\r\n\r\n                if (range) {\r\n                    item.hoverStart = utils.getHoverStart(ipd, panelItemParam)\r\n                    item.hover = utils.getHover(ipd, panelItemParam)\r\n                    item.hoverEnd = utils.getHoverEnd(ipd, panelItemParam)\r\n                }\r\n\r\n                list.push(item)\r\n                firstDateTime += 24 * 60 * 60 * 1000\r\n            }\r\n            return list\r\n        })\r\n\r\n        const defaultTimePd = computed(() => {\r\n            return new PlainDate(props.defaultTime || '12:00:00', 'HH:mm:ss', 'HH:mm:ss')\r\n        })\r\n\r\n        const monthPanelBinding = computed(() => {\r\n            const {selectDate} = state\r\n            return {\r\n                props: {\r\n                    value: selectDate.valueString,\r\n                    displayFormat: displayFormat.value,\r\n                    valueFormat: valueFormat.value,\r\n                    view: viewModel.value,\r\n                },\r\n                on: {\r\n                    change: handler.onSelectMonthChange,\r\n                },\r\n            }\r\n        })\r\n\r\n        const timePanelBinding = computed(() => {\r\n            const {value, max, min} = panelItemParam.value\r\n\r\n            const defaultTime = defaultTimePd.value\r\n\r\n            const timePd = value.isNull ? defaultTime : value\r\n            const timeString = defaultTime.format(timePd.dateObject)\r\n\r\n            const props = {\r\n                value: timeString,\r\n                displayFormat: 'HH:mm:ss',\r\n                valueFormat: 'HH:mm:ss',\r\n                max: undefined as undefined | string | null,\r\n                min: undefined as undefined | string | null,\r\n            }\r\n\r\n            /*限制最大最小值*/\r\n            if (!max.isNull && !value.isNull) {\r\n                if (max.YMD <= value.YMD) {\r\n                    let tempDefaultTime = defaultTime.copy()\r\n                    tempDefaultTime.setHms(max)\r\n                    props.max = tempDefaultTime.valueString\r\n                }\r\n            }\r\n\r\n            if (!min.isNull && !value.isNull) {\r\n                if (min.YMD >= value.YMD) {\r\n                    let tempDefaultTime = defaultTime.copy()\r\n                    tempDefaultTime.setHms(min)\r\n                    props.min = tempDefaultTime.valueString\r\n                }\r\n            }\r\n\r\n            return {\r\n                props,\r\n                on: {\r\n                    change: (val) => {\r\n                        handler.onSelectTime(val)\r\n                    },\r\n                },\r\n            }\r\n        })\r\n\r\n        const showTimePd = computed(() => {\r\n            const value = panelItemParam.value.value as PlainDate\r\n            return value.isNull ? state.selectDate : value\r\n        })\r\n\r\n        /*---------------------------------------utils-------------------------------------------*/\r\n\r\n        const utils = {\r\n            /**\r\n             * 设置当前面板的年月\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 10:57\r\n             */\r\n            setSelectDate(val: string | PlainDate | undefined, emitEvent: boolean = true) {\r\n                if (typeof val === 'string') {\r\n                    val = (!!val ? new PlainDate(val, displayFormat.value, valueFormat.value) : state.today)\r\n                }\r\n                state.selectDate = val || state.today\r\n                if (emitEvent) {\r\n                    emit.selectDateChange(state.selectDate)\r\n                }\r\n            },\r\n            /**\r\n             * 派发值变化事件，先校验值是否大于最大值，小于最小值，是则取最大值（最小值）\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 10:58\r\n             */\r\n            emitValue(valueString) {\r\n                const {max, min} = panelItemParam.value\r\n\r\n                let vpd = new PlainDate(valueString, displayFormat.value, valueFormat.value)\r\n                if (!max.isNull && (!!props.datetime ? (vpd.YMDHms! > max.YMDHms) : (vpd.YMD! > max.YMD))) {\r\n                    vpd = max\r\n                } else if (!min.isNull && (!!props.datetime ? (vpd.YMDHms! < min.YMDHms) : (vpd.YMD! < min.YMD))) {\r\n                    vpd = min\r\n                }\r\n\r\n                model.value = vpd.valueString\r\n                emit.input(model.value, vpd)\r\n            },\r\n\r\n            /**\r\n             * 判断日期是否禁用\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 10:57\r\n             */\r\n            getDisabled(ipd: PlainDate, {max, min}: PanelItemParam): boolean {\r\n                if (!!firstDatePanel.value && !!firstDatePanel.value!.getChildDisabled) {\r\n                    return firstDatePanel.value.getChildDisabled(ipd, DateView.date)\r\n                }\r\n                if (!!max && !max.isNull && max.YMD! < ipd.YMD!) return true\r\n                if (!!min && !min.isNull && min.YMD! > ipd.YMD!) return true\r\n                return false\r\n            },\r\n            getActive(ipd: PlainDate, {range, value, valueRange: [start, end]}: PanelItemParam): boolean {\r\n                if (!!firstDatePanel.value && !!firstDatePanel.value!.getChildActive) {\r\n                    return firstDatePanel.value!.getChildActive(ipd, DateView.date)\r\n                }\r\n                if (!range) {\r\n                    if (!Array.isArray(value)) {\r\n                        value = [value] as PlainDate[]\r\n                    }\r\n                    return value.some(iv => (!iv.isNull && iv.YMD === ipd.YMD))\r\n                } else {\r\n                    return ((!start.isNull && start.YMD === ipd.YMD) || (!end.isNull && end.YMD === ipd.YMD))\r\n                }\r\n            },\r\n            getHoverStart(ipd: PlainDate, {hoverRange, valueRange: [start]}: PanelItemParam): boolean {\r\n                if (!!firstDatePanel.value && !!firstDatePanel.value!.getChildHoverStart) {\r\n                    return firstDatePanel.value!.getChildHoverStart(ipd, DateView.date)\r\n                }\r\n                return !!hoverRange ? hoverRange[0].YMD === ipd.YMD : (!start.isNull && start.YMD === ipd.YMD)\r\n            },\r\n            getHover(ipd: PlainDate, {hoverRange, valueRange: [start, end]}: PanelItemParam): boolean {\r\n                if (!!firstDatePanel.value && !!firstDatePanel.value!.getChildHover) {\r\n                    return firstDatePanel.value!.getChildHover(ipd, DateView.date)\r\n                }\r\n                return !!hoverRange ? hoverRange[0].YMD! < ipd.YMD! && hoverRange[1].YMD! > ipd.YMD! :\r\n                    (!start.isNull && !end.isNull) && (start.YMD! < ipd.YMD! && end.YMD! > ipd.YMD!)\r\n            },\r\n            getHoverEnd(ipd: PlainDate, {hoverRange, valueRange: [, end]}: PanelItemParam): boolean {\r\n                if (!!firstDatePanel.value && !!firstDatePanel.value.getChildHoverEnd) {\r\n                    return firstDatePanel.value.getChildHoverEnd(ipd, DateView.date)\r\n                }\r\n                return !!hoverRange ? hoverRange[1].YMD === ipd.YMD : (!end.isNull && end.YMD === ipd.YMD)\r\n            },\r\n        }\r\n\r\n        const methods = {\r\n            /**\r\n             * 面板切换到上一年\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 10:56\r\n             */\r\n            prevYear() {\r\n                state.selectDate.setYear(state.selectDate.year - 1)\r\n                utils.setSelectDate(state.selectDate.copy())\r\n            },\r\n            /**\r\n             * 面板切换到下一年\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 10:56\r\n             */\r\n            nextYear() {\r\n                state.selectDate.setYear(state.selectDate.year + 1)\r\n                utils.setSelectDate(state.selectDate.copy())\r\n            },\r\n            /**\r\n             * 面板切换到上一个月份\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 10:56\r\n             */\r\n            prevMonth() {\r\n                state.selectDate.setMonthDate(state.selectDate.month - 1, 1)\r\n                utils.setSelectDate(state.selectDate.copy())\r\n            },\r\n            /**\r\n             * 面板切换到下一个月份\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 10:56\r\n             */\r\n            nextMonth() {\r\n                state.selectDate.setMonthDate(state.selectDate.month + 1, 1)\r\n                utils.setSelectDate(state.selectDate.copy())\r\n            },\r\n            /**\r\n             * 切换视图，确定动画方向\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 10:57\r\n             */\r\n            changeView(view: DateView) {\r\n                if (view === viewModel.value) return\r\n                const oldSeq = DateViewSeq[viewModel.value]\r\n                const newSeq = DateViewSeq[view]\r\n                state.transitionDirection = newSeq > oldSeq ? 'next' : 'prev'\r\n                viewModel.value = view\r\n            },\r\n        }\r\n\r\n        const handler = {\r\n            /**\r\n             * 点击日期元素处理动作\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 10:58\r\n             */\r\n            onClickItem({ipd}: DateBasePanelItemData) {\r\n                const {value} = panelItemParam.value\r\n                const defaultTime = defaultTimePd.value\r\n\r\n                if (!value.isNull) {\r\n                    ipd!.setHms(value)\r\n                } else {\r\n                    ipd!.setHms(defaultTime)\r\n                }\r\n\r\n                emit.clickItem(ipd)\r\n                utils.emitValue(ipd!.valueString)\r\n            },\r\n            /**\r\n             * 处理选择时间处理动作\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 10:58\r\n             */\r\n            onSelectTime(val) {\r\n                const {selectDate} = state\r\n                const {value} = panelItemParam.value\r\n                const defaultTime = defaultTimePd.value\r\n\r\n                const tempPd = defaultTime.copy()\r\n                tempPd.setValue(val)\r\n\r\n                if (value.isNull) {\r\n                    value.setYear(selectDate.year)\r\n                    value.setMonthDate(selectDate.month, selectDate.date)\r\n                }\r\n\r\n                value.setHms(tempPd)\r\n\r\n                utils.emitValue(value.valueString)\r\n                emit.selectTime(val)\r\n            },\r\n            /**\r\n             * 月份选择面板的值发生变化之后，改变视图\r\n             * @author  韦胜健\r\n             * @date    2020/4/15 10:59\r\n             */\r\n            onSelectMonthChange(val) {\r\n                state.selectDate.setValue(val)\r\n                utils.setSelectDate(state.selectDate.copy())\r\n                methods.changeView(DateView.date)\r\n            },\r\n        }\r\n\r\n        watch(() => props.selectDate, (val) => {\r\n            state.selectDate = val || state.today\r\n        })\r\n\r\n        return () => (\r\n            <div class=\"pl-date-base-panel-date-wrapper pl-date-base-panel\" onMousedown={emit.mousedownPanel}>\r\n                <transition name={`pl-transition-slide-${state.transitionDirection}`}>\r\n                    {{\r\n                        date: (\r\n                            <pl-date-base-panel class=\"pl-date-base-panel-date\" direction=\"horizontal\" key=\"date\">\r\n                                <template slot=\"left\">\r\n                                    <pl-button icon=\"el-icon-d-arrow-left\" mode=\"text\" size=\"mini\" onClick={methods.prevYear}/>\r\n                                    <pl-button icon=\"el-icon-arrow-left\" mode=\"text\" size=\"mini\" onClick={methods.prevMonth}/>\r\n                                </template>\r\n                                <template slot=\"center\">\r\n                                    <span onclick={() => methods.changeView(DateView.year)}>{state.selectDate.year}</span>\r\n                                    -\r\n                                    <span onclick={() => methods.changeView(DateView.month)}>{$plain.utils.zeroize(state.selectDate.month + 1)}</span>\r\n                                    {!!props.datetime && (\r\n                                        <span class=\"pl-date-base-panel-date-time-label\" onclick={() => methods.changeView(DateView.time)}>\r\n                                            {timePanelBinding.value.props.value}\r\n                                        </span>\r\n                                    )}\r\n                                </template>\r\n                                <template slot=\"right\">\r\n                                    <pl-button icon=\"el-icon-arrow-right\" mode=\"text\" size=\"mini\" onClick={methods.nextMonth}/>\r\n                                    <pl-button icon=\"el-icon-d-arrow-right\" mode=\"text\" size=\"mini\" onClick={methods.nextYear}/>\r\n                                </template>\r\n\r\n                                <template slot=\"content\">\r\n                                    <ul class=\"pl-date-base-panel-date-week-list\">\r\n                                        {weekList.value.map(item => (\r\n                                            <pl-date-base-panel-item key={item} class=\"pl-date-base-panel-date-week-item\" item={{label: item,}}/>\r\n                                        ))}\r\n                                    </ul>\r\n                                    <pl-list class=\"pl-date-base-panel-date-list\" tag=\"ul\" {...(props.dateListBinding || {})}>\r\n                                        {dateList.value.map((item: DateBasePanelItemData, index) => (\r\n                                            <pl-date-base-panel-item\r\n                                                component=\"pl-item\"\r\n                                                componentProps={{tag: 'li'}}\r\n                                                class={[\r\n                                                    'pl-date-base-panel-date-item',\r\n                                                    {\r\n                                                        'pl-date-base-panel-date-item-other-month': !item.isSelectMonth,\r\n                                                    }\r\n                                                ]}\r\n                                                item={item}\r\n                                                nativeListener\r\n                                                onClick={handler.onClickItem}\r\n                                                onMouseenter={emit.mouseenterItem}\r\n                                                key={item.isSelectMonth ? item.ipd!.date : `_${index}`}\r\n                                            />\r\n                                        ))}\r\n                                    </pl-list>\r\n                                </template>\r\n                            </pl-date-base-panel>\r\n                        ),\r\n                        month: (\r\n                            <pl-date-base-panel-month {...monthPanelBinding.value} direction=\"horizontal\" key={viewModel.value}/>\r\n                        ),\r\n                        time: (\r\n                            <pl-date-base-panel class=\"pl-date-base-panel-time\" direction=\"horizontal\" key=\"time\">\r\n                                <template slot=\"center\">\r\n                                    <span onclick={() => methods.changeView(DateView.date)}>\r\n                                        {showTimePd.value.year}\r\n                                        -\r\n                                        {$plain.utils.zeroize(showTimePd.value.month + 1)}\r\n                                        -\r\n                                        {$plain.utils.zeroize(showTimePd.value.date)}\r\n                                    </span>\r\n                                </template>\r\n                                <template slot=\"content\">\r\n                                    <pl-time-panel {...timePanelBinding.value}/>\r\n                                </template>\r\n                            </pl-date-base-panel>\r\n                        )\r\n                    }[viewModel.value === 'year' ? 'month' : viewModel.value]}\r\n                </transition>\r\n            </div>\r\n        )\r\n    }\r\n})","import {computed, defineComponent, watch} from \"@vue/composition-api\";\r\nimport {DateBasePanelItemData, DateEmitInputType, DatePublicProps, DateView} from \"@/packages/date/date-utils\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {useDate} from \"@/packages/date/useDate\";\r\nimport {PlainDate} from \"@/util/PlainDate\";\r\nimport {$plain} from \"@/packages/base\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-date-panel-date-range',\r\n    props: {\r\n        ...DatePublicProps,\r\n\r\n        range: {type: Boolean, default: true},\r\n        view: {type: String, default: DateView.date}\r\n    },\r\n    setup(props) {\r\n\r\n        const {emit} = useEvent({\r\n            input: (value: string, type: DateEmitInputType) => undefined,\r\n            updateStart: EmitFunc,\r\n            updateEnd: EmitFunc,\r\n            mousedownPanel: (e: MouseEvent, type: DateEmitInputType) => undefined,\r\n        })\r\n\r\n        const {\r\n            state,\r\n            panelItemParam,\r\n            startModel,\r\n            endModel,\r\n            displayFormat,\r\n            valueFormat,\r\n        } = useDate({\r\n            props,\r\n            injectView: DateView.date,\r\n            getProvideData: (panelItemParam) => {\r\n                const {value, hoverRange, valueRange, max, min} = panelItemParam\r\n                return {\r\n                    year: {\r\n                        range: true,\r\n                        value,\r\n                        hoverRange,\r\n                        valueRange,\r\n                    },\r\n                    month: {\r\n                        range: true,\r\n                        value,\r\n                        hoverRange,\r\n                        valueRange,\r\n                    },\r\n                    date: {\r\n                        range: true,\r\n                        value,\r\n                        hoverRange,\r\n                        valueRange,\r\n                        max,\r\n                        min,\r\n                    },\r\n                }\r\n            },\r\n\r\n            modelAutoEmit: false,\r\n            startModelAutoEmit: false,\r\n            endModelAutoEmit: false,\r\n\r\n            onStartChange(val) {\r\n                state.valueRange = [new PlainDate(val, displayFormat.value, valueFormat.value), new PlainDate(endModel.value, displayFormat.value, valueFormat.value)]\r\n                state.hoverRange = null\r\n                const startPd = new PlainDate(val, displayFormat.value, valueFormat.value)\r\n                state.selectDate = startPd.isNull ? state.today : startPd.copy()\r\n            },\r\n            onEndChange(val) {\r\n                state.valueRange = [new PlainDate(startModel.value, displayFormat.value, valueFormat.value), new PlainDate(val, displayFormat.value, valueFormat.value)]\r\n                state.hoverRange = null\r\n            },\r\n        })\r\n\r\n        const formatData = computed(() => {\r\n\r\n            const start = startModel.value\r\n            const end = endModel.value\r\n            let defaultTimeString = props.defaultTime\r\n\r\n            const startDate = new PlainDate(start, displayFormat.value, valueFormat.value)\r\n            const endDate = new PlainDate(end, displayFormat.value, valueFormat.value)\r\n\r\n            if (!defaultTimeString) defaultTimeString = '12:00:00'\r\n            let defaultTime = new PlainDate(defaultTimeString, 'HH:mm:ss', 'HH:mm:ss')\r\n\r\n            const startTime = defaultTime.copy()\r\n            if (!startDate.isNull) {\r\n                startTime.setHms(startDate)\r\n            }\r\n\r\n            const endTime = defaultTime.copy()\r\n            if (!endDate.isNull) {\r\n                endTime.setHms(endDate)\r\n            }\r\n\r\n            return {\r\n                defaultTime,\r\n                startDate,\r\n                endDate,\r\n                startTime,\r\n                endTime,\r\n            }\r\n\r\n        })\r\n\r\n        const binding = computed(() => {\r\n            const selectDate = state.selectDate.copy()\r\n\r\n            const publicProps = Object.keys(DatePublicProps).reduce((ret, key) => {\r\n                ret[key] = props[key]\r\n                return ret\r\n            }, {})\r\n\r\n            Object.assign(publicProps, {\r\n                displayFormat: displayFormat.value,\r\n                valueFormat: valueFormat.value,\r\n                range: true\r\n            })\r\n\r\n            const start = {\r\n                props: {\r\n                    ...publicProps,\r\n                    selectDate: selectDate,\r\n                    value: startModel.value,\r\n                },\r\n                on: {\r\n                    'select-date-change': (val: PlainDate) => {\r\n                        state.selectDate = val\r\n                    },\r\n                    'mouseenter-item': handler.onMouseenterItem,\r\n                    'click-item': (item) => handler.onClickItem(item),\r\n                    'select-time': (val) => handler.onSelectTime(val, DateEmitInputType.start)\r\n                },\r\n            }\r\n\r\n            const endSelectDate = selectDate.copy()\r\n            endSelectDate.setMonthDate(endSelectDate.month + 1, 1)\r\n\r\n            const end = {\r\n                props: {\r\n                    ...publicProps,\r\n                    selectDate: endSelectDate,\r\n                    value: endModel.value,\r\n                },\r\n                on: {\r\n                    'select-date-change': (val: PlainDate) => {\r\n                        val.setMonthDate(val.month! - 1, 1)\r\n                        state.selectDate = val.copy()\r\n                    },\r\n                    'mouseenter-item': handler.onMouseenterItem,\r\n                    'click-item': (item) => handler.onClickItem(item,),\r\n                    'select-time': (val) => handler.onSelectTime(val, DateEmitInputType.end)\r\n                },\r\n            }\r\n\r\n            return {\r\n                start,\r\n                end\r\n            }\r\n        })\r\n\r\n        const utils = {\r\n            emitValue(startPd: PlainDate, endPd: PlainDate) {\r\n\r\n                const {max, min} = panelItemParam.value\r\n\r\n                if (!max.isNull && (props.datetime ? max.YMDHms < startPd.YMDHms! : max.YMD < startPd.YMD!)) {\r\n                    startPd = max\r\n                } else if (!min.isNull && (props.datetime ? min.YMDHms > startPd.YMDHms! : min.YMD > startPd.YMD!)) {\r\n                    startPd = min\r\n                }\r\n\r\n                if (!max.isNull && (props.datetime ? max.YMDHms < endPd.YMDHms! : max.YMD < endPd.YMD!)) {\r\n                    endPd = max\r\n                } else if (!min.isNull && (props.datetime ? min.YMDHms > endPd.YMDHms! : min.YMD > endPd.YMD!)) {\r\n                    endPd = min\r\n                }\r\n\r\n                startModel.value = startPd.valueString\r\n                endModel.value = endPd.valueString\r\n\r\n                state.hoverRange = null\r\n                state.valueRange = [startPd, endPd]\r\n\r\n                emit.updateStart(startModel.value)\r\n                emit.input(startModel.value, DateEmitInputType.start)\r\n                emit.updateEnd(endModel.value)\r\n                emit.input(endModel.value, DateEmitInputType.end)\r\n            },\r\n        }\r\n\r\n        const handler = {\r\n            async onClickItem(ipd: PlainDate) {\r\n                await $plain.nextTick()\r\n                const {startTime, endTime} = formatData.value\r\n                const {hoverRange} = state\r\n\r\n                if (!hoverRange) {\r\n                    ipd = ipd.copy()\r\n                    state.hoverRange = [ipd, ipd]\r\n                    state.valueRange = [ipd, ipd]\r\n                } else {\r\n                    let [startPd, endPd] = hoverRange\r\n                    startPd = startPd.copy()\r\n                    endPd = endPd.copy()\r\n\r\n                    startPd.setHms(startTime)\r\n                    endPd.setHms(endTime)\r\n\r\n                    if ((props.datetime ? startPd.YMDHms > endPd.YMDHms : startPd.YMD > endPd.YMD)) {\r\n                        endPd = startPd\r\n                    }\r\n\r\n                    utils.emitValue(startPd, endPd)\r\n                }\r\n            },\r\n            onMouseenterItem({ipd}: DateBasePanelItemData) {\r\n                if (!!state.hoverRange) {\r\n                    let midPd = state.valueRange[0] as PlainDate\r\n                    ipd = ipd!.copy()\r\n                    state.hoverRange = midPd.YMD! > ipd.YMD! ? [ipd, midPd] : [midPd, ipd]\r\n                }\r\n            },\r\n            async onSelectTime(val: string, type: 'start' | 'end') {\r\n                await $plain.nextTick()\r\n\r\n                let {selectDate} = state\r\n                let {startDate, endDate, defaultTime} = formatData.value\r\n                defaultTime = defaultTime.copy()\r\n                defaultTime.setValue(val)\r\n\r\n                if (type === 'start') {\r\n                    if (startDate.isNull) {\r\n                        startDate.setYMD(selectDate)\r\n                    }\r\n                    startDate.setHms(defaultTime)\r\n                    if (endDate.isNull) {\r\n                        endDate = startDate.copy()\r\n                    } else {\r\n                        if ((props.datetime ? startDate.YMDHms! > endDate.YMDHms! : startDate.YMD! > endDate.YMD!)) {\r\n                            endDate = startDate.copy()\r\n                        }\r\n                    }\r\n                } else if (type === 'end') {\r\n                    if (endDate.isNull) {\r\n                        endDate.setYMD(selectDate)\r\n                    }\r\n                    endDate.setHms(defaultTime)\r\n                    if (startDate.isNull) {\r\n                        startDate = endDate.copy()\r\n                    } else {\r\n                        if ((props.datetime ? startDate.YMDHms! > endDate.YMDHms! : startDate.YMD! > endDate.YMD!)) {\r\n                            startDate = endDate.copy()\r\n                        }\r\n                    }\r\n                }\r\n\r\n                utils.emitValue(startDate, endDate)\r\n            },\r\n        }\r\n\r\n        return () => (\r\n            <div class=\"pl-date-base-panel pl-date-panel-date-range\">\r\n                <pl-date-base-panel-date {...binding.value.start} {...{on: {'mousedown-panel': e => emit.mousedownPanel(e, DateEmitInputType.start)}}}/>\r\n                <pl-date-base-panel-date {...binding.value.end} {...{on: {'mousedown-panel': e => emit.mousedownPanel(e, DateEmitInputType.end)}}}/>\r\n            </div>\r\n        )\r\n    },\r\n})","import {computed, defineComponent, Ref, ref} from \"@vue/composition-api\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {PlainDate} from \"@/util/PlainDate\";\r\nimport {DateBasePanelItemData, DateEmitInputType, DatePublicProps, DateView} from \"@/packages/date/date-utils\";\r\nimport {useDate} from \"@/packages/date/useDate\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-date-panel-week',\r\n    props: {\r\n        ...DatePublicProps,\r\n    },\r\n    setup(props) {\r\n\r\n        const {emit} = useEvent({\r\n            input: (value: string, type?: DateEmitInputType) => undefined,\r\n            updateStart: EmitFunc,\r\n            updateEnd: EmitFunc,\r\n            mousedownPanel: (e: MouseEvent, type: DateEmitInputType) => undefined,\r\n        })\r\n\r\n        const {\r\n            model,\r\n            startModel,\r\n            endModel,\r\n\r\n            displayFormat,\r\n            valueFormat,\r\n\r\n            state,\r\n        }\r\n            =\r\n            useDate({\r\n                props,\r\n                injectView: DateView.date,\r\n                getProvideData(panelItemParam) {\r\n                    const {value, hoverRange, valueRange} = panelItemParam\r\n                    return {\r\n                        year: {\r\n                            range: true,\r\n                            value: value,\r\n                            hoverRange,\r\n                            valueRange,\r\n                        },\r\n                        month: {\r\n                            range: true,\r\n                            value: value,\r\n                            hoverRange,\r\n                            valueRange,\r\n                        },\r\n                        date: {\r\n                            range: true,\r\n                            value: value,\r\n                            hoverRange,\r\n                            valueRange,\r\n                        },\r\n                    }\r\n                },\r\n\r\n                getChildDisabled(ipd: number | PlainDate, type: DateView): boolean {\r\n                    if (type === DateView.date) {\r\n                        ipd = ipd as PlainDate\r\n                        const {max, min} = formatData.value\r\n                        if (!max.isNull) {\r\n                            if (ipd.YMD! > max.YMD!) {\r\n                                return true\r\n                            }\r\n                        }\r\n                        if (!min.isNull) {\r\n                            if (ipd.YMD! < min.YMD!) {\r\n                                return true\r\n                            }\r\n                        }\r\n                    }\r\n                    return false\r\n                },\r\n                getChildActive(ipd: number | PlainDate, type: DateView): boolean {\r\n                    const {value, start, end} = WeekGetData.value\r\n\r\n                    if (type === DateView.year) {\r\n                        ipd = ipd as number\r\n\r\n                        if (!this.props.range) {\r\n                            return !value.pd.isNull && (value.pd.year == ipd)\r\n                        } else {\r\n                            return (!start.pd.isNull && start.pd.year == ipd) || (!end.pd.isNull && end.pd.year == ipd)\r\n                        }\r\n                    } else if (type === DateView.month) {\r\n                        ipd = ipd as PlainDate\r\n                        if (!props.range) {\r\n                            return !value.pd.isNull && (value.pd.YM === ipd.YM)\r\n                        } else {\r\n                            return (!start.pd.isNull && start.pd.YM === ipd.YM) || (!end.pd.isNull && end.pd.YM === ipd.YM)\r\n                        }\r\n                    } else if (type === DateView.date) {\r\n\r\n                        ipd = ipd as PlainDate\r\n                        if (!props.range) {\r\n                            if (!value.pd.isNull) {\r\n                                const {start: startPd, end: endPd} = value.range!\r\n\r\n                                return !startPd.isNull && ((ipd.YMD === startPd.YMD) || (ipd.YMD === endPd.YMD))\r\n                            }\r\n                        } else {\r\n                            if (!start.pd.isNull) {\r\n                                const {start: startPd, end: endPd} = start.range!\r\n                                if (startPd.YMD === ipd.YMD || endPd.YMD === ipd.YMD) {\r\n                                    return true\r\n                                }\r\n                            }\r\n                            if (!end.pd.isNull) {\r\n                                const {start: startPd, end: endPd} = end.range!\r\n                                if (startPd.YMD === ipd.YMD || endPd.YMD === ipd.YMD) {\r\n                                    return true\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    return false\r\n                },\r\n                getChildHoverStart(ipd: number | PlainDate, type: DateView): boolean {\r\n                    const {start} = WeekGetData.value\r\n\r\n                    if (type === DateView.year) {\r\n                        ipd = ipd as number\r\n                        return !!state.hoverRange ? false : (!start.pd.isNull && start.pd.year == ipd)\r\n                    } else if (type === DateView.month) {\r\n                        ipd = ipd as PlainDate\r\n                        return !!state.hoverRange ? false : (!start.pd.isNull && start.pd.YM === ipd.YM)\r\n                    }\r\n                    return false\r\n                },\r\n                getChildHover(ipd: number | PlainDate, type: DateView): boolean {\r\n                    const {value, start, end, hoverStart, hoverEnd, hoverRange} = WeekGetData.value\r\n\r\n                    if (type === DateView.year) {\r\n                        ipd = ipd as number\r\n                        if (!props.range) {\r\n                            return false\r\n                        } else {\r\n                            return !!state.hoverRange ? false : (!start.pd.isNull && start.pd.year <= ipd) && (!end.pd.isNull && end.pd.year >= ipd)\r\n                        }\r\n                    } else if (type === DateView.month) {\r\n                        ipd = ipd as PlainDate\r\n                        if (!props.range) {\r\n                            return false\r\n                        } else {\r\n                            return !!state.hoverRange ? false : (!start.pd.isNull && start.pd.YM <= ipd.YM!) && (!end.pd.isNull && end.pd.YM >= ipd.YM!)\r\n                        }\r\n                    } else if (type === DateView.date) {\r\n                        ipd = ipd as PlainDate\r\n\r\n                        if (!!hoverPd.value) {\r\n                            if (utils.isHover(hoverPd.value!, ipd)) {\r\n                                return true\r\n                            }\r\n                        }\r\n\r\n                        if (!props.range) {\r\n                            if (!value.pd.isNull) {\r\n                                const {start: startPd, end: endPd} = value.range!\r\n                                return startPd.YMD! <= ipd.YMD! && endPd.YMD! >= ipd.YMD!\r\n                            }\r\n                        } else {\r\n                            if (!!hoverRange) {\r\n                                let startPd = hoverStart.range!.start\r\n                                let endPd = hoverEnd.range!.end\r\n                                return startPd.YMD! <= ipd.YMD! && endPd.YMD! >= ipd.YMD!\r\n                            } else {\r\n                                if (!!start.range && !!end.range) {\r\n                                    let startPd = start.range.start\r\n                                    let endPd = end.range.end\r\n                                    return startPd.YMD! <= ipd.YMD! && endPd.YMD! >= ipd.YMD!\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    return false\r\n                },\r\n                getChildHoverEnd(ipd: number | PlainDate, type: DateView): boolean {\r\n                    const {end,} = WeekGetData.value\r\n\r\n                    if (type === DateView.year) {\r\n                        ipd = ipd as number\r\n                        return !!state.hoverRange ? false : (!end.pd.isNull && end.pd.year == ipd)\r\n                    } else if (type === DateView.month) {\r\n                        ipd = ipd as PlainDate\r\n                        return !!state.hoverRange ? false : (!end.pd.isNull && end.pd.YM === ipd.YM)\r\n                    }\r\n                    return false\r\n                },\r\n\r\n                onModelChange(val) {\r\n                    const vpd = new PlainDate(val, displayFormat.value, valueFormat.value)\r\n                    state.selectDate = vpd.isNull ? state.today.copy() : vpd.copy()\r\n                },\r\n                onStartChange(val) {\r\n                    const startPd = new PlainDate(val, displayFormat.value, valueFormat.value)\r\n                    const endPd = new PlainDate(endModel.value, displayFormat.value, valueFormat.value)\r\n                    state.valueRange = [startPd, endPd]\r\n                    state.hoverRange = null\r\n\r\n                    state.selectDate = startPd.isNull ? state.today.copy() : startPd.copy()\r\n                },\r\n                onEndChange(val) {\r\n                    state.valueRange = [new PlainDate(startModel.value, displayFormat.value, valueFormat.value), new PlainDate(val, displayFormat.value, valueFormat.value)]\r\n                    state.hoverRange = null\r\n                },\r\n\r\n            })\r\n\r\n        const hoverPd = ref(null) as Ref<null | PlainDate>\r\n\r\n        const formatData = computed(() => {\r\n            return {\r\n                value: new PlainDate(model.value, displayFormat.value, valueFormat.value),\r\n                start: new PlainDate(startModel.value, displayFormat.value, valueFormat.value),\r\n                end: new PlainDate(endModel.value, displayFormat.value, valueFormat.value),\r\n                max: new PlainDate(props.max, displayFormat.value, valueFormat.value),\r\n                min: new PlainDate(props.min, displayFormat.value, valueFormat.value),\r\n            }\r\n        })\r\n\r\n        const WeekGetData = computed(() => {\r\n            const {value} = formatData.value\r\n            const [start, end] = state.valueRange\r\n            const {hoverRange} = state\r\n            const [hoverStart, hoverEnd] = (hoverRange || []) as [null | PlainDate, null | PlainDate]\r\n\r\n            return {\r\n                value: {\r\n                    pd: value,\r\n                    range: value.isNull ? null : utils.getWeekPdByPlainDate(value),\r\n                },\r\n                start: {\r\n                    pd: start,\r\n                    range: start.isNull ? null : utils.getWeekPdByPlainDate(start),\r\n                },\r\n                end: {\r\n                    pd: end,\r\n                    range: end.isNull ? null : utils.getWeekPdByPlainDate(end),\r\n                },\r\n                hoverStart: {\r\n                    pd: hoverStart,\r\n                    range: !!hoverRange ? utils.getWeekPdByPlainDate(hoverStart!) : null,\r\n                },\r\n                hoverEnd: {\r\n                    pd: hoverEnd,\r\n                    range: !!hoverRange ? utils.getWeekPdByPlainDate(hoverEnd!) : null\r\n                },\r\n                hoverRange,\r\n            }\r\n        })\r\n\r\n        const datePanelBinding = computed(() => {\r\n            return {\r\n                class: 'pl-date-panel-week',\r\n                props: {\r\n                    range: true,\r\n                    displayFormat: displayFormat.value,\r\n                    valueFormat: valueFormat.value,\r\n                    value: startModel.value,\r\n                    selectDate: state.selectDate,\r\n                    firstWeekDay: props.firstWeekDay,\r\n\r\n                    dateListBinding: {\r\n                        nativeOn: {\r\n                            'mouseleave': () => {\r\n                                hoverPd.value = null\r\n                            }\r\n                        },\r\n                    },\r\n                },\r\n                on: {\r\n                    'mouseenter-item': handler.onMouseenterItem,\r\n                    'click-item': handler.onClickItem,\r\n                    'select-date-change': val => {\r\n                        state.selectDate = val\r\n                    }\r\n                },\r\n            }\r\n        })\r\n\r\n        /*---------------------------------------utils-------------------------------------------*/\r\n\r\n        const utils = {\r\n            getWeekPdByPlainDate(pd: PlainDate): { start: PlainDate, end: PlainDate } {\r\n                let day = pd.day!\r\n                let firstWeekDay = props.firstWeekDay\r\n\r\n                const weekDayDuration = day - firstWeekDay\r\n                let offsetDay = weekDayDuration === 0 ? 0 : weekDayDuration > 0 ? weekDayDuration : 7 + weekDayDuration\r\n\r\n                let startPd = pd.copy()\r\n                startPd.setMonthDate(startPd.month!, startPd.date! - offsetDay)\r\n                let endPd = startPd.copy()\r\n                endPd.setMonthDate(endPd.month!, endPd.date! + 6)\r\n                return {\r\n                    start: startPd, end: endPd\r\n                }\r\n            },\r\n            /**\r\n             * ipd是否处于weekPd所在的周范围之内\r\n             * @author  韦胜健\r\n             * @date    2020/4/16 16:07\r\n             */\r\n            isHover(weekPd: PlainDate, ipd: PlainDate) {\r\n                const {start, end} = this.getWeekPdByPlainDate(weekPd)\r\n                return ipd.YMD! >= start.YMD! && ipd.YMD! <= end.YMD!\r\n            },\r\n        }\r\n\r\n        /*---------------------------------------handler-------------------------------------------*/\r\n\r\n        const handler = {\r\n            onClickItem(ipd: PlainDate) {\r\n                const {start} = utils.getWeekPdByPlainDate(ipd)\r\n\r\n                if (!props.range) {\r\n                    model.value = start.valueString\r\n                } else {\r\n                    if (!state.hoverRange) {\r\n                        const {start: itemStart} = utils.getWeekPdByPlainDate(ipd)\r\n\r\n                        state.hoverRange = [itemStart, itemStart]\r\n                        state.valueRange = [itemStart, itemStart]\r\n                    } else {\r\n                        const [startPd, endPd] = state.hoverRange!\r\n\r\n                        startModel.value = startPd.valueString\r\n                        endModel.value = endPd.valueString\r\n\r\n                        state.hoverRange = null\r\n                        state.valueRange = [startPd, endPd]\r\n\r\n                        emit.input(startModel.value, DateEmitInputType.start)\r\n                        emit.input(endModel.value, DateEmitInputType.end)\r\n                    }\r\n                }\r\n            },\r\n            onMouseenterItem({ipd}: DateBasePanelItemData) {\r\n                const {start: itemStartPd} = utils.getWeekPdByPlainDate(ipd!)\r\n                hoverPd.value = itemStartPd\r\n\r\n                if (!!state.hoverRange) {\r\n                    const start = WeekGetData.value.start.range!.start\r\n                    state.hoverRange = start.YMD! > itemStartPd.YMD! ? [itemStartPd, start] : [start, itemStartPd]\r\n                }\r\n            },\r\n        }\r\n\r\n\r\n        return () => (\r\n            <pl-date-base-panel-date {...datePanelBinding.value} {...{on: {'mousedown-panel': emit.mousedownPanel}}}/>\r\n        )\r\n    },\r\n})","import {computed, defineComponent} from \"@vue/composition-api\";\r\nimport {DatePublicProps, DateView} from \"@/packages/date/date-utils\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {useDate} from \"@/packages/date/useDate\";\r\nimport {PlainDate} from \"@/util/PlainDate\";\r\nimport {$plain} from \"@/packages/base\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-date-panel-dates',\r\n    props: {\r\n        ...DatePublicProps,\r\n    },\r\n    setup(props) {\r\n\r\n        const {emit} = useEvent({\r\n            input: EmitFunc,\r\n            mousedownPanel: EmitFunc,\r\n        })\r\n\r\n        const {\r\n            model,\r\n            displayFormat,\r\n            valueFormat,\r\n        }\r\n            =\r\n            useDate({\r\n                props,\r\n                injectView: DateView.date,\r\n                getProvideData: () => ({} as any),\r\n                getChildActive(ipd: PlainDate | number, type: DateView): boolean {\r\n                    const {value} = formatData.value\r\n                    if (type === DateView.year) {\r\n                        return !!$plain.utils.findOne(value, item => item.Y === ipd)\r\n                    } else if (type === DateView.month) {\r\n                        return !!$plain.utils.findOne(value, item => item.YM === (ipd as PlainDate).YM)\r\n                    } else if (type === DateView.date) {\r\n                        return !!$plain.utils.findOne(value, item => item.YMD === (ipd as PlainDate).YMD)\r\n                    }\r\n                    return false\r\n                },\r\n            })\r\n\r\n        const formatData = computed(() => {\r\n            let value = model.value as string[] | undefined\r\n            let {max, min} = props\r\n            value = value || []\r\n            return {\r\n                value: value.map(item => new PlainDate(item, displayFormat.value, valueFormat.value)),\r\n                max: new PlainDate(max, displayFormat.value, valueFormat.value),\r\n                min: new PlainDate(min, displayFormat.value, valueFormat.value),\r\n            }\r\n        })\r\n\r\n        const datePanelBinding = computed(() => {\r\n            return {\r\n                props: {\r\n                    max: props.max,\r\n                    min: props.min,\r\n                },\r\n                on: {\r\n                    'click-item': handler.onClickItem\r\n                },\r\n            }\r\n        })\r\n\r\n        const handler = {\r\n            onClickItem(ipd: PlainDate) {\r\n                const {value} = formatData.value\r\n                const ret = $plain.utils.findOne(value, item => item.YMD === ipd.YMD, true) as { item: PlainDate, index: number }\r\n                if (!!ret) {\r\n                    value.splice(ret.index, 1)\r\n                } else {\r\n                    value.push(ipd)\r\n                }\r\n                model.value = value.map(item => item.valueString)\r\n            },\r\n        }\r\n\r\n        return () => (\r\n            <pl-date-base-panel-date {...datePanelBinding.value} {...{on: {'mousedown-panel': emit.mousedownPanel}}}/>\r\n        )\r\n    },\r\n})","import panel from './date-base-panel'\r\nimport header from './date-base-panel-header'\r\nimport item from './date-base-panel-item'\r\n\r\nimport year from './date-base-panel-year'\r\nimport month from './date-base-panel-month'\r\nimport date from './date-base-panel-date'\r\nimport dateRange from './date-panel-date-range'\r\nimport week from './date-panel-week'\r\nimport dates from './date-panel-dates'\r\n\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    panel,\r\n    header,\r\n    item,\r\n\r\n    year,\r\n    month,\r\n    date,\r\n    dateRange,\r\n    week,\r\n    dates,\r\n])","import {usePopperServiceComponent} from \"@/packages/popper/service/PopperServiceComponent\";\r\nimport {usePopperController} from \"@/packages/popper/service/PopperController\";\r\nimport {usePopperAgent} from \"@/packages/popper/service/PopperAgent\";\r\n\r\nexport default {\r\n    install(Vue) {\r\n        let controllerService;\r\n\r\n        const $plain = Vue.prototype.$plain\r\n\r\n        const ServiceComponent = usePopperServiceComponent({\r\n            name: 'pl-date-service',\r\n            content: (h, ctx) => {\r\n                return (\r\n                    <pl-date-panel\r\n                        slot=\"popper\"\r\n                        key={ctx.state.count}\r\n                        {\r\n                            ...{\r\n                                props: ctx.options.value.props,\r\n                                on: ctx.options.value.listener,\r\n                            }\r\n                        }\r\n                    />\r\n                )\r\n            },\r\n            externalListener: {\r\n                change() {\r\n                    if ([\r\n                        'datetime',\r\n                        'dates'\r\n                    ].indexOf((this as any).options.value.props.panel) === -1) {\r\n                        this.hide()\r\n                    }\r\n                },\r\n            }\r\n        })\r\n\r\n        const Controller = usePopperController('pl-date-service-controller', ServiceComponent)\r\n\r\n        $plain.$date = (option) => {\r\n            if (!controllerService) {\r\n                controllerService = $plain.newInstance(Controller)\r\n            }\r\n            return usePopperAgent(option, controllerService)\r\n        }\r\n    },\r\n}","import './date.scss'\r\nimport date from './date'\r\nimport panel from './date-panel'\r\nimport {installPlugin} from \"@/util/install\";\r\nimport subs from './subs'\r\nimport service from './date-service'\r\n\r\nexport default installPlugin([\r\n    date,\r\n    panel,\r\n], [\r\n    subs,\r\n    service,\r\n])","export const SELECT_PANEL_COLLECTOR = '@@SELECT_PANEL_COLLECTOR'\r\n\r\nfunction iterateChildren(array: any, fn: Function) {\r\n    (array || []).forEach((item, index) => {\r\n        if (!item.group) {\r\n            fn({item, index})\r\n        } else {\r\n            if (!!item.items.value && item.items.value.length > 0) {\r\n                iterateChildren(item.items.value, fn)\r\n            }\r\n        }\r\n    })\r\n}\r\n\r\nfunction formatItems(items) {\r\n    const array: any[] = []\r\n    SelectUtils.iterateChildren(items, ({item}) => array.push(item))\r\n    return array\r\n}\r\n\r\nexport const SelectUtils = {\r\n    iterateChildren,\r\n    formatItems,\r\n}","import {computed, defineComponent, ref} from \"@vue/composition-api\";\r\nimport {useSlots} from \"@/use/useSlots\";\r\nimport {useCollectParent} from \"@/use/useCollect\";\r\nimport {SELECT_PANEL_COLLECTOR, SelectUtils} from \"@/packages/select/select-utils\";\r\nimport {usePopperAgentEditor} from \"@/packages/popper/service/PopperAgent\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {useModel} from \"@/use/useModel\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {CompRef, useRefs} from \"@/use/useRefs\";\r\nimport {EditProps} from \"@/use/useEdit\";\r\nimport {StyleProps, useStyle} from \"@/use/useStyle\";\r\nimport {SelectOptionCtxType} from \"@/packages/select/select-option\";\r\nimport {handleKeyboard} from \"@/packages/keyboard\";\r\nimport {SelectPanelContextType} from \"@/packages/select/select-panel\";\r\n\r\nconst Props = {\r\n    ...EditProps,\r\n    ...StyleProps,\r\n\r\n    value: {type: [String, Array]},\r\n    filterable: {type: Boolean, default: true},                     // 是否可以输入筛选\r\n    inputProps: {type: Object},                                     // input组件绑定属性对象\r\n\r\n    multiple: {type: Boolean},                                      // 是否多选\r\n    multipleMaxLimit: {type: Number},                               // 多选最多选择个数\r\n    multipleMinLimit: {type: Number},                               // 多选最少选择个数\r\n    collapseTags: {type: Boolean, default: true},                   // 多选模式下，超过三个选项，其他的将省略显示\r\n\r\n    noMatchText: {type: Boolean, default: '暂无匹配数据'},            // 筛选无数据时展示的文本\r\n    noDataText: {type: Boolean, default: '暂无数据'},                // 无数据时显示的文本\r\n    filterMethod: Function,                                         // 筛选过滤函数\r\n}\r\n\r\nexport default defineComponent({\r\n    name: 'pl-select',\r\n    props: {\r\n        ...Props,\r\n    },\r\n    setup(props) {\r\n\r\n        useStyle()\r\n        const {slots} = useSlots()\r\n        const refs = useRefs({\r\n            input: CompRef,\r\n        })\r\n\r\n        const {emit} = useEvent({\r\n            input: EmitFunc,\r\n            click: EmitFunc,\r\n\r\n            space: EmitFunc,\r\n            enter: EmitFunc,\r\n            up: EmitFunc,\r\n            down: EmitFunc,\r\n            esc: EmitFunc,\r\n\r\n            blur: EmitFunc,\r\n            focus: EmitFunc,\r\n        })\r\n\r\n        const model = useModel(() => props.value, emit.input)\r\n        const filterText = ref(null as string | null)\r\n\r\n        const agentState = usePopperAgentEditor(() => ($plain as any).$select(() => {\r\n            return {\r\n                props: {\r\n                    ...(Object.keys(Props).reduce((ret, key) => {\r\n                        ret[key] = props[key]\r\n                        return ret\r\n                    }, {})),\r\n\r\n                    value: model.value,\r\n                    height: popperHeight.value,\r\n                    content: () => slots.default(),\r\n                    filterMethod: utils.filterMethod,\r\n                },\r\n                popperProps: {\r\n                    reference: refs.$el,\r\n                    height: popperHeight.value,\r\n                },\r\n                listener: {\r\n                    change: (val) => {\r\n                        model.value = val\r\n                    },\r\n                    click: (option) => {\r\n                        emit.click(option)\r\n                    }\r\n                },\r\n                popperListener: {\r\n                    'mousedown-popper': async () => {\r\n                        agentState.state.focusCounter++\r\n                    },\r\n                    'click-popper': () => {\r\n                        refs.input.methods.focus()\r\n                    },\r\n                    'hide': () => {\r\n                        filterText.value = null\r\n                    },\r\n                }\r\n            }\r\n        }))\r\n\r\n        /**\r\n         * 收集的option实例\r\n         * @author  韦胜健\r\n         * @date    2020/6/8 11:16\r\n         */\r\n        const items = useCollectParent({sort: false, provideString: SELECT_PANEL_COLLECTOR})\r\n\r\n        /**\r\n         * 递归收集option实例，展开为一级数组\r\n         * @author  韦胜健\r\n         * @date    2020/6/8 11:16\r\n         */\r\n        const formatData = computed(() => SelectUtils.formatItems(items.value) as SelectOptionCtxType[])\r\n\r\n        /**\r\n         * 显示值\r\n         * @author  韦胜健\r\n         * @date    2020/6/8 11:16\r\n         */\r\n        const displayValue = computed(() => {\r\n            if (!props.multiple) {\r\n                for (let i = 0; i < formatData.value.length; i++) {\r\n                    const item = formatData.value[i];\r\n                    if (item.val === model.value) {\r\n                        return item.label\r\n                    }\r\n                }\r\n            } else {\r\n                let strings: string[] = []\r\n                if (!!model.value && Array.isArray(model.value)) {\r\n                    for (let i = 0; i < formatData.value.length; i++) {\r\n                        const item = formatData.value[i];\r\n                        if (model.value.indexOf(item.val!) > -1) {\r\n                            strings.push(item.label!)\r\n                        }\r\n                    }\r\n                }\r\n                return strings.join('').trim()\r\n            }\r\n            return null\r\n        })\r\n\r\n        const popperHeight = computed(() => formatData.value.length > 6 ? 256 : null)\r\n\r\n        const inputProps = computed(() => Object.assign({}, props.inputProps || {}))\r\n\r\n        const placeholderValue = computed(() => (agentState.isShow.value ? displayValue.value || inputProps.value.placeholder : inputProps.value.placeholder) || '')\r\n\r\n        const inputBinding = computed(() => {\r\n            return {\r\n                ref: 'input',\r\n                class: [\r\n                    'pl-select',\r\n                    {\r\n                        'pl-input-tags': !!props.multiple,\r\n                        'pl-select-input-show': agentState.isShow.value,\r\n                    }\r\n                ],\r\n                props: {\r\n                    value: (props.filterable && agentState.isShow.value) ? filterText.value : displayValue.value,\r\n                    placeValue: displayValue.value,\r\n                    inputReadonly: !props.filterable,\r\n                    placeholder: placeholderValue.value,\r\n                    suffixIcon: 'el-icon-arrow-down',\r\n                    clearIcon: true,\r\n                    isFocus: agentState.state.focusCounter > 0,\r\n                    clearHandler: () => model.value = undefined,\r\n\r\n                    ...inputProps.value,\r\n                },\r\n                on: {\r\n                    'input': (val) => {\r\n                        filterText.value = val\r\n                        if (!agentState.isShow.value && !$plain.utils.ie) {\r\n                            agentState.methods.show()\r\n                        }\r\n                    },\r\n                    'click-input': e => {\r\n                        agentState.handler.clickInput()\r\n                    },\r\n                    focus: agentState.handler.focus,\r\n                    blur: agentState.handler.blur,\r\n                    keydown: handler.keydown,\r\n                }\r\n            }\r\n        })\r\n\r\n        const multipleTags = computed(() => {\r\n            if (!model.value) {\r\n                return []\r\n            }\r\n            if (!Array.isArray(model.value)) {\r\n                console.error('The value of multiple select should be array')\r\n                return []\r\n            }\r\n            if (!formatData.value || formatData.value.length === 0) return []\r\n            return formatData.value.filter(option => model.value!.indexOf(option.val!) > -1)\r\n        })\r\n\r\n        const panel = {get value() {return ((agentState as any).state.agent.service.$refs.panel) as SelectPanelContextType}}\r\n\r\n        const utils = {\r\n            filterMethod: (option: SelectOptionCtxType) => {\r\n                if (!!props.filterMethod) return props.filterMethod(filterText.value, option)\r\n                return !!filterText.value && !!filterText.value.trim() ? (!!option.label && option.label.indexOf(filterText.value) > -1) : true\r\n            }\r\n        }\r\n\r\n        const handler = {\r\n            keydown: handleKeyboard({\r\n                space: (e) => {\r\n                    if (props.multiple && agentState.isShow.value) {\r\n                        e.stopPropagation()\r\n                        e.preventDefault()\r\n                        panel.value.methods.selectHighlight()\r\n                    }\r\n                    emit.space(e)\r\n                },\r\n                enter: (e) => {\r\n                    e.stopPropagation()\r\n                    e.preventDefault()\r\n                    if (agentState.isShow.value) {\r\n                        panel.value.methods.selectHighlight()\r\n                    } else {\r\n                        agentState.methods.show()\r\n                    }\r\n                },\r\n                up: (e) => {\r\n                    e.stopPropagation()\r\n                    e.preventDefault()\r\n                    if (!!agentState.isShow.value) {\r\n                        panel.value.methods.highlightPrev()\r\n                    }\r\n                },\r\n                down: (e) => {\r\n                    e.stopPropagation()\r\n                    e.preventDefault()\r\n                    if (!!agentState.isShow.value) {\r\n                        panel.value.methods.highlightNext()\r\n                    }\r\n                },\r\n                esc: (e) => {\r\n                    e.stopPropagation()\r\n                    e.preventDefault()\r\n                    if (!!agentState.isShow.value) {\r\n                        agentState.methods.hide()\r\n                    }\r\n                },\r\n            }),\r\n            onClickItemCloseIcon: (item: SelectOptionCtxType, index: number) => {\r\n                index = model.value!.indexOf(item.val!)\r\n                if (index > -1) {\r\n                    const value = [...model.value!]\r\n                    value.splice(index, 1)\r\n                    model.value = [...value]\r\n                }\r\n            }\r\n        }\r\n\r\n        return () => (\r\n            <pl-input {...inputBinding.value}>\r\n                <template slot=\"hidden\">\r\n                    {slots.default()}\r\n                </template>\r\n                {!!props.multiple && (\r\n                    <pl-input-inner-tags\r\n                        data={multipleTags.value}\r\n                        collapseTags={props.collapseTags}\r\n                        {\r\n                            ...{\r\n                                scopedSlots: {\r\n                                    default: ({item, index}: { item: SelectOptionCtxType, index: number }) => [\r\n                                        <span>{item.label}</span>,\r\n                                        <pl-icon icon=\"el-icon-close\" onClick={() => handler.onClickItemCloseIcon(item, index)}/>\r\n                                    ]\r\n                                }\r\n                            }\r\n                        }\r\n                    />\r\n                )}\r\n            </pl-input>\r\n        )\r\n    },\r\n})","import {computed, defineComponent, getCurrentInstance, provide, ref} from \"@vue/composition-api\";\r\nimport {useSlots} from \"@/use/useSlots\";\r\nimport {useCollectParent} from \"@/use/useCollect\";\r\nimport {SELECT_PANEL_COLLECTOR, SelectUtils} from \"@/packages/select/select-utils\";\r\nimport {useModel} from \"@/use/useModel\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {SelectOptionCtxType} from \"@/packages/select/select-option\";\r\nimport {useRefer} from \"@/use/useRefer\";\r\n\r\nimport {$plain} from \"@/packages/base\";\r\nimport {useRefs} from \"@/use/useRefs\";\r\nimport {PlainScroll} from \"@/packages/scroll/scroll\";\r\n\r\nconst Props = {\r\n    value: {type: [String, Array]},                                 // 当前双向绑定值\r\n\r\n    multiple: {type: Boolean},                                      // 是否多选\r\n    multipleMaxLimit: {type: Number},                               // 多选最多选择个数\r\n    multipleMinLimit: {type: Number},                               // 多选最少选择个数\r\n\r\n    noMatchText: {type: Boolean, default: '暂无匹配数据'},            // 筛选无数据时展示的文本\r\n    noDataText: {type: Boolean, default: '暂无数据'},                // 无数据时显示的文本\r\n    filterMethod: Function,                                 // 筛选过滤函数\r\n    content: {type: [Object, Function]},                            // 内容虚拟dom或者渲染函数\r\n    height: {type: Number},                                         // 面板高度，超过会显示自定义滚动条\r\n\r\n    showDebug: {type: Boolean},                                     // 是否展示调试内容\r\n}\r\n\r\nexport const SELECT_PANEL_PROVIDER = '@@SELECT_PANEL_PROVIDER'\r\n\r\nexport function selectPanelSetup(props: ExtractPropTypes<typeof Props>) {\r\n    const {emit} = useEvent({\r\n        input: EmitFunc,\r\n        click: EmitFunc,\r\n    })\r\n\r\n    const {slots} = useSlots()\r\n    const refs = useRefs({\r\n        scroll: {} as PlainScroll,\r\n    })\r\n\r\n    const highlightOption = ref(null as null | SelectOptionCtxType)\r\n    const items = useCollectParent({sort: true, provideString: SELECT_PANEL_COLLECTOR})\r\n    const formatData = computed(() => SelectUtils.formatItems(items.value))\r\n    const model = useModel(() => props.value, emit.input)\r\n\r\n    const classes = computed(() => [\r\n        'pl-select-panel',\r\n        {\r\n            'pl-select-panel-multiple': props.multiple,\r\n        }\r\n    ])\r\n\r\n    const showItems = computed(() => formatData.value.filter(utils.isShow))\r\n\r\n    const utils = {\r\n        /**\r\n         * 用于option判断当前是否已经被选中\r\n         * @author  韦胜健\r\n         * @date    2020/6/8 9:23\r\n         */\r\n        isSelected: (ctx: SelectOptionCtxType) => {\r\n            if (!model.value) return false\r\n            if (!props.multiple) {\r\n                return (model.value as string) == ctx.val\r\n            } else {\r\n                return (model.value as string[]).indexOf(ctx.val!) > -1\r\n            }\r\n        },\r\n        isShow: (ctx: SelectOptionCtxType) => {\r\n            return !props.filterMethod || props.filterMethod(ctx)\r\n        }\r\n    }\r\n    const handler = {\r\n        /**\r\n         * 处理点击option的动作\r\n         * @author  韦胜健\r\n         * @date    2020/6/8 9:24\r\n         */\r\n        clickOption: (ctx: SelectOptionCtxType) => {\r\n\r\n            if (ctx.disabled) return\r\n\r\n            emit.click(ctx)\r\n\r\n            if (!props.multiple) {\r\n                model.value = ctx.val\r\n            } else {\r\n                const newValue: string[] = [...((model.value as string[]) || [])]\r\n                const index = newValue.indexOf(ctx.val!)\r\n                if (index > -1) {\r\n                    if (!!props.multipleMinLimit && newValue.length <= props.multipleMinLimit) {\r\n                        return $plain.$message.warn(`最少选择 ${props.multipleMinLimit} 个选项`)\r\n                    }\r\n                    newValue.splice(index, 1)\r\n                } else {\r\n                    if (!!props.multipleMaxLimit && newValue.length >= props.multipleMaxLimit) {\r\n                        return $plain.$message.warn(`最多选择 ${props.multipleMaxLimit} 个选项`)\r\n                    }\r\n                    newValue.push(ctx.val!)\r\n                }\r\n                model.value = [...newValue]\r\n            }\r\n        },\r\n    }\r\n\r\n    const methods = {\r\n        /**\r\n         * 高亮上一个元素\r\n         * @author  韦胜健\r\n         * @date    2020/6/8 9:18\r\n         */\r\n        highlightPrev: () => {\r\n            if (showItems.value.length === 0) {\r\n                return\r\n            }\r\n            if (!highlightOption.value) {\r\n                highlightOption.value = showItems.value[showItems.value.length - 1]\r\n\r\n                // 滚动到高亮的选项\r\n                if (!!refs.scroll) {\r\n                    const el = (highlightOption.value as any).$el\r\n                    refs.scroll.methods.scrollTop(el.offsetTop, 200)\r\n                }\r\n            } else {\r\n                let index = showItems.value.indexOf(highlightOption.value)\r\n                if (index === 0) {\r\n                    index = showItems.value.length - 1\r\n                    highlightOption.value = showItems.value[index]\r\n\r\n                    // 滚动到高亮的选项\r\n                    if (!!refs.scroll) {\r\n                        const el = (highlightOption.value as any).$el\r\n                        refs.scroll.methods.scrollTop(el.offsetTop, 200)\r\n                    }\r\n                } else {\r\n                    index--\r\n                    highlightOption.value = showItems.value[index]\r\n\r\n                    // 滚动到高亮的选项\r\n                    if (!!refs.scroll) {\r\n                        const el = (highlightOption.value as any).$el\r\n                        const {wrapperScrollTop} = refs.scroll.state\r\n                        if (wrapperScrollTop > el.offsetTop) {\r\n                            refs.scroll.methods.scrollTop(el.offsetTop, 200)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        /**\r\n         * 高亮下一个元素\r\n         * @author  韦胜健\r\n         * @date    2020/6/8 9:18\r\n         */\r\n        highlightNext: () => {\r\n            if (showItems.value.length === 0) {\r\n                return\r\n            }\r\n            if (!highlightOption.value) {\r\n                highlightOption.value = showItems.value[0]\r\n            } else {\r\n                let index = showItems.value.indexOf(highlightOption.value)\r\n                if (index === showItems.value.length - 1) {\r\n                    index = 0\r\n                    highlightOption.value = showItems.value[index]\r\n\r\n                    // 滚动到高亮的选项\r\n                    if (!!refs.scroll) {\r\n                        refs.scroll.methods.scrollTop(0, 200)\r\n                    }\r\n                } else {\r\n                    index++\r\n                    highlightOption.value = showItems.value[index]\r\n\r\n                    // 滚动到高亮的选项\r\n                    if (!!refs.scroll) {\r\n                        const el = (highlightOption.value as any).$el\r\n                        const {hostHeight, wrapperScrollTop} = refs.scroll.state\r\n                        const scrollTop = el.offsetTop + el.offsetHeight - hostHeight\r\n                        if (scrollTop > 0 && scrollTop > wrapperScrollTop) {\r\n                            refs.scroll.methods.scrollTop(scrollTop, 200)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n\r\n        },\r\n        /**\r\n         * 选中当前高亮的元素\r\n         * @author  韦胜健\r\n         * @date    2020/6/8 9:18\r\n         */\r\n        selectHighlight: () => {\r\n            if (showItems.value.length === 0) {\r\n                return\r\n            }\r\n            if (!highlightOption.value) {\r\n                methods.highlightNext()\r\n            }\r\n            if (!!highlightOption.value) {\r\n                handler.clickOption(highlightOption.value)\r\n            }\r\n        },\r\n    }\r\n\r\n    const refer = {\r\n        model,\r\n        items,\r\n        formatData,\r\n        emit,\r\n        slots,\r\n        props,\r\n        utils,\r\n        handler,\r\n        methods,\r\n        classes,\r\n        showItems,\r\n        highlightOption,\r\n    }\r\n\r\n    provide(SELECT_PANEL_PROVIDER, refer)\r\n    useRefer(refer)\r\n\r\n    return refer\r\n}\r\n\r\nexport type SelectPanelContextType = ReturnType<typeof selectPanelSetup>\r\n\r\nexport default defineComponent({\r\n    name: 'pl-select-panel',\r\n    props: {\r\n        ...Props,\r\n    },\r\n    setup(props) {\r\n\r\n        const {formatData, slots, classes, items, showItems} = selectPanelSetup(props)\r\n        const ctx = getCurrentInstance()!\r\n\r\n        const styles = computed(() => !!props.height ? {height: $plain.utils.suffixPx(props.height)} : null)\r\n\r\n        return () => {\r\n\r\n            const inner = [\r\n                (items.value.length === 0 || showItems.value.length === 0) ? (\r\n                    <div class=\"pl-select-panel-empty-text\">\r\n                        {items.value.length === 0 ? props.noDataText : props.noMatchText}\r\n                    </div>\r\n                ) : null,\r\n                slots.default(),\r\n                !!props.content ? ((typeof props.content === \"function\" ? props.content(ctx.$createElement) : props.content)) : null,\r\n                !!props.showDebug ? (\r\n                    <div class=\"pl-select-panel-debug\">\r\n                        {formatData.value.map((item, index) => (\r\n                            <div>{index}-{item.label}-{item.val}</div>\r\n                        ))}\r\n                    </div>\r\n                ) : null,\r\n            ].filter(Boolean)\r\n\r\n            const content: any = !!props.height ? (\r\n                <pl-scroll fitHostWidth ref=\"scroll\">\r\n                    {inner}\r\n                </pl-scroll>\r\n            ) : inner\r\n\r\n            return (\r\n                <div class={classes.value} style={styles.value}>\r\n                    {content}\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {computed, defineComponent, provide, reactive, Ref, watch} from \"@vue/composition-api\";\r\n\r\nimport {EditProps, useEdit} from \"@/use/useEdit\";\r\nimport {StyleProps, useStyle} from \"@/use/useStyle\";\r\nimport {useSlots} from \"@/use/useSlots\";\r\nimport {useCollectParent} from \"@/use/useCollect\";\r\nimport {FORM_COLLECTOR, FORM_PROVIDER} from \"@/packages/form/form-utils\";\r\nimport {FormItemContextType, FormItemProps} from \"@/packages/form/form-item\";\r\nimport {FormatPropsType, useProps} from \"@/use/useProps\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {FormTrigger, getValidateConfigData, TargetRule, validateAssociateFields, validateAsync, validateField, ValidateResultMap} from \"@/packages/form/validate\";\r\nimport {useModel} from \"@/use/useModel\";\r\nimport {EmitFunc, useEvent} from \"@/use/useEvent\";\r\nimport {useRefer} from \"@/use/useRefer\";\r\n\r\nconst enum ValidateMode {\r\n    form = 'form',\r\n    table = 'table',\r\n}\r\n\r\nconst Props = {\r\n    ...EditProps,\r\n    ...StyleProps,\r\n\r\n    value: {type: Object},                                              // model绑定表单对象\r\n    rules: {type: Object},                                              // 表单验证规则\r\n    validateResult: {type: Object},                                     // 校验结果信息\r\n    validateMode: {type: String, default: ValidateMode.form},           // 校验模式\r\n    associateFields: {type: Object},                                    // 校验关联字段，一个对象，key为字段名，value为字段字符串或者字符串数组。当key变化时，会自动校验value中所列的字段\r\n\r\n    hideRequiredAsterisk: {type: Boolean, default: null},               // 是否隐藏文本旁边的红色必填星号\r\n    hideValidateMessage: {type: Boolean, default: null},                // 是否隐藏校验失败的信息\r\n    validateOnRulesChange: {type: Boolean, default: null},              // 是否当rules属性改变之后立即触发一次验证\r\n\r\n    column: {type: [String, Number], default: 1},                       // 多列表单的列数\r\n    labelWidth: {type: [String, Number]},                               // formItem 文本宽度\r\n    contentWidth: {type: [String, Number]},                             // formItem 内容宽度\r\n    disabledFields: {type: Object},                                     // 禁用的字段\r\n    readonlyFields: {type: Object},                                     // 只读的字段\r\n    labelAlign: {type: Boolean},                                        // 文本对其方式\r\n    width: {type: [String, Number], default: '100%'},                   // 表单宽度\r\n    centerWhenSingleColumn: {type: Boolean},                            // 单列的时候会使得表单内容居中，表单文本标题不计宽度，设置该属性为true则使得文本宽度参与计算居中\r\n    loadingMask: {type: [Boolean, Object]},                             // 是否展示loading遮罩\r\n}\r\n\r\nfunction formSetup(props: ExtractPropTypes<typeof Props>) {\r\n\r\n    const {emit} = useEvent({\r\n        updateValidateResult: EmitFunc,\r\n        fieldValueChange: (field: string, newVal: any, oldVal: any) => undefined,\r\n    })\r\n\r\n    const items = useCollectParent({\r\n        sort: false,\r\n        provideString: FORM_COLLECTOR,\r\n        onAdd: (item: FormItemContextType) => {\r\n            if (propsState.labelWidth == null && !!item.refs.label) {\r\n                const labelWidth = item.refs.label.offsetWidth\r\n                if (!state.maxLabelWidth || state.maxLabelWidth < labelWidth) {\r\n                    state.maxLabelWidth = labelWidth\r\n                }\r\n            }\r\n        }\r\n    }) as Ref<ExtractPropTypes<typeof FormItemProps>[]>\r\n\r\n    const {styleComputed} = useStyle()\r\n\r\n    /*---------------------------------------state-------------------------------------------*/\r\n\r\n    const propsState = useProps(props, {\r\n        labelWidth: FormatPropsType.number,\r\n        contentWidth: FormatPropsType.number,\r\n        column: FormatPropsType.number,\r\n        width: FormatPropsType.number,\r\n    })\r\n\r\n    const state = reactive({\r\n        maxLabelWidth: null as null | number,                                   // form item 最大文本宽度\r\n        formData: $plain.utils.deepcopy(props.value || {}) as object,           // 绑定的表单数据对象\r\n        loadingMask: false,                                                     // 内部loading标志\r\n        loadingTimer: null as null | number,                                    // loading延时器\r\n    })\r\n\r\n    const validateResultModel = useModel(() => {\r\n        return (props.validateResult || {}) as ValidateResultMap\r\n    }, emit.updateValidateResult)\r\n\r\n    /*---------------------------------------computer-------------------------------------------*/\r\n\r\n    const targetLabelWidth = computed(() => {\r\n        if (!!propsState.labelWidth) return propsState.labelWidth as number\r\n        if (!!state.maxLabelWidth) return state.maxLabelWidth as number\r\n        return null\r\n    })\r\n\r\n    const targetContentWidth = computed(() => {\r\n        return propsState.contentWidth as number || 400\r\n    })\r\n\r\n    const targetItemWidth = computed(() => {\r\n        if (!targetLabelWidth.value || !targetContentWidth.value) return null\r\n        return targetContentWidth.value + targetLabelWidth.value\r\n    })\r\n\r\n    const bodyStyles = computed(() => {\r\n        if (!targetItemWidth.value) return null\r\n        return {\r\n            width: `${propsState.column * (targetItemWidth.value)}px`,\r\n            left: `${(!props.centerWhenSingleColumn && propsState.column === 1) ? -targetLabelWidth.value! / 2 : 0}px`\r\n        }\r\n    })\r\n\r\n    /*---------------------------------------validate-------------------------------------------*/\r\n\r\n    const {editComputed} = useEdit()\r\n\r\n    const validateConfigData = computed(() => getValidateConfigData(\r\n        items.value.map(({label, field, required, rules}) => ({label, field, required, rules})),\r\n        props.rules,\r\n    ))\r\n\r\n    const allFieldLabels = computed(() => validateConfigData.value.allFieldLabels)\r\n    const allRules = computed(() => validateConfigData.value.allRules) as { value: TargetRule[] }\r\n    const allFieldRequired = computed(() => validateConfigData.value.allRequired)\r\n\r\n    const validate = {\r\n        valid: (field: string | string[], trigger: FormTrigger) => {\r\n            field = Array.isArray(field) ? field : [field]\r\n            field.forEach(item => validateField(validateResultModel.value, allRules.value, props.value || {}, item, trigger))\r\n        },\r\n        onChange: $plain.utils.throttle((field: string | string[]) => {\r\n            validate.valid(field, FormTrigger.CHANGE)\r\n            validateAssociateFields({\r\n                changeFields: field,\r\n                associateFields: props.associateFields,\r\n                next: f => validate.valid(f, FormTrigger.ALL)\r\n            })\r\n        }, 300),\r\n        onBlur: $plain.utils.throttle((field: string | string[]) => {\r\n            validate.valid(field, FormTrigger.BLUR)\r\n        }, 300)\r\n    }\r\n\r\n    const handler = {\r\n        /**\r\n         * 如果校验模式为 ValidateMode.table，则通过监听form-item中的edit组件的change事件来触发校验change校验规则，否则通过 深度watch formData对象并且通过\r\n         * 对比来实现触发change校验。后者的优点是可以兼容任何双向绑定组件，缺点是要深度监听formData的值变化。前者的缺点是\r\n         * 不兼容非edit组件（使用useEdit来控制编辑的组件），优点是不需要监听formData数据的变化，这个适用于表格中校验数据。\r\n         * @author  韦胜健\r\n         * @date    2020/7/18 17:25\r\n         */\r\n        onEditChange: (field: string | string[]) => {\r\n            if (props.validateMode !== ValidateMode.table) return\r\n            else validate.onChange(field)\r\n        },\r\n        onEditBlur: (field: string | string[]) => validate.onBlur(field)\r\n    }\r\n\r\n    if (props.validateMode === ValidateMode.form) {\r\n        watch(() => props.value, (newFormData: any) => {\r\n            let oldFormData = state.formData\r\n            const fields = Array.from(new Set([...Object.keys(newFormData || {}), ...(Object.keys(oldFormData))]))\r\n            fields.forEach(field => {\r\n                let newVal = newFormData[field]\r\n                let oldVal = oldFormData[field]\r\n                if (!$plain.utils.deepEqual(newVal, oldVal)) {\r\n                    emit.fieldValueChange(field, newVal, oldVal)\r\n                    validate.onChange(field)\r\n                }\r\n            })\r\n            state.formData = $plain.utils.deepcopy(newFormData || {})\r\n        }, {deep: true})\r\n    }\r\n\r\n    /*---------------------------------------methods-------------------------------------------*/\r\n\r\n    const methods = {\r\n        setLoading(flag = true) {\r\n            if (!!state.loadingTimer) {\r\n                clearTimeout(state.loadingTimer)\r\n            }\r\n            state.loadingTimer = setTimeout(() => {\r\n                state.loadingMask = flag\r\n            }, 300)\r\n        },\r\n        async validate(callback: Function, loadingMask: boolean = true): Promise<null | { validateResult: ValidateResultMap | null, message: string }> {\r\n\r\n            const dfd = {\r\n                promise: null as any,\r\n                resolve: null as any,\r\n            }\r\n            dfd.promise = new Promise((resolve) => {\r\n                dfd.resolve = resolve\r\n            })\r\n\r\n            if (!!callback) {\r\n                dfd.resolve = (...args) => callback(...args)\r\n            }\r\n\r\n            const result = await validateAsync({\r\n                validateResult: validateResultModel.value,\r\n                rules: allRules.value,\r\n                formData: props.value || {},\r\n                onStart: () => {\r\n                    if (loadingMask) {\r\n                        this.setLoading(true)\r\n                    }\r\n                },\r\n                onEnd: () => {\r\n                    if (loadingMask) {\r\n                        this.setLoading(false)\r\n                    }\r\n                }\r\n            })\r\n\r\n            dfd.resolve(result)\r\n            return dfd.promise\r\n        },\r\n        async validateWithoutMask(callback) {\r\n            return methods.validate(callback, false)\r\n        },\r\n        showError(err: null | { validateResult: ValidateResultMap | null, message: string }) {\r\n            if (!!err) {\r\n                $plain.$message.error(err.message)\r\n            }\r\n        },\r\n        /**\r\n         * 清除校验信息\r\n         * @author  韦胜健\r\n         * @date    2020/3/18 17:53\r\n         */\r\n        clearValidate() {\r\n            validateResultModel.value = {}\r\n        },\r\n    }\r\n\r\n    const refer = {\r\n        items,\r\n        propsState,\r\n        state,\r\n        props,\r\n        styleComputed,\r\n\r\n        targetLabelWidth,\r\n        targetContentWidth,\r\n        targetItemWidth,\r\n        bodyStyles,\r\n\r\n        validateResultModel,\r\n        allRules,\r\n        allFieldRequired,\r\n        allFieldLabels,\r\n        editComputed,\r\n        validate,\r\n        methods,\r\n        handler,\r\n    }\r\n\r\n    useRefer(refer)\r\n\r\n    provide(FORM_PROVIDER, refer)\r\n\r\n    return refer\r\n}\r\n\r\nexport type FormContextType = ReturnType<typeof formSetup>\r\n\r\nexport default defineComponent({\r\n    name: 'pl-form',\r\n    props: {\r\n        ...Props,\r\n    },\r\n    setup(props) {\r\n\r\n        const {slots} = useSlots()\r\n\r\n        const {\r\n            propsState,\r\n            state,\r\n            styleComputed,\r\n            bodyStyles,\r\n        } = formSetup(props)\r\n\r\n        const classes = computed(() => [\r\n            'pl-form',\r\n            `pl-form-label-align-${props.labelAlign}`,\r\n            `pl-form-column-${propsState.column || 1}`,\r\n            `pl-form-size-${styleComputed.value.size}`\r\n        ])\r\n\r\n        const styles = computed(() => ({\r\n            width: $plain.utils.suffixPx(propsState.width)\r\n        }))\r\n\r\n        return () => (\r\n            <div class={classes.value} style={styles.value} v-loading={state.loadingMask || props.loadingMask}>\r\n                <div class=\"pl-form-body\" style={bodyStyles.value}>\r\n                    {slots.default()}\r\n                </div>\r\n            </div>\r\n        )\r\n    },\r\n})","import {computed, defineComponent, inject} from \"@vue/composition-api\";\r\nimport {useCollectChild} from \"@/use/useCollect\";\r\nimport {SELECT_PANEL_COLLECTOR} from \"@/packages/select/select-utils\";\r\nimport {useSlots} from \"@/use/useSlots\";\r\n\r\nimport {SELECT_PANEL_PROVIDER, SelectPanelContextType} from \"@/packages/select/select-panel\";\r\n\r\nconst SelectOptionProps = {\r\n    label: {type: String},\r\n    val: {type: String},\r\n    icon: {type: String},\r\n    disabled: {type: Boolean},\r\n}\r\n\r\nexport default defineComponent({\r\n    name: 'pl-select-option',\r\n    props: {\r\n        ...SelectOptionProps,\r\n    },\r\n    setup(props) {\r\n\r\n        const ctx = useCollectChild({provideString: SELECT_PANEL_COLLECTOR})\r\n        const selectPanel = inject(SELECT_PANEL_PROVIDER) as SelectPanelContextType\r\n        const isSelected = computed(() => !!selectPanel && selectPanel.utils.isSelected(props))\r\n        const isShow = computed(() => !!selectPanel && selectPanel.utils.isShow(props))\r\n\r\n        const {slots} = useSlots()\r\n\r\n        const classes = computed(() => ([\r\n            'pl-select-option',\r\n            {\r\n                'pl-select-option-selected': isSelected.value,\r\n                'pl-select-option-show': isShow.value,\r\n                'pl-select-option-disabled': props.disabled,\r\n                'pl-select-option-highlight': !!selectPanel && selectPanel.highlightOption.value === ctx,\r\n            }\r\n        ]))\r\n\r\n        const handler = {\r\n            click: () => {\r\n                !!selectPanel && selectPanel.handler.clickOption(props)\r\n            }\r\n        }\r\n\r\n        return () => (\r\n            <div label={props.label}\r\n                 val={props.val}\r\n                 icon={props.icon}\r\n                 class={classes.value}\r\n                 onClick={handler.click}>\r\n                {!!selectPanel && isShow.value && [\r\n                    !!selectPanel.props.multiple ? <pl-checkbox readonly value={isSelected.value} class=\"pl-select-option-checkbox\"/> : null\r\n                    ,\r\n                    !!props.icon ? <pl-icon icon={props.icon} class=\"pl-select-option-icon\"/> : null\r\n                    ,\r\n                    slots.default(props.label)\r\n                ].filter(Boolean)}\r\n            </div>\r\n        )\r\n    },\r\n})\r\n\r\nexport type SelectOptionCtxType = ExtractPropTypes<typeof SelectOptionProps>","import {computed, defineComponent, inject} from \"@vue/composition-api\";\r\nimport {SlotFunc, useSlots} from \"@/use/useSlots\";\r\nimport {useCollectChild, useCollectParent} from \"@/use/useCollect\";\r\nimport {SELECT_PANEL_COLLECTOR} from \"@/packages/select/select-utils\";\r\nimport {useRefer} from \"@/use/useRefer\";\r\nimport {SELECT_PANEL_PROVIDER, SelectPanelContextType} from \"@/packages/select/select-panel\";\r\n\r\nexport default defineComponent({\r\n    name: 'pl-select-group',\r\n    props: {\r\n        label: {type: String},\r\n\r\n        group: {type: Boolean, default: true},\r\n    },\r\n    setup(props) {\r\n\r\n        const {slots, $slots} = useSlots({\r\n            label: SlotFunc,\r\n        })\r\n\r\n        const selectPanel = inject(SELECT_PANEL_PROVIDER) as SelectPanelContextType\r\n        useCollectChild({provideString: SELECT_PANEL_COLLECTOR})\r\n        const items = useCollectParent({sort: true, provideString: SELECT_PANEL_COLLECTOR})\r\n        const isShow = computed(() => !!selectPanel && items.value.length > 0 && items.value.some(item => selectPanel.utils.isShow(item)))\r\n\r\n        const classes = computed(() => [\r\n            'pl-select-group',\r\n            {\r\n                'pl-select-group-show': isShow.value\r\n            }\r\n        ])\r\n\r\n        useRefer({\r\n            props,\r\n            items,\r\n        })\r\n\r\n        return () => (\r\n            <div class={classes.value}>\r\n                {!!selectPanel && isShow.value && (!!$slots.label || !!props.label) && (<div class=\"pl-select-group-label\">{slots.label(props.label)}</div>)}\r\n                <div class=\"pl-select-group-content\">\r\n                    {slots.default()}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n})","import {PopperServiceComponent, usePopperServiceComponent} from \"@/packages/popper/service/PopperServiceComponent\";\r\nimport {usePopperController} from \"@/packages/popper/service/PopperController\";\r\nimport {usePopperAgent} from \"@/packages/popper/service/PopperAgent\";\r\n\r\nexport default {\r\n    install(Vue) {\r\n        let controllerService;\r\n\r\n        const $plain = Vue.prototype.$plain\r\n\r\n        const ServiceComponent = usePopperServiceComponent({\r\n            name: 'pl-select-service',\r\n            content: (h, ctx) => {\r\n                return (\r\n                    <pl-select-panel\r\n                        ref=\"panel\"\r\n                        slot=\"popper\"\r\n                        key={ctx.state.count}\r\n                        {\r\n                            ...{\r\n                                props: ctx.options.value.props,\r\n                                on: ctx.options.value.listener,\r\n                            }\r\n                        }\r\n                    />\r\n                )\r\n            },\r\n            defaultPopperProps: {\r\n                noContentPadding: true,\r\n                sizeEqual: true,\r\n                transition: 'pl-transition-popper-drop',\r\n                arrow: false,\r\n                offset: 3,\r\n            },\r\n            externalListener: {\r\n                change(this: PopperServiceComponent, val: string) {\r\n                    if (!this.options.value.props.multiple) {\r\n                        this.hide()\r\n                    }\r\n                },\r\n            }\r\n        })\r\n\r\n        const Controller = usePopperController('pl-select-service-controller', ServiceComponent)\r\n\r\n        $plain.$select = (option) => {\r\n            if (!controllerService) {\r\n                controllerService = $plain.newInstance(Controller)\r\n            }\r\n            return usePopperAgent(option, controllerService)\r\n        }\r\n    },\r\n}","import './select.scss'\r\nimport select from './select'\r\nimport option from './select-option'\r\nimport panel from './select-panel'\r\nimport group from './select-group'\r\nimport service from './select-service'\r\n\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    select,\r\n    option,\r\n    panel,\r\n    group,\r\n], [\r\n    service,\r\n])","export const FORM_COLLECTOR = '@@FORM_COLLECTOR'\r\nexport const FORM_PROVIDER = '@@FORM_PROVIDER'","import {computed, defineComponent, inject, provide, Ref} from \"@vue/composition-api\";\r\n\r\nimport {EditProps, EditProvider} from \"@/use/useEdit\";\r\nimport {StyleProps, StyleProvider} from \"@/use/useStyle\";\r\nimport {SlotFunc, useSlots} from \"@/use/useSlots\";\r\nimport {FormatPropsType, useProps} from \"@/use/useProps\";\r\nimport {useCollectChild} from \"@/use/useCollect\";\r\nimport {FORM_COLLECTOR, FORM_PROVIDER} from \"@/packages/form/form-utils\";\r\nimport {ElRef, useRefs} from \"@/use/useRefs\";\r\nimport {FormContextType} from \"@/packages/form/form\";\r\nimport {useRefer} from \"@/use/useRefer\";\r\nimport {ValidateResult} from \"@/packages/form/validate\";\r\n\r\nfunction useFormItemEdit(props: ExtractPropTypes<typeof FormItemProps>, form: FormContextType | null, handler: { onBlur: Function, onChange: Function }) {\r\n    const parent = inject(EditProvider, null) as any\r\n    const editComputed = computed(() => {\r\n        const {disabled, readonly, loading} = props\r\n        const p = {disabled, readonly, loading}\r\n\r\n        if (p.disabled == null) {\r\n            if (!!props.field && !!form && !!form.props.disabledFields && !!form.props.disabledFields[props.field as string]) {\r\n                p.disabled = true\r\n            } else {\r\n                p.disabled = !!parent ? parent.value.disabled : false\r\n            }\r\n        }\r\n\r\n        if (p.readonly == null) {\r\n            if (!!props.field && !!form && !!form.props.readonlyFields && !!form.props.readonlyFields[props.field as string]) {\r\n                p.readonly = true\r\n            } else {\r\n                p.readonly = !!parent ? parent.value.readonly : false\r\n            }\r\n        }\r\n\r\n        if (p.loading == null) {\r\n            p.loading = !!parent ? parent.value.loading : false\r\n        }\r\n\r\n        return {\r\n            ...p,\r\n            editable: !p.disabled && !p.readonly && !p.loading,\r\n            onBlur: handler.onBlur,\r\n            onChange: handler.onChange\r\n        }\r\n    })\r\n\r\n    provide(EditProvider, editComputed)\r\n    return {editComputed}\r\n}\r\n\r\nfunction useFormItemStyle(props: ExtractPropTypes<typeof FormItemProps>, form: FormContextType | null, validateMessage: Ref<string | null>) {\r\n    const parent = inject(StyleProvider, null)\r\n\r\n    const style = computed(() => {\r\n        const {shape, size, status} = props\r\n        const parentStyler = !!parent ? (parent as any).value : {}\r\n        return {\r\n            shape: shape || parentStyler.shape || 'fillet',\r\n            size: size || parentStyler.size || 'normal',\r\n            status: status != null ? status : (validateMessage.value != null ? 'error' : (parentStyler.status || null))\r\n        }\r\n    })\r\n\r\n    provide(StyleProvider, style)\r\n\r\n    return {\r\n        styleComputed: style\r\n    }\r\n}\r\n\r\nexport const FormItemProps = {\r\n    ...EditProps,\r\n    ...StyleProps,\r\n\r\n    field: {type: [String, Array]},                                     // 绑定的属性字段名\r\n    rules: {type: [Array, Object]},                                     // 校验规则\r\n    required: {type: Boolean},                                          // 不能为空\r\n    hideRequiredAsterisk: {type: Boolean, default: null},               // 是否隐藏文本旁边的红色必填星号\r\n    hideValidateMessage: {type: Boolean, default: null},                // 是否隐藏校验失败的信息\r\n    validateOnRulesChange: {type: Boolean, default: null},              // 是否当rules属性改变之后立即触发一次验证\r\n\r\n    label: {type: String, default: ' '},                                // 显示文本\r\n    labelWidth: {type: [String, Number]},                               // 显示文本宽度\r\n    column: {type: [String, Number]},                                   // 多列表单的列数\r\n    block: {type: Boolean},                                             // 占用一行\r\n}\r\n\r\nfunction formItemSetup(props: ExtractPropTypes<typeof FormItemProps>) {\r\n\r\n    useCollectChild({provideString: FORM_COLLECTOR})\r\n\r\n    const {slots, $slots} = useSlots({\r\n        label: SlotFunc,\r\n        suffix: SlotFunc,\r\n    })\r\n\r\n    const refs = useRefs({\r\n        label: ElRef,\r\n    })\r\n\r\n    const propsState = useProps(props, {\r\n        label: FormatPropsType.promise,\r\n        labelWidth: FormatPropsType.number,\r\n        column: FormatPropsType.number,\r\n    })\r\n\r\n    const form = inject(FORM_PROVIDER) as FormContextType\r\n\r\n    /*---------------------------------------computer-------------------------------------------*/\r\n\r\n    const labelStyles = computed(() => {\r\n        if (form.targetLabelWidth.value != null) {\r\n            return {width: `${form.targetLabelWidth.value}px`}\r\n        } else if (!!propsState.labelWidth) {\r\n            return {width: `${propsState.labelWidth}px`}\r\n        }\r\n        return null\r\n    })\r\n\r\n    const bodyStyles = computed(() => {\r\n        let width;\r\n        if (props.block) {\r\n            if (!form.targetItemWidth.value) {\r\n                width = null\r\n            } else {\r\n                width = form.propsState.column * (form.targetItemWidth.value) - form.targetLabelWidth.value!\r\n            }\r\n        } else {\r\n            const column = propsState.column || 1\r\n\r\n            if (!form.targetItemWidth.value) {\r\n                width = null\r\n            } else {\r\n                width = column * (form.targetItemWidth.value) - form.targetLabelWidth.value!\r\n            }\r\n        }\r\n\r\n        if (!width) {\r\n            return null\r\n        } else {\r\n            return {\r\n                width: `${width}px`\r\n            }\r\n        }\r\n    })\r\n\r\n    const hasLabel = computed(() => {\r\n        if (!!propsState.label || !!$slots.label) return true\r\n        if (!$slots.default && !$slots.suffix) return true\r\n        return false\r\n    })\r\n\r\n    /*---------------------------------------validate-------------------------------------------*/\r\n\r\n    const isRequired = computed(() => {\r\n        if (!form || !props.field) return false\r\n        return form.allFieldRequired.value[props.field as string]\r\n    })\r\n    const validateMessage = computed(() => {\r\n        if (!form) return null\r\n        let fields = Array.isArray(props.field) ? props.field : [props.field]\r\n        for (let i = 0; i < fields.length; i++) {\r\n            const field = fields[i];\r\n            let validateResult = form.validateResultModel.value[field as string] as ValidateResult\r\n            if (!!validateResult) return validateResult.message\r\n        }\r\n        return null\r\n    })\r\n    const {editComputed} = useFormItemEdit(props, form, {\r\n        onBlur: () => !!props.field && !!form && form.handler.onEditBlur(props.field as string),\r\n        onChange: () => !!props.field && !!form && form.handler.onEditChange(props.field as string),\r\n    })\r\n    const {styleComputed} = useFormItemStyle(props, form, validateMessage)\r\n\r\n    const refer = {\r\n        refs,\r\n        propsState,\r\n        form,\r\n        labelStyles,\r\n        bodyStyles,\r\n        hasLabel,\r\n        isRequired,\r\n        validateMessage,\r\n        editComputed,\r\n        styleComputed,\r\n    }\r\n\r\n    useRefer(refer)\r\n\r\n    return {\r\n        ...refer,\r\n        slots,\r\n        $slots,\r\n    }\r\n}\r\n\r\nexport type FormItemContextType = ReturnType<typeof formItemSetup>\r\n\r\nexport default defineComponent({\r\n    name: 'pl-form-item',\r\n    props: {\r\n        ...FormItemProps,\r\n    },\r\n    setup(props) {\r\n\r\n        const {\r\n            propsState,\r\n            slots,\r\n            $slots,\r\n            labelStyles,\r\n            bodyStyles,\r\n            hasLabel,\r\n            isRequired,\r\n            validateMessage,\r\n        } = formItemSetup(props)\r\n\r\n        const classes = computed(() => ([\r\n            'pl-form-item',\r\n            {\r\n                'pl-form-item-required': isRequired.value,\r\n                'pl-form-item-invalidate': !!validateMessage.value,\r\n            }\r\n        ]))\r\n\r\n        return () => (\r\n            <div class={classes.value}>\r\n                {!!hasLabel.value && (\r\n                    <div class=\"pl-form-item-label\" ref=\"label\" style={labelStyles.value}>\r\n                        <span>{slots.label(propsState.label)}</span>\r\n                    </div>\r\n                )}\r\n                <div class=\"pl-form-item-body\" style={bodyStyles.value}>\r\n                    <div class=\"pl-form-item-content\">\r\n                        {slots.default()}\r\n                        <div class=\"pl-form-item-message\">\r\n                            <span>{validateMessage.value}</span>\r\n                        </div>\r\n                    </div>\r\n                    {!!$slots.suffix && (\r\n                        <div class=\"pl-form-item-suffix\">\r\n                            {slots.suffix()}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        )\r\n    },\r\n})","import './form.scss'\r\nimport form from './form'\r\nimport formItem from './form-item'\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    form,\r\n    formItem,\r\n])","import {PlainTable} from \"@/packages/table/table/table\";\r\n\r\n/**\r\n * 渲染colgroup，限制列的宽度\r\n * @author  韦胜健\r\n * @date    2020/9/8 16:09\r\n */\r\nexport function renderColgroup(table: PlainTable) {\r\n    return () => (\r\n        <colgroup>\r\n            {!!table.plcData.value && table.plcData.value.flatPlcList.map(plc => (\r\n                <col style={{\r\n                    width: `${plc.props.width}px`,\r\n                    minWidth: `${plc.props.width}px`,\r\n                }}/>\r\n            ))}\r\n        </colgroup>\r\n    )\r\n}","import {computed, defineComponent, watch} from \"@vue/composition-api\";\r\nimport {injectTable} from \"@/packages/table/table/table\";\r\nimport {PlcType} from \"@/packages/table/plc/plc\";\r\nimport {PlcGroupType} from \"@/packages/table/plc/plc-group\";\r\nimport {PlcComponentType} from \"@/packages/table/plc/plc-utils\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {TableHoverPart} from \"@/packages/table/table-utils\";\r\nimport {useRefs} from \"@/use/useRefs\";\r\nimport {PlainScroll} from \"@/packages/scroll/scroll\";\r\nimport {renderColgroup} from \"@/packages/table/plc/renderColgroup\";\r\n\r\nexport default defineComponent({\r\n    name: 'plt-head',\r\n    setup() {\r\n\r\n        const refs = useRefs({\r\n            scroll: {} as PlainScroll\r\n        })\r\n\r\n        const table = injectTable()\r\n\r\n        const colgroupRender = renderColgroup(table)\r\n\r\n        const headPlcList = computed(() => table.plcData.value!.headCols)\r\n\r\n        const tableStyles = computed(() => {\r\n            return {\r\n                width: $plain.utils.suffixPx(table.totalContentWidth.value),\r\n            }\r\n        })\r\n\r\n        const {handler} = table.utils.bindScroll(\r\n            TableHoverPart.head,\r\n            (scrollLeft, part) => {\r\n                part !== TableHoverPart.head && refs.scroll.methods.scrollLeft(scrollLeft)\r\n            }\r\n        )\r\n\r\n        const styles = computed(() => ({\r\n            height: `${table.propsState.headRowHeight * headPlcList.value.length}px`,\r\n        }))\r\n\r\n        watch(() => styles.value, () => !!refs.scroll && $plain.nextTick(refs.scroll.methods.refresh),{immediate: true})\r\n\r\n        return () => {\r\n            return (\r\n                <div class=\"plt-head\"\r\n                     onMouseenter={handler.mouseenter}\r\n                     onMousewheel={e => table.handler.headMousewheel(e, refs.scroll)}\r\n                     style={styles.value}>\r\n                    {/*这里不能加 scrollY={false}，会导致sticky固定失效*/}\r\n                    <pl-scroll\r\n                        ref=\"scroll\"\r\n                        scrollX\r\n                        fitContentHeight\r\n                        hideScrollbar\r\n                        onScroll={handler.scroll}\r\n                    >\r\n                        <table class=\"plt-table plt-head-table\" style={tableStyles.value}>\r\n                            {colgroupRender()}\r\n                            <thead>\r\n                            {headPlcList.value.map((row, rowIndex) => (\r\n                                <tr row={rowIndex}>\r\n                                    {row.map((cell, cellIndex) => <plt-head-cell key={cellIndex} plc={cell}/>)}\r\n                                </tr>\r\n                            ))}\r\n                            </thead>\r\n                        </table>\r\n                    </pl-scroll>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import {PlcType, TableRenderData} from \"@/packages/table/plc/plc\";\r\nimport {Vue} from \"vue/types/vue\";\r\nimport {TableNode} from \"@/packages/table/table/TableNode\";\r\n\r\n/**\r\n * 在调用渲染函数渲染的时候，调用的上下文应该是plc组件对象本身\r\n * @author  韦胜健\r\n * @date    2020/7/20 22:29\r\n */\r\nfunction callRender(renderFunc: Function, context: any, renderData: { rowData: TableNode, plc: PlcType, row: any }) {\r\n    return renderFunc.apply(context, [renderData])\r\n}\r\n\r\n/**\r\n * 判断当前是否可编辑\r\n * 1. 如果当前行非编辑状态，则不可编辑\r\n * 2. 如果列没有edit作用域插槽以及渲染函数，则不可编辑\r\n * 3. 如果列的editable属性为函数，则计算这个函数的值来定性是否可编辑\r\n *\r\n * 这个【是否可编辑】值用来设置 body-cell 的样式，以便body-cell清楚地知道当前是否处于可编辑状态，并且设置padding\r\n *\r\n * @author  韦胜健\r\n * @date    2020/7/21 21:16\r\n */\r\nexport function getEditable(plc: PlcType, rowData: TableNode) {\r\n    // 行非编辑状态下，定性为不可编辑\r\n    if (!rowData.isEdit) {\r\n        return false\r\n    }\r\n    // 如果没有edit渲染函数以及作用域插槽，那么直接定性为不可编辑\r\n    if (!plc.props.edit && !plc.scopedSlots.edit) {\r\n        return false\r\n    }\r\n    return typeof plc.props.editable === \"function\" ? (plc.props.editable as any)(rowData) : (plc.props.editable !== false)\r\n}\r\n\r\n/**\r\n * 获取内容渲染函数\r\n * @author  韦胜健\r\n * @date    2020/7/21 21:18\r\n */\r\nfunction getBody(\r\n    {\r\n        rowData,\r\n        plc,\r\n        isSummary,\r\n        editable,\r\n        ctx,\r\n    }: {\r\n        rowData: TableNode,\r\n        plc: PlcType,\r\n        isSummary: boolean,\r\n        editable: boolean,\r\n        ctx: Vue,\r\n    }) {\r\n\r\n    let renderData: TableRenderData\r\n\r\n    if (isSummary) {\r\n        // 合计行中的row一直是原始的row对象\r\n        renderData = {rowData, plc, row: rowData.data}\r\n\r\n        // 合计行，使用作用域插槽 summary渲染，没有则使用渲染函数summary渲染，么有则使用 default作用域插槽渲染，没有\r\n        // 则使用渲染函数default渲染，没有则直接渲染field对应的值\r\n        if (!!plc.scopedSlots.summary) {\r\n            return plc.scopedSlots.summary(renderData)\r\n        }\r\n        if (!!plc.props.summary) {\r\n            return callRender(plc.props.summary, ctx, renderData)\r\n        }\r\n        if (!!plc.scopedSlots.default) {\r\n            return plc.scopedSlots.default(renderData)\r\n        }\r\n        if (!!plc.props.default) {\r\n            return callRender(plc.props.default, ctx, renderData)\r\n        }\r\n        return !!plc.props.field ? renderData.row[plc.props.field] : null\r\n    } else {\r\n        // 如果当前行处于可编辑状态，则渲染的行数据对象为 rowData.editRow，否则为 rowData.data\r\n        let row = rowData.isEdit ? rowData.editRow : rowData.data\r\n        renderData = {rowData, plc, row}\r\n\r\n        if (editable) {\r\n            // 当前一定存在 plc.scopedSlots.edit 或者 plc.props.edit，否则 editable不可能为true\r\n            if (!!plc.scopedSlots.edit) {\r\n                return plc.scopedSlots.edit(renderData)\r\n            }\r\n            if (!!plc.props.edit) {\r\n                return callRender(plc.props.edit, ctx, renderData)\r\n            }\r\n        } else {\r\n            // 当前单元格不可编辑，如果当前行处于编辑状态，则渲染的行数据为 tableNode.editRow，否则为 tableNode.data\r\n            // 使用作用域插槽default渲染，没有则使用渲染函数default渲染，没有则直接显示field对应的值\r\n            if (!!plc.scopedSlots.default) {\r\n                return plc.scopedSlots.default(renderData)\r\n            }\r\n            if (!!plc.props.default) {\r\n                return callRender(plc.props.default, ctx, renderData)\r\n            }\r\n            if (!plc.props.field) {\r\n                return null\r\n            }\r\n            return renderData.row[plc.props.field]\r\n        }\r\n    }\r\n}\r\n\r\nexport const PlcRender = {\r\n    head: (plc: PlcType) => {\r\n\r\n        // 如果存在 head作用域插槽，渲染head作用域插槽\r\n        if (!!plc.scopedSlots.head) {\r\n            return plc.scopedSlots.head(plc)\r\n        }\r\n        // 如果存在 props.head 渲染函数，则渲染 props.head\r\n        if (!!plc.props.head) {\r\n            return plc.props.head(plc)\r\n        }\r\n        return plc.props.title\r\n\r\n    },\r\n    body: (\r\n        {\r\n            rowData,\r\n            plc,\r\n            isSummary,\r\n            ctx,\r\n        }: {\r\n            rowData: TableNode,\r\n            plc: PlcType,\r\n            isSummary: boolean,\r\n            ctx: Vue,\r\n        }\r\n    ) => {\r\n        const editable = getEditable(plc, rowData)\r\n        const body = getBody({rowData, plc, isSummary, editable, ctx})\r\n\r\n        return {\r\n            editable,\r\n            body\r\n        }\r\n    }\r\n}","import {reactive} from \"@vue/composition-api\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {PlcType} from \"@/packages/table/plc/plc\";\r\nimport {injectTable} from \"@/packages/table/table/table\";\r\n\r\n/**\r\n * 处理表头拖拽调整宽度的功能\r\n * @author  韦胜健\r\n * @date    2020/8/18 16:17\r\n */\r\nexport function useHeadCellResize(table: ReturnType<typeof injectTable>, plc: PlcType) {\r\n\r\n    const state = reactive({\r\n        indicatorEl: null as null | HTMLElement,\r\n        startX: null as null | number,\r\n        endX: null as null | number,\r\n    })\r\n\r\n    const handler = {\r\n        mousedown: (e: MouseEvent) => {\r\n\r\n            const tableEl = table.refs.$el\r\n\r\n            e.preventDefault()\r\n            e.stopPropagation()\r\n\r\n            window.addEventListener('mousemove', handler.mousemove)\r\n            window.addEventListener('mouseup', handler.mouseup)\r\n            $plain.disableSelect()\r\n            state.startX = e.clientX\r\n\r\n            state.indicatorEl = document.createElement('div')\r\n\r\n            const cell = e.currentTarget as HTMLElement\r\n\r\n            const {left, width} = cell.getBoundingClientRect()\r\n            const {top, height} = tableEl.getBoundingClientRect()\r\n\r\n            Object.assign(state.indicatorEl.style, {\r\n                display: 'inline-block',\r\n                zIndex: 9999,\r\n                position: 'fixed',\r\n\r\n                width: `${width}px`,\r\n                backgroundColor: '#ddd',\r\n                height: `${height}px`,\r\n                top: `${top}px`,\r\n                left: `${left}px`,\r\n            })\r\n\r\n            document.body.appendChild(state.indicatorEl)\r\n        },\r\n        mousemove: (e: MouseEvent) => {\r\n            state.indicatorEl!.style.left = `${e.clientX}px`\r\n        },\r\n        mouseup: (e: MouseEvent) => {\r\n            window.removeEventListener('mousemove', handler.mousemove)\r\n            window.removeEventListener('mouseup', handler.mouseup)\r\n            $plain.enableSelect()\r\n            document.body.removeChild(state.indicatorEl!)\r\n            state.endX = e.clientX\r\n            let durWidth = state.endX - state.startX!\r\n            plc.setDurWidth(durWidth)\r\n        }\r\n    }\r\n\r\n    return {\r\n        resizeHandler: handler,\r\n    }\r\n}","import {$plain} from \"@/packages/base\";\r\nimport {StyleType} from \"@/types/utils\";\r\nimport {PlcType} from \"@/packages/table/plc/plc\";\r\nimport {PlainTable} from \"@/packages/table/table/table\";\r\nimport {isPlcGroup, PlcGroupType} from \"@/packages/table/plc/plc-group\";\r\nimport {useDraggierAutoScroller} from \"@/packages/table/plc-components/standard/draggier/composition/use-draggier-auto-scroller\";\r\n\r\ninterface DragData {\r\n    left: number\r\n    width: number\r\n    plc: PlcType | PlcGroupType\r\n    droppable: boolean\r\n}\r\n\r\nenum HoverPart {\r\n    left = 'left',\r\n    right = 'right',\r\n}\r\n\r\n/**\r\n * 获取可以滚动的父组件\r\n * @author  韦胜健\r\n * @date    2020/8/19 23:50\r\n */\r\nexport function getHorizontalScrollParent(el: HTMLElement): HTMLElement {\r\n    while (!!el && el.scrollWidth <= el.offsetWidth) {\r\n        el = el.parentElement!\r\n    }\r\n    return el\r\n}\r\n\r\n/**\r\n * 递归遍历plc数组数据\r\n * @author  韦胜健\r\n * @date    2020/9/6 11:24\r\n */\r\nfunction iteratePlc(plcList: (PlcType | PlcGroupType)[], handler: (plc: PlcType | PlcGroupType) => 'stop' | void): void {\r\n\r\n    for (let i = 0; i < plcList.length; i++) {\r\n        const item = plcList[i]\r\n        const flag = handler(item)\r\n        if (flag === 'stop') {\r\n            return\r\n        } else {\r\n            if (isPlcGroup(item)) {\r\n                iteratePlc(item.items.value, handler)\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\n/**\r\n * 或者plc对象的兄弟节点\r\n * @author  韦胜健\r\n * @date    2020/9/6 11:24\r\n */\r\nfunction getBroPlcList(plcList: (PlcType | PlcGroupType)[], plc: PlcType | PlcGroupType): (PlcType | PlcGroupType)[] {\r\n\r\n    let broPlcList: (PlcType | PlcGroupType)[] = []\r\n\r\n    if (plcList.indexOf(plc) > -1) {\r\n        broPlcList = plcList\r\n    } else {\r\n        iteratePlc(plcList, itarPlc => {\r\n            if (isPlcGroup(itarPlc)) {\r\n                if (itarPlc.items.value.indexOf(plc) > -1) {\r\n                    broPlcList = itarPlc.items.value\r\n                    return 'stop'\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    if (broPlcList.length === 0) {\r\n        /*内部错误，找不到兄弟节点*/\r\n        throw new Error('Internal error! sibling node not found.')\r\n    }\r\n\r\n    return broPlcList\r\n}\r\n\r\n/**\r\n * 获取plc的宽度\r\n * @author  韦胜健\r\n * @date    2020/9/6 12:09\r\n */\r\nfunction getPlcWidth(plc: PlcType | PlcGroupType) {\r\n    if (!isPlcGroup(plc)) {\r\n        return Number(plc.props.width)\r\n    } else {\r\n        return plc.items.value.reduce((ret: number, item: PlcType | PlcGroupType) => {\r\n            ret += getPlcWidth(item)\r\n            return ret\r\n        }, 0)\r\n    }\r\n}\r\n\r\n/**\r\n * 获取plc的高度，如果是plc，则高度为currentTarget的高度，如果是plcGroup，则高度等于所有后代层数乘以currentTarget的高度\r\n * @author  韦胜健\r\n * @date    2020/9/6 11:29\r\n */\r\nfunction getIndicatorHeight(\r\n    plc: PlcType | PlcGroupType,\r\n    table: PlainTable,\r\n) {\r\n    if (isPlcGroup(plc)) {\r\n        return (table.plcData.value!.maxLevel - plc.level!) * table.propsState.headRowHeight\r\n    } else {\r\n        return plc.rowspan! * table.propsState.headRowHeight\r\n    }\r\n\r\n}\r\n\r\n/**\r\n * 获取plcList中最底层的plc\r\n * @author  韦胜健\r\n * @date    2020/9/6 20:27\r\n */\r\nfunction getLowestPlcList(plcList: (PlcType | PlcGroupType)[]): PlcType[] {\r\n\r\n    return plcList.reduce((ret: PlcType[], plc: PlcType | PlcGroupType) => {\r\n        if (isPlcGroup(plc)) {\r\n            ret.push(...getLowestPlcList(plc.items.value as (PlcType | PlcGroupType)[]))\r\n        } else {\r\n            ret.push(plc)\r\n        }\r\n        return ret\r\n    }, [] as PlcType[])\r\n\r\n}\r\n\r\n/**\r\n * 获取拖拽所需要的数据\r\n * @author  韦胜健\r\n * @date    2020/9/6 20:41\r\n */\r\nfunction getDragData(table: PlainTable, plc: PlcType | PlcGroupType): {\r\n    broData: DragData[],\r\n    broList: (PlcType | PlcGroupType)[]\r\n} {\r\n\r\n    const plcList = table.plcData.value!.plcList\r\n    const broList = getBroPlcList(plcList, plc)\r\n\r\n    const broLowestList = getLowestPlcList(broList)\r\n    const allLowestList = getLowestPlcList(plcList) as (PlcType | PlcGroupType)[]\r\n\r\n    allLowestList.splice(allLowestList.indexOf(broLowestList[0]), broLowestList.length, ...broList)\r\n\r\n    const broData: DragData[] = []\r\n    let left = 0\r\n\r\n    allLowestList.forEach(plc => {\r\n        const item = {\r\n            left,\r\n            width: getPlcWidth(plc),\r\n            plc,\r\n            droppable: broList.indexOf(plc) > -1\r\n        }\r\n        left += item.width\r\n        broData.push(item)\r\n    })\r\n\r\n    // broData.forEach(bro => console.log(bro.plc.props.title, bro.left, bro.droppable))\r\n\r\n    return {\r\n        broList,\r\n        broData,\r\n    }\r\n\r\n}\r\n\r\nexport function useColDraggier(option: {\r\n    colDraggable: boolean,\r\n    plc: () => PlcType,\r\n    table: PlainTable,\r\n}) {\r\n\r\n    if (!option.colDraggable) {\r\n        return {}\r\n    }\r\n\r\n    const autoScroller = useDraggierAutoScroller({\r\n        vertical: false,\r\n        getScroll: () => option.table.refs.head.$refs.scroll\r\n    })\r\n\r\n    const indicatorSize = 3\r\n\r\n    const state = {\r\n        startClientX: 0,\r\n        moveClientX: 0,\r\n\r\n        startScrollLeft: 0,\r\n        moveScrollLeft: 0,\r\n\r\n        scrollParent: null as null | HTMLElement,\r\n        currentRect: {\r\n            top: 0,\r\n            left: 0,\r\n            height: 0,\r\n            width: 0,\r\n        },\r\n        scrollRect: {\r\n            top: 0,\r\n            left: 0,\r\n            height: 0,\r\n            width: 0,\r\n        },\r\n        indicator: null as null | HTMLElement,\r\n        dragData: null as null | DragData[],\r\n        broList: null as null | (PlcType | PlcGroupType)[],\r\n        refreshData: null as null | {\r\n            index: number,\r\n            dragData: DragData,\r\n            hover: HoverPart,\r\n        }\r\n    }\r\n\r\n    const utils = {\r\n        getDragData: (left: number): { index: number, dragData: DragData, hover: HoverPart } => {\r\n            for (let i = 0; i < state.dragData!.length; i++) {\r\n                const dd = state.dragData![i];\r\n                if (left >= dd.left && left <= dd.left + dd.width) {\r\n                    return {\r\n                        index: i,\r\n                        dragData: dd,\r\n                        hover: left - dd.left > dd.width / 2 ? HoverPart.right : HoverPart.left\r\n                    }\r\n                }\r\n            }\r\n            throw new Error(`Can not get dragData by left:${left}`)\r\n        },\r\n        refresh() {\r\n            const left = (state.moveClientX - state.scrollRect.left) + (state.moveScrollLeft)\r\n            state.refreshData = utils.getDragData(left)\r\n            const {dragData, hover} = state.refreshData\r\n\r\n            let indicatorLeft = (hover === HoverPart.left ? dragData.left : dragData.left + dragData.width - indicatorSize) + state.scrollRect.left - state.moveScrollLeft\r\n            indicatorLeft = Math.min(Math.max(state.scrollRect.left, indicatorLeft), state.scrollRect.left + state.scrollRect.width - indicatorSize)\r\n\r\n            Object.assign(state.indicator!.style, {\r\n                left: `${indicatorLeft}px`,\r\n            } as StyleType)\r\n\r\n            state.indicator!.setAttribute('droppable', dragData.droppable ? 'true' : 'false')\r\n        },\r\n    }\r\n\r\n    const handler = {\r\n        mousedown: (e: MouseEvent) => {\r\n\r\n            const plc = option.plc()\r\n            const {broList, broData} = getDragData(option.table, plc)\r\n            state.dragData = broData\r\n            state.broList = broList\r\n\r\n            const currentTarget = e.currentTarget as HTMLElement\r\n            state.currentRect = currentTarget.getBoundingClientRect()!\r\n            const indicatorHeight = getIndicatorHeight(plc, option.table)\r\n\r\n            state.startClientX = state.moveClientX = e.clientX\r\n            state.scrollParent = getHorizontalScrollParent(currentTarget)\r\n            state.scrollRect = state.scrollParent.parentElement!.getBoundingClientRect()\r\n            state.startScrollLeft = state.moveScrollLeft = state.scrollParent.scrollLeft\r\n\r\n            state.indicator = document.createElement('div')\r\n            $plain.utils.addClass(state.indicator, 'plt-col-draggier-indicator')\r\n            Object.assign(state.indicator.style, {\r\n                top: `${state.currentRect.top}px`,\r\n                left: `${state.currentRect.left}px`,\r\n                height: `${indicatorHeight}px`,\r\n                width: `${indicatorSize}px`,\r\n                position: 'fixed',\r\n                zIndex: `${$plain.nextIndex() + 100}`,  // 加100是为了不被 autoScroller 遮住；\r\n                pointerEvents: 'none',                  // indicator只是一个指示的作用，这里设置none为了不挡住autoScroller的鼠标事件\r\n            } as StyleType)\r\n            document.body.appendChild(state.indicator)\r\n\r\n            $plain.disableSelect()\r\n            document.addEventListener('mouseup', handler.mouseup)\r\n            state.scrollParent!.addEventListener('mousemove', handler.mousemove)\r\n            state.scrollParent!.addEventListener('scroll', handler.scroll)\r\n\r\n            utils.refresh()\r\n            autoScroller.methods.showHover()\r\n        },\r\n        mousemove: (e: MouseEvent) => {\r\n            state.moveClientX = e.clientX\r\n            utils.refresh()\r\n        },\r\n        scroll: () => {\r\n            state.moveScrollLeft = state.scrollParent!.scrollLeft\r\n            utils.refresh()\r\n        },\r\n        mouseup: () => {\r\n\r\n            (() => {\r\n                if (!state.refreshData) {\r\n                    return\r\n                }\r\n                const {index, dragData, hover} = state.refreshData\r\n\r\n                if (!dragData.droppable) {\r\n                    return;\r\n                }\r\n\r\n                const startPlc = option.plc()\r\n                const endPlc = dragData.plc\r\n                const broList = state.broList!\r\n\r\n                const startIndex = broList.indexOf(startPlc)\r\n                let endIndex = broList.indexOf(endPlc)\r\n                if (startIndex === endIndex) {\r\n                    return;\r\n                }\r\n\r\n                if (startPlc.props.fixed != endPlc.props.fixed) {\r\n                    startPlc.state.fixed = endPlc.props.fixed\r\n                }\r\n\r\n                broList.splice(startIndex, 1)\r\n                endIndex = broList.indexOf(endPlc)\r\n                endIndex = hover === HoverPart.right ? endIndex + 1 : endIndex\r\n                broList.splice(endIndex, 0, startPlc)\r\n\r\n                broList.forEach((plc, index) => plc.state.order = index)\r\n            })();\r\n\r\n            $plain.enableSelect()\r\n            document.removeEventListener('mouseup', handler.mouseup)\r\n            state.scrollParent!.removeEventListener('mousemove', handler.mousemove)\r\n            state.scrollParent!.removeEventListener('scroll', handler.scroll)\r\n            if (!!state.indicator) {\r\n                state.indicator.parentNode!.removeChild(state.indicator)\r\n                state.indicator = null\r\n            }\r\n            autoScroller.methods.hideHover()\r\n        }\r\n    }\r\n\r\n    const on = {\r\n        mousedown: handler.mousedown,\r\n    }\r\n\r\n    return {\r\n        tdBinding: {\r\n            on,\r\n        },\r\n    }\r\n\r\n}","import {computed, defineComponent} from \"@vue/composition-api\";\r\nimport {PlcType} from \"@/packages/table/plc/plc\";\r\nimport {injectTable} from \"@/packages/table/table/table\";\r\nimport {PlcRender} from \"@/packages/table/table/render\";\r\nimport {useHeadCellResize} from \"@/packages/table/table/head/useHeadCellResize\";\r\nimport {useColDraggier} from \"@/packages/table/table/head/useColDraggier\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {stickyFlag} from \"@/packages/table/plc/plc-utils\";\r\nimport {toArray} from \"@/util/util\";\r\nimport {Table} from \"@/packages/table/table\";\r\nimport {StyleType} from \"@/types/utils\";\r\n\r\nexport default defineComponent({\r\n    name: 'plt-head-cell',\r\n    props: {\r\n        plc: {type: Object},\r\n    },\r\n    setup(props: { plc: PlcType }) {\r\n\r\n        const table = injectTable()\r\n\r\n        const {resizeHandler} = useHeadCellResize(table, props.plc)\r\n\r\n        /**\r\n         * 给 head-cell 加一个key，当 plc的props变化之后，head-cell节点会更新为新的节点，触发 scroll 的 ObjectServer事件，从而刷新滚动条宽度\r\n         * @author  韦胜健\r\n         * @date    2020/6/11 11:03\r\n         */\r\n        const key = computed(() => {\r\n            const plc = props.plc\r\n            return Object.keys(plc.props).reduce((ret, key) => {\r\n                ret += `_${key}=${plc.props[key] || ''}`\r\n                return ret\r\n            }, '')\r\n        })\r\n\r\n\r\n        const cellStyles = computed(() => props.plc.styles.head.cell)\r\n        const innerCellStyles = computed(() => {\r\n            let styles = (props.plc.styles.head.innerCell || {}) as StyleType\r\n\r\n            if (!!table.props.headCellStyleFunc) {\r\n                const headCellStyles = table.props.headCellStyleFunc(props.plc)\r\n                if (!!headCellStyles) {\r\n                    styles = {\r\n                        ...styles,\r\n                        ...headCellStyles,\r\n                    }\r\n                }\r\n            }\r\n\r\n            return styles\r\n        })\r\n        const cellClasses = computed(() => {\r\n            const classes = toArray(props.plc.classes.head.cell || {}) as Table.Classes[]\r\n\r\n            if (!!table.props.headCellClassFunc) {\r\n                const headCellClasses = table.props.headCellClassFunc(props.plc)\r\n                if (!!headCellClasses) {\r\n                    classes.push(...toArray(headCellClasses))\r\n                }\r\n            }\r\n\r\n            return classes\r\n        })\r\n        const innerCellClass = computed(() => props.plc.classes.head.innerCell)\r\n\r\n        /*---------------------------------------col diaggable-------------------------------------------*/\r\n\r\n        const colDraggable = computed(() => {\r\n            return !!table.props.colDraggable && props.plc.props.colDraggable !== false\r\n        })\r\n\r\n        const {tdBinding} = useColDraggier({\r\n            colDraggable: colDraggable.value,\r\n            plc: () => props.plc,\r\n            table: table,\r\n        })\r\n\r\n        return () => {\r\n\r\n            const content = [\r\n                <div style={innerCellStyles.value} class={innerCellClass.value}>\r\n                    {/*{props.plc.isLastFixedLeft && 'isLastFixedLeft'}-{props.plc.isFirstFixedRight && 'isFirstFixedRight'}*/}\r\n                    {PlcRender.head(props.plc)}\r\n                </div>,\r\n                <span class=\"plt-head-cell-indicator\" onmousedown={resizeHandler.mousedown}/>\r\n            ]\r\n\r\n            if (cellStyles.value.position === 'sticky' && !stickyFlag && !table.props.disabledStickyCompatible) {\r\n                const styles = {...cellStyles.value}\r\n                delete styles.position\r\n                delete styles[props.plc.props.fixed]\r\n\r\n                return (\r\n                    <pl-scroll-sticky\r\n                        rowspan={props.plc.rowspan}\r\n                        colspan={props.plc.colspan}\r\n                        key={key.value}\r\n                        class={cellClasses.value}\r\n                        style={styles}\r\n                        {...{\r\n                            props: {\r\n                                tag: 'td',\r\n                                [props.plc.props.fixed]: Number($plain.utils.removePx(cellStyles.value[props.plc.props.fixed]!)),\r\n                                zIndex: cellStyles.value.zIndex,\r\n                            },\r\n                            ...tdBinding,\r\n                        }}\r\n\r\n                    >\r\n                        {content}\r\n                    </pl-scroll-sticky>\r\n                )\r\n            } else {\r\n                return (\r\n                    <td rowspan={props.plc.rowspan}\r\n                        colspan={props.plc.colspan}\r\n                        key={key.value}\r\n                        class={cellClasses.value}\r\n                        style={cellStyles.value}\r\n                        {...tdBinding}\r\n                    >\r\n                        {content}\r\n                    </td>\r\n                )\r\n            }\r\n        }\r\n    },\r\n})","import {computed, defineComponent, onMounted} from \"@vue/composition-api\";\r\nimport {injectTable} from \"@/packages/table/table/table\";\r\nimport {PlainScroll} from \"@/packages/scroll/scroll\";\r\nimport {useRefs} from \"@/use/useRefs\";\r\nimport {TableHoverPart} from \"@/packages/table/table-utils\";\r\nimport {TableNode} from \"@/packages/table/table/TableNode\";\r\nimport {renderColgroup} from \"@/packages/table/plc/renderColgroup\";\r\n\r\nexport default defineComponent({\r\n    name: 'plt-body',\r\n    setup() {\r\n\r\n        const refs = useRefs({\r\n            virtualTable: {} as { $refs: { scroll: PlainScroll } }\r\n        })\r\n\r\n        const table = injectTable()\r\n        const colgroupRender = renderColgroup(table)\r\n\r\n        const styles = computed(() => ({\r\n            height: `${table.propsState.bodyRowHeight as number * table.props.showRows + 12}px`\r\n        }))\r\n\r\n        const {handler} = table.utils.bindScroll(\r\n            TableHoverPart.body,\r\n            (scrollLeft, part) => {\r\n                part !== TableHoverPart.body && refs.virtualTable.$refs.scroll.methods.scrollLeft(scrollLeft)\r\n            }\r\n        )\r\n\r\n        onMounted(() => table.state.bodyScrollGetter = () => refs.virtualTable.$refs.scroll)\r\n\r\n        return () => (\r\n            <div class=\"plt-body\" style={styles.value}\r\n                 onMouseenter={handler.mouseenter}>\r\n                <pl-virtual-table\r\n                    key={table.props.virtual ? 'enable' : 'disabled'}\r\n                    ref=\"virtualTable\"\r\n                    width={table.totalContentWidth.value}\r\n                    data={table.formatFlatTableData.value}\r\n                    summaryData={table.tableSummaryData.value}\r\n                    size={table.props.bodyRowHeight}\r\n                    disabled={table.isDisabledVirtualScroll.value}\r\n                    scrollProps={{scrollbarSize: 6}}\r\n                    onScroll={handler.scroll}\r\n                    {\r\n                        ...{\r\n                            scopedSlots: {\r\n                                default: ({item, isSummary}: { item: TableNode, isSummary: boolean }) => [\r\n                                    /*\r\n                                    - 这里用 item.key 作为key，感觉虚拟滚动的性能要更好一点\r\n                                    - 树列里面，如果不用这个key的话，复选框会有短暂的切换动画，在展开收起的时候\r\n                                    */\r\n                                    <plt-row key={`${item.key}_${item.index}`} vid={item.index} rowData={item} isSummary={isSummary}/>,\r\n                                    table.plcData.value!.plcListHasRenderAfterRow.length === 0\r\n                                        ? null :\r\n                                        [...table.plcData.value!.plcListHasRenderAfterRow.map(plc => plc.props.renderAfterRow!({\r\n                                            plc,\r\n                                            rowData: item,\r\n                                            isSummary,\r\n                                        }))]\r\n                                ].filter(Boolean)\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                >\r\n                    <template slot=\"colgroup\">\r\n                        {colgroupRender()}\r\n                    </template>\r\n                </pl-virtual-table>\r\n            </div>\r\n        )\r\n    },\r\n})","import {computed, defineComponent, getCurrentInstance, provide} from \"@vue/composition-api\";\r\nimport {getCellClass, stickyFlag} from \"@/packages/table/plc/plc-utils\";\r\nimport {PlcType} from \"@/packages/table/plc/plc\";\r\nimport {TableNode} from \"@/packages/table/table/TableNode\";\r\nimport {PlcRender} from \"@/packages/table/table/render\";\r\nimport {injectTable} from \"@/packages/table/table/table\";\r\nimport {AssociateFieldsType, FormTrigger, TargetRule, validateAssociateFields, validateField} from \"@/packages/form/validate\";\r\nimport {EditProvider} from \"@/use/useEdit\";\r\nimport {useStyle} from \"@/use/useStyle\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {toArray} from \"@/util/util\";\r\nimport {Table} from \"@/packages/table/table\";\r\n\r\ninterface BodyCellPropsType {\r\n    plc: PlcType,\r\n    rowData: TableNode,\r\n    isSummary: boolean\r\n}\r\n\r\nfunction validateFieldForCell(\r\n    {\r\n        rowData,\r\n        changeField,\r\n        allRules,\r\n        associateFields,\r\n    }: {\r\n        rowData: TableNode,\r\n        changeField: string,\r\n        allRules: TargetRule[],\r\n        associateFields: AssociateFieldsType | undefined,\r\n    }\r\n) {\r\n    const {data, editRow, isEdit} = rowData\r\n    const validateResult = rowData.validateResult || {}\r\n    validateField(validateResult, allRules, isEdit ? editRow : data, changeField, FormTrigger.CHANGE).then(() => rowData.validateResult = validateResult)\r\n    if (!!associateFields) {\r\n        validateAssociateFields({\r\n            changeFields: changeField,\r\n            associateFields,\r\n            next: field => validateField(validateResult, allRules, isEdit ? editRow : data, field, FormTrigger.ALL).then(() => rowData.validateResult = validateResult)\r\n        })\r\n    }\r\n}\r\n\r\nfunction useFormItemEdit(props: BodyCellPropsType, table: ReturnType<typeof injectTable>): void {\r\n    const editComputed = computed(() => {\r\n        return {\r\n            disabled: null,\r\n            readonly: null,\r\n            loading: null,\r\n            editable: true,\r\n            onBlur: () => {\r\n                // console.log('blur', props.plc.props.field)\r\n            },\r\n            onChange: () => {\r\n                // console.log('change', props.plc.props.field)\r\n                const {rowData, plc: {props: {field}}} = props\r\n                const {allRules} = table.validateConfigData.value\r\n                if (!!field && !!allRules && allRules.length > 0) {\r\n                    validateFieldForCell({\r\n                        rowData,\r\n                        changeField: field,\r\n                        allRules,\r\n                        associateFields: table.props.associateFields,\r\n                    })\r\n                }\r\n            }\r\n        }\r\n    })\r\n    provide(EditProvider, editComputed)\r\n\r\n    useStyle({\r\n        shape: 'none',\r\n        size: 'mini',\r\n        adjust: (result) => {\r\n            const {validateResult} = props.rowData\r\n            const {status} = result\r\n            result.status = status != null ? status : (!!props.plc.props.field && !!validateResult && validateResult[props.plc.props.field] != null ? 'error' : (status || null))\r\n\r\n            return result\r\n        }\r\n    })\r\n}\r\n\r\nexport default defineComponent({\r\n    name: 'plt-body-cell',\r\n    props: {\r\n        plc: {type: Object, required: true},\r\n        rowData: {type: TableNode, required: true},\r\n        fixed: {type: String, required: true},\r\n        isSummary: {type: Boolean},\r\n    },\r\n    setup(props: BodyCellPropsType) {\r\n\r\n        const table = injectTable()\r\n        const ctx = getCurrentInstance()!\r\n        useFormItemEdit(props, table)\r\n\r\n        const renderData = computed(() => PlcRender.body({\r\n            ...props,\r\n            ctx,\r\n        }))\r\n\r\n        const span = !!table.props.spanMethod ? table.props.spanMethod({tableNode: props.rowData, plc: props.plc}) : {\r\n            rowspan: 1,\r\n            colspan: 1,\r\n        }\r\n\r\n        const cellStyles = computed(() => props.plc.styles.body.cell)\r\n        const innerCellStyles = computed(() => {\r\n            let styles = {...props.plc.styles.body.innerCell}\r\n            if (span.rowspan > 1) {\r\n                styles.height = `${table.propsState.bodyRowHeight * span.rowspan}px`\r\n            }\r\n            if (!!table.props.cellStyleFunc) {\r\n                const cellStyles = table.props.cellStyleFunc(props.rowData, props.plc) || {}\r\n                styles = {\r\n                    ...styles,\r\n                    ...cellStyles\r\n                }\r\n            }\r\n            return styles\r\n        })\r\n        const cellClass = computed(() => {\r\n            const classes = [\r\n                ...props.plc.classes.body.cell,\r\n                ...getCellClass(props.plc, props.rowData),\r\n                {\r\n                    'plt-cell-editing': renderData.value.editable,\r\n                },\r\n            ] as Table.Classes[]\r\n\r\n            if (!!table.props.cellClassFunc) {\r\n                const cellClasses = table.props.cellClassFunc(props.rowData, props.plc)\r\n                if (!!cellClasses) {\r\n                    classes.push(...toArray(cellClasses))\r\n                }\r\n            }\r\n\r\n            return classes\r\n        })\r\n        const innerCellClass = computed(() => props.plc.classes.body.innerCell)\r\n\r\n        return () => {\r\n\r\n            if (span.rowspan === 0 || span.colspan === 0) {\r\n                /*rowspan为0时，不会正确合并单元格，如果要合并单元格得不渲染这个td*/\r\n                return null\r\n            }\r\n\r\n            const content = (\r\n                <div style={innerCellStyles.value} class={innerCellClass.value}>\r\n                    {/*{props.plc.isLastFixedLeft && 'isLastFixedLeft'}-{props.plc.isFirstFixedRight && 'isFirstFixedRight'}*/}\r\n                    {renderData.value.body}\r\n                </div>\r\n            )\r\n\r\n            if (cellStyles.value.position === 'sticky' && !stickyFlag && !table.props.disabledStickyCompatible) {\r\n                const styles = {...cellStyles.value}\r\n                delete styles.position\r\n                delete styles[props.plc.props.fixed]\r\n\r\n                return (\r\n                    <pl-scroll-sticky\r\n                        colspan={span.colspan}\r\n                        rowspan={span.rowspan}\r\n                        class={cellClass.value}\r\n                        style={styles}\r\n                        {...{\r\n                            props: {\r\n                                tag: 'td',\r\n                                [props.plc.props.fixed]: Number($plain.utils.removePx(cellStyles.value[props.plc.props.fixed]!)),\r\n                                zIndex: cellStyles.value.zIndex,\r\n                            },\r\n                        }}\r\n                    >\r\n                        {content}\r\n                    </pl-scroll-sticky>\r\n                )\r\n            } else {\r\n                return (\r\n                    <td colspan={span.colspan}\r\n                        rowspan={span.rowspan}\r\n                        class={cellClass.value}\r\n                        style={cellStyles.value}>\r\n                        {content}\r\n                    </td>\r\n                )\r\n            }\r\n        }\r\n    },\r\n})","import {computed, defineComponent} from \"@vue/composition-api\";\r\nimport {TableNode} from \"@/packages/table/table/TableNode\";\r\nimport {injectTable} from \"@/packages/table/table/table\";\r\nimport {toArray} from \"@/util/util\";\r\nimport {Table} from \"@/packages/table/table\";\r\n\r\nexport default defineComponent({\r\n    name: 'plt-row',\r\n    props: {\r\n        rowData: {type: TableNode, required: true},\r\n        isSummary: {type: Boolean},\r\n    },\r\n    setup(props) {\r\n\r\n        const table = injectTable()\r\n\r\n        const handler = {\r\n            click: (e: MouseEvent) => {table.handler.clickRow(e, props.rowData)},\r\n            dblclick: (e: MouseEvent) => {table.handler.dblclickRow(e, props.rowData)},\r\n        }\r\n\r\n        const binding = computed(() => {\r\n\r\n            const classes = [\r\n                'plt-row',\r\n                {\r\n                    'plt-row-summary': props.isSummary,\r\n                    'plt-row-current': !!table.state.current && table.state.current.key === props.rowData.key,\r\n                }\r\n            ] as Table.Classes[]\r\n\r\n            if (!!table.props.rowClassFunc) {\r\n                const rowClass = table.props.rowClassFunc(props.rowData)\r\n                if (!!rowClass) {\r\n                    classes.push(...toArray(rowClass))\r\n                }\r\n            }\r\n\r\n            return {\r\n                class: classes,\r\n                on: {\r\n                    click: handler.click,\r\n                    dblclick: handler.dblclick,\r\n                }\r\n            }\r\n        })\r\n\r\n        return () => (\r\n            <tr {...binding.value}>\r\n                {\r\n                    table.bodyPlcList.value!.map((plc, plcIndex) => (<plt-body-cell key={plcIndex} plc={plc} rowData={props.rowData} isSummary={props.isSummary}/>))\r\n                }\r\n            </tr>\r\n        )\r\n    },\r\n})","import {installPlugin} from \"@/util/install\";\r\nimport table from './table'\r\nimport head from './head/head'\r\nimport headCell from './head/head-cell'\r\nimport body from './body/body'\r\nimport bodyCell from './body/body-cell'\r\nimport row from './body/row'\r\n\r\nexport default installPlugin([\r\n    table,\r\n    head,\r\n    headCell,\r\n    body,\r\n    bodyCell,\r\n    row,\r\n])","import {computed, defineComponent, Ref} from \"@vue/composition-api\";\r\nimport {useCollectParent} from \"@/use/useCollect\";\r\nimport {PLC_COLLECTOR, PlcComponentType} from \"@/packages/table/plc/plc-utils\";\r\nimport {useSlots} from \"@/use/useSlots\";\r\nimport {useRefer} from \"@/use/useRefer\";\r\nimport {PlcType} from \"@/packages/table/plc/plc\";\r\nimport {PlcGroupType} from \"@/packages/table/plc/plc-group\";\r\n\r\nfunction formatItems(items: Ref<(PlcType | PlcGroupType)[]>): (PlcType | PlcGroupType)[] {\r\n\r\n    const ret: (PlcType | PlcGroupType)[] = []\r\n\r\n    items.value.forEach(item => {\r\n        let refer;\r\n        switch (item.type) {\r\n            case PlcComponentType.PLC:\r\n                refer = (item as any).refer\r\n                ret.push({\r\n                    ...refer,\r\n                    props: {...refer.props.value},\r\n                })\r\n                break\r\n            case PlcComponentType.GROUP:\r\n                refer = (item as any).refer\r\n                const newRefer = {\r\n                    ...refer,\r\n                    props: {...refer.props.value},\r\n                    items: {value: formatItems(refer.items) as PlcGroupType[]}\r\n                }\r\n                ret.push(newRefer)\r\n                break\r\n            default:\r\n                throw new Error(`can't recognise plc type:${item.type}`)\r\n        }\r\n    })\r\n\r\n    return ret\r\n\r\n}\r\n\r\nexport default defineComponent({\r\n    name: 'plc-collector',\r\n    setup() {\r\n        const items = useCollectParent({sort: true, provideString: PLC_COLLECTOR}) as Ref<(PlcType | PlcGroupType)[]>\r\n\r\n        const {slots} = useSlots()\r\n\r\n        const refer = {\r\n            items: computed(() => formatItems(items)),\r\n        }\r\n\r\n        useRefer(refer)\r\n\r\n        return () => (\r\n            <div class=\"plc-collector\">\r\n                {slots.default()}\r\n            </div>\r\n        )\r\n    },\r\n})","import plc from './plc'\r\nimport group from './plc-group'\r\nimport collector from './plc-collector'\r\n\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    plc, group, collector,\r\n])","import {computed, defineComponent, reactive, watch} from \"@vue/composition-api\";\r\n\r\nimport {useRefs} from \"@/use/useRefs\";\r\nimport {PlainScroll} from \"@/packages/scroll/scroll\";\r\nimport {$plain} from \"@/packages/base\";\r\nimport {VirtualListProps, virtualListSetup} from \"@/packages/virtual-list/virtual-list\";\r\nimport {useRefer} from \"@/use/useRefer\";\r\nimport {SlotFunc, useSlots} from \"@/use/useSlots\";\r\n\r\nconst Props = {\r\n    ...VirtualListProps,\r\n\r\n    summaryData: {type: Array},                                 // 合计行数据\r\n    width: {type: Number},                                      // 表格总宽度\r\n    scrollProps: {type: Object},                                // scroll 滚动条属性\r\n}\r\n\r\nfunction setup(props: ExtractPropTypes<typeof Props>) {\r\n\r\n    const refs = useRefs({\r\n        scroll: {} as PlainScroll,\r\n    })\r\n\r\n    const state = reactive({\r\n        scrollFlag: false,\r\n        scrollLeft: 0,\r\n    })\r\n\r\n    const slots = useSlots({\r\n        colgroup: SlotFunc,\r\n    })\r\n\r\n    const virtualList = virtualListSetup(props)\r\n\r\n    const utils = {\r\n        disabledQueenAnimation: $plain.utils.debounce(() => state.scrollFlag = false, 300),\r\n    }\r\n\r\n    /*---------------------------------------computer-------------------------------------------*/\r\n\r\n    const tableStyles = computed(() => ({\r\n        width: `${props.width}px`,\r\n    }))\r\n\r\n    const summaryTableStyles = computed(() => {\r\n        return {\r\n            ...tableStyles.value,\r\n            left: `${-state.scrollLeft}px`,\r\n            height: `${props.summaryData!.length * props.size!}px`\r\n        }\r\n    })\r\n\r\n    const strutStyles = computed(() => {\r\n        if (virtualList.isDisabled.value) return null\r\n        const dataHeight = (props.data || []).length * props.size\r\n        const summaryHeight = (!!props.summaryData && props.summaryData.length > 0) ? (props.summaryData.length * props.size) : 0\r\n        return {\r\n            height: `${dataHeight + summaryHeight + 6}px`\r\n        }\r\n    })\r\n\r\n    const contentStyles = computed(() => {\r\n        const summaryHeight = (props.summaryData || []).length * props.size\r\n        const offset = virtualList.isDisabled.value ? 0 : virtualList.state.offset\r\n        return {\r\n            top: `${offset}px`,\r\n            paddingBottom: `${summaryHeight}px`,\r\n        }\r\n    })\r\n\r\n    /*---------------------------------------handler-------------------------------------------*/\r\n\r\n    const handler = {\r\n        scroll: (e) => {\r\n            state.scrollFlag = true\r\n            utils.disabledQueenAnimation()\r\n            state.scrollLeft = e.currentTarget.scrollLeft\r\n            virtualList.handler.scroll(e)\r\n        }\r\n    }\r\n\r\n    watch(() => props.width, () => $plain.nextTick(() => refs.scroll.methods.refresh()),{immediate: true})\r\n\r\n    const refer = {\r\n        slots,\r\n        refs,\r\n        state,\r\n        virtualList,\r\n        tableStyles,\r\n        summaryTableStyles,\r\n        strutStyles,\r\n        contentStyles,\r\n        handler,\r\n    }\r\n\r\n    useRefer(refer)\r\n\r\n    return refer\r\n}\r\n\r\nexport type PlainVirtualTable = ReturnType<typeof virtualListSetup>\r\n\r\nexport default defineComponent({\r\n    name: 'pl-virtual-table',\r\n    props: {\r\n        ...Props\r\n    },\r\n    setup(props) {\r\n\r\n        const {\r\n            slots,\r\n            virtualList,\r\n            tableStyles,\r\n            summaryTableStyles,\r\n            strutStyles,\r\n            contentStyles,\r\n            handler,\r\n        } = setup(props)\r\n\r\n        return () => {\r\n            const horizontalScrollbar = ({style, onMousedown}) => {\r\n                return (\r\n                    <div\r\n                        {...{directives: [{name: 'tooltip', value: '在【表头】使用【鼠标滚轮】或者在【表体】中使用【ALT + 鼠标滚动】以横向滚动'}]}}\r\n                        class=\"pl-horizontal-scrollbar\"\r\n                        style={style}\r\n                        onMousedown={onMousedown}>\r\n                    </div>\r\n                )\r\n            }\r\n\r\n            return (\r\n                <div class={[...virtualList.classes.value, 'pl-virtual-table']}>\r\n                    <pl-scroll ref=\"scroll\" onScroll={handler.scroll} scrollX={true} {...{\r\n                        props: props.scrollProps, scopedSlots: {'horizontal-scrollbar': horizontalScrollbar}\r\n                    }}>\r\n                        <div class=\"pl-virtual-list-strut\" style={{...strutStyles.value, width: `${props.width}px`}}>\r\n                            <div class=\"pl-virtual-list-content\" style={contentStyles.value}>\r\n                                <table cellspacing={0}\r\n                                       cellpadding={0}\r\n                                       border={0}\r\n                                       style={tableStyles.value}>\r\n                                    {slots.$slots.colgroup}\r\n                                    {virtualList.targetData.value.map(({item, index}) => !virtualList.$scopedSlots.default ? null : virtualList.$scopedSlots.default({item, index, isSummary: false}))}\r\n                                </table>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {(!!props.summaryData && props.summaryData.length > 0) && (\r\n                            <div slot=\"content\"\r\n                                 class=\"pl-virtual-table-summary-table-wrapper\">\r\n                                <table class=\"pl-virtual-table-summary-table\"\r\n                                       style={summaryTableStyles.value}\r\n                                       cellspacing={0}\r\n                                       cellpadding={0}\r\n                                       border={0}>\r\n                                    {slots.$slots.colgroup}\r\n                                    {props.summaryData.map((item, index) => !virtualList.$scopedSlots.default ? null : virtualList.$scopedSlots.default({item, index, isSummary: true}))}\r\n                                </table>\r\n                            </div>\r\n                        )}\r\n\r\n                    </pl-scroll>\r\n                </div>\r\n            )\r\n        }\r\n    },\r\n})","import virtualTable from './virtual-table'\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    virtualTable,\r\n])","import table from './table'\r\nimport plc from './plc'\r\nimport component from './component'\r\n\r\nimport {installPlugin} from \"@/util/install\";\r\n\r\nexport default installPlugin([\r\n    table,\r\n], [\r\n    plc,\r\n    component,\r\n])","import 'src/style/index.scss'\r\nimport PLC from \"@/packages/table/plc-components\";\r\n\r\nimport Button from './packages/button'\r\nimport Input from './packages/input'\r\nimport Icon from './packages/icon'\r\nimport Collapse from './packages/collapse'\r\nimport Loading from './packages/loading'\r\nimport List from './packages/list'\r\nimport Message from './packages/message'\r\nimport Notice from './packages/notice'\r\nimport Grid from './packages/grid'\r\nimport Radio from './packages/radio'\r\nimport Checkbox from './packages/checkbox'\r\nimport Number from './packages/number'\r\nimport Toggle from './packages/toggle'\r\nimport Slider from './packages/slider'\r\nimport Tag from './packages/tag'\r\nimport Rate from './packages/rate'\r\nimport Scroll from './packages/scroll'\r\nimport Portal from './packages/portal'\r\nimport Dialog from './packages/dialog'\r\nimport Popper from './packages/popper'\r\nimport Popover from './packages/popover'\r\nimport ColorPicker from './packages/color-picker'\r\nimport Tooltip from './packages/tooltip'\r\nimport Dropdown from './packages/dropdown'\r\nimport Card from './packages/card'\r\nimport Alert from './packages/alert'\r\nimport Carousel from './packages/carousel'\r\nimport VirtualList from './packages/virtual-list'\r\nimport Progress from './packages/progress'\r\nimport Pagination from \"@/packages/pagination\";\r\nimport Badge from './packages/badge'\r\nimport Step from './packages/step'\r\nimport Triangle from './packages/triangle'\r\nimport Tab from './packages/tab'\r\nimport TabHeader from './packages/tab-header'\r\nimport FilletCorner from './packages/fillet-corner'\r\nimport Tree from './packages/tree'\r\nimport VirtualTree from './packages/virtual-tree'\r\nimport Cascade from './packages/cascade'\r\nimport Time from './packages/time'\r\nimport DateTimeInput from './packages/date-time-input'\r\nimport Date from './packages/date'\r\nimport Select from './packages/select'\r\nimport Form from './packages/form'\r\nimport Table from './packages/table'\r\n\r\nimport {installPlugin, PluginType} from \"@/util/install\";\r\n\r\nconst plugins = [\r\n    PLC,\r\n    Icon,\r\n    Button, Input, Loading, Radio, Checkbox, Number, Toggle, Slider, Tag, Rate, ColorPicker, Cascade, Time, DateTimeInput, Date, Select, Form, Table,\r\n    Collapse, List, Grid, Scroll, Portal,\r\n    Message, Notice, Dialog, Popper, Popover, Tooltip, Dropdown, Step,\r\n    Card, Carousel, VirtualList, Progress, Pagination, Tab, Tree, VirtualTree,\r\n    Alert, Badge, Triangle,\r\n    TabHeader, FilletCorner,\r\n]\r\n\r\nconst install: PluginType['install'] = Vue => {\r\n    plugins.forEach(plugin => Vue.use(plugin))\r\n}\r\n\r\nexport {\r\n    PLC,\r\n    Icon,\r\n    Button, Input, Loading, Radio, Checkbox, Number, Toggle, Slider, Tag, Rate, ColorPicker, Cascade, Time, DateTimeInput, Date, Select, Form, Table,\r\n    Collapse, List, Grid, Scroll, Portal,\r\n    Message, Notice, Dialog, Popper, Popover, Tooltip, Dropdown, Step,\r\n    Card, Carousel, VirtualList, Progress, Pagination, Tab, Tree, VirtualTree,\r\n    Alert, Badge, Triangle,\r\n    TabHeader, FilletCorner,\r\n\r\n    install,\r\n}\r\n\r\nexport default installPlugin({install})","import Vue from 'vue';\r\nimport VueCompositionApi from '@vue/composition-api';\r\nimport App from './App';\r\nimport Components from './component'\r\n\r\nimport './lib/iconfont_css/iconfont.css'\r\nimport './lib/iconfont_js/iconfont.js'\r\n\r\nimport PLAIN from '../src'\r\nimport {Icon} from '../src'\r\nIcon.registry('pli','pli-icon')\r\n\r\nVue.config.productionTip = false;\r\nVue.use(VueCompositionApi);\r\nVue.use(PLAIN)\r\nVue.use(Components)\r\n\r\nnew Vue({\r\n    render: h => h(App),\r\n}).$mount('#app');\r\n","import {getCurrentInstance} from \"@vue/composition-api\";\r\n\r\nexport function useRefer(refer: any) {\r\n    const ctx = getCurrentInstance() as any\r\n    Object.keys(refer).forEach(key => {\r\n        if (ctx[key] !== undefined) {\r\n            console.log({key, ctx, refer})\r\n            throw new Error(`useRefer error: key [${key}] is exist on context!`)\r\n        } else {\r\n            ctx[key] = refer[key]\r\n        }\r\n    })\r\n    return ctx\r\n}","import PlainUtils from '../../submodules/plain-utils'\r\n\r\nexport function toArray<T>(t: T | T[]): T[] {\r\n    return Array.isArray(t) ? t : [t]\r\n}\r\n\r\nexport {PlainUtils}","/**\r\n * 判断是否存在于数组中\r\n * @author 韦胜健\r\n * @date 2018/11/19\r\n */\r\nexport function oneOf(array: any[] | null, val: any): boolean {\r\n    return !!array && array.indexOf(val) > -1\r\n}\r\n\r\n/**\r\n * 判断变量类型\r\n * @author 韦胜健\r\n * @date 2018/11/19\r\n */\r\nexport const typeOf = (obj: any): 'boolean' | 'number' | 'string' | 'function' | 'array' | 'date' | 'regExp' | 'undefined' | 'null' | 'object' | 'promise' | 'regexp' | null => {\r\n    const toString = Object.prototype.toString;\r\n    const map = {\r\n        '[object Boolean]': 'boolean',\r\n        '[object Number]': 'number',\r\n        '[object String]': 'string',\r\n        '[object Function]': 'function',\r\n        '[object Array]': 'array',\r\n        '[object Date]': 'date',\r\n        '[object RegExp]': 'regExp',\r\n        '[object Undefined]': 'undefined',\r\n        '[object Null]': 'null',\r\n        '[object Object]': 'object',\r\n        '[object Promise]': 'promise',\r\n    };\r\n    const desc = toString.call(obj)\r\n    if (map.hasOwnProperty(desc)) {\r\n        // @ts-ignore\r\n        return map[desc]\r\n    } else {\r\n        console.log('unable to recognise type:' + desc)\r\n        return null\r\n    }\r\n}\r\n\r\n/**\r\n * 深度复制数据\r\n * @author  韦胜健\r\n * @date    2019/11/5 20:23\r\n */\r\nexport const deepcopy = <T>(data: T): T => {\r\n    switch (typeOf(data)) {\r\n        case 'array':\r\n            // @ts-ignore\r\n            return (data).map((item: any) => deepcopy(item))\r\n        case 'object':\r\n            return Object.keys(data).reduce((ret: any, key: string) => {\r\n                ret[key] = deepcopy(data[key])\r\n                return ret\r\n            }, {})\r\n        case 'date':\r\n            const newDate = new Date()\r\n            // @ts-ignore\r\n            newDate.setTime((data as Date).getTime())\r\n            return newDate as any\r\n        case 'regexp':\r\n            // @ts-ignore\r\n            let pattern = data.valueOf();\r\n            let flags = '';\r\n            flags += pattern.global ? 'g' : '';\r\n            flags += pattern.ignoreCase ? 'i' : '';\r\n            flags += pattern.multiline ? 'm' : '';\r\n            return new RegExp(pattern.source, flags) as any;\r\n        default :\r\n            return data\r\n    }\r\n}\r\n\r\n/**\r\n * 继承属性\r\n * @author  韦胜健\r\n * @date    2019/11/10 17:52\r\n */\r\nexport const extend = <T, U>(to: T, from: U): T & U => {\r\n    const ret = deepcopy(to) as T & U\r\n    for (const key in from) {\r\n        ret[key] = from[key] as any\r\n    }\r\n    return ret as T & U\r\n}\r\n\r\n/**\r\n * 判断是否为合法的数字\r\n * @author  韦胜健\r\n * @date    2019/11/5 20:29\r\n */\r\nexport const isNumber = (val: any): boolean => {\r\n    if (val === '' || val == null) return false\r\n    return !isNaN(val)\r\n}\r\n\r\n/**\r\n * 打乱数组\r\n * @author  韦胜健\r\n * @date    2019/1/10 10:56\r\n */\r\nexport const shuffle = <T>(array: T[]): T[] => {\r\n    if (!array) return array\r\n    array = [...array]\r\n    let currentIndex = array.length;\r\n    let temporaryValue, randomIndex;\r\n    while (0 !== currentIndex) {\r\n        randomIndex = Math.floor(Math.random() * currentIndex);\r\n        currentIndex -= 1;\r\n        temporaryValue = array[currentIndex];\r\n        array[currentIndex] = array[randomIndex];\r\n        array[randomIndex] = temporaryValue;\r\n    }\r\n    return array\r\n}\r\n\r\n/**\r\n * 从数组中查找一个\r\n * @author  韦胜健\r\n * @date    2019/1/10 10:56\r\n */\r\nexport const findOne = <T>(array: T[], fn: (item: T, index: number) => boolean, index = false) => {\r\n    for (let i = 0; i < array.length; i++) {\r\n        const item = array[i];\r\n        if (!!fn(item, i)) {\r\n            return !index ? item : {item, index: i}\r\n        }\r\n    }\r\n    return null\r\n}\r\n\r\n/**\r\n * 从数组中查找多个\r\n * @author  韦胜健\r\n * @date    2019/1/10 10:57\r\n */\r\nexport const findSome = <T>(array: T[], fn: (item: T) => boolean) => {\r\n    const ret = [] as T[]\r\n    for (let i = 0; i < array.length; i++) {\r\n        const item = array[i];\r\n        if (!!fn(item)) ret.push(item)\r\n    }\r\n    return ret\r\n}\r\n\r\n/**\r\n * 插入排序\r\n * @author 韦胜健\r\n * @date 2018/11/19\r\n */\r\nexport const insertSort = <T>(arr: T[], func: (prev: T, next: T) => boolean) => {\r\n    let len = arr.length;\r\n    for (let i = 1; i < len; i++) {\r\n        let temp = arr[i];\r\n        /*默认已排序的元素*/\r\n        let j = i - 1;\r\n        /*在已排序好的队列中从后向前扫描*/\r\n        while (j >= 0 && func(arr[j], temp)) {\r\n            /*已排序的元素大于新元素，将该元素移到一下个位置*/\r\n            arr[j + 1] = arr[j];\r\n            j--;\r\n        }\r\n        arr[j + 1] = temp;\r\n    }\r\n    return arr\r\n}\r\n\r\n/**\r\n * 在数组中移除某一项\r\n * @author  韦胜健\r\n * @date    2019/11/5 21:02\r\n */\r\nexport const removeSome = <T>(array: T[], fn: (item: T, index: number) => boolean) => {\r\n    let count = 0\r\n    if (!array) return count\r\n\r\n    for (let i = 0; i < array.length; i++) {\r\n        const item = array[i];\r\n        if (fn(item, i)) {\r\n            array.splice(i, 1)\r\n            i--\r\n            count++\r\n        }\r\n    }\r\n\r\n    return count\r\n}\r\n\r\n/**\r\n * 数组分块\r\n * @author  韦胜健\r\n * @date    2019/11/5 21:06\r\n */\r\nexport const chunk = <T>(array: T[], size: number) => {\r\n    size = Math.max(size, 0)\r\n    const length = array == null ? 0 : array.length\r\n    if (!length || size < 1) {\r\n        return []\r\n    }\r\n\r\n    let index = 0\r\n    let resIndex = 0\r\n    const result = new Array(Math.ceil(length / size))\r\n\r\n    while (index < length) {\r\n        result[resIndex++] = array.slice(index, index += size)\r\n    }\r\n    return result\r\n}\r\n\r\nexport const deepEqual = (source: any, target: any): boolean => {\r\n\r\n    switch (typeOf(source)) {\r\n        case 'number':\r\n            return Number(source) === Number(target)\r\n        case 'string':\r\n            return source == target\r\n        case 'boolean':\r\n        case 'function':\r\n            return source === target\r\n        case 'null':\r\n        case 'undefined':\r\n            return source == target\r\n        case 'array':\r\n            if (typeOf(target) !== 'array') return false\r\n            let len = source.length > target.length ? source.length : target.length\r\n            for (let i = 0; i < len; i++) {\r\n                const item = source[i];\r\n                let targetItem = target[i]\r\n                let flag = deepEqual(item, targetItem)\r\n                if (!flag) return false\r\n            }\r\n            return true\r\n        case 'object':\r\n            if (typeOf(target) !== 'object') return false\r\n            let keys = Array.from(new Set([...Object.keys(source), ...Object.keys(target)]))\r\n            for (let i = 0; i < keys.length; i++) {\r\n                const key = keys[i];\r\n                let flag = deepEqual(source[key], target[key])\r\n                if (!flag) return false\r\n            }\r\n            return true\r\n    }\r\n\r\n    return false\r\n}","import {typeOf} from \"./object\";\r\n\r\nexport const delay = <T>(dur: number = 0) => {\r\n    return new Promise((resolve) => {\r\n        setTimeout(resolve, dur)\r\n    })\r\n}\r\n\r\n/**\r\n * 判断是否为日期对象\r\n * @author  韦胜健\r\n * @date    2019/11/5 20:38\r\n */\r\nexport const isDate = (val: any): val is Date => {\r\n    return typeOf(val) === 'date'\r\n}\r\n\r\n/**\r\n * 判断是否为普通对象\r\n * @author  韦胜健\r\n * @date    2019/10/15 22:19\r\n */\r\nexport const isPlainObject = (val: any): val is Object => {\r\n    return typeOf(val) === 'object'\r\n}\r\n\r\n/**\r\n * 转义特殊字符\r\n * @author  韦胜健\r\n * @date    2019/11/5 20:40\r\n */\r\nexport const encode = (val: string): string => {\r\n    return encodeURIComponent(val)\r\n        .replace(/%40/g, '@')\r\n        .replace(/%3A/ig, ':')\r\n        .replace(/%24/g, '$')\r\n        .replace(/%2C/ig, ',')\r\n        .replace(/%20/g, '+')\r\n        .replace(/%5B/ig, '[')\r\n        .replace(/%5D/ig, ']')\r\n}\r\n\r\n/**\r\n * 节流\r\n * @author  韦胜健\r\n * @date    2019/11/16 18:49\r\n * @param   func                //核心函数\r\n * @param   wait                //节流时长（该时间段内只执行一次func）\r\n * @param   options             //额外参数\r\n * @param   options.trailing    //最后一次应该被触发，默认为true\r\n * @param   options.leading     //第一次是否立即执行\r\n */\r\nexport const throttle = <T extends Function>(func: T, wait: number, options: { trailing?: boolean, leading?: boolean } = {}): T => {\r\n    let args: any, context: any, previous = 0, timeout: any;\r\n    let later = () => {\r\n        // console.log('later click：' + Date.now() % 10000)\r\n        previous = options.leading === false ? 0 : Date.now()\r\n        func.apply(context, args)\r\n        args = context = timeout = null\r\n    }\r\n\r\n    return function () {\r\n        args = arguments\r\n        // @ts-ignore\r\n        context = this\r\n        let now = Date.now()\r\n\r\n        if (!previous && options.leading === false) {\r\n            previous = now\r\n        }\r\n\r\n        let remaining = wait - (now - previous)\r\n\r\n        if (remaining <= 0) {\r\n            /*第一次*/\r\n            if (timeout) {\r\n                clearTimeout(timeout)\r\n                timeout = null\r\n            }\r\n            // console.log('throttle click：' + Date.now() % 10000)\r\n            func.apply(context, args)\r\n            previous = now\r\n\r\n        } else if (!timeout && options.trailing !== false) {\r\n            timeout = setTimeout(later, remaining)\r\n        }\r\n    } as any\r\n}\r\n\r\n/**\r\n * 防抖\r\n * @author  韦胜健\r\n * @date    2019/11/16 19:31\r\n */\r\nexport const debounce = <T extends Function>(func: T, wait: number, immediate?: boolean): T => {\r\n    let timeout: any\r\n\r\n    return function (...args: any[]) {\r\n        // @ts-ignore\r\n        const context = this\r\n        clearTimeout(timeout)\r\n        if (immediate) {\r\n            let callNow = !timeout\r\n            // @ts-ignore\r\n            if (callNow) func.apply(this, args)\r\n        }\r\n        timeout = setTimeout(() => {\r\n            func.apply(context, args)\r\n            timeout = null\r\n        }, wait)\r\n    } as any\r\n}\r\n\r\n/**\r\n * 判断是否为ie，是的话，返回ie的版本\r\n * @author  韦胜健\r\n * @date    2020/7/27 22:49\r\n */\r\nexport const ie = (() => {\r\n    let userAgent = navigator.userAgent; //取得浏览器的userAgent字符串\r\n    let isIE = userAgent.indexOf(\"compatible\") > -1 && userAgent.indexOf(\"MSIE\") > -1; //判断是否IE<11浏览器\r\n    let isEdge = userAgent.indexOf(\"Edge\") > -1 && !isIE; //判断是否IE的Edge浏览器\r\n    let isIE11 = userAgent.indexOf('Trident') > -1 && userAgent.indexOf(\"rv:11.0\") > -1;\r\n    if (isIE) {\r\n        let reIE = new RegExp(\"MSIE (\\\\d+\\\\.\\\\d+);\");\r\n        reIE.test(userAgent);\r\n        let fIEVersion = parseFloat(RegExp[\"$1\"]);\r\n        if (fIEVersion === 7) {\r\n            return 7;\r\n        } else if (fIEVersion === 8) {\r\n            return 8;\r\n        } else if (fIEVersion === 9) {\r\n            return 9;\r\n        } else if (fIEVersion === 10) {\r\n            return 10;\r\n        } else {\r\n            return 6;//IE版本<=7\r\n        }\r\n    } else if (isEdge) {\r\n        return 'edge';//edge\r\n    } else if (isIE11) {\r\n        return 11; //IE11\r\n    } else {\r\n        return false;//不是ie浏览器\r\n    }\r\n})()","/**\r\n * 驼峰命名转横岗命名\r\n * @author  韦胜健\r\n * @date    2019/10/28 20:15\r\n */\r\nimport {encode, isDate, isPlainObject} from \"./utils\";\r\n\r\nexport const kebabCase = (str: string | null): string | null => {\r\n    if (!str) return null\r\n    if (str.length > 1 && /[A-Z]/.test(str.charAt(0))) {\r\n        str = str.charAt(0).toLowerCase() + str.substring(1)\r\n    }\r\n    return str.replace(/[A-Z]/g, (i) => '-' + i.toLowerCase())\r\n}\r\n\r\n/**\r\n * 转为驼峰命名\r\n * @author  韦胜健\r\n * @date    2019/10/28 20:17\r\n */\r\nexport const camelCase = (str: string | null): string | null => {\r\n    if (!str) return null\r\n    const SPECIAL_CHARS_REGEXP = /([:\\-_]+(.))/g;\r\n    const MOZ_HACK_REGEXP = /^moz([A-Z])/;\r\n    str = str\r\n        .replace(SPECIAL_CHARS_REGEXP, function (_, separator, letter, offset) {\r\n            return offset ? letter.toUpperCase() : letter;\r\n        })\r\n        .replace(MOZ_HACK_REGEXP, 'Moz$1');\r\n\r\n    if (str.length > 1 && /[a-z]/.test(str.charAt(0))) {\r\n        return str.charAt(0).toUpperCase() + str.substring(1)\r\n    } else {\r\n        return str\r\n    }\r\n}\r\n\r\n/**\r\n * 填充0字符\r\n * @author  韦胜健\r\n * @date    2019/10/28 20:40\r\n */\r\nexport const zeroize = (value: string | number, length = 2): string => {\r\n\r\n    if (value == null) {\r\n        value = ''\r\n    }\r\n\r\n    value = String(value)\r\n    const zeroLen = length - value.length\r\n    if (zeroLen <= 0) return value\r\n\r\n    return new Array(zeroLen).fill('0').join('') + value\r\n}\r\n\r\n/**\r\n * 移除字符单位\r\n * @author  韦胜健\r\n * @date    2019/11/5 20:20\r\n */\r\nexport const removeUnit = (data: string | number | undefined | null, unit = 'px'): string => {\r\n    if (!data) return ''\r\n    data = String(data)\r\n    if (data.indexOf(unit) > -1) {\r\n        return data.replace(unit, '')\r\n    } else {\r\n        return data\r\n    }\r\n}\r\n\r\n/**\r\n * 去掉px字符\r\n * @author  韦胜健\r\n * @date    2019/10/28 20:50\r\n */\r\nexport const removePx = (str: string | number | null | string): string | null | undefined => {\r\n    return removeUnit(str, 'px')\r\n}\r\n\r\n/**\r\n * 获取唯一标识符\r\n * @author 韦胜健\r\n * @date 2018/11/19\r\n */\r\nexport const uuid = (): string => {\r\n    let s: string[] = [];\r\n    let hexDigits = '0123456789abcdef';\r\n    for (let i = 0; i < 36; i++) {\r\n        s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);\r\n    }\r\n    s[14] = '4';                                        // bits 12-15 of the time_hi_and_version field to 0010\r\n    s[19] = hexDigits.substr((Number(s[19]) & 0x3) | 0x8, 1);   // bits 6-7 of the clock_seq_hi_and_reserved to 01\r\n    s[8] = s[13] = s[18] = s[23] = '-';\r\n\r\n    let uuid = s.join('');\r\n    return uuid;\r\n}\r\n\r\n/**\r\n * 添加字符单位\r\n * @author  韦胜健\r\n * @date    2019/1/10 10:56\r\n */\r\nexport const unit = (data: string | number | undefined | null, unit = 'px'): string => {\r\n    if (!data) return ''\r\n    data = String(data)\r\n    if (data.indexOf(unit) > -1) {\r\n        return data\r\n    } else {\r\n        return `${data}${unit}`\r\n    }\r\n}\r\n\r\nexport const suffixPx = (val: any): string | undefined => {\r\n    if (val == null) return undefined\r\n    if (/^[\\d]+$/.test(String(val))) {\r\n        return `${val}px`\r\n    }\r\n    return val as string\r\n}\r\n\r\n/**\r\n * 根据传入的参数params，生成url\r\n * @author  韦胜健\r\n * @date    2019/11/5 20:40\r\n */\r\nexport const encodeUrl = (url: string, params: object) => {\r\n    if (!params) return url\r\n\r\n    const parts: string[] = []\r\n    Object.keys(params).forEach(key => {\r\n        const val = params[key] as any\r\n        if (val === null || typeof val === 'undefined') {\r\n            return\r\n        }\r\n        let values = [] as any[]\r\n        if (Array.isArray(val)) {\r\n            values = val\r\n            key += '[]'\r\n        } else {\r\n            values = [val]\r\n        }\r\n\r\n        values.forEach(val => {\r\n            if (isDate(val)) {\r\n                val = val.toISOString()\r\n            } else if (isPlainObject(val)) {\r\n                val = JSON.stringify(val)\r\n            }\r\n            parts.push(`${encode(key)}=${encode(val)}`)\r\n        })\r\n    })\r\n\r\n    let serializedParams = parts.join('&')\r\n    if (serializedParams) {\r\n        const markIndex = url.indexOf('#')\r\n        if (markIndex !== -1) url = url.slice(0, markIndex)\r\n        url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams\r\n    }\r\n\r\n    return url\r\n}\r\n\r\n/**\r\n * 解析url，得到纯净的url，params参数以及哈希值\r\n * @author  韦胜健\r\n * @date    2019/11/5 20:52\r\n */\r\nexport const decodeUrl = (url: string): null | { url: string, params: object, hash: string } => {\r\n    if (!url) return null\r\n\r\n    let parts = url.split(/[?#]/)\r\n\r\n    if (parts.length === 0) {\r\n        console.error('地址解析失败！url=' + url)\r\n        return null\r\n    }\r\n\r\n    let params = {} as any\r\n    if (parts.length >= 2) {\r\n        const paramParts = parts[1].split('&')\r\n        paramParts.forEach((item: string) => {\r\n            if (!item) return\r\n            const [key, value] = item.split('=')\r\n            params[decodeURIComponent(key)] = decodeURIComponent(value)\r\n        })\r\n    }\r\n\r\n    return {\r\n        url: parts[0] as string,\r\n        params,\r\n        hash: parts[2] as string\r\n    }\r\n}\r\n","/**\r\n * 判断元素是否拥有某个cls\r\n * @author  韦胜健\r\n * @date    2019/11/5 21:10\r\n */\r\nexport const hasClass = (el: HTMLElement, cls: string | string[]): boolean => {\r\n    const clsList = Array.isArray(cls) ? cls : [cls]\r\n    const classList = !!el.classList && !!el.classList.value ? el.classList.value.split(' ') : (el.className || '').split(' ')\r\n    return clsList.some(item => classList.indexOf(item) > -1)\r\n}\r\n\r\n/**\r\n * 添加class\r\n * @author 韦胜健\r\n * @date 2018/11/19\r\n */\r\nexport const addClass = (el: HTMLElement, addCLs: string | string[]): void => {\r\n    if (!el || !addCLs) return;\r\n    let addClasses;\r\n    if (Array.isArray(addCLs)) {\r\n        addClasses = addCLs\r\n    } else {\r\n        addClasses = (addCLs as string).split(' ')\r\n    }\r\n    if (!!el.classList && !!el.classList.value) {\r\n        addClasses.forEach(item => el.classList.add(item))\r\n    } else {\r\n        const curClasses = (el.className || '').split(' ')\r\n        addClasses.forEach(item => {\r\n            if (curClasses.indexOf(item) === -1) curClasses.push(item)\r\n        })\r\n        el.className = curClasses.join(' ')\r\n    }\r\n}\r\n\r\n/**\r\n * 删除class\r\n * @author 韦胜健\r\n * @date 2018/11/19\r\n */\r\nexport const removeClass = (el: HTMLElement, rmCls: string | string[]): void => {\r\n    if (!el || !rmCls) return;\r\n\r\n    let rmClasses;\r\n    if (Array.isArray(rmCls)) {\r\n        rmClasses = rmCls\r\n    } else {\r\n        rmClasses = (rmCls as string).split(' ')\r\n    }\r\n\r\n    if (!!el.classList && !!el.classList.value) {\r\n        rmClasses.forEach(item => el.classList.remove(item))\r\n    } else {\r\n        const curClasses = (el.className || '').split(' ')\r\n        for (let i = 0; i < rmClasses.length; i++) {\r\n            const rmClass = rmClasses[i];\r\n            const index = curClasses.indexOf(rmClass)\r\n            if (index > -1) {\r\n                curClasses.splice(index, 1)\r\n                i--\r\n            }\r\n        }\r\n        el.className = curClasses.join(' ')\r\n    }\r\n}\r\n\r\n/**\r\n * 在元素节点后面添加新的节点\r\n * @author 韦胜健\r\n * @date 2018/11/19\r\n */\r\nexport const insertAfter = (newEl: HTMLElement, targetEl: HTMLElement): void => {\r\n    let parentEl = targetEl.parentNode;\r\n    if (!!parentEl) {\r\n        if (parentEl.lastChild === targetEl) {\r\n            // 如果最后的节点是目标元素，则直接添加。因为默认是最后\r\n            parentEl.appendChild(newEl);\r\n        } else {\r\n            //如果不是，则插入在目标元素的下一个兄弟节点 的前面。也就是目标元素的后面\r\n            parentEl.insertBefore(newEl, targetEl.nextSibling);\r\n        }\r\n    }\r\n}\r\n\r\n/*\r\n *  禁用全局选择文字功能\r\n *  @author     martsforever\r\n *  @datetime   2018/12/28 20:56\r\n */\r\nexport const enableUserSelect = (): void => {\r\n    // @ts-ignore\r\n    document.body.style.userSelect = null\r\n    delete document.body.style.userSelect\r\n}\r\n\r\n/*\r\n *  启用全局选择文字功能\r\n *  @author     martsforever\r\n *  @datetime   2018/12/28 20:56\r\n */\r\nexport const disabledUserSelect = (): void => {\r\n    document.body.style.userSelect = 'none';\r\n}\r\n\r\n/**\r\n * 复制内容到剪切板\r\n * @author  韦胜健\r\n * @date    2019/4/4 15:51\r\n */\r\nexport const copyToClipboard = (text: string, success: Function, error: Function): void => {\r\n\r\n    const textArea = document.createElement(\"textarea\");\r\n    textArea.style.position = 'fixed';\r\n    textArea.style.top = '0';\r\n    textArea.style.left = '0';\r\n    textArea.style.width = '2em';\r\n    textArea.style.height = '2em';\r\n    textArea.style.padding = '0';\r\n    textArea.style.border = 'none';\r\n    textArea.style.outline = 'none';\r\n    textArea.style.boxShadow = 'none';\r\n    textArea.style.opacity = '0';\r\n    textArea.style.zIndex = '-1000';\r\n    textArea.value = text;\r\n    document.body.appendChild(textArea);\r\n    textArea.select();\r\n\r\n    try {\r\n        const successful = document.execCommand('copy');\r\n        if (successful) !!success && success()\r\n        else !!error && error(\"复制到剪切板失败！\");\r\n    } catch (err) {\r\n        !!error && error(err);\r\n    }\r\n\r\n    document.body.removeChild(textArea);\r\n}","import * as StringUtils from './utils/string'\r\nimport * as DomUtils from './utils/dom'\r\nimport * as ObjectUtils from './utils/object'\r\nimport * as Utils from './utils/utils'\r\n\r\nexport default {\r\n    ...StringUtils,\r\n    ...DomUtils,\r\n    ...ObjectUtils,\r\n    ...Utils,\r\n}","import {getCurrentInstance} from \"@vue/composition-api\";\r\nimport {PlainUtils} from \"@/util/util\";\r\n\r\n/**\r\n * 生成emit方法\r\n * @author  韦胜健\r\n * @date    2020/5/13 14:54\r\n */\r\n\r\n// input        -> input\r\n// itemClick    -> item-click\r\n// updateSTart  -> update:start\r\nexport function emitName2ListenName(emitName) {\r\n    return PlainUtils.kebabCase(emitName)!.replace('update-', 'update:')\r\n}\r\n\r\nexport const EmitFunc: ((data?) => void) = (() => null)\r\n\r\nexport function useEvent<T extends { [key: string]: Function }>(option: T): {\r\n    emit: T & { handleEmit: (data: { event: string, args: any[] }) => void },\r\n    on: { [key in keyof T]: (cb: T[key]) => void },\r\n    once: { [key in keyof T]: (cb: T[key]) => void },\r\n    off: { [key in keyof T]: (cb: T[key]) => void },\r\n} {\r\n\r\n    const keys = Object.keys(option)\r\n    const ctx = getCurrentInstance()!\r\n\r\n    let emit = {} as any\r\n    let on = {} as any\r\n    let once = {} as any\r\n    let off = {} as any\r\n\r\n    keys.forEach(key => {\r\n        /*派发事件名称，横岗命名*/\r\n        const kebabCaseName = emitName2ListenName(key)\r\n        emit[key] = (...args) => {\r\n            ctx.$emit(kebabCaseName, ...args)\r\n            ctx.$emit('emit', {event: kebabCaseName, args})\r\n            if (key === 'input') {\r\n                ctx.$emit('change', ...args)\r\n                ctx.$emit('emit', {event: 'change', args})\r\n            }\r\n        }\r\n        on[key] = (cb) => ctx.$on(kebabCaseName, cb)\r\n        once[key] = (cb) => ctx.$once(kebabCaseName, cb)\r\n        off[key] = (cb) => ctx.$off(kebabCaseName, cb)\r\n    })\r\n\r\n    emit.handleEmit = (data) => {\r\n        if (!data || !data.event) {\r\n            throw new Error('监听的不是一个emit事件！')\r\n        }\r\n        ctx.$emit(data.event, ...(data.args || []))\r\n    }\r\n\r\n    return {emit, on, once, off}\r\n}","export type Boundary = HTMLElement | string;\r\n\r\nexport enum Direction {\r\n    top = 'top',\r\n    bottom = 'bottom',\r\n    left = 'left',\r\n    right = 'right',\r\n}\r\n\r\nexport enum Align {\r\n    start = 'start',\r\n    center = 'center',\r\n    end = 'end'\r\n}\r\n\r\nexport type PlacementType = 'top-start' | 'top-center' | 'top-end' | 'top' |\r\n    'bottom-start' | 'bottom-center' | 'bottom-end' | 'bottom' |\r\n    'left-start' | 'left-center' | 'left-end' | 'left' |\r\n    'right-start' | 'right-center' | 'right-end' | 'right';\r\n\r\nexport interface Pos {\r\n    top: number,\r\n    left: number,\r\n    height: number,\r\n    width: number,\r\n}\r\n\r\nexport interface PlainPopperConfig {\r\n    popper: HTMLElement,                                    // 浮层元素\r\n    reference: HTMLElement,                                 // 目标元素\r\n    padding?: number,                                       // PlainPopper节点 外边距\r\n    offset?: number,                                        // popper 与 reference 在方向上的距离\r\n    boundary?: Boundary | undefined | null,                 // 边界元素,\r\n    placement?: PlacementType | undefined | null,           // 位置\r\n    arrowSize?: number,                                     // 箭头大小，设置为0则不初始化箭头\r\n    gpuAcceleration?: boolean,                              // 是否使用 transform 定位\r\n}\r\n\r\n/**\r\n * 获取dom元素\r\n * @author  韦胜健\r\n * @date    2020/9/22 9:28\r\n */\r\nfunction getEl(el: any): HTMLElement | null {\r\n    if (!el) {\r\n        return null\r\n    }\r\n    if (el === window || el === 'window') {\r\n        return document.documentElement\r\n    }\r\n    if (typeof el === \"string\") {\r\n        let ret = document.querySelector(el)\r\n        if (ret == null) {\r\n            throw new Error(`can't find HTMLElement:${el}!`)\r\n        }\r\n        return ret as HTMLElement\r\n    } else {\r\n        return el\r\n    }\r\n}\r\n\r\n/**\r\n * 判断是否为纵向\r\n * @author  韦胜健\r\n * @date    2020/9/22 9:40\r\n */\r\nexport function isVertical(direction: Direction) {\r\n    return [Direction.top, Direction.bottom].indexOf(direction) > -1\r\n}\r\n\r\n/**\r\n * 获取位置信息\r\n * @author  韦胜健\r\n * @date    2020/9/22 9:18\r\n */\r\nexport function getPos(el: HTMLElement): Pos {\r\n    const rect = el.getBoundingClientRect()!\r\n    const {offsetWidth, offsetHeight} = el\r\n    return {\r\n        left: rect.left,\r\n        top: rect.top,\r\n        width: offsetWidth,\r\n        height: offsetHeight,\r\n    }\r\n}\r\n\r\n/**\r\n * 获取边界信息\r\n * @author  韦胜健\r\n * @date    2020/9/22 9:19\r\n */\r\nexport const getBoundaryPos = (boundary: Boundary | undefined | null, contentRect: { width: number, height: number }, padding: number): {\r\n    maxTop: number,\r\n    minTop: number,\r\n    maxLeft: number,\r\n    minLeft: number,\r\n} => {\r\n    if (!boundary) {\r\n        return {\r\n            maxTop: Infinity,\r\n            minTop: -Infinity,\r\n            maxLeft: Infinity,\r\n            minLeft: -Infinity,\r\n        }\r\n    } else {\r\n        const boundaryEl = getEl(boundary)!\r\n        const {top, left, height, width} = getPos(boundaryEl)\r\n\r\n        return {\r\n            maxTop: top + height - contentRect.height - padding,\r\n            minTop: top,\r\n            maxLeft: left + width - contentRect.width - padding,\r\n            minLeft: left,\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * 根据placement获取位置信息\r\n * @author  韦胜健\r\n * @date    2020/9/22 9:53\r\n */\r\nexport function adjustPlacement(placement: PlacementType, referencePos: Pos, contentPos: Pos, offset: number, padding: number): {\r\n    pos: { top: number, left: number },\r\n    direction: Direction,\r\n    align: Align,\r\n} {\r\n\r\n    let [direction, align] = placement.split('-') as [Direction, Align]\r\n    align = align || Align.center\r\n    let left, top;\r\n\r\n    if (isVertical(direction)) {\r\n        top = direction === Direction.top ?\r\n            (referencePos.top - contentPos.height - padding)\r\n            : (referencePos.top + (referencePos.height - padding));\r\n        switch (align) {\r\n            case Align.start:\r\n                left = referencePos.left\r\n                break\r\n            case Align.center:\r\n                left = referencePos.left - (contentPos.width - referencePos.width) / 2\r\n                break\r\n            case Align.end:\r\n                left = referencePos.left + referencePos.width - contentPos.width\r\n                break\r\n        }\r\n        left -= padding\r\n    } else {\r\n        left = direction === Direction.left ?\r\n            (referencePos.left - contentPos.width - padding)\r\n            : (referencePos.left + (referencePos.width - padding));\r\n        switch (align) {\r\n            case Align.start:\r\n                top = referencePos.top\r\n                break\r\n            case Align.center:\r\n                top = referencePos.top - (contentPos.height - referencePos.height) / 2\r\n                break\r\n            case Align.end:\r\n                top = referencePos.top + referencePos.height - contentPos.height\r\n                break\r\n        }\r\n        top -= padding\r\n    }\r\n\r\n    switch (direction) {\r\n        case Direction.top:\r\n            top -= offset;\r\n            break\r\n        case Direction.bottom:\r\n            top += offset\r\n            break\r\n        case Direction.left:\r\n            left -= offset\r\n            break\r\n        case Direction.right:\r\n            left += offset\r\n            break\r\n    }\r\n\r\n\r\n    return {\r\n        pos: {\r\n            top,\r\n            left,\r\n        },\r\n        direction,\r\n        align,\r\n    }\r\n}\r\n\r\n/**\r\n * 给元素 设置位置\r\n * @author  韦胜健\r\n * @date    2020/9/22 10:14\r\n */\r\nexport function setPos(el: HTMLElement, {left, top}: { top: number, left: number }, gpuAcceleration: boolean) {\r\n    if (gpuAcceleration) {\r\n        left = Math.ceil(left)\r\n        top = Math.ceil(top)\r\n        if (left % 2 !== 0) left++\r\n        if (top % 2 !== 0) top++\r\n        el.style.transform = `translate3d(${left}px,${top}px,0)`\r\n        el.style.transitionDuration = '0ms'\r\n        el.style.willChange = 'transform'\r\n    } else {\r\n        el.style.left = `${left}px`\r\n        el.style.top = `${top}px`\r\n    }\r\n}\r\n\r\nconst origin = {\r\n    'top-start': 'bottom left',\r\n    'top-center': 'bottom center',\r\n    'top-end': 'bottom right',\r\n    'bottom-start': 'top left',\r\n    'bottom-center': 'top center',\r\n    'bottom-end': 'top right',\r\n    'left-start': 'right top',\r\n    'left-center': 'right center',\r\n    'left-end': 'right bottom',\r\n    'right-start': 'left top',\r\n    'right-center': 'left center',\r\n    'right-end': 'left bottom',\r\n}\r\n\r\n/**\r\n * 根据 placement 获取transform动画的origin\r\n * @author  韦胜健\r\n * @date    2020/9/22 10:19\r\n */\r\nexport function getTransformOriginByPlacement(placement: PlacementType) {\r\n    return origin[placement]\r\n}\r\n\r\n","import {StyleType} from \"@/types/utils\";\r\nimport {adjustPlacement, Align, Direction, getBoundaryPos, getPos, getTransformOriginByPlacement, isVertical, PlacementType, PlainPopperConfig, setPos} from \"./PlainPopperUtils\";\r\n\r\nexport class PlainPopper {\r\n\r\n    private readonly content: HTMLElement\r\n    private readonly arrow: HTMLElement | null\r\n    private readonly arrowSize: number\r\n\r\n    private get offset(): number {\r\n        return this.config.offset! + this.arrowSize\r\n    }\r\n\r\n    constructor(private config: PlainPopperConfig) {\r\n\r\n        (config.padding == null && (config.padding = 10));\r\n        (config.offset == null && (config.offset = 0));\r\n        (config.placement == null && (config.placement = 'bottom-start'));\r\n        (config.arrowSize == null && (config.arrowSize = 12));\r\n\r\n        this.content = config.popper.querySelector('.plain-popper-content') as HTMLElement\r\n        this.arrowSize = !config.arrowSize ? 0 : Math.sqrt(Math.pow(config.arrowSize, 2) / 2)\r\n        this.arrow = this.arrowSize == 0 ? null : config.popper.querySelector('.plain-popper-arrow') as HTMLElement\r\n\r\n        this.init()\r\n    }\r\n\r\n    private init() {\r\n\r\n        /*---------------------------------------init PlainPopper styles-------------------------------------------*/\r\n\r\n        /*popper styles*/\r\n        Object.assign(this.config.popper.style, {\r\n            overflow: 'hidden',\r\n            position: 'fixed',\r\n            pointerEvents: 'none',\r\n        } as StyleType)\r\n\r\n        /*content styles*/\r\n        Object.assign(this.content.style, {\r\n            pointerEvents: 'auto',\r\n            position: 'relative',\r\n            boxSizing: 'border-box',\r\n        } as StyleType)\r\n\r\n        /*arrow styles*/\r\n        if (this.arrowSize > 0) {\r\n            Object.assign(this.arrow!.style, {\r\n                height: `${this.arrowSize}px`,\r\n                width: `${this.arrowSize}px`,\r\n\r\n                position: 'absolute',\r\n                pointerEvents: 'none',\r\n                backgroundColor: 'inherit',\r\n                boxShadow: '-2px -2px 5px rgba(0, 0, 0, .1)',\r\n            } as StyleType)\r\n        }\r\n\r\n        /*---------------------------------------init done-------------------------------------------*/\r\n\r\n        this.refresh()\r\n        this.bindEvent()\r\n    }\r\n\r\n    public refresh() {\r\n        let left: number, top: number;\r\n        const {offset, content} = this\r\n        const {popper, reference, boundary, placement, gpuAcceleration} = this.config\r\n        const {padding} = this.config as { offset: number, padding: number }\r\n\r\n        const contentPos = getPos(content)\r\n        const referencePos = getPos(reference)\r\n\r\n        const {maxTop, minTop, maxLeft, minLeft} = getBoundaryPos(boundary, contentPos, padding)\r\n        let {pos, direction, align} = adjustPlacement(placement!, referencePos, contentPos, offset, padding)\r\n\r\n        switch (direction) {\r\n            case Direction.top:\r\n                if (pos.top < minTop) {\r\n                    const {pos: bottomPos} = adjustPlacement(`bottom-${align}` as Direction, referencePos, contentPos, offset, padding)\r\n                    if (bottomPos.top > maxTop) {\r\n                        top = pos.top\r\n                    } else {\r\n                        top = Math.max(minTop, bottomPos.top)\r\n                        direction = Direction.bottom\r\n                    }\r\n                } else {\r\n                    top = Math.min(maxTop, pos.top)\r\n                }\r\n                left = Math.min(maxLeft, Math.max(minLeft, pos.left))\r\n                break\r\n            case Direction.bottom:\r\n                if (pos.top > maxTop) {\r\n                    const {pos: topPos} = adjustPlacement(`top-${align}` as Direction, referencePos, contentPos, offset, padding)\r\n                    if (topPos.top < minTop) {\r\n                        top = pos.top\r\n                    } else {\r\n                        top = Math.min(maxTop, topPos.top)\r\n                        direction = Direction.top\r\n                    }\r\n                } else {\r\n                    top = Math.max(minTop, pos.top)\r\n                }\r\n                left = Math.min(maxLeft, Math.max(minLeft, pos.left))\r\n                break\r\n            case Direction.left:\r\n                if (pos.left < minLeft) {\r\n                    const {pos: rightPos} = adjustPlacement(`right-${align}` as Direction, referencePos, contentPos, offset, padding)\r\n                    if (rightPos.left > maxLeft) {\r\n                        left = pos.left\r\n                    } else {\r\n                        left = Math.max(minLeft, rightPos.left)\r\n                        direction = Direction.right\r\n                    }\r\n                } else {\r\n                    left = Math.min(maxLeft, pos.left)\r\n                }\r\n                top = Math.min(maxTop, Math.max(minTop, pos.top))\r\n                break\r\n            case Direction.right:\r\n                if (pos.left > maxLeft) {\r\n                    const {pos: leftPos} = adjustPlacement(`left-${align}` as Direction, referencePos, contentPos, offset, padding)\r\n                    if (leftPos.left < minLeft) {\r\n                        left = pos.left\r\n                    } else {\r\n                        left = Math.min(maxLeft, leftPos.left)\r\n                        direction = Direction.left\r\n                    }\r\n                } else {\r\n                    left = Math.max(minLeft, pos.left)\r\n                }\r\n                top = Math.min(maxTop, Math.max(minTop, pos.top))\r\n                break\r\n        }\r\n\r\n        (() => {\r\n\r\n            const paddingProp = isVertical(direction) ?\r\n                (direction === Direction.top ? 'Bottom' : 'Top') :\r\n                (direction === Direction.left ? 'Right' : 'Left');\r\n\r\n            ['Top', 'Bottom', 'Left', 'Right'].forEach(item => {\r\n                if (item === paddingProp) {\r\n                    this.config.popper.style[`padding${item}`] = `${offset}px`;\r\n                } else {\r\n                    this.config.popper.style[`padding${item}`] = `${padding}px`;\r\n                }\r\n            })\r\n\r\n            switch (paddingProp) {\r\n                case \"Top\":\r\n                    top += (padding - offset)\r\n                    break\r\n                case \"Bottom\":\r\n                    break\r\n                case \"Left\":\r\n                    left += (padding - offset)\r\n                    break\r\n                case \"Right\":\r\n                    break\r\n            }\r\n        })();\r\n\r\n        setPos(this.config.popper, {left, top}, !!gpuAcceleration)\r\n\r\n        this.content.style.transformOrigin = getTransformOriginByPlacement(`${direction}-${align}` as PlacementType);\r\n\r\n        popper.setAttribute('direction', direction)\r\n        popper.setAttribute('align', align)\r\n\r\n        this.refreshArrow(direction, align)\r\n    }\r\n\r\n    private refreshArrow(direction: Direction, align: Align) {\r\n\r\n        if (!this.arrow) {\r\n            return\r\n        }\r\n\r\n        const contentPos = getPos(this.content)\r\n\r\n        const {arrowSize} = this\r\n        let top: number, left: number;\r\n        let rotate = 0\r\n        switch (direction) {\r\n            case Direction.top:\r\n                top = contentPos.height - arrowSize / 2\r\n                rotate = 225\r\n                break\r\n            case Direction.bottom:\r\n                top = -arrowSize / 2\r\n                rotate = 45\r\n                break\r\n            case Direction.left:\r\n                left = contentPos.width - arrowSize / 2\r\n                rotate = 135\r\n                break\r\n            case Direction.right:\r\n                left = -arrowSize / 2\r\n                rotate = -45\r\n                break\r\n        }\r\n\r\n        const paddingSize = arrowSize * 2\r\n\r\n        if (isVertical(direction)) {\r\n            switch (align) {\r\n                case Align.start:\r\n                    left = paddingSize\r\n                    break\r\n                case Align.center:\r\n                    left = (contentPos.width - arrowSize) / 2\r\n                    break\r\n                case Align.end:\r\n                    left = (contentPos.width - arrowSize) - paddingSize\r\n                    break\r\n            }\r\n        } else {\r\n            switch (align) {\r\n                case Align.start:\r\n                    top = paddingSize\r\n                    break\r\n                case Align.center:\r\n                    top = (contentPos.height - arrowSize) / 2\r\n                    break\r\n                case Align.end:\r\n                    top = (contentPos.height - arrowSize) - paddingSize\r\n                    break\r\n            }\r\n        }\r\n\r\n        setPos(this.arrow!, {top: top!, left: left!}, !!this.config.gpuAcceleration)\r\n\r\n        Object.assign(this.arrow.style, {\r\n            transform: `rotate(${rotate}deg)`\r\n        } as StyleType)\r\n\r\n    }\r\n\r\n    private scrollEventListener: { el: HTMLElement, listener: Function }[] = []         //鉴定父元素滚动事件\r\n\r\n\r\n    /**\r\n     * 浏览器窗口变化，重新计算定位\r\n     * @author  韦胜健\r\n     * @date    2019/11/29 22:03\r\n     */\r\n    private onWindowResize = () => {\r\n        this.refresh()\r\n    }\r\n\r\n    private bindEvent() {\r\n        let parentEl = this.config.reference.parentNode as HTMLElement\r\n        while (!!parentEl) {\r\n            let listener = (e) => this.refresh()\r\n            parentEl.addEventListener('scroll', listener)\r\n            this.scrollEventListener.push({el: parentEl, listener})\r\n            parentEl = parentEl.parentNode as HTMLElement\r\n        }\r\n\r\n        window.addEventListener('resize', this.onWindowResize)\r\n    }\r\n\r\n    /**\r\n     * 解除绑定事件\r\n     * @author  韦胜健\r\n     * @date    2019/11/29 22:03\r\n     */\r\n    private unbindEvent(): void {\r\n        let scrollEventListener = this.scrollEventListener\r\n        while (scrollEventListener.length > 0) {\r\n            let {el, listener} = scrollEventListener.pop()!\r\n            el.removeEventListener('scroll', listener as any)\r\n        }\r\n        window.removeEventListener('resize', this.onWindowResize)\r\n    }\r\n\r\n    public destroy() {\r\n        this.unbindEvent()\r\n    }\r\n\r\n    /**\r\n     * 修改绑定位置\r\n     * @author  韦胜健\r\n     * @date    2019/11/30 18:33\r\n     */\r\n    public setPlacement(placement: PlacementType) {\r\n        this.config.placement = placement\r\n        this.refresh()\r\n    }\r\n}","import {computed, defineComponent, reactive} from \"@vue/composition-api\";\r\nimport {PLC_COLLECTOR, PlcComponentPublicData, PlcComponentType, PlcGroupProps, PlcProps} from \"@/packages/table/plc/plc-utils\";\r\nimport {useSlots} from \"@/use/useSlots\";\r\nimport {useCollectChild, useCollectParent} from \"@/use/useCollect\";\r\nimport {useRefer} from \"@/use/useRefer\";\r\n\r\nimport {FormatPropsType, useProps} from \"@/use/useProps\";\r\nimport {PlcType} from \"@/packages/table/plc/plc\";\r\nimport {ScopedSlotFunc, useScopedSlots} from \"@/use/useScopedSlots\";\r\nimport {$plain} from \"@/packages/base\";\r\n\r\nfunction plcGroupSetup(props: ExtractPropTypes<typeof PlcGroupProps>) {\r\n\r\n    const {$scopedSlots} = useScopedSlots({\r\n        head: ScopedSlotFunc,\r\n    })\r\n\r\n    useCollectChild({provideString: PLC_COLLECTOR})\r\n    const items = useCollectParent({sort: true, provideString: PLC_COLLECTOR}) as { value: (PlcType | PlcGroupType)[] }\r\n\r\n    const propsState = useProps(props, {\r\n        order: FormatPropsType.number,\r\n    })\r\n\r\n    const targetProps = computed(() => ({\r\n        ...props,\r\n        ...propsState\r\n    }))\r\n\r\n    // plc state：存储列动态变化的变量，优先级大于 props以及config\r\n    const state = reactive(Object.keys(PlcProps).reduce((ret, key) => {\r\n        ret[key] = null\r\n        return ret\r\n    }, {}) as PlainExtractPropTypes<typeof PlcProps> & { level: number })\r\n\r\n    function setDurWidth(durWidth: number) {\r\n        const itemDurWidth = Math.floor(durWidth / (items.value.length))\r\n        items.value.forEach(item => item.setDurWidth(itemDurWidth))\r\n    }\r\n\r\n    const refer = {\r\n        ...$plain.utils.deepcopy(PlcComponentPublicData),\r\n        scopedSlots: $scopedSlots,\r\n        _$scopedSlots: $scopedSlots,\r\n        type: PlcComponentType.GROUP,\r\n        /*这里之所以强制做类型变化，是因为经过了collector的计算属性转化，在使用的时候是没有Ref这一层的*/\r\n        // @ts-ignore\r\n        props: targetProps as PlainExtractPropTypes<typeof PlcGroupProps>,\r\n        items,\r\n        state,\r\n        setDurWidth,\r\n    }\r\n\r\n    useRefer(refer)\r\n    useRefer({refer})\r\n\r\n    return refer\r\n}\r\n\r\nexport type PlcGroupType = ReturnType<typeof plcGroupSetup>\r\n\r\n/**\r\n * 判断是否为plc分组\r\n * @author  韦胜健\r\n * @date    2020/8/14 15:39\r\n */\r\nexport function isPlcGroup(plc: PlcType | PlcGroupType): plc is PlcGroupType {\r\n    return plc.type === PlcComponentType.GROUP\r\n}\r\n\r\nexport default defineComponent({\r\n    name: 'plc-group',\r\n    props: {\r\n        ...PlcGroupProps,\r\n    },\r\n    setup(props) {\r\n\r\n        const {slots} = useSlots()\r\n        plcGroupSetup(props)\r\n\r\n        return () => (\r\n            <div class=\"plc-group\">\r\n                {slots.default()}\r\n            </div>\r\n        )\r\n    },\r\n})","import {set} from \"@vue/composition-api\";\r\nimport {toArray} from \"@/util/util\";\r\n\r\n/**\r\n * 触发器类型\r\n * @author  韦胜健\r\n * @date    2020/7/18 12:38\r\n */\r\nexport enum FormTrigger {\r\n    CHANGE = 'change',\r\n    BLUR = 'blur',\r\n    ALL = 'all',\r\n}\r\n\r\n/**\r\n * 校验的时候，值的类型\r\n * @author  韦胜健\r\n * @date    2020/7/18 12:38\r\n */\r\nexport enum FormValueType {\r\n    string = 'string',\r\n    number = 'number',\r\n    array = 'array',\r\n}\r\n\r\n/**\r\n * 校验字段的结果\r\n * @author  韦胜健\r\n * @date    2020/7/18 12:39\r\n */\r\nexport interface ValidateResult {\r\n    message: string,\r\n    rule: TargetRule\r\n}\r\n\r\n/**\r\n * 校验信息对象\r\n * @author  韦胜健\r\n * @date    2020/7/18 12:39\r\n */\r\nexport interface ValidateResultMap {\r\n    [k: string]: ValidateResult\r\n}\r\n\r\n/**\r\n * form以及formItem的rules属性类型\r\n * @author  韦胜健\r\n * @date    2020/7/18 12:39\r\n */\r\ninterface Rule {\r\n    validator?: (rule: Rule, value: any, formData: object) => void | string | Promise<void | string>,         // 自定义校验器\r\n    required?: boolean,                                                                     // 是否必填\r\n    trigger?: FormTrigger,                                                                  // 触发器\r\n    message?: string,                                                                       // 检验事变提示信息\r\n    type?: FormValueType,                                                                   // 数据的类型\r\n    max?: number,                                                                           // 最大长度（字符串），最大值（数字），最大长度（数组）\r\n    min?: number,                                                                           // 最小长度（字符串），最小值（数字），最小长度（数组）\r\n    field?: string                                                                          // 绑定的字段\r\n    label?: string                                                                          // form item 的文本\r\n    regexp?: RegExp                                                                         // 校验的正则表达式\r\n    options?: any | any[]                                                                   // 选项值校验\r\n}\r\n\r\n/**\r\n * FormItem对象需要的类型\r\n * @author  韦胜健\r\n * @date    2020/7/18 12:41\r\n */\r\ninterface FormItemType {\r\n    label?: string,\r\n    field?: string | string[]\r\n    required?: boolean,\r\n    rules?: Rule | Rule[]\r\n}\r\n\r\n/**\r\n * 目标校验规则对象类型\r\n * @author  韦胜健\r\n * @date    2020/7/18 12:41\r\n */\r\nexport interface TargetRule {\r\n    field: string,\r\n    trigger: FormTrigger,\r\n    validator: Rule[\"validator\"] | null,\r\n    required: boolean,                          // 是否有必填检验属性\r\n    message: string | null,\r\n    type: FormValueType,\r\n    max: number | null,\r\n    min: number | null,\r\n    label: string | null,\r\n    regexp: RegExp | null,\r\n    options: any | any[] | null,\r\n}\r\n\r\n/**\r\n * 将rule转化为targetRule\r\n * @author  韦胜健\r\n * @date    2020/7/18 12:41\r\n */\r\nfunction getTargetRule(rule: Rule): TargetRule | null {\r\n    if (!rule.field) {\r\n        return null\r\n    }\r\n    return {\r\n        field: rule.field,\r\n        trigger: rule.trigger || FormTrigger.CHANGE,\r\n        required: rule.required != null ? rule.required : false,\r\n        message: rule.message || null,\r\n        type: rule.type || FormValueType.string,\r\n        max: rule.max || null,\r\n        min: rule.min || null,\r\n        validator: rule.validator || null,\r\n        label: rule.label || null,\r\n        regexp: rule.regexp || null,\r\n        options: rule.options || null,\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * 根据表单校验规则以及所有的form-item对象获取所有的校验规则\r\n * @author  韦胜健\r\n * @date    2020/3/27 10:45\r\n */\r\nfunction getAllRules(\r\n    formRules: { [k: string]: Rule | Rule[] } | undefined,                      // form 接收得到的rules属性\r\n    formItems: FormItemType[],                                                  // form 收集得到的 form item 对象类型\r\n    allFieldLabels: Readonly<{ [k: string]: string | undefined }>,              // 根据 form item收集得到的field对应label的映射\r\n): TargetRule[] {\r\n\r\n    const targetRules: TargetRule[] = []\r\n\r\n    // 将formRules转化为targetRule，其中如果没有配置label，则从allFieldLabels中查找；\r\n    formRules = formRules || {}\r\n    Object.keys(formRules).forEach(field => {\r\n        const rules = toArray(formRules![field])\r\n        targetRules.push(...rules.map(rule => getTargetRule({\r\n            ...rule,\r\n            label: rule.label || allFieldLabels[field],\r\n            field,\r\n        })).filter(Boolean) as TargetRule[])\r\n    })\r\n\r\n    // 将 formItem中的信息转化为TargetRule\r\n    formItems = formItems || []\r\n    formItems.forEach(formItem => {\r\n        if (!formItem.field) {\r\n            return\r\n        }\r\n        let {field, label, rules, required} = formItem\r\n\r\n        const fields = toArray(field)\r\n        let formItemRules: Rule[] = []\r\n\r\n        // 如果设置了 required必填，则给每一个field添加一个必填的rule\r\n        if (required) {\r\n            fields.forEach(field => {\r\n                formItemRules.push({\r\n                    field,\r\n                    label: label || allFieldLabels[field],\r\n                    required: true,\r\n                })\r\n            })\r\n        }\r\n\r\n        if (!!rules) {\r\n            const ruleList = toArray(rules)\r\n            ruleList.forEach(rule => {\r\n                // 如果rule没有指定field，则给form item的每一个field添加一条这个rule的校验规则\r\n                if (!rule.field) {\r\n                    fields.forEach(field => {\r\n                        formItemRules.push({\r\n                            field,\r\n                            label: label || allFieldLabels[field],\r\n                            ...rule,\r\n                        })\r\n                    })\r\n                } else {\r\n                    // 否则仅天骄这条rule校验规则\r\n                    formItemRules.push({\r\n                        field: rule.field,\r\n                        label: label || allFieldLabels[rule.field],\r\n                        ...rule,\r\n                    })\r\n                }\r\n            })\r\n        }\r\n        targetRules.push(...formItemRules.map(rule => getTargetRule(rule)).filter(Boolean) as TargetRule[])\r\n    })\r\n\r\n    return targetRules\r\n}\r\n\r\n/**\r\n * 获取所有字段的必填信息\r\n * @author  韦胜健\r\n * @date    2020/3/27 10:45\r\n */\r\nfunction getAllRequired(targetRules: TargetRule[]): { [k: string]: boolean } {\r\n    return targetRules.reduce((ret: { [k: string]: boolean }, item: TargetRule) => {\r\n        if (!!item.required) ret[item.field] = true\r\n        return ret\r\n    }, {})\r\n}\r\n\r\n/**\r\n * 获取所有字段对应的文本信息\r\n * @author  韦胜健\r\n * @date    2020/3/27 11:12\r\n */\r\nfunction getAllFieldLabels(formItems: FormItemType[]): { [k: string]: string | undefined } {\r\n    return formItems.reduce((ret: { [k: string]: string | undefined }, item: FormItemType) => {\r\n        const fields = toArray(item.field).filter(Boolean) as string[]\r\n        fields.forEach(field => ret[field] = item.label || undefined)\r\n        return ret\r\n    }, {})\r\n}\r\n\r\n/**\r\n * 根据formItems以及formRule计算得到所有需要的校验信息\r\n * @author  韦胜健\r\n * @date    2020/7/19 11:47\r\n */\r\nexport function getValidateConfigData(\r\n    formItems: { label?: string, field?: string | unknown[], required?: boolean, rules?: object | undefined[] }[],\r\n    formRule: any\r\n) {\r\n    const allFieldLabels = getAllFieldLabels(formItems as any)\r\n    const allRules = getAllRules(formRule, formItems as any, allFieldLabels)\r\n    const allRequired = getAllRequired(allRules)\r\n\r\n    return {\r\n        allFieldLabels,\r\n        allRules,\r\n        allRequired,\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * 校验\r\n * @author  韦胜健\r\n * @date    2020/3/27 10:45\r\n */\r\nexport async function validateFieldByRules(targetRules: TargetRule[], formData: object, field: string, trigger: FormTrigger): Promise<null | ValidateResult> {\r\n\r\n    const value = formData[field]\r\n\r\n    for (let i = 0; i < targetRules.length; i++) {\r\n        const rule = targetRules[i];\r\n        let {required, min, max, regexp, message, validator, type, options} = rule\r\n\r\n        const reject = (defaultMessage: string) => ({message: message || defaultMessage, rule})\r\n\r\n        /*---------------------------------------required-------------------------------------------*/\r\n        if (typeof value === \"number\") {\r\n            type = FormValueType.number\r\n        }\r\n        if (Array.isArray(value)) {\r\n            type = FormValueType.array\r\n        }\r\n\r\n        if (required) {\r\n            switch (type) {\r\n                case FormValueType.array:\r\n                    if (!value) {\r\n                        return reject('必填！')\r\n                    } else if (value.length < 1) {\r\n                        return reject('至少选择一个选项！')\r\n                    }\r\n                    break\r\n                case FormValueType.number:\r\n                    if (!value && value != 0) {\r\n                        return reject('必填！')\r\n                    }\r\n                    break\r\n                case FormValueType.string:\r\n                    if (!value) {\r\n                        return reject('必填！')\r\n                    }\r\n                    break\r\n            }\r\n        }\r\n\r\n        if (value != null) {\r\n            if (max != null) {\r\n                switch (type) {\r\n                    case FormValueType.string:\r\n                        if (value.length > max) return reject(`长度不能大于 ${max} 个字符！`)\r\n                        break\r\n                    case FormValueType.number:\r\n                        if (value > max) return reject(`最大值 ${max}！`)\r\n                        break\r\n                    case FormValueType.array:\r\n                        if (value.length > max) return reject(`最多选择 ${max} 个选项！`)\r\n                        break\r\n                }\r\n            }\r\n            if (min != null) {\r\n                switch (type) {\r\n                    case FormValueType.string:\r\n                        if (value.length < min) return reject(`长度不能小于 ${min} 个字符！`)\r\n                        break\r\n                    case FormValueType.number:\r\n                        if (value < min) return reject(`最小值 ${min}！`)\r\n                        break\r\n                    case FormValueType.array:\r\n                        if (value.length < min) return reject(`最少选择 ${min} 个选项！`)\r\n                        break\r\n                }\r\n            }\r\n            if (regexp != null) {\r\n                if (!regexp.test(value)) {\r\n                    return reject('校验不通过！')\r\n                }\r\n            }\r\n        }\r\n\r\n        /*---------------------------------------validator-------------------------------------------*/\r\n        if (validator) {\r\n            const validateResult = await validator(rule as any, value, formData)\r\n            if (!!validateResult) return await reject(validateResult)\r\n        }\r\n\r\n        /*---------------------------------------options-------------------------------------------*/\r\n        if (!!options) {\r\n            if (Array.isArray(options)) {\r\n                if (options.indexOf(value) === -1) {\r\n                    return reject('校验不通过！')\r\n                }\r\n            } else {\r\n                if (options != value) {\r\n                    return reject('校验不通过！')\r\n                }\r\n            }\r\n        }\r\n    }\r\n    // 所有校验规则通过\r\n    return null\r\n}\r\n\r\n/**\r\n * 校验字段\r\n * @author  韦胜健\r\n * @date    2020/3/27 10:46\r\n */\r\nexport async function validateField(validateResult: ValidateResultMap, rules: TargetRule[], formData: object, field: string, trigger: FormTrigger): Promise<ValidateResult | null> {\r\n\r\n    rules = rules.filter(rule => rule.field === field)\r\n    rules = ((trigger === FormTrigger.ALL ? rules : rules.filter((rule) => rule.trigger === trigger)) as TargetRule[])\r\n\r\n    if (rules.length === 0) {\r\n        /* 没有符合 trigger 的规则，跳过*/\r\n        return null\r\n    }\r\n\r\n    // 有targetRules校验，并且将校验结果存放在 validateResultMap中\r\n    const result = await validateFieldByRules(rules, formData, field, trigger)\r\n    set(validateResult, field, result)\r\n    return result\r\n}\r\n\r\n/**\r\n * 校验所有信息\r\n * @author  韦胜健\r\n * @date    2020/7/18 11:14\r\n */\r\nexport async function validateAsync(config: {\r\n    validateResult: ValidateResultMap,\r\n    rules: TargetRule[],\r\n    formData: object,\r\n    onStart?: Function,\r\n    onEnd?: Function\r\n})\r\n    : Promise<null | { validateResult: ValidateResultMap | null, message: string }> {\r\n\r\n    const {\r\n        validateResult,\r\n        rules,\r\n        formData,\r\n        onStart,\r\n        onEnd,\r\n    } = config\r\n\r\n    !!onStart && onStart();\r\n    try {\r\n        // 对所有字段的校验结果\r\n        const validateResultList = (await Promise.all(rules.map(rule => validateField(validateResult, rules, formData, rule.field, FormTrigger.ALL)))).filter(Boolean) as ValidateResult[]\r\n\r\n        // 将所有字段的校验结果转化为对象，key为字段名，value为校验结果\r\n        const newValidateResultMap = validateResultList.length == 0 ? null : validateResultList.reduce((ret: ValidateResultMap, item: ValidateResult) => {\r\n            ret[item.rule.field] = item\r\n            return ret\r\n        }, {})\r\n\r\n        if (!newValidateResultMap) {\r\n            return null\r\n        }\r\n\r\n        // 默认提示信息为校验结果中的第一条校验结果提示\r\n        const firstValidateResult = validateResultList[0]!\r\n\r\n        return {\r\n            validateResult: newValidateResultMap,\r\n            message: `${firstValidateResult.rule.label} 校验不通过，${firstValidateResult.message}`,\r\n        }\r\n    } catch (e) {\r\n        return {\r\n            validateResult: null,\r\n            message: String(e),\r\n        }\r\n    } finally {\r\n        !!onEnd && onEnd();\r\n    }\r\n}\r\n\r\nexport interface AssociateFieldsType {\r\n    [k: string]: string | string[]\r\n}\r\n\r\nexport function validateAssociateFields(\r\n    {\r\n        changeFields,\r\n        associateFields,\r\n        next,\r\n    }: {\r\n        changeFields: string | string[],\r\n        associateFields: AssociateFieldsType | undefined,\r\n        next: (field: string) => void\r\n    }) {\r\n\r\n    if (!associateFields) {\r\n        return\r\n    }\r\n    toArray(changeFields).filter(Boolean).forEach(changeField => {\r\n        toArray(associateFields[changeField]).filter(Boolean).forEach(next)\r\n    })\r\n\r\n}\r\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-content.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-content.vue?vue&type=style&index=0&lang=scss&\"","import {getCurrentInstance} from \"@vue/composition-api\";\r\n\r\nexport function useWrapper<T extends Function>(key: string, compositionFunction: T): T {\r\n    // @ts-ignore\r\n    return (...args) => {\r\n        const ctx = getCurrentInstance() as any\r\n        ctx.plain_use = ctx.plain_use || {}\r\n        if (!ctx.plain_use[key]) {\r\n            ctx.plain_use[key] = compositionFunction(...args, ctx, key)\r\n        }\r\n        return ctx.plain_use[key]\r\n    }\r\n}"],"sourceRoot":""}