{"version":3,"sources":["webpack:///./portal/pages/normal/demo-test.vue?11f4","webpack:///portal/pages/normal/demo-test.vue","webpack:///./portal/pages/normal/demo-test.vue?106f","webpack:///./portal/pages/normal/demo-test.vue","webpack:///./portal/pages/normal/demo-test.vue?0588"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","title","staticStyle","display","ref","scrollbarSize","topScrollDuration","bottomScrollDuration","on","vertical-scroll-top","pl_scrollTop","vertical-scroll-bottom","pl_scrollBottom","_l","item","index","key","style","backgroundColor","p_chunkSize","margin-right","icon","_v","_s","vertical-align","p_data","staticRenderFns","demo_testvue_type_script_lang_js_","name","data","i","push","chunks","$plain","$utils","chunk","nowChunks","p_index","created","p_loadChunk","methods","_this$p_data","apply","Object","toConsumableArray","p_loadNextPage","_this$p_data2","loadChunk","length","unloadChunk","shift","splice","p_loadPrevPage","_this$p_data3","unshift","pop","_pl_scrollTop","asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","startResetScrollTop","stop","arguments","_pl_scrollBottom","_callee2","_context2","_this","p_count","setTimeout","$refs","scroll","wrapper","scrollTop","normal_demo_testvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_demo_test_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_demo_test_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-7b42ce8c.195e078f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"demo-test\"},[_c('im-demo-row',{attrs:{\"title\":\"测试虚拟化加载大量数据\"}},[_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('div',{staticClass:\"demo-test-box\"},[_c('im-scroll',{ref:\"scroll\",attrs:{\"scrollbarSize\":6,\"topScrollDuration\":3,\"bottomScrollDuration\":3},on:{\"vertical-scroll-top\":_vm.pl_scrollTop,\"vertical-scroll-bottom\":_vm.pl_scrollBottom}},_vm._l((_vm.p_data),function(item,index){return _c('div',{key:index,staticClass:\"demo-test-item\",style:({backgroundColor:(item%_vm.p_chunkSize)===0?'rgba(0,0,0,0.05)':'transparent'})},[_c('im-icon',{staticStyle:{\"margin-right\":\"12px\"},attrs:{\"icon\":item%2 === 0?'pad-check-square':'pad-check-square-fill'}}),_c('span',[_vm._v(_vm._s(item+1))])],1)}),0)],1),_c('span',{staticStyle:{\"vertical-align\":\"top\"}},[_vm._v(\"\\n            \"+_vm._s(_vm.p_data)+\"\\n        \")])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"demo-test\">\r\n        <im-demo-row title=\"测试虚拟化加载大量数据\">\r\n            <div style=\"display: flex\">\r\n                <div class=\"demo-test-box\">\r\n                    <im-scroll @vertical-scroll-top=\"pl_scrollTop\"\r\n                               @vertical-scroll-bottom=\"pl_scrollBottom\"\r\n                               ref=\"scroll\"\r\n                               :scrollbarSize=\"6\"\r\n                               :topScrollDuration=\"3\"\r\n                               :bottomScrollDuration=\"3\"\r\n                    >\r\n                        <div v-for=\"(item,index) in p_data\" :key=\"index\" class=\"demo-test-item\" :style=\"{backgroundColor:(item%p_chunkSize)===0?'rgba(0,0,0,0.05)':'transparent'}\">\r\n                            <im-icon :icon=\"item%2 === 0?'pad-check-square':'pad-check-square-fill'\" style=\"margin-right: 12px\"/>\r\n                            <span>{{item+1}}</span>\r\n                        </div>\r\n                    </im-scroll>\r\n                </div>\r\n                <span style=\"vertical-align: top\">\r\n                {{p_data}}\r\n            </span>\r\n            </div>\r\n        </im-demo-row>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\n    export default {\r\n        name: \"demo-test\",\r\n        data() {\r\n            const data = []\r\n            for (let i = 0; i < 100000; i++) {\r\n                data.push(i)\r\n            }\r\n\r\n            const p_chunkSize = 20\r\n            const chunks = this.$plain.$utils.chunk(data, p_chunkSize)\r\n\r\n            return {\r\n                data,\r\n                chunks,\r\n                nowChunks: [],\r\n\r\n                p_data: [],\r\n                p_index: 0,\r\n                p_chunkSize,\r\n            }\r\n        },\r\n        created() {\r\n            this.p_index = 0\r\n            this.p_data = []\r\n            this.p_loadChunk(0)\r\n            this.p_loadChunk(1)\r\n        },\r\n        methods: {\r\n\r\n            p_loadChunk(index) {\r\n                const chunk = this.chunks[index]\r\n                this.p_data.push(...chunk)\r\n                this.nowChunks.push(chunk)\r\n            },\r\n            p_loadNextPage() {\r\n                if (!!this.chunks[this.p_index + 2]) {\r\n                    /*load chunk*/\r\n                    const loadChunk = this.chunks[this.p_index + 2]\r\n                    this.p_data.push(...loadChunk)\r\n                    this.nowChunks.push(loadChunk)\r\n\r\n                    this.p_index++\r\n\r\n                    if (this.nowChunks.length > 3) {\r\n                        /*unload chunk*/\r\n                        const unloadChunk = this.nowChunks.shift()\r\n                        this.p_data.splice(0, unloadChunk.length)\r\n                    }\r\n                    return true\r\n                }\r\n            },\r\n            p_loadPrevPage() {\r\n                if (!!this.chunks[this.p_index - 2]) {\r\n\r\n                    const loadChunk = this.chunks[this.p_index - 2]\r\n                    this.p_data.unshift(...loadChunk)\r\n                    this.nowChunks.unshift(loadChunk)\r\n\r\n                    this.p_index--\r\n\r\n                    if (this.nowChunks.length > 3) {\r\n                        const unloadChunk = this.nowChunks.pop()\r\n                        this.p_data.splice(this.p_data.length - unloadChunk.length, unloadChunk.length)\r\n                    }\r\n                    return true\r\n                }\r\n            },\r\n\r\n            async pl_scrollTop() {\r\n                if (this.p_index > 0) {\r\n                    this.p_loadPrevPage() && this.startResetScrollTop()\r\n                }\r\n            },\r\n            async pl_scrollBottom() {\r\n                if ((this.p_index + 1) * this.p_chunkSize <= this.data.length) {\r\n                    this.p_loadNextPage() && this.startResetScrollTop()\r\n                }\r\n            },\r\n            startResetScrollTop() {\r\n                if (!this.p_count) this.p_count = 0\r\n                this.p_count++\r\n                setTimeout(() => {\r\n                    this.$refs.scroll.$refs.wrapper.scrollTop = this.p_chunkSize * 30\r\n                    if (this.p_count + 1 > 10) {\r\n                        this.p_count = 0\r\n                        return\r\n                    }\r\n                    this.startResetScrollTop()\r\n                }, 25)\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    .demo-test-box {\r\n        height: 600px;\r\n        width: 300px;\r\n        border: solid 1px #e4e7ed;\r\n        border-radius: 4px;\r\n        display: inline-block;\r\n\r\n        .demo-test-item {\r\n            height: 30px;\r\n            width: 100%;\r\n            padding: 0 12px;\r\n            display: flex;\r\n            align-items: center;\r\n        }\r\n    }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./demo-test.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./demo-test.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./demo-test.vue?vue&type=template&id=635fe87e&\"\nimport script from \"./demo-test.vue?vue&type=script&lang=js&\"\nexport * from \"./demo-test.vue?vue&type=script&lang=js&\"\nimport style0 from \"./demo-test.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./demo-test.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./demo-test.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}