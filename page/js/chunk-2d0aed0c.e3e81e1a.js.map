{"version":3,"sources":["webpack:///./portal/pages/normal/demo-upload.vue?afe9","webpack:///portal/pages/normal/demo-upload.vue","webpack:///./portal/pages/normal/demo-upload.vue?a32e","webpack:///./portal/pages/normal/demo-upload.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","title","_b","ref","autoUpload","multiplePickFile","maxSize","onSuccessUploadFile","onErrorUploadFile","on","clickItem","item","selectFile","model","value","callback","$$v","fileList","expression","uploadProps","icon","label","width","click","testUploadItem","_v","_s","file","name","testUploadAll","testUploadSeparate","staticRenderFns","demo_uploadvue_type_script_lang_js_","data","multipleUploadProps","action","multipleUploadFile","separateUploadProps","id","methods","_testUploadItem","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","$message","show","abrupt","status","$refs","upload","uploadItem","stop","apply","arguments","_testUploadAll","_callee2","uploadSize","_context2","$plain","nextTick","type","concat","_testUploadSeparate","_callee3","_context3","console","log","code","$notice","ret","normal_demo_uploadvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d0aed0c.e3e81e1a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"demo-upload\"},[_c('im-demo-row',{attrs:{\"title\":\"基本用法\"}},[_c('im-upload',_vm._b({ref:\"upload\",attrs:{\"autoUpload\":_vm.autoUpload,\"multiplePickFile\":\"\",\"maxSize\":10,\"onSuccessUploadFile\":_vm.onSuccessUploadFile,\"onErrorUploadFile\":_vm.onErrorUploadFile},on:{\"clickItem\":function (ref){\n\tvar item = ref.item;\n\n\treturn _vm.selectFile = item;\n}},model:{value:(_vm.fileList),callback:function ($$v) {_vm.fileList=$$v},expression:\"fileList\"}},'im-upload',_vm.uploadProps,false),[_c('im-button',{attrs:{\"icon\":\"pad-file\",\"label\":\"选择文件\"}})],1),_c('im-demo-row-item',{attrs:{\"title\":\"是否自动上传\",\"width\":\"200px\"}},[_c('im-toggle',{model:{value:(_vm.autoUpload),callback:function ($$v) {_vm.autoUpload=$$v},expression:\"autoUpload\"}})],1),_c('im-demo-row-item',{attrs:{\"title\":\"单独上传某个文件\",\"width\":\"200px\"}},[_c('im-button',{attrs:{\"label\":\"上传\"},on:{\"click\":_vm.testUploadItem}}),_vm._v(\"\\n            \"+_vm._s(!!_vm.selectFile?_vm.selectFile.file.name:'未选择任何文件')+\"\\n        \")],1),_c('im-demo-row-item',{attrs:{\"title\":\"一次性上传文件\",\"width\":\"200px\"}},[_c('im-button',{attrs:{\"label\":\"上传\"},on:{\"click\":_vm.testUploadAll}})],1),_c('im-demo-row-item',{attrs:{\"title\":\"分开上传所有文件\",\"width\":\"200px\"}},[_c('im-button',{attrs:{\"label\":\"上传\"},on:{\"click\":_vm.testUploadSeparate}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"demo-upload\">\r\n        <im-demo-row title=\"基本用法\">\r\n            <im-upload\r\n                    ref=\"upload\"\r\n                    v-model=\"fileList\"\r\n                    v-bind=\"uploadProps\"\r\n                    :autoUpload=\"autoUpload\"\r\n                    multiplePickFile\r\n                    :maxSize=\"10\"\r\n                    :onSuccessUploadFile=\"onSuccessUploadFile\"\r\n                    :onErrorUploadFile=\"onErrorUploadFile\"\r\n                    @clickItem=\"({item})=>selectFile = item\">\r\n                <im-button icon=\"pad-file\" label=\"选择文件\"/>\r\n            </im-upload>\r\n            <im-demo-row-item title=\"是否自动上传\" width=\"200px\">\r\n                <im-toggle v-model=\"autoUpload\"/>\r\n            </im-demo-row-item>\r\n            <im-demo-row-item title=\"单独上传某个文件\" width=\"200px\">\r\n                <im-button label=\"上传\" @click=\"testUploadItem\"/>\r\n                {{!!selectFile?selectFile.file.name:'未选择任何文件'}}\r\n            </im-demo-row-item>\r\n            <im-demo-row-item title=\"一次性上传文件\" width=\"200px\">\r\n                <im-button label=\"上传\" @click=\"testUploadAll\"/>\r\n            </im-demo-row-item>\r\n            <im-demo-row-item title=\"分开上传所有文件\" width=\"200px\">\r\n                <im-button label=\"上传\" @click=\"testUploadSeparate\"/>\r\n            </im-demo-row-item>\r\n        </im-demo-row>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"demo-upload\",\r\n        data() {\r\n            const multipleUploadProps = {\r\n                action: 'http://localhost:8989/upload/uploadFiles',\r\n                multipleUploadFile: true,\r\n            }\r\n            const separateUploadProps = {\r\n                action: 'http://localhost:8989/upload/uploadFiles',\r\n                multipleUploadFile: false,\r\n            }\r\n            return {\r\n                selectFile: null,\r\n                fileList: [\r\n                    {id: '123', name: 'demo1.txt'},\r\n                    {id: '456', name: 'demo2.txt'},\r\n                ],\r\n                multipleUploadProps,\r\n                separateUploadProps,\r\n\r\n                uploadProps: separateUploadProps,\r\n                autoUpload: false,\r\n            }\r\n        },\r\n        methods: {\r\n            async testUploadItem() {\r\n                if (!this.selectFile) {\r\n                    this.$message.show('请选择要上传的文件')\r\n                    return\r\n                }\r\n                if (this.selectFile.status === 'success') {\r\n                    this.$message.show('请选择未上传的文件')\r\n                    return\r\n                }\r\n                this.$refs.upload.uploadItem(this.selectFile)\r\n            },\r\n            async testUploadAll() {\r\n                this.uploadProps = this.multipleUploadProps\r\n                await this.$plain.nextTick()\r\n                const uploadSize = this.$refs.upload.upload()\r\n                if (uploadSize === 0) this.$message.show('已经上传完毕', {type: 'success'})\r\n                else\r\n                    this.$message.show(`开始统一上传${uploadSize}个文件。`)\r\n\r\n            },\r\n            async testUploadSeparate() {\r\n                this.uploadProps = this.separateUploadProps\r\n                await this.$plain.nextTick()\r\n                const uploadSize = this.$refs.upload.upload()\r\n                if (uploadSize === 0) this.$message.show('已经上传完毕', {type: 'success'})\r\n                else\r\n                    this.$message.show(`开始分开上传${uploadSize}个文件。`)\r\n            },\r\n            onSuccessUploadFile(file, data) {\r\n                console.log({file, data})\r\n                if (data.code !== 0) {\r\n                    file.status = 'error'\r\n                    this.$notice.show(`上传失败，${data.ret}`, {type: 'error'})\r\n                }\r\n            },\r\n            onErrorUploadFile(file, data) {\r\n                console.log({file, data})\r\n                this.$notice.show(`文件上传失败：${file.file.name}`, {type: 'error'})\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./demo-upload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./demo-upload.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./demo-upload.vue?vue&type=template&id=c250c598&\"\nimport script from \"./demo-upload.vue?vue&type=script&lang=js&\"\nexport * from \"./demo-upload.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}